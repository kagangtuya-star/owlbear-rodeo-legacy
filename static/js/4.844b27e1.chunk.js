(this["webpackJsonpowlbear-rodeo"]=this["webpackJsonpowlbear-rodeo"]||[]).push([[4],{1036:function(e,t,i){(function(t,n,r){var o=function(){var e="undefined"!==typeof document&&document.currentScript?document.currentScript.src:void 0;return function(o){var s,a;o=o||{},a||(a="undefined"!==typeof o?o:{});var c,l={};for(c in a)a.hasOwnProperty(c)&&(l[c]=a[c]);var _,u,f,d;_="object"===typeof window,u="function"===typeof importScripts,f="object"===typeof t&&"object"===typeof t.versions&&"string"===typeof t.versions.node&&!_&&!u,d=!_&&!f&&!u;var h,p,b,m,A,g="";f?(g=n+"/",h=function(e,t){var n=ce(e);return n||(m||(m=i(1037)),A||(A=i(249)),e=A.normalize(e),n=m.readFileSync(e)),t?n:n.toString()},b=function(e){return(e=h(e,!0)).buffer||(e=new Uint8Array(e)),S(e.buffer),e},1<t.argv.length&&t.argv[1].replace(/\\/g,"/"),t.argv.slice(2),t.on("uncaughtException",function(e){throw e}),t.on("unhandledRejection",VS),a.inspect=function(){return"[Emscripten Module object]"}):d?("undefined"!=typeof read&&(h=function(e){var t=ce(e);return t?se(t):read(e)}),b=function(e){var t;return(t=ce(e))?t:"function"===typeof readbuffer?new Uint8Array(readbuffer(e)):(S("object"===typeof(t=read(e,"binary"))),t)},"undefined"!==typeof print&&("undefined"===typeof console&&(console={}),console.log=print,console.warn=console.error="undefined"!==typeof printErr?printErr:print)):(_||u)&&(u?g=self.location.href:document.currentScript&&(g=document.currentScript.src),e&&(g=e),g=0!==g.indexOf("blob:")?g.substr(0,g.lastIndexOf("/")+1):"",h=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.send(null),t.responseText}catch(i){if(e=ce(e))return se(e);throw i}},u&&(b=function(e){try{var t=new XMLHttpRequest;return t.open("GET",e,!1),t.responseType="arraybuffer",t.send(null),new Uint8Array(t.response)}catch(i){if(e=ce(e))return e;throw i}}),p=function(e){var t=W,i=BS,n=new XMLHttpRequest;n.open("GET",t,!0),n.responseType="arraybuffer",n.onload=function(){if(200==n.status||0==n.status&&n.response)i(n.response);else{var r=ce(t);r?i(r.buffer):e()}},n.onerror=e,n.send(null)});var y=a.print||console.log.bind(console),v=a.printErr||console.warn.bind(console);for(c in l)l.hasOwnProperty(c)&&(a[c]=l[c]);l=null;var C=0,E=!1;function S(e,t){e||VS("Assertion failed: "+t)}var T="undefined"!==typeof TextDecoder?new TextDecoder("utf8"):void 0;function R(e,t,i){var n=t+i;for(i=t;e[i]&&!(i>=n);)++i;if(16<i-t&&e.subarray&&T)return T.decode(e.subarray(t,i));for(n="";t<i;){var r=e[t++];if(128&r){var o=63&e[t++];if(192==(224&r))n+=String.fromCharCode((31&r)<<6|o);else{var s=63&e[t++];65536>(r=224==(240&r)?(15&r)<<12|o<<6|s:(7&r)<<18|o<<12|s<<6|63&e[t++])?n+=String.fromCharCode(r):(r-=65536,n+=String.fromCharCode(55296|r>>10,56320|1023&r))}}else n+=String.fromCharCode(r)}return n}"undefined"!==typeof TextDecoder&&new TextDecoder("utf-16le");var M,O,I,x,P,D=a.TOTAL_MEMORY||67108864;D=(M=a.buffer?a.buffer:new ArrayBuffer(D)).byteLength;var w=M;function L(e){for(;0<e.length;){var t=e.shift();if("function"==typeof t)t();else{var i=t.Ca;"number"===typeof i?void 0===t.ka?a.dynCall_v(i):a.dynCall_vi(i,t.ka):i(void 0===t.ka?null:t.ka)}}}M=w,a.HEAP8=O=new Int8Array(w),a.HEAP16=new Int16Array(w),a.HEAP32=x=new Int32Array(w),a.HEAPU8=I=new Uint8Array(w),a.HEAPU16=new Uint16Array(w),a.HEAPU32=new Uint32Array(w),a.HEAPF32=P=new Float32Array(w),a.HEAPF64=new Float64Array(w),x[6940]=5270672;var F=[],N=[],B=[],k=[],U=!1;function H(){var e=a.preRun.shift();F.unshift(e)}Math.imul&&-5===Math.imul(4294967295,5)||(Math.imul=function(e,t){var i=65535&e,n=65535&t;return i*n+((e>>>16)*n+i*(t>>>16)<<16)|0}),Math.clz32||(Math.clz32=function(e){var t=32,i=e>>16;return i&&(t-=16,e=i),(i=e>>8)&&(t-=8,e=i),(i=e>>4)&&(t-=4,e=i),(i=e>>2)&&(t-=2,e=i),e>>1?t-2:t-e}),Math.trunc||(Math.trunc=function(e){return 0>e?Math.ceil(e):Math.floor(e)});var j=0,V=null,G=null;a.preloadedImages={},a.preloadedAudios={};var W=null,X="data:application/octet-stream;base64,",z=[function(e,t,i,n,r,o,s,c){if(!(e=a.getCache(a.ConcreteContactResultCallback)[e]).hasOwnProperty("addSingleResult"))throw"a JSImplementation must implement all functions, you forgot ConcreteContactResultCallback::addSingleResult.";return e.addSingleResult(t,i,n,r,o,s,c)},function(e,t,i,n){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("drawLine"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::drawLine.";e.drawLine(t,i,n)},function(e,t,i,n,r,o){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("drawContactPoint"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::drawContactPoint.";e.drawContactPoint(t,i,n,r,o)},function(e,t){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("reportErrorWarning"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::reportErrorWarning.";e.reportErrorWarning(t)},function(e,t,i){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("draw3dText"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::draw3dText.";e.draw3dText(t,i)},function(e,t){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("setDebugMode"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::setDebugMode.";e.setDebugMode(t)},function(e){if(!(e=a.getCache(a.DebugDrawer)[e]).hasOwnProperty("getDebugMode"))throw"a JSImplementation must implement all functions, you forgot DebugDrawer::getDebugMode.";return e.getDebugMode()}];function Y(e){return e.replace(/\b__Z[\w\d_]+/g,function(e){return e===e?e:e+" ["+e+"]"})}function Q(){var e=Error();if(!e.stack){try{throw Error(0)}catch(t){e=t}if(!e.stack)return"(no stack trace available)"}return e.stack.toString()}N.push({Ca:function(){_e()}}),W="data:application/octet-stream;base64,AAAAAAAAAAARAAoAERERAAAAAAUAAAAAAAAJAAAAAAsAAAAAAAAAABEADwoREREDCgcAARMJCwsAAAkGCwAACwAGEQAAABEREQAAAAAAAAAAAAAAAAAAAAALAAAAAAAAAAARAAoKERERAAoAAAIACQsAAAAJAAsAAAsAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAADAAAAAAAAAAAAAAADAAAAAAMAAAAAAkMAAAAAAAMAAAMAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAA4AAAAAAAAAAAAAAA0AAAAEDQAAAAAJDgAAAAAADgAADgAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAAAAAAAAAAAAAAAPAAAAAA8AAAAACRAAAAAAABAAABAAABIAAAASEhIAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEgAAABISEgAAAAAAAAkAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAsAAAAAAAAAAAAAAAoAAAAACgAAAAAJCwAAAAAACwAACwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAAAAAAAAAMAAAAAAwAAAAACQwAAAAAAAwAAAwAADAxMjM0NTY3ODlBQkNERUYEKgAApioAACwqAAB0KgAA8AEAAAAAAAAEKgAAACsAACwqAADRKgAACAIAAAAAAAAEKgAAKCsAAAQqAABUKwAALCoAAD0rAAAoAgAAAAAAAAQqAAB6KwAALCoAAGQrAABAAgAAAAAAACwqAACWKwAACAIAAAAAAAAEKgAA5SsAACwqAADFKwAAaAIAAAAAAAAEKgAARy0AACwqAAA5LQAAgAIAAAAAAAAsKgAAyDIAAKgCAAAAAAAABCoAAOIyAAAsKgAA9TIAACAGAAAAAAAALCoAACEzAADQAgAAAAAAAAQqAABcMwAALCoAAH0zAADQAgAAAAAAACwqAACxMwAA0AIAAAAAAAAsKgAA3zMAANACAAAAAAAALCoAAMc0AADQBQAAAAAAACwqAADUNAAAKAMAAAAAAAAEKgAA9DQAAAQqAAAHNQAALCoAABw1AAAwAwAAAAAAACwqAAA7NQAAcAoAAAAAAAAsKgAAzDUAAHgDAAAAAAAALCoAAK41AADgCQAAAAAAACwqAADuNQAAKAMAAAAAAAAsKgAADzYAACgDAAAAAAAALCoAADI2AAAoAwAAAAAAACwqAABUNgAAeAMAAAAAAAAsKgAAdjYAAMgDAAAAAAAABCoAAJY2AAAsKgAAojcAAMgDAAAAAAAALCoAAOU2AAAQCgAAAAAAACwqAAC2NgAAqAkAAAAAAAAEKgAAyDYAACwqAACFNwAAEAoAAAAAAAAsKgAAVjgAAHAEAAAAAAAALCoAAAc4AAA4BAAAAAAAACwqAAAhOAAASAQAAAAAAAAEKgAAOzgAACwqAABxOAAAyAMAAAAAAAAsKgAApTgAANAFAAAAAAAALCoAAFU6AACQBAAAAAAAACwqAAA3OQAA+AEAAAAAAAAsKgAAbzoAAEgHAAAAAAAALCoAAIE6AACwBAAAAAAAAAQqAACfOgAALCoAAM06AAD4BAAAAAAAACwqAAD9OgAA+AQAAAAAAAAsKgAAOTsAAMgEAAAAAAAALCoAAHo7AAD4BAAAAAAAAFQqAACvOwAAAAAAAAEAAAAQBQAAAgQAAAQqAADDOwAALCoAAOo7AAD4BAAAAAAAACwqAAAZPAAA+AQAAAAAAAAsKgAATDwAAPgEAAAAAAAALCoAAKo8AABYBQAAAAAAAAQqAADQPAAALCoAAOU8AABwBQAAAAAAAAQqAAD4PAAALCoAAAw9AAAgAgAAAAAAACwqAABWPQAAqAUAAAAAAAAsKgAAKD0AAPgBAAAAAAAALCoAAHc9AABwBQAAAAAAACwqAACYPQAAyAUAAAAAAAAEKgAAsT0AAAQqAADbPQAALCoAAO89AADQBQAAAAAAACwqAAD/PQAA2AUAAAAAAAAsKgAASD4AAMgLAAAAAAAALCoAABo+AAAYBgAAAAAAAAQqAAA0PgAALCoAAGA+AAAwBgAAAAAAAAQqAACCPgAALCoAAJ0+AADQAgAAAAAAACwqAADNPgAA0AIAAAAAAAAsKgAA+D4AANACAAAAAAAALCoAACs/AADQAgAAAAAAACwqAABcPwAA0AIAAAAAAAAsKgAAfT8AANACAAAAAAAALCoAALE/AADQAgAAAAAAACwqAADmPwAA0AIAAAAAAAAsKgAAE0AAANACAAAAAAAALCoAAExAAADQAgAAAAAAAAQqAAB+QAAALCoAAMVAAADIAwAAAAAAACwqAACgQQAAeAwAAAAAAAAsKgAA50AAABAKAAAAAAAALCoAAIVBAAAQCgAAAAAAACwqAADEQQAAeAwAAAAAAAAsKgAA4UEAAEAHAAAAAAAABCoAAPRBAAAEKgAAm0UAACwqAACLRAAAOAQAAAAAAAAsKgAAYEIAAAgCAAAAAAAALCoAAOVCAAAoAwAAAAAAACwqAABjQwAA2AsAAAAAAAAsKgAA+EMAANgLAAAAAAAAVCoAAKFEAAAAAAAAAgAAABAKAAACAAAAGAoAAAIEAAAsKgAAwkUAAPABAAAAAAAALCoAAF9GAADoCwAAAAAAACwqAAAQRwAA6AsAAAAAAAAsKgAAz0cAADgEAAAAAAAALCoAAAFIAABIBAAAAAAAACwqAADnRwAAMAcAAAAAAAAsKgAAG0gAAHgMAAAAAAAALCoAAIdJAADQAgAAAAAAACwqAABtSQAAeAwAAAAAAAAsKgAAQEgAADAHAAAAAAAALCoAAFtIAABABwAAAAAAACwqAADoSAAAQAcAAAAAAAAsKgAAyEkAAHgMAAAAAAAALCoAAK9JAAAoAwAAAAAAACwqAAAISgAAeAwAAAAAAAAsKgAA50kAACgDAAAAAAAALCoAAGVKAADICQAAAAAAACwqAACMSgAA4AkAAAAAAAAsKgAAoEoAANAIAAAAAAAALCoAALVKAADQCAAAAAAAACwqAAD7SgAA8AkAAAAAAAAsKgAAF0sAAOAJAAAAAAAALCoAANVLAABoCQAAAAAAACwqAAAnSwAAQAkAAAAAAAAEKgAAlUsAACwqAADuSwAAQAkAAAAAAAAsKgAAVkwAAEAJAAAAAAAALCoAAFJNAABwCgAAAAAAACwqAADHTAAAEAoAAAAAAAAsKgAA30wAABgKAAAAAAAALCoAAItNAABwCgAAAAAAACwqAACgTQAA4AkAAAAAAAAsKgAAuk0AAKgJAAAAAAAABCoAAPRNAAAsKgAAB04AAMgJAAAAAAAALCoAABdOAADQCQAAAAAAACwqAAAvTgAA4AkAAAAAAAAsKgAAb04AALgJAAAAAAAABCoAAINOAAAEKgAAmE4AACwqAADaTgAA4AkAAAAAAAAsKgAA9E4AACAKAAAAAAAALCoAAA9PAAAgCgAAAAAAACwqAABMTwAAuAkAAAAAAAAsKgAAIU8AABgKAAAAAAAALCoAAGhPAADICQAAAAAAACwqAAB9TwAAqAkAAAAAAAAsKgAAik8AANALAAAAAAAALCoAAJtPAAAYCgAAAAAAACwqAAD2TwAAGAoAAAAAAAAsKgAAZlAAAHAKAAAAAAAALCoAAKBQAADgCQAAAAAAACwqAAC8UAAA0AoAAAAAAAAsKgAA2VAAANAKAAAAAAAALCoAAOxQAADYDAAAAAAAACwqAAAvUQAAIAsAAAAAAAAsKgAA/VAAADALAAAAAAAABCoAABdRAAAsKgAAPlEAAEgLAAAAAAAALCoAAFBRAABAAgAAAAAAACwqAABYUgAASAsAAAAAAAAsKgAAaVEAABgGAAAAAAAALCoAANdRAAAYBgAAAAAAACwqAAC5UgAAMAsAAAAAAAAsKgAAd1IAACgDAAAAAAAALCoAAIxSAAAoAwAAAAAAACwqAACjUgAAKAMAAAAAAAAEKgAAzFIAAAQqAAA2UwAALCoAAEdTAAAQCgAAAAAAACwqAABjUwAAEAoAAAAAAAAsKgAALVQAABgMAAAAAAAALCoAAIJTAABABwAAAAAAAAQqAABRVAAALCoAAHJUAAAYDAAAAAAAACwqAACmVAAAyAUAAAAAAAAsKgAAk1QAAEAHAAAAAAAALCoAALhUAADIBQAAAAAAACwqAADWVAAAcAwAAAAAAAAEKgAA6lQAACwqAAARVQAAyAMAAAAAAAAsKgAAMlUAAMgDAAAAAAAALCoAAEVVAAB4DAAAAAAAACwqAABoVQAAcAwAAAAAAAAsKgAAe1UAAHAMAAAAAAAABCoAAJRVAAAEKgAArlUAACwqAADDVQAA6AwAAAAAAAAEKgAAc1YAAAUAAAAAAAAAAAAAAGoAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACMAAAAXAAAArWsAAAAAAAAAAAAAAAAAAAIAAAAAAAAAAAAAAAAAAP//////AAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAACwqAAAlVwAAkA0AAAAAAAAsKgAA0lYAAKANAAAAAAAABCoAAPNWAAAsKgAAAFcAAIANAAAAAAAALCoAAHtXAACQDQAAAAAAACwqAACdVwAAuA0AAAAAAAAsKgAAwVcAAIANAAAAAAAAAAAAAPgBAAABAAAAAgAAAAEAAAABAAAAAAAAAPABAAADAAAABAAAAAEAAAABAAAAAAAAABACAAAFAAAABgAAAAIAAAACAAAAAAAAAAgCAAAHAAAACAAAAAIAAAABAAAAAAAAACACAAAJAAAACgAAAAEAAAAAAAAAMAIAAAsAAAAMAAAAAQAAAAIAAAAAAAAAKAIAAA0AAAAOAAAAAQAAAAEAAAAAAAAASAIAAA8AAAAQAAAAAQAAAAEAAAABAAAAAAAAAEACAAARAAAAEgAAAAEAAAABAAAAAQAAAAAAAABYAgAAEwAAABQAAAACAAAAAwAAAAAAAABwAgAAFQAAABYAAAADAAAAAQAAAAAAAABoAgAAFwAAABgAAAADAAAAAQAAAAAAAACIAgAAGQAAABoAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAwAAAAIAAAAEAAAAAQAAAAIAAAABAAAAAQAAAAEAAAADAAAAAgAAAAEAAAACAAAAAwAAAAEAAAAAAAAAgAIAABsAAAAcAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAEAAAACAAAAAQAAAAEAAAABAAAAAwAAAAIAAAABAAAAAgAAAAMAAAABAAAAAAAAAJgCAAAdAAAAHgAAAAIAAAADAAAAAwAAAAUAAAABAAAAAgAAAB8AAAAEAAAABQAAAAYAAAAEAAAABwAAAAUAAAAGAAAAAAAAALACAAAgAAAAIQAAAAYAAAAHAAAAAgAAAAgAAAAAAAAA+AIAACIAAAAjAAAAAgAAAAAAAADoAgAAIgAAACQAAAADAAAAAAAAANgCAAAiAAAAJQAAAAQAAAAAAAAAwAIAACIAAAAmAAAABQAAAAAAAAAIAwAABAAAACcAAAAoAAAACAAAAAkAAAADAAAACQAAAAcAAAAAAAAAGAMAACkAAAAqAAAACAAAAAoAAAACAAAABQAAAAYAAAAAAAAAOAMAACsAAAAsAAAAAQAAAAEAAAADAAAACgAAAAAAAABIAwAALQAAAC4AAAAEAAAACQAAAAEAAAABAAAACwAAAAsAAAACAAAADAAAAAwAAAAEAAAAAgAAAA0AAAAEAAAADQAAAAUAAAAAAAAAiAMAACkAAAAvAAAACAAAAA4AAAACAAAABQAAAAYAAAAAAAAAWAMAACkAAAAwAAAACAAAAA8AAAACAAAABQAAAAYAAAAAAAAAaAMAADEAAAAyAAAABgAAAAkAAAABAAAAAQAAABAAAAAOAAAAAwAAAA8AAAAMAAAABQAAAAMAAAAQAAAABQAAAA0AAAAKAAAACwAAAAMAAAAHAAAACAAAABEAAAAMAAAAEgAAAAAAAACoAwAAKQAAADMAAAANAAAAEQAAAAIAAAAFAAAABgAAAAAAAACYAwAAKQAAADQAAAAOAAAAEQAAAAIAAAAFAAAABgAAAAAAAAC4AwAANQAAADYAAAAEAAAAAQAAABIAAAAAAAAA0AMAADcAAAA4AAAABQAAAAIAAAATAAAAAAAAAOADAAA5AAAAOgAAAAkAAAAAAAAAAAQAAAYAAAAUAAAADwAAADsAAAA8AAAAAAAAAPADAAA9AAAAPgAAAAoAAAAJAAAAAQAAAAEAAAAQAAAADgAAAAQAAAATAAAADAAAAAcAAAAEAAAAEAAAAAUAAAANAAAAEAAAABEAAAADAAAACwAAAAgAAAAUAAAAEgAAAAcAAAAVAAAAFgAAAAwAAAATAAAAFwAAAA0AAAABAAAADgAAAAAAAAAIBAAAPwAAAEAAAAAPAAAAAAAAABgEAABBAAAAQgAAAEMAAABEAAAAFQAAABgAAABFAAAAEAAAABEAAAASAAAAFgAAAEYAAAAXAAAAAQAAABQAAAAYAAAAGQAAABoAAAAbAAAAHAAAAEcAAAAdAAAAEwAAAB4AAAAfAAAAGQAAABoAAAAIAAAACQAAABsAAABIAAAAIAAAACEAAAAiAAAAIwAAAAgAAAAJAAAASQAAACQAAAAKAAAACwAAAAwAAABKAAAAJQAAAA0AAAAAAAAAKAQAAEsAAABMAAAACgAAAAAAAABQBAAATQAAAE4AAAAGAAAAAwAAACYAAAAAAAAAYAQAAAsAAABPAAAAUAAAACcAAAAcAAAABgAAACgAAAAAAAAAcAQAAFEAAABSAAAAQwAAAEQAAAAVAAAAGAAAAFMAAAAQAAAAFAAAABIAAAApAAAARgAAACoAAAABAAAAFAAAABgAAAAZAAAAGgAAABsAAAAcAAAARwAAAB0AAAATAAAAHgAAAB8AAAAZAAAAGgAAAAgAAAAJAAAAHQAAAEgAAAAgAAAAIQAAACIAAAAjAAAADgAAAAkAAABJAAAAJAAAAAoAAAAPAAAADAAAAEoAAAAlAAAADQAAAAAAAACABAAAAwAAAFQAAAAMAAAABAAAAAAAAACgBAAAVQAAAFYAAAABAAAAAAAAALgEAABXAAAAWAAAAFkAAAABAAAAKwAAACwAAAABAAAAAgAAAAUAAAAeAAAABwAAAAAAAADIBAAAWgAAAFsAAABcAAAAAQAAAC0AAAAuAAAAAQAAAAMAAAAGAAAAHwAAAAgAAABdAAAAAAAAANgEAABaAAAAXgAAAFwAAAABAAAALQAAAC8AAAABAAAAAwAAAAYAAAAgAAAACQAAAF0AAAAVAAAAAAAAAOgEAABaAAAAXwAAAGAAAAABAAAAMAAAADEAAAABAAAABAAAAAcAAAAhAAAACgAAAAAAAAD4BAAAWgAAAGEAAABZAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAHgAAAAcAAAAAAAAAGAUAAFoAAABiAAAAWQAAAAEAAAAyAAAAMwAAAAEAAAAFAAAACAAAACIAAAALAAAAAAAAACgFAABaAAAAYwAAAGQAAAABAAAANAAAADUAAAACAAAABgAAAAkAAAAjAAAADAAAABYAAAAAAAAAOAUAAFoAAABlAAAAZgAAAAEAAAA2AAAANwAAAAEAAAAHAAAACgAAACQAAAANAAAAAAAAAEgFAABnAAAAaAAAABcAAAABAAAAGAAAAGkAAAAlAAAAFQAAAAEAAAABAAAAAgAAAAEAAAACAAAAAAAAAGAFAABqAAAAawAAAAMAAAA4AAAAEAAAABEAAAAWAAAAAAAAAHgFAAAJAAAAbAAAAAYAAAAAAAAAiAUAAG0AAABuAAAABAAAADkAAAA6AAAABQAAADsAAAA8AAAAPQAAAAYAAAAmAAAAbwAAACcAAAA+AAAAAAAAAJgFAAADAAAAcAAAAAEAAAALAAAAAAAAALgFAABxAAAAcgAAAAEAAAABAAAAAgAAAAAAAAACAAAAAAAAAAEAAAAAAAAA0AUAAAQAAABzAAAAdAAAACcAAAAoAAAADgAAAAkAAAAAAAAA2AUAAAQAAAB1AAAAdgAAACcAAAAoAAAADgAAAAkAAAAZAAAAFwAAAAAAAADoBQAABAAAAHcAAAB4AAAAJwAAACgAAAAOAAAACQAAABoAAAAYAAAAAAAAAPgFAAB5AAAAegAAAAcAAAAPAAAAPwAAAEAAAAAQAAAAEQAAABkAAAApAAAADQAAACoAAAArAAAALAAAAA4AAABBAAAAAAAAAAgGAAB7AAAAfAAAAA8AAAAAAAAAIAYAAH0AAAB+AAAABgAAAAcAAAASAAAACAAAAAAAAADIBgAAIgAAAH8AAAAIAAAAAAAAALgGAAAiAAAAgAAAAAkAAAAAAAAAqAYAACIAAACBAAAACgAAAAAAAACYBgAAIgAAAIIAAAALAAAAAAAAAIgGAAAiAAAAgwAAAAwAAAAAAAAAeAYAACIAAACEAAAADQAAAAAAAABoBgAAIgAAAIUAAAAOAAAAAAAAAFgGAAAiAAAAhgAAAA8AAAAAAAAASAYAACIAAACHAAAAEAAAAAAAAAA4BgAAIgAAAIgAAAARAAAAAAAAANgGAACJAAAAigAAABsAAABCAAAAAAAAAOAGAACLAAAAjAAAAAcAAAAEAAAAQwAAAAAAAADwBgAAjQAAAI4AAAAIAAAABQAAAEQAAAAAAAAAAAcAADkAAACPAAAAGgAAAAAAAAAQBwAAkAAAAJEAAAAbAAAAAAAAACAHAACSAAAAkwAAAAkAAAAGAAAARQAAAAAAAAAwBwAAlAAAAJUAAAAcAAAAHQAAAAMAAAAAAAAASAcAAJYAAACXAAAAQwAAAEQAAAAVAAAAGAAAAJgAAAAQAAAAFAAAABwAAABGAAAARgAAAEcAAAAAAAAAUAcAAEsAAACZAAAAEAAAAAAAAACQBwAAOQAAAJoAAAAdAAAAAQAAAAAAAACABwAAOQAAAJsAAAAdAAAAAgAAAAAAAABwBwAAKQAAAJwAAAAIAAAASAAAAAIAAAAFAAAABgAAAAAAAABgBwAABwAAAJ0AAAARAAAADAAAAAAAAACgBwAAngAAAJ8AAAAeAAAAHwAAAPz///+gBwAAoAAAAKEAAAAgAAAAAAAAAOAHAAA5AAAAogAAACEAAAABAAAAAAAAANAHAAA5AAAAowAAACEAAAACAAAAAAAAAMAHAAADAAAApAAAABIAAAANAAAAAAAAAPAHAABLAAAApQAAABMAAAAAAAAAAAgAAEsAAACmAAAAFAAAAAAAAAAQCAAAlAAAAKcAAAAcAAAAHQAAAAQAAAAAAAAAIAgAAKgAAACpAAAACgAAAAcAAABJAAAAAAAAADAIAACqAAAAqwAAABIAAAAAAAAAQAgAAKwAAACtAAAACwAAAAgAAABKAAAAAAAAAHAIAACUAAAArgAAAB4AAAAfAAAABQAAAAAAAABgCAAAlAAAAK8AAAAgAAAAIQAAAAYAAAAAAAAAUAgAAJQAAACwAAAAHAAAAB0AAAAHAAAAAAAAAIAIAACxAAAAsgAAAAwAAAAJAAAASwAAAAAAAACQCAAAKQAAALMAAAAIAAAATAAAAAIAAAAFAAAABgAAAAAAAACgCAAAtAAAALUAAAANAAAACgAAAE0AAAAAAAAAsAgAACkAAAC2AAAAIgAAABEAAAACAAAABQAAAAYAAAAAAAAAwAgAALcAAAC4AAAAIgAAAAkAAAABAAAAAQAAAE4AAAAtAAAABQAAAC4AAAAMAAAAEgAAAAUAAAAvAAAAEwAAAA0AAABPAAAAuQAAAAAAAADQCAAAMQAAALoAAAAjAAAACQAAAAEAAAABAAAAUAAAAA4AAAAGAAAAMAAAAFEAAAAHAAAABAAAADEAAAAUAAAADQAAACMAAAAkAAAAAwAAACQAAAAIAAAAEQAAAAwAAAAAAAAA4AgAADEAAAC7AAAAIwAAAAkAAAABAAAAAQAAAFAAAAAOAAAABgAAADIAAABSAAAABwAAAAQAAAAxAAAAFAAAAA0AAAAjAAAAJAAAAAMAAAAkAAAACAAAABEAAAAMAAAAAAAAAPAIAAAxAAAAvAAAACMAAAAJAAAAAQAAAAEAAABQAAAADgAAAAYAAAAzAAAAUwAAAAcAAAAEAAAAMQAAABQAAAANAAAAIwAAACQAAAADAAAAJAAAAAgAAAARAAAADAAAAAAAAAAACQAAvQAAAL4AAAAlAAAACQAAAAEAAAABAAAAVAAAAA4AAAAHAAAANAAAAAwAAAAHAAAABAAAADUAAAAVAAAADQAAABAAAAAlAAAAAwAAACYAAAAIAAAAEQAAAAwAAAAAAAAAEAkAADEAAAC/AAAAJwAAAAkAAAABAAAAAQAAABAAAAAOAAAACAAAADYAAAAMAAAAEwAAAAYAAAAQAAAABQAAAA0AAAAmAAAAJwAAAAMAAAAoAAAACAAAABEAAAAMAAAAAAAAACAJAADAAAAAwQAAACkAAAAJAAAAAQAAAAEAAABVAAAANwAAAAkAAAA4AAAADAAAAAQAAAACAAAAOQAAABYAAAANAAAAKgAAACgAAAApAAAAVgAAAFcAAAAAAAAAMAkAAMIAAADDAAAAKgAAAAAAAABICQAAwgAAAMQAAAArAAAAAAAAAFgJAADCAAAAxQAAACwAAAAAAAAAaAkAAMYAAADHAAAAKQAAAAkAAAABAAAAAQAAAFgAAAA3AAAACQAAADoAAAAMAAAABAAAAAIAAAANAAAABAAAAA0AAAArAAAAKAAAACkAAAAAAAAAeAkAADkAAADIAAAALAAAAAAAAACICQAAyQAAAMoAAAAtAAAAAAAAAJgJAADLAAAAzAAAAC4AAAAJAAAAAQAAAAEAAABZAAAAOwAAAAoAAAA8AAAADAAAAAQAAAACAAAAPQAAABcAAAANAAAALwAAAAAAAACoCQAAPQAAAM0AAAAjAAAACQAAAAEAAAABAAAAEAAAAA4AAAALAAAAAQAAAAwAAAAHAAAABAAAABAAAAAFAAAADQAAABAAAAAtAAAAAwAAADAAAAAIAAAAEQAAAAwAAAAHAAAAAQAAAAEAAAABAAAAAQAAAAEAAAABAAAAAQAAAAAAAADgCQAAMQAAAM4AAAAjAAAACQAAAAEAAAABAAAAEAAAAA4AAAABAAAAAQAAAAwAAAAHAAAABAAAABAAAAAFAAAADQAAABAAAAABAAAAAwAAAAEAAAAIAAAAEQAAAAwAAAAAAAAAAAoAAM8AAADQAAAAMQAAAAkAAAABAAAAAQAAAFoAAAAOAAAACwAAAD4AAAAMAAAABwAAAAQAAAA/AAAAGAAAAA0AAAAuAAAALwAAAAMAAAAyAAAACAAAABEAAAAMAAAABwAAAEAAAABBAAAAMwAAADAAAABCAAAANAAAAAIAAAABAAAAAAAAACAKAAAxAAAA0QAAADUAAAAJAAAAAQAAAAEAAABbAAAADgAAAAwAAABDAAAAXAAAABQAAAAEAAAARAAAABkAAAANAAAAEAAAADEAAAADAAAANgAAAAgAAAARAAAADAAAAAAAAAAwCgAAMQAAANIAAAA1AAAACQAAAAEAAAABAAAAWwAAAA4AAAAMAAAARQAAAFwAAAAUAAAABAAAAEQAAAAZAAAADQAAABAAAAAxAAAAAwAAADYAAAAIAAAAEQAAAAwAAAAAAAAAQAoAADEAAADTAAAANQAAAAkAAAABAAAAAQAAAFsAAAAOAAAADAAAAEYAAABcAAAAFAAAAAQAAABEAAAAGQAAAA0AAAAQAAAAMQAAAAMAAAA2AAAACAAAABEAAAAMAAAAAAAAAFAKAAA9AAAA1AAAADEAAAAJAAAAAQAAAAEAAABdAAAARwAAAAsAAABIAAAADAAAAAcAAAAEAAAAEAAAAAUAAAANAAAAMgAAADMAAAADAAAANwAAAAgAAAARAAAADAAAAAcAAABJAAAASgAAADgAAAA0AAAASwAAADkAAAADAAAAAAAAAGAKAADJAAAA1QAAADoAAAAAAAAAgAoAAD0AAADWAAAAOwAAAAkAAAABAAAAAQAAAF4AAAAOAAAADQAAAEwAAAAMAAAAFQAAAAQAAAAQAAAABQAAAA0AAAA1AAAANgAAAAMAAAA8AAAACAAAAE0AAAA3AAAABwAAAE4AAABPAAAAPQAAADgAAABQAAAAPgAAAAQAAAA5AAAAAAAAAJAKAADXAAAA2AAAABMAAABRAAAAGgAAAF8AAABgAAAAFAAAAAAAAACwCgAAyQAAANkAAAA/AAAAAAAAAKAKAADJAAAA2gAAAEAAAAAAAAAAwAoAANsAAADcAAAAQQAAAAkAAAABAAAAAQAAAGEAAABSAAAADgAAAFMAAAAMAAAABAAAAAIAAAANAAAABAAAAA0AAABCAAAADgAAAAAAAADQCgAAMQAAAN0AAABDAAAACQAAAAEAAAABAAAAYgAAAA4AAAAPAAAAVAAAAGMAAAAWAAAABAAAAFUAAAAbAAAADQAAADoAAAA7AAAAAwAAAEQAAAAIAAAAEQAAAAwAAAAHAAAAAAAAAOAKAAAxAAAA3gAAAEMAAAAJAAAAAQAAAAEAAABiAAAADgAAAA8AAABWAAAAYwAAABYAAAAEAAAAVQAAABsAAAANAAAAOgAAADwAAAADAAAARQAAAAgAAAARAAAADAAAAAgAAAAAAAAA8AoAADEAAADfAAAAQwAAAAkAAAABAAAAAQAAAGIAAAAOAAAADwAAAFcAAABjAAAAFgAAAAQAAABVAAAAGwAAAA0AAAA6AAAAPQAAAAMAAABGAAAACAAAABEAAAAMAAAACQAAAAAAAAAACwAA4AAAAOEAAABHAAAAAQAAAAIAAABkAAAAZQAAAFgAAABmAAAAZwAAAFkAAAA+AAAAPwAAAFoAAAAcAAAAAAAAABALAADiAAAA4wAAAAEAAABAAAAADgAAAEgAAAACAAAASQAAAGgAAABbAAAAXAAAAEEAAABpAAAA5AAAAAAAAAAgCwAA4gAAAOUAAAABAAAAQAAAAA4AAABIAAAAAgAAAEkAAABoAAAAWwAAAFwAAABBAAAAaQAAAOQAAAAAAAAAOAsAAOYAAADnAAAAHQAAABUAAABCAAAAXQAAAF4AAABfAAAAQwAAAGAAAABEAAAAagAAAEUAAAAeAAAAYQAAAGsAAABsAAAAAAAAAFgLAADoAAAA6QAAAB8AAAAWAAAARgAAAGIAAABjAAAAZAAAAEcAAABlAAAASAAAAG0AAABJAAAAIAAAAGYAAABuAAAAbwAAAAAAAABoCwAAewAAAOoAAAAVAAAAAAAAAHgLAAB7AAAA6wAAABYAAAAAAAAAiAsAAOwAAADtAAAAAgAAAEoAAAAPAAAASgAAAAMAAABLAAAAcAAAAGcAAABoAAAASwAAAHEAAADuAAAAAAAAAJgLAAApAAAA7wAAAEwAAAByAAAAAgAAAAUAAAAGAAAAAAAAAKgLAAApAAAA8AAAAAgAAABzAAAAAgAAAAUAAAAGAAAAAAAAALgLAAApAAAA8QAAAAgAAAB0AAAAAgAAAAUAAAAGAAAAAAAAANALAADyAAAA8wAAABMAAABRAAAAGgAAAF8AAABgAAAAAAAAAOgLAAA5AAAA9AAAACEAAAABAAAAAAAAAPgLAAD1AAAA9gAAAAEAAAAAAAAACAwAAJQAAAD3AAAATQAAAE4AAAAIAAAAAAAAACAMAAD1AAAA+AAAAAIAAAAAAAAAMAwAAHEAAAD5AAAAAgAAAAAAAABADAAAlAAAAPoAAABPAAAAUAAAAAkAAAAAAAAAUAwAAHEAAAD7AAAAAwAAAAAAAABgDAAA/AAAAP0AAAAQAAAAAAAAAIgMAAD+AAAA/wAAABEAAAALAAAAdQAAAAAAAACYDAAAAAEAAAEBAAASAAAADAAAAHYAAAAAAAAAqAwAAPwAAAACAQAAEwAAAAAAAAC4DAAA/AAAAAMBAAAUAAAAAAAAAMgMAAAEAQAABQEAACEAAAAiAAAAaQAAAAAAAADQDAAABgEAAAcBAAAAAAAA2AwAAAgBAAAJAQAARwAAAAEAAAACAAAAZAAAAGUAAABYAAAAdwAAAHgAAABZAAAAPgAAAD8AAABaAAAAHAAAAEBpAAD/////AAAAAIANAAAKAQAACwEAAAwBAAANAQAAJAAAAAQAAAAVAAAATAAAAAAAAACoDQAACgEAAA4BAAAMAQAADQEAACQAAAAFAAAAFgAAAE0AAAAAAAAA2A0AAAoBAAAPAQAADAEAAA0BAAAkAAAABgAAABcAAABOAAAATjE2YnRDb2xsaXNpb25Xb3JsZDI3Q2xvc2VzdENvbnZleFJlc3VsdENhbGxiYWNrRQBOMTZidENvbGxpc2lvbldvcmxkMjBDb252ZXhSZXN1bHRDYWxsYmFja0UATjE2YnRDb2xsaXNpb25Xb3JsZDI0QWxsSGl0c1JheVJlc3VsdENhbGxiYWNrRQBOMTZidENvbGxpc2lvbldvcmxkMTdSYXlSZXN1bHRDYWxsYmFja0UAMThidFZlaGljbGVSYXljYXN0ZXIAMjBidERlZmF1bHRNb3Rpb25TdGF0ZQAxM2J0TW90aW9uU3RhdGUAMTlidEdob3N0UGFpckNhbGxiYWNrADI1YnRPdmVybGFwcGluZ1BhaXJDYWxsYmFjawBOMTZidENvbGxpc2lvbldvcmxkMjRDbG9zZXN0UmF5UmVzdWx0Q2FsbGJhY2tFADI5Q29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2sATjE2YnRDb2xsaXNpb25Xb3JsZDIxQ29udGFjdFJlc3VsdENhbGxiYWNrRQB7IHZhciBzZWxmID0gTW9kdWxlWydnZXRDYWNoZSddKE1vZHVsZVsnQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2snXSlbJDBdOyBpZiAoIXNlbGYuaGFzT3duUHJvcGVydHkoJ2FkZFNpbmdsZVJlc3VsdCcpKSB0aHJvdyAnYSBKU0ltcGxlbWVudGF0aW9uIG11c3QgaW1wbGVtZW50IGFsbCBmdW5jdGlvbnMsIHlvdSBmb3Jnb3QgQ29uY3JldGVDb250YWN0UmVzdWx0Q2FsbGJhY2s6OmFkZFNpbmdsZVJlc3VsdC4nOyByZXR1cm4gc2VsZlsnYWRkU2luZ2xlUmVzdWx0J10oJDEsJDIsJDMsJDQsJDUsJDYsJDcpOyB9ADExRGVidWdEcmF3ZXIAMTJidElEZWJ1Z0RyYXcAeyB2YXIgc2VsZiA9IE1vZHVsZVsnZ2V0Q2FjaGUnXShNb2R1bGVbJ0RlYnVnRHJhd2VyJ10pWyQwXTsgaWYgKCFzZWxmLmhhc093blByb3BlcnR5KCdkcmF3TGluZScpKSB0aHJvdyAnYSBKU0ltcGxlbWVudGF0aW9uIG11c3QgaW1wbGVtZW50IGFsbCBmdW5jdGlvbnMsIHlvdSBmb3Jnb3QgRGVidWdEcmF3ZXI6OmRyYXdMaW5lLic7IHNlbGZbJ2RyYXdMaW5lJ10oJDEsJDIsJDMpOyB9AHsgdmFyIHNlbGYgPSBNb2R1bGVbJ2dldENhY2hlJ10oTW9kdWxlWydEZWJ1Z0RyYXdlciddKVskMF07IGlmICghc2VsZi5oYXNPd25Qcm9wZXJ0eSgnZHJhd0NvbnRhY3RQb2ludCcpKSB0aHJvdyAnYSBKU0ltcGxlbWVudGF0aW9uIG11c3QgaW1wbGVtZW50IGFsbCBmdW5jdGlvbnMsIHlvdSBmb3Jnb3QgRGVidWdEcmF3ZXI6OmRyYXdDb250YWN0UG9pbnQuJzsgc2VsZlsnZHJhd0NvbnRhY3RQb2ludCddKCQxLCQyLCQzLCQ0LCQ1KTsgfQB7IHZhciBzZWxmID0gTW9kdWxlWydnZXRDYWNoZSddKE1vZHVsZVsnRGVidWdEcmF3ZXInXSlbJDBdOyBpZiAoIXNlbGYuaGFzT3duUHJvcGVydHkoJ3JlcG9ydEVycm9yV2FybmluZycpKSB0aHJvdyAnYSBKU0ltcGxlbWVudGF0aW9uIG11c3QgaW1wbGVtZW50IGFsbCBmdW5jdGlvbnMsIHlvdSBmb3Jnb3QgRGVidWdEcmF3ZXI6OnJlcG9ydEVycm9yV2FybmluZy4nOyBzZWxmWydyZXBvcnRFcnJvcldhcm5pbmcnXSgkMSk7IH0AeyB2YXIgc2VsZiA9IE1vZHVsZVsnZ2V0Q2FjaGUnXShNb2R1bGVbJ0RlYnVnRHJhd2VyJ10pWyQwXTsgaWYgKCFzZWxmLmhhc093blByb3BlcnR5KCdkcmF3M2RUZXh0JykpIHRocm93ICdhIEpTSW1wbGVtZW50YXRpb24gbXVzdCBpbXBsZW1lbnQgYWxsIGZ1bmN0aW9ucywgeW91IGZvcmdvdCBEZWJ1Z0RyYXdlcjo6ZHJhdzNkVGV4dC4nOyBzZWxmWydkcmF3M2RUZXh0J10oJDEsJDIpOyB9AHsgdmFyIHNlbGYgPSBNb2R1bGVbJ2dldENhY2hlJ10oTW9kdWxlWydEZWJ1Z0RyYXdlciddKVskMF07IGlmICghc2VsZi5oYXNPd25Qcm9wZXJ0eSgnc2V0RGVidWdNb2RlJykpIHRocm93ICdhIEpTSW1wbGVtZW50YXRpb24gbXVzdCBpbXBsZW1lbnQgYWxsIGZ1bmN0aW9ucywgeW91IGZvcmdvdCBEZWJ1Z0RyYXdlcjo6c2V0RGVidWdNb2RlLic7IHNlbGZbJ3NldERlYnVnTW9kZSddKCQxKTsgfQB7IHZhciBzZWxmID0gTW9kdWxlWydnZXRDYWNoZSddKE1vZHVsZVsnRGVidWdEcmF3ZXInXSlbJDBdOyBpZiAoIXNlbGYuaGFzT3duUHJvcGVydHkoJ2dldERlYnVnTW9kZScpKSB0aHJvdyAnYSBKU0ltcGxlbWVudGF0aW9uIG11c3QgaW1wbGVtZW50IGFsbCBmdW5jdGlvbnMsIHlvdSBmb3Jnb3QgRGVidWdEcmF3ZXI6OmdldERlYnVnTW9kZS4nOyByZXR1cm4gc2VsZlsnZ2V0RGVidWdNb2RlJ10oKTsgfQAyM2J0RGVmYXVsdFNvZnRCb2R5U29sdmVyADE2YnRTb2Z0Qm9keVNvbHZlcgA0MWJ0U29mdEJvZHlSaWdpZEJvZHlDb2xsaXNpb25Db25maWd1cmF0aW9uAE4zNWJ0U29mdEJvZHlDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtMTdTd2FwcGVkQ3JlYXRlRnVuY0UAMzBidENvbGxpc2lvbkFsZ29yaXRobUNyZWF0ZUZ1bmMATjM1YnRTb2Z0Qm9keUNvbmNhdmVDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAE4yOWJ0U29mdFJpZ2lkQ29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQBOMjhidFNvZnRTb2Z0Q29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQBTb2Z0Qm9keU1hdGVyaWFsRGF0YQBTb2Z0Qm9keU5vZGVEYXRhAFNvZnRCb2R5TGlua0RhdGEAU29mdEJvZHlGYWNlRGF0YQBTb2Z0Qm9keVRldHJhRGF0YQBTb2Z0UmlnaWRBbmNob3JEYXRhAFNvZnRCb2R5UG9zZURhdGEAU29mdEJvZHlDbHVzdGVyRGF0YQBidFNvZnRCb2R5Sm9pbnREYXRhAGJ0U29mdEJvZHlGbG9hdERhdGEAMTBidFNvZnRCb2R5AE4xMGJ0U29mdEJvZHkxNVJheUZyb21Ub0Nhc3RlckUATjZidERidnQ4SUNvbGxpZGVFAE4xMGJ0U29mdEJvZHk1Sm9pbnRFAE4xMGJ0U29mdEJvZHk2Q0pvaW50RQBTb2Z0Qm9keQAyNGJ0U29mdEJvZHlDb2xsaXNpb25TaGFwZQBVcGRhdGVDbHVzdGVycwBTb2Z0Qm9keSBhcHBseUZvcmNlcwBBcHBseUNsdXN0ZXJzAGJ0Q29udmV4SW50ZXJuYWxTaGFwZURhdGEAU09GVENMVVNURVIAMjdidFNvZnRDbHVzdGVyQ29sbGlzaW9uU2hhcGUATjE1YnRTb2Z0Q29sbGlkZXJzMTJDb2xsaWRlQ0xfUlNFAE4xNWJ0U29mdENvbGxpZGVyczExQ2x1c3RlckJhc2VFAE4xNWJ0U29mdENvbGxpZGVyczEzQ29sbGlkZVNERl9SU0UATjE1YnRTb2Z0Q29sbGlkZXJzMTJDb2xsaWRlVkZfU1NFAE4xNWJ0U29mdENvbGxpZGVyczEyQ29sbGlkZUNMX1NTRQAyOWJ0U29mdFJpZ2lkQ29sbGlzaW9uQWxnb3JpdGhtADIwYnRDb2xsaXNpb25BbGdvcml0aG0AVHJpYW5nbGUAMTVidFRyaWFuZ2xlU2hhcGUATjEyYnRDb252ZXhDYXN0MTBDYXN0UmVzdWx0RQBaTjM1YnRTb2Z0Qm9keUNvbmNhdmVDb2xsaXNpb25BbGdvcml0aG0yMWNhbGN1bGF0ZVRpbWVPZkltcGFjdEVQMTdidENvbGxpc2lvbk9iamVjdFMxX1JLMTZidERpc3BhdGNoZXJJbmZvUDE2YnRNYW5pZm9sZFJlc3VsdEUzMUxvY2FsVHJpYW5nbGVTcGhlcmVDYXN0Q2FsbGJhY2sAMjZidFNvZnRCb2R5VHJpYW5nbGVDYWxsYmFjawAzNWJ0U29mdEJvZHlDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtAHNvbHZlU29mdENvbnN0cmFpbnRzAHByZWRpY3RVbmNvbnN0cmFpbnRNb3Rpb25Tb2Z0Qm9keQByYXlUZXN0ADIzYnRTb2Z0U2luZ2xlUmF5Q2FsbGJhY2sAMjNidEJyb2FkcGhhc2VSYXlDYWxsYmFjawAyNGJ0QnJvYWRwaGFzZUFhYmJDYWxsYmFjawAyNGJ0U29mdFJpZ2lkRHluYW1pY3NXb3JsZAAyOGJ0U29mdFNvZnRDb2xsaXNpb25BbGdvcml0aG0AYnRSaWdpZEJvZHlGbG9hdERhdGEAMTFidFJpZ2lkQm9keQBpbnRlcm5hbFNpbmdsZVN0ZXBTaW11bGF0aW9uAHVwZGF0ZUFjdGlvbnMAY3JlYXRlUHJlZGljdGl2ZUNvbnRhY3RzAHJlbGVhc2UgcHJlZGljdGl2ZSBjb250YWN0IG1hbmlmb2xkcwBwcmVkaWN0aXZlIGNvbnZleFN3ZWVwVGVzdAAzNGJ0Q2xvc2VzdE5vdE1lQ29udmV4UmVzdWx0Q2FsbGJhY2sAdXBkYXRlQWN0aXZhdGlvblN0YXRlAHNvbHZlQ29uc3RyYWludHMAY2FsY3VsYXRlU2ltdWxhdGlvbklzbGFuZHMAaW50ZWdyYXRlVHJhbnNmb3JtcwBDQ0QgbW90aW9uIGNsYW1waW5nAGFwcGx5IHNwZWN1bGF0aXZlIGNvbnRhY3QgcmVzdGl0dXRpb24AcHJlZGljdFVuY29uc3RyYWludE1vdGlvbgBzeW5jaHJvbml6ZU1vdGlvblN0YXRlcwBzdGVwU2ltdWxhdGlvbgBidER5bmFtaWNzV29ybGRGbG9hdERhdGEAZGVidWdEcmF3V29ybGQAMjNidERpc2NyZXRlRHluYW1pY3NXb3JsZAAxNWJ0RHluYW1pY3NXb3JsZAAyN0lucGxhY2VTb2x2ZXJJc2xhbmRDYWxsYmFjawBOMjVidFNpbXVsYXRpb25Jc2xhbmRNYW5hZ2VyMTRJc2xhbmRDYWxsYmFja0UAMTdidEZpeGVkQ29uc3RyYWludABidEdlbmVyaWM2RG9mQ29uc3RyYWludERhdGEAMjNidEdlbmVyaWM2RG9mQ29uc3RyYWludABidEdlbmVyaWM2RG9mU3ByaW5nQ29uc3RyYWludERhdGEAMjlidEdlbmVyaWM2RG9mU3ByaW5nQ29uc3RyYWludABidFBvaW50MlBvaW50Q29uc3RyYWludEZsb2F0RGF0YQAyM2J0UG9pbnQyUG9pbnRDb25zdHJhaW50AGJ0VHlwZWRDb25zdHJhaW50RmxvYXREYXRhADE3YnRUeXBlZENvbnN0cmFpbnQAMTNidFR5cGVkT2JqZWN0AGJ0U2xpZGVyQ29uc3RyYWludERhdGEAMThidFNsaWRlckNvbnN0cmFpbnQAYnRDb25lVHdpc3RDb25zdHJhaW50RGF0YQAyMWJ0Q29uZVR3aXN0Q29uc3RyYWludABidEhpbmdlQ29uc3RyYWludEZsb2F0RGF0YQAxN2J0SGluZ2VDb25zdHJhaW50AHNvbHZlR3JvdXBDYWNoZUZyaWVuZGx5SXRlcmF0aW9ucwBzb2x2ZUdyb3VwQ2FjaGVGcmllbmRseVNldHVwAHNvbHZlR3JvdXAAMzVidFNlcXVlbnRpYWxJbXB1bHNlQ29uc3RyYWludFNvbHZlcgAxOGJ0Q29uc3RyYWludFNvbHZlcgAxNmJ0UmF5Y2FzdFZlaGljbGUAMTdidEFjdGlvbkludGVyZmFjZQAyNWJ0RGVmYXVsdFZlaGljbGVSYXljYXN0ZXIANDNidEtpbmVtYXRpY0Nsb3Nlc3ROb3RNZUNvbnZleFJlc3VsdENhbGxiYWNrADMwYnRLaW5lbWF0aWNDaGFyYWN0ZXJDb250cm9sbGVyADMwYnRDaGFyYWN0ZXJDb250cm9sbGVySW50ZXJmYWNlADIyYnRTdWJzaW1wbGV4Q29udmV4Q2FzdAAxMmJ0Q29udmV4Q2FzdABidENvbGxpc2lvbk9iamVjdEZsb2F0RGF0YQAxN2J0Q29sbGlzaW9uT2JqZWN0ADEzYnRHaG9zdE9iamVjdAAyNGJ0UGFpckNhY2hpbmdHaG9zdE9iamVjdAAyM2J0Q29sbGlzaW9uUGFpckNhbGxiYWNrADE3YnRPdmVybGFwQ2FsbGJhY2sAMjFidENvbGxpc2lvbkRpc3BhdGNoZXIAMzFidERlZmF1bHRDb2xsaXNpb25Db25maWd1cmF0aW9uADI0YnRDb2xsaXNpb25Db25maWd1cmF0aW9uAE4zMWJ0Q29udmV4UGxhbmVDb2xsaXNpb25BbGdvcml0aG0xMENyZWF0ZUZ1bmNFAE4yNmJ0Qm94Qm94Q29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQBOMzRidFNwaGVyZVRyaWFuZ2xlQ29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQBOMzJidFNwaGVyZVNwaGVyZUNvbGxpc2lvbkFsZ29yaXRobTEwQ3JlYXRlRnVuY0UATjE2YnRFbXB0eUFsZ29yaXRobTEwQ3JlYXRlRnVuY0UATjI4YnRDb21wb3VuZENvbGxpc2lvbkFsZ29yaXRobTE3U3dhcHBlZENyZWF0ZUZ1bmNFAE4zNmJ0Q29tcG91bmRDb21wb3VuZENvbGxpc2lvbkFsZ29yaXRobTEwQ3JlYXRlRnVuY0UATjI4YnRDb21wb3VuZENvbGxpc2lvbkFsZ29yaXRobTEwQ3JlYXRlRnVuY0UATjMzYnRDb252ZXhDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtMTdTd2FwcGVkQ3JlYXRlRnVuY0UATjMzYnRDb252ZXhDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtMTBDcmVhdGVGdW5jRQAyNWJ0U2ltdWxhdGlvbklzbGFuZE1hbmFnZXIAaXNsYW5kVW5pb25GaW5kQW5kUXVpY2tTb3J0AHByb2Nlc3NJc2xhbmRzADMxYnRDb252ZXhQbGFuZUNvbGxpc2lvbkFsZ29yaXRobQBaTjMzYnRDb252ZXhDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtMjFjYWxjdWxhdGVUaW1lT2ZJbXBhY3RFUDE3YnRDb2xsaXNpb25PYmplY3RTMV9SSzE2YnREaXNwYXRjaGVySW5mb1AxNmJ0TWFuaWZvbGRSZXN1bHRFMzFMb2NhbFRyaWFuZ2xlU3BoZXJlQ2FzdENhbGxiYWNrADI0YnRDb252ZXhUcmlhbmdsZUNhbGxiYWNrADMzYnRDb252ZXhDb25jYXZlQ29sbGlzaW9uQWxnb3JpdGhtADI2YnRCb3hCb3hDb2xsaXNpb25BbGdvcml0aG0AMTZidE1hbmlmb2xkUmVzdWx0AE4zNmJ0RGlzY3JldGVDb2xsaXNpb25EZXRlY3RvckludGVyZmFjZTZSZXN1bHRFAHBlcmZvcm1EaXNjcmV0ZUNvbGxpc2lvbkRldGVjdGlvbgBkaXNwYXRjaEFsbENvbGxpc2lvblBhaXJzAFpOMTZidENvbGxpc2lvbldvcmxkMjFyYXlUZXN0U2luZ2xlSW50ZXJuYWxFUksxMWJ0VHJhbnNmb3JtUzJfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18xN1JheVJlc3VsdENhbGxiYWNrRUUxNUxvY2FsSW5mb0FkZGVyMgBaTjE2YnRDb2xsaXNpb25Xb3JsZDIxcmF5VGVzdFNpbmdsZUludGVybmFsRVJLMTFidFRyYW5zZm9ybVMyX1BLMjRidENvbGxpc2lvbk9iamVjdFdyYXBwZXJSTlNfMTdSYXlSZXN1bHRDYWxsYmFja0VFOVJheVRlc3RlcgBaTjE2YnRDb2xsaXNpb25Xb3JsZDIxcmF5VGVzdFNpbmdsZUludGVybmFsRVJLMTFidFRyYW5zZm9ybVMyX1BLMjRidENvbGxpc2lvbk9iamVjdFdyYXBwZXJSTlNfMTdSYXlSZXN1bHRDYWxsYmFja0VFMjlCcmlkZ2VUcmlhbmdsZVJheWNhc3RDYWxsYmFja18wAFpOMTZidENvbGxpc2lvbldvcmxkMjFyYXlUZXN0U2luZ2xlSW50ZXJuYWxFUksxMWJ0VHJhbnNmb3JtUzJfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18xN1JheVJlc3VsdENhbGxiYWNrRUUyOUJyaWRnZVRyaWFuZ2xlUmF5Y2FzdENhbGxiYWNrADE5YnRTaW5nbGVSYXlDYWxsYmFjawAxN0RlYnVnRHJhd2NhbGxiYWNrAGNhbGN1bGF0ZU92ZXJsYXBwaW5nUGFpcnMAdXBkYXRlQWFiYnMAAU92ZXJmbG93IGluIEFBQkIsIG9iamVjdCByZW1vdmVkIGZyb20gc2ltdWxhdGlvbgBJZiB5b3UgY2FuIHJlcHJvZHVjZSB0aGlzLCBwbGVhc2UgZW1haWwgYnVnc0Bjb250aW51b3VzcGh5c2ljcy5jb20KAFBsZWFzZSBpbmNsdWRlIGFib3ZlIGluZm9ybWF0aW9uLCB5b3VyIFBsYXRmb3JtLCB2ZXJzaW9uIG9mIE9TLgoAVGhhbmtzLgoAMTZidENvbGxpc2lvbldvcmxkAGNvbnZleFN3ZWVwQ29tcG91bmQAWk4xNmJ0Q29sbGlzaW9uV29ybGQyNW9iamVjdFF1ZXJ5U2luZ2xlSW50ZXJuYWxFUEsxM2J0Q29udmV4U2hhcGVSSzExYnRUcmFuc2Zvcm1TNV9QSzI0YnRDb2xsaXNpb25PYmplY3RXcmFwcGVyUk5TXzIwQ29udmV4UmVzdWx0Q2FsbGJhY2tFZkUxNExvY2FsSW5mb0FkZGVyAFpOMTZidENvbGxpc2lvbldvcmxkMjVvYmplY3RRdWVyeVNpbmdsZUludGVybmFsRVBLMTNidENvbnZleFNoYXBlUksxMWJ0VHJhbnNmb3JtUzVfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18yMENvbnZleFJlc3VsdENhbGxiYWNrRWZFMzJCcmlkZ2VUcmlhbmdsZUNvbnZleGNhc3RDYWxsYmFja18wAFpOMTZidENvbGxpc2lvbldvcmxkMjVvYmplY3RRdWVyeVNpbmdsZUludGVybmFsRVBLMTNidENvbnZleFNoYXBlUksxMWJ0VHJhbnNmb3JtUzVfUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclJOU18yMENvbnZleFJlc3VsdENhbGxiYWNrRWZFMzJCcmlkZ2VUcmlhbmdsZUNvbnZleGNhc3RDYWxsYmFjawBjb252ZXhTd2VlcFRlc3QAMjFidFNpbmdsZVN3ZWVwQ2FsbGJhY2sAMjNidEJyaWRnZWRNYW5pZm9sZFJlc3VsdAAyM2J0U2luZ2xlQ29udGFjdENhbGxiYWNrADM0YnRTcGhlcmVUcmlhbmdsZUNvbGxpc2lvbkFsZ29yaXRobQAyNGJ0UGVydHVyYmVkQ29udGFjdFJlc3VsdABaTjIzYnRDb252ZXhDb252ZXhBbGdvcml0aG0xNnByb2Nlc3NDb2xsaXNpb25FUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclMyX1JLMTZidERpc3BhdGNoZXJJbmZvUDE2YnRNYW5pZm9sZFJlc3VsdEUyMWJ0V2l0aG91dE1hcmdpblJlc3VsdABaTjIzYnRDb252ZXhDb252ZXhBbGdvcml0aG0xNnByb2Nlc3NDb2xsaXNpb25FUEsyNGJ0Q29sbGlzaW9uT2JqZWN0V3JhcHBlclMyX1JLMTZidERpc3BhdGNoZXJJbmZvUDE2YnRNYW5pZm9sZFJlc3VsdEUxM2J0RHVtbXlSZXN1bHQAMjNidENvbnZleENvbnZleEFsZ29yaXRobQBOMjNidENvbnZleENvbnZleEFsZ29yaXRobTEwQ3JlYXRlRnVuY0UAMjJidENvbXBvdW5kTGVhZkNhbGxiYWNrADI4YnRDb21wb3VuZENvbGxpc2lvbkFsZ29yaXRobQAzMGJ0Q29tcG91bmRDb21wb3VuZExlYWZDYWxsYmFjawAzNmJ0Q29tcG91bmRDb21wb3VuZENvbGxpc2lvbkFsZ29yaXRobQBidENvbXBvdW5kU2hhcGVDaGlsZERhdGEAYnRDb21wb3VuZFNoYXBlRGF0YQBDb21wb3VuZAAxNWJ0Q29tcG91bmRTaGFwZQBidENvbmVTaGFwZURhdGEAQ29uZQAxMWJ0Q29uZVNoYXBlAENvbmVaADEyYnRDb25lU2hhcGVaAENvbmVYADEyYnRDb25lU2hhcGVYAGJ0UG9zaXRpb25BbmRSYWRpdXMAYnRNdWx0aVNwaGVyZVNoYXBlRGF0YQBNdWx0aVNwaGVyZQAxOGJ0TXVsdGlTcGhlcmVTaGFwZQBTUEhFUkUAMTNidFNwaGVyZVNoYXBlAFpOSzIyYnRCdmhUcmlhbmdsZU1lc2hTaGFwZTE5cHJvY2Vzc0FsbFRyaWFuZ2xlc0VQMThidFRyaWFuZ2xlQ2FsbGJhY2tSSzlidFZlY3RvcjNTNF9FMjFNeU5vZGVPdmVybGFwQ2FsbGJhY2sAMjFidE5vZGVPdmVybGFwQ2FsbGJhY2sAYnRUcmlhbmdsZU1lc2hTaGFwZURhdGEAQlZIVFJJQU5HTEVNRVNIADIyYnRCdmhUcmlhbmdsZU1lc2hTaGFwZQBaTjIyYnRCdmhUcmlhbmdsZU1lc2hTaGFwZTE0cGVyZm9ybVJheWNhc3RFUDE4YnRUcmlhbmdsZUNhbGxiYWNrUks5YnRWZWN0b3IzUzRfRTIxTXlOb2RlT3ZlcmxhcENhbGxiYWNrAFpOMjJidEJ2aFRyaWFuZ2xlTWVzaFNoYXBlMTdwZXJmb3JtQ29udmV4Y2FzdEVQMThidFRyaWFuZ2xlQ2FsbGJhY2tSSzlidFZlY3RvcjNTNF9TNF9TNF9FMjFNeU5vZGVPdmVybGFwQ2FsbGJhY2sAMjFTdXBwb3J0VmVydGV4Q2FsbGJhY2sAWk5LMTlidFRyaWFuZ2xlTWVzaFNoYXBlMTlwcm9jZXNzQWxsVHJpYW5nbGVzRVAxOGJ0VHJpYW5nbGVDYWxsYmFja1JLOWJ0VmVjdG9yM1M0X0UxNkZpbHRlcmVkQ2FsbGJhY2sAVFJJQU5HTEVNRVNIADE5YnRUcmlhbmdsZU1lc2hTaGFwZQBidFN0YXRpY1BsYW5lU2hhcGVEYXRhAFNUQVRJQ1BMQU5FADE4YnRTdGF0aWNQbGFuZVNoYXBlADIzYnRQb2x5aGVkcmFsQ29udmV4U2hhcGUAMzRidFBvbHloZWRyYWxDb252ZXhBYWJiQ2FjaGluZ1NoYXBlAGJ0Q29sbGlzaW9uU2hhcGVEYXRhADE2YnRDb2xsaXNpb25TaGFwZQAxM2J0Q29udmV4U2hhcGUAMjFidENvbnZleEludGVybmFsU2hhcGUAMzJidENvbnZleEludGVybmFsQWFiYkNhY2hpbmdTaGFwZQBidENvbnZleEh1bGxTaGFwZURhdGEAQ29udmV4ADE3YnRDb252ZXhIdWxsU2hhcGUAMThidFRyaWFuZ2xlQ2FsbGJhY2sAMzFidEludGVybmFsVHJpYW5nbGVJbmRleENhbGxiYWNrAGJ0Q2Fwc3VsZVNoYXBlRGF0YQBDYXBzdWxlU2hhcGUAMTRidENhcHN1bGVTaGFwZQBDYXBzdWxlWAAxNWJ0Q2Fwc3VsZVNoYXBlWABDYXBzdWxlWgAxNWJ0Q2Fwc3VsZVNoYXBlWgAyNkxvY2FsU3VwcG9ydFZlcnRleENhbGxiYWNrAENvbnZleFRyaW1lc2gAMjVidENvbnZleFRyaWFuZ2xlTWVzaFNoYXBlADE0YnRDb25jYXZlU2hhcGUAQm94ADEwYnRCb3hTaGFwZQAxNGJ0T3B0aW1pemVkQnZoAFpOMTRidE9wdGltaXplZEJ2aDVidWlsZEVQMjNidFN0cmlkaW5nTWVzaEludGVyZmFjZWJSSzlidFZlY3RvcjNTNF9FMjBOb2RlVHJpYW5nbGVDYWxsYmFjawBaTjE0YnRPcHRpbWl6ZWRCdmg1YnVpbGRFUDIzYnRTdHJpZGluZ01lc2hJbnRlcmZhY2ViUks5YnRWZWN0b3IzUzRfRTI5UXVhbnRpemVkTm9kZVRyaWFuZ2xlQ2FsbGJhY2sASEVJR0hURklFTEQAMjVidEhlaWdodGZpZWxkVGVycmFpblNoYXBlAGJ0Q3lsaW5kZXJTaGFwZURhdGEAQ3lsaW5kZXJZADE1YnRDeWxpbmRlclNoYXBlAEN5bGluZGVyWAAxNmJ0Q3lsaW5kZXJTaGFwZVgAQ3lsaW5kZXJaADE2YnRDeWxpbmRlclNoYXBlWgAxNGJ0VHJpYW5nbGVNZXNoADIwYnRBeGlzU3dlZXAzSW50ZXJuYWxJdEUAMjFidEJyb2FkcGhhc2VJbnRlcmZhY2UAMTJidEF4aXNTd2VlcDMAMTVidE51bGxQYWlyQ2FjaGUAMjJidE92ZXJsYXBwaW5nUGFpckNhY2hlAFpOMjhidEhhc2hlZE92ZXJsYXBwaW5nUGFpckNhY2hlMTljbGVhblByb3h5RnJvbVBhaXJzRVAxN2J0QnJvYWRwaGFzZVByb3h5UDEyYnREaXNwYXRjaGVyRTE3Q2xlYW5QYWlyQ2FsbGJhY2sAWk4yOGJ0SGFzaGVkT3ZlcmxhcHBpbmdQYWlyQ2FjaGUzN3JlbW92ZU92ZXJsYXBwaW5nUGFpcnNDb250YWluaW5nUHJveHlFUDE3YnRCcm9hZHBoYXNlUHJveHlQMTJidERpc3BhdGNoZXJFMThSZW1vdmVQYWlyQ2FsbGJhY2sAMjhidEhhc2hlZE92ZXJsYXBwaW5nUGFpckNhY2hlADE4YnREYnZ0VHJlZUNvbGxpZGVyADIwQnJvYWRwaGFzZUFhYmJUZXN0ZXIAMTlCcm9hZHBoYXNlUmF5VGVzdGVyADE2YnREYnZ0QnJvYWRwaGFzZQAxMmJ0RGlzcGF0Y2hlcgBidE9wdGltaXplZEJ2aE5vZGVEYXRhAGJ0UXVhbnRpemVkQnZoTm9kZURhdGEAYnRCdmhTdWJ0cmVlSW5mb0RhdGEAYnRRdWFudGl6ZWRCdmhGbG9hdERhdGEAMTRidFF1YW50aXplZEJ2aAAyNWJ0VHJpYW5nbGVSYXljYXN0Q2FsbGJhY2sAMjhidFRyaWFuZ2xlQ29udmV4Y2FzdENhbGxiYWNrAFpOMzNidE1pbmtvd3NraVBlbmV0cmF0aW9uRGVwdGhTb2x2ZXIxMmNhbGNQZW5EZXB0aEVSMjJidFZvcm9ub2lTaW1wbGV4U29sdmVyUEsxM2J0Q29udmV4U2hhcGVTNF9SSzExYnRUcmFuc2Zvcm1TN19SOWJ0VmVjdG9yM1M5X1M5X1AxMmJ0SURlYnVnRHJhd0UyMGJ0SW50ZXJtZWRpYXRlUmVzdWx0ADMzYnRNaW5rb3dza2lQZW5ldHJhdGlvbkRlcHRoU29sdmVyADMwYnRDb252ZXhQZW5ldHJhdGlvbkRlcHRoU29sdmVyADMwYnRHamtFcGFQZW5ldHJhdGlvbkRlcHRoU29sdmVyADE2YnRQb2ludENvbGxlY3RvcgAxNWJ0R2prQ29udmV4Q2FzdAAyN2J0Q29udGludW91c0NvbnZleENvbGxpc2lvbgAxN2J0R2prUGFpckRldGVjdG9yADM2YnREaXNjcmV0ZUNvbGxpc2lvbkRldGVjdG9ySW50ZXJmYWNlADMwYnRBY3RpdmF0aW5nQ29sbGlzaW9uQWxnb3JpdGhtADE2YnRFbXB0eUFsZ29yaXRobQAzMmJ0U3BoZXJlU3BoZXJlQ29sbGlzaW9uQWxnb3JpdGhtADE2YnRCb3hCb3hEZXRlY3RvcgAyMlNwaGVyZVRyaWFuZ2xlRGV0ZWN0b3IAMjNidEhhc2hlZFNpbXBsZVBhaXJDYWNoZQAxOGJ0Q29udmV4UG9seWhlZHJvbgAyNmJ0VHJpYW5nbGVJbmRleFZlcnRleEFycmF5AGJ0SW50SW5kZXhEYXRhAGJ0U2hvcnRJbnRJbmRleFRyaXBsZXREYXRhAGJ0Q2hhckluZGV4VHJpcGxldERhdGEAYnRWZWN0b3IzRmxvYXREYXRhAGJ0VmVjdG9yM0RvdWJsZURhdGEAYnRNZXNoUGFydERhdGEAYnRTdHJpZGluZ01lc2hJbnRlcmZhY2VEYXRhADIzYnRTdHJpZGluZ01lc2hJbnRlcmZhY2UAUm9vdAAtKyAgIDBYMHgAKG51bGwpAC0wWCswWCAwWC0weCsweCAweABpbmYASU5GAG5hbgBOQU4AdGVybWluYXRpbmcATjEwX19jeHhhYml2MTE2X19zaGltX3R5cGVfaW5mb0UAU3Q5dHlwZV9pbmZvAE4xMF9fY3h4YWJpdjEyMF9fc2lfY2xhc3NfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTdfX2NsYXNzX3R5cGVfaW5mb0UAdGVybWluYXRlX2hhbmRsZXIgdW5leHBlY3RlZGx5IHJldHVybmVkAGludABmbG9hdAAuAE4xMF9fY3h4YWJpdjExN19fcGJhc2VfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMTlfX3BvaW50ZXJfdHlwZV9pbmZvRQBOMTBfX2N4eGFiaXYxMjFfX3ZtaV9jbGFzc190eXBlX2luZm9F";var K={},Z=[];function J(e){e&&K[e].Zf++}function q(e){if(!e||K[e])return e;for(var t in K)for(var i=+t,n=K[i].Yf,r=n.length,o=0;o<r;o++)if(n[o]===e)return i;return e}var $=[null,[],[]];function ee(e,t){var i=$[e];0===t||10===t?((1===e?y:v)(R(i,0)),i.length=0):i.push(t)}var te=0;function ie(){return x[(te+=4)-4>>2]}var ne={};function re(){VS("OOM")}var oe=!1;function se(e){for(var t=[],i=0;i<e.length;i++){var n=e[i];255<n&&(oe&&S(!1,"Character code "+n+" ("+String.fromCharCode(n)+")  at offset "+i+" not in 0x00-0xFF."),n&=255),t.push(String.fromCharCode(n))}return t.join("")}var ae="function"===typeof atob?atob:function(e){var t="",i=0;e=e.replace(/[^A-Za-z0-9\+\/=]/g,"");do{var n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(i++)),r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(i++)),o="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(i++)),s="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".indexOf(e.charAt(i++));n=n<<2|r>>4,r=(15&r)<<4|o>>2;var a=(3&o)<<6|s;t+=String.fromCharCode(n),64!==o&&(t+=String.fromCharCode(r)),64!==s&&(t+=String.fromCharCode(a))}while(i<e.length);return t};function ce(e){if(String.prototype.startsWith?e.startsWith(X):0===e.indexOf(X)){if(e=e.slice(X.length),"boolean"===typeof f&&f){try{var t=r.from(e,"base64")}catch(s){t=new r(e,"base64")}var i=new Uint8Array(t.buffer,t.byteOffset,t.byteLength)}else try{var n=ae(e),o=new Uint8Array(n.length);for(t=0;t<n.length;++t)o[t]=n.charCodeAt(t);i=o}catch(s){throw Error("Converting base64 string to bytes failed.")}return i}}var le=function(e,t,i){"use asm";var n=new e.Int8Array(i),r=new e.Int16Array(i),o=new e.Int32Array(i),s=new e.Uint8Array(i),a=new e.Uint16Array(i),c=new e.Float32Array(i),l=new e.Float64Array(i),_=t.F|0,u=t.G|0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0.0,y=e.Math.abs,v=e.Math.sqrt,C=e.Math.pow,E=e.Math.cos,S=e.Math.sin,T=e.Math.acos,R=e.Math.asin,M=e.Math.atan2,O=e.Math.imul,I=e.Math.clz32,x=t.a,P=t.b,D=t.c,w=t.d,L=t.e,F=t.f,N=t.g,B=t.h,k=t.i,U=t.j,H=t.k,j=t.l,V=t.m,G=t.n,W=t.o,X=t.p,z=t.q,Y=t.r,Q=t.s,K=t.t,Z=t.u,J=t.v,q=t.w,$=t.x,ee=t.y,te=t.z,ie=t.A,ne=t.B,re=t.C,oe=t.D,se=t.E,ae=27792,ce=5270672,le=0.0;function _e(e){e=e|0;var t=0,i=0;o[e>>2]=6336;if(n[e+20>>0]|0){t=o[e+16>>2]|0;i=o[t+16>>2]|0;if(i){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);t=o[e+16>>2]|0}if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}}if(n[e+12>>0]|0){t=o[e+8>>2]|0;i=o[t+16>>2]|0;if(i){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);t=o[e+8>>2]|0}if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}}t=o[e+32>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+32>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+36>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+36>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+40>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+40>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+44>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+44>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+48>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+48>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+52>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+52>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+56>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+56>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+60>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+60>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+76>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+76>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+80>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+80>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+72>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+72>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+88>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+88>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+84>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+84>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+24>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+28>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+28>>2]|0;if(!t)return;o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function ue(e,t){e=e|0;t=+t;var i=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0,A=0.0;m=ae;ae=ae+16|0;La(14828);i=o[e+232>>2]|0;if((i|0)>0){b=0;do{p=o[(o[e+240>>2]|0)+(b<<2)>>2]|0;if(!(o[p+204>>2]&3)){d=+c[p+444>>2];l=+C(+(1.0-d),+t);r=+c[p+312>>2]*l;c[p+312>>2]=r;s=l*+c[p+316>>2];c[p+316>>2]=s;l=l*+c[p+320>>2];c[p+320>>2]=l;h=+c[p+448>>2];a=+C(+(1.0-h),+t);u=+c[p+328>>2]*a;c[p+328>>2]=u;_=a*+c[p+332>>2];c[p+332>>2]=_;a=a*+c[p+336>>2];c[p+336>>2]=a;do{if(n[p+452>>0]|0){if(u*u+_*_+a*a<+c[p+464>>2]?r*r+s*s+l*l<+c[p+460>>2]:0){A=+c[p+456>>2];c[p+328>>2]=u*A;c[p+332>>2]=_*A;c[p+336>>2]=a*A;c[p+312>>2]=r*A;c[p+316>>2]=s*A;c[p+320>>2]=l*A;r=r*A;f=s*A;l=l*A;u=u*A;_=_*A;a=a*A}else f=s;s=+v(+(r*r+f*f+l*l));do{if(s<d)if(s>.004999999888241291){c[p+312>>2]=r-r*(1.0/s)*.004999999888241291;c[p+316>>2]=f-f*(1.0/s)*.004999999888241291;c[p+320>>2]=l-l*(1.0/s)*.004999999888241291;break}else{o[p+312>>2]=0;o[p+312+4>>2]=0;o[p+312+8>>2]=0;o[p+312+12>>2]=0;break}}while(0);r=+v(+(u*u+_*_+a*a));if(r<h)if(r>.004999999888241291){c[p+328>>2]=u-u*(1.0/r)*.004999999888241291;c[p+332>>2]=_-_*(1.0/r)*.004999999888241291;c[p+336>>2]=a-a*(1.0/r)*.004999999888241291;break}else{o[p+328>>2]=0;o[p+328+4>>2]=0;o[p+328+8>>2]=0;o[p+328+12>>2]=0;break}}}while(0);ni(p+4|0,+c[p+312>>2],+c[p+316>>2],+c[p+320>>2],p+328|0,t,p+68|0);i=o[e+232>>2]|0}b=b+1|0}while((b|0)<(i|0))}i=o[2685]|0;e=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=e;if(e|0){ae=m;return}do{if(o[i+4>>2]|0){$(m|0,0)|0;e=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[m+4>>2]|0)-(o[e+4>>2]|0)+(((o[m>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=m;return}}}while(0);o[2685]=o[i+20>>2];ae=m;return}function fe(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;o[t+16>>2]=o[e+4>>2];o[t+20>>2]=o[e+8>>2];o[t+24>>2]=o[e+12>>2];o[t+28>>2]=o[e+16>>2];o[t+32>>2]=o[e+20>>2];o[t+36>>2]=o[e+24>>2];o[t+40>>2]=o[e+28>>2];o[t+44>>2]=o[e+32>>2];o[t+48>>2]=o[e+36>>2];o[t+52>>2]=o[e+40>>2];o[t+56>>2]=o[e+44>>2];o[t+60>>2]=o[e+48>>2];o[t+64>>2]=o[e+52>>2];o[t+68>>2]=o[e+56>>2];o[t+72>>2]=o[e+60>>2];o[t+76>>2]=o[e+64>>2];o[t+80>>2]=o[e+68>>2];o[t+84>>2]=o[e+72>>2];o[t+88>>2]=o[e+76>>2];o[t+92>>2]=o[e+80>>2];o[t+96>>2]=o[e+84>>2];o[t+100>>2]=o[e+88>>2];o[t+104>>2]=o[e+92>>2];o[t+108>>2]=o[e+96>>2];o[t+112>>2]=o[e+100>>2];o[t+116>>2]=o[e+104>>2];o[t+120>>2]=o[e+108>>2];o[t+124>>2]=o[e+112>>2];o[t+128>>2]=o[e+116>>2];o[t+132>>2]=o[e+120>>2];o[t+136>>2]=o[e+124>>2];o[t+140>>2]=o[e+128>>2];o[t+144>>2]=o[e+132>>2];o[t+148>>2]=o[e+136>>2];o[t+152>>2]=o[e+140>>2];o[t+156>>2]=o[e+144>>2];o[t+160>>2]=o[e+148>>2];o[t+164>>2]=o[e+152>>2];o[t+168>>2]=o[e+156>>2];o[t+172>>2]=o[e+160>>2];o[t+176>>2]=o[e+164>>2];o[t+180>>2]=o[e+168>>2];o[t+184>>2]=o[e+172>>2];o[t+188>>2]=o[e+176>>2];o[t+224>>2]=o[e+180>>2];o[t+192>>2]=o[e+184>>2];o[t>>2]=0;o[t+4>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+192>>2]|0)|0;o[t+8>>2]=0;o[t+228>>2]=o[e+204>>2];o[t+232>>2]=o[e+208>>2];o[t+236>>2]=o[e+212>>2];o[t+240>>2]=o[e+216>>2];o[t+196>>2]=o[e+220>>2];o[t+200>>2]=o[e+224>>2];o[t+204>>2]=o[e+232>>2];o[t+208>>2]=o[e+228>>2];o[t+244>>2]=o[e+236>>2];n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t+12>>2]=r;if(!r){i=e+244|0;i=o[i>>2]|0;r=t+212|0;o[r>>2]=i;r=e+248|0;r=o[r>>2]|0;i=t+216|0;o[i>>2]=r;i=e+252|0;i=o[i>>2]|0;r=t+220|0;o[r>>2]=i;e=e+256|0;e=o[e>>2]|0;r=t+248|0;o[r>>2]=e;return 15808}xF[o[(o[i>>2]|0)+48>>2]&127](i,n);i=e+244|0;i=o[i>>2]|0;r=t+212|0;o[r>>2]=i;r=e+248|0;r=o[r>>2]|0;i=t+216|0;o[i>>2]=r;i=e+252|0;i=o[i>>2]|0;r=t+220|0;o[r>>2]=i;e=e+256|0;e=o[e>>2]|0;r=t+248|0;o[r>>2]=e;return 15808}function de(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0.0,a=0,l=0.0,_=0.0,u=0,f=0,d=0.0;if(!(o[e>>2]|0)){o[e>>2]=i;o[i+32>>2]=0;return}n=o[t+40>>2]|0;if(!n)f=t;else{s=+c[i>>2]+ +c[i+16>>2];_=+c[i+4>>2]+ +c[i+20>>2];l=+c[i+8>>2]+ +c[i+24>>2];do{f=o[t+36>>2]|0;d=+y(+(s-(+c[f>>2]+ +c[f+16>>2])))+ +y(+(_-(+c[f+4>>2]+ +c[f+20>>2])))+ +y(+(l-(+c[f+8>>2]+ +c[f+24>>2])));t=o[t+36+((!(d<+y(+(s-(+c[n>>2]+ +c[n+16>>2])))+ +y(+(_-(+c[n+4>>2]+ +c[n+20>>2])))+ +y(+(l-(+c[n+8>>2]+ +c[n+24>>2]))))&1)<<2)>>2]|0;n=o[t+40>>2]|0}while((n|0)!=0);f=t}u=f+32|0;r=o[u>>2]|0;t=o[e+4>>2]|0;if(!t){o[6747]=(o[6747]|0)+1;n=Do(63)|0;if(!n)t=0;else{o[(n+4+15&-16)+-4>>2]=n;t=n+4+15&-16}n=t;a=n+44|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(a|0))}else o[e+4>>2]=0;o[t+32>>2]=r;o[t+36>>2]=0;n=t+40|0;o[n>>2]=0;d=+c[i>>2];_=+c[f>>2];c[t>>2]=d<_?d:_;_=+c[i+16>>2];d=+c[f+16>>2];c[t+16>>2]=_>d?_:d;d=+c[i+4>>2];_=+c[f+4>>2];c[t+4>>2]=d<_?d:_;_=+c[i+20>>2];d=+c[f+20>>2];c[t+20>>2]=_>d?_:d;d=+c[i+8>>2];_=+c[f+8>>2];c[t+8>>2]=d<_?d:_;_=+c[i+24>>2];d=+c[f+24>>2];c[t+24>>2]=_>d?_:d;if(!r){o[t+36>>2]=f;o[u>>2]=t;o[n>>2]=i;o[i+32>>2]=t;o[e>>2]=t;return}o[r+36+(((o[(o[u>>2]|0)+40>>2]|0)==(f|0)&1)<<2)>>2]=t;o[t+36>>2]=f;o[u>>2]=t;o[n>>2]=i;o[i+32>>2]=t;s=+c[t>>2];while(1){n=r+4|0;if(((((+c[r>>2]<=s?+c[n>>2]<=+c[t+4>>2]:0)?+c[r+8>>2]<=+c[t+8>>2]:0)?+c[r+16>>2]>=+c[t+16>>2]:0)?+c[r+20>>2]>=+c[t+20>>2]:0)?+c[r+24>>2]>=+c[t+24>>2]:0){n=21;break}i=o[r+36>>2]|0;e=o[r+40>>2]|0;_=+c[i>>2];s=+c[e>>2];s=_<s?_:s;c[r>>2]=s;_=+c[i+16>>2];d=+c[e+16>>2];c[r+16>>2]=_>d?_:d;d=+c[i+4>>2];_=+c[e+4>>2];c[n>>2]=d<_?d:_;_=+c[i+20>>2];d=+c[e+20>>2];c[r+20>>2]=_>d?_:d;d=+c[i+8>>2];_=+c[e+8>>2];c[r+8>>2]=d<_?d:_;_=+c[i+24>>2];d=+c[e+24>>2];c[r+24>>2]=_>d?_:d;n=o[r+32>>2]|0;if(!n){n=21;break}else{t=r;r=n}}if((n|0)==21)return}function he(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0,u=0.0,f=0.0;if(n[e+48>>0]|0){o[t>>2]=0;o[t+4>>2]=0;return}o[t>>2]=4;o[t+4>>2]=2;gs(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);c[e+1088>>2]=0.0;n[e+297>>0]=0;u=+c[e+192>>2];f=+c[e+196>>2];do{if(u<=f){s=+c[e+892>>2];a=+c[e+908>>2];r=+c[e+924>>2];r=+M(+(+c[e+832>>2]*s+ +c[e+848>>2]*a+ +c[e+864>>2]*r),+(+c[e+828>>2]*s+ +c[e+844>>2]*a+ +c[e+860>>2]*r));do{if(!(u>=f)){if(r<u){if(!((u-r)%6.2831854820251465<-3.1415927410125732)){if((u-r)%6.2831854820251465>3.1415927410125732)s=(u-r)%6.2831854820251465+-6.2831854820251465;else s=(u-r)%6.2831854820251465}else s=(u-r)%6.2831854820251465+6.2831854820251465;s=+y(+s);if(!((f-r)%6.2831854820251465<-3.1415927410125732)){if((f-r)%6.2831854820251465>3.1415927410125732)a=(f-r)%6.2831854820251465+-6.2831854820251465;else a=(f-r)%6.2831854820251465}else a=(f-r)%6.2831854820251465+6.2831854820251465;l=s<+y(+a);r=l?r:r+6.2831854820251465;break}if(r>f){if(!((r-f)%6.2831854820251465<-3.1415927410125732)){if((r-f)%6.2831854820251465>3.1415927410125732)s=(r-f)%6.2831854820251465+-6.2831854820251465;else s=(r-f)%6.2831854820251465}else s=(r-f)%6.2831854820251465+6.2831854820251465;s=+y(+s);if(!((r-u)%6.2831854820251465<-3.1415927410125732)){if((r-u)%6.2831854820251465>3.1415927410125732)a=(r-u)%6.2831854820251465+-6.2831854820251465;else a=(r-u)%6.2831854820251465}else a=(r-u)%6.2831854820251465+6.2831854820251465;l=+y(+a)<s;r=l?r+-6.2831854820251465:r}}}while(0);c[e+1084>>2]=r;if(r<u){c[e+1088>>2]=r-u;n[e+297>>0]=1;l=1;break}if(r>f){c[e+1088>>2]=r-f;n[e+297>>0]=1;l=1}else l=0}else l=0}while(0);n[e+296>>0]=0;i=o[e+1032>>2]|0;o[e+1080>>2]=i;r=+c[e+184>>2];s=+c[e+188>>2];a=(o[_>>2]=i,+c[_>>2]);do{if(!(r<=s))i=32;else{if(!(s<a)){if(!(r>a)){i=32;break}}else r=s;c[e+1032>>2]=a-r;n[e+296>>0]=1;i=34}}while(0);if((i|0)==32?(c[e+1032>>2]=0.0,n[e+1096>>0]|0):0)i=34;if((i|0)==34){o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1}if(l<<24>>24==0?(n[e+1112>>0]|0)==0:0)return;o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1;return}function pe(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0;_=ae;ae=ae+128|0;e=o[e+16>>2]|0;d=+c[e+892>>2];E=+c[e+896>>2];S=+c[e+900>>2];C=+c[e+908>>2];u=+c[e+912>>2];s=+c[e+916>>2];v=+c[t>>2];y=+c[t+4>>2];g=+c[t+8>>2];m=+c[t+16>>2];b=+c[t+20>>2];p=+c[t+24>>2];f=+c[t+32>>2];r=+c[t+36>>2];a=+c[t+40>>2];A=+c[t+48>>2];h=+c[t+52>>2];l=+c[t+56>>2];c[_>>2]=d*v+E*y+S*g+A;c[_+4>>2]=d*m+E*b+S*p+h;c[_+8>>2]=d*f+E*r+S*a+l;c[_+12>>2]=0.0;c[_+16>>2]=C*v+E*y+S*g+A;c[_+20>>2]=C*m+E*b+S*p+h;c[_+24>>2]=C*f+E*r+S*a+l;c[_+28>>2]=0.0;c[_+32>>2]=C*v+u*y+S*g+A;c[_+36>>2]=C*m+u*b+S*p+h;c[_+40>>2]=C*f+u*r+S*a+l;c[_+44>>2]=0.0;c[_+48>>2]=d*v+u*y+S*g+A;c[_+52>>2]=d*m+u*b+S*p+h;c[_+56>>2]=d*f+u*r+S*a+l;c[_+60>>2]=0.0;c[_+64>>2]=d*v+E*y+s*g+A;c[_+68>>2]=d*m+E*b+s*p+h;c[_+72>>2]=d*f+E*r+s*a+l;c[_+76>>2]=0.0;c[_+80>>2]=C*v+E*y+s*g+A;c[_+84>>2]=C*m+E*b+s*p+h;c[_+88>>2]=C*f+E*r+s*a+l;c[_+92>>2]=0.0;c[_+96>>2]=C*v+u*y+s*g+A;c[_+100>>2]=C*m+u*b+s*p+h;c[_+104>>2]=C*f+u*r+s*a+l;c[_+108>>2]=0.0;c[_+112>>2]=d*v+u*y+s*g+A;c[_+116>>2]=d*m+u*b+s*p+h;c[_+120>>2]=d*f+u*r+s*a+l;c[_+124>>2]=0.0;o[n>>2]=o[_>>2];o[n+4>>2]=o[_+4>>2];o[n+8>>2]=o[_+8>>2];o[n+12>>2]=o[_+12>>2];o[i>>2]=o[_>>2];o[i+4>>2]=o[_+4>>2];o[i+8>>2]=o[_+8>>2];o[i+12>>2]=o[_+12>>2];t=1;do{r=+c[_+(t<<4)>>2];if(r<+c[i>>2])c[i>>2]=r;s=+c[_+(t<<4)+4>>2];if(s<+c[i+4>>2])c[i+4>>2]=s;a=+c[_+(t<<4)+8>>2];if(a<+c[i+8>>2])c[i+8>>2]=a;l=+c[_+(t<<4)+12>>2];if(l<+c[i+12>>2])c[i+12>>2]=l;if(+c[n>>2]<r)c[n>>2]=r;if(+c[n+4>>2]<s)c[n+4>>2]=s;if(+c[n+8>>2]<a)c[n+8>>2]=a;if(+c[n+12>>2]<l)c[n+12>>2]=l;t=t+1|0}while((t|0)!=8);ae=_;return}function be(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0,m=0;b=ae;ae=ae+64|0;$t(o[e+116>>2]|0,t,0);i=+c[t+204>>2]+ +c[t+212>>2];h=i*+c[t+56>>2]+ +c[t+40>>2];p=i*+c[t+60>>2]+ +c[t+44>>2];c[t+16>>2]=+c[t+52>>2]*i+ +c[t+36>>2];c[t+20>>2]=h;c[t+24>>2]=p;c[t+28>>2]=0.0;c[b+32>>2]=-1.0;m=o[e+100>>2]|0;m=AF[o[(o[m>>2]|0)+8>>2]&31](m,t+36|0,t+16|0,b)|0;o[t+88>>2]=0;if(!m){o[t+32>>2]=o[t+204>>2];c[t+272>>2]=0.0;p=-+c[t+56>>2];h=-+c[t+60>>2];c[t>>2]=-+c[t+52>>2];c[t+4>>2]=p;c[t+8>>2]=h;c[t+12>>2]=0.0;h=1.0;p=-1.0;m=t+268|0;c[m>>2]=h;ae=b;return+p}p=i*+c[b+32>>2];o[t>>2]=o[b+16>>2];o[t+4>>2]=o[b+16+4>>2];o[t+8>>2]=o[b+16+8>>2];o[t+12>>2]=o[b+16+12>>2];n[t+84>>0]=1;if((n[24952]|0)==0?PM(24952)|0:0){o[b+40>>2]=0;o[b+40+4>>2]=0;o[b+40+8>>2]=0;o[b+40+12>>2]=0;vt(26260,0.0,0,0,b+40|0);GR(24952)}o[6616]=o[6616]|1;c[6651]=0.0;h=+c[6661]*0.0;i=+c[6662]*0.0;c[6656]=+c[6660]*0.0;c[6657]=h;c[6658]=i;c[6659]=0.0;o[6664]=0;o[6665]=0;o[6666]=0;o[6667]=0;i=+c[6653]*0.0;h=+c[6654]*0.0;c[6705]=+c[6652]*0.0;c[6706]=i;c[6707]=h;c[6708]=0.0;o[t+88>>2]=26260;h=p-+c[t+212>>2];c[t+32>>2]=h;i=+c[t+204>>2];s=+c[t+208>>2]*.009999999776482582;r=h<i-s?i-s:h;if(h<i-s|r>i+s)c[t+32>>2]=r>i+s?i+s:r;o[t+16>>2]=o[b>>2];o[t+16+4>>2]=o[b+4>>2];o[t+16+8>>2]=o[b+8>>2];o[t+16+12>>2]=o[b+12>>2];u=+c[t>>2];f=+c[t+4>>2];d=+c[t+8>>2];h=u*+c[t+52>>2]+f*+c[t+56>>2]+d*+c[t+60>>2];e=o[e+116>>2]|0;a=+c[t+16>>2]-+c[e+52>>2];_=+c[t+20>>2]-+c[e+56>>2];l=+c[t+24>>2]-+c[e+60>>2];i=+c[e+332>>2];r=+c[e+336>>2];s=+c[e+328>>2];if(!(h>=-.10000000149011612)){c[t+272>>2]=-1.0/h*(u*(i*l-_*r+ +c[e+312>>2])+f*(a*r-l*s+ +c[e+316>>2])+d*(_*s-a*i+ +c[e+320>>2]));h=-1.0/h;m=t+268|0;c[m>>2]=h;ae=b;return+p}else{c[t+272>>2]=0.0;h=10.0;m=t+268|0;c[m>>2]=h;ae=b;return+p}return 0.0}function me(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0;y=+c[t>>2];g=+c[t+4>>2];A=+c[t+8>>2];m=1.0/+v(+(y*y+g*g+A*A));T=+c[i>>2];S=+c[i+4>>2];E=+c[i+8>>2];C=1.0/+v(+(T*T+S*S+E*E));O=A*m*(S*C)-g*m*(E*C);M=y*m*(E*C)-A*m*(T*C);R=g*m*(T*C)-y*m*(S*C);i=o[e+28>>2]|0;n=+c[i+4>>2];s=+c[i+20>>2];l=+c[i+36>>2];r=+c[i+8>>2];a=+c[i+24>>2];_=+c[i+40>>2];u=+c[i+12>>2];d=+c[i+28>>2];p=+c[i+44>>2];f=-+c[i+52>>2];h=-+c[i+56>>2];b=-+c[i+60>>2];c[e+48>>2]=l*R+(n*O+s*M);c[e+52>>2]=l*(E*C)+(n*(T*C)+s*(S*C));c[e+56>>2]=n*(y*m)+g*m*s+A*m*l;c[e+60>>2]=0.0;c[e+64>>2]=R*_+(r*O+a*M);c[e+68>>2]=T*C*r+S*C*a+E*C*_;c[e+72>>2]=y*m*r+g*m*a+A*m*_;c[e+76>>2]=0.0;c[e+80>>2]=O*u+M*d+R*p;c[e+84>>2]=T*C*u+S*C*d+E*C*p;c[e+88>>2]=y*m*u+g*m*d+A*m*p;c[e+92>>2]=0.0;c[e+96>>2]=n*0.0+s*0.0+l*0.0+(n*f+s*h+l*b);c[e+100>>2]=r*0.0+a*0.0+_*0.0+(r*f+a*h+_*b);c[e+104>>2]=u*0.0+d*0.0+p*0.0+(u*f+d*h+p*b);c[e+108>>2]=0.0;i=o[e+32>>2]|0;b=+c[i+4>>2];p=+c[i+20>>2];h=+c[i+36>>2];d=+c[i+8>>2];f=+c[i+24>>2];u=+c[i+40>>2];_=+c[i+12>>2];a=+c[i+28>>2];r=+c[i+44>>2];l=-+c[i+52>>2];s=-+c[i+56>>2];n=-+c[i+60>>2];c[e+112>>2]=O*b+M*p+R*h;c[e+116>>2]=T*C*b+S*C*p+E*C*h;c[e+120>>2]=y*m*b+g*m*p+A*m*h;c[e+124>>2]=0.0;c[e+128>>2]=O*d+M*f+R*u;c[e+132>>2]=T*C*d+S*C*f+E*C*u;c[e+136>>2]=y*m*d+g*m*f+A*m*u;c[e+140>>2]=0.0;c[e+144>>2]=O*_+M*a+R*r;c[e+148>>2]=T*C*_+S*C*a+E*C*r;c[e+152>>2]=y*m*_+g*m*a+A*m*r;c[e+156>>2]=0.0;c[e+160>>2]=b*0.0+p*0.0+h*0.0+(b*l+p*s+h*n);c[e+164>>2]=d*0.0+f*0.0+u*0.0+(d*l+f*s+u*n);c[e+168>>2]=_*0.0+a*0.0+r*0.0+(_*l+a*s+r*n);c[e+172>>2]=0.0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);return}function Ae(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,c=0,l=0;e:do{if(!(gA(e,o[t+8>>2]|0,s)|0)){if(!(gA(e,o[t>>2]|0,s)|0)){c=o[e+12>>2]|0;If(e+16|0,t,i,r,s);if((c|0)<=1)break;a=o[e+8>>2]|0;if((a&2|0)==0?(o[t+36>>2]|0)!=1:0){if(!(a&1)){a=e+24|0;while(1){if(n[t+54>>0]|0)break e;if((o[t+36>>2]|0)==1)break e;If(a,t,i,r,s);a=a+8|0;if(a>>>0>=(e+16+(c<<3)|0)>>>0)break e}}a=e+24|0;while(1){if(n[t+54>>0]|0)break e;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==1:0)break e;If(a,t,i,r,s);a=a+8|0;if(a>>>0>=(e+16+(c<<3)|0)>>>0)break e}}a=e+24|0;while(1){if(n[t+54>>0]|0)break e;If(a,t,i,r,s);a=a+8|0;if(a>>>0>=(e+16+(c<<3)|0)>>>0)break e}}if((o[t+16>>2]|0)!=(i|0)?(o[t+20>>2]|0)!=(i|0):0){o[t+32>>2]=r;if((o[t+44>>2]|0)!=4){r=e+16+(o[e+12>>2]<<3)|0;a=0;c=0;l=e+16|0;t:while(1){if(l>>>0>=r>>>0){r=18;break}n[t+52>>0]=0;n[t+53>>0]=0;uf(l,t,i,i,1,s);if(n[t+54>>0]|0){r=18;break}do{if(n[t+53>>0]|0){if(!(n[t+52>>0]|0))if(!(o[e+8>>2]&1)){r=19;break t}else{c=1;break}if((o[t+24>>2]|0)==1){a=1;r=19;break t}if(!(o[e+8>>2]&2)){a=1;r=19;break t}else{a=1;c=1}}}while(0);l=l+8|0}if((r|0)==18)if(c)r=19;else c=4;if((r|0)==19)c=3;o[t+44>>2]=c;if(a&1)break}o[t+20>>2]=i;o[t+40>>2]=(o[t+40>>2]|0)+1;if((o[t+36>>2]|0)!=1)break;if((o[t+24>>2]|0)!=2)break;n[t+54>>0]=1;break}if((r|0)==1)o[t+32>>2]=1}else Bb(t,i,r)}while(0);return}function ge(e){e=e|0;var t=0.0,i=0.0,r=0.0,s=0,a=0,l=0,_=0;s=ae;ae=ae+16|0;if(!(n[e+1308>>0]|0)){ae=s;return}c[e+928>>2]=0.0;c[e+992>>2]=0.0;c[e+1056>>2]=0.0;o[e+712>>2]=0;o[e+712+4>>2]=0;o[e+712+8>>2]=0;o[e+712+12>>2]=0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);SF[o[(o[e>>2]|0)+44>>2]&511](e);t=+c[e+1284>>2];i=+c[e+1288>>2];r=+c[e+1292>>2];if(+c[e+696>>2]>=+c[e+680>>2]){_=(n[e+1300>>0]|0)==0;a=o[(_?e+1160|0:e+1096|0)>>2]|0;l=o[(_?e+1144|0:e+1080|0)>>2]|0;o[s>>2]=o[(_?e+1128|0:e+1064|0)>>2];o[s+4>>2]=l;o[s+8>>2]=a;c[s+12>>2]=0.0;ji(o[e+28>>2]|0,o[e+32>>2]|0,e+176|0,s,t,i,r,t,i,r)}if(+c[e+700>>2]>=+c[e+684>>2]){a=(n[e+1300>>0]|0)==0;_=o[(a?e+1164|0:e+1100|0)>>2]|0;l=o[(a?e+1148|0:e+1084|0)>>2]|0;o[s>>2]=o[(a?e+1132|0:e+1068|0)>>2];o[s+4>>2]=l;o[s+8>>2]=_;c[s+12>>2]=0.0;ji(o[e+28>>2]|0,o[e+32>>2]|0,e+260|0,s,t,i,r,t,i,r)}if(+c[e+704>>2]>=+c[e+688>>2]){a=(n[e+1300>>0]|0)==0;_=o[(a?e+1168|0:e+1104|0)>>2]|0;l=o[(a?e+1152|0:e+1088|0)>>2]|0;o[s>>2]=o[(a?e+1136|0:e+1072|0)>>2];o[s+4>>2]=l;o[s+8>>2]=_;c[s+12>>2]=0.0;ji(o[e+28>>2]|0,o[e+32>>2]|0,e+344|0,s,t,i,r,t,i,r)}if(at(e,0)|0){o[s>>2]=o[e+1208>>2];o[s+4>>2]=o[e+1208+4>>2];o[s+8>>2]=o[e+1208+8>>2];o[s+12>>2]=o[e+1208+12>>2];Yt(o[e+28>>2]|0,o[e+32>>2]|0,e+428|0,s)}if(at(e,1)|0){o[s>>2]=o[e+1224>>2];o[s+4>>2]=o[e+1224+4>>2];o[s+8>>2]=o[e+1224+8>>2];o[s+12>>2]=o[e+1224+12>>2];Yt(o[e+28>>2]|0,o[e+32>>2]|0,e+512|0,s)}if(at(e,2)|0){o[s>>2]=o[e+1240>>2];o[s+4>>2]=o[e+1240+4>>2];o[s+8>>2]=o[e+1240+8>>2];o[s+12>>2]=o[e+1240+12>>2];Yt(o[e+28>>2]|0,o[e+32>>2]|0,e+596|0,s)}ae=s;return}function ye(e,t,i){e=e|0;t=t|0;i=i|0;var s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;o[6725]=(o[6725]|0)+1;s=o[e+24>>2]|0;if(!s){if(!((r[i+6>>1]&r[t+4>>1])<<16>>16)){e=0;return e|0}if(!((r[t+6>>1]&r[i+4>>1])<<16>>16)){e=0;return e|0}}else if(!(mF[o[(o[s>>2]|0)+8>>2]&63](s,t,i)|0)){e=0;return e|0}u=(o[t+12>>2]|0)>(o[i+12>>2]|0);f=u?i:t;c=o[f+12>>2]|0;u=u?t:i;i=o[u+12>>2]|0;_=(i<<16|c)+~((i<<16|c)<<15)|0;_=((10?_>>10:_)^_)*9|0;_=(6?_>>6:_)^_;_=(16?_+~(_<<11)>>16:_+~(_<<11)|0)^_+~(_<<11);l=o[e+12>>2]|0;s=o[(o[e+44>>2]|0)+((_&l+-1)<<2)>>2]|0;e:do{if((s|0)!=-1){a=o[e+16>>2]|0;t=s;while(1){s=a+(t<<4)|0;if((o[(o[s>>2]|0)+12>>2]|0)==(c|0)?(o[(o[a+(t<<4)+4>>2]|0)+12>>2]|0)==(i|0):0)break;t=o[(o[e+64>>2]|0)+(t<<2)>>2]|0;if((t|0)==-1)break e}return s|0}}while(0);c=o[e+8>>2]|0;if((c|0)==(l|0)){s=(l|0)==0?1:l<<1;if((l|0)<(s|0)){if(!s){i=l;a=0}else{o[6747]=(o[6747]|0)+1;t=Do((s<<4|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}i=o[e+8>>2]|0;a=t}if((i|0)>0){t=0;do{d=o[e+16>>2]|0;o[a+(t<<4)>>2]=o[d+(t<<4)>>2];o[a+(t<<4)+4>>2]=o[d+(t<<4)+4>>2];o[a+(t<<4)+8>>2]=o[d+(t<<4)+8>>2];o[a+(t<<4)+12>>2]=o[d+(t<<4)+12>>2];t=t+1|0}while((t|0)!=(i|0))}t=o[e+16>>2]|0;if(t|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=a;o[e+12>>2]=s;t=o[e+8>>2]|0}else{t=l;s=l}}else{t=c;s=l}o[e+8>>2]=t+1;i=o[e+16>>2]|0;t=o[e+72>>2]|0;if(t){mF[o[(o[t>>2]|0)+8>>2]&63](t,f,u)|0;s=o[e+12>>2]|0}if((l|0)<(s|0)){Fe(e);s=(o[e+12>>2]|0)+-1&_}else s=_&l+-1;d=(o[f+12>>2]|0)<(o[u+12>>2]|0);o[i+(c<<4)>>2]=d?f:u;o[i+(c<<4)+4>>2]=d?u:f;o[i+(c<<4)+8>>2]=0;o[i+(c<<4)+8+4>>2]=0;d=(o[e+44>>2]|0)+(s<<2)|0;o[(o[e+64>>2]|0)+(c<<2)>>2]=o[d>>2];o[d>>2]=c;d=i+(c<<4)|0;return d|0}function ve(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0.0,l=0.0,_=0.0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0.0,g=0,y=0.0,v=0.0,C=0.0,E=0;E=ae;ae=ae+32|0;m=o[e+12>>2]|0;A=+c[m+(((n+i|0)/2|0)*24|0)>>2];y=+c[m+(((n+i|0)/2|0)*24|0)+4>>2];v=+c[m+(((n+i|0)/2|0)*24|0)+8>>2];C=+c[m+(((n+i|0)/2|0)*24|0)+16>>2];g=o[m+(((n+i|0)/2|0)*24|0)+20>>2]|0;r=i;s=n;while(1){d=+c[t>>2];h=+c[t+4>>2];p=+c[t+8>>2];b=(A-d)*(A-d)+(y-h)*(y-h)+(v-p)*(v-p);e:while(1){f=m+(r*24|0)|0;a=+c[m+(r*24|0)+16>>2];do{if(a!=C){if(!(a<C))break e}else{a=+c[f>>2]-d;_=+c[m+(r*24|0)+4>>2]-h;l=+c[m+(r*24|0)+8>>2]-p;if(a*a+_*_+l*l!=b){if(a*a+_*_+l*l<b)break;else break e}else if((o[m+(r*24|0)+20>>2]|0)<(g|0))break;else break e}}while(0);r=r+1|0}e:while(1){u=m+(s*24|0)|0;a=+c[m+(s*24|0)+16>>2];do{if(C!=a){if(!(C<a))break e}else{a=+c[u>>2]-d;_=+c[m+(s*24|0)+4>>2]-h;l=+c[m+(s*24|0)+8>>2]-p;if(b!=a*a+_*_+l*l){if(b<a*a+_*_+l*l)break;else break e}else if((g|0)<(o[m+(s*24|0)+20>>2]|0))break;else break e}}while(0);s=s+-1|0}if((r|0)<=(s|0)){o[E>>2]=o[f>>2];o[E+4>>2]=o[f+4>>2];o[E+8>>2]=o[f+8>>2];o[E+12>>2]=o[f+12>>2];o[E+16>>2]=o[f+16>>2];o[E+20>>2]=o[f+20>>2];o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];o[f+16>>2]=o[u+16>>2];o[f+20>>2]=o[u+20>>2];m=(o[e+12>>2]|0)+(s*24|0)|0;o[m>>2]=o[E>>2];o[m+4>>2]=o[E+4>>2];o[m+8>>2]=o[E+8>>2];o[m+12>>2]=o[E+12>>2];o[m+16>>2]=o[E+16>>2];o[m+20>>2]=o[E+20>>2];r=r+1|0;s=s+-1|0}if((r|0)>(s|0))break;m=o[e+12>>2]|0}if((s|0)>(i|0))ve(e,t,i,s);if((r|0)>=(n|0)){ae=E;return}ve(e,t,r,n);ae=E;return}function Ce(e,t){e=e|0;t=t|0;var i=0.0,n=0,r=0.0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;l=o[e+28>>2]|0;_=o[e+32>>2]|0;s=o[t+8>>2]|0;c[s>>2]=1.0;n=o[t+24>>2]|0;c[s+(n+1<<2)>>2]=1.0;c[s+((n<<1)+2<<2)>>2]=1.0;u=+c[e+300>>2];b=+c[e+304>>2];r=+c[e+308>>2];h=+c[l+4>>2]*u+ +c[l+8>>2]*b+ +c[l+12>>2]*r;f=u*+c[l+20>>2]+b*+c[l+24>>2]+r*+c[l+28>>2];r=u*+c[l+36>>2]+b*+c[l+40>>2]+r*+c[l+44>>2];s=o[t+12>>2]|0;o[s>>2]=0;c[s+4>>2]=r;c[s+8>>2]=-f;c[s+12>>2]=0.0;c[s+(n<<2)>>2]=-r;o[s+(n<<2)+4>>2]=0;c[s+(n<<2)+8>>2]=h;c[s+(n<<2)+12>>2]=0.0;c[s+(n<<1<<2)>>2]=f;c[s+(n<<1<<2)+4>>2]=-h;o[s+(n<<1<<2)+8>>2]=0;c[s+(n<<1<<2)+12>>2]=0.0;s=o[t+16>>2]|0;c[s>>2]=-1.0;c[s+(n+1<<2)>>2]=-1.0;c[s+((n<<1)+2<<2)>>2]=-1.0;b=+c[e+316>>2];u=+c[e+320>>2];i=+c[e+324>>2];p=+c[_+4>>2]*b+ +c[_+8>>2]*u+ +c[_+12>>2]*i;d=b*+c[_+20>>2]+u*+c[_+24>>2]+i*+c[_+28>>2];i=b*+c[_+36>>2]+u*+c[_+40>>2]+i*+c[_+44>>2];s=o[t+20>>2]|0;o[s>>2]=0;c[s+4>>2]=-i;c[s+8>>2]=d;c[s+12>>2]=0.0;c[s+(n<<2)>>2]=i;o[s+(n<<2)+4>>2]=0;c[s+(n<<2)+8>>2]=-p;c[s+(n<<2)+12>>2]=0.0;c[s+(n<<1<<2)>>2]=-d;c[s+(n<<1<<2)+4>>2]=p;o[s+(n<<1<<2)+8>>2]=0;c[s+(n<<1<<2)+12>>2]=0.0;s=o[e+332>>2]|0;u=+c[((s&1|0)==0?t+4|0:e+336|0)>>2]*+c[t>>2];a=o[t+28>>2]|0;c[a>>2]=u*(p+ +c[_+52>>2]-h-+c[l+52>>2]);c[a+(n<<2)>>2]=u*(d+ +c[_+56>>2]-f-+c[l+56>>2]);c[a+(n<<1<<2)>>2]=u*(i+ +c[_+60>>2]-r-+c[l+60>>2]);if(s&2|0){_=o[t+32>>2]|0;o[_>>2]=o[e+340>>2];o[_+(n<<2)>>2]=o[e+340>>2];o[_+(n<<1<<2)>>2]=o[e+340>>2]}r=+c[e+356>>2];if(r>0.0){c[o[t+36>>2]>>2]=-r;c[o[t+40>>2]>>2]=r;i=+c[e+356>>2]}else i=r;if(i>0.0){c[(o[t+36>>2]|0)+(n<<2)>>2]=-r;c[(o[t+40>>2]|0)+(n<<2)>>2]=r;i=+c[e+356>>2]}if(!(i>0.0)){l=e+352|0;l=o[l>>2]|0;_=t+52|0;o[_>>2]=l;return}c[(o[t+36>>2]|0)+(n<<1<<2)>>2]=-r;c[(o[t+40>>2]|0)+(n<<1<<2)>>2]=r;l=e+352|0;l=o[l>>2]|0;_=t+52|0;o[_>>2]=l;return}function Ee(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0.0,m=0.0,A=0.0,g=0,y=0.0,v=0.0,C=0.0,E=0,S=0.0,T=0.0,R=0,M=0.0,O=0,I=0.0,x=0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0;l=(n[e+28>>0]|0)!=0;O=l?i:t;l=l?t:i;t=o[e+12>>2]|0;if((t|0)<=0){M=1.0;return+M}u=(o[O+192>>2]|0)+24|0;f=+c[O+4>>2];S=+c[O+8>>2];T=+c[O+12>>2];R=o[O+16>>2]|0;M=+c[O+20>>2];d=+c[O+24>>2];h=+c[O+28>>2];p=o[O+32>>2]|0;b=+c[O+36>>2];m=+c[O+40>>2];A=+c[O+44>>2];g=o[O+48>>2]|0;y=+c[O+52>>2];v=+c[O+56>>2];C=+c[O+60>>2];E=o[O+64>>2]|0;i=o[O+260>>2]|0;a=1.0;_=0;do{x=o[u>>2]|0;j=+c[x+(_*80|0)>>2];H=+c[x+(_*80|0)+16>>2];U=+c[x+(_*80|0)+32>>2];k=+c[x+(_*80|0)+4>>2];B=+c[x+(_*80|0)+20>>2];N=+c[x+(_*80|0)+36>>2];F=+c[x+(_*80|0)+8>>2];L=+c[x+(_*80|0)+24>>2];w=+c[x+(_*80|0)+40>>2];D=+c[x+(_*80|0)+48>>2];P=+c[x+(_*80|0)+52>>2];I=+c[x+(_*80|0)+56>>2];o[O+260>>2]=i+1;c[O+4>>2]=f*j+S*H+T*U;c[O+8>>2]=f*k+S*B+T*N;c[O+12>>2]=f*F+S*L+T*w;c[O+16>>2]=0.0;c[O+20>>2]=M*j+d*H+h*U;c[O+24>>2]=M*k+d*B+h*N;c[O+28>>2]=M*F+d*L+h*w;c[O+32>>2]=0.0;c[O+36>>2]=b*j+m*H+A*U;c[O+40>>2]=b*k+m*B+A*N;c[O+44>>2]=b*F+m*L+A*w;c[O+48>>2]=0.0;c[O+52>>2]=y+(f*D+S*P+T*I);c[O+56>>2]=v+(M*D+d*P+h*I);c[O+60>>2]=C+(b*D+m*P+A*I);c[O+64>>2]=0.0;x=o[(o[e+20>>2]|0)+(_<<2)>>2]|0;I=+lF[o[(o[x>>2]|0)+12>>2]&15](x,O,l,r,s);a=I<a?I:a;i=(o[O+260>>2]|0)+1|0;o[O+260>>2]=i;c[O+4>>2]=f;c[O+8>>2]=S;c[O+12>>2]=T;o[O+16>>2]=R;c[O+20>>2]=M;c[O+24>>2]=d;c[O+28>>2]=h;o[O+32>>2]=p;c[O+36>>2]=b;c[O+40>>2]=m;c[O+44>>2]=A;o[O+48>>2]=g;c[O+52>>2]=y;c[O+56>>2]=v;c[O+60>>2]=C;o[O+64>>2]=E;_=_+1|0}while((_|0)!=(t|0));return+a}function Se(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0;o[6724]=(o[6724]|0)+1;l=(o[t+12>>2]|0)>(o[i+12>>2]|0);u=l?i:t;a=o[u+12>>2]|0;l=l?t:i;s=o[l+12>>2]|0;c=(s<<16|a)+~((s<<16|a)<<15)|0;c=((10?c>>10:c)^c)*9|0;c=(6?c>>6:c)^c;c=((16?c+~(c<<11)>>16:c+~(c<<11)|0)^c+~(c<<11))&(o[e+12>>2]|0)+-1;t=o[(o[e+44>>2]|0)+(c<<2)>>2]|0;if((t|0)==-1){h=0;return h|0}r=o[e+16>>2]|0;while(1){i=r+(t<<4)|0;if((o[(o[i>>2]|0)+12>>2]|0)==(a|0)?(o[(o[r+(t<<4)+4>>2]|0)+12>>2]|0)==(s|0):0)break;t=o[(o[e+64>>2]|0)+(t<<2)>>2]|0;if((t|0)==-1){t=0;h=25;break}}if((h|0)==25)return t|0;LF[o[(o[e>>2]|0)+32>>2]&127](e,i,n);d=o[r+(t<<4)+12>>2]|0;f=i-(o[e+16>>2]|0)|0;f=4?f>>4:f;a=(o[e+44>>2]|0)+(c<<2)|0;t=o[a>>2]|0;i=o[e+64>>2]|0;if((t|0)!=(f|0)){s=t;while(1){r=i+(s<<2)|0;t=o[r>>2]|0;if((t|0)==(f|0))break;else s=t}t=o[i+(f<<2)>>2]|0;if((s|0)==-1)h=12;else o[r>>2]=t}else{t=o[i+(f<<2)>>2]|0;h=12}if((h|0)==12)o[a>>2]=t;_=(o[e+8>>2]|0)+-1|0;t=o[e+72>>2]|0;if(t|0)AF[o[(o[t>>2]|0)+12>>2]&31](t,u,l,n)|0;if((_|0)==(f|0)){o[e+8>>2]=(o[e+8>>2]|0)+-1;h=d;return h|0}a=o[e+16>>2]|0;c=o[(o[a+(_<<4)+4>>2]|0)+12>>2]<<16|o[(o[a+(_<<4)>>2]|0)+12>>2];c=((10?c+~(c<<15)>>10:c+~(c<<15)|0)^c+~(c<<15))*9|0;c=(6?c>>6:c)^c;c=((16?c+~(c<<11)>>16:c+~(c<<11)|0)^c+~(c<<11))&(o[e+12>>2]|0)+-1;l=(o[e+44>>2]|0)+(c<<2)|0;t=o[l>>2]|0;i=o[e+64>>2]|0;if((t|0)!=(_|0)){s=t;while(1){r=i+(s<<2)|0;t=o[r>>2]|0;if((t|0)==(_|0))break;else s=t}t=o[i+(_<<2)>>2]|0;if((s|0)==-1)h=23;else o[r>>2]=t}else{t=o[i+(_<<2)>>2]|0;h=23}if((h|0)==23)o[l>>2]=t;o[a+(f<<4)>>2]=o[a+(_<<4)>>2];o[a+(f<<4)+4>>2]=o[a+(_<<4)+4>>2];o[a+(f<<4)+8>>2]=o[a+(_<<4)+8>>2];o[a+(f<<4)+12>>2]=o[a+(_<<4)+12>>2];h=(o[e+44>>2]|0)+(c<<2)|0;o[(o[e+64>>2]|0)+(f<<2)>>2]=o[h>>2];o[h>>2]=f;o[e+8>>2]=(o[e+8>>2]|0)+-1;h=d;return h|0}function Te(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0;h=ae;ae=ae+64|0;i=o[t+192>>2]|0;BF[o[(o[i>>2]|0)+8>>2]&127](i,t+4|0,h+48|0,h+32|0);_=+c[h+48>>2]+-.019999999552965164;c[h+48>>2]=_;u=+c[h+48+4>>2]+-.019999999552965164;c[h+48+4>>2]=u;l=+c[h+48+8>>2]+-.019999999552965164;c[h+48+8>>2]=l;r=+c[h+32>>2]+.019999999552965164;c[h+32>>2]=r;s=+c[h+32+4>>2]+.019999999552965164;c[h+32+4>>2]=s;a=+c[h+32+8>>2]+.019999999552965164;c[h+32+8>>2]=a;if(((n[e+44>>0]|0)!=0?(o[t+236>>2]|0)==2:0)?(o[t+204>>2]&3|0)==0:0){i=o[t+192>>2]|0;BF[o[(o[i>>2]|0)+8>>2]&127](i,t+68|0,h+16|0,h);_=+c[h+16>>2]+-.019999999552965164;c[h+16>>2]=_;u=+c[h+16+4>>2]+-.019999999552965164;c[h+16+4>>2]=u;s=+c[h+16+8>>2]+-.019999999552965164;c[h+16+8>>2]=s;a=+c[h>>2]+.019999999552965164;c[h>>2]=a;l=+c[h+4>>2]+.019999999552965164;c[h+4>>2]=l;f=+c[h+8>>2]+.019999999552965164;c[h+8>>2]=f;r=+c[h+48>>2];if(_<r)c[h+48>>2]=_;else _=r;r=+c[h+48+4>>2];if(u<r)c[h+48+4>>2]=u;else u=r;r=+c[h+48+8>>2];if(s<r){c[h+48+8>>2]=s;d=s}else d=r;r=+c[h+16+12>>2];if(r<+c[h+48+12>>2])c[h+48+12>>2]=r;r=+c[h+32>>2];if(r<a){c[h+32>>2]=a;r=a}s=+c[h+32+4>>2];if(s<l){c[h+32+4>>2]=l;s=l}a=+c[h+32+8>>2];if(a<f){c[h+32+8>>2]=f;a=f}l=+c[h+12>>2];if(+c[h+32+12>>2]<l)c[h+32+12>>2]=l;l=d}i=o[e+68>>2]|0;if((o[t+204>>2]&1|0)==0?(_=r-_,f=s-u,d=a-l,!(_*_+f*f+d*d<999999995904.0)):0){if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=5;if(!(n[17627]|0)){ae=h;return}i=o[e+72>>2]|0;if(!i){ae=h;return}n[17627]=0;xF[o[(o[i>>2]|0)+36>>2]&127](i,17628);t=o[e+72>>2]|0;xF[o[(o[t>>2]|0)+36>>2]&127](t,17677);t=o[e+72>>2]|0;xF[o[(o[t>>2]|0)+36>>2]&127](t,17745);e=o[e+72>>2]|0;xF[o[(o[e>>2]|0)+36>>2]&127](e,17810);ae=h;return}jF[o[(o[i>>2]|0)+16>>2]&31](i,o[t+188>>2]|0,h+48|0,h+32|0,o[e+24>>2]|0);ae=h;return}function Re(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,a=0.0,l=0;sn(e,t,i)|0;o[t+52>>2]=o[e+552>>2];o[t+56>>2]=o[e+556>>2];o[t+60>>2]=o[e+560>>2];o[t+64>>2]=o[e+564>>2];o[t+68>>2]=o[e+568>>2];o[t+72>>2]=o[e+572>>2];o[t+76>>2]=o[e+576>>2];o[t+80>>2]=o[e+580>>2];o[t+84>>2]=o[e+584>>2];o[t+88>>2]=o[e+588>>2];o[t+92>>2]=o[e+592>>2];o[t+96>>2]=o[e+596>>2];o[t+100>>2]=o[e+600>>2];o[t+104>>2]=o[e+604>>2];o[t+108>>2]=o[e+608>>2];o[t+112>>2]=o[e+612>>2];o[t+116>>2]=o[e+616>>2];o[t+120>>2]=o[e+620>>2];o[t+124>>2]=o[e+624>>2];o[t+128>>2]=o[e+628>>2];o[t+132>>2]=o[e+632>>2];o[t+136>>2]=o[e+636>>2];o[t+140>>2]=o[e+640>>2];o[t+144>>2]=o[e+644>>2];o[t+148>>2]=o[e+648>>2];o[t+152>>2]=o[e+652>>2];o[t+156>>2]=o[e+656>>2];o[t+160>>2]=o[e+660>>2];o[t+164>>2]=o[e+664>>2];o[t+168>>2]=o[e+668>>2];o[t+172>>2]=o[e+672>>2];o[t+176>>2]=o[e+676>>2];o[t+184>>2]=s[e+736>>0];o[t+188>>2]=s[e+737>>0];o[t+196>>2]=o[e+684>>2];o[t+192>>2]=o[e+680>>2];o[t+180>>2]=s[e+740>>0];n=+c[e+688>>2];r=+c[e+692>>2];if(!((n-r)%6.2831854820251465<-3.1415927410125732)){if((n-r)%6.2831854820251465>3.1415927410125732)a=(n-r)%6.2831854820251465+-6.2831854820251465;else a=(n-r)%6.2831854820251465}else a=(n-r)%6.2831854820251465+6.2831854820251465;c[t+200>>2]=a;if((n+r)%6.2831854820251465<-3.1415927410125732){a=(n+r)%6.2831854820251465+6.2831854820251465;i=t+204|0;c[i>>2]=a;i=e+696|0;i=o[i>>2]|0;l=t+208|0;o[l>>2]=i;l=e+700|0;l=o[l>>2]|0;i=t+212|0;o[i>>2]=l;i=e+704|0;i=o[i>>2]|0;e=t+216|0;o[e>>2]=i;return 15409}if(!((n+r)%6.2831854820251465>3.1415927410125732)){a=(n+r)%6.2831854820251465;l=t+204|0;c[l>>2]=a;l=e+696|0;l=o[l>>2]|0;i=t+208|0;o[i>>2]=l;i=e+700|0;i=o[i>>2]|0;l=t+212|0;o[l>>2]=i;e=e+704|0;e=o[e>>2]|0;l=t+216|0;o[l>>2]=e;return 15409}a=(n+r)%6.2831854820251465+-6.2831854820251465;l=t+204|0;c[l>>2]=a;l=e+696|0;l=o[l>>2]|0;i=t+208|0;o[i>>2]=l;i=e+700|0;i=o[i>>2]|0;l=t+212|0;o[l>>2]=i;e=e+704|0;e=o[e>>2]|0;l=t+216|0;o[l>>2]=e;return 15409}function Me(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0;a=Im()|0;o[a+4>>2]=7;o[a+8>>2]=-1;o[a+12>>2]=-1;c[a+16>>2]=3402823466385288598117041.0e14;n[a+20>>0]=1;n[a+21>>0]=0;o[a+24>>2]=-1;o[a+28>>2]=e;o[a+32>>2]=t;c[a+36>>2]=0.0;c[a+40>>2]=.30000001192092896;o[a+44>>2]=0;o[a>>2]=5712;n[a+48>>0]=0;o[a+52>>2]=o[i>>2];o[a+52+4>>2]=o[i+4>>2];o[a+52+8>>2]=o[i+8>>2];o[a+52+12>>2]=o[i+12>>2];o[a+68>>2]=o[i+16>>2];o[a+68+4>>2]=o[i+16+4>>2];o[a+68+8>>2]=o[i+16+8>>2];o[a+68+12>>2]=o[i+16+12>>2];o[a+84>>2]=o[i+32>>2];o[a+84+4>>2]=o[i+32+4>>2];o[a+84+8>>2]=o[i+32+8>>2];o[a+84+12>>2]=o[i+32+12>>2];o[a+100>>2]=o[i+48>>2];o[a+100+4>>2]=o[i+48+4>>2];o[a+100+8>>2]=o[i+48+8>>2];o[a+100+12>>2]=o[i+48+12>>2];o[a+116>>2]=o[r>>2];o[a+116+4>>2]=o[r+4>>2];o[a+116+8>>2]=o[r+8>>2];o[a+116+12>>2]=o[r+12>>2];o[a+132>>2]=o[r+16>>2];o[a+132+4>>2]=o[r+16+4>>2];o[a+132+8>>2]=o[r+16+8>>2];o[a+132+12>>2]=o[r+16+12>>2];o[a+148>>2]=o[r+32>>2];o[a+148+4>>2]=o[r+32+4>>2];o[a+148+8>>2]=o[r+32+8>>2];o[a+148+12>>2]=o[r+32+12>>2];o[a+164>>2]=o[r+48>>2];o[a+164+4>>2]=o[r+48+4>>2];o[a+164+8>>2]=o[r+48+8>>2];o[a+164+12>>2]=o[r+48+12>>2];n[a+180>>0]=s&1;c[a+184>>2]=1.0;c[a+188>>2]=-1.0;c[a+192>>2]=0.0;c[a+196>>2]=0.0;c[a+200>>2]=1.0;c[a+204>>2]=.699999988079071;c[a+208>>2]=0.0;c[a+212>>2]=0.0;c[a+216>>2]=1.0;c[a+220>>2]=.699999988079071;c[a+224>>2]=0.0;c[a+228>>2]=0.0;c[a+264>>2]=1.0;c[a+268>>2]=.699999988079071;c[a+272>>2]=1.0;c[a+276>>2]=0.0;c[a+280>>2]=1.0;c[a+284>>2]=.699999988079071;c[a+288>>2]=1.0;c[a+292>>2]=0.0;c[a+232>>2]=1.0;c[a+236>>2]=.699999988079071;c[a+240>>2]=1.0;c[a+244>>2]=0.0;c[a+248>>2]=1.0;c[a+252>>2]=.699999988079071;c[a+256>>2]=1.0;c[a+260>>2]=0.0;n[a+1096>>0]=0;c[a+1116>>2]=0.0;c[a+1120>>2]=0.0;c[a+1124>>2]=0.0;o[a+300>>2]=0;o[a+1100>>2]=0;o[a+1100+4>>2]=0;o[a+1100+8>>2]=0;n[a+1100+12>>0]=0;n[a+49>>0]=1;gs(a,(o[a+28>>2]|0)+4|0,(o[a+32>>2]|0)+4|0);return a|0}function Oe(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0;h=ae;ae=ae+32|0;n[h+16>>0]=1;o[h+12>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;if((o[e+8>>2]|0)>0){s=0;r=0;i=0;a=0;f=0;do{_=o[e+16>>2]|0;u=_+(f<<4)|0;if((s|0)==(r|0)){l=(r|0)==0?1:r<<1;if((r|0)<(l|0)){if(l){o[6747]=(o[6747]|0)+1;i=Do((l<<4|3)+16|0)|0;if(!i){r=s;a=0}else{o[(i+4+15&-16)+-4>>2]=i;r=s;a=i+4+15&-16}}else a=0;if((r|0)>0){i=0;do{c=o[h+12>>2]|0;o[a+(i<<4)>>2]=o[c+(i<<4)>>2];o[a+(i<<4)+4>>2]=o[c+(i<<4)+4>>2];o[a+(i<<4)+8>>2]=o[c+(i<<4)+8>>2];o[a+(i<<4)+12>>2]=o[c+(i<<4)+12>>2];i=i+1|0}while((i|0)!=(r|0))}i=o[h+12>>2]|0;if(!i)s=r;else{if(!(n[h+16>>0]|0))s=r;else{o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[h+12>>2]=0}n[h+16>>0]=1;o[h+12>>2]=a;i=a;c=s;r=l;a=l}else c=r}else c=s;o[i+(c<<4)>>2]=o[u>>2];o[i+(c<<4)+4>>2]=o[_+(f<<4)+4>>2];o[i+(c<<4)+8>>2]=o[_+(f<<4)+8>>2];o[i+(c<<4)+12>>2]=o[_+(f<<4)+12>>2];s=c+1|0;f=f+1|0}while((f|0)<(o[e+8>>2]|0));o[h+4>>2]=s;o[h+8>>2]=a;if((c|0)>-1){i=o[h+12>>2]|0;r=0;while(1){AF[o[(o[e>>2]|0)+12>>2]&31](e,o[i+(r<<4)>>2]|0,o[i+(r<<4)+4>>2]|0,t)|0;if((r|0)<(c|0))r=r+1|0;else break}}}else s=0;if((o[e+56>>2]|0)>0){i=o[e+64>>2]|0;r=0;do{o[i+(r<<2)>>2]=-1;r=r+1|0}while((r|0)<(o[e+56>>2]|0))}if((s|0)<=1){if((s|0)<=0){i=o[h+12>>2]|0;if(!i){ae=h;return}}else d=26}else{Ur(h,0,s+-1|0);d=26}if((d|0)==26){i=o[h+12>>2]|0;r=0;do{mF[o[(o[e>>2]|0)+8>>2]&63](e,o[i+(r<<4)>>2]|0,o[i+(r<<4)+4>>2]|0)|0;r=r+1|0}while((r|0)<(s|0))}o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);o[h+12>>2]=0;ae=h;return}function Ie(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0.0,l=0.0,_=0,u=0,f=0.0;o[6721]=(o[6721]|0)+1;if(!(o[e+4>>2]&2))l=.019999999552965164;else{_=o[t+192>>2]|0;a=+rF[o[(o[_>>2]|0)+20>>2]&1](_,.019999999552965164);_=o[i+192>>2]|0;l=+rF[o[(o[_>>2]|0)+20>>2]&1](_,.019999999552965164);l=a<l?a:l}f=+c[t+184>>2];a=+c[i+184>>2];a=f<a?f:a;r=o[e+68>>2]|0;s=o[r+8>>2]|0;if(!s){if(o[e+4>>2]&4|0){e=0;return e|0}o[6747]=(o[6747]|0)+1;r=Do(791)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=r;_=r}else{_=o[r+12>>2]|0;o[r+12>>2]=o[_>>2];o[r+8>>2]=s+-1;s=_}o[s>>2]=1025;o[_+116>>2]=0;n[_+120>>0]=0;r=_+124|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[_+300>>2]=0;n[_+304>>0]=0;r=_+308|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[_+484>>2]=0;n[_+488>>0]=0;r=_+492|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[_+668>>2]=0;n[_+672>>0]=0;r=_+676|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[r+20>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;o[_+740>>2]=t;o[_+744>>2]=i;o[_+748>>2]=0;c[_+752>>2]=l;c[_+756>>2]=a;i=_;r=o[e+12>>2]|0;o[_+768>>2]=r;if((r|0)==(o[e+16>>2]|0)?(u=(r|0)==0?1:r<<1,(r|0)<(u|0)):0){if(!u)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((u<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+12>>2]|0}if((r|0)>0){t=0;do{o[s+(t<<2)>>2]=o[(o[e+20>>2]|0)+(t<<2)>>2];t=t+1|0}while((t|0)!=(r|0))}t=o[e+20>>2]|0;if(t){if(n[e+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);r=o[e+12>>2]|0}o[e+20>>2]=0}n[e+24>>0]=1;o[e+20>>2]=s;o[e+16>>2]=u}o[(o[e+20>>2]|0)+(r<<2)>>2]=i;o[e+12>>2]=r+1;e=_;return e|0}function xe(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0;a=um(460)|0;gr(a,e,t,i);o[a>>2]=4936;n[a+340>>0]=1;o[a+336>>2]=0;o[a+328>>2]=0;o[a+332>>2]=0;c[a+352>>2]=1.2000000476837158;c[a+356>>2]=0.0;c[a+360>>2]=0.0;c[a+364>>2]=1.0e3;o[a+368>>2]=0;o[a+368+4>>2]=0;o[a+368+8>>2]=0;o[a+368+12>>2]=0;o[a+368+16>>2]=0;o[a+368+20>>2]=0;o[a+368+24>>2]=0;o[a+396>>2]=-1054867456;o[a+400>>2]=0;c[a+404>>2]=0.0;n[a+424>>0]=1;o[a+420>>2]=0;o[a+412>>2]=0;o[a+416>>2]=0;o[a+452>>2]=s;n[a+456>>0]=0;if(!s){o[6747]=(o[6747]|0)+1;r=Do(59)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}c[r+12>>2]=1.0;o[r+8>>2]=0;o[r+4>>2]=5;o[r>>2]=4060;n[r+36>>0]=1;o[r+32>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;n[r+16>>0]=1;o[a+452>>2]=r;n[a+456>>0]=1}o[a+344>>2]=4302;n[a+348>>0]=1;n[a+349>>0]=0;n[a+350>>0]=0;o[a+384>>2]=t;o[a+388>>2]=e;kn(a+408|0);i=o[a+412>>2]|0;if((i|0)<=0){t=a+428|0;c[t>>2]=.25;t=a+432|0;o[t>>2]=0;t=a+436|0;o[t>>2]=0;t=a+444|0;o[t>>2]=1;t=a+448|0;o[t>>2]=1;c[a+352>>2]=1.2000000476837158;c[a+356>>2]=0.0;c[a+360>>2]=0.0;t=a+392|0;o[t>>2]=0;o[a+368>>2]=0;o[a+368+4>>2]=0;o[a+368+8>>2]=0;o[a+368+12>>2]=0;o[a+396>>2]=-1054867456;o[a+400>>2]=0;c[a+404>>2]=0.0;kn(a+408|0);return a|0}s=0;do{t=(o[a+420>>2]|0)+(s<<2)|0;r=o[t>>2]|0;o[t>>2]=0;if(r|0)do{t=r;r=o[r+280>>2]|0;KL(t)}while((r|0)!=0);s=s+1|0}while((s|0)!=(i|0));t=a+428|0;c[t>>2]=.25;t=a+432|0;o[t>>2]=0;t=a+436|0;o[t>>2]=0;t=a+444|0;o[t>>2]=1;t=a+448|0;o[t>>2]=1;c[a+352>>2]=1.2000000476837158;c[a+356>>2]=0.0;c[a+360>>2]=0.0;t=a+392|0;o[t>>2]=0;o[a+368>>2]=0;o[a+368+4>>2]=0;o[a+368+8>>2]=0;o[a+368+12>>2]=0;o[a+396>>2]=-1054867456;o[a+400>>2]=0;c[a+404>>2]=0.0;kn(a+408|0);return a|0}function Pe(e,t,i){e=e|0;t=t|0;i=i|0;sn(e,t,i)|0;o[t+52>>2]=o[e+48>>2];o[t+56>>2]=o[e+52>>2];o[t+60>>2]=o[e+56>>2];o[t+64>>2]=o[e+60>>2];o[t+68>>2]=o[e+64>>2];o[t+72>>2]=o[e+68>>2];o[t+76>>2]=o[e+72>>2];o[t+80>>2]=o[e+76>>2];o[t+84>>2]=o[e+80>>2];o[t+88>>2]=o[e+84>>2];o[t+92>>2]=o[e+88>>2];o[t+96>>2]=o[e+92>>2];o[t+100>>2]=o[e+96>>2];o[t+104>>2]=o[e+100>>2];o[t+108>>2]=o[e+104>>2];o[t+112>>2]=o[e+108>>2];o[t+116>>2]=o[e+112>>2];o[t+120>>2]=o[e+116>>2];o[t+124>>2]=o[e+120>>2];o[t+128>>2]=o[e+124>>2];o[t+132>>2]=o[e+128>>2];o[t+136>>2]=o[e+132>>2];o[t+140>>2]=o[e+136>>2];o[t+144>>2]=o[e+140>>2];o[t+148>>2]=o[e+144>>2];o[t+152>>2]=o[e+148>>2];o[t+156>>2]=o[e+152>>2];o[t+160>>2]=o[e+156>>2];o[t+164>>2]=o[e+160>>2];o[t+168>>2]=o[e+164>>2];o[t+172>>2]=o[e+168>>2];o[t+176>>2]=o[e+172>>2];o[t+228>>2]=o[e+868>>2];o[t+212>>2]=o[e+872>>2];o[t+196>>2]=o[e+680>>2];o[t+180>>2]=o[e+696>>2];o[t+232>>2]=o[e+932>>2];o[t+216>>2]=o[e+936>>2];o[t+200>>2]=o[e+684>>2];o[t+184>>2]=o[e+700>>2];o[t+236>>2]=o[e+996>>2];o[t+220>>2]=o[e+1e3>>2];o[t+204>>2]=o[e+688>>2];o[t+188>>2]=o[e+704>>2];o[t+244>>2]=s[e+1300>>0];o[t+248>>2]=s[e+1301>>0];o[t+276>>2]=o[e+1316>>2];o[t+324>>2]=o[e+1364>>2];o[t+252>>2]=s[e+1309>>0];o[t+300>>2]=o[e+1340>>2];o[t+280>>2]=o[e+1320>>2];o[t+328>>2]=o[e+1368>>2];o[t+256>>2]=s[e+1310>>0];o[t+304>>2]=o[e+1344>>2];o[t+284>>2]=o[e+1324>>2];o[t+332>>2]=o[e+1372>>2];o[t+260>>2]=s[e+1311>>0];o[t+308>>2]=o[e+1348>>2];o[t+288>>2]=o[e+1328>>2];o[t+336>>2]=o[e+1376>>2];o[t+264>>2]=s[e+1312>>0];o[t+312>>2]=o[e+1352>>2];o[t+292>>2]=o[e+1332>>2];o[t+340>>2]=o[e+1380>>2];o[t+268>>2]=s[e+1313>>0];o[t+316>>2]=o[e+1356>>2];o[t+296>>2]=o[e+1336>>2];o[t+344>>2]=o[e+1384>>2];o[t+272>>2]=s[e+1314>>0];o[t+320>>2]=o[e+1360>>2];return 15127}function De(e,t,i){e=e|0;t=t|0;i=+i;var n=0.0,r=0.0,s=0.0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;a=ae;ae=ae+32|0;_=+c[e+56>>2];p=+c[e+72>>2]-_;l=+c[e+60>>2];d=+c[e+76>>2]-l;u=+c[e+64>>2];b=+c[e+80>>2]-u;f=+c[e+88>>2]-_;h=+c[e+92>>2]-l;r=+c[e+96>>2]-u;s=1.0/+v(+((p*h-d*f)*(p*h-d*f)+((d*r-b*h)*(d*r-b*h)+(b*f-p*r)*(b*f-p*r))));n=(d*r-b*h)*s;r=(b*f-p*r)*s;s=(p*h-d*f)*s;l=+c[t+8>>2]*s+(+c[t>>2]*n+ +c[t+4>>2]*r)-(u*s+(_*n+l*r));if(!(l>=-i)|!(l<=i)){e=0;ae=a;return e|0}BF[o[(o[e>>2]|0)+104>>2]&127](e,0,a+16|0,a);u=+c[a+16>>2];p=+c[a>>2]-u;d=+c[a+16+4>>2];f=+c[a+4>>2]-d;_=+c[a+16+8>>2];h=+c[a+8>>2]-_;b=1.0/+v(+((r*p-n*f)*(r*p-n*f)+((s*f-r*h)*(s*f-r*h)+(n*h-s*p)*(n*h-s*p))));if(+c[t+8>>2]*((r*p-n*f)*b)+(+c[t>>2]*((s*f-r*h)*b)+ +c[t+4>>2]*((n*h-s*p)*b))-(_*((r*p-n*f)*b)+(u*((s*f-r*h)*b)+d*((n*h-s*p)*b)))<-i){e=0;ae=a;return e|0}BF[o[(o[e>>2]|0)+104>>2]&127](e,1,a+16|0,a);u=+c[a+16>>2];p=+c[a>>2]-u;d=+c[a+16+4>>2];f=+c[a+4>>2]-d;_=+c[a+16+8>>2];h=+c[a+8>>2]-_;b=1.0/+v(+((r*p-n*f)*(r*p-n*f)+((s*f-r*h)*(s*f-r*h)+(n*h-s*p)*(n*h-s*p))));if(+c[t+8>>2]*((r*p-n*f)*b)+(+c[t>>2]*((s*f-r*h)*b)+ +c[t+4>>2]*((n*h-s*p)*b))-(_*((r*p-n*f)*b)+(u*((s*f-r*h)*b)+d*((n*h-s*p)*b)))<-i){e=0;ae=a;return e|0}BF[o[(o[e>>2]|0)+104>>2]&127](e,2,a+16|0,a);u=+c[a+16>>2];p=+c[a>>2]-u;d=+c[a+16+4>>2];f=+c[a+4>>2]-d;_=+c[a+16+8>>2];h=+c[a+8>>2]-_;b=1.0/+v(+((r*p-n*f)*(r*p-n*f)+((s*f-r*h)*(s*f-r*h)+(n*h-s*p)*(n*h-s*p))));if(+c[t+8>>2]*((r*p-n*f)*b)+(+c[t>>2]*((s*f-r*h)*b)+ +c[t+4>>2]*((n*h-s*p)*b))-(_*((r*p-n*f)*b)+(u*((s*f-r*h)*b)+d*((n*h-s*p)*b)))<-i){e=0;ae=a;return e|0}e=1;ae=a;return e|0}function we(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0;c=o[e+4>>2]|0;if((c|0)==(o[e+8>>2]|0)?(a=(c|0)==0?1:c<<1,(c|0)<(a|0)):0){if(!a){r=c;s=0}else{o[6747]=(o[6747]|0)+1;i=Do((a*244|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+4>>2]|0;s=i}if((r|0)>0){i=0;do{_=s+(i*244|0)|0;l=o[e+12>>2]|0;u=l+(i*244|0)|0;o[_>>2]=o[u>>2];o[_+4>>2]=o[u+4>>2];o[_+8>>2]=o[u+8>>2];o[_+12>>2]=o[u+12>>2];_=l+(i*244|0)+16|0;u=s+(i*244|0)+16|0;o[u>>2]=o[_>>2];o[u+4>>2]=o[_+4>>2];o[u+8>>2]=o[_+8>>2];o[u+12>>2]=o[_+12>>2];u=l+(i*244|0)+32|0;_=s+(i*244|0)+32|0;o[_>>2]=o[u>>2];o[_+4>>2]=o[u+4>>2];o[_+8>>2]=o[u+8>>2];o[_+12>>2]=o[u+12>>2];_=s+(i*244|0)+48|0;u=l+(i*244|0)+48|0;o[_>>2]=o[u>>2];o[_+4>>2]=o[u+4>>2];o[_+8>>2]=o[u+8>>2];o[_+12>>2]=o[u+12>>2];Tn(s+(i*244|0)+64|0,l+(i*244|0)+64|0,180)|0;i=i+1|0}while((i|0)!=(r|0))}i=o[e+12>>2]|0;if(i|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=s;o[e+8>>2]=a;i=o[e+4>>2]|0}else i=c;o[e+4>>2]=i+1;u=o[e+12>>2]|0;o[u+(c*244|0)>>2]=o[t>>2];o[u+(c*244|0)+4>>2]=o[t+4>>2];o[u+(c*244|0)+8>>2]=o[t+8>>2];o[u+(c*244|0)+12>>2]=o[t+12>>2];o[u+(c*244|0)+16>>2]=o[t+16>>2];o[u+(c*244|0)+16+4>>2]=o[t+16+4>>2];o[u+(c*244|0)+16+8>>2]=o[t+16+8>>2];o[u+(c*244|0)+16+12>>2]=o[t+16+12>>2];o[u+(c*244|0)+32>>2]=o[t+32>>2];o[u+(c*244|0)+32+4>>2]=o[t+32+4>>2];o[u+(c*244|0)+32+8>>2]=o[t+32+8>>2];o[u+(c*244|0)+32+12>>2]=o[t+32+12>>2];o[u+(c*244|0)+48>>2]=o[t+48>>2];o[u+(c*244|0)+48+4>>2]=o[t+48+4>>2];o[u+(c*244|0)+48+8>>2]=o[t+48+8>>2];o[u+(c*244|0)+48+12>>2]=o[t+48+12>>2];Tn(u+(c*244|0)+64|0,t+64|0,180)|0;return(o[e+12>>2]|0)+(c*244|0)|0}function Le(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,R=0.0,M=0.0;_=ae;ae=ae+64|0;f=+c[e+20>>2];g=+c[e+40>>2];h=+c[e+24>>2];m=+c[e+36>>2];A=+c[e+32>>2];u=+c[e+16>>2];l=+c[e>>2];a=+c[e+4>>2];p=+c[e+8>>2];s=1.0/((f*g-h*m)*l+a*(h*A-g*u)+(m*u-f*A)*p);R=+c[t>>2];S=+c[t+4>>2];M=+c[t+8>>2];E=+c[t+16>>2];C=+c[t+20>>2];y=+c[t+24>>2];b=+c[t+32>>2];d=+c[t+36>>2];r=+c[t+40>>2];c[_+16>>2]=M*((m*u-f*A)*s)+(R*((f*g-h*m)*s)+S*((h*A-g*u)*s));c[_+16+4>>2]=M*((A*a-m*l)*s)+(R*((m*p-g*a)*s)+S*((g*l-A*p)*s));c[_+16+8>>2]=M*((f*l-u*a)*s)+(R*((h*a-f*p)*s)+S*((u*p-h*l)*s));c[_+16+12>>2]=0.0;c[_+16+16>>2]=(f*g-h*m)*s*E+(h*A-g*u)*s*C+(m*u-f*A)*s*y;c[_+16+20>>2]=(m*p-g*a)*s*E+(g*l-A*p)*s*C+(A*a-m*l)*s*y;c[_+16+24>>2]=(h*a-f*p)*s*E+(u*p-h*l)*s*C+(f*l-u*a)*s*y;c[_+16+28>>2]=0.0;c[_+16+32>>2]=(f*g-h*m)*s*b+(h*A-g*u)*s*d+(m*u-f*A)*s*r;c[_+16+36>>2]=(m*p-g*a)*s*b+(g*l-A*p)*s*d+(A*a-m*l)*s*r;c[_+16+40>>2]=(h*a-f*p)*s*b+(u*p-h*l)*s*d+(f*l-u*a)*s*r;c[_+16+44>>2]=0.0;Fi(_+16|0,_);r=+c[_>>2];s=+c[_+4>>2];a=+c[_+8>>2];u=+c[_+12>>2];l=1.0/+v(+(r*r+s*s+a*a+u*u));c[_>>2]=r*l;c[_+4>>2]=s*l;c[_+8>>2]=a*l;c[_+12>>2]=u*l;u=u*l<-1.0?-1.0:u*l;c[n>>2]=+T(+(u>1.0?1.0:u))*2.0;c[i>>2]=r*l;c[i+4>>2]=s*l;c[i+8>>2]=a*l;c[i+12>>2]=0.0;if(r*l*(r*l)+s*l*(s*l)+a*l*(a*l)<1.4210854715202004e-14){o[i>>2]=1065353216;o[i+4>>2]=0;o[i+8>>2]=0;c[i+12>>2]=0.0;ae=_;return}else{M=1.0/+v(+(r*l*(r*l)+s*l*(s*l)+a*l*(a*l)));c[i>>2]=r*l*M;c[i+4>>2]=s*l*M;c[i+8>>2]=a*l*M;ae=_;return}}function Fe(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0,l=0,_=0;l=o[e+12>>2]|0;_=o[e+36>>2]|0;if((_|0)>=(l|0))return;do{if((o[e+40>>2]|0)<(l|0)){if(!l){s=_;t=0}else{o[6747]=(o[6747]|0)+1;t=Do((l<<2|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}s=o[e+36>>2]|0}i=o[e+44>>2]|0;if((s|0)<=0){if(!i){n[e+48>>0]=1;o[e+44>>2]=t;o[e+40>>2]=l;c=e+44|0;break}}else{r=0;do{o[t+(r<<2)>>2]=o[i+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0))}if(n[e+48>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}n[e+48>>0]=1;o[e+44>>2]=t;o[e+40>>2]=l;c=e+44|0}else{t=o[e+44>>2]|0;c=e+44|0}}while(0);_l(t+(_<<2)|0,0,(l<<2)-(_<<2)|0)|0;o[e+36>>2]=l;a=o[e+56>>2]|0;if((a|0)<(l|0)){do{if((o[e+60>>2]|0)<(l|0)){if(!l){s=a;t=0}else{o[6747]=(o[6747]|0)+1;t=Do((l<<2|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}s=o[e+56>>2]|0}i=o[e+64>>2]|0;if((s|0)<=0){if(!i){n[e+68>>0]=1;o[e+64>>2]=t;o[e+60>>2]=l;break}}else{r=0;do{o[t+(r<<2)>>2]=o[i+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0))}if(n[e+68>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}n[e+68>>0]=1;o[e+64>>2]=t;o[e+60>>2]=l}else t=o[e+64>>2]|0}while(0);_l(t+(a<<2)|0,0,(l<<2)-(a<<2)|0)|0}o[e+56>>2]=l;if((l|0)>0){_l(o[c>>2]|0,-1,l<<2|0)|0;_l(o[e+64>>2]|0,-1,l<<2|0)|0}if((_|0)<=0)return;s=o[e+16>>2]|0;t=o[c>>2]|0;i=o[e+64>>2]|0;r=0;do{l=o[(o[s+(r<<4)+4>>2]|0)+12>>2]<<16|o[(o[s+(r<<4)>>2]|0)+12>>2];l=((10?l+~(l<<15)>>10:l+~(l<<15)|0)^l+~(l<<15))*9|0;l=(6?l>>6:l)^l;l=t+((((16?l+~(l<<11)>>16:l+~(l<<11)|0)^l+~(l<<11))&(o[e+12>>2]|0)+-1)<<2)|0;o[i+(r<<2)>>2]=o[l>>2];o[l>>2]=r;r=r+1|0}while((r|0)!=(_|0));return}function Ne(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;r=Fm()|0;o[r+4>>2]=4;o[r>>2]=5660;o[r+8>>2]=-1;o[r+12>>2]=-1;c[r+16>>2]=3402823466385288598117041.0e14;n[r+20>>0]=1;n[r+21>>0]=0;o[r+24>>2]=-1;o[r+28>>2]=e;kl();o[r+32>>2]=25640;c[r+36>>2]=0.0;c[r+40>>2]=.30000001192092896;o[r+44>>2]=0;o[r>>2]=5820;o[r+552>>2]=o[t>>2];o[r+552+4>>2]=o[t+4>>2];o[r+552+8>>2]=o[t+8>>2];o[r+552+12>>2]=o[t+12>>2];o[r+568>>2]=o[t+16>>2];o[r+568+4>>2]=o[t+16+4>>2];o[r+568+8>>2]=o[t+16+8>>2];o[r+568+12>>2]=o[t+16+12>>2];o[r+584>>2]=o[t+32>>2];o[r+584+4>>2]=o[t+32+4>>2];o[r+584+8>>2]=o[t+32+8>>2];o[r+584+12>>2]=o[t+32+12>>2];o[r+600>>2]=o[t+48>>2];o[r+600+4>>2]=o[t+48+4>>2];o[r+600+8>>2]=o[t+48+8>>2];o[r+600+12>>2]=o[t+48+12>>2];o[r+616>>2]=o[t>>2];o[r+616+4>>2]=o[t+4>>2];o[r+616+8>>2]=o[t+8>>2];o[r+616+12>>2]=o[t+12>>2];o[r+632>>2]=o[t+16>>2];o[r+632+4>>2]=o[t+16+4>>2];o[r+632+8>>2]=o[t+16+8>>2];o[r+632+12>>2]=o[t+16+12>>2];o[r+648>>2]=o[t+32>>2];o[r+648+4>>2]=o[t+32+4>>2];o[r+648+8>>2]=o[t+32+8>>2];o[r+648+12>>2]=o[t+32+12>>2];o[r+664>>2]=o[t+48>>2];o[r+664+4>>2]=o[t+48+4>>2];o[r+664+8>>2]=o[t+48+8>>2];o[r+664+12>>2]=o[t+48+12>>2];c[r+688>>2]=0.0;c[r+692>>2]=-1.0;c[r+696>>2]=.8999999761581421;c[r+700>>2]=.30000001192092896;c[r+704>>2]=1.0;c[r+708>>2]=0.0;c[r+712>>2]=0.0;n[r+716>>0]=0;n[r+736>>0]=0;n[r+737>>0]=0;n[r+738>>0]=0;n[r+739>>0]=1;n[r+740>>0]=i&1;o[r+748>>2]=0;t=o[r+28>>2]|0;u=+c[r+600>>2];_=+c[r+604>>2];l=+c[r+608>>2];a=u*+c[t+20>>2]+_*+c[t+24>>2]+l*+c[t+28>>2]+ +c[t+56>>2];s=u*+c[t+36>>2]+_*+c[t+40>>2]+l*+c[t+44>>2]+ +c[t+60>>2];c[r+664>>2]=u*+c[t+4>>2]+_*+c[t+8>>2]+l*+c[t+12>>2]+ +c[t+52>>2];c[r+668>>2]=a;c[r+672>>2]=s;c[r+676>>2]=0.0;c[r+732>>2]=i?-1.0:1.0;return r|0}function Be(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0,l=0,_=0;l=o[e+12>>2]|0;_=o[e+32>>2]|0;if((_|0)>=(l|0))return;do{if((o[e+36>>2]|0)<(l|0)){if(!l){s=_;t=0}else{o[6747]=(o[6747]|0)+1;t=Do((l<<2|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}s=o[e+32>>2]|0}i=o[e+40>>2]|0;if((s|0)<=0){if(!i){n[e+44>>0]=1;o[e+40>>2]=t;o[e+36>>2]=l;c=e+40|0;break}}else{r=0;do{o[t+(r<<2)>>2]=o[i+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0))}if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}n[e+44>>0]=1;o[e+40>>2]=t;o[e+36>>2]=l;c=e+40|0}else{t=o[e+40>>2]|0;c=e+40|0}}while(0);_l(t+(_<<2)|0,0,(l<<2)-(_<<2)|0)|0;o[e+32>>2]=l;a=o[e+52>>2]|0;if((a|0)<(l|0)){do{if((o[e+56>>2]|0)<(l|0)){if(!l){s=a;t=0}else{o[6747]=(o[6747]|0)+1;t=Do((l<<2|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}s=o[e+52>>2]|0}i=o[e+60>>2]|0;if((s|0)<=0){if(!i){n[e+64>>0]=1;o[e+60>>2]=t;o[e+56>>2]=l;break}}else{r=0;do{o[t+(r<<2)>>2]=o[i+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0))}if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}n[e+64>>0]=1;o[e+60>>2]=t;o[e+56>>2]=l}else t=o[e+60>>2]|0}while(0);_l(t+(a<<2)|0,0,(l<<2)-(a<<2)|0)|0}o[e+52>>2]=l;if((l|0)>0){_l(o[c>>2]|0,-1,l<<2|0)|0;_l(o[e+60>>2]|0,-1,l<<2|0)|0}if((_|0)<=0)return;s=o[e+16>>2]|0;t=o[c>>2]|0;i=o[e+60>>2]|0;r=0;do{l=o[s+(r*12|0)+4>>2]<<16|o[s+(r*12|0)>>2];l=((10?l+~(l<<15)>>10:l+~(l<<15)|0)^l+~(l<<15))*9|0;l=(6?l>>6:l)^l;l=t+((((16?l+~(l<<11)>>16:l+~(l<<11)|0)^l+~(l<<11))&(o[e+12>>2]|0)+-1)<<2)|0;o[i+(r<<2)>>2]=o[l>>2];o[l>>2]=r;r=r+1|0}while((r|0)!=(_|0));return}function ke(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;i=Fm()|0;o[i+4>>2]=4;o[i>>2]=5660;o[i+8>>2]=-1;o[i+12>>2]=-1;c[i+16>>2]=3402823466385288598117041.0e14;n[i+20>>0]=1;n[i+21>>0]=0;o[i+24>>2]=-1;o[i+28>>2]=e;kl();o[i+32>>2]=25640;c[i+36>>2]=0.0;c[i+40>>2]=.30000001192092896;o[i+44>>2]=0;o[i>>2]=5820;o[i+552>>2]=o[t>>2];o[i+552+4>>2]=o[t+4>>2];o[i+552+8>>2]=o[t+8>>2];o[i+552+12>>2]=o[t+12>>2];o[i+568>>2]=o[t+16>>2];o[i+568+4>>2]=o[t+16+4>>2];o[i+568+8>>2]=o[t+16+8>>2];o[i+568+12>>2]=o[t+16+12>>2];o[i+584>>2]=o[t+32>>2];o[i+584+4>>2]=o[t+32+4>>2];o[i+584+8>>2]=o[t+32+8>>2];o[i+584+12>>2]=o[t+32+12>>2];o[i+600>>2]=o[t+48>>2];o[i+600+4>>2]=o[t+48+4>>2];o[i+600+8>>2]=o[t+48+8>>2];o[i+600+12>>2]=o[t+48+12>>2];o[i+616>>2]=o[t>>2];o[i+616+4>>2]=o[t+4>>2];o[i+616+8>>2]=o[t+8>>2];o[i+616+12>>2]=o[t+12>>2];o[i+632>>2]=o[t+16>>2];o[i+632+4>>2]=o[t+16+4>>2];o[i+632+8>>2]=o[t+16+8>>2];o[i+632+12>>2]=o[t+16+12>>2];o[i+648>>2]=o[t+32>>2];o[i+648+4>>2]=o[t+32+4>>2];o[i+648+8>>2]=o[t+32+8>>2];o[i+648+12>>2]=o[t+32+12>>2];o[i+664>>2]=o[t+48>>2];o[i+664+4>>2]=o[t+48+4>>2];o[i+664+8>>2]=o[t+48+8>>2];o[i+664+12>>2]=o[t+48+12>>2];c[i+688>>2]=0.0;c[i+692>>2]=-1.0;c[i+696>>2]=.8999999761581421;c[i+700>>2]=.30000001192092896;c[i+704>>2]=1.0;c[i+708>>2]=0.0;c[i+712>>2]=0.0;n[i+716>>0]=0;n[i+736>>0]=0;n[i+737>>0]=0;n[i+738>>0]=0;n[i+739>>0]=1;n[i+740>>0]=0;o[i+748>>2]=0;t=o[i+28>>2]|0;_=+c[i+600>>2];l=+c[i+604>>2];a=+c[i+608>>2];s=_*+c[t+20>>2]+l*+c[t+24>>2]+a*+c[t+28>>2]+ +c[t+56>>2];r=_*+c[t+36>>2]+l*+c[t+40>>2]+a*+c[t+44>>2]+ +c[t+60>>2];c[i+664>>2]=_*+c[t+4>>2]+l*+c[t+8>>2]+a*+c[t+12>>2]+ +c[t+52>>2];c[i+668>>2]=s;c[i+672>>2]=r;c[i+676>>2]=0.0;c[i+732>>2]=1.0;return i|0}function Ue(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0;r=ae;ae=ae+384|0;a=o[(o[e>>2]|0)+8>>2]|0;s=JL(t)|0;Am(r+368|0,s,s+4|0,s+8|0);i=JL(i)|0;Am(r+352|0,i,s+4|0,s+8|0);BF[a&127](e,r+368|0,r+352|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+336|0,i,s+4|0,s+8|0);Am(r+320|0,i,i+4|0,s+8|0);BF[t&127](e,r+336|0,r+320|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+304|0,i,i+4|0,s+8|0);Am(r+288|0,s,i+4|0,s+8|0);BF[t&127](e,r+304|0,r+288|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+272|0,s,i+4|0,s+8|0);Am(r+256|0,s,s+4|0,s+8|0);BF[t&127](e,r+272|0,r+256|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+240|0,s,s+4|0,s+8|0);Am(r+224|0,s,s+4|0,i+8|0);BF[t&127](e,r+240|0,r+224|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+208|0,i,s+4|0,s+8|0);Am(r+192|0,i,s+4|0,i+8|0);BF[t&127](e,r+208|0,r+192|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+176|0,i,i+4|0,s+8|0);Am(r+160|0,i,i+4|0,i+8|0);BF[t&127](e,r+176|0,r+160|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+144|0,s,i+4|0,s+8|0);Am(r+128|0,s,i+4|0,i+8|0);BF[t&127](e,r+144|0,r+128|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+112|0,s,s+4|0,i+8|0);Am(r+96|0,i,s+4|0,i+8|0);BF[t&127](e,r+112|0,r+96|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+80|0,i,s+4|0,i+8|0);Am(r+64|0,i,i+4|0,i+8|0);BF[t&127](e,r+80|0,r+64|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+48|0,i,i+4|0,i+8|0);Am(r+32|0,s,i+4|0,i+8|0);BF[t&127](e,r+48|0,r+32|0,n);t=o[(o[e>>2]|0)+8>>2]|0;Am(r+16|0,s,i+4|0,i+8|0);Am(r,s,s+4|0,i+8|0);BF[t&127](e,r+16|0,r,n);ae=r;return}function He(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;s=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=s;if(s|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+20>>2]=o[e+72>>2];n=o[e+16>>2]|0;o[t+16>>2]=n;o[t+12>>2]=0;if(!n)return 19016;s=mF[o[(o[i>>2]|0)+16>>2]&63](i,76,n)|0;n=o[s+8>>2]|0;o[t+12>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;if((o[t+16>>2]|0)>0){r=0;while(1){a=o[e+24>>2]|0;o[n+72>>2]=o[a+(r*80|0)+72>>2];o[n+64>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[a+(r*80|0)+64>>2]|0)|0;if(!(pF[o[(o[i>>2]|0)+24>>2]&31](i,o[(o[e+24>>2]|0)+(r*80|0)+64>>2]|0)|0)){a=o[(o[i>>2]|0)+16>>2]|0;c=o[(o[e+24>>2]|0)+(r*80|0)+64>>2]|0;c=dF[o[(o[c>>2]|0)+52>>2]&127](c)|0;c=mF[a&63](i,c,1)|0;a=o[(o[e+24>>2]|0)+(r*80|0)+64>>2]|0;a=mF[o[(o[a>>2]|0)+56>>2]&63](a,o[c+8>>2]|0,i)|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,c,a,1346455635,o[(o[e+24>>2]|0)+(r*80|0)+64>>2]|0)}c=o[e+24>>2]|0;o[n+68>>2]=o[c+(r*80|0)+68>>2];o[n>>2]=o[c+(r*80|0)>>2];o[n+4>>2]=o[c+(r*80|0)+4>>2];o[n+8>>2]=o[c+(r*80|0)+8>>2];o[n+12>>2]=o[c+(r*80|0)+12>>2];o[n+16>>2]=o[c+(r*80|0)+16>>2];o[n+20>>2]=o[c+(r*80|0)+20>>2];o[n+24>>2]=o[c+(r*80|0)+24>>2];o[n+28>>2]=o[c+(r*80|0)+28>>2];o[n+32>>2]=o[c+(r*80|0)+32>>2];o[n+36>>2]=o[c+(r*80|0)+36>>2];o[n+40>>2]=o[c+(r*80|0)+40>>2];o[n+44>>2]=o[c+(r*80|0)+44>>2];o[n+48>>2]=o[c+(r*80|0)+48>>2];o[n+52>>2]=o[c+(r*80|0)+52>>2];o[n+56>>2]=o[c+(r*80|0)+56>>2];o[n+60>>2]=o[c+(r*80|0)+60>>2];r=r+1|0;if((r|0)>=(o[t+16>>2]|0)){n=i;break}else n=n+76|0}}else n=i;jF[o[(o[n>>2]|0)+20>>2]&31](i,s,18991,1497453121,o[s+8>>2]|0);return 19016}function je(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0;r=ae;ae=ae+256|0;o[r+32>>2]=6804;_=r+32+36|0;o[_>>2]=o[t>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];u=r+32+52|0;o[u>>2]=o[i>>2];o[u+4>>2]=o[i+4>>2];o[u+8>>2]=o[i+8>>2];o[u+12>>2]=o[i+12>>2];o[r+32+212>>2]=e;o[r+32+216>>2]=n;o[r+32+68>>2]=1065353216;o[r+32+72>>2]=0;o[r+32+72+4>>2]=0;o[r+32+72+8>>2]=0;o[r+32+72+12>>2]=0;o[r+32+88>>2]=1065353216;o[r+32+92>>2]=0;o[r+32+92+4>>2]=0;o[r+32+92+8>>2]=0;o[r+32+92+12>>2]=0;o[r+32+108>>2]=1065353216;o[r+32+112>>2]=0;o[r+32+116>>2]=o[_>>2];o[r+32+116+4>>2]=o[_+4>>2];o[r+32+116+8>>2]=o[_+8>>2];o[r+32+116+12>>2]=o[_+12>>2];o[r+32+132>>2]=1065353216;o[r+32+136>>2]=0;o[r+32+136+4>>2]=0;o[r+32+136+8>>2]=0;o[r+32+136+12>>2]=0;o[r+32+152>>2]=1065353216;o[r+32+156>>2]=0;o[r+32+156+4>>2]=0;o[r+32+156+8>>2]=0;o[r+32+156+12>>2]=0;o[r+32+172>>2]=1065353216;o[r+32+176>>2]=0;o[r+32+180>>2]=o[i>>2];o[r+32+180+4>>2]=o[i+4>>2];o[r+32+180+8>>2]=o[i+8>>2];o[r+32+180+12>>2]=o[i+12>>2];f=+c[i>>2]-+c[t>>2];l=+c[i+4>>2]-+c[t+4>>2];a=+c[i+8>>2]-+c[t+8>>2];s=1.0/+v(+(f*f+l*l+a*a));p=f*s==0.0?999999984306749440.0:1.0/(f*s);c[r+32+4>>2]=p;h=l*s==0.0?999999984306749440.0:1.0/(l*s);c[r+32+8>>2]=h;d=a*s==0.0?999999984306749440.0:1.0/(a*s);c[r+32+12>>2]=d;o[r+32+20>>2]=p<0.0&1;o[r+32+24>>2]=h<0.0&1;o[r+32+28>>2]=d<0.0&1;c[r+32+32>>2]=f*s*(+c[u>>2]-+c[_>>2])+l*s*(+c[r+32+56>>2]-+c[r+32+40>>2])+a*s*(+c[r+32+60>>2]-+c[r+32+44>>2]);e=o[e+68>>2]|0;n=o[(o[e>>2]|0)+24>>2]|0;o[r+16>>2]=0;o[r+16+4>>2]=0;o[r+16+8>>2]=0;o[r+16+12>>2]=0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;GF[n&7](e,t,i,r+32|0,r+16|0,r);ae=r;return}function Ve(e,t,i,n,r,o,s,a){e=e|0;t=+t;i=+i;n=+n;r=r|0;o=+o;s=+s;a=+a;var l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0;T=+c[r>>2];S=+c[r+16>>2];E=+c[r+32>>2];C=+c[r+4>>2];v=+c[r+20>>2];y=+c[r+36>>2];g=+c[r+8>>2];A=+c[r+24>>2];m=+c[r+40>>2];l=n-((T*0.0+S*-a+E*s)*0.0+(C*0.0+v*-a+y*s)*a+(g*0.0+A*-a+m*s)*-s)+i;h=0.0-((T*0.0+S*-a+E*s)*-a+(C*0.0+v*-a+y*s)*0.0+(g*0.0+A*-a+m*s)*o)+0.0;u=0.0-((T*0.0+S*-a+E*s)*s+(C*0.0+v*-a+y*s)*-o+(g*0.0+A*-a+m*s)*0.0)+0.0;f=0.0-((T*a+S*0.0+E*-o)*0.0+(C*a+v*0.0+y*-o)*a+(g*a+A*0.0+m*-o)*-s)+0.0;d=n-((T*a+S*0.0+E*-o)*-a+(C*a+v*0.0+y*-o)*0.0+(g*a+A*0.0+m*-o)*o)+i;_=0.0-((T*a+S*0.0+E*-o)*s+(C*a+v*0.0+y*-o)*-o+(g*a+A*0.0+m*-o)*0.0)+0.0;p=0.0-((T*-s+S*o+E*0.0)*0.0+(C*-s+v*o+y*0.0)*a+(g*-s+A*o+m*0.0)*-s)+0.0;b=0.0-((T*-s+S*o+E*0.0)*-a+(C*-s+v*o+y*0.0)*0.0+(g*-s+A*o+m*0.0)*o)+0.0;s=n-((T*-s+S*o+E*0.0)*s+(C*-s+v*o+y*0.0)*-o+(g*-s+A*o+m*0.0)*0.0)+i;a=1.0/(u*(b*f-d*p)+(l*(d*s-_*b)+h*(_*p-s*f)));c[e>>2]=(b*f-d*p)*a*0.0+(1.0/t*((d*s-_*b)*a)+(_*p-s*f)*a*0.0);c[e+4>>2]=(p*h-b*l)*a*0.0+(1.0/t*((b*u-s*h)*a)+(s*l-p*u)*a*0.0);c[e+8>>2]=(d*l-f*h)*a*0.0+(1.0/t*((_*h-d*u)*a)+(f*u-_*l)*a*0.0);c[e+12>>2]=0.0;c[e+16>>2]=(b*f-d*p)*a*0.0+((d*s-_*b)*a*0.0+1.0/t*((_*p-s*f)*a));c[e+20>>2]=(p*h-b*l)*a*0.0+((b*u-s*h)*a*0.0+1.0/t*((s*l-p*u)*a));c[e+24>>2]=(d*l-f*h)*a*0.0+((_*h-d*u)*a*0.0+1.0/t*((f*u-_*l)*a));c[e+28>>2]=0.0;c[e+32>>2]=1.0/t*((b*f-d*p)*a)+((d*s-_*b)*a*0.0+(_*p-s*f)*a*0.0);c[e+36>>2]=1.0/t*((p*h-b*l)*a)+((b*u-s*h)*a*0.0+(s*l-p*u)*a*0.0);c[e+40>>2]=1.0/t*((d*l-f*h)*a)+((_*h-d*u)*a*0.0+(f*u-_*l)*a*0.0);c[e+44>>2]=0.0;return}function Ge(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;s=ae;ae=ae+128|0;if(!t){ae=s;return}if(o[t+40>>2]|0){Ge(e,o[t+36>>2]|0,i+1|0,n,r);Ge(e,o[t+40>>2]|0,i+1|0,n,r)}if((i|0)<0){ae=s;return}u=+c[t>>2];b=+c[t+16>>2];l=+c[t+4>>2];p=+c[t+20>>2];a=+c[t+8>>2];h=+c[t+24>>2];_=(u+b)*.5-(b-u)*.5;f=(l+p)*.5-(p-l)*.5;d=(a+h)*.5-(h-a)*.5;u=(u+b)*.5+(b-u)*.5;l=(l+p)*.5+(p-l)*.5;a=(a+h)*.5+(h-a)*.5;t=(o[t+40>>2]|0)==0?r:n;c[s>>2]=_;c[s+4>>2]=f;c[s+8>>2]=d;c[s+12>>2]=0.0;c[s+16>>2]=u;c[s+20>>2]=f;c[s+24>>2]=d;c[s+28>>2]=0.0;c[s+32>>2]=u;c[s+36>>2]=l;c[s+40>>2]=d;c[s+44>>2]=0.0;c[s+48>>2]=_;c[s+52>>2]=l;c[s+56>>2]=d;c[s+60>>2]=0.0;c[s+64>>2]=_;c[s+68>>2]=f;c[s+72>>2]=a;c[s+76>>2]=0.0;c[s+80>>2]=u;c[s+84>>2]=f;c[s+88>>2]=a;c[s+92>>2]=0.0;c[s+96>>2]=u;c[s+100>>2]=l;c[s+104>>2]=a;c[s+108>>2]=0.0;c[s+112>>2]=_;c[s+116>>2]=l;c[s+120>>2]=a;c[s+124>>2]=0.0;BF[o[(o[e>>2]|0)+8>>2]&127](e,s,s+16|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+16|0,s+32|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+32|0,s+48|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+48|0,s,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+64|0,s+80|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+80|0,s+96|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+96|0,s+112|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+112|0,s+64|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s,s+64|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+16|0,s+80|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+32|0,s+96|0,t);BF[o[(o[e>>2]|0)+8>>2]&127](e,s+48|0,s+112|0,t);ae=s;return}function We(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0;b=ae;ae=ae+96|0;f=b;d=f+96|0;do{o[f>>2]=0;f=f+4|0}while((f|0)<(d|0));if(!a)p=o[o[e+880>>2]>>2]|0;else p=a;a=o[e+772>>2]|0;if((a|0)==(o[e+776>>2]|0)?(h=(a|0)==0?1:a<<1,(a|0)<(h|0)):0){if(!h)l=0;else{o[6747]=(o[6747]|0)+1;a=Do((h*104|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[e+772>>2]|0}if((a|0)>0){_=0;do{f=l+(_*104|0)|0;u=(o[e+780>>2]|0)+(_*104|0)|0;d=f+104|0;do{o[f>>2]=o[u>>2];f=f+4|0;u=u+4|0}while((f|0)<(d|0));_=_+1|0}while((_|0)!=(a|0))}a=o[e+780>>2]|0;if(a|0){if(n[e+784>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+780>>2]=0}n[e+784>>0]=1;o[e+780>>2]=l;o[e+776>>2]=h;a=o[e+772>>2]|0}f=o[e+780>>2]|0;o[f+(a*104|0)>>2]=0;o[f+(a*104|0)+4>>2]=p;f=f+(a*104|0)+8|0;u=b;d=f+96|0;do{o[f>>2]=o[u>>2];f=f+4|0;u=u+4|0}while((f|0)<(d|0));p=o[e+772>>2]|0;o[e+772>>2]=p+1;h=o[e+780>>2]|0;_=o[e+720>>2]|0;o[h+(p*104|0)+8>>2]=_+(t*104|0);d=o[e+720>>2]|0;o[h+(p*104|0)+12>>2]=d+(i*104|0);u=o[e+720>>2]|0;o[h+(p*104|0)+16>>2]=u+(r*104|0);f=o[e+720>>2]|0;o[h+(p*104|0)+20>>2]=f+(s*104|0);S=+c[_+(t*104|0)+8>>2];v=+c[_+(t*104|0)+12>>2];T=+c[_+(t*104|0)+16>>2];A=+c[u+(r*104|0)+8>>2]-S;E=+c[u+(r*104|0)+12>>2]-v;y=+c[u+(r*104|0)+16>>2]-T;g=+c[f+(s*104|0)+8>>2]-S;C=+c[f+(s*104|0)+12>>2]-v;m=+c[f+(s*104|0)+16>>2]-T;c[h+(p*104|0)+24>>2]=(+c[d+(i*104|0)+16>>2]-T)*(A*C-E*g)+((+c[d+(i*104|0)+8>>2]-S)*(E*m-y*C)+(+c[d+(i*104|0)+12>>2]-v)*(y*g-A*m));n[e+924>>0]=1;ae=b;return}function Xe(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0.0;r=ae;ae=ae+784|0;o[r+712>>2]=1065353216;o[r+712+4>>2]=0;o[r+712+4+4>>2]=0;o[r+712+4+8>>2]=0;o[r+712+4+12>>2]=0;o[r+712+20>>2]=1065353216;o[r+712+24>>2]=0;o[r+712+24+4>>2]=0;o[r+712+24+8>>2]=0;o[r+712+24+12>>2]=0;o[r+712+40>>2]=1065353216;i=r+712+44|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[r+536>>2]=4752;o[r+536+168>>2]=0;c[r+536+172>>2]=0.0;o[r+536+164>>2]=o[e+200>>2];i=o[e+196>>2]|0;o[r+480+8>>2]=0;o[r+480+12>>2]=1065353216;o[r+480+16>>2]=1065353216;o[r+480+20>>2]=1065353216;c[r+480+24>>2]=0.0;o[r+480>>2]=7884;o[r+480+4>>2]=8;o[r+480+28>>2]=i;o[r+480+44>>2]=i;o[r+376+8>>2]=0;o[r+376+12>>2]=1065353216;o[r+376+16>>2]=1065353216;o[r+376+20>>2]=1065353216;c[r+376+24>>2]=0.0;c[r+376+44>>2]=.03999999910593033;o[r+376+52>>2]=0;o[r+376>>2]=4780;o[r+376+4>>2]=1;o[r+376+56>>2]=o[t>>2];o[r+376+56+4>>2]=o[t+4>>2];o[r+376+56+8>>2]=o[t+8>>2];o[r+376+56+12>>2]=o[t+12>>2];o[r+376+72>>2]=o[t+16>>2];o[r+376+72+4>>2]=o[t+16+4>>2];o[r+376+72+8>>2]=o[t+16+8>>2];o[r+376+72+12>>2]=o[t+16+12>>2];o[r+376+88>>2]=o[t+32>>2];o[r+376+88+4>>2]=o[t+32+4>>2];o[r+376+88+8>>2]=o[t+32+8>>2];o[r+376+88+12>>2]=o[t+32+12>>2];c[r+16+308>>2]=9.999999747378752e-05;n[r+16+332>>0]=0;o[r>>2]=6076;o[r+4>>2]=r+16;o[r+8>>2]=r+480;o[r+12>>2]=r+376;if(Ts(r,e+4|0,e+68|0,r+712|0,r+712|0,r+536|0)|0?(s=+c[r+536+164>>2],+c[e+200>>2]>s):0)c[e+200>>2]=s;o[r+376>>2]=8336;i=o[r+376+52>>2]|0;if(!i){ae=r;return}SF[o[o[i>>2]>>2]&511](i);i=o[r+376+52>>2]|0;if(!i){ae=r;return}o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);ae=r;return}function ze(e,t,i,s,a,c,l,_,u){e=e|0;t=t|0;i=i|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;u=u|0;var f=0,d=0;d=ae;ae=ae+48|0;o[6747]=(o[6747]|0)+1;s=Do(83)|0;if(!s)f=0;else{o[(s+4+15&-16)+-4>>2]=s;f=s+4+15&-16}o[f>>2]=a;r[f+4>>1]=c;r[f+6>>1]=l;c=f+16|0;o[c>>2]=o[t>>2];o[c+4>>2]=o[t+4>>2];o[c+8>>2]=o[t+8>>2];o[c+12>>2]=o[t+12>>2];c=f+32|0;o[c>>2]=o[i>>2];o[c+4>>2]=o[i+4>>2];o[c+8>>2]=o[i+8>>2];o[c+12>>2]=o[i+12>>2];o[f+8>>2]=0;c=f+56|0;o[c>>2]=0;l=f+52|0;o[l>>2]=0;o[d+16>>2]=o[t>>2];o[d+16+4>>2]=o[t+4>>2];o[d+16+8>>2]=o[t+8>>2];o[d+16+12>>2]=o[t+12>>2];o[d+16+16>>2]=o[i>>2];o[d+16+16+4>>2]=o[i+4>>2];o[d+16+16+8>>2]=o[i+8>>2];o[d+16+16+12>>2]=o[i+12>>2];o[f+60>>2]=o[e+144>>2];s=(o[e+188>>2]|0)+1|0;o[e+188>>2]=s;o[f+12>>2]=s;s=o[e+8>>2]|0;if(!s){o[6747]=(o[6747]|0)+1;s=Do(63)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_=s;u=_+44|0;do{o[_>>2]=0;_=_+4|0}while((_|0)<(u|0))}else o[e+8>>2]=0;o[s+32>>2]=0;o[s+36>>2]=f;o[s+40>>2]=0;o[s>>2]=o[d+16>>2];o[s+4>>2]=o[d+16+4>>2];o[s+8>>2]=o[d+16+8>>2];o[s+12>>2]=o[d+16+12>>2];o[s+16>>2]=o[d+16+16>>2];o[s+20>>2]=o[d+16+20>>2];o[s+24>>2]=o[d+16+24>>2];o[s+28>>2]=o[d+16+28>>2];de(e+4|0,o[e+4>>2]|0,s);o[e+16>>2]=(o[e+16>>2]|0)+1;o[f+48>>2]=s;_=e+124+(o[e+144>>2]<<2)|0;o[l>>2]=0;o[c>>2]=o[_>>2];s=o[_>>2]|0;if(s|0)o[s+52>>2]=f;o[_>>2]=f;if(n[e+193>>0]|0){ae=d;return f|0}o[d>>2]=10216;o[d+4>>2]=e;o[d+8>>2]=f;vo(o[e+4>>2]|0,d+16|0,d);vo(o[e+64>>2]|0,d+16|0,d);ae=d;return f|0}function Ye(e,t,i){e=e|0;t=+t;i=+i;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0,d=0,h=0,p=0.0,b=0,m=0,A=0,g=0,y=0.0,v=0.0,C=0.0,E=0,S=0.0;E=o[e+832>>2]|0;if((E|0)<=0)return;e=o[e+840>>2]|0;b=0;do{u=o[e+(b*56|0)>>2]|0;h=o[e+(b*56|0)+4>>2]|0;f=o[h+8>>2]|0;d=o[h+12>>2]|0;h=o[h+16>>2]|0;m=e+(b*56|0)+8|0;l=+c[m>>2];A=e+(b*56|0)+12|0;a=+c[A>>2];g=e+(b*56|0)+16|0;v=+c[g>>2];t=+c[f+8>>2]*l+ +c[d+8>>2]*a+ +c[h+8>>2]*v;n=+c[f+12>>2]*l+ +c[d+12>>2]*a+ +c[h+12>>2]*v;i=+c[f+16>>2]*l+ +c[d+16>>2]*a+ +c[h+16>>2]*v;p=+c[u+8>>2];r=+c[u+12>>2];s=+c[u+16>>2];y=p-+c[u+24>>2]-(t-(l*+c[f+24>>2]+a*+c[d+24>>2]+v*+c[h+24>>2]));C=r-+c[u+28>>2]-(n-(l*+c[f+28>>2]+a*+c[d+28>>2]+v*+c[h+28>>2]));v=s-+c[u+32>>2]-(i-(l*+c[f+32>>2]+a*+c[d+32>>2]+v*+c[h+32>>2]));a=+c[e+(b*56|0)+24>>2];l=+c[e+(b*56|0)+28>>2];_=+c[e+(b*56|0)+32>>2];if(y*a+C*l+v*_<0.0){n=+c[e+(b*56|0)+40>>2]-(p*a+r*l+s*_-(t*a+n*l+i*_));t=a*n+0.0;i=l*n+0.0;n=_*n+0.0}else{t=0.0;i=0.0;n=0.0}S=+c[e+(b*56|0)+44>>2];t=t-S*(y-a*(y*a+C*l+v*_));i=i-S*(C-l*(y*a+C*l+v*_));v=n-S*(v-_*(y*a+C*l+v*_));C=+c[e+(b*56|0)+48>>2];c[u+8>>2]=p+C*t;c[u+12>>2]=r+C*i;c[u+16>>2]=s+C*v;u=e+(b*56|0)+52|0;C=+c[u>>2]*+c[m>>2];c[f+8>>2]=+c[f+8>>2]-t*C;c[f+12>>2]=+c[f+12>>2]-i*C;c[f+16>>2]=+c[f+16>>2]-v*C;C=+c[u>>2]*+c[A>>2];c[d+8>>2]=+c[d+8>>2]-t*C;c[d+12>>2]=+c[d+12>>2]-i*C;c[d+16>>2]=+c[d+16>>2]-v*C;C=+c[u>>2]*+c[g>>2];c[h+8>>2]=+c[h+8>>2]-t*C;c[h+12>>2]=+c[h+12>>2]-i*C;c[h+16>>2]=+c[h+16>>2]-v*C;b=b+1|0}while((b|0)!=(E|0));return}function Qe(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0,d=0,h=0;_=ae;ae=ae+160|0;a=o[e+12>>2]|0;if(!a){ae=_;return}u=(n[e+16>>0]|0)!=0;f=u?i:t;i=u?t:i;h=o[f+4>>2]|0;d=o[i+4>>2]|0;o[s+4>>2]=a;t=o[a+752>>2]|0;o[_+136>>2]=10616;o[_+136+4>>2]=h;o[_+136+8>>2]=d;o[_+136+12>>2]=t;c[_+128>>2]=999999984306749440.0;t=o[f+12>>2]|0;o[_>>2]=o[t>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];o[_+16>>2]=o[t+16>>2];o[_+16+4>>2]=o[t+16+4>>2];o[_+16+8>>2]=o[t+16+8>>2];o[_+16+12>>2]=o[t+16+12>>2];o[_+32>>2]=o[t+32>>2];o[_+32+4>>2]=o[t+32+4>>2];o[_+32+8>>2]=o[t+32+8>>2];o[_+32+12>>2]=o[t+32+12>>2];o[_+48>>2]=o[t+48>>2];o[_+48+4>>2]=o[t+48+4>>2];o[_+48+8>>2]=o[t+48+8>>2];o[_+48+12>>2]=o[t+48+12>>2];i=o[i+12>>2]|0;o[_+64>>2]=o[i>>2];o[_+64+4>>2]=o[i+4>>2];o[_+64+8>>2]=o[i+8>>2];o[_+64+12>>2]=o[i+12>>2];o[_+80>>2]=o[i+16>>2];o[_+80+4>>2]=o[i+16+4>>2];o[_+80+8>>2]=o[i+16+8>>2];o[_+80+12>>2]=o[i+16+12>>2];o[_+96>>2]=o[i+32>>2];o[_+96+4>>2]=o[i+32+4>>2];o[_+96+8>>2]=o[i+32+8>>2];o[_+96+12>>2]=o[i+32+12>>2];o[_+112>>2]=o[i+48>>2];o[_+112+4>>2]=o[i+48+4>>2];o[_+112+8>>2]=o[i+48+8>>2];o[_+112+12>>2]=o[i+48+12>>2];dr(_+136|0,_,s,o[r+20>>2]|0,u);do{if(n[e+8>>0]|0?(l=o[s+4>>2]|0,o[l+748>>2]|0):0){a=o[l+740>>2]|0;t=o[(o[s+8>>2]|0)+8>>2]|0;if((a|0)==(t|0)){io(l,a+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(l,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,t+4|0);break}}}while(0);ae=_;return}function Ke(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0;r=ae;ae=ae+608|0;h=+c[t+116>>2]-+c[t+52>>2];d=+c[t+120>>2]-+c[t+56>>2];f=+c[t+124>>2]-+c[t+60>>2];a=+c[i+116>>2]-+c[i+52>>2];_=+c[i+120>>2]-+c[i+56>>2];l=+c[i+124>>2]-+c[i+60>>2];u=+c[t+252>>2];if(h*h+d*d+f*f<u*u?(h=+c[i+252>>2],a*a+_*_+l*l<h*h):0){h=1.0;ae=r;return+h}e=o[t+192>>2]|0;s=o[i+248>>2]|0;o[r+552+8>>2]=0;o[r+552+12>>2]=1065353216;o[r+552+16>>2]=1065353216;o[r+552+20>>2]=1065353216;c[r+552+24>>2]=0.0;o[r+552>>2]=7884;o[r+552+4>>2]=8;o[r+552+28>>2]=s;o[r+552+44>>2]=s;o[r+376>>2]=4752;c[r+376+164>>2]=999999984306749440.0;o[r+376+168>>2]=0;c[r+376+172>>2]=0.0;c[r+16+308>>2]=9.999999747378752e-05;n[r+16+332>>0]=0;o[r>>2]=10452;o[r+4>>2]=r+16;o[r+8>>2]=e;o[r+12>>2]=r+552;if(Yn(r,t+4|0,t+68|0,i+4|0,i+68|0,r+376|0)|0){a=+c[r+376+164>>2];if(+c[t+244>>2]>a)c[t+244>>2]=a;if(+c[i+244>>2]>a)c[i+244>>2]=a;if(a<1.0)l=a;else l=1.0}else l=1.0;e=o[i+192>>2]|0;s=o[t+248>>2]|0;o[r+552+8>>2]=0;o[r+552+12>>2]=1065353216;o[r+552+16>>2]=1065353216;o[r+552+20>>2]=1065353216;c[r+552+24>>2]=0.0;o[r+552>>2]=7884;o[r+552+4>>2]=8;o[r+552+28>>2]=s;o[r+552+44>>2]=s;o[r+376>>2]=4752;c[r+376+164>>2]=999999984306749440.0;o[r+376+168>>2]=0;c[r+376+172>>2]=0.0;c[r+16+308>>2]=9.999999747378752e-05;n[r+16+332>>0]=0;o[r>>2]=10452;o[r+4>>2]=r+16;o[r+8>>2]=r+552;o[r+12>>2]=e;if(Yn(r,t+4|0,t+68|0,i+4|0,i+68|0,r+376|0)|0){a=+c[r+376+164>>2];if(+c[t+244>>2]>a)c[t+244>>2]=a;if(+c[i+244>>2]>a)c[i+244>>2]=a;if(!(l>a))a=l}else a=l;h=a;ae=r;return+h}function Ze(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0;n=o[e+56>>2]|0;if(!n){n=o[e+52>>2]|0;if(!n){o[6747]=(o[6747]|0)+1;n=Do(31)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}r=o[e+60>>2]|0;o[n+4>>2]=r;s=n+8|0;o[s>>2]=0;o[6747]=(o[6747]|0)+1;r=Do((r*24|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[n>>2]=r;o[s>>2]=o[e+48>>2];o[e+48>>2]=n}else o[e+52>>2]=o[n+8>>2];a=o[n>>2]|0;n=o[n+4>>2]|0;if((n|0)>0?(o[a>>2]=(n|0)!=1?a+24|0:0,(n|0)!=1):0){r=1;s=a+24|0;do{r=r+1|0;c=(r|0)<(n|0);l=s;s=s+24|0;o[l>>2]=c?s:0}while(c)}}else a=n;o[e+56>>2]=o[a>>2];o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;o[a+20>>2]=0;n=o[e+56>>2]|0;if(!n){n=o[e+52>>2]|0;if(!n){o[6747]=(o[6747]|0)+1;n=Do(31)|0;if(!n)r=0;else{o[(n+4+15&-16)+-4>>2]=n;r=n+4+15&-16}n=o[e+60>>2]|0;o[r+4>>2]=n;s=r+8|0;o[s>>2]=0;o[6747]=(o[6747]|0)+1;n=Do((n*24|3)+16|0)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[r>>2]=n;o[s>>2]=o[e+48>>2];o[e+48>>2]=r}else{o[e+52>>2]=o[n+8>>2];r=n}n=o[r>>2]|0;r=o[r+4>>2]|0;if((r|0)>0?(o[n>>2]=(r|0)!=1?n+24|0:0,(r|0)!=1):0){s=1;c=n+24|0;do{s=s+1|0;l=(s|0)<(r|0);_=c;c=c+24|0;o[_>>2]=l?c:0}while(l)}}o[e+56>>2]=o[n>>2];_=n;o[_>>2]=0;o[_+4>>2]=0;o[a+8>>2]=n;o[n+8>>2]=a;_=o[e+100>>2]|0;o[a+20>>2]=_;o[n+20>>2]=_;o[a+12>>2]=i;o[n+12>>2]=t;o[a+16>>2]=0;o[n+16>>2]=0;n=o[e+116>>2]|0;o[e+116>>2]=n+1;if((n|0)<(o[e+120>>2]|0))return a|0;o[e+120>>2]=n+1;return a|0}function Je(e,t){e=e|0;t=t|0;var i=0,n=0,s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0;i=ae;ae=ae+128|0;P=o[(o[e+8>>2]|0)+24>>2]|0;s=o[P+(t*80|0)+64>>2]|0;n=o[e+12>>2]|0;C=+c[P+(t*80|0)>>2];O=+c[n>>2];v=+c[P+(t*80|0)+16>>2];M=+c[n+4>>2];y=+c[P+(t*80|0)+32>>2];R=+c[n+8>>2];g=+c[P+(t*80|0)+4>>2];A=+c[P+(t*80|0)+20>>2];m=+c[P+(t*80|0)+36>>2];b=+c[P+(t*80|0)+8>>2];h=+c[P+(t*80|0)+24>>2];f=+c[P+(t*80|0)+40>>2];T=+c[n+16>>2];S=+c[n+20>>2];E=+c[n+24>>2];p=+c[n+32>>2];d=+c[n+36>>2];u=+c[n+40>>2];x=+c[P+(t*80|0)+48>>2];I=+c[P+(t*80|0)+52>>2];a=+c[P+(t*80|0)+56>>2];_=+c[n+48>>2]+(O*x+M*I+R*a);l=T*x+S*I+E*a+ +c[n+52>>2];a=p*x+d*I+u*a+ +c[n+56>>2];c[i+56>>2]=C*O+v*M+y*R;c[i+56+4>>2]=O*g+M*A+R*m;c[i+56+8>>2]=O*b+M*h+R*f;c[i+56+12>>2]=0.0;c[i+56+16>>2]=C*T+v*S+y*E;c[i+56+20>>2]=g*T+A*S+m*E;c[i+56+24>>2]=b*T+h*S+f*E;c[i+56+28>>2]=0.0;c[i+56+32>>2]=C*p+v*d+y*u;c[i+56+36>>2]=g*p+A*d+m*u;c[i+56+40>>2]=b*p+h*d+f*u;c[i+56+44>>2]=0.0;c[i+56+48>>2]=_;c[i+56+52>>2]=l;c[i+56+56>>2]=a;c[i+56+60>>2]=0.0;n=o[e+4>>2]|0;o[i+32>>2]=0;o[i+32+4>>2]=s;o[i+32+8>>2]=n;o[i+32+12>>2]=i+56;o[i+32+16>>2]=-1;o[i+32+20>>2]=t;n=o[e+24>>2]|0;c[i+4>>2]=1.0;o[i+8>>2]=0;r[i+12>>1]=1;r[i+14>>1]=-1;o[i+16>>2]=0;o[i>>2]=6908;o[i+20>>2]=n;o[i+24>>2]=t;o[i+4>>2]=o[n+4>>2];o[i+16>>2]=o[n+16>>2];as(o[e+16>>2]|0,o[e+20>>2]|0,i+32|0,i);ae=i;return}function qe(e,t,i,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;var f=0,d=0,h=0,p=0,b=0;b=ae;ae=ae+80|0;c[b+16+60>>2]=0.0;c[b+16+8>>2]=0.0;c[b+16+12>>2]=.10000000149011612;c[b+16+16>>2]=300.0;c[b+16>>2]=1.0;c[b+16+4>>2]=-1.0;c[b+16+28>>2]=0.0;c[b+16+32>>2]=.20000000298023224;c[b+16+36>>2]=0.0;c[b+16+40>>2]=0.0;c[b+16+20>>2]=1.0;c[b+16+24>>2]=.5;o[b+16+56>>2]=0;c[b+16+48>>2]=0.0;n[b+16+44>>0]=0;h=0;do{d=o[e+856+(h<<2)>>2]|0;f=n[e+788+h>>0]|0;if(!d){if(f<<24>>24){f=1;p=5}}else p=5;if((p|0)==5){p=0;c[b+16+40>>2]=0.0;o[b+16+56>>2]=d;o[b+16+52>>2]=o[e+840+(h<<2)>>2];o[b+16+48>>2]=o[e+824+(h<<2)>>2];o[b+16+20>>2]=o[e+732>>2];n[b+16+44>>0]=f;o[b+16+4>>2]=o[e+696+(h<<2)>>2];o[b+16+24>>2]=o[e+728>>2];o[b+16>>2]=o[e+680+(h<<2)>>2];c[b+16+16>>2]=0.0;o[b+16+12>>2]=o[e+808+(h<<2)>>2];o[b+16+8>>2]=o[e+792+(h<<2)>>2];o[b>>2]=o[e+1064+(h<<2)>>2];o[b+4>>2]=o[e+1080+(h<<2)>>2];o[b+8>>2]=o[e+1096+(h<<2)>>2];c[b+12>>2]=0.0;d=o[e+1304>>2]|0;f=h*3|0;d=f?d>>f:d;if(!(d&1))f=o[t+32>>2]|0;else f=e+740+(h<<2)|0;o[b+16+28>>2]=o[f>>2];if(!(d&2))f=o[t+32>>2]|0;else f=e+772+(h<<2)|0;o[b+16+36>>2]=o[f>>2];o[b+16+32>>2]=o[((d&4|0)==0?t+4|0:e+756+(h<<2)|0)>>2];if(n[e+1301>>0]|0){d=h+1|0;if(!(o[e+868+(((d|0)==3?0:d)<<6)+56>>2]|0))f=1;else f=(o[e+868+((((h+2|0)>>>0)%3|0)<<6)+56>>2]|0)==0&1}else f=0;i=(zn(e,b+16|0,r,s,a,l,_,u,t,i,b,0,f)|0)+i|0}h=h+1|0}while((h|0)!=3);ae=b;return i|0}function $e(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0;a=ae;ae=ae+80|0;r=+nF[o[(o[e>>2]|0)+48>>2]&15](e);s=0;do{p=a+64+(s<<2)|0;o[a+64>>2]=0;o[a+64+4>>2]=0;o[a+64+8>>2]=0;o[a+64+12>>2]=0;c[p>>2]=1.0;l=o[(o[e>>2]|0)+64>>2]|0;_=+c[a+64>>2];u=+c[a+64+4>>2];f=+c[a+64+8>>2];d=_*+c[t+4>>2]+u*+c[t+20>>2]+f*+c[t+36>>2];h=_*+c[t+8>>2]+u*+c[t+24>>2]+f*+c[t+40>>2];c[a+32>>2]=+c[t>>2]*_+ +c[t+16>>2]*u+ +c[t+32>>2]*f;c[a+32+4>>2]=d;c[a+32+8>>2]=h;c[a+32+12>>2]=0.0;LF[l&127](a+48|0,e,a+32|0);h=+c[a+48>>2];d=+c[a+48+4>>2];f=+c[a+48+8>>2];u=h*+c[t+16>>2]+d*+c[t+20>>2]+f*+c[t+24>>2]+ +c[t+52>>2];_=h*+c[t+32>>2]+d*+c[t+36>>2]+f*+c[t+40>>2]+ +c[t+56>>2];c[a+32>>2]=h*+c[t>>2]+d*+c[t+4>>2]+f*+c[t+8>>2]+ +c[t+48>>2];c[a+32+4>>2]=u;c[a+32+8>>2]=_;c[a+32+12>>2]=0.0;l=a+32+(s<<2)|0;c[n+(s<<2)>>2]=r+ +c[l>>2];c[p>>2]=-1.0;p=o[(o[e>>2]|0)+64>>2]|0;_=+c[a+64>>2];u=+c[a+64+4>>2];f=+c[a+64+8>>2];d=_*+c[t+4>>2]+u*+c[t+20>>2]+f*+c[t+36>>2];h=_*+c[t+8>>2]+u*+c[t+24>>2]+f*+c[t+40>>2];c[a>>2]=+c[t>>2]*_+ +c[t+16>>2]*u+ +c[t+32>>2]*f;c[a+4>>2]=d;c[a+8>>2]=h;c[a+12>>2]=0.0;LF[p&127](a+16|0,e,a);h=+c[a+16>>2];d=+c[a+16+4>>2];f=+c[a+16+8>>2];u=h*+c[t+16>>2]+d*+c[t+20>>2]+f*+c[t+24>>2]+ +c[t+52>>2];_=h*+c[t+32>>2]+d*+c[t+36>>2]+f*+c[t+40>>2]+ +c[t+56>>2];c[a+32>>2]=h*+c[t>>2]+d*+c[t+4>>2]+f*+c[t+8>>2]+ +c[t+48>>2];c[a+32+4>>2]=u;c[a+32+8>>2]=_;c[a+32+12>>2]=0.0;c[i+(s<<2)>>2]=+c[l>>2]-r;s=s+1|0}while((s|0)!=3);ae=a;return}function et(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0;_=ae;ae=ae+144|0;a=o[e+12>>2]|0;if(!a){ae=_;return}f=o[t+4>>2]|0;u=o[i+4>>2]|0;o[s+4>>2]=a;c[_+12+128>>2]=999999984306749440.0;t=o[t+12>>2]|0;o[_+12>>2]=o[t>>2];o[_+12+4>>2]=o[t+4>>2];o[_+12+8>>2]=o[t+8>>2];o[_+12+12>>2]=o[t+12>>2];o[_+12+16>>2]=o[t+16>>2];o[_+12+16+4>>2]=o[t+16+4>>2];o[_+12+16+8>>2]=o[t+16+8>>2];o[_+12+16+12>>2]=o[t+16+12>>2];o[_+12+32>>2]=o[t+32>>2];o[_+12+32+4>>2]=o[t+32+4>>2];o[_+12+32+8>>2]=o[t+32+8>>2];o[_+12+32+12>>2]=o[t+32+12>>2];o[_+12+48>>2]=o[t+48>>2];o[_+12+48+4>>2]=o[t+48+4>>2];o[_+12+48+8>>2]=o[t+48+8>>2];o[_+12+48+12>>2]=o[t+48+12>>2];i=o[i+12>>2]|0;o[_+12+64>>2]=o[i>>2];o[_+12+64+4>>2]=o[i+4>>2];o[_+12+64+8>>2]=o[i+8>>2];o[_+12+64+12>>2]=o[i+12>>2];o[_+12+80>>2]=o[i+16>>2];o[_+12+80+4>>2]=o[i+16+4>>2];o[_+12+80+8>>2]=o[i+16+8>>2];o[_+12+80+12>>2]=o[i+16+12>>2];o[_+12+96>>2]=o[i+32>>2];o[_+12+96+4>>2]=o[i+32+4>>2];o[_+12+96+8>>2]=o[i+32+8>>2];o[_+12+96+12>>2]=o[i+32+12>>2];o[_+12+112>>2]=o[i+48>>2];o[_+12+112+4>>2]=o[i+48+4>>2];o[_+12+112+8>>2]=o[i+48+8>>2];o[_+12+112+12>>2]=o[i+48+12>>2];o[_>>2]=10596;o[_+4>>2]=f;o[_+8>>2]=u;xo(_,_+12|0,s,o[r+20>>2]|0,0);do{if(n[e+8>>0]|0?(l=o[s+4>>2]|0,o[l+748>>2]|0):0){t=o[l+740>>2]|0;a=o[(o[s+8>>2]|0)+8>>2]|0;if((t|0)==(a|0)){io(l,t+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(l,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,a+4|0);break}}}while(0);ae=_;return}function tt(e){e=e|0;var t=0,i=0,n=0,r=0,s=0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0,b=0;t=o[e+752>>2]|0;if((t|0)>0){i=o[e+760>>2]|0;n=0;do{r=o[i+(n*44|0)+8>>2]|0;s=o[i+(n*44|0)+12>>2]|0;a=o[i+(n*44|0)+16>>2]|0;u=+c[r+8>>2];d=+c[r+12>>2];l=+c[r+16>>2];_=+c[s+8>>2]-u;h=+c[s+12>>2]-d;f=+c[s+16>>2]-l;u=+c[a+8>>2]-u;d=+c[a+12>>2]-d;l=+c[a+16>>2]-l;c[i+(n*44|0)+36>>2]=+v(+((_*d-h*u)*(_*d-h*u)+((h*l-f*d)*(h*l-f*d)+(f*u-_*l)*(f*u-_*l))));n=n+1|0}while((n|0)!=(t|0))}i=o[e+712>>2]|0;if((i|0)>0){o[6747]=(o[6747]|0)+1;t=Do((i<<2|3)+16|0)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}_l(r|0,0,i<<2|0)|0;i=o[e+712>>2]|0;if((i|0)>0){t=o[e+720>>2]|0;n=0;do{c[t+(n*104|0)+92>>2]=0.0;n=n+1|0}while((n|0)!=(i|0));a=r;s=r}else{a=r;s=r}}else{a=0;s=0}r=o[e+752>>2]|0;if((r|0)>0){t=o[e+760>>2]|0;i=o[e+720>>2]|0;n=0;do{h=+y(+ +c[t+(n*44|0)+36>>2]);p=o[t+(n*44|0)+8>>2]|0;b=s+(((p-i|0)/104|0)<<2)|0;o[b>>2]=(o[b>>2]|0)+1;c[p+92>>2]=h+ +c[p+92>>2];p=o[t+(n*44|0)+12>>2]|0;b=s+(((p-i|0)/104|0)<<2)|0;o[b>>2]=(o[b>>2]|0)+1;c[p+92>>2]=h+ +c[p+92>>2];p=o[t+(n*44|0)+16>>2]|0;b=s+(((p-i|0)/104|0)<<2)|0;o[b>>2]=(o[b>>2]|0)+1;c[p+92>>2]=h+ +c[p+92>>2];n=n+1|0}while((n|0)!=(r|0));i=o[e+712>>2]|0}if((i|0)>0){n=0;do{t=o[s+(n<<2)>>2]|0;if((t|0)>0){b=(o[e+720>>2]|0)+(n*104|0)+92|0;c[b>>2]=+c[b>>2]/+(t|0)}else c[(o[e+720>>2]|0)+(n*104|0)+92>>2]=0.0;n=n+1|0}while((n|0)!=(i|0));if(!a)return}else if((s|0)==0|(a|0)==0)return;o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);return}function it(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=+s;var a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0;M=ae;ae=ae+96|0;f=+c[i+4>>2];A=+c[i+20>>2];g=+c[i+36>>2];y=+c[i+8>>2];v=+c[i+24>>2];C=+c[i+40>>2];E=+c[i+12>>2];d=+c[i+28>>2];h=+c[i+44>>2];S=-+c[i+52>>2];T=-+c[i+56>>2];R=-+c[i+60>>2];_=o[e+720>>2]|0;p=+c[_+(t*104|0)+8>>2];b=+c[_+(t*104|0)+12>>2];m=+c[_+(t*104|0)+16>>2];e:do{if(r){r=o[e+268>>2]|0;t:do{if((r|0)>0){l=o[e+276>>2]|0;a=0;while(1){if((o[l+(a<<2)>>2]|0)==(i|0))break;a=a+1|0;if((a|0)>=(r|0))break t}if((a|0)!=(r|0)){r=_;break e}}}while(0);if((r|0)==(o[e+272>>2]|0)?(u=(r|0)==0?1:r<<1,(r|0)<(u|0)):0){if(!u)a=0;else{o[6747]=(o[6747]|0)+1;r=Do((u<<2|3)+16|0)|0;if(!r)a=0;else{o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}r=o[e+268>>2]|0}if((r|0)>0){l=0;do{o[a+(l<<2)>>2]=o[(o[e+276>>2]|0)+(l<<2)>>2];l=l+1|0}while((l|0)!=(r|0))}l=o[e+276>>2]|0;if(l){if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);r=o[e+268>>2]|0}o[e+276>>2]=0}n[e+280>>0]=1;o[e+276>>2]=a;o[e+272>>2]=u}o[(o[e+276>>2]|0)+(r<<2)>>2]=i;o[e+268>>2]=r+1;r=o[e+720>>2]|0}else r=_}while(0);o[M>>2]=r+(t*104|0);o[M+20>>2]=i;c[M+4>>2]=f*S+A*T+g*R+(f*p+A*b+g*m);c[M+8>>2]=y*S+v*T+C*R+(y*p+v*b+C*m);c[M+12>>2]=E*S+d*T+h*R+(E*p+d*b+h*m);c[M+16>>2]=0.0;t=r+(t*104|0)+100|0;n[t>>0]=n[t>>0]|1;c[M+24>>2]=s;tf(e+788|0,M);ae=M;return}function nt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0;w=ae;ae=ae+32|0;l=+c[t+16>>2];r=+c[t>>2];_=+c[t+20>>2];s=+c[t+4>>2];d=+c[t+24>>2];a=+c[t+8>>2];A=+c[t+32>>2];E=+c[t+36>>2];S=+c[t+40>>2];x=(_-s)*(S-a)-(d-a)*(E-s);P=(d-a)*(A-r)-(l-r)*(S-a);D=(l-r)*(E-s)-(_-s)*(A-r);c[w+16>>2]=x;c[w+16+4>>2]=P;c[w+16+8>>2]=D;c[w+16+12>>2]=0.0;h=+c[e+4>>2];b=+c[e+8>>2];y=+c[e+12>>2];I=x*h+P*b+D*y-(a*D+(r*x+s*P));f=+c[e+20>>2];m=+c[e+24>>2];C=+c[e+28>>2];if(I*(x*f+P*m+D*C-(a*D+(r*x+s*P)))>=0.0){ae=w;return}M=o[e+36>>2]|0;if(I<=0.0&(M&1|0)!=0){ae=w;return}O=I/(I-(x*f+P*m+D*C-(a*D+(r*x+s*P))));if(!(O<+c[e+40>>2])){ae=w;return}R=(D*D+(x*x+P*P))*-9.999999747378752e-05;T=r-(f*O+h*(1.0-O));g=s-(m*O+b*(1.0-O));p=a-(C*O+y*(1.0-O));u=l-(f*O+h*(1.0-O));_=_-(m*O+b*(1.0-O));l=d-(C*O+y*(1.0-O));if(!(D*(_*T-g*u)+(x*(g*l-p*_)+P*(p*u-l*T))>=R)){ae=w;return}a=A-(f*O+h*(1.0-O));s=E-(m*O+b*(1.0-O));r=S-(C*O+y*(1.0-O));if(!(D*(s*u-_*a)+(x*(_*r-l*s)+P*(l*a-r*u))>=R)){ae=w;return}if(!(D*(g*a-s*T)+(x*(s*p-r*g)+P*(r*T-p*a))>=R)){ae=w;return}r=1.0/+v(+(D*D+(x*x+P*P)));c[w+16>>2]=x*r;c[w+16+4>>2]=P*r;c[w+16+8>>2]=D*r;t=o[(o[e>>2]|0)+12>>2]|0;if(I<=0.0&(M&2|0)==0){c[w>>2]=-(x*r);c[w+4>>2]=-(P*r);c[w+8>>2]=-(D*r);c[w+12>>2]=0.0;c[e+40>>2]=+oF[t&3](e,w,O,i,n);ae=w;return}else{c[e+40>>2]=+oF[t&3](e,w+16|0,O,i,n);ae=w;return}}function rt(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0;p=ae;ae=ae+48|0;if((r|0)==(t|0)|((t|0)==(i|0)|(i|0)==(r|0))){ae=p;return}u=p;f=u+36|0;do{o[u>>2]=0;u=u+4|0}while((u|0)<(f|0));if(!s)h=o[o[e+880>>2]>>2]|0;else h=s;s=o[e+752>>2]|0;if((s|0)==(o[e+756>>2]|0)?(d=(s|0)==0?1:s<<1,(s|0)<(d|0)):0){if(!d)a=0;else{o[6747]=(o[6747]|0)+1;s=Do((d*44|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[e+752>>2]|0}if((s|0)>0){l=0;do{u=a+(l*44|0)|0;_=(o[e+760>>2]|0)+(l*44|0)|0;f=u+44|0;do{o[u>>2]=o[_>>2];u=u+4|0;_=_+4|0}while((u|0)<(f|0));l=l+1|0}while((l|0)!=(s|0))}s=o[e+760>>2]|0;if(s|0){if(n[e+764>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+760>>2]=0}n[e+764>>0]=1;o[e+760>>2]=a;o[e+756>>2]=d;s=o[e+752>>2]|0}u=o[e+760>>2]|0;o[u+(s*44|0)>>2]=0;o[u+(s*44|0)+4>>2]=h;u=u+(s*44|0)+8|0;_=p;f=u+36|0;do{o[u>>2]=o[_>>2];u=u+4|0;_=_+4|0}while((u|0)<(f|0));h=o[e+752>>2]|0;o[e+752>>2]=h+1;d=o[e+760>>2]|0;_=o[e+720>>2]|0;o[d+(h*44|0)+8>>2]=_+(t*104|0);u=o[e+720>>2]|0;o[d+(h*44|0)+12>>2]=u+(i*104|0);f=o[e+720>>2]|0;o[d+(h*44|0)+16>>2]=f+(r*104|0);A=+c[_+(t*104|0)+8>>2];y=+c[_+(t*104|0)+12>>2];b=+c[_+(t*104|0)+16>>2];m=+c[u+(i*104|0)+8>>2]-A;C=+c[u+(i*104|0)+12>>2]-y;g=+c[u+(i*104|0)+16>>2]-b;A=+c[f+(r*104|0)+8>>2]-A;y=+c[f+(r*104|0)+12>>2]-y;b=+c[f+(r*104|0)+16>>2]-b;c[d+(h*44|0)+36>>2]=+v(+((m*y-C*A)*(m*y-C*A)+((C*b-g*y)*(C*b-g*y)+(g*A-m*b)*(g*A-m*b))));n[e+924>>0]=1;ae=p;return}function ot(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0;c=ae;ae=ae+64|0;a=o[e+24>>2]|0;o[a+(t*80|0)>>2]=o[i>>2];o[a+(t*80|0)+4>>2]=o[i+4>>2];o[a+(t*80|0)+8>>2]=o[i+8>>2];o[a+(t*80|0)+12>>2]=o[i+12>>2];o[a+(t*80|0)+16>>2]=o[i+16>>2];o[a+(t*80|0)+16+4>>2]=o[i+16+4>>2];o[a+(t*80|0)+16+8>>2]=o[i+16+8>>2];o[a+(t*80|0)+16+12>>2]=o[i+16+12>>2];o[a+(t*80|0)+32>>2]=o[i+32>>2];o[a+(t*80|0)+32+4>>2]=o[i+32+4>>2];o[a+(t*80|0)+32+8>>2]=o[i+32+8>>2];o[a+(t*80|0)+32+12>>2]=o[i+32+12>>2];o[a+(t*80|0)+48>>2]=o[i+48>>2];o[a+(t*80|0)+48+4>>2]=o[i+48+4>>2];o[a+(t*80|0)+48+8>>2]=o[i+48+8>>2];o[a+(t*80|0)+48+12>>2]=o[i+48+12>>2];if(!(o[e+64>>2]|0)){a=o[e>>2]|0;a=a+68|0;a=o[a>>2]|0;SF[a&511](e);ae=c;return}a=o[(o[e+24>>2]|0)+(t*80|0)+64>>2]|0;BF[o[(o[a>>2]|0)+8>>2]&127](a,i,c+48|0,c+32|0);o[c>>2]=o[c+48>>2];o[c+4>>2]=o[c+48+4>>2];o[c+8>>2]=o[c+48+8>>2];o[c+12>>2]=o[c+48+12>>2];o[c+16>>2]=o[c+32>>2];o[c+16+4>>2]=o[c+32+4>>2];o[c+16+8>>2]=o[c+32+8>>2];o[c+16+12>>2]=o[c+32+12>>2];a=o[e+64>>2]|0;s=o[(o[e+24>>2]|0)+(t*80|0)+76>>2]|0;i=fi(a,s)|0;e:do{if(i){n=o[a+8>>2]|0;if((n|0)<=-1){i=o[a>>2]|0;break}if(n){r=0;t=i;while(1){i=o[t+32>>2]|0;r=r+1|0;if(!i){i=t;break e}if((r|0)>=(n|0))break;else t=i}}}else i=0}while(0);o[s>>2]=o[c>>2];o[s+4>>2]=o[c+4>>2];o[s+8>>2]=o[c+8>>2];o[s+12>>2]=o[c+12>>2];o[s+16>>2]=o[c+16>>2];o[s+20>>2]=o[c+20>>2];o[s+24>>2]=o[c+24>>2];o[s+28>>2]=o[c+28>>2];de(a,i,s);a=o[e>>2]|0;a=a+68|0;a=o[a>>2]|0;SF[a&511](e);ae=c;return}function st(e,t,i,n,r,s,a,l,_,u,f){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;s=+s;a=+a;l=+l;_=_|0;u=u|0;f=+f;var d=0,h=0.0,p=0.0,b=0,m=0.0,A=0.0;b=ae;ae=ae+208|0;kd(b+192|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[n>>2],+c[n+4>>2],+c[n+8>>2]);d=(~~((l-a)/(f*.01745329238474369))|0)==0?1:~~((l-a)/(f*.01745329238474369));tS(b+128|0,r,+c[n>>2],+c[n+4>>2],+c[n+8>>2]);f=+jL(a);ep(b+144|0,+c[b+128>>2],+c[b+128+4>>2],+c[b+128+8>>2],f);Eh(b+160|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[b+144>>2],+c[b+144+4>>2],+c[b+144+8>>2]);f=+c[b+192>>2];h=+c[b+192+4>>2];p=+c[b+192+8>>2];tS(b+96|0,s,f,h,p);m=+HL(a);ep(b+112|0,+c[b+96>>2],+c[b+96+4>>2],+c[b+96+8>>2],m);Eh(b+176|0,+c[b+160>>2],+c[b+160+4>>2],+c[b+160+8>>2],+c[b+112>>2],+c[b+112+4>>2],+c[b+112+8>>2]);if(u)BF[o[(o[e>>2]|0)+8>>2]&127](e,t,b+176|0,_);i=1;while(1){if((i|0)>(d|0))break;m=(l-a)*+(i|0)/+(d|0)+a;tS(b+32|0,r,+c[n>>2],+c[n+4>>2],+c[n+8>>2]);A=+jL(m);ep(b+48|0,+c[b+32>>2],+c[b+32+4>>2],+c[b+32+8>>2],A);Eh(b+64|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[b+48>>2],+c[b+48+4>>2],+c[b+48+8>>2]);tS(b,s,f,h,p);m=+HL(m);ep(b+16|0,+c[b>>2],+c[b+4>>2],+c[b+8>>2],m);Eh(b+80|0,+c[b+64>>2],+c[b+64+4>>2],+c[b+64+8>>2],+c[b+16>>2],+c[b+16+4>>2],+c[b+16+8>>2]);BF[o[(o[e>>2]|0)+8>>2]&127](e,b+176|0,b+80|0,_);o[b+176>>2]=o[b+80>>2];o[b+176+4>>2]=o[b+80+4>>2];o[b+176+8>>2]=o[b+80+8>>2];o[b+176+12>>2]=o[b+80+12>>2];i=i+1|0}if(!u){ae=b;return}BF[o[(o[e>>2]|0)+8>>2]&127](e,t,b+176|0,_);ae=b;return}function at(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0;i=+c[e+1192+(t<<2)>>2];a=+c[e+868+(t<<6)>>2];l=+c[e+868+(t<<6)+4>>2];do{if(!(a>=l)){if(i<a){if(!((a-i)%6.2831854820251465<-3.1415927410125732)){if((a-i)%6.2831854820251465>3.1415927410125732)r=(a-i)%6.2831854820251465+-6.2831854820251465;else r=(a-i)%6.2831854820251465}else r=(a-i)%6.2831854820251465+6.2831854820251465;r=+y(+r);if(!((l-i)%6.2831854820251465<-3.1415927410125732)){if((l-i)%6.2831854820251465>3.1415927410125732)s=(l-i)%6.2831854820251465+-6.2831854820251465;else s=(l-i)%6.2831854820251465}else s=(l-i)%6.2831854820251465+6.2831854820251465;f=r<+y(+s);i=f?i:i+6.2831854820251465;break}if(i>l){if(!((i-l)%6.2831854820251465<-3.1415927410125732)){if((i-l)%6.2831854820251465>3.1415927410125732)r=(i-l)%6.2831854820251465+-6.2831854820251465;else r=(i-l)%6.2831854820251465}else r=(i-l)%6.2831854820251465+6.2831854820251465;r=+y(+r);if(!((i-a)%6.2831854820251465<-3.1415927410125732)){if((i-a)%6.2831854820251465>3.1415927410125732)s=(i-a)%6.2831854820251465+-6.2831854820251465;else s=(i-a)%6.2831854820251465}else s=(i-a)%6.2831854820251465+6.2831854820251465;f=+y(+s)<r;i=f?i+-6.2831854820251465:i}}}while(0);c[e+868+(t<<6)+52>>2]=i;do{if(!(a>l)){if(a>i){o[e+868+(t<<6)+56>>2]=1;i=i-a;c[e+868+(t<<6)+48>>2]=i;if(i>3.1415927410125732){c[e+868+(t<<6)+48>>2]=i+-6.2831854820251465;break}if(!(i<-3.1415927410125732))break;c[e+868+(t<<6)+48>>2]=i+6.2831854820251465;break}if(l<i){o[e+868+(t<<6)+56>>2]=2;i=i-l;c[e+868+(t<<6)+48>>2]=i;if(i>3.1415927410125732){c[e+868+(t<<6)+48>>2]=i+-6.2831854820251465;break}if(i<-3.1415927410125732)c[e+868+(t<<6)+48>>2]=i+6.2831854820251465}else{_=e+868+(t<<6)+56|0;u=34}}else{_=e+868+(t<<6)+56|0;u=34}}while(0);if((u|0)==34?(o[_>>2]=0,(n[e+868+(t<<6)+44>>0]|0)==0):0){f=0;return f|0}f=1;return f|0}function ct(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0,l=0;l=ae;ae=ae+64|0;c=o[e+24>>2]|0;o[c+(t*80|0)>>2]=o[i>>2];o[c+(t*80|0)+4>>2]=o[i+4>>2];o[c+(t*80|0)+8>>2]=o[i+8>>2];o[c+(t*80|0)+12>>2]=o[i+12>>2];o[c+(t*80|0)+16>>2]=o[i+16>>2];o[c+(t*80|0)+16+4>>2]=o[i+16+4>>2];o[c+(t*80|0)+16+8>>2]=o[i+16+8>>2];o[c+(t*80|0)+16+12>>2]=o[i+16+12>>2];o[c+(t*80|0)+32>>2]=o[i+32>>2];o[c+(t*80|0)+32+4>>2]=o[i+32+4>>2];o[c+(t*80|0)+32+8>>2]=o[i+32+8>>2];o[c+(t*80|0)+32+12>>2]=o[i+32+12>>2];o[c+(t*80|0)+48>>2]=o[i+48>>2];o[c+(t*80|0)+48+4>>2]=o[i+48+4>>2];o[c+(t*80|0)+48+8>>2]=o[i+48+8>>2];o[c+(t*80|0)+48+12>>2]=o[i+48+12>>2];if(o[e+64>>2]|0){c=o[(o[e+24>>2]|0)+(t*80|0)+64>>2]|0;BF[o[(o[c>>2]|0)+8>>2]&127](c,i,l+48|0,l+32|0);o[l>>2]=o[l+48>>2];o[l+4>>2]=o[l+48+4>>2];o[l+8>>2]=o[l+48+8>>2];o[l+12>>2]=o[l+48+12>>2];o[l+16>>2]=o[l+32>>2];o[l+16+4>>2]=o[l+32+4>>2];o[l+16+8>>2]=o[l+32+8>>2];o[l+16+12>>2]=o[l+32+12>>2];c=o[e+64>>2]|0;a=o[(o[e+24>>2]|0)+(t*80|0)+76>>2]|0;i=fi(c,a)|0;e:do{if(i){r=o[c+8>>2]|0;if((r|0)<=-1){i=o[c>>2]|0;break}if(r){s=0;t=i;while(1){i=o[t+32>>2]|0;s=s+1|0;if(!i){i=t;break e}if((s|0)>=(r|0))break;else t=i}}}else i=0}while(0);o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[a+16>>2]=o[l+16>>2];o[a+20>>2]=o[l+20>>2];o[a+24>>2]=o[l+24>>2];o[a+28>>2]=o[l+28>>2];de(c,i,a)}if(!n){ae=l;return}SF[o[(o[e>>2]|0)+68>>2]&511](e);ae=l;return}function lt(e,t){e=e|0;t=+t;var i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0;u=ae;ae=ae+16|0;La(14684);i=o[e+232>>2]|0;if((i|0)>0){_=(n[27556]|0)==0;l=0;do{a=o[(o[e+240>>2]|0)+(l<<2)>>2]|0;e:do{if(a){r=o[a+216>>2]|0;t:do{switch(r|0){case 4:case 2:{if((r|0)==4)break e;break}default:{p=+c[a+312>>2];h=+c[a+316>>2];d=+c[a+320>>2];f=+c[a+472>>2];if(p*p+h*h+d*d<f*f?(f=+c[a+328>>2],d=+c[a+332>>2],h=+c[a+336>>2],p=+c[a+476>>2],f*f+d*d+h*h<p*p):0){c[a+220>>2]=+c[a+220>>2]+t;break t}c[a+220>>2]=0.0;if((r&-2|0)!=4){o[a+216>>2]=0;r=0}}}}while(0);s=r&-2;do{if(_){if((s|0)!=2?!(+c[a+220>>2]>2.0):0)break;if(o[a+204>>2]&3|0){if((s|0)==4)break e;o[a+216>>2]=2;break e}if((r|0)==1){o[a+216>>2]=3;break e}if((r|0)!=2)break e;i=(o[a+260>>2]|0)+2|0;o[a+328>>2]=0;o[a+328+4>>2]=0;o[a+328+8>>2]=0;o[a+328+12>>2]=0;o[a+260>>2]=i;o[a+312>>2]=0;o[a+312+4>>2]=0;o[a+312+8>>2]=0;o[a+312+12>>2]=0;i=o[e+232>>2]|0;break e}}while(0);if((s|0)!=4)o[a+216>>2]=1}}while(0);l=l+1|0}while((l|0)<(i|0))}i=o[2685]|0;_=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=_;if(_|0){ae=u;return}do{if(o[i+4>>2]|0){$(u|0,0)|0;_=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[u+4>>2]|0)-(o[_+4>>2]|0)+(((o[u>>2]|0)-(o[_>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=u;return}}}while(0);o[2685]=o[i+20>>2];ae=u;return}function _t(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0;f=o[e+4>>2]|0;if((f|0)<=0)return;t=o[e+12>>2]|0;i=0;l=0;do{u=o[(o[t+(i<<2)>>2]|0)+384>>2]|0;l=(l|0)>(u|0)?l:u;i=i+1|0}while((i|0)!=(f|0));i=0;while(1){t=o[t+(i<<2)>>2]|0;if((o[t+852>>2]|0)>0){r=0;do{u=o[(o[t+860>>2]|0)+(r<<2)>>2]|0;OF[o[(o[u>>2]|0)+8>>2]&15](u,+c[t+452>>2],l);r=r+1|0}while((r|0)<(o[t+852>>2]|0))}i=i+1|0;if((i|0)==(f|0))break;t=o[e+12>>2]|0}if((l|0)>0){s=0;do{a=0;do{t=o[(o[e+12>>2]|0)+(a<<2)>>2]|0;i=o[t+852>>2]|0;if((i|0)>0){r=0;do{u=o[(o[t+860>>2]|0)+(r<<2)>>2]|0;RF[o[(o[u>>2]|0)+12>>2]&7](u,+c[t+452>>2],1.0);r=r+1|0}while((r|0)!=(i|0))}a=a+1|0}while((a|0)!=(f|0));s=s+1|0}while((s|0)!=(l|0))}u=0;do{_=o[(o[e+12>>2]|0)+(u<<2)>>2]|0;if((o[_+852>>2]|0)>0){r=0;do{t=o[(o[_+860>>2]|0)+(r<<2)>>2]|0;TF[o[(o[t>>2]|0)+16>>2]&31](t,+c[_+452>>2]);t=o[_+860>>2]|0;i=o[t+(r<<2)>>2]|0;e:do{if(n[i+152>>0]|0){if(!i)l=t;else{o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);l=o[_+860>>2]|0}t=r+-1|0;i=o[_+852>>2]|0;if((i|0)>0){a=o[l+(r<<2)>>2]|0;r=0;while(1){s=l+(r<<2)|0;if((o[s>>2]|0)==(a|0))break;r=r+1|0;if((r|0)>=(i|0))break e}if((r|0)<(i|0)){o[s>>2]=o[l+(i+-1<<2)>>2];o[(o[_+860>>2]|0)+(i+-1<<2)>>2]=a;o[_+852>>2]=i+-1;i=i+-1|0}}}else{i=o[_+852>>2]|0;t=r}}while(0);r=t+1|0}while((r|0)<(i|0))}u=u+1|0}while((u|0)!=(f|0));return}function ut(e,t,i){e=e|0;t=+t;i=+i;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0.0,A=0,g=0,y=0,v=0.0,C=0.0,E=0.0,S=0.0;y=ae;ae=ae+16|0;_=+c[e+452>>2];p=o[e+192>>2]|0;m=+nF[o[(o[p>>2]|0)+48>>2]&15](p);p=o[e+812>>2]|0;if((p|0)<=0){ae=y;return}A=0;do{b=o[e+820>>2]|0;g=o[b+(A*104|0)>>2]|0;g=(o[g+236>>2]&2|0)==0?0:g;if(g|0){h=+c[g+332>>2];n=+c[b+(A*104|0)+84>>2];l=+c[g+336>>2];f=+c[b+(A*104|0)+80>>2];r=+c[b+(A*104|0)+76>>2];d=+c[g+328>>2];i=_*(h*n-l*f+ +c[g+312>>2]);n=_*(+c[g+316>>2]+(l*r-n*d));r=_*(f*d-h*r+ +c[g+320>>2])}else{i=0.0;n=0.0;r=0.0}u=o[b+(A*104|0)+24>>2]|0;f=+c[u+8>>2];d=+c[u+12>>2];h=+c[u+16>>2];l=f-+c[u+24>>2]-i;a=d-+c[u+28>>2]-n;s=h-+c[u+32>>2]-r;i=+c[b+(A*104|0)+4>>2];n=+c[b+(A*104|0)+8>>2];r=+c[b+(A*104|0)+12>>2];if(l*i+a*n+s*r<=1.1920928955078125e-07?(E=f*i+d*n+h*r+ +c[b+(A*104|0)+20>>2],S=+c[b+(A*104|0)+96>>2],E=(E<m?E:m)*+c[b+(A*104|0)+100>>2],C=(l-(l-i*(l*i+a*n+s*r))*S+i*E)*t,v=(a-(a-n*(l*i+a*n+s*r))*S+n*E)*t,a=(s-(s-r*(l*i+a*n+s*r))*S+r*E)*t,r=+c[b+(A*104|0)+36>>2]*a+(+c[b+(A*104|0)+28>>2]*C+ +c[b+(A*104|0)+32>>2]*v),s=C*+c[b+(A*104|0)+44>>2]+v*+c[b+(A*104|0)+48>>2]+a*+c[b+(A*104|0)+52>>2],a=C*+c[b+(A*104|0)+60>>2]+v*+c[b+(A*104|0)+64>>2]+a*+c[b+(A*104|0)+68>>2],c[y>>2]=r,c[y+4>>2]=s,c[y+8>>2]=a,c[y+12>>2]=0.0,l=+c[b+(A*104|0)+92>>2],c[u+8>>2]=f-r*l,c[u+12>>2]=d-s*l,c[u+16>>2]=h-a*l,g|0):0)El(g,y,b+(A*104|0)+76|0);A=A+1|0}while((A|0)!=(p|0));ae=y;return}function ft(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,l=0,_=0.0;r=ae;ae=ae+224|0;Th(r+192|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[t>>2],+c[t+4>>2],+c[t+8>>2]);ep(r+208|0,+c[r+192>>2],+c[r+192+4>>2],+c[r+192+8>>2],.5);Eh(r+160|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[t>>2],+c[t+4>>2],+c[t+8>>2]);ep(r+176|0,+c[r+160>>2],+c[r+160+4>>2],+c[r+160+8>>2],.5);c[r+136>>2]=1.0;c[r+132>>2]=1.0;c[r+128>>2]=1.0;Am(r+144|0,r+136|0,r+132|0,r+128|0);t=0;while(1){if((t|0)==4)break;i=0;while(1){if((i|0)==3)break;a=JL(r+144|0)|0;_=+c[a>>2];s=JL(r+208|0)|0;c[r+72>>2]=_*+c[s>>2];c[r+68>>2]=+c[a+4>>2]*+c[s+4>>2];c[r+64>>2]=+c[a+8>>2]*+c[s+8>>2];Am(r+80|0,r+72|0,r+68|0,r+64|0);o[r+112>>2]=o[r+80>>2];o[r+112+4>>2]=o[r+80+4>>2];o[r+112+8>>2]=o[r+80+8>>2];o[r+112+12>>2]=o[r+80+12>>2];Ub(r+112|0,r+176|0)|0;l=a+(((i>>>0)%3|0)<<2)|0;c[l>>2]=-+c[l>>2];c[r+40>>2]=+c[a>>2]*+c[s>>2];c[r+36>>2]=+c[a+4>>2]*+c[s+4>>2];c[r+32>>2]=+c[a+8>>2]*+c[s+8>>2];Am(r+48|0,r+40|0,r+36|0,r+32|0);o[r+96>>2]=o[r+48>>2];o[r+96+4>>2]=o[r+48+4>>2];o[r+96+8>>2]=o[r+48+8>>2];o[r+96+12>>2]=o[r+48+12>>2];Ub(r+96|0,r+176|0)|0;BF[o[(o[e>>2]|0)+8>>2]&127](e,r+112|0,r+96|0,n);i=i+1|0}c[r+8>>2]=-1.0;c[r+4>>2]=-1.0;c[r>>2]=-1.0;Am(r+16|0,r+8|0,r+4|0,r);o[r+144>>2]=o[r+16>>2];o[r+144+4>>2]=o[r+16+4>>2];o[r+144+8>>2]=o[r+16+8>>2];o[r+144+12>>2]=o[r+16+12>>2];if(t>>>0<3){l=(JL(r+144|0)|0)+(t<<2)|0;c[l>>2]=-+c[l>>2]}t=t+1|0}ae=r;return}function dt(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0;o[e+4>>2]=1065353216;o[e+8>>2]=1065353216;o[e+12>>2]=1065353216;c[e+16>>2]=0.0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[e+48>>2]=0;o[e>>2]=9764;n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;n[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;n[e+160>>0]=1;o[e+156>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;n[e+164>>0]=t&1;n[e+165>>0]=i&1;c[e+168>>2]=0.0;o[6747]=(o[6747]|0)+1;t=Do(51)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}t=o[e+24>>2]|0;if((t|0)>0){i=0;do{s=r+(i<<5)|0;a=(o[e+32>>2]|0)+(i<<5)|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[s+16>>2]=o[a+16>>2];o[s+20>>2]=o[a+20>>2];o[s+24>>2]=o[a+24>>2];o[s+28>>2]=o[a+28>>2];i=i+1|0}while((i|0)!=(t|0))}t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=r;o[e+28>>2]=1;a=o[e+24>>2]|0;o[r+(a<<5)>>2]=0;o[r+(a<<5)+4>>2]=0;o[r+(a<<5)+8>>2]=12;o[r+(a<<5)+12>>2]=0;o[r+(a<<5)+16>>2]=0;o[r+(a<<5)+20>>2]=16;o[r+(a<<5)+24>>2]=2;o[r+(a<<5)+28>>2]=0;o[e+24>>2]=(o[e+24>>2]|0)+1;a=(n[e+164>>0]|0)==0;t=o[e+32>>2]|0;o[t>>2]=(o[(a?e+148|0:e+128|0)>>2]|0)/3|0;o[t+4>>2]=0;o[t+24>>2]=a?3:2;o[t+8>>2]=a?6:12;if(!(n[e+165>>0]|0)){s=12;e=(o[e+108>>2]|0)/3|0;a=t+12|0;o[a>>2]=e;a=t+16|0;o[a>>2]=0;a=t+20|0;o[a>>2]=s;return}else{s=16;e=o[e+88>>2]|0;a=t+12|0;o[a>>2]=e;a=t+16|0;o[a>>2]=0;a=t+20|0;o[a>>2]=s;return}}function ht(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0;f=ae;ae=ae+32|0;if((t|0)<0)t=o[e+12>>2]|0;i=o[e>>2]|0;if(!((t|0)>0&(i|0)!=0)){ae=f;return}while(1){n=i+40|0;if(o[n>>2]|0){u=0;while(1){_=i+32|0;r=o[_>>2]|0;if(r>>>0>i>>>0){c=(o[r+40>>2]|0)==(i|0);s=o[r+36+(((c^1)&1)<<2)>>2]|0;a=o[r+32>>2]|0;if(!a)l=e;else l=a+36+(((o[a+40>>2]|0)==(r|0)&1)<<2)|0;o[l>>2]=i;o[s+32>>2]=i;o[r+32>>2]=i;o[_>>2]=a;_=i+36|0;o[r+36>>2]=o[_>>2];o[r+40>>2]=o[n>>2];o[(o[_>>2]|0)+32>>2]=r;o[(o[n>>2]|0)+32>>2]=r;o[i+36+((c&1)<<2)>>2]=r;o[i+36+(((c^1)&1)<<2)>>2]=s;o[f>>2]=o[r>>2];o[f+4>>2]=o[r+4>>2];o[f+8>>2]=o[r+8>>2];o[f+12>>2]=o[r+12>>2];o[f+16>>2]=o[r+16>>2];o[f+20>>2]=o[r+20>>2];o[f+24>>2]=o[r+24>>2];o[f+28>>2]=o[r+28>>2];o[r>>2]=o[i>>2];o[r+4>>2]=o[i+4>>2];o[r+8>>2]=o[i+8>>2];o[r+12>>2]=o[i+12>>2];o[r+16>>2]=o[i+16>>2];o[r+20>>2]=o[i+20>>2];o[r+24>>2]=o[i+24>>2];o[r+28>>2]=o[i+28>>2];o[i>>2]=o[f>>2];o[i+4>>2]=o[f+4>>2];o[i+8>>2]=o[f+8>>2];o[i+12>>2]=o[f+12>>2];o[i+16>>2]=o[f+16>>2];o[i+20>>2]=o[f+20>>2];o[i+24>>2]=o[f+24>>2];o[i+28>>2]=o[f+28>>2];i=r}n=o[e+16>>2]|0;i=o[i+36+(((u?n>>>u:n)&1)<<2)>>2]|0;n=i+40|0;if(!(o[n>>2]|0))break;else u=u+1&31}}if(!(fi(e,i)|0))n=0;else n=o[e>>2]|0;de(e,n,i);o[e+16>>2]=(o[e+16>>2]|0)+1;t=t+-1|0;if(!t)break;i=o[e>>2]|0}ae=f;return}function pt(e){e=e|0;var t=0,i=0.0,r=0,s=0,a=0.0,l=0.0,_=0;_=ae;ae=ae+64|0;La(14854);e:do{if(!(n[e+274>>0]|0)){t=o[e+232>>2]|0;if((t|0)>0){s=0;while(1){r=o[(o[e+240>>2]|0)+(s<<2)>>2]|0;switch(o[r+216>>2]|0){case 2:case 5:break;default:if((o[r+480>>2]|0)!=0?(o[r+204>>2]&3|0)==0:0){if((n[e+300>>0]|0)!=0?(l=+c[e+268>>2],l!=0.0):0)i=+c[e+264>>2]-l;else i=+c[e+264>>2]*+c[r+244>>2];ni(r+68|0,+c[r+132>>2],+c[r+136>>2],+c[r+140>>2],r+148|0,i,_);t=o[r+480>>2]|0;xF[o[(o[t>>2]|0)+12>>2]&127](t,_);t=o[e+232>>2]|0}}s=s+1|0;if((s|0)>=(t|0))break e}}}else{t=o[e+8>>2]|0;if((t|0)>0){s=0;do{r=o[(o[e+16>>2]|0)+(s<<2)>>2]|0;if((!((r|0)==0?1:(o[r+236>>2]&2|0)==0)?(o[r+480>>2]|0)!=0:0)?(o[r+204>>2]&3|0)==0:0){if((n[e+300>>0]|0)!=0?(a=+c[e+268>>2],a!=0.0):0)i=+c[e+264>>2]-a;else i=+c[e+264>>2]*+c[r+244>>2];ni(r+68|0,+c[r+132>>2],+c[r+136>>2],+c[r+140>>2],r+148|0,i,_);t=o[r+480>>2]|0;xF[o[(o[t>>2]|0)+12>>2]&127](t,_);t=o[e+8>>2]|0}s=s+1|0}while((s|0)<(t|0))}}}while(0);t=o[2685]|0;e=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=e;if(e|0){ae=_;return}do{if(o[t+4>>2]|0){$(_|0,0)|0;e=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[_+4>>2]|0)-(o[e+4>>2]|0)+(((o[_>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=_;return}}}while(0);o[2685]=o[t+20>>2];ae=_;return}function bt(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0;a=ae;ae=ae+32|0;t=(n[e+8>>0]|0)==0?i:t;if(((o[(o[t+4>>2]|0)+4>>2]|0)+-21|0)>>>0>=9){ae=a;return}i=o[(o[t+8>>2]|0)+192>>2]|0;C=+nF[o[(o[i>>2]|0)+48>>2]&15](i);o[e+64>>2]=r;c[e+68>>2]=C+.05999999865889549;o[e+56>>2]=s;s=o[e+16>>2]|0;LF[o[(o[s>>2]|0)+28>>2]&127](s,a+16|0,a);C=+c[a>>2];v=+c[a+16>>2];b=+c[a+4>>2];p=+c[a+16+4>>2];S=+c[a+8>>2];E=+c[a+16+8>>2];s=o[t+12>>2]|0;O=+c[s>>2];M=+c[s+16>>2];d=+c[s+32>>2];R=+c[s+4>>2];T=+c[s+20>>2];u=+c[s+36>>2];g=+c[s+8>>2];A=+c[s+24>>2];m=+c[s+40>>2];I=-+c[s+48>>2];l=-+c[s+52>>2];_=-+c[s+56>>2];h=(C+v)*.5*O+(b+p)*.5*M+(S+E)*.5*d+(O*I+M*l+d*_);f=(C+v)*.5*R+(b+p)*.5*T+(S+E)*.5*u+(R*I+T*l+u*_);_=(C+v)*.5*g+(b+p)*.5*A+(S+E)*.5*m+(g*I+A*l+m*_);l=+c[e+68>>2];d=+y(+(d+(O*0.0+M*0.0)))*((S-E)*.5+l)+(+y(+(O+M*0.0+d*0.0))*((C-v)*.5+l)+ +y(+(O*0.0+M+d*0.0))*((b-p)*.5+l));u=+y(+(u+(R*0.0+T*0.0)))*((S-E)*.5+l)+(+y(+(R+T*0.0+u*0.0))*((C-v)*.5+l)+ +y(+(R*0.0+T+u*0.0))*((b-p)*.5+l));l=+y(+(m+(g*0.0+A*0.0)))*((S-E)*.5+l)+(+y(+(g+A*0.0+m*0.0))*((C-v)*.5+l)+ +y(+(g*0.0+A+m*0.0))*((b-p)*.5+l));c[e+24>>2]=h-d;c[e+28>>2]=f-u;c[e+32>>2]=_-l;c[e+36>>2]=0.0;c[e+40>>2]=h+d;c[e+44>>2]=f+u;c[e+48>>2]=_+l;c[e+52>>2]=0.0;BF[o[(o[i>>2]|0)+64>>2]&127](i,e+12|0,e+24|0,e+40|0);ae=a;return}function mt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0,u=0,f=0;_=ae;ae=ae+16|0;o[e+8>>2]=0;o[e+12>>2]=1065353216;o[e+16>>2]=1065353216;o[e+20>>2]=1065353216;c[e+24>>2]=0.0;c[e+44>>2]=.03999999910593033;o[e+52>>2]=0;o[e+56>>2]=1065353216;o[e+60>>2]=1065353216;o[e+64>>2]=1065353216;c[e+68>>2]=0.0;o[e+72>>2]=-1082130432;o[e+76>>2]=-1082130432;o[e+80>>2]=-1082130432;c[e+84>>2]=0.0;n[e+88>>0]=0;o[e>>2]=8568;n[e+108>>0]=1;o[e+104>>2]=0;o[e+96>>2]=0;o[e+100>>2]=0;o[e+4>>2]=4;if((i|0)<=0){o[e+96>>2]=i;xa(e);ae=_;return}o[6747]=(o[6747]|0)+1;s=Do((i<<4|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[e+96>>2]|0;if((s|0)>0){a=0;do{u=l+(a<<4)|0;f=(o[e+104>>2]|0)+(a<<4)|0;o[u>>2]=o[f>>2];o[u+4>>2]=o[f+4>>2];o[u+8>>2]=o[f+8>>2];o[u+12>>2]=o[f+12>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[e+104>>2]|0;if(s|0){if(n[e+108>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+104>>2]=0}n[e+108>>0]=1;o[e+104>>2]=l;o[e+100>>2]=i;o[l>>2]=o[_>>2];o[l+4>>2]=o[_+4>>2];o[l+8>>2]=o[_+8>>2];o[l+12>>2]=o[_+12>>2];if((i|0)!=1){s=1;do{f=(o[e+104>>2]|0)+(s<<4)|0;o[f>>2]=o[_>>2];o[f+4>>2]=o[_+4>>2];o[f+8>>2]=o[_+8>>2];o[f+12>>2]=o[_+12>>2];s=s+1|0}while((s|0)!=(i|0))}o[e+96>>2]=i;a=0;s=t;while(1){t=o[s+4>>2]|0;u=o[s+8>>2]|0;f=o[e+104>>2]|0;o[f+(a<<4)>>2]=o[s>>2];o[f+(a<<4)+4>>2]=t;o[f+(a<<4)+8>>2]=u;c[f+(a<<4)+12>>2]=0.0;a=a+1|0;if((a|0)==(i|0))break;else s=s+r|0}xa(e);ae=_;return}function At(e,t,i,r,s,a,c,l,_){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;var u=0,f=0;f=ae;ae=ae+16|0;if(!((o[e+924>>2]|0)==0?(n[e+912>>0]|0)==0:0)){o[f>>2]=o[e+1208>>2];o[f+4>>2]=o[e+1208+4>>2];o[f+8>>2]=o[e+1208+8>>2];o[f+12>>2]=o[e+1208+12>>2];u=o[e+1304>>2]|0;if(!(u&512))o[e+896>>2]=o[o[t+32>>2]>>2];if(!(u&1024))o[e+904>>2]=o[o[t+32>>2]>>2];if(!(u&2048))o[e+900>>2]=o[t+4>>2];i=(zn(e,e+868|0,r,s,a,c,l,_,t,i,f,1,0)|0)+i|0}if(!((o[e+988>>2]|0)==0?(n[e+976>>0]|0)==0:0)){o[f>>2]=o[e+1224>>2];o[f+4>>2]=o[e+1224+4>>2];o[f+8>>2]=o[e+1224+8>>2];o[f+12>>2]=o[e+1224+12>>2];u=o[e+1304>>2]|0;if(!(u&4096))o[e+960>>2]=o[o[t+32>>2]>>2];if(!(u&8192))o[e+968>>2]=o[o[t+32>>2]>>2];if(!(u&16384))o[e+964>>2]=o[t+4>>2];i=(zn(e,e+932|0,r,s,a,c,l,_,t,i,f,1,0)|0)+i|0}if((o[e+1052>>2]|0)==0?(n[e+1040>>0]|0)==0:0){s=i;ae=f;return s|0}o[f>>2]=o[e+1240>>2];o[f+4>>2]=o[e+1240+4>>2];o[f+8>>2]=o[e+1240+8>>2];o[f+12>>2]=o[e+1240+12>>2];u=o[e+1304>>2]|0;if(!(u&32768))o[e+1024>>2]=o[o[t+32>>2]>>2];if(!(u&65536))o[e+1032>>2]=o[o[t+32>>2]>>2];if(!(u&131072))o[e+1028>>2]=o[t+4>>2];s=(zn(e,e+996|0,r,s,a,c,l,_,t,i,f,1,0)|0)+i|0;ae=f;return s|0}function gt(e){e=e|0;var t=0;o[e>>2]=5872;t=o[e+176>>2]|0;if(t|0){if(n[e+180>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+176>>2]=0}n[e+180>>0]=1;o[e+176>>2]=0;o[e+168>>2]=0;o[e+172>>2]=0;t=o[e+156>>2]|0;if(t|0){if(n[e+160>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+156>>2]=0}n[e+160>>0]=1;o[e+156>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;t=o[e+136>>2]|0;if(t|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;t=o[e+116>>2]|0;if(t|0){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+116>>2]=0}n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;t=o[e+96>>2]|0;if(t|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;t=o[e+76>>2]|0;if(t|0){if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+76>>2]=0}n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;o[e+72>>2]=0;t=o[e+56>>2]|0;if(t|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function yt(e,t,i){e=e|0;t=t|0;i=i|0;fe(e,t,i)|0;o[t+256>>2]=o[e+264>>2];o[t+260>>2]=o[e+268>>2];o[t+264>>2]=o[e+272>>2];o[t+268>>2]=o[e+276>>2];o[t+272>>2]=o[e+280>>2];o[t+276>>2]=o[e+284>>2];o[t+280>>2]=o[e+288>>2];o[t+284>>2]=o[e+292>>2];o[t+288>>2]=o[e+296>>2];o[t+292>>2]=o[e+300>>2];o[t+296>>2]=o[e+304>>2];o[t+300>>2]=o[e+308>>2];o[t+304>>2]=o[e+312>>2];o[t+308>>2]=o[e+316>>2];o[t+312>>2]=o[e+320>>2];o[t+316>>2]=o[e+324>>2];o[t+320>>2]=o[e+328>>2];o[t+324>>2]=o[e+332>>2];o[t+328>>2]=o[e+336>>2];o[t+332>>2]=o[e+340>>2];o[t+448>>2]=o[e+344>>2];o[t+336>>2]=o[e+544>>2];o[t+340>>2]=o[e+548>>2];o[t+344>>2]=o[e+552>>2];o[t+348>>2]=o[e+556>>2];o[t+352>>2]=o[e+348>>2];o[t+356>>2]=o[e+352>>2];o[t+360>>2]=o[e+356>>2];o[t+364>>2]=o[e+360>>2];o[t+368>>2]=o[e+364>>2];o[t+372>>2]=o[e+368>>2];o[t+376>>2]=o[e+372>>2];o[t+380>>2]=o[e+376>>2];o[t+384>>2]=o[e+380>>2];o[t+388>>2]=o[e+384>>2];o[t+392>>2]=o[e+388>>2];o[t+396>>2]=o[e+392>>2];o[t+400>>2]=o[e+396>>2];o[t+404>>2]=o[e+400>>2];o[t+408>>2]=o[e+404>>2];o[t+412>>2]=o[e+408>>2];o[t+416>>2]=o[e+412>>2];o[t+420>>2]=o[e+416>>2];o[t+424>>2]=o[e+420>>2];o[t+428>>2]=o[e+424>>2];o[t+432>>2]=o[e+428>>2];o[t+436>>2]=o[e+432>>2];o[t+440>>2]=o[e+436>>2];o[t+444>>2]=o[e+440>>2];o[t+452>>2]=o[e+444>>2];o[t+456>>2]=o[e+448>>2];o[t+484>>2]=s[e+452>>0];o[t+460>>2]=o[e+456>>2];o[t+464>>2]=o[e+460>>2];o[t+468>>2]=o[e+464>>2];o[t+472>>2]=o[e+468>>2];o[t+476>>2]=o[e+472>>2];o[t+480>>2]=o[e+476>>2];return 14480}function vt(e,t,i,r,s){e=e|0;t=+t;i=i|0;r=r|0;s=s|0;var a=0;a=ae;ae=ae+144|0;o[e+164>>2]=1065353216;o[e+168>>2]=1065353216;o[e+172>>2]=1065353216;c[e+176>>2]=0.0;o[e+180>>2]=0;c[e+184>>2]=999999984306749440.0;o[e+188>>2]=0;o[e+188+4>>2]=0;o[e+188+8>>2]=0;o[e+188+12>>2]=0;o[e+204>>2]=1;o[e+208>>2]=-1;o[e+212>>2]=-1;o[e+216>>2]=1;c[e+220>>2]=0.0;c[e+224>>2]=.5;c[e+228>>2]=0.0;c[e+232>>2]=0.0;o[e+236>>2]=1;o[e+240>>2]=0;c[e+244>>2]=1.0;o[e+248>>2]=0;o[e+248+4>>2]=0;o[e+248+8>>2]=0;o[e+248+12>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+48+4>>2]=0;o[e+48+8>>2]=0;o[e+48+12>>2]=0;o[e+48+16>>2]=0;o[e>>2]=5172;n[e+500>>0]=1;o[e+496>>2]=0;o[e+488>>2]=0;o[e+492>>2]=0;c[a>>2]=t;o[a+4>>2]=i;o[a+72>>2]=r;o[a+76>>2]=o[s>>2];o[a+76+4>>2]=o[s+4>>2];o[a+76+8>>2]=o[s+8>>2];o[a+76+12>>2]=o[s+12>>2];c[a+92>>2]=0.0;c[a+96>>2]=0.0;c[a+100>>2]=.5;c[a+104>>2]=0.0;c[a+108>>2]=0.0;c[a+112>>2]=.800000011920929;c[a+116>>2]=1.0;n[a+120>>0]=0;c[a+124>>2]=.004999999888241291;c[a+128>>2]=.009999999776482582;c[a+132>>2]=.009999999776482582;c[a+136>>2]=.009999999776482582;o[a+8>>2]=1065353216;o[a+12>>2]=0;o[a+12+4>>2]=0;o[a+12+8>>2]=0;o[a+12+12>>2]=0;o[a+28>>2]=1065353216;o[a+32>>2]=0;o[a+32+4>>2]=0;o[a+32+8>>2]=0;o[a+32+12>>2]=0;o[a+48>>2]=1065353216;o[a+52>>2]=0;o[a+52+4>>2]=0;o[a+52+8>>2]=0;o[a+52+12>>2]=0;o[a+52+16>>2]=0;Jn(e,a);ae=a;return}function Ct(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,E=0.0,S=0,T=0.0,R=0.0;S=ae;ae=ae+48|0;A=+c[n>>2];g=+c[i>>2];C=+c[n+4>>2];E=+c[i+4>>2];m=+c[n+8>>2];a=+c[i+8>>2];l=+v(+((A-g)*.5*((A-g)*.5)+(C-E)*.5*((C-E)*.5)+(m-a)*.5*((m-a)*.5)));_=+c[e+56>>2];if(+y(+_)>.7071067690849304){T=+c[e+52>>2];b=1.0/+v(+(_*_+T*T));R=+c[e+48>>2];r=R;s=T;u=R*-(_*b);f=0.0;d=-(_*b);h=T*b;p=(_*_+T*T)*b;b=-(R*(T*b))}else{p=+c[e+48>>2];R=+c[e+52>>2];b=1.0/+v(+(p*p+R*R));r=p;s=R;u=(p*p+R*R)*b;f=-(R*b);d=p*b;h=0.0;p=-(_*(p*b));b=_*-(R*b)}R=_*((m+a)*.5)+((A+g)*.5*r+(C+E)*.5*s)-+c[e+64>>2];C=(C+E)*.5-s*R;s=(A+g)*.5-r*R;f=l*f;g=l*d;T=l*h;p=l*p;A=l*b;E=l*u;c[S>>2]=p+(f+s);c[S+4>>2]=A+(g+C);c[S+8>>2]=E+(T+((m+a)*.5-_*R));c[S+12>>2]=0.0;c[S+16>>2]=f+s-p;c[S+20>>2]=g+C-A;c[S+24>>2]=T+((m+a)*.5-_*R)-E;c[S+28>>2]=0.0;c[S+32>>2]=s-f-p;c[S+36>>2]=C-g-A;c[S+40>>2]=(m+a)*.5-_*R-T-E;c[S+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,S,0,0);c[S>>2]=s-f-p;c[S+4>>2]=C-g-A;c[S+8>>2]=(m+a)*.5-_*R-T-E;c[S+12>>2]=0.0;c[S+16>>2]=p+(s-f);c[S+20>>2]=A+(C-g);c[S+24>>2]=E+((m+a)*.5-_*R-T);c[S+28>>2]=0.0;c[S+32>>2]=p+(f+s);c[S+36>>2]=A+(g+C);c[S+40>>2]=E+(T+((m+a)*.5-_*R));c[S+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,S,0,1);ae=S;return}function Et(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0,l=0;pr(e,t);o[e>>2]=4132;o[6747]=(o[6747]|0)+1;i=Do(27)|0;c=i+4+15&-16;o[c+-4>>2]=i;n[c+4>>0]=0;o[(i+4+15&-16)>>2]=4164;o[e+92>>2]=c;o[6747]=(o[6747]|0)+1;c=Do(27)|0;i=c+4+15&-16;o[i+-4>>2]=c;n[i+4>>0]=0;o[(c+4+15&-16)>>2]=4184;o[e+96>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i>>2]=4184;o[e+100>>2]=i;n[i+4>>0]=1;o[6747]=(o[6747]|0)+1;c=Do(27)|0;i=c+4+15&-16;o[i+-4>>2]=c;n[i+4>>0]=0;o[(c+4+15&-16)>>2]=4204;o[e+104>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i>>2]=4224;o[e+108>>2]=i;n[i+4>>0]=1;if(!(n[e+20>>0]|0))return;i=o[e+16>>2]|0;if(!i)return;if((o[i>>2]|0)>=156)return;r=o[i+16>>2]|0;if(r){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);i=o[e+16>>2]|0;if(!i)c=e+16|0;else{r=e+16|0;s=11}}else{r=e+16|0;s=11}if((s|0)==11){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);c=r}o[6747]=(o[6747]|0)+1;i=Do(39)|0;if(!i)a=0;else{o[(i+4+15&-16)+-4>>2]=i;a=i+4+15&-16}i=o[t+12>>2]|0;o[a>>2]=156;r=a+4|0;o[r>>2]=i;o[6747]=(o[6747]|0)+1;i=Do((i*156|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[a+16>>2]=i;o[a+12>>2]=i;r=o[r>>2]|0;o[a+8>>2]=r;if(r+-1|0){e=o[a>>2]|0;s=r+-1|0;t=i;do{l=t;t=t+e|0;o[l>>2]=t;s=s+-1|0}while((s|0)!=0);i=i+(O(e,r+-1|0)|0)|0}o[i>>2]=0;o[c>>2]=a;return}function St(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;u=o[t>>2]|0;u=pF[o[(o[u>>2]|0)+56>>2]&31](u,48)|0;o[u+4>>2]=o[t>>2];o[u>>2]=7340;n[u+28>>0]=1;o[u+24>>2]=0;o[u+16>>2]=0;o[u+20>>2]=0;o[u+32>>2]=o[t+4>>2];n[u+36>>0]=0;o[6747]=(o[6747]|0)+1;e=Do(87)|0;if(!e)_=0;else{o[(e+4+15&-16)+-4>>2]=e;_=e+4+15&-16}o[_>>2]=10636;a=_+20|0;n[a>>0]=1;l=_+16|0;o[l>>2]=0;t=_+8|0;o[t>>2]=0;c=_+12|0;o[c>>2]=0;n[_+24>>0]=0;n[_+44>>0]=1;o[_+40>>2]=0;o[_+32>>2]=0;o[_+36>>2]=0;n[_+64>>0]=1;o[_+60>>2]=0;o[_+52>>2]=0;o[_+56>>2]=0;o[6747]=(o[6747]|0)+1;e=Do(43)|0;if(!e)s=0;else{o[(e+4+15&-16)+-4>>2]=e;s=e+4+15&-16}e=o[t>>2]|0;if((e|0)>0){t=0;do{f=s+(t*12|0)|0;d=(o[l>>2]|0)+(t*12|0)|0;o[f>>2]=o[d>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];t=t+1|0}while((t|0)!=(e|0))}e=o[l>>2]|0;if(!e){n[a>>0]=1;o[l>>2]=s;o[c>>2]=2;Be(_);d=u+8|0;o[d>>2]=_;d=i+4|0;d=o[d>>2]|0;d=d+68|0;d=o[d>>2]|0;f=u+40|0;o[f>>2]=d;f=r+4|0;f=o[f>>2]|0;f=f+68|0;f=o[f>>2]|0;d=u+44|0;o[d>>2]=f;return u|0}if(n[a>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0)}o[l>>2]=0;n[a>>0]=1;o[l>>2]=s;o[c>>2]=2;Be(_);d=u+8|0;o[d>>2]=_;d=i+4|0;d=o[d>>2]|0;d=d+68|0;d=o[d>>2]|0;f=u+40|0;o[f>>2]=d;f=r+4|0;f=o[f>>2]|0;f=f+68|0;f=o[f>>2]|0;d=u+44|0;o[d>>2]=f;return u|0}function Tt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;o[6733]=(o[6733]|0)+1;s=(i<<16|t)+~((i<<16|t)<<15)|0;s=((10?s>>10:s)^s)*9|0;s=(6?s>>6:s)^s;u=o[e+40>>2]|0;s=u+(((o[e+12>>2]|0)+-1&((16?s+~(s<<11)>>16:s+~(s<<11)|0)^s+~(s<<11)))<<2)|0;r=o[s>>2]|0;if((r|0)==-1){d=0;return d|0}f=o[e+16>>2]|0;n=r;while(1){_=f+(n*12|0)|0;if((o[_>>2]|0)==(t|0)?(o[f+(n*12|0)+4>>2]|0)==(i|0):0)break;n=o[(o[e+60>>2]|0)+(n<<2)>>2]|0;if((n|0)==-1){n=0;d=23;break}}if((d|0)==23)return n|0;if(!_){d=0;return d|0}l=o[f+(n*12|0)+8>>2]|0;c=(n*12|0)/12|0;a=o[e+60>>2]|0;if((r|0)!=(c|0)){i=r;while(1){t=a+(i<<2)|0;n=o[t>>2]|0;if((n|0)==(c|0))break;else i=n}n=o[a+(c<<2)>>2]|0;if((i|0)==-1)d=12;else o[t>>2]=n}else{n=o[a+(r<<2)>>2]|0;d=12}if((d|0)==12)o[s>>2]=n;s=(o[e+8>>2]|0)+-1|0;if((s|0)==(c|0)){o[e+8>>2]=c;d=l;return d|0}r=o[f+(s*12|0)+4>>2]<<16|o[f+(s*12|0)>>2];r=((10?r+~(r<<15)>>10:r+~(r<<15)|0)^r+~(r<<15))*9|0;r=(6?r>>6:r)^r;r=((16?r+~(r<<11)>>16:r+~(r<<11)|0)^r+~(r<<11))&(o[e+12>>2]|0)+-1;n=o[u+(r<<2)>>2]|0;if((n|0)!=(s|0)){i=n;while(1){t=a+(i<<2)|0;n=o[t>>2]|0;if((n|0)==(s|0))break;else i=n}n=o[a+(s<<2)>>2]|0;if((i|0)==-1)d=21;else o[t>>2]=n}else{n=o[a+(s<<2)>>2]|0;d=21}if((d|0)==21)o[u+(r<<2)>>2]=n;o[_>>2]=o[f+(s*12|0)>>2];o[_+4>>2]=o[f+(s*12|0)+4>>2];o[_+8>>2]=o[f+(s*12|0)+8>>2];d=(o[e+40>>2]|0)+(r<<2)|0;o[(o[e+60>>2]|0)+(c<<2)>>2]=o[d>>2];o[d>>2]=c;o[e+8>>2]=(o[e+8>>2]|0)+-1;d=l;return d|0}function Rt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;SF[o[(o[t>>2]|0)+32>>2]&511](t);n=mF[o[(o[t>>2]|0)+16>>2]&63](t,104,1)|0;i=o[n+8>>2]|0;r=i;s=r+104|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[i+88>>2]=o[e+248>>2];o[i+92>>2]=o[e+252>>2];o[i+96>>2]=o[e+256>>2];o[i+100>>2]=o[e+260>>2];o[i>>2]=o[e+92>>2];o[i+4>>2]=o[e+96>>2];o[i+8>>2]=o[e+100>>2];o[i+12>>2]=o[e+104>>2];o[i+16>>2]=o[e+108>>2];o[i+20>>2]=o[e+116>>2];o[i+24>>2]=o[e+120>>2];o[i+28>>2]=o[e+124>>2];o[i+32>>2]=o[e+128>>2];o[i+36>>2]=o[e+132>>2];o[i+40>>2]=o[e+140>>2];o[i+44>>2]=o[e+144>>2];o[i+48>>2]=o[e+148>>2];o[i+52>>2]=o[e+152>>2];o[i+56>>2]=o[e+168>>2];o[i+60>>2]=o[e+172>>2];o[i+64>>2]=o[e+112>>2];o[i+68>>2]=o[e+156>>2];o[i+72>>2]=o[e+160>>2];o[i+76>>2]=o[e+164>>2];o[i+80>>2]=o[e+136>>2];jF[o[(o[t>>2]|0)+20>>2]&31](t,n,14893,1145853764,i);i=o[e+8>>2]|0;if((i|0)<=0){ya(e,t);Fs(e,t);e=o[t>>2]|0;e=e+36|0;e=o[e>>2]|0;SF[e&511](t);return}r=0;do{n=o[(o[e+16>>2]|0)+(r<<2)>>2]|0;if(o[n+236>>2]&8){s=dF[o[(o[n>>2]|0)+16>>2]&127](n)|0;s=mF[o[(o[t>>2]|0)+16>>2]&63](t,s,1)|0;i=mF[o[(o[n>>2]|0)+20>>2]&63](n,o[s+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,s,i,1497645651,n);i=o[e+8>>2]|0}r=r+1|0}while((r|0)<(i|0));ya(e,t);Fs(e,t);e=o[t>>2]|0;e=e+36|0;e=o[e>>2]|0;SF[e&511](t);return}function Mt(e,t){e=e|0;t=+t;var i=0,n=0,r=0,s=0,a=0.0,l=0.0,_=0.0;s=ae;ae=ae+32|0;i=o[e+8>>2]|0;if((i|0)<=0){ae=s;return}r=0;do{n=o[(o[e+16>>2]|0)+(r<<2)>>2]|0;if((!((n|0)==0?1:(o[n+236>>2]&2|0)==0)?(o[n+216>>2]|0)!=2:0)?!(t==0.0?1:(o[n+204>>2]&2|0)==0):0){i=o[n+480>>2]|0;if(!i)i=n+4|0;else{xF[o[(o[i>>2]|0)+8>>2]&127](i,n+4|0);i=n+4|0}l=1.0/t*(+c[n+56>>2]-+c[n+120>>2]);_=1.0/t*(+c[n+60>>2]-+c[n+124>>2]);c[n+312>>2]=1.0/t*(+c[n+52>>2]-+c[n+116>>2]);c[n+316>>2]=l;c[n+320>>2]=_;c[n+324>>2]=0.0;Le(n+68|0,i,s+8|0,s);_=+c[s>>2];l=1.0/t*(_*+c[s+8+4>>2]);a=1.0/t*(_*+c[s+8+8>>2]);c[n+328>>2]=1.0/t*(+c[s+8>>2]*_);c[n+332>>2]=l;c[n+336>>2]=a;c[n+340>>2]=0.0;o[n+132>>2]=o[n+312>>2];o[n+132+4>>2]=o[n+312+4>>2];o[n+132+8>>2]=o[n+312+8>>2];o[n+132+12>>2]=o[n+312+12>>2];o[n+148>>2]=o[n+328>>2];o[n+148+4>>2]=o[n+328+4>>2];o[n+148+8>>2]=o[n+328+8>>2];o[n+148+12>>2]=o[n+328+12>>2];o[n+68>>2]=o[i>>2];o[n+68+4>>2]=o[i+4>>2];o[n+68+8>>2]=o[i+8>>2];o[n+68+12>>2]=o[i+12>>2];o[n+84>>2]=o[n+20>>2];o[n+84+4>>2]=o[n+20+4>>2];o[n+84+8>>2]=o[n+20+8>>2];o[n+84+12>>2]=o[n+20+12>>2];o[n+100>>2]=o[n+36>>2];o[n+100+4>>2]=o[n+36+4>>2];o[n+100+8>>2]=o[n+36+8>>2];o[n+100+12>>2]=o[n+36+12>>2];o[n+116>>2]=o[n+52>>2];o[n+116+4>>2]=o[n+52+4>>2];o[n+116+8>>2]=o[n+52+8>>2];o[n+116+12>>2]=o[n+52+12>>2];i=o[e+8>>2]|0}r=r+1|0}while((r|0)<(i|0));ae=s;return}function Ot(e,t){e=e|0;t=t|0;var i=0;i=Tm()|0;o[i+4>>2]=5;o[i>>2]=5660;o[i+8>>2]=-1;o[i+12>>2]=-1;c[i+16>>2]=3402823466385288598117041.0e14;n[i+20>>0]=1;n[i+21>>0]=0;o[i+24>>2]=-1;o[i+28>>2]=e;kl();o[i+32>>2]=25640;c[i+36>>2]=0.0;c[i+40>>2]=.30000001192092896;o[i+44>>2]=0;o[i>>2]=5764;o[i+300>>2]=o[t>>2];o[i+300+4>>2]=o[t+4>>2];o[i+300+8>>2]=o[t+8>>2];o[i+300+12>>2]=o[t+12>>2];o[i+316>>2]=o[t+16>>2];o[i+316+4>>2]=o[t+16+4>>2];o[i+316+8>>2]=o[t+16+8>>2];o[i+316+12>>2]=o[t+16+12>>2];o[i+332>>2]=o[t+32>>2];o[i+332+4>>2]=o[t+32+4>>2];o[i+332+8>>2]=o[t+32+8>>2];o[i+332+12>>2]=o[t+32+12>>2];o[i+348>>2]=o[t+48>>2];o[i+348+4>>2]=o[t+48+4>>2];o[i+348+8>>2]=o[t+48+8>>2];o[i+348+12>>2]=o[t+48+12>>2];n[i+527>>0]=0;o[i+364>>2]=o[i+300>>2];o[i+364+4>>2]=o[i+300+4>>2];o[i+364+8>>2]=o[i+300+8>>2];o[i+364+12>>2]=o[i+300+12>>2];o[i+380>>2]=o[i+316>>2];o[i+380+4>>2]=o[i+316+4>>2];o[i+380+8>>2]=o[i+316+8>>2];o[i+380+12>>2]=o[i+316+12>>2];o[i+396>>2]=o[i+332>>2];o[i+396+4>>2]=o[i+332+4>>2];o[i+396+8>>2]=o[i+332+8>>2];o[i+396+12>>2]=o[i+332+12>>2];n[i+524>>0]=0;n[i+525>>0]=0;n[i+526>>0]=0;n[i+552>>0]=0;o[i+412>>2]=0;o[i+412+4>>2]=0;o[i+412+8>>2]=0;o[i+412+12>>2]=0;c[i+572>>2]=-1.0;c[i+444>>2]=999999984306749440.0;c[i+448>>2]=999999984306749440.0;c[i+452>>2]=999999984306749440.0;c[i+428>>2]=1.0;c[i+432>>2]=.30000001192092896;c[i+436>>2]=1.0;c[i+440>>2]=.009999999776482582;c[i+456>>2]=.05000000074505806;o[i+592>>2]=0;c[i+596>>2]=0.0;c[i+600>>2]=.699999988079071;c[i+604>>2]=0.0;return i|0}function It(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0;A=ae;ae=ae+32|0;m=o[e+12>>2]|0;if(!m){ae=A;return}o[r+4>>2]=m;e=o[t+4>>2]|0;n=o[i+4>>2]|0;t=o[t+12>>2]|0;i=o[i+12>>2]|0;d=+c[i+48>>2];s=+c[t+48>>2]-d;h=+c[i+52>>2];a=+c[t+52>>2]-h;u=+c[i+56>>2];_=+c[t+56>>2]-u;f=+v(+(s*s+a*a+_*_));b=+c[n+28>>2]*+c[n+12>>2];p=+c[e+28>>2]*+c[e+12>>2]+b;if(f>p){if(!(o[m+748>>2]|0)){ae=A;return}n=o[m+740>>2]|0;e=o[(o[r+8>>2]|0)+8>>2]|0;if((n|0)==(e|0)){io(m,n+4|0,(o[(o[r+12>>2]|0)+8>>2]|0)+4|0);ae=A;return}else{io(m,(o[(o[r+12>>2]|0)+8>>2]|0)+4|0,e+4|0);ae=A;return}}o[A+16>>2]=1065353216;o[A+16+4>>2]=0;o[A+16+8>>2]=0;c[A+16+12>>2]=0.0;if(f>1.1920928955078125e-07){c[A+16>>2]=s*(1.0/f);c[A+16+4>>2]=a*(1.0/f);c[A+16+8>>2]=_*(1.0/f);c[A+16+12>>2]=0.0;l=s*(1.0/f);a=a*(1.0/f);s=_*(1.0/f)}else{l=1.0;a=0.0;s=0.0}c[A>>2]=d+b*l;c[A+4>>2]=h+b*a;c[A+8>>2]=u+b*s;c[A+12>>2]=0.0;FF[o[(o[r>>2]|0)+16>>2]&15](r,A+16|0,A,f-p);n=o[r+4>>2]|0;do{if(o[n+748>>2]|0){e=o[n+740>>2]|0;t=o[(o[r+8>>2]|0)+8>>2]|0;if((e|0)==(t|0)){io(n,e+4|0,(o[(o[r+12>>2]|0)+8>>2]|0)+4|0);break}else{io(n,(o[(o[r+12>>2]|0)+8>>2]|0)+4|0,t+4|0);break}}}while(0);ae=A;return}function xt(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,c=0;i=o[t+236>>2]|0;if((t|0)==0|(i|0)!=8){if(!((t|0)==0|(i&2|0)==0)){xF[o[(o[e>>2]|0)+92>>2]&127](e,t);return}i=o[t+188>>2]|0;if(i|0){a=o[e+68>>2]|0;a=dF[o[(o[a>>2]|0)+36>>2]&127](a)|0;LF[o[(o[a>>2]|0)+40>>2]&127](a,i,o[e+24>>2]|0);a=o[e+68>>2]|0;LF[o[(o[a>>2]|0)+12>>2]&127](a,i,o[e+24>>2]|0);o[t+188>>2]=0}i=o[e+8>>2]|0;if((i|0)<=0)return;n=o[e+16>>2]|0;s=0;while(1){r=n+(s<<2)|0;if((o[r>>2]|0)==(t|0))break;a=s+1|0;if((a|0)<(i|0))s=a;else{c=26;break}}if((c|0)==26)return;if((s|0)>=(i|0))return;o[r>>2]=o[n+(i+-1<<2)>>2];o[(o[e+16>>2]|0)+(i+-1<<2)>>2]=t;o[e+8>>2]=i+-1;return}r=o[e+328>>2]|0;e:do{if((r|0)>0){s=o[e+336>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0))break e}if((i|0)<(r|0)){o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+336>>2]|0)+(r+-1<<2)>>2]=t;o[e+328>>2]=r+-1}}}while(0);i=o[t+188>>2]|0;if(i|0){a=o[e+68>>2]|0;a=dF[o[(o[a>>2]|0)+36>>2]&127](a)|0;LF[o[(o[a>>2]|0)+40>>2]&127](a,i,o[e+24>>2]|0);a=o[e+68>>2]|0;LF[o[(o[a>>2]|0)+12>>2]&127](a,i,o[e+24>>2]|0);o[t+188>>2]=0}i=o[e+8>>2]|0;if((i|0)<=0)return;n=o[e+16>>2]|0;s=0;while(1){r=n+(s<<2)|0;if((o[r>>2]|0)==(t|0))break;a=s+1|0;if((a|0)<(i|0))s=a;else{c=26;break}}if((c|0)==26)return;if((s|0)>=(i|0))return;o[r>>2]=o[n+(i+-1<<2)>>2];o[(o[e+16>>2]|0)+(i+-1<<2)>>2]=t;o[e+8>>2]=i+-1;return}function Pt(e,t,i,r){e=e|0;t=+t;i=i|0;r=+r;var s=0,a=0.0,l=0,_=0;_=ae;ae=ae+16|0;$(o[6746]|0,0)|0;hb(26944);o[6737]=(o[6737]|0)+1;l=o[6740]|0;o[6740]=l+1;if(!l){$(_|0,0)|0;l=o[6746]|0;o[6739]=(o[_+4>>2]|0)-(o[l+4>>2]|0)+(((o[_>>2]|0)-(o[l>>2]|0)|0)*1e6|0)}o[6745]=0;$(_|0,0)|0;La(14878);if(i){c[e+268>>2]=r;a=+c[e+264>>2]+t;c[e+264>>2]=a;if(!(a>=r)){t=r;l=0}else{c[e+264>>2]=a-+(~~(a/r)|0)*r;t=r;l=~~(a/r)}}else{c[e+264>>2]=(n[e+300>>0]|0)==0?t:0.0;c[e+268>>2]=0.0;l=!(+y(+t)<1.1920928955078125e-07)&1;i=l}if(dF[o[(o[e>>2]|0)+20>>2]&127](e)|0){s=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;s=dF[o[(o[s>>2]|0)+48>>2]&127](s)|0;n[27556]=(4?s>>>4:s)&1}if(l){i=(l|0)>(i|0)?i:l;TF[o[(o[e>>2]|0)+164>>2]&31](e,t*+(i|0));SF[o[(o[e>>2]|0)+168>>2]&511](e);if((i|0)>0){s=0;do{TF[o[(o[e>>2]|0)+160>>2]&31](e,t);SF[o[(o[e>>2]|0)+80>>2]&511](e);s=s+1|0}while((s|0)<(i|0));i=e}else i=e}else{SF[o[(o[e>>2]|0)+80>>2]&511](e);i=e}SF[o[(o[i>>2]|0)+120>>2]&511](e);o[6745]=(o[6745]|0)+1;i=o[2685]|0;e=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=e;if(e|0){ae=_;return l|0}do{if(o[i+4>>2]|0){$(_|0,0)|0;e=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[_+4>>2]|0)-(o[e+4>>2]|0)+(((o[_>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=_;return l|0}}}while(0);o[2685]=o[i+20>>2];ae=_;return l|0}function Dt(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,s=0;n=ae;ae=ae+288|0;c[n+280>>2]=i;s=Zw(t)|0;o[n+264>>2]=o[s>>2];o[n+264+4>>2]=o[s+4>>2];o[n+264+8>>2]=o[s+8>>2];o[n+264+12>>2]=o[s+12>>2];s=o[(o[e>>2]|0)+8>>2]|0;r=JL(t)|0;c[n+212>>2]=0.0;c[n+208>>2]=0.0;Am(n+216|0,n+280|0,n+212|0,n+208|0);g_(n+232|0,r,+c[n+216>>2],+c[n+216+4>>2],+c[n+216+8>>2]);Eh(n+248|0,+c[n+264>>2],+c[n+264+4>>2],+c[n+264+8>>2],+c[n+232>>2],+c[n+232+4>>2],+c[n+232+8>>2]);c[n+184>>2]=.699999988079071;c[n+180>>2]=0.0;c[n+176>>2]=0.0;Am(n+192|0,n+184|0,n+180|0,n+176|0);BF[s&127](e,n+264|0,n+248|0,n+192|0);t=o[(o[e>>2]|0)+8>>2]|0;c[n+124>>2]=0.0;c[n+120>>2]=0.0;Am(n+128|0,n+124|0,n+280|0,n+120|0);g_(n+144|0,r,+c[n+128>>2],+c[n+128+4>>2],+c[n+128+8>>2]);Eh(n+160|0,+c[n+264>>2],+c[n+264+4>>2],+c[n+264+8>>2],+c[n+144>>2],+c[n+144+4>>2],+c[n+144+8>>2]);c[n+96>>2]=0.0;c[n+92>>2]=.699999988079071;c[n+88>>2]=0.0;Am(n+104|0,n+96|0,n+92|0,n+88|0);BF[t&127](e,n+264|0,n+160|0,n+104|0);t=o[(o[e>>2]|0)+8>>2]|0;c[n+36>>2]=0.0;c[n+32>>2]=0.0;Am(n+40|0,n+36|0,n+32|0,n+280|0);g_(n+56|0,r,+c[n+40>>2],+c[n+40+4>>2],+c[n+40+8>>2]);Eh(n+72|0,+c[n+264>>2],+c[n+264+4>>2],+c[n+264+8>>2],+c[n+56>>2],+c[n+56+4>>2],+c[n+56+8>>2]);c[n+8>>2]=0.0;c[n+4>>2]=0.0;c[n>>2]=.699999988079071;Am(n+16|0,n+8|0,n+4|0,n);BF[t&127](e,n+264|0,n+72|0,n+16|0);ae=n;return}function wt(e){e=e|0;var t=0,i=0,n=0.0,r=0.0,s=0.0,a=0.0,l=0,_=0,u=0,f=0.0,d=0.0,h=0,p=0.0;t=o[e+712>>2]|0;if((t|0)>0){i=0;do{u=(o[e+720>>2]|0)+(i*104|0)+72|0;i=i+1|0;o[u>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[u+12>>2]=0}while((i|0)!=(t|0))}t=o[e+752>>2]|0;if((t|0)>0){i=0;do{h=o[e+760>>2]|0;_=o[h+(i*44|0)+12>>2]|0;l=o[h+(i*44|0)+8>>2]|0;a=+c[l+8>>2];n=+c[_+8>>2]-a;r=+c[l+12>>2];s=+c[_+12>>2]-r;f=+c[l+16>>2];d=+c[_+16>>2]-f;u=o[h+(i*44|0)+16>>2]|0;a=+c[u+8>>2]-a;r=+c[u+12>>2]-r;f=+c[u+16>>2]-f;p=1.0/+v(+((n*r-s*a)*(n*r-s*a)+((s*f-d*r)*(s*f-d*r)+(d*a-n*f)*(d*a-n*f))));c[h+(i*44|0)+20>>2]=(s*f-d*r)*p;c[h+(i*44|0)+24>>2]=(d*a-n*f)*p;c[h+(i*44|0)+28>>2]=(n*r-s*a)*p;o[h+(i*44|0)+32>>2]=0;c[l+72>>2]=s*f-d*r+ +c[l+72>>2];c[l+76>>2]=d*a-n*f+ +c[l+76>>2];c[l+80>>2]=n*r-s*a+ +c[l+80>>2];c[_+72>>2]=s*f-d*r+ +c[_+72>>2];c[_+76>>2]=d*a-n*f+ +c[_+76>>2];c[_+80>>2]=n*r-s*a+ +c[_+80>>2];c[u+72>>2]=s*f-d*r+ +c[u+72>>2];c[u+76>>2]=d*a-n*f+ +c[u+76>>2];c[u+80>>2]=n*r-s*a+ +c[u+80>>2];i=i+1|0}while((i|0)!=(t|0))}u=o[e+712>>2]|0;if((u|0)<=0)return;t=o[e+720>>2]|0;_=0;do{i=t+(_*104|0)+72|0;n=+c[i>>2];l=t+(_*104|0)+76|0;r=+c[l>>2];e=t+(_*104|0)+80|0;s=+c[e>>2];a=+v(+(n*n+r*r+s*s));if(a>1.1920928955078125e-07){c[i>>2]=n*(1.0/a);c[l>>2]=r*(1.0/a);c[e>>2]=s*(1.0/a)}_=_+1|0}while((_|0)!=(u|0));return}function Lt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;s=+c[i+100>>2];l=+c[i+16>>2];_=+c[i+20>>2];u=+c[i+24>>2];n=+c[i+108>>2];n=+c[i+112>>2]-s*+c[i+116>>2]-(l*+c[e+64>>2]+_*+c[e+68>>2]+u*+c[e+72>>2]+(+c[i>>2]*+c[e+80>>2]+ +c[i+4>>2]*+c[e+84>>2]+ +c[i+8>>2]*+c[e+88>>2]))*n-n*(+c[i+48>>2]*+c[t+64>>2]+ +c[i+52>>2]*+c[t+68>>2]+ +c[i+56>>2]*+c[t+72>>2]+(+c[i+32>>2]*+c[t+80>>2]+ +c[i+36>>2]*+c[t+84>>2]+ +c[i+40>>2]*+c[t+88>>2]));r=+c[i+120>>2];if(!(s+n<r)){r=+c[i+124>>2];if(s+n>r){a=r;n=r-s}else a=s+n}else{a=r;n=r-s}c[i+100>>2]=a;if(o[e+240>>2]|0){a=n*(_*+c[e+132>>2])*+c[e+116>>2];_=n*(u*+c[e+136>>2])*+c[e+120>>2];c[e+64>>2]=+c[e+112>>2]*(n*(l*+c[e+128>>2]))+ +c[e+64>>2];c[e+68>>2]=a+ +c[e+68>>2];c[e+72>>2]=_+ +c[e+72>>2];_=n*+c[e+100>>2]*+c[i+68>>2];u=n*+c[e+104>>2]*+c[i+72>>2];c[e+80>>2]=n*+c[e+96>>2]*+c[i+64>>2]+ +c[e+80>>2];c[e+84>>2]=_+ +c[e+84>>2];c[e+88>>2]=u+ +c[e+88>>2]}if(!(o[t+240>>2]|0))return;u=n*(+c[i+52>>2]*+c[t+132>>2])*+c[t+116>>2];_=n*(+c[i+56>>2]*+c[t+136>>2])*+c[t+120>>2];c[t+64>>2]=+c[t+112>>2]*(n*(+c[i+48>>2]*+c[t+128>>2]))+ +c[t+64>>2];c[t+68>>2]=u+ +c[t+68>>2];c[t+72>>2]=_+ +c[t+72>>2];_=n*+c[t+100>>2]*+c[i+84>>2];u=n*+c[t+104>>2]*+c[i+88>>2];c[t+80>>2]=n*+c[t+96>>2]*+c[i+80>>2]+ +c[t+80>>2];c[t+84>>2]=_+ +c[t+84>>2];c[t+88>>2]=u+ +c[t+88>>2];return}function Ft(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0;s=Tm()|0;o[s+4>>2]=5;o[s+8>>2]=-1;o[s+12>>2]=-1;c[s+16>>2]=3402823466385288598117041.0e14;n[s+20>>0]=1;n[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=e;o[s+32>>2]=t;c[s+36>>2]=0.0;c[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=5764;o[s+300>>2]=o[i>>2];o[s+300+4>>2]=o[i+4>>2];o[s+300+8>>2]=o[i+8>>2];o[s+300+12>>2]=o[i+12>>2];o[s+316>>2]=o[i+16>>2];o[s+316+4>>2]=o[i+16+4>>2];o[s+316+8>>2]=o[i+16+8>>2];o[s+316+12>>2]=o[i+16+12>>2];o[s+332>>2]=o[i+32>>2];o[s+332+4>>2]=o[i+32+4>>2];o[s+332+8>>2]=o[i+32+8>>2];o[s+332+12>>2]=o[i+32+12>>2];o[s+348>>2]=o[i+48>>2];o[s+348+4>>2]=o[i+48+4>>2];o[s+348+8>>2]=o[i+48+8>>2];o[s+348+12>>2]=o[i+48+12>>2];o[s+364>>2]=o[r>>2];o[s+364+4>>2]=o[r+4>>2];o[s+364+8>>2]=o[r+8>>2];o[s+364+12>>2]=o[r+12>>2];o[s+380>>2]=o[r+16>>2];o[s+380+4>>2]=o[r+16+4>>2];o[s+380+8>>2]=o[r+16+8>>2];o[s+380+12>>2]=o[r+16+12>>2];o[s+396>>2]=o[r+32>>2];o[s+396+4>>2]=o[r+32+4>>2];o[s+396+8>>2]=o[r+32+8>>2];o[s+396+12>>2]=o[r+32+12>>2];o[s+412>>2]=o[r+48>>2];o[s+412+4>>2]=o[r+48+4>>2];o[s+412+8>>2]=o[r+48+8>>2];o[s+412+12>>2]=o[r+48+12>>2];n[s+552>>0]=0;o[s+524>>2]=0;c[s+572>>2]=-1.0;c[s+444>>2]=999999984306749440.0;c[s+448>>2]=999999984306749440.0;c[s+452>>2]=999999984306749440.0;c[s+428>>2]=1.0;c[s+432>>2]=.30000001192092896;c[s+436>>2]=1.0;c[s+440>>2]=.009999999776482582;c[s+456>>2]=.05000000074505806;o[s+592>>2]=0;c[s+596>>2]=0.0;c[s+600>>2]=.699999988079071;c[s+604>>2]=0.0;return s|0}function Nt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0.0;u=ae;ae=ae+672|0;o[u+568+8>>2]=0;o[u+568+12>>2]=1065353216;o[u+568+16>>2]=1065353216;o[u+568+20>>2]=1065353216;c[u+568+24>>2]=0.0;o[u+568+52>>2]=0;o[u+568>>2]=4780;o[u+568+4>>2]=1;o[u+568+56>>2]=o[t>>2];o[u+568+56+4>>2]=o[t+4>>2];o[u+568+56+8>>2]=o[t+8>>2];o[u+568+56+12>>2]=o[t+12>>2];o[u+568+72>>2]=o[t+16>>2];o[u+568+72+4>>2]=o[t+16+4>>2];o[u+568+72+8>>2]=o[t+16+8>>2];o[u+568+72+12>>2]=o[t+16+12>>2];o[u+568+88>>2]=o[t+32>>2];o[u+568+88+4>>2]=o[t+32+4>>2];o[u+568+88+8>>2]=o[t+32+8>>2];o[u+568+88+12>>2]=o[t+32+12>>2];o[u+568+44>>2]=o[e+204>>2];c[u+208+308>>2]=9.999999747378752e-05;n[u+208+332>>0]=0;o[u+200>>2]=10432;t=o[e+4>>2]|0;o[u+176>>2]=10500;o[u+176+4>>2]=u+208;o[u+176+8>>2]=u+200;o[u+176+12>>2]=t;o[u+176+16>>2]=u+568;o[u+176+20>>2]=0;o[u>>2]=4752;o[u+168>>2]=0;c[u+164>>2]=1.0;o[u+172>>2]=o[e+208>>2];if((fr(u+176|0,e+8|0,e+72|0,e+136|0,e+136|0,u)|0?(l=+c[u+132>>2],_=+c[u+136>>2],s=+c[u+140>>2],l*l+_*_+s*s>9.999999747378752e-05):0)?(a=+c[u+164>>2],a<+c[e+200>>2]):0){f=1.0/+v(+(l*l+_*_+s*s));c[u+132>>2]=l*f;c[u+136>>2]=_*f;c[u+140>>2]=s*f;+aF[o[(o[e>>2]|0)+12>>2]&3](e,u+132|0,u+148|0,a,i,r)}o[u+568>>2]=8336;i=o[u+568+52>>2]|0;if(!i){ae=u;return}SF[o[o[i>>2]>>2]&511](i);i=o[u+568+52>>2]|0;if(!i){ae=u;return}o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);ae=u;return}function Bt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;n=+c[i+128>>2];if(!(n!=0.0))return;o[6564]=(o[6564]|0)+1;_=+c[i+96>>2];r=+c[i+16>>2];s=+c[i+20>>2];a=+c[i+24>>2];l=+c[i+108>>2];l=n-_*+c[i+116>>2]-(r*+c[e+144>>2]+s*+c[e+148>>2]+a*+c[e+152>>2]+(+c[i>>2]*+c[e+160>>2]+ +c[i+4>>2]*+c[e+164>>2]+ +c[i+8>>2]*+c[e+168>>2]))*l-l*(+c[i+48>>2]*+c[t+144>>2]+ +c[i+52>>2]*+c[t+148>>2]+ +c[i+56>>2]*+c[t+152>>2]+(+c[i+32>>2]*+c[t+160>>2]+ +c[i+36>>2]*+c[t+164>>2]+ +c[i+40>>2]*+c[t+168>>2]));u=+c[i+120>>2];n=_+l<u?u-_:l;c[i+96>>2]=_+l<u?u:_+l;if(o[e+240>>2]|0){u=n*(s*+c[e+132>>2])*+c[e+116>>2];_=n*(a*+c[e+136>>2])*+c[e+120>>2];c[e+144>>2]=+c[e+112>>2]*(n*(r*+c[e+128>>2]))+ +c[e+144>>2];c[e+148>>2]=u+ +c[e+148>>2];c[e+152>>2]=_+ +c[e+152>>2];_=n*+c[e+100>>2]*+c[i+68>>2];u=n*+c[e+104>>2]*+c[i+72>>2];c[e+160>>2]=n*+c[e+96>>2]*+c[i+64>>2]+ +c[e+160>>2];c[e+164>>2]=_+ +c[e+164>>2];c[e+168>>2]=u+ +c[e+168>>2]}if(!(o[t+240>>2]|0))return;u=n*(+c[i+52>>2]*+c[t+132>>2])*+c[t+116>>2];_=n*(+c[i+56>>2]*+c[t+136>>2])*+c[t+120>>2];c[t+144>>2]=+c[t+112>>2]*(n*(+c[i+48>>2]*+c[t+128>>2]))+ +c[t+144>>2];c[t+148>>2]=u+ +c[t+148>>2];c[t+152>>2]=_+ +c[t+152>>2];_=n*+c[t+100>>2]*+c[i+84>>2];u=n*+c[t+104>>2]*+c[i+88>>2];c[t+160>>2]=n*+c[t+96>>2]*+c[i+80>>2]+ +c[t+160>>2];c[t+164>>2]=_+ +c[t+164>>2];c[t+168>>2]=u+ +c[t+168>>2];return}function kt(e,t){e=e|0;t=t|0;var i=0,s=0,a=0,c=0,l=0,_=0,u=0;if(!(n[e+164>>0]|0)){i=o[e+148>>2]|0;if((i|0)==(o[e+152>>2]|0)?(_=(i|0)==0?1:i<<1,(i|0)<(_|0)):0){if(!_)s=0;else{o[6747]=(o[6747]|0)+1;i=Do((_<<1)+19|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[e+148>>2]|0}c=o[e+156>>2]|0;if((i|0)<=0){if(!c)a=e+160|0;else u=29}else{a=0;do{r[s+(a<<1)>>1]=r[c+(a<<1)>>1]|0;a=a+1|0}while((a|0)!=(i|0));u=29}if((u|0)==29){if(n[e+160>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0);i=o[e+148>>2]|0}o[e+156>>2]=0;a=e+160|0}n[a>>0]=1;o[e+156>>2]=s;o[e+152>>2]=_}u=o[e+156>>2]|0;r[u+(i<<1)>>1]=t;o[e+148>>2]=i+1;o[(o[e+32>>2]|0)+4>>2]=u;return}else{i=o[e+128>>2]|0;if((i|0)==(o[e+132>>2]|0)?(l=(i|0)==0?1:i<<1,(i|0)<(l|0)):0){if(!l)s=0;else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[e+128>>2]|0}c=o[e+136>>2]|0;if((i|0)<=0){if(!c)a=e+140|0;else u=13}else{a=0;do{o[s+(a<<2)>>2]=o[c+(a<<2)>>2];a=a+1|0}while((a|0)!=(i|0));u=13}if((u|0)==13){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0)}o[e+136>>2]=0;i=o[e+128>>2]|0;a=e+140|0}n[a>>0]=1;o[e+136>>2]=s;o[e+132>>2]=l}u=o[e+136>>2]|0;o[u+(i<<2)>>2]=t;o[e+128>>2]=(o[e+128>>2]|0)+1;o[(o[e+32>>2]|0)+4>>2]=u;return}}function Ut(e,t,i){e=e|0;t=+t;i=+i;var n=0,r=0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0;s=ae;ae=ae+16|0;t=+c[e+336>>2]*t;i=+c[e+452>>2];n=o[e+792>>2]|0;if((n|0)<=0){ae=s;return}r=0;do{A=o[e+800>>2]|0;l=o[A+(r*96|0)+20>>2]|0;d=o[A+(r*96|0)>>2]|0;E=+c[A+(r*96|0)+4>>2];C=+c[A+(r*96|0)+8>>2];v=+c[A+(r*96|0)+12>>2];a=A+(r*96|0)+76|0;y=+c[l+332>>2];h=+c[A+(r*96|0)+84>>2];S=+c[l+336>>2];u=+c[A+(r*96|0)+80>>2];_=+c[a>>2];f=+c[l+328>>2];m=+c[d+8>>2];b=+c[d+12>>2];p=+c[d+16>>2];g=t*(E*+c[l+4>>2]+C*+c[l+8>>2]+v*+c[l+12>>2]+ +c[l+52>>2]-m)+(i*(y*h-S*u+ +c[l+312>>2])-(m-+c[d+24>>2]));h=t*(E*+c[l+20>>2]+C*+c[l+24>>2]+v*+c[l+28>>2]+ +c[l+56>>2]-b)+(i*(+c[l+316>>2]+(S*_-h*f))-(b-+c[d+28>>2]));_=t*(E*+c[l+36>>2]+C*+c[l+40>>2]+v*+c[l+44>>2]+ +c[l+60>>2]-p)+(i*(u*f-y*_+ +c[l+320>>2])-(p-+c[d+32>>2]));y=+c[A+(r*96|0)+24>>2];f=(g*+c[A+(r*96|0)+28>>2]+h*+c[A+(r*96|0)+32>>2]+ +c[A+(r*96|0)+36>>2]*_)*y;u=(g*+c[A+(r*96|0)+44>>2]+h*+c[A+(r*96|0)+48>>2]+_*+c[A+(r*96|0)+52>>2])*y;_=y*(g*+c[A+(r*96|0)+60>>2]+h*+c[A+(r*96|0)+64>>2]+_*+c[A+(r*96|0)+68>>2]);h=+c[A+(r*96|0)+92>>2];c[d+8>>2]=m+f*h;c[d+12>>2]=b+h*u;c[d+16>>2]=p+h*_;c[s>>2]=-f;c[s+4>>2]=-u;c[s+8>>2]=-_;c[s+12>>2]=0.0;El(l,s,a);r=r+1|0}while((r|0)!=(n|0));ae=s;return}function Ht(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;o[6734]=(o[6734]|0)+1;u=(i<<16|t)+~((i<<16|t)<<15)|0;u=((10?u>>10:u)^u)*9|0;u=(6?u>>6:u)^u;u=(16?u+~(u<<11)>>16:u+~(u<<11)|0)^u+~(u<<11);_=o[e+12>>2]|0;r=o[(o[e+40>>2]|0)+((_+-1&u)<<2)>>2]|0;e:do{if((r|0)!=-1){a=o[e+16>>2]|0;while(1){s=a+(r*12|0)|0;if((o[s>>2]|0)==(t|0)?(o[a+(r*12|0)+4>>2]|0)==(i|0):0)break;r=o[(o[e+60>>2]|0)+(r<<2)>>2]|0;if((r|0)==-1)break e}if(s|0){e=s;return e|0}}}while(0);l=o[e+8>>2]|0;if((l|0)==(_|0)){a=(_|0)==0?1:_<<1;if((_|0)<(a|0)){if(!a){s=_;c=0}else{o[6747]=(o[6747]|0)+1;r=Do((a*12|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[e+8>>2]|0;c=r}if((s|0)>0){r=0;do{f=c+(r*12|0)|0;d=(o[e+16>>2]|0)+(r*12|0)|0;o[f>>2]=o[d>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];r=r+1|0}while((r|0)!=(s|0))}r=o[e+16>>2]|0;if(r|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=c;o[e+12>>2]=a;r=o[e+8>>2]|0}else{r=_;a=_}}else{r=l;a=_}o[e+8>>2]=r+1;s=o[e+16>>2]|0;if((_|0)<(a|0)){Be(e);r=(o[e+12>>2]|0)+-1&u}else r=_+-1&u;o[s+(l*12|0)>>2]=t;o[s+(l*12|0)+4>>2]=i;o[s+(l*12|0)+8>>2]=0;d=(o[e+40>>2]|0)+(r<<2)|0;o[(o[e+60>>2]|0)+(l<<2)>>2]=o[d>>2];o[d>>2]=l;d=s+(l*12|0)|0;return d|0}function jt(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0;a=Fm()|0;o[a+4>>2]=4;o[a+8>>2]=-1;o[a+12>>2]=-1;c[a+16>>2]=3402823466385288598117041.0e14;n[a+20>>0]=1;n[a+21>>0]=0;o[a+24>>2]=-1;o[a+28>>2]=e;o[a+32>>2]=t;c[a+36>>2]=0.0;c[a+40>>2]=.30000001192092896;o[a+44>>2]=0;o[a>>2]=5820;o[a+552>>2]=o[i>>2];o[a+552+4>>2]=o[i+4>>2];o[a+552+8>>2]=o[i+8>>2];o[a+552+12>>2]=o[i+12>>2];o[a+568>>2]=o[i+16>>2];o[a+568+4>>2]=o[i+16+4>>2];o[a+568+8>>2]=o[i+16+8>>2];o[a+568+12>>2]=o[i+16+12>>2];o[a+584>>2]=o[i+32>>2];o[a+584+4>>2]=o[i+32+4>>2];o[a+584+8>>2]=o[i+32+8>>2];o[a+584+12>>2]=o[i+32+12>>2];o[a+600>>2]=o[i+48>>2];o[a+600+4>>2]=o[i+48+4>>2];o[a+600+8>>2]=o[i+48+8>>2];o[a+600+12>>2]=o[i+48+12>>2];o[a+616>>2]=o[r>>2];o[a+616+4>>2]=o[r+4>>2];o[a+616+8>>2]=o[r+8>>2];o[a+616+12>>2]=o[r+12>>2];o[a+632>>2]=o[r+16>>2];o[a+632+4>>2]=o[r+16+4>>2];o[a+632+8>>2]=o[r+16+8>>2];o[a+632+12>>2]=o[r+16+12>>2];o[a+648>>2]=o[r+32>>2];o[a+648+4>>2]=o[r+32+4>>2];o[a+648+8>>2]=o[r+32+8>>2];o[a+648+12>>2]=o[r+32+12>>2];o[a+664>>2]=o[r+48>>2];o[a+664+4>>2]=o[r+48+4>>2];o[a+664+8>>2]=o[r+48+8>>2];o[a+664+12>>2]=o[r+48+12>>2];c[a+688>>2]=0.0;c[a+692>>2]=-1.0;c[a+696>>2]=.8999999761581421;c[a+700>>2]=.30000001192092896;c[a+704>>2]=1.0;c[a+708>>2]=0.0;c[a+712>>2]=0.0;n[a+716>>0]=0;n[a+736>>0]=0;n[a+737>>0]=0;n[a+738>>0]=0;n[a+739>>0]=1;n[a+740>>0]=s&1;o[a+748>>2]=0;c[a+732>>2]=s?-1.0:1.0;return a|0}function Vt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;s=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=s;if(s|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];s=o[e+48>>2]|0;mF[o[(o[s>>2]|0)+56>>2]&63](s,t+12|0,i)|0;o[t+52>>2]=o[e+12>>2];do{if((o[e+52>>2]|0)!=0?((dF[o[(o[i>>2]|0)+52>>2]&127](i)|0)&1|0)==0:0){n=pF[o[(o[i>>2]|0)+24>>2]&31](i,o[e+52>>2]|0)|0;if(!n){o[t+40>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+52>>2]|0)|0;o[t+44>>2]=0;n=o[e+52>>2]|0;n=dF[o[(o[n>>2]|0)+12>>2]&127](n)|0;n=mF[o[(o[i>>2]|0)+16>>2]&63](i,n,1)|0;s=o[e+52>>2]|0;s=mF[o[(o[s>>2]|0)+16>>2]&63](s,o[n+8>>2]|0,i)|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,n,s,1213612625,o[e+52>>2]|0);break}else{o[t+40>>2]=n;o[t+44>>2]=0;break}}else r=8}while(0);if((r|0)==8){o[t+40>>2]=0;o[t+44>>2]=0}if(o[e+56>>2]|0?((dF[o[(o[i>>2]|0)+52>>2]&127](i)|0)&2|0)==0:0){n=pF[o[(o[i>>2]|0)+24>>2]&31](i,o[e+56>>2]|0)|0;if(!n){o[t+48>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+56>>2]|0)|0;t=o[e+56>>2]|0;t=dF[o[(o[t>>2]|0)+8>>2]&127](t)|0;t=mF[o[(o[i>>2]|0)+16>>2]&63](i,t,1)|0;s=o[e+56>>2]|0;s=mF[o[(o[s>>2]|0)+12>>2]&63](s,o[t+8>>2]|0,i)|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,t,s,1346456916,o[e+56>>2]|0);return 19373}else{o[t+48>>2]=n;return 19373}}o[t+48>>2]=0;return 19373}function Gt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0.0,T=0.0,R=0.0,M=0;E=ae;ae=ae+2048|0;if((n|0)<=0){ae=E;return}v=0;do{b=o[e+92>>2]|0;if((b|0)>0){m=t+(v<<4)|0;y=t+(v<<4)+4|0;A=t+(v<<4)+8|0;g=i+(v<<4)|0;C=0;p=-999999984306749440.0;l=o[e+100>>2]|0;a=o[e+120>>2]|0;while(1){_=b-C|0;h=(_|0)<128?_:128;if((_|0)>0){u=+c[m>>2];f=+c[y>>2];d=+c[A>>2];s=0;do{S=+c[a>>2];R=+c[l>>2]+u*+c[e+12>>2]*S;T=f*+c[e+16>>2]*S+ +c[l+4>>2];S=S*(d*+c[e+20>>2])+ +c[l+8>>2];r=+nF[o[(o[e>>2]|0)+48>>2]&15](e);u=+c[m>>2];f=+c[y>>2];d=+c[A>>2];c[E+(s<<4)>>2]=R-r*u;c[E+(s<<4)+4>>2]=T-r*f;c[E+(s<<4)+8>>2]=S-r*d;c[E+(s<<4)+12>>2]=0.0;l=l+16|0;a=a+4|0;s=s+1|0}while((s|0)<(h|0));_=0;r=-3402823466385288598117041.0e14;s=-1;do{R=u*+c[E+(_<<4)>>2]+f*+c[E+(_<<4)+4>>2]+d*+c[E+(_<<4)+8>>2];M=R>r;s=M?_:s;r=M?R:r;_=_+1|0}while((_|0)!=(h|0))}else{r=-3402823466385288598117041.0e14;s=-1}if(r>p){M=E+(s<<4)|0;o[g>>2]=o[M>>2];o[g+4>>2]=o[M+4>>2];o[g+8>>2]=o[M+8>>2];o[g+12>>2]=o[M+12>>2]}else r=p;C=C+128|0;if((b|0)<=(C|0))break;else p=r}}v=v+1|0}while((v|0)!=(n|0));ae=E;return}function Wt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0;s=Fm()|0;o[s+4>>2]=4;o[s+8>>2]=-1;o[s+12>>2]=-1;c[s+16>>2]=3402823466385288598117041.0e14;n[s+20>>0]=1;n[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=e;o[s+32>>2]=t;c[s+36>>2]=0.0;c[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=5820;o[s+552>>2]=o[i>>2];o[s+552+4>>2]=o[i+4>>2];o[s+552+8>>2]=o[i+8>>2];o[s+552+12>>2]=o[i+12>>2];o[s+568>>2]=o[i+16>>2];o[s+568+4>>2]=o[i+16+4>>2];o[s+568+8>>2]=o[i+16+8>>2];o[s+568+12>>2]=o[i+16+12>>2];o[s+584>>2]=o[i+32>>2];o[s+584+4>>2]=o[i+32+4>>2];o[s+584+8>>2]=o[i+32+8>>2];o[s+584+12>>2]=o[i+32+12>>2];o[s+600>>2]=o[i+48>>2];o[s+600+4>>2]=o[i+48+4>>2];o[s+600+8>>2]=o[i+48+8>>2];o[s+600+12>>2]=o[i+48+12>>2];o[s+616>>2]=o[r>>2];o[s+616+4>>2]=o[r+4>>2];o[s+616+8>>2]=o[r+8>>2];o[s+616+12>>2]=o[r+12>>2];o[s+632>>2]=o[r+16>>2];o[s+632+4>>2]=o[r+16+4>>2];o[s+632+8>>2]=o[r+16+8>>2];o[s+632+12>>2]=o[r+16+12>>2];o[s+648>>2]=o[r+32>>2];o[s+648+4>>2]=o[r+32+4>>2];o[s+648+8>>2]=o[r+32+8>>2];o[s+648+12>>2]=o[r+32+12>>2];o[s+664>>2]=o[r+48>>2];o[s+664+4>>2]=o[r+48+4>>2];o[s+664+8>>2]=o[r+48+8>>2];o[s+664+12>>2]=o[r+48+12>>2];c[s+688>>2]=0.0;c[s+692>>2]=-1.0;c[s+696>>2]=.8999999761581421;c[s+700>>2]=.30000001192092896;c[s+704>>2]=1.0;c[s+708>>2]=0.0;c[s+712>>2]=0.0;n[s+716>>0]=0;n[s+736>>0]=0;n[s+737>>0]=0;n[s+738>>0]=0;n[s+739>>0]=1;n[s+740>>0]=0;o[s+748>>2]=0;c[s+732>>2]=1.0;return s|0}function Xt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;_=+c[i+100>>2];n=+c[i+16>>2];r=+c[i+20>>2];s=+c[i+24>>2];l=+c[i+108>>2];l=+c[i+112>>2]-_*+c[i+116>>2]-(n*+c[e+64>>2]+r*+c[e+68>>2]+s*+c[e+72>>2]+(+c[i>>2]*+c[e+80>>2]+ +c[i+4>>2]*+c[e+84>>2]+ +c[i+8>>2]*+c[e+88>>2]))*l-l*(+c[i+48>>2]*+c[t+64>>2]+ +c[i+52>>2]*+c[t+68>>2]+ +c[i+56>>2]*+c[t+72>>2]+(+c[i+32>>2]*+c[t+80>>2]+ +c[i+36>>2]*+c[t+84>>2]+ +c[i+40>>2]*+c[t+88>>2]));u=+c[i+120>>2];a=_+l<u?u-_:l;c[i+100>>2]=_+l<u?u:_+l;if(o[e+240>>2]|0){u=a*(r*+c[e+132>>2])*+c[e+116>>2];_=a*(s*+c[e+136>>2])*+c[e+120>>2];c[e+64>>2]=+c[e+112>>2]*(a*(n*+c[e+128>>2]))+ +c[e+64>>2];c[e+68>>2]=u+ +c[e+68>>2];c[e+72>>2]=_+ +c[e+72>>2];_=a*+c[e+100>>2]*+c[i+68>>2];u=a*+c[e+104>>2]*+c[i+72>>2];c[e+80>>2]=a*+c[e+96>>2]*+c[i+64>>2]+ +c[e+80>>2];c[e+84>>2]=_+ +c[e+84>>2];c[e+88>>2]=u+ +c[e+88>>2]}if(!(o[t+240>>2]|0))return;u=a*(+c[i+52>>2]*+c[t+132>>2])*+c[t+116>>2];_=a*(+c[i+56>>2]*+c[t+136>>2])*+c[t+120>>2];c[t+64>>2]=+c[t+112>>2]*(a*(+c[i+48>>2]*+c[t+128>>2]))+ +c[t+64>>2];c[t+68>>2]=u+ +c[t+68>>2];c[t+72>>2]=_+ +c[t+72>>2];_=a*+c[t+100>>2]*+c[i+84>>2];u=a*+c[t+104>>2]*+c[i+88>>2];c[t+80>>2]=a*+c[t+96>>2]*+c[i+80>>2]+ +c[t+80>>2];c[t+84>>2]=_+ +c[t+84>>2];c[t+88>>2]=u+ +c[t+88>>2];return}function zt(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0,b=0,m=0;o[6747]=(o[6747]|0)+1;e=Do((s+2|0)>>>0>268435455?18:(s+2<<4|3)+16|0)|0;if(!e)_=0;else{o[(e+4+15&-16)+-4>>2]=e;_=e+4+15&-16}l=WL((s+2|0)>>>0>1073741823?-1:s+2<<2)|0;if((s|0)>-2){e=0;do{p=+(e|0)/+(s+1|0);h=+c[i>>2];d=+c[i+4>>2];d=d+p*(+c[r+4>>2]-d);f=+c[i+8>>2];f=f+p*(+c[r+8>>2]-f);c[_+(e<<4)>>2]=h+p*(+c[r>>2]-h);c[_+(e<<4)+4>>2]=d;c[_+(e<<4)+8>>2]=f;c[_+(e<<4)+12>>2]=0.0;c[l+(e<<2)>>2]=1.0;e=e+1|0}while((e|0)<(s+2|0))}o[6747]=(o[6747]|0)+1;e=Do(1271)|0;if(!e)u=0;else{o[(e+4+15&-16)+-4>>2]=e;u=e+4+15&-16}Vo(u,t,s+2|0,_,l);if(a&1|0){c[(o[u+720>>2]|0)+88>>2]=0.0;n[u+924>>0]=1}if(a&2|0){c[(o[u+720>>2]|0)+((s+1|0)*104|0)+88>>2]=0.0;n[u+924>>0]=1}if(_|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}XL(l);if((s|0)<=-1)return u|0;_=u+720|0;r=u+732|0;i=u+740|0;e=u+924|0;l=1;do{m=l+-1|0;b=o[_>>2]|0;bn(u,0);t=(o[r>>2]|0)+-1|0;a=o[i>>2]|0;o[a+(t*52|0)+8>>2]=b+(m*104|0);o[a+(t*52|0)+12>>2]=b+(l*104|0);d=+c[b+(m*104|0)+8>>2]-+c[b+(l*104|0)+8>>2];h=+c[b+(m*104|0)+12>>2]-+c[b+(l*104|0)+12>>2];p=+c[b+(m*104|0)+16>>2]-+c[b+(l*104|0)+16>>2];c[a+(t*52|0)+16>>2]=+v(+(d*d+h*h+p*p));n[e>>0]=1;l=l+1|0}while((l|0)<(s+2|0));return u|0}function Yt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0;F=+c[e+4>>2];L=+c[e+20>>2];w=+c[e+36>>2];P=+c[e+8>>2];x=+c[e+24>>2];I=+c[e+40>>2];M=+c[e+12>>2];T=+c[e+28>>2];E=+c[e+44>>2];y=+c[t+4>>2];g=+c[t+20>>2];A=+c[t+36>>2];b=+c[t+8>>2];p=+c[t+24>>2];h=+c[t+40>>2];f=+c[t+12>>2];_=+c[t+28>>2];a=+c[t+44>>2];o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;R=+c[n>>2];S=+c[n+4>>2];C=+c[n+8>>2];c[i+16>>2]=F*R+L*S+w*C;c[i+20>>2]=P*R+x*S+I*C;c[i+24>>2]=M*R+T*S+E*C;c[i+28>>2]=0.0;u=-+c[n>>2];l=-+c[n+4>>2];s=-+c[n+8>>2];c[i+32>>2]=y*u+g*l+A*s;c[i+36>>2]=b*u+p*l+h*s;c[i+40>>2]=f*u+_*l+a*s;c[i+44>>2]=0.0;D=(F*R+L*S+w*C)*+c[e+396>>2];O=(P*R+x*S+I*C)*+c[e+400>>2];v=(M*R+T*S+E*C)*+c[e+404>>2];c[i+48>>2]=D;c[i+52>>2]=O;c[i+56>>2]=v;c[i+60>>2]=0.0;m=(y*u+g*l+A*s)*+c[t+396>>2];d=(b*u+p*l+h*s)*+c[t+400>>2];r=(f*u+_*l+a*s)*+c[t+404>>2];c[i+64>>2]=m;c[i+68>>2]=d;c[i+72>>2]=r;c[i+76>>2]=0.0;c[i+80>>2]=(F*R+L*S+w*C)*D+(P*R+x*S+I*C)*O+(M*R+T*S+E*C)*v+((y*u+g*l+A*s)*m+(b*u+p*l+h*s)*d+(f*u+_*l+a*s)*r);return}function Qt(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0,_=0;_=ae;ae=ae+96|0;s=o[e+8>>2]|0;if((s|0)==(o[e+12>>2]|0)?(l=(s|0)==0?1:s<<1,(s|0)<(l|0)):0){if(!l)a=0;else{o[6747]=(o[6747]|0)+1;s=Do((l<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[e+8>>2]|0}if((s|0)>0){c=0;do{o[a+(c<<2)>>2]=o[(o[e+16>>2]|0)+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0))}c=o[e+16>>2]|0;if(c){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0);s=o[e+8>>2]|0}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=a;o[e+12>>2]=l}o[(o[e+16>>2]|0)+(s<<2)>>2]=t;o[e+8>>2]=s+1;o[_+32>>2]=o[t+4>>2];o[_+32+4>>2]=o[t+4+4>>2];o[_+32+8>>2]=o[t+4+8>>2];o[_+32+12>>2]=o[t+4+12>>2];o[_+32+16>>2]=o[t+20>>2];o[_+32+16+4>>2]=o[t+20+4>>2];o[_+32+16+8>>2]=o[t+20+8>>2];o[_+32+16+12>>2]=o[t+20+12>>2];o[_+32+32>>2]=o[t+36>>2];o[_+32+32+4>>2]=o[t+36+4>>2];o[_+32+32+8>>2]=o[t+36+8>>2];o[_+32+32+12>>2]=o[t+36+12>>2];o[_+32+48>>2]=o[t+52>>2];o[_+32+48+4>>2]=o[t+52+4>>2];o[_+32+48+8>>2]=o[t+52+8>>2];o[_+32+48+12>>2]=o[t+52+12>>2];l=o[t+192>>2]|0;BF[o[(o[l>>2]|0)+8>>2]&127](l,_+32|0,_+16|0,_);l=o[e+68>>2]|0;o[t+188>>2]=vF[o[(o[l>>2]|0)+8>>2]&3](l,_+16|0,_,o[(o[t+192>>2]|0)+4>>2]|0,t,i,r,o[e+24>>2]|0,0)|0;ae=_;return}function Kt(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,y=0,v=0.0,C=0,E=0;C=ae;ae=ae+16|0;r=o[e+52>>2]|0;v=+c[e+28+(((r+2|0)%3|0)<<2)>>2];if((n|0)<=0){ae=C;return}s=0;while(1){o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+(r<<2)>>2]=o[e+28+(r<<2)>>2];r=t+(s<<4)|0;g=t+(s<<4)+4|0;y=t+(s<<4)+8|0;u=v*+c[r>>2]+ +c[C>>2];d=v*+c[g>>2]+ +c[C+4>>2];f=v*+c[y>>2]+ +c[C+8>>2];h=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+c[r>>2];l=+c[g>>2];_=+c[y>>2];if(a*(u-h*a)+l*(d-h*l)+_*(f-h*_)>-999999984306749440.0){c[i+(s<<4)>>2]=u-h*a;c[i+(s<<4)+4>>2]=d-h*l;c[i+(s<<4)+8>>2]=f-h*_;c[i+(s<<4)+12>>2]=0.0;p=+c[r>>2];m=+c[g>>2];A=+c[y>>2];b=a*(u-h*a)+l*(d-h*l)+_*(f-h*_)}else{p=a;m=l;A=_;b=-999999984306749440.0}o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;E=o[e+52>>2]|0;c[C+(E<<2)>>2]=-+c[e+28+(E<<2)>>2];h=v*p+ +c[C>>2];d=v*m+ +c[C+4>>2];u=v*A+ +c[C+8>>2];f=+nF[o[(o[e>>2]|0)+48>>2]&15](e);_=+c[r>>2];l=+c[g>>2];a=+c[y>>2];if(_*(h-f*_)+l*(d-f*l)+a*(u-f*a)>b){c[i+(s<<4)>>2]=h-f*_;c[i+(s<<4)+4>>2]=d-f*l;c[i+(s<<4)+8>>2]=u-f*a;c[i+(s<<4)+12>>2]=0.0}s=s+1|0;if((s|0)==(n|0))break;r=o[e+52>>2]|0}ae=C;return}function Zt(e){e=e|0;var t=0,i=0,r=0;o[e>>2]=5208;if(n[e+272>>0]|0?(t=o[e+204>>2]|0,SF[o[o[t>>2]>>2]&511](t),t=o[e+204>>2]|0,t|0):0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+196>>2]|0;if(t|0?(SF[o[o[t>>2]>>2]&511](t),r=o[e+196>>2]|0,r|0):0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}if(n[e+273>>0]|0?(i=o[e+200>>2]|0,SF[o[o[i>>2]>>2]&511](i),i=o[e+200>>2]|0,i|0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}t=o[e+316>>2]|0;if(t|0){if(n[e+320>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+316>>2]=0}n[e+320>>0]=1;o[e+316>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;t=o[e+288>>2]|0;if(t|0){if(n[e+292>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+288>>2]=0}n[e+292>>0]=1;o[e+288>>2]=0;o[e+280>>2]=0;o[e+284>>2]=0;t=o[e+240>>2]|0;if(t|0){if(n[e+244>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+240>>2]=0}n[e+244>>0]=1;o[e+240>>2]=0;o[e+232>>2]=0;o[e+236>>2]=0;t=o[e+220>>2]|0;if(t|0){if(n[e+224>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+220>>2]=0}n[e+224>>0]=1;o[e+220>>2]=0;o[e+212>>2]=0;o[e+216>>2]=0;t=o[e+188>>2]|0;if(!t){n[e+192>>0]=1;o[e+188>>2]=0;o[e+180>>2]=0;r=e+184|0;o[r>>2]=0;ec(e);return}if(n[e+192>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+188>>2]=0;n[e+192>>0]=1;o[e+188>>2]=0;o[e+180>>2]=0;r=e+184|0;o[r>>2]=0;ec(e);return}function Jt(e,t,i,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;r=+r;s=+s;a=+a;l=l|0;_=_|0;u=u|0;var f=0.0,d=0.0,h=0.0,p=0;p=gm()|0;o[p+8>>2]=0;c[p+12>>2]=0.0;o[p>>2]=9372;o[p+4>>2]=24;o[p+64>>2]=e;o[p+68>>2]=t;c[p+72>>2]=s;c[p+76>>2]=a;c[p+80>>2]=+(e+-1|0);c[p+84>>2]=+(t+-1|0);c[p+88>>2]=r;o[p+92>>2]=i;o[p+96>>2]=_;n[p+100>>0]=u&1;n[p+101>>0]=0;n[p+102>>0]=0;o[p+104>>2]=l;o[p+108>>2]=1065353216;o[p+112>>2]=1065353216;o[p+116>>2]=1065353216;c[p+120>>2]=0.0;switch(l|0){case 0:{c[p+16>>2]=s;o[p+20>>2]=0;o[p+24>>2]=0;c[p+28>>2]=0.0;c[p+32>>2]=a;c[p+36>>2]=+(e+-1|0);c[p+40>>2]=+(t+-1|0);c[p+44>>2]=0.0;d=+(e+-1|0);h=0.0;r=+(t+-1|0);f=s;s=0.0;break}case 1:{o[p+16>>2]=0;c[p+20>>2]=s;o[p+24>>2]=0;c[p+28>>2]=0.0;c[p+32>>2]=+(e+-1|0);c[p+36>>2]=a;c[p+40>>2]=+(t+-1|0);c[p+44>>2]=0.0;d=a;h=0.0;r=+(t+-1|0);f=0.0;a=+(e+-1|0);break}case 2:{o[p+16>>2]=0;o[p+20>>2]=0;c[p+24>>2]=s;c[p+28>>2]=0.0;c[p+32>>2]=+(e+-1|0);c[p+36>>2]=+(t+-1|0);c[p+40>>2]=a;c[p+44>>2]=0.0;d=+(t+-1|0);h=s;r=a;f=0.0;a=+(e+-1|0);s=0.0;break}default:{d=+c[p+36>>2];h=+c[p+24>>2];r=+c[p+40>>2];f=+c[p+16>>2];a=+c[p+32>>2];s=+c[p+20>>2]}}c[p+48>>2]=(f+a)*.5;c[p+52>>2]=(s+d)*.5;c[p+56>>2]=(h+r)*.5;c[p+60>>2]=0.0;return p|0}function qt(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;while(1){f=o[e+12>>2]|0;d=o[f+(((t+i|0)/2|0)<<2)>>2]|0;n=t;r=i;while(1){u=o[(o[d+740>>2]|0)+208>>2]|0;if((u|0)>-1)while(1){c=f+(n<<2)|0;a=o[c>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((s|0)<(u|0))n=n+1|0;else{_=c;break}}else{l=o[(o[d+744>>2]|0)+208>>2]|0;while(1){c=f+(n<<2)|0;a=o[c>>2]|0;s=o[(o[a+740>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+744>>2]|0)+208>>2]|0;if((s|0)<(l|0))n=n+1|0;else{_=c;break}}}if((u|0)>-1)while(1){s=f+(r<<2)|0;c=o[s>>2]|0;a=o[(o[c+740>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+744>>2]|0)+208>>2]|0;if((u|0)<(a|0))r=r+-1|0;else break}else{l=o[(o[d+744>>2]|0)+208>>2]|0;while(1){s=f+(r<<2)|0;c=o[s>>2]|0;a=o[(o[c+740>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+744>>2]|0)+208>>2]|0;if((l|0)<(a|0))r=r+-1|0;else break}}if((n|0)<=(r|0)){f=o[_>>2]|0;o[_>>2]=o[s>>2];o[(o[e+12>>2]|0)+(r<<2)>>2]=f;n=n+1|0;r=r+-1|0}if((n|0)>(r|0))break;f=o[e+12>>2]|0}if((r|0)>(t|0))qt(e,t,r);if((n|0)<(i|0))t=n;else break}return}function $t(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0;s=ae;ae=ae+64|0;n[t+84>>0]=0;o[s>>2]=o[e+4>>2];o[s+4>>2]=o[e+4+4>>2];o[s+8>>2]=o[e+4+8>>2];o[s+12>>2]=o[e+4+12>>2];o[s+16>>2]=o[e+20>>2];o[s+16+4>>2]=o[e+20+4>>2];o[s+16+8>>2]=o[e+20+8>>2];o[s+16+12>>2]=o[e+20+12>>2];o[s+32>>2]=o[e+36>>2];o[s+32+4>>2]=o[e+36+4>>2];o[s+32+8>>2]=o[e+36+8>>2];o[s+32+12>>2]=o[e+36+12>>2];o[s+48>>2]=o[e+52>>2];o[s+48+4>>2]=o[e+52+4>>2];o[s+48+8>>2]=o[e+52+8>>2];o[s+48+12>>2]=o[e+52+12>>2];if(i?(r=o[e+480>>2]|0,r|0):0)xF[o[(o[r>>2]|0)+8>>2]&127](r,s);v=+c[t+156>>2];g=+c[s>>2];y=+c[t+160>>2];A=+c[s+4>>2];f=+c[t+164>>2];m=+c[s+8>>2];b=+c[s+16>>2];p=+c[s+20>>2];h=+c[s+24>>2];d=+c[s+32>>2];u=+c[s+36>>2];l=+c[s+40>>2];_=v*b+y*p+f*h+ +c[s+52>>2];a=v*d+y*u+f*l+ +c[s+56>>2];c[t+36>>2]=v*g+y*A+f*m+ +c[s+48>>2];c[t+40>>2]=_;c[t+44>>2]=a;c[t+48>>2]=0.0;a=+c[t+172>>2];_=+c[t+176>>2];f=+c[t+180>>2];c[t+52>>2]=g*a+A*_+m*f;c[t+56>>2]=a*b+_*p+f*h;c[t+60>>2]=a*d+_*u+f*l;c[t+64>>2]=0.0;f=+c[t+188>>2];_=+c[t+192>>2];a=+c[t+196>>2];c[t+68>>2]=g*f+A*_+m*a;c[t+72>>2]=b*f+p*_+h*a;c[t+76>>2]=d*f+u*_+l*a;c[t+80>>2]=0.0;ae=s;return}function ei(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;while(1){f=o[e+12>>2]|0;d=o[f+(((t+i|0)/2|0)<<2)>>2]|0;n=t;r=i;while(1){u=o[(o[d+28>>2]|0)+208>>2]|0;if((u|0)>-1)while(1){c=f+(n<<2)|0;a=o[c>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((s|0)<(u|0))n=n+1|0;else{_=c;break}}else{l=o[(o[d+32>>2]|0)+208>>2]|0;while(1){c=f+(n<<2)|0;a=o[c>>2]|0;s=o[(o[a+28>>2]|0)+208>>2]|0;if((s|0)<=-1)s=o[(o[a+32>>2]|0)+208>>2]|0;if((s|0)<(l|0))n=n+1|0;else{_=c;break}}}if((u|0)>-1)while(1){s=f+(r<<2)|0;c=o[s>>2]|0;a=o[(o[c+28>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+32>>2]|0)+208>>2]|0;if((u|0)<(a|0))r=r+-1|0;else break}else{l=o[(o[d+32>>2]|0)+208>>2]|0;while(1){s=f+(r<<2)|0;c=o[s>>2]|0;a=o[(o[c+28>>2]|0)+208>>2]|0;if((a|0)<=-1)a=o[(o[c+32>>2]|0)+208>>2]|0;if((l|0)<(a|0))r=r+-1|0;else break}}if((n|0)<=(r|0)){f=o[_>>2]|0;o[_>>2]=o[s>>2];o[(o[e+12>>2]|0)+(r<<2)>>2]=f;n=n+1|0;r=r+-1|0}if((n|0)>(r|0))break;f=o[e+12>>2]|0}if((r|0)>(t|0))ei(e,t,r);if((n|0)<(i|0))t=n;else break}return}function ti(e,t,i,n,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;l=+l;_=_|0;u=+u;var f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0;o[e>>2]=o[s>>2];o[e+4>>2]=o[s+4>>2];o[e+8>>2]=o[s+8>>2];o[e+12>>2]=o[s+12>>2];g=+c[n+4>>2];b=+c[e+8>>2];h=+c[n+8>>2];y=+c[e+4>>2];d=+c[e>>2];C=+c[n>>2];E=(g*b-h*y)*+c[t>>2]+ +c[t+4>>2]*(h*d-b*C)+(y*C-g*d)*+c[t+8>>2];v=(g*b-h*y)*+c[t+16>>2]+(h*d-b*C)*+c[t+20>>2]+(y*C-g*d)*+c[t+24>>2];g=(g*b-h*y)*+c[t+32>>2]+(h*d-b*C)*+c[t+36>>2]+(y*C-g*d)*+c[t+40>>2];c[e+16>>2]=E;c[e+20>>2]=v;c[e+24>>2]=g;c[e+28>>2]=0.0;C=+c[r+4>>2];h=+c[r+8>>2];A=+c[r>>2];m=+c[i>>2]*(C*-b-h*-y)+ +c[i+4>>2]*(h*-d-A*-b)+(A*-y-C*-d)*+c[i+8>>2];p=(C*-b-h*-y)*+c[i+16>>2]+(h*-d-A*-b)*+c[i+20>>2]+(A*-y-C*-d)*+c[i+24>>2];d=(C*-b-h*-y)*+c[i+32>>2]+(h*-d-A*-b)*+c[i+36>>2]+(A*-y-C*-d)*+c[i+40>>2];c[e+32>>2]=m;c[e+36>>2]=p;c[e+40>>2]=d;c[e+44>>2]=0.0;C=+c[a>>2]*E;y=+c[a+4>>2]*v;A=+c[a+8>>2]*g;c[e+48>>2]=C;c[e+52>>2]=y;c[e+56>>2]=A;c[e+60>>2]=0.0;b=+c[_>>2]*m;h=+c[_+4>>2]*p;f=+c[_+8>>2]*d;c[e+64>>2]=b;c[e+68>>2]=h;c[e+72>>2]=f;c[e+76>>2]=0.0;c[e+80>>2]=E*C+v*y+g*A+l+u+(m*b+p*h+d*f);return}function ii(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0.0,E=0;v=ae;ae=ae+2048|0;if((n|0)<=0){ae=v;return}r=0;do{c[i+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(n|0));A=0;do{if((dF[o[(o[e>>2]|0)+96>>2]&127](e)|0)>0){h=t+(A<<4)|0;m=t+(A<<4)+4|0;d=t+(A<<4)+8|0;b=i+(A<<4)+12|0;p=i+(A<<4)|0;g=0;do{if(((dF[o[(o[e>>2]|0)+96>>2]&127](e)|0)-g|0)<128){r=(dF[o[(o[e>>2]|0)+96>>2]&127](e)|0)-g|0;if((r|0)>0)y=11;else{a=-3402823466385288598117041.0e14;r=-1}}else{r=128;y=11}if((y|0)==11){y=0;s=0;do{LF[o[(o[e>>2]|0)+108>>2]&127](e,s,v+(s<<4)|0);s=s+1|0}while((s|0)!=(r|0));l=+c[h>>2];_=+c[m>>2];u=+c[d>>2];f=0;a=-3402823466385288598117041.0e14;s=-1;do{C=l*+c[v+(f<<4)>>2]+_*+c[v+(f<<4)+4>>2]+u*+c[v+(f<<4)+8>>2];E=C>a;s=E?f:s;a=E?C:a;f=f+1|0}while((f|0)!=(r|0));r=s}if(a>+c[b>>2]){E=v+(r<<4)|0;o[p>>2]=o[E>>2];o[p+4>>2]=o[E+4>>2];o[p+8>>2]=o[E+8>>2];o[p+12>>2]=o[E+12>>2];c[b>>2]=a}g=g+128|0}while((g|0)<(dF[o[(o[e>>2]|0)+96>>2]&127](e)|0))}A=A+1|0}while((A|0)!=(n|0));ae=v;return}function ni(e,t,i,n,r,o,s){e=e|0;t=+t;i=+i;n=+n;r=r|0;o=+o;s=s|0;var a=0.0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;_=ae;ae=ae+16|0;l=i*o+ +c[e+52>>2];a=n*o+ +c[e+56>>2];c[s+48>>2]=t*o+ +c[e+48>>2];c[s+52>>2]=l;c[s+56>>2]=a;c[s+60>>2]=0.0;a=+c[r>>2];l=+c[r+4>>2];t=+c[r+8>>2];i=+v(+(a*a+l*l+t*t));i=i*o>.7853981852531433?.7853981852531433/o:i;if(i<1.0000000474974513e-03)n=o*.5-i*(o*o*o*.02083333395421505*i);else n=+S(+(i*.5*o))/i;t=t*n;f=l*n;h=a*n;b=+E(+(i*o*.5));Fi(e,_);d=+c[_>>2];p=+c[_+12>>2];a=+c[_+8>>2];o=+c[_+4>>2];i=1.0/+v(+((b*p-h*d-f*o-t*a)*(b*p-h*d-f*o-t*a)+((t*p+b*a+h*o-f*d)*(t*p+b*a+h*o-f*d)+((b*d+h*p+f*a-t*o)*(b*d+h*p+f*a-t*o)+(t*d+(f*p+b*o)-h*a)*(t*d+(f*p+b*o)-h*a)))));n=(b*d+h*p+f*a-t*o)*i;l=(t*d+(f*p+b*o)-h*a)*i;u=(t*p+b*a+h*o-f*d)*i;i=(b*p-h*d-f*o-t*a)*i;a=n*(2.0/(i*i+(u*u+(n*n+l*l))));o=l*(2.0/(i*i+(u*u+(n*n+l*l))));t=u*(2.0/(i*i+(u*u+(n*n+l*l))));c[s>>2]=1.0-(l*o+u*t);c[s+4>>2]=n*o-i*t;c[s+8>>2]=n*t+i*o;c[s+12>>2]=0.0;c[s+16>>2]=n*o+i*t;c[s+20>>2]=1.0-(n*a+u*t);c[s+24>>2]=l*t-i*a;c[s+28>>2]=0.0;c[s+32>>2]=n*t-i*o;c[s+36>>2]=l*t+i*a;c[s+40>>2]=1.0-(n*a+l*o);c[s+44>>2]=0.0;ae=_;return}function ri(e,t,i){e=e|0;t=+t;i=i|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;r=o[e+8>>2]|0;if(r|0?(o[r+204>>2]&3|0)==0:0){if((o[r+216>>2]&-2|0)!=4)o[r+216>>2]=1;c[r+220>>2]=0.0}r=o[e+12>>2]|0;if(r|0?(o[r+204>>2]&3|0)==0:0){if((o[r+216>>2]&-2|0)!=4)o[r+216>>2]=1;c[r+220>>2]=0.0}r=o[e+20>>2]|0;if(r|0?(o[r+204>>2]&3|0)==0:0){if((o[r+216>>2]&-2|0)!=4)o[r+216>>2]=1;c[r+220>>2]=0.0}r=o[e+24>>2]|0;if(r|0?(o[r+204>>2]&3|0)==0:0){if((o[r+216>>2]&-2|0)!=4)o[r+216>>2]=1;c[r+220>>2]=0.0}r=o[e+156>>2]|0;o[e+156>>2]=r+1;n[e+152>>0]=(r|0)>=(o[e+160>>2]|0)&1;if(r|0){o[e+72>>2]=0;o[e+72+4>>2]=0;o[e+72+8>>2]=0;o[e+72+12>>2]=0;o[e+72+16>>2]=0;o[e+72+20>>2]=0;o[e+72+24>>2]=0;o[e+72+28>>2]=0;return}l=+c[e+64>>2];a=1.0/t*(+c[e+72>>2]*l);s=1.0/t*(l*+c[e+76>>2]);t=1.0/t*(l*+c[e+80>>2]);c[e+72>>2]=a;c[e+76>>2]=s;c[e+80>>2]=t;c[e+84>>2]=0.0;l=+c[e+68>>2];if(l>0.0){u=l*a*+c[e+120>>2]+l*s*+c[e+124>>2]+l*t*+c[e+128>>2];_=l*a*+c[e+136>>2]+l*s*+c[e+140>>2]+l*t*+c[e+144>>2];c[e+88>>2]=l*a*+c[e+104>>2]+l*s*+c[e+108>>2]+l*t*+c[e+112>>2];c[e+92>>2]=u;c[e+96>>2]=_;c[e+100>>2]=0.0;c[e+72>>2]=(1.0-l)*a;c[e+76>>2]=(1.0-l)*s;c[e+80>>2]=(1.0-l)*t;a=(1.0-l)*a;s=(1.0-l)*s;t=(1.0-l)*t}c[e+72>>2]=1.0/+(i|0)*a;c[e+76>>2]=1.0/+(i|0)*s;c[e+80>>2]=1.0/+(i|0)*t;return}function oi(e,t,i,n,r,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;var l=0.0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0.0,A=0;b=ae;ae=ae+16|0;c[n>>2]=3402823466385288598117041.0e14;c[r>>2]=-3402823466385288598117041.0e14;u=o[e+96>>2]|0;if((u|0)>0){p=0;do{A=o[e+104>>2]|0;m=+c[A+(p<<4)>>2]*+c[e+12>>2];f=+c[A+(p<<4)+4>>2]*+c[e+16>>2];d=+c[A+(p<<4)+8>>2]*+c[e+20>>2];l=m*+c[t>>2]+f*+c[t+4>>2]+d*+c[t+8>>2]+ +c[t+48>>2];h=m*+c[t+16>>2]+f*+c[t+20>>2]+d*+c[t+24>>2]+ +c[t+52>>2];d=m*+c[t+32>>2]+f*+c[t+36>>2]+d*+c[t+40>>2]+ +c[t+56>>2];f=l*+c[i>>2]+h*+c[i+4>>2]+d*+c[i+8>>2];if(f<+c[n>>2]){c[n>>2]=f;c[s>>2]=l;c[s+4>>2]=h;c[s+8>>2]=d;c[s+12>>2]=0.0}if(f>+c[r>>2]){c[r>>2]=f;c[a>>2]=l;c[a+4>>2]=h;c[a+8>>2]=d;c[a+12>>2]=0.0}p=p+1|0}while((p|0)!=(u|0));f=+c[r>>2];u=(c[_>>2]=f,o[_>>2]|0)}else{u=-8388609;f=-3402823466385288598117041.0e14}l=+c[n>>2];if(!(l>f)){ae=b;return}o[n>>2]=u;c[r>>2]=l;o[b>>2]=o[s>>2];o[b+4>>2]=o[s+4>>2];o[b+8>>2]=o[s+8>>2];o[b+12>>2]=o[s+12>>2];o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[a>>2]=o[b>>2];o[a+4>>2]=o[b+4>>2];o[a+8>>2]=o[b+8>>2];o[a+12>>2]=o[b+12>>2];ae=b;return}function si(e,t){e=e|0;t=t|0;var i=0,n=0;i=ae;ae=ae+48|0;n=(o[e+48>>2]|0)+4|0;o[n>>2]=o[t>>2];o[n+4>>2]=o[t+4>>2];o[n+8>>2]=o[t+8>>2];o[n+12>>2]=o[t+12>>2];t=i+32+4|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;c[i+32>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i+16|0,e,i+32|0);c[e+32>>2]=+c[i+16>>2]+ +c[e+12>>2];c[i+32>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i,e,i+32|0);o[i+16>>2]=o[i>>2];o[i+16+4>>2]=o[i+4>>2];o[i+16+8>>2]=o[i+8>>2];o[i+16+12>>2]=o[i+12>>2];c[e+16>>2]=+c[i+16>>2]-+c[e+12>>2];o[i+32>>2]=0;o[i+32+4>>2]=0;o[i+32+8>>2]=0;o[i+32+12>>2]=0;c[t>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i+16|0,e,i+32|0);c[e+36>>2]=+c[i+16+4>>2]+ +c[e+12>>2];c[t>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i,e,i+32|0);o[i+16>>2]=o[i>>2];o[i+16+4>>2]=o[i+4>>2];o[i+16+8>>2]=o[i+8>>2];o[i+16+12>>2]=o[i+12>>2];c[e+20>>2]=+c[i+16+4>>2]-+c[e+12>>2];o[i+32>>2]=0;o[i+32+4>>2]=0;o[i+32+8>>2]=0;o[i+32+12>>2]=0;c[i+32+8>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i+16|0,e,i+32|0);c[e+40>>2]=+c[i+16+8>>2]+ +c[e+12>>2];c[i+32+8>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](i,e,i+32|0);o[i+16>>2]=o[i>>2];o[i+16+4>>2]=o[i+4>>2];o[i+16+8>>2]=o[i+8>>2];o[i+16+12>>2]=o[i+12>>2];c[e+24>>2]=+c[i+16+8>>2]-+c[e+12>>2];ae=i;return}function ai(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0;l=ae;ae=ae+48|0;f=+c[i>>2];d=+c[i+4>>2];u=+c[i+8>>2];h=f*+c[t+4>>2]+d*+c[t+20>>2]+u*+c[t+36>>2];p=f*+c[t+8>>2]+d*+c[t+24>>2]+u*+c[t+40>>2];c[l+32>>2]=+c[t>>2]*f+ +c[t+16>>2]*d+ +c[t+32>>2]*u;c[l+32+4>>2]=h;c[l+32+8>>2]=p;c[l+32+12>>2]=0.0;LF[o[(o[e>>2]|0)+64>>2]&127](l+16|0,e,l+32|0);p=+c[l+16>>2];h=+c[l+16+4>>2];u=+c[l+16+8>>2];d=p*+c[t>>2]+h*+c[t+4>>2]+u*+c[t+8>>2]+ +c[t+48>>2];f=p*+c[t+16>>2]+h*+c[t+20>>2]+u*+c[t+24>>2]+ +c[t+52>>2];u=p*+c[t+32>>2]+h*+c[t+36>>2]+u*+c[t+40>>2]+ +c[t+56>>2];b=o[(o[e>>2]|0)+64>>2]|0;h=-+c[l+32+4>>2];p=-+c[l+32+8>>2];c[l>>2]=-+c[l+32>>2];c[l+4>>2]=h;c[l+8>>2]=p;c[l+12>>2]=0.0;LF[b&127](l+16|0,e,l);p=+c[l+16>>2];h=+c[l+16+4>>2];a=+c[l+16+8>>2];_=p*+c[t>>2]+h*+c[t+4>>2]+a*+c[t+8>>2]+ +c[t+48>>2];s=p*+c[t+16>>2]+h*+c[t+20>>2]+a*+c[t+24>>2]+ +c[t+52>>2];a=p*+c[t+32>>2]+h*+c[t+36>>2]+a*+c[t+40>>2]+ +c[t+56>>2];c[n>>2]=d*+c[i>>2]+f*+c[i+4>>2]+u*+c[i+8>>2];a=_*+c[i>>2]+s*+c[i+4>>2]+a*+c[i+8>>2];c[r>>2]=a;s=+c[n>>2];if(!(s>a)){ae=l;return}c[n>>2]=a;c[r>>2]=s;ae=l;return}function ci(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0,l=0,_=0,u=0,f=0,d=0,h=0.0,p=0.0,b=0,m=0.0,A=0.0,g=0.0,y=0;b=ae;ae=ae+2048|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;n=+c[i>>2];r=+c[i+4>>2];s=+c[i+8>>2];if(n*n+r*r+s*s<1.4210854715202004e-14){p=1.0;h=0.0;s=0.0}else{m=1.0/+v(+(n*n+r*r+s*s));p=n*m;h=r*m;s=s*m}f=o[t+92>>2]|0;if((f|0)<=0){ae=b;return}d=0;r=-999999984306749440.0;a=o[t+100>>2]|0;l=o[t+120>>2]|0;while(1){_=f-d|0;u=(_|0)<128?_:128;if((_|0)>0){i=0;do{n=+c[l>>2];g=+c[a>>2]+p*+c[t+12>>2]*n;A=h*+c[t+16>>2]*n+ +c[a+4>>2];n=n*(s*+c[t+20>>2])+ +c[a+8>>2];m=+nF[o[(o[t>>2]|0)+48>>2]&15](t);c[b+(i<<4)>>2]=g-p*m;c[b+(i<<4)+4>>2]=A-h*m;c[b+(i<<4)+8>>2]=n-s*m;c[b+(i<<4)+12>>2]=0.0;a=a+16|0;l=l+4|0;i=i+1|0}while((i|0)<(u|0));_=0;n=-3402823466385288598117041.0e14;i=-1;do{g=p*+c[b+(_<<4)>>2]+h*+c[b+(_<<4)+4>>2]+s*+c[b+(_<<4)+8>>2];y=g>n;i=y?_:i;n=y?g:n;_=_+1|0}while((_|0)!=(u|0))}else{n=-3402823466385288598117041.0e14;i=-1}if(n>r){y=b+(i<<4)|0;o[e>>2]=o[y>>2];o[e+4>>2]=o[y+4>>2];o[e+8>>2]=o[y+8>>2];o[e+12>>2]=o[y+12>>2]}else n=r;d=d+128|0;if((f|0)<=(d|0))break;else r=n}ae=b;return}function li(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0.0;e:do{if(t>>>0<=20)do{switch(t|0){case 9:{n=(o[i>>2]|0)+(4-1)&~(4-1);t=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=t;break e}case 10:{t=(o[i>>2]|0)+(4-1)&~(4-1);n=o[t>>2]|0;o[i>>2]=t+4;o[e>>2]=n;o[e+4>>2]=((n|0)<0)<<31>>31;break e}case 11:{t=(o[i>>2]|0)+(4-1)&~(4-1);n=o[t>>2]|0;o[i>>2]=t+4;o[e>>2]=n;o[e+4>>2]=0;break e}case 12:{r=(o[i>>2]|0)+(8-1)&~(8-1);t=o[r>>2]|0;n=o[r+4>>2]|0;o[i>>2]=r+8;o[e>>2]=t;o[e+4>>2]=n;break e}case 13:{n=(o[i>>2]|0)+(4-1)&~(4-1);r=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=(r&65535)<<16>>16;o[e+4>>2]=(((r&65535)<<16>>16|0)<0)<<31>>31;break e}case 14:{n=(o[i>>2]|0)+(4-1)&~(4-1);r=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=r&65535;o[e+4>>2]=0;break e}case 15:{n=(o[i>>2]|0)+(4-1)&~(4-1);r=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=(r&255)<<24>>24;o[e+4>>2]=(((r&255)<<24>>24|0)<0)<<31>>31;break e}case 16:{n=(o[i>>2]|0)+(4-1)&~(4-1);r=o[n>>2]|0;o[i>>2]=n+4;o[e>>2]=r&255;o[e+4>>2]=0;break e}case 17:{r=(o[i>>2]|0)+(8-1)&~(8-1);s=+l[r>>3];o[i>>2]=r+8;l[e>>3]=s;break e}case 18:{lg(e,i);break e}default:break e}}while(0)}while(0);return}function _i(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;d=ae;ae=ae+16|0;l=o[e+12>>2]|0;_=o[l+(((i+t|0)/2|0)<<4)>>2]|0;u=o[l+(((i+t|0)/2|0)<<4)+4>>2]|0;f=o[l+(((i+t|0)/2|0)<<4)+8>>2]|0;n=t;r=i;while(1){while(1){c=l+(n<<4)|0;s=o[l+(n<<4)+4>>2]|0;if((s|0)>=(u|0)){if((s|0)!=(u|0))break;s=o[c>>2]|0;if((s|0)>=(_|0)){if((s|0)!=(_|0))break;if((o[l+(n<<4)+8>>2]|0)>=(f|0))break}}n=n+1|0}while(1){a=l+(r<<4)|0;s=o[l+(r<<4)+4>>2]|0;if((u|0)>=(s|0)){if((u|0)!=(s|0))break;s=o[a>>2]|0;if((_|0)>=(s|0)){if((_|0)!=(s|0))break;if((f|0)>=(o[l+(r<<4)+8>>2]|0))break}}r=r+-1|0}if((n|0)<=(r|0)){o[d>>2]=o[c>>2];o[d+4>>2]=o[c+4>>2];o[d+8>>2]=o[c+8>>2];o[d+12>>2]=o[c+12>>2];o[c>>2]=o[a>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];l=(o[e+12>>2]|0)+(r<<4)|0;o[l>>2]=o[d>>2];o[l+4>>2]=o[d+4>>2];o[l+8>>2]=o[d+8>>2];o[l+12>>2]=o[d+12>>2];n=n+1|0;r=r+-1|0}if((n|0)>(r|0))break;l=o[e+12>>2]|0}if((r|0)>(t|0))_i(e,t,r);if((n|0)>=(i|0)){ae=d;return}_i(e,n,i);ae=d;return}function ui(e){e=e|0;var t=0,i=0,n=0.0,r=0.0,s=0.0,a=0,l=0;a=o[e+28>>2]|0;n=0.0;r=0.0;s=0.0;l=0;e:while(1){switch(l&2147483647|0){case 0:{n=+c[e+80>>2]+ +c[e+64>>2];r=+c[e+84>>2]+ +c[e+68>>2];s=+c[e+88>>2]+ +c[e+72>>2];break}case 1:{n=+c[e+80>>2]+ +c[e+64>>2];r=+c[e+84>>2]+ +c[e+68>>2];s=+c[e+72>>2]-+c[e+88>>2];break}case 2:{n=+c[e+80>>2]+ +c[e+64>>2];r=+c[e+68>>2]-+c[e+84>>2];s=+c[e+88>>2]+ +c[e+72>>2];break}case 3:{n=+c[e+80>>2]+ +c[e+64>>2];r=+c[e+68>>2]-+c[e+84>>2];s=+c[e+72>>2]-+c[e+88>>2];break}case 4:{n=+c[e+64>>2]-+c[e+80>>2];r=+c[e+84>>2]+ +c[e+68>>2];s=+c[e+88>>2]+ +c[e+72>>2];break}case 5:{n=+c[e+64>>2]-+c[e+80>>2];r=+c[e+84>>2]+ +c[e+68>>2];s=+c[e+72>>2]-+c[e+88>>2];break}case 6:{n=+c[e+64>>2]-+c[e+80>>2];r=+c[e+68>>2]-+c[e+84>>2];s=+c[e+88>>2]+ +c[e+72>>2];break}case 7:{n=+c[e+64>>2]-+c[e+80>>2];r=+c[e+68>>2]-+c[e+84>>2];s=+c[e+72>>2]-+c[e+88>>2];break}default:{}}if((a|0)>0){t=o[e+36>>2]|0;i=0;do{if(+c[t+(i*36|0)+32>>2]+(n*+c[t+(i*36|0)+20>>2]+r*+c[t+(i*36|0)+24>>2]+s*+c[t+(i*36|0)+28>>2])>0.0){t=0;i=16;break e}i=i+1|0}while((i|0)<(a|0))}l=l+1|0;if(l>>>0>=8){t=1;i=16;break}}if((i|0)==16)return t|0;return 0}function fi(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,v=0,C=0,E=0,S=0;if((o[e>>2]|0)==(t|0)){o[e>>2]=0;e=0;return e|0}n=o[t+32>>2]|0;i=o[n+32>>2]|0;t=o[n+36+(((o[n+40>>2]|0)!=(t|0)&1)<<2)>>2]|0;if(!i){o[e>>2]=t;o[t+32>>2]=0;i=o[e+4>>2]|0;if(!i)i=t;else{o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);i=o[e>>2]|0}o[e+4>>2]=n;e=i;return e|0}o[i+36+(((o[i+40>>2]|0)==(n|0)&1)<<2)>>2]=t;o[t+32>>2]=i;t=o[e+4>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+4>>2]=n;do{b=+c[i>>2];E=i+4|0;h=+c[E>>2];v=i+8|0;f=+c[v>>2];S=i+16|0;A=+c[S>>2];C=i+20|0;_=+c[C>>2];n=i+24|0;a=+c[n>>2];y=o[i+36>>2]|0;t=o[i+40>>2]|0;g=+c[y>>2];p=+c[t>>2];p=g<p?g:p;c[i>>2]=p;g=+c[y+16>>2];m=+c[t+16>>2];m=g>m?g:m;c[S>>2]=m;g=+c[y+4>>2];d=+c[t+4>>2];d=g<d?g:d;c[E>>2]=d;g=+c[y+20>>2];l=+c[t+20>>2];l=g>l?g:l;c[C>>2]=l;g=+c[y+8>>2];u=+c[t+8>>2];u=g<u?g:u;c[v>>2]=u;g=+c[y+24>>2];s=+c[t+24>>2];s=g>s?g:s;c[n>>2]=s;if(!(A!=m|(b!=p|h!=d|f!=u))?!(_!=l|a!=s):0){r=14;break}i=o[i+32>>2]|0}while((i|0)!=0);if((r|0)==14)return i|0;S=o[e>>2]|0;return S|0}function di(e,t,i,n,r,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;var l=0.0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0.0,A=0;b=ae;ae=ae+16|0;c[n>>2]=3402823466385288598117041.0e14;c[r>>2]=-3402823466385288598117041.0e14;u=o[e+8>>2]|0;if((u|0)>0){p=0;do{A=o[e+16>>2]|0;m=+c[A+(p<<4)>>2];f=+c[A+(p<<4)+4>>2];d=+c[A+(p<<4)+8>>2];l=m*+c[t>>2]+f*+c[t+4>>2]+d*+c[t+8>>2]+ +c[t+48>>2];h=m*+c[t+16>>2]+f*+c[t+20>>2]+d*+c[t+24>>2]+ +c[t+52>>2];d=m*+c[t+32>>2]+f*+c[t+36>>2]+d*+c[t+40>>2]+ +c[t+56>>2];f=l*+c[i>>2]+h*+c[i+4>>2]+d*+c[i+8>>2];if(f<+c[n>>2]){c[n>>2]=f;c[s>>2]=l;c[s+4>>2]=h;c[s+8>>2]=d;c[s+12>>2]=0.0}if(f>+c[r>>2]){c[r>>2]=f;c[a>>2]=l;c[a+4>>2]=h;c[a+8>>2]=d;c[a+12>>2]=0.0}p=p+1|0}while((p|0)!=(u|0));f=+c[r>>2];u=(c[_>>2]=f,o[_>>2]|0)}else{u=-8388609;f=-3402823466385288598117041.0e14}l=+c[n>>2];if(!(l>f)){ae=b;return}o[n>>2]=u;c[r>>2]=l;o[b>>2]=o[s>>2];o[b+4>>2]=o[s+4>>2];o[b+8>>2]=o[s+8>>2];o[b+12>>2]=o[s+12>>2];o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];o[a>>2]=o[b>>2];o[a+4>>2]=o[b+4>>2];o[a+8>>2]=o[b+8>>2];o[a+12>>2]=o[b+12>>2];ae=b;return}function hi(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,l=0.0,_=0.0,u=0,f=0,d=0.0,h=0.0,p=0;f=ae;ae=ae+16|0;if((r|0)>-3){o[6747]=(o[6747]|0)+1;e=Do((r+3<<4|3)+16|0)|0;if(!e)u=0;else{o[(e+4+15&-16)+-4>>2]=e;u=e+4+15&-16}e=0;do{a=u+(e<<4)|0;o[a>>2]=o[f>>2];o[a+4>>2]=o[f+4>>2];o[a+8>>2]=o[f+8>>2];o[a+12>>2]=o[f+12>>2];e=e+1|0}while((e|0)!=(r+3|0));s=0;a=u;while(1){if(!s)l=0.0;else{e=s;_=.5;l=0.0;while(1){l=(e&1|0)==0?l:l+_;e=1?e>>1:e;if(!e)break;else _=_*.5}}_=l*2.0+-1.0;h=(+(s<<1|0)*3.1415927410125732+3.1415927410125732)/+(r+3|0);d=+v(+(1.0-_*_));l=+S(+h)*d;c[a>>2]=+E(+h)*d;c[a+4>>2]=l;c[a+8>>2]=_;c[a+12>>2]=0.0;s=s+1|0;if((s|0)==(r+3|0))break;else a=a+16|0}e=0;do{p=u+(e<<4)|0;s=u+(e<<4)+4|0;a=u+(e<<4)+8|0;d=+c[s>>2]*+c[n+4>>2]+ +c[i+4>>2];h=+c[a>>2]*+c[n+8>>2]+ +c[i+8>>2];c[p>>2]=+c[p>>2]*+c[n>>2]+ +c[i>>2];c[s>>2]=d;c[a>>2]=h;c[u+(e<<4)+12>>2]=0.0;e=e+1|0}while((e|0)<(r+3|0));a=u;s=u}else{a=0;s=0}e=Ws(t,s,r+3|0,1)|0;if((s|0)==0|(a|0)==0){ae=f;return e|0}o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);ae=f;return e|0}function pi(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,_=0,u=0;u=ae;ae=ae+32|0;l=(n[e+28>>0]|0)!=0;_=l?i:t;l=l?t:i;a=o[_+4>>2]|0;c=o[a+16>>2]|0;s=o[e+12>>2]|0;if((s|0)<(c|0)){if((o[e+16>>2]|0)<(c|0)){if(!c){i=s;r=0}else{o[6747]=(o[6747]|0)+1;t=Do((c<<2|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}i=o[e+12>>2]|0;r=t}if((i|0)>0){t=0;do{o[r+(t<<2)>>2]=o[(o[e+20>>2]|0)+(t<<2)>>2];t=t+1|0}while((t|0)!=(i|0))}t=o[e+20>>2]|0;if(t|0){if(n[e+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+20>>2]=0}n[e+24>>0]=1;o[e+20>>2]=r;o[e+16>>2]=c;i=e+20|0}else i=e+20|0;t=s;do{o[(o[i>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=(c|0))}o[e+12>>2]=c;if((c|0)<=0){ae=u;return}t=0;do{if(!(o[a+64>>2]|0)){i=o[(o[a+24>>2]|0)+(t*80|0)+64>>2]|0;r=o[_+8>>2]|0;s=o[_+12>>2]|0;o[u>>2]=_;o[u+4>>2]=i;o[u+8>>2]=r;o[u+12>>2]=s;o[u+16>>2]=-1;o[u+20>>2]=t;s=o[e+4>>2]|0;s=AF[o[(o[s>>2]|0)+8>>2]&31](s,u,l,o[e+32>>2]|0)|0;o[(o[e+20>>2]|0)+(t<<2)>>2]=s}else o[(o[e+20>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=(c|0));ae=u;return}function bi(e,t,i){e=e|0;t=t|0;i=i|0;sn(e,t,i)|0;o[t+52>>2]=o[e+48>>2];o[t+56>>2]=o[e+52>>2];o[t+60>>2]=o[e+56>>2];o[t+64>>2]=o[e+60>>2];o[t+68>>2]=o[e+64>>2];o[t+72>>2]=o[e+68>>2];o[t+76>>2]=o[e+72>>2];o[t+80>>2]=o[e+76>>2];o[t+84>>2]=o[e+80>>2];o[t+88>>2]=o[e+84>>2];o[t+92>>2]=o[e+88>>2];o[t+96>>2]=o[e+92>>2];o[t+100>>2]=o[e+96>>2];o[t+104>>2]=o[e+100>>2];o[t+108>>2]=o[e+104>>2];o[t+112>>2]=o[e+108>>2];o[t+116>>2]=o[e+112>>2];o[t+120>>2]=o[e+116>>2];o[t+124>>2]=o[e+120>>2];o[t+128>>2]=o[e+124>>2];o[t+132>>2]=o[e+128>>2];o[t+136>>2]=o[e+132>>2];o[t+140>>2]=o[e+136>>2];o[t+144>>2]=o[e+140>>2];o[t+148>>2]=o[e+144>>2];o[t+152>>2]=o[e+148>>2];o[t+156>>2]=o[e+152>>2];o[t+160>>2]=o[e+156>>2];o[t+164>>2]=o[e+160>>2];o[t+168>>2]=o[e+164>>2];o[t+172>>2]=o[e+168>>2];o[t+176>>2]=o[e+172>>2];o[t+228>>2]=o[e+868>>2];o[t+212>>2]=o[e+872>>2];o[t+196>>2]=o[e+680>>2];o[t+180>>2]=o[e+696>>2];o[t+232>>2]=o[e+932>>2];o[t+216>>2]=o[e+936>>2];o[t+200>>2]=o[e+684>>2];o[t+184>>2]=o[e+700>>2];o[t+236>>2]=o[e+996>>2];o[t+220>>2]=o[e+1e3>>2];o[t+204>>2]=o[e+688>>2];o[t+188>>2]=o[e+704>>2];o[t+244>>2]=s[e+1300>>0];o[t+248>>2]=s[e+1301>>0];return 15073}function mi(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0,l=0;t=o[e+32>>2]|0;if(!t)s=0;else s=o[e+40>>2]|0;i=o[e+52>>2]|0;if(!i)a=0;else a=o[e+60>>2]|0;r=o[e+72>>2]|0;if(!r)c=0;else c=o[e+80>>2]|0;l=o[e+8>>2]|0;+fF[o[(o[l>>2]|0)+12>>2]&3](l,s,t,a,i,c,r,o[e+4>>2]|0,o[e+20>>2]|0,o[e+24>>2]|0);t=o[e+32>>2]|0;if((t|0)<0){if((o[e+36>>2]|0)<0){i=o[e+40>>2]|0;if(i|0){if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+40>>2]=0}n[e+44>>0]=1;o[e+40>>2]=0;o[e+36>>2]=0}do{o[(o[e+40>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=0)}o[e+32>>2]=0;t=o[e+52>>2]|0;if((t|0)<0){if((o[e+56>>2]|0)<0){i=o[e+60>>2]|0;if(i|0){if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+60>>2]=0}n[e+64>>0]=1;o[e+60>>2]=0;o[e+56>>2]=0}do{o[(o[e+60>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=0)}o[e+52>>2]=0;t=o[e+72>>2]|0;if((t|0)>=0){o[e+72>>2]=0;return}if((o[e+76>>2]|0)<0){i=o[e+80>>2]|0;if(i|0){if(n[e+84>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+80>>2]=0}n[e+84>>0]=1;o[e+80>>2]=0;o[e+76>>2]=0}do{o[(o[e+80>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=0);o[e+72>>2]=0;return}function Ai(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0;o[6747]=(o[6747]|0)+1;t=Do(39)|0;if(!t)c=0;else{o[(t+4+15&-16)+-4>>2]=t;c=t+4+15&-16}s=c;o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0;if((o[e+872>>2]|0)>0){a=o[o[e+880>>2]>>2]|0;o[c>>2]=o[a>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];o[c+16>>2]=o[a+16>>2]}else{o[c>>2]=0;o[c+4>>2]=0;o[c+8>>2]=0;o[c+12>>2]=0;o[c+16>>2]=0}t=o[e+872>>2]|0;if((t|0)!=(o[e+876>>2]|0)){a=t;r=e+880|0;r=o[r>>2]|0;r=r+(a<<2)|0;o[r>>2]=s;a=a+1|0;o[e+872>>2]=a;return c|0}a=(t|0)==0?1:t<<1;if((t|0)>=(a|0)){a=t;r=e+880|0;r=o[r>>2]|0;r=r+(a<<2)|0;o[r>>2]=s;a=a+1|0;o[e+872>>2]=a;return c|0}if(!a)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((a<<2|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[e+872>>2]|0}if((t|0)>0){r=0;do{o[i+(r<<2)>>2]=o[(o[e+880>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(t|0))}r=o[e+880>>2]|0;if(r){if(n[e+884>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);t=o[e+872>>2]|0}o[e+880>>2]=0}n[e+884>>0]=1;o[e+880>>2]=i;o[e+876>>2]=a;a=t;r=e+880|0;r=o[r>>2]|0;r=r+(a<<2)|0;o[r>>2]=s;a=a+1|0;o[e+872>>2]=a;return c|0}function gi(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0;i=o[e+4>>2]|0;if((i|0)==(o[e+8>>2]|0)){Fu(e,(i|0)==0?1:i<<1);i=o[e+4>>2]|0}h=o[e+12>>2]|0;u=h+(i*36|0)+16|0;n[u>>0]=1;_=h+(i*36|0)+12|0;o[_>>2]=0;f=h+(i*36|0)+4|0;o[f>>2]=0;l=h+(i*36|0)+8|0;o[l>>2]=0;p=o[t+4>>2]|0;if((p|0)<=0){o[f>>2]=p;p=h+(i*36|0)+20|0;t=t+20|0;o[p>>2]=o[t>>2];o[p+4>>2]=o[t+4>>2];o[p+8>>2]=o[t+8>>2];o[p+12>>2]=o[t+12>>2];t=o[e+4>>2]|0;t=t+1|0;o[e+4>>2]=t;return}o[6747]=(o[6747]|0)+1;r=Do((p<<2|3)+16|0)|0;if(!r)c=0;else{o[(r+4+15&-16)+-4>>2]=r;c=r+4+15&-16}s=o[f>>2]|0;a=o[_>>2]|0;if((s|0)<=0){if(a|0)d=10}else{r=0;do{o[c+(r<<2)>>2]=o[a+(r<<2)>>2];r=r+1|0}while((r|0)!=(s|0));d=10}if((d|0)==10?n[u>>0]|0:0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[u>>0]=1;o[_>>2]=c;o[l>>2]=p;_l(c|0,0,p<<2|0)|0;o[f>>2]=p;r=o[_>>2]|0;s=o[t+12>>2]|0;a=0;do{o[r+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)!=(p|0));p=h+(i*36|0)+20|0;t=t+20|0;o[p>>2]=o[t>>2];o[p+4>>2]=o[t+4>>2];o[p+8>>2]=o[t+8>>2];o[p+12>>2]=o[t+12>>2];t=o[e+4>>2]|0;t=t+1|0;o[e+4>>2]=t;return}function yi(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;var s=0,a=0.0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;u=+c[i>>2];if(+c[t>>2]<=u){a=+c[i+4>>2];if((((+c[t+4>>2]<=a?+c[t+8>>2]<=+c[i+8>>2]:0)?+c[t+16>>2]>=+c[i+16>>2]:0)?+c[t+20>>2]>=+c[i+20>>2]:0)?+c[t+24>>2]>=+c[i+24>>2]:0){i=0;return i|0}else s=i+4|0}else{a=+c[i+4>>2];s=i+4|0}c[i>>2]=u-r;d=a-r;c[s>>2]=d;a=+c[i+8>>2]-r;c[i+8>>2]=a;b=+c[i+16>>2]+r;c[i+16>>2]=b;h=+c[i+20>>2]+r;c[i+20>>2]=h;f=+c[i+24>>2]+r;c[i+24>>2]=f;p=+c[n>>2];c[(p>0.0?i+16|0:i)>>2]=(p>0.0?b:u-r)+p;r=+c[n+4>>2];c[(r>0.0?i+20|0:s)>>2]=(r>0.0?h:d)+r;r=+c[n+8>>2];c[(r>0.0?i+24|0:i+8|0)>>2]=(r>0.0?f:a)+r;s=fi(e,t)|0;e:do{if(s){l=o[e+8>>2]|0;if((l|0)<=-1){s=o[e>>2]|0;break}if(l){_=0;n=s;while(1){s=o[n+32>>2]|0;_=_+1|0;if(!s){s=n;break e}if((_|0)>=(l|0))break;else n=s}}}else s=0}while(0);o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];o[t+16>>2]=o[i+16>>2];o[t+20>>2]=o[i+20>>2];o[t+24>>2]=o[i+24>>2];o[t+28>>2]=o[i+28>>2];de(e,s,t);i=1;return i|0}function vi(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;var a=0,l=0,u=0,f=0,d=0.0,h=0,p=0.0,b=0.0;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,r,s);u=o[s>>2]|0;h=o[s+4>>2]|0;a=o[s+8>>2]|0;f=o[r>>2]|0;l=o[r+4>>2]|0;t=o[r+8>>2]|0;d=+c[i>>2];p=+c[i+4>>2];b=+c[i+8>>2];if(d>0.0)u=(c[_>>2]=d+(o[_>>2]=u,+c[_>>2]),o[_>>2]|0);else f=(c[_>>2]=d+(o[_>>2]=f,+c[_>>2]),o[_>>2]|0);if(p>0.0)i=(c[_>>2]=p+(o[_>>2]=h,+c[_>>2]),o[_>>2]|0);else{i=h;l=(c[_>>2]=p+(o[_>>2]=l,+c[_>>2]),o[_>>2]|0)}if(b>0.0)a=(c[_>>2]=b+(o[_>>2]=a,+c[_>>2]),o[_>>2]|0);else t=(c[_>>2]=b+(o[_>>2]=t,+c[_>>2]),o[_>>2]|0);d=+c[n>>2];p=+c[n+4>>2];b=+c[n+8>>2];b=+v(+(d*d+p*p+b*b));b=b*+nF[o[(o[e>>2]|0)+16>>2]&15](e);o[r>>2]=f;o[r+4>>2]=l;o[r+8>>2]=t;c[r+12>>2]=0.0;o[s>>2]=u;o[s+4>>2]=i;o[s+8>>2]=a;c[s+12>>2]=0.0;c[r>>2]=+c[r>>2]-b;c[r+4>>2]=+c[r+4>>2]-b;c[r+8>>2]=+c[r+8>>2]-b;c[s>>2]=b+ +c[s>>2];c[s+4>>2]=b+ +c[s+4>>2];c[s+8>>2]=b+ +c[s+8>>2];return}function Ci(e,t,i){e=e|0;t=+t;i=i|0;var r=0,s=0.0,a=0,l=0,_=0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0;l=o[e+712>>2]|0;if(i){if((l|0)>0){i=o[e+720>>2]|0;r=0;do{c[i+(r*104|0)+88>>2]=0.0;r=r+1|0}while((r|0)!=(l|0))}i=o[e+752>>2]|0;if((i|0)>0){r=o[e+760>>2]|0;a=0;do{f=o[r+(a*44|0)+8>>2]|0;u=o[r+(a*44|0)+12>>2]|0;_=o[r+(a*44|0)+16>>2]|0;h=+c[f+8>>2];b=+c[f+12>>2];s=+c[f+16>>2];d=+c[u+8>>2]-h;m=+c[u+12>>2]-b;p=+c[u+16>>2]-s;h=+c[_+8>>2]-h;b=+c[_+12>>2]-b;s=+c[_+16>>2]-s;s=+v(+((d*b-m*h)*(d*b-m*h)+((m*s-p*b)*(m*s-p*b)+(p*h-d*s)*(p*h-d*s))));c[f+88>>2]=s+ +c[f+88>>2];c[u+88>>2]=s+ +c[u+88>>2];c[_+88>>2]=s+ +c[_+88>>2];a=a+1|0}while((a|0)!=(i|0))}if((l|0)<=0){f=e+924|0;n[f>>0]=1;return}i=o[e+720>>2]|0;r=0;do{f=i+(r*104|0)+88|0;c[f>>2]=1.0/+c[f>>2];r=r+1|0}while((r|0)!=(l|0))}if((l|0)<=0){f=e+924|0;n[f>>0]=1;return}r=o[e+720>>2]|0;i=0;s=0.0;do{m=+c[r+(i*104|0)+88>>2];s=s+(m>0.0?1.0/m:0.0);i=i+1|0}while((i|0)!=(l|0));s=1.0/s*t;i=0;do{f=r+(i*104|0)+88|0;c[f>>2]=+c[f>>2]/s;i=i+1|0}while((i|0)!=(l|0));f=e+924|0;n[f>>0]=1;return}function Ei(e,t){e=e|0;t=t|0;var i=0,r=0,s=0.0,a=0,l=0,_=0.0,u=0.0;i=o[t+204>>2]|0;if((i&3|0)==0?(o[t+504>>2]&1|0)==0:0){s=+c[t+344>>2];if(s!=0.0){u=1.0/s*+c[e+252>>2];_=1.0/s*+c[e+256>>2];c[t+364>>2]=1.0/s*+c[e+248>>2];c[t+368>>2]=u;c[t+372>>2]=_;c[t+376>>2]=0.0}o[t+380>>2]=o[e+248>>2];o[t+380+4>>2]=o[e+248+4>>2];o[t+380+8>>2]=o[e+248+8>>2];o[t+380+12>>2]=o[e+248+12>>2]}if(!(o[t+192>>2]|0))return;if(i&1){if((o[t+216>>2]&-2|0)==4)i=i&3;else{o[t+216>>2]=2;i=i&3}}else{r=o[e+232>>2]|0;if((r|0)==(o[e+236>>2]|0)?(l=(r|0)==0?1:r<<1,(r|0)<(l|0)):0){if(!l)i=0;else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+232>>2]|0}if((r|0)>0){a=0;do{o[i+(a<<2)>>2]=o[(o[e+240>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[e+240>>2]|0;if(a){if(n[e+244>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[e+232>>2]|0}o[e+240>>2]=0}n[e+244>>0]=1;o[e+240>>2]=i;o[e+236>>2]=l;i=o[t+204>>2]&3}else i=i&3;o[(o[e+240>>2]|0)+(r<<2)>>2]=t;o[e+232>>2]=r+1}l=(i|0)!=0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,l?2:1,l?-3:-1);return}function Si(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=r|0;var s=0,a=0.0,l=0.0;s=ae;ae=ae+240|0;ep(s+224|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],i);yc(t,s+208|0,s+192|0);ep(s+160|0,+c[s+208>>2],+c[s+208+4>>2],+c[s+208+8>>2],100.0);l=+c[s+224>>2];a=+c[s+224+4>>2];i=+c[s+224+8>>2];Eh(s+176|0,l,a,i,+c[s+160>>2],+c[s+160+4>>2],+c[s+160+8>>2]);ep(s+128|0,+c[s+208>>2],+c[s+208+4>>2],+c[s+208+8>>2],100.0);Th(s+144|0,l,a,i,+c[s+128>>2],+c[s+128+4>>2],+c[s+128+8>>2]);ep(s+96|0,+c[s+192>>2],+c[s+192+4>>2],+c[s+192+8>>2],100.0);Eh(s+112|0,l,a,i,+c[s+96>>2],+c[s+96+4>>2],+c[s+96+8>>2]);ep(s+64|0,+c[s+192>>2],+c[s+192+4>>2],+c[s+192+8>>2],100.0);Th(s+80|0,l,a,i,+c[s+64>>2],+c[s+64+4>>2],+c[s+64+8>>2]);t=o[(o[e>>2]|0)+8>>2]|0;ov(s+48|0,n,+c[s+176>>2],+c[s+176+4>>2],+c[s+176+8>>2]);ov(s+32|0,n,+c[s+144>>2],+c[s+144+4>>2],+c[s+144+8>>2]);BF[t&127](e,s+48|0,s+32|0,r);t=o[(o[e>>2]|0)+8>>2]|0;ov(s+16|0,n,+c[s+112>>2],+c[s+112+4>>2],+c[s+112+8>>2]);ov(s,n,+c[s+80>>2],+c[s+80+4>>2],+c[s+80+8>>2]);BF[t&127](e,s+16|0,s,r);ae=s;return}function Ti(e,t,i,n,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;var f=0.0,d=0.0;u=ae;ae=ae+80|0;d=+c[s+52>>2]-+c[r+52>>2];f=+c[s+56>>2]-+c[r+56>>2];c[u+56>>2]=+c[s+48>>2]-+c[r+48>>2];c[u+56+4>>2]=d;c[u+56+8>>2]=f;c[u+56+12>>2]=0.0;if(Ko(i,r,n,s,u+56|0,u,1)|0){o[l>>2]=o[u+4>>2];o[l+4>>2]=o[u+4+4>>2];o[l+8>>2]=o[u+4+8>>2];o[l+12>>2]=o[u+4+12>>2];o[_>>2]=o[u+20>>2];o[_+4>>2]=o[u+20+4>>2];o[_+8>>2]=o[u+20+8>>2];o[_+12>>2]=o[u+20+12>>2];o[a>>2]=o[u+36>>2];o[a+4>>2]=o[u+36+4>>2];o[a+8>>2]=o[u+36+8>>2];o[a+12>>2]=o[u+36+12>>2];_=1;ae=u;return _|0}if(!(er(i,r,n,s,u+56|0,u)|0)){_=0;ae=u;return _|0}o[l>>2]=o[u+4>>2];o[l+4>>2]=o[u+4+4>>2];o[l+8>>2]=o[u+4+8>>2];o[l+12>>2]=o[u+4+12>>2];o[_>>2]=o[u+20>>2];o[_+4>>2]=o[u+20+4>>2];o[_+8>>2]=o[u+20+8>>2];o[_+12>>2]=o[u+20+12>>2];o[a>>2]=o[u+36>>2];o[a+4>>2]=o[u+36+4>>2];o[a+8>>2]=o[u+36+8>>2];o[a+12>>2]=o[u+36+12>>2];_=0;ae=u;return _|0}function Ri(e,t,i,r,a,l){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;l=l|0;var _=0;if((s[r+55>>0]|0|0)==(t|0)){r=0;return r|0}_=o[6088+(a<<2)>>2]|0;if(+c[r>>2]*+c[i+16>>2]+ +c[r+4>>2]*+c[i+20>>2]+ +c[r+8>>2]*+c[i+24>>2]-+c[r+16>>2]<-9.999999747378752e-06){_=bo(e,o[r+20+(_<<2)>>2]|0,o[r+20+(a<<2)>>2]|0,i,0)|0;if(!_){r=0;return r|0}n[_+52>>0]=a;o[_+32>>2]=r;n[r+52+a>>0]=0;o[r+32+(a<<2)>>2]=_;a=o[l>>2]|0;if(!a)o[l+4>>2]=_;else{n[a+53>>0]=2;o[a+36>>2]=_;n[_+54>>0]=1;o[_+40>>2]=a}o[l>>2]=_;o[l+8>>2]=(o[l+8>>2]|0)+1;r=1;return r|0}a=o[6100+(a<<2)>>2]|0;n[r+55>>0]=t;if(!(Ri(e,t,i,o[r+32+(_<<2)>>2]|0,s[r+52+_>>0]|0,l)|0)){r=0;return r|0}if(!(Ri(e,t,i,o[r+32+(a<<2)>>2]|0,s[r+52+a>>0]|0,l)|0)){r=0;return r|0}a=o[r+48>>2]|0;if(a|0)o[a+44>>2]=o[r+44>>2];a=o[r+44>>2]|0;if(a|0)o[a+48>>2]=o[r+48>>2];if((o[e+9280>>2]|0)==(r|0))o[e+9280>>2]=o[r+48>>2];o[e+9284>>2]=(o[e+9284>>2]|0)+-1;o[r+44>>2]=0;o[r+48>>2]=o[e+9288>>2];a=o[e+9288>>2]|0;if(a|0)o[a+44>>2]=r;o[e+9288>>2]=r;o[e+9292>>2]=(o[e+9292>>2]|0)+1;r=1;return r|0}function Mi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0,l=0,_=0,u=0.0,f=0.0,d=0,h=0,p=0.0,b=0;h=ae;ae=ae+2048|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;r=+c[i>>2];s=+c[i+4>>2];n=+c[i+8>>2];if(r*r+s*s+n*n<9.999999747378752e-05){f=0.0;u=1.0;s=0.0}else{p=1.0/+v(+(r*r+s*s+n*n));f=n*p;u=r*p;s=s*p}if((dF[o[(o[t>>2]|0)+96>>2]&127](t)|0)<=0){ae=h;return}_=0;r=-999999984306749440.0;while(1){if(((dF[o[(o[t>>2]|0)+96>>2]&127](t)|0)-_|0)<128){i=(dF[o[(o[t>>2]|0)+96>>2]&127](t)|0)-_|0;if((i|0)>0)d=8;else{n=-3402823466385288598117041.0e14;i=-1}}else{i=128;d=8}if((d|0)==8){d=0;a=0;do{LF[o[(o[t>>2]|0)+108>>2]&127](t,a,h+(a<<4)|0);a=a+1|0}while((a|0)!=(i|0));l=0;n=-3402823466385288598117041.0e14;a=-1;do{p=u*+c[h+(l<<4)>>2]+s*+c[h+(l<<4)+4>>2]+f*+c[h+(l<<4)+8>>2];b=p>n;a=b?l:a;n=b?p:n;l=l+1|0}while((l|0)!=(i|0));i=a}if(n>r){b=h+(i<<4)|0;o[e>>2]=o[b>>2];o[e+4>>2]=o[b+4>>2];o[e+8>>2]=o[b+8>>2];o[e+12>>2]=o[b+12>>2]}else n=r;_=_+128|0;if((_|0)>=(dF[o[(o[t>>2]|0)+96>>2]&127](t)|0))break;else r=n}ae=h;return}function Oi(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var s=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0;c=o[e+68+(t<<2)>>2]|0;s=r[c+((i&65535)<<2)+-4>>1]|0;if((a[c+((i&65535)<<2)>>1]|0)>=(s&65535))return;l=o[e+60>>2]|0;h=l+((a[c+((i&65535)<<2)+2>>1]|0)<<6)+54+(t<<1)|0;_=c+((i&65535)<<2)|0;i=c+((i&65535)<<2)+-4|0;while(1){c=a[_+-2>>1]|0;if(!(s&1)){s=a[_+2>>1]|0;if(((((a[l+(s<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[l+(c<<6)+48+((1<<t&3)<<1)>>1]|0)?(a[l+(c<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<t&3)<<1)>>1]|0):0)?(a[l+(s<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[l+(c<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(a[l+(c<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(d=o[e+92>>2]|0,u=l+(s<<6)|0,f=l+(c<<6)|0,AF[o[(o[d>>2]|0)+12>>2]&31](d,u,f,n)|0,d=o[e+96>>2]|0,d|0):0)AF[o[(o[d>>2]|0)+12>>2]&31](d,u,f,n)|0;s=l+(c<<6)+48+(t<<1)|0}else s=l+(c<<6)+54+(t<<1)|0;r[s>>1]=(r[s>>1]|0)+1<<16>>16;r[h>>1]=(r[h>>1]|0)+-1<<16>>16;c=a[_>>1]|a[_+2>>1]<<16;s=a[i>>1]|a[i+2>>1]<<16;r[_>>1]=s;r[_+2>>1]=s>>>16;r[i>>1]=c;r[i+2>>1]=c>>>16;c=_+-4|0;i=i+-4|0;s=r[i>>1]|0;if((a[c>>1]|0)>=(s&65535))break;l=o[e+60>>2]|0;_=c}return}function Ii(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var s=0,c=0,l=0,_=0,u=0,f=0,d=0;c=o[e+68+(t<<2)>>2]|0;s=r[c+((i&65535)<<2)+6>>1]|0;if(!(s<<16>>16))return;d=(o[e+60>>2]|0)+((a[c+((i&65535)<<2)+2>>1]|0)<<6)+48+(t<<1)|0;_=c+((i&65535)<<2)|0;while(1){u=_;_=_+4|0;c=r[_>>1]|0;if((a[u>>1]|0)<(c&65535)){s=14;break}l=o[e+60>>2]|0;i=s&65535;if(!(c&1))s=l+(i<<6)+48+(t<<1)|0;else{s=a[u+2>>1]|0;if(((((a[l+(s<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[l+(i<<6)+48+((1<<t&3)<<1)>>1]|0)?(a[l+(i<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<t&3)<<1)>>1]|0):0)?(a[l+(s<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[l+(i<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(a[l+(i<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(f=o[e+92>>2]|0,AF[o[(o[f>>2]|0)+12>>2]&31](f,l+(s<<6)|0,l+(i<<6)|0,n)|0,f=o[e+96>>2]|0,f|0):0)AF[o[(o[f>>2]|0)+12>>2]&31](f,l+(s<<6)|0,l+(i<<6)|0,n)|0;s=l+(i<<6)+54+(t<<1)|0}r[s>>1]=(r[s>>1]|0)+-1<<16>>16;r[d>>1]=(r[d>>1]|0)+1<<16>>16;s=a[u>>1]|a[u+2>>1]<<16;l=a[_>>1]|a[_+2>>1]<<16;r[u>>1]=l;r[u+2>>1]=l>>>16;r[_>>1]=s;r[_+2>>1]=s>>>16;s=r[u+10>>1]|0;if(!(s<<16>>16)){s=14;break}}if((s|0)==14)return}function xi(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0.0,l=0,_=0,u=0,f=0.0,d=0.0;s=o[t+204>>2]|0;if((s&3|0)==0?(o[t+504>>2]&1|0)==0:0){a=+c[t+344>>2];if(a!=0.0){d=1.0/a*+c[e+252>>2];f=1.0/a*+c[e+256>>2];c[t+364>>2]=1.0/a*+c[e+248>>2];c[t+368>>2]=d;c[t+372>>2]=f;c[t+376>>2]=0.0}o[t+380>>2]=o[e+248>>2];o[t+380+4>>2]=o[e+248+4>>2];o[t+380+8>>2]=o[e+248+8>>2];o[t+380+12>>2]=o[e+248+12>>2]}if(!(o[t+192>>2]|0))return;if(s&1){if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=2}else{s=o[e+232>>2]|0;if((s|0)==(o[e+236>>2]|0)?(u=(s|0)==0?1:s<<1,(s|0)<(u|0)):0){if(!u)l=0;else{o[6747]=(o[6747]|0)+1;s=Do((u<<2|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[e+232>>2]|0}if((s|0)>0){_=0;do{o[l+(_<<2)>>2]=o[(o[e+240>>2]|0)+(_<<2)>>2];_=_+1|0}while((_|0)!=(s|0))}_=o[e+240>>2]|0;if(_){if(n[e+244>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);s=o[e+232>>2]|0}o[e+240>>2]=0}n[e+244>>0]=1;o[e+240>>2]=l;o[e+236>>2]=u}o[(o[e+240>>2]|0)+(s<<2)>>2]=t;o[e+232>>2]=s+1}BF[o[(o[e>>2]|0)+36>>2]&127](e,t,i,r);return}function Pi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,s=0,c=0,l=0,_=0,u=0,f=0,d=0;s=o[e+68+(t<<2)>>2]|0;_=o[e+60>>2]|0;d=a[s+((i&65535)<<2)+2>>1]|0;n=r[s+((i&65535)<<2)+6>>1]|0;if(!(n<<16>>16))return;c=s+((i&65535)<<2)|0;while(1){l=c;c=c+4|0;s=r[c>>1]|0;if((a[l>>1]|0)<(s&65535)){n=14;break}i=o[e+60>>2]|0;n=n&65535;if(!(s&1)){if(((((a[_+(d<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[i+(n<<6)+48+((1<<t&3)<<1)>>1]|0)?(a[i+(n<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[_+(d<<6)+48+((1<<t&3)<<1)>>1]|0):0)?(a[_+(d<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[i+(n<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(a[i+(n<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[_+(d<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(f=o[e+92>>2]|0,u=i+((a[l+2>>1]|0)<<6)|0,mF[o[(o[f>>2]|0)+8>>2]&63](f,u,i+(n<<6)|0)|0,f=o[e+96>>2]|0,f|0):0)mF[o[(o[f>>2]|0)+8>>2]&63](f,u,i+(n<<6)|0)|0;n=i+(n<<6)+48+(t<<1)|0}else n=i+(n<<6)+54+(t<<1)|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[_+(d<<6)+54+(t<<1)>>1]=(r[_+(d<<6)+54+(t<<1)>>1]|0)+1<<16>>16;n=a[l>>1]|a[l+2>>1]<<16;i=a[c>>1]|a[c+2>>1]<<16;r[l>>1]=i;r[l+2>>1]=i>>>16;r[c>>1]=n;r[c+2>>1]=n>>>16;n=r[l+10>>1]|0;if(!(n<<16>>16)){n=14;break}}if((n|0)==14)return}function Di(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0;h=(+c[e+32>>2]-+c[e+16>>2])*.5;u=(+c[e+36>>2]-+c[e+20>>2])*.5;a=(+c[e+40>>2]-+c[e+24>>2])*.5;d=+nF[o[(o[e>>2]|0)+48>>2]&15](e);_=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=a+ +nF[o[(o[e>>2]|0)+48>>2]&15](e);O=(+c[e+32>>2]+ +c[e+16>>2])*.5;R=(+c[e+36>>2]+ +c[e+20>>2])*.5;S=(+c[e+40>>2]+ +c[e+24>>2])*.5;D=+c[t>>2];E=+y(+D);P=+c[t+4>>2];C=+y(+P);g=+c[t+8>>2];v=+y(+g);x=+c[t+16>>2];A=+y(+x);I=+c[t+20>>2];m=+y(+I);p=+c[t+24>>2];b=+y(+p);M=+c[t+32>>2];f=+y(+M);T=+c[t+36>>2];l=+y(+T);r=+c[t+40>>2];s=+y(+r);g=O*D+R*P+S*g+ +c[t+48>>2];p=O*x+R*I+S*p+ +c[t+52>>2];r=O*M+R*T+S*r+ +c[t+56>>2];c[i>>2]=g-((h+d)*E+(u+_)*C+a*v);c[i+4>>2]=p-((h+d)*A+(u+_)*m+a*b);c[i+8>>2]=r-((h+d)*f+(u+_)*l+a*s);c[i+12>>2]=0.0;c[n>>2]=(h+d)*E+(u+_)*C+a*v+g;c[n+4>>2]=(h+d)*A+(u+_)*m+a*b+p;c[n+8>>2]=(h+d)*f+(u+_)*l+a*s+r;c[n+12>>2]=0.0;return}function wi(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0,w=0.0,L=0.0;L=+c[e+48>>2];R=+c[e+32>>2];w=+c[e+52>>2];S=+c[e+36>>2];P=+c[e+56>>2];C=+c[e+40>>2];D=(o[e+16>>2]|0)==0;f=+nF[o[(o[e>>2]|0)+48>>2]&15](e);_=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);f=(D?0.0:(L-R)*.5)+f;_=(D?0.0:(w-S)*.5)+_;a=(D?0.0:(P-C)*.5)+a;x=+c[t>>2];v=+y(+x);I=+c[t+4>>2];g=+y(+I);m=+c[t+8>>2];A=+y(+m);O=+c[t+16>>2];b=+y(+O);M=+c[t+20>>2];p=+y(+M);d=+c[t+24>>2];h=+y(+d);T=+c[t+32>>2];u=+y(+T);E=+c[t+36>>2];l=+y(+E);r=+c[t+40>>2];s=+y(+r);R=D?0.0:(L+R)*.5;S=D?0.0:(w+S)*.5;C=D?0.0:(P+C)*.5;m=R*x+S*I+C*m+ +c[t+48>>2];d=R*O+S*M+C*d+ +c[t+52>>2];r=R*T+S*E+C*r+ +c[t+56>>2];c[i>>2]=m-(f*v+_*g+a*A);c[i+4>>2]=d-(f*b+_*p+a*h);c[i+8>>2]=r-(f*u+_*l+a*s);c[i+12>>2]=0.0;c[n>>2]=f*v+_*g+a*A+m;c[n+4>>2]=f*b+_*p+a*h+d;c[n+8>>2]=f*u+_*l+a*s+r;c[n+12>>2]=0.0;return}function Li(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,s=0,c=0,l=0,_=0,u=0,f=0,d=0;s=o[e+68+(t<<2)>>2]|0;_=o[e+60>>2]|0;d=a[s+((i&65535)<<2)+2>>1]|0;n=r[s+((i&65535)<<2)+-4>>1]|0;if((a[s+((i&65535)<<2)>>1]|0)>=(n&65535))return;l=_;c=s+((i&65535)<<2)|0;i=s+((i&65535)<<2)+-4|0;while(1){s=a[c+-2>>1]|0;if(!(n&1))n=l+(s<<6)+48+(t<<1)|0;else{if(((((a[_+(d<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<t&3)<<1)>>1]|0)?(a[l+(s<<6)+54+((1<<t&3)<<1)>>1]|0)>=(a[_+(d<<6)+48+((1<<t&3)<<1)>>1]|0):0)?(a[_+(d<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[l+(s<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(a[l+(s<<6)+54+((1<<(1<<t&3)&3)<<1)>>1]|0)>=(a[_+(d<<6)+48+((1<<(1<<t&3)&3)<<1)>>1]|0):0)?(f=o[e+92>>2]|0,u=l+(s<<6)|0,mF[o[(o[f>>2]|0)+8>>2]&63](f,_+(d<<6)|0,u)|0,f=o[e+96>>2]|0,f|0):0)mF[o[(o[f>>2]|0)+8>>2]&63](f,_+(d<<6)|0,u)|0;n=l+(s<<6)+54+(t<<1)|0}r[n>>1]=(r[n>>1]|0)+1<<16>>16;r[_+(d<<6)+48+(t<<1)>>1]=(r[_+(d<<6)+48+(t<<1)>>1]|0)+-1<<16>>16;s=a[c>>1]|a[c+2>>1]<<16;n=a[i>>1]|a[i+2>>1]<<16;r[c>>1]=n;r[c+2>>1]=n>>>16;r[i>>1]=s;r[i+2>>1]=s>>>16;s=c+-4|0;i=i+-4|0;n=r[i>>1]|0;if((a[s>>1]|0)>=(n&65535))break;l=o[e+60>>2]|0;c=s}return}function Fi(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0,o=0,s=0,a=0,l=0;o=ae;ae=ae+16|0;i=+c[(JL(e)|0)>>2];n=+c[(xL(e+16|0)|0)>>2];r=+c[(IL(e+32|0)|0)>>2];if(i+n+r>0.0){r=+kL(i+n+r+1.0);c[o+12>>2]=r*.5;n=+c[(xL(e+32|0)|0)>>2];c[o>>2]=(n-+c[(IL(e+16|0)|0)>>2])*(.5/r);n=+c[(IL(e)|0)>>2];c[o+4>>2]=(n-+c[(JL(e+32|0)|0)>>2])*(.5/r);n=+c[(JL(e+16|0)|0)>>2];c[o+8>>2]=(n-+c[(xL(e)|0)>>2])*(.5/r);l=o;a=o+4|0;s=o+8|0;e=o+12|0;Mb(t,l,a,s,e);ae=o;return}else{s=i<n?n<r?2:1:i<r?2:0;a=JL(e+(s<<4)|0)|0;r=+c[a+(s<<2)>>2];l=JL(e+((((s+1|0)>>>0)%3|0)<<4)|0)|0;r=r-+c[l+((((s+1|0)>>>0)%3|0)<<2)>>2];e=JL(e+((((s+2|0)>>>0)%3|0)<<4)|0)|0;r=+kL(r-+c[e+((((s+2|0)>>>0)%3|0)<<2)>>2]+1.0);c[o+(s<<2)>>2]=r*.5;c[o+12>>2]=(+c[e+((((s+1|0)>>>0)%3|0)<<2)>>2]-+c[l+((((s+2|0)>>>0)%3|0)<<2)>>2])*(.5/r);c[o+((((s+1|0)>>>0)%3|0)<<2)>>2]=(+c[l+(s<<2)>>2]+ +c[a+((((s+1|0)>>>0)%3|0)<<2)>>2])*(.5/r);c[o+((((s+2|0)>>>0)%3|0)<<2)>>2]=(+c[e+(s<<2)>>2]+ +c[a+((((s+2|0)>>>0)%3|0)<<2)>>2])*(.5/r);e=o;s=o+4|0;a=o+8|0;l=o+12|0;Mb(t,e,s,a,l);ae=o;return}}function Ni(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0;r=o[e+212>>2]|0;e:do{if((r|0)>0){s=o[e+220>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0))break e}if((i|0)<(r|0)){o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+220>>2]|0)+(r+-1<<2)>>2]=t;o[e+212>>2]=r+-1}}}while(0);e=o[t+28>>2]|0;i=o[e+488>>2]|0;e:do{if((i|0)>0){s=o[e+496>>2]|0;n=0;while(1){r=s+(n<<2)|0;if((o[r>>2]|0)==(t|0))break;n=n+1|0;if((n|0)>=(i|0))break e}if((n|0)<(i|0)){o[r>>2]=o[s+(i+-1<<2)>>2];o[(o[e+496>>2]|0)+(i+-1<<2)>>2]=t;o[e+488>>2]=i+-1;i=i+-1|0}}}while(0);o[e+256>>2]=(i|0)>0&1;e=o[t+32>>2]|0;i=o[e+488>>2]|0;if((i|0)<=0){t=i;t=(t|0)>0;t=t&1;a=e+256|0;o[a>>2]=t;return}s=o[e+496>>2]|0;n=0;while(1){r=s+(n<<2)|0;if((o[r>>2]|0)==(t|0))break;n=n+1|0;if((n|0)>=(i|0)){a=19;break}}if((a|0)==19){t=(i|0)>0;t=t&1;a=e+256|0;o[a>>2]=t;return}if((n|0)>=(i|0)){t=i;t=(t|0)>0;t=t&1;a=e+256|0;o[a>>2]=t;return}o[r>>2]=o[s+(i+-1<<2)>>2];o[(o[e+496>>2]|0)+(i+-1<<2)>>2]=t;o[e+488>>2]=i+-1;t=i+-1|0;t=(t|0)>0;t=t&1;a=e+256|0;o[a>>2]=t;return}function Bi(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0;l=dF[o[(o[e>>2]|0)+28>>2]&127](e)|0;a=+c[l>>2]-+c[t>>2];s=+c[l+4>>2]-+c[t+4>>2];r=+c[l+8>>2]-+c[t+8>>2];if(!(a*a+s*s+r*r>1.1920928955078125e-07))return;si(e,t);if((n[e+61>>0]|0)!=0?(i=o[e+52>>2]|0,SF[o[o[i>>2]>>2]&511](i),i=o[e+52>>2]|0,(i|0)!=0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);t=e+52|0}else t=e+52|0;o[6747]=(o[6747]|0)+1;i=Do(191)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i+52>>2]=282;n[i+60>>0]=0;n[i+80>>0]=1;o[i+76>>2]=0;o[i+68>>2]=0;o[i+72>>2]=0;n[i+100>>0]=1;o[i+96>>2]=0;o[i+88>>2]=0;o[i+92>>2]=0;n[i+120>>0]=1;o[i+116>>2]=0;o[i+108>>2]=0;o[i+112>>2]=0;n[i+140>>0]=1;o[i+136>>2]=0;o[i+128>>2]=0;o[i+132>>2]=0;o[i+144>>2]=0;n[i+164>>0]=1;o[i+160>>2]=0;o[i+152>>2]=0;o[i+156>>2]=0;o[i+168>>2]=0;o[i+4>>2]=-8388609;o[i+8>>2]=-8388609;o[i+12>>2]=-8388609;c[i+16>>2]=0.0;o[i+20>>2]=2139095039;o[i+24>>2]=2139095039;o[i+28>>2]=2139095039;c[i+32>>2]=0.0;o[i>>2]=9292;o[t>>2]=i;Ss(i,o[e+48>>2]|0,(n[e+60>>0]|0)!=0,e+16|0,e+32|0);n[e+61>>0]=1;return}function ki(e,t){e=e|0;t=t|0;var i=0.0,r=0.0;if(n[e+1309>>0]|0){i=(+c[e+1256>>2]-+c[e+1316>>2])*+c[e+1340>>2];c[e+792>>2]=i*(+c[t>>2]*+c[e+1364>>2]/+(o[t+48>>2]|0));i=+y(+i);c[e+808>>2]=i/+c[t>>2]}if(n[e+1310>>0]|0){i=(+c[e+1260>>2]-+c[e+1320>>2])*+c[e+1344>>2];c[e+796>>2]=i*(+c[t>>2]*+c[e+1368>>2]/+(o[t+48>>2]|0));i=+y(+i);c[e+812>>2]=i/+c[t>>2]}if(n[e+1311>>0]|0){i=(+c[e+1264>>2]-+c[e+1324>>2])*+c[e+1348>>2];c[e+800>>2]=i*(+c[t>>2]*+c[e+1372>>2]/+(o[t+48>>2]|0));i=+y(+i);c[e+816>>2]=i/+c[t>>2]}if(n[e+1312>>0]|0){r=-((+c[e+1192>>2]-+c[e+1328>>2])*+c[e+1352>>2]);i=+c[t>>2];c[e+876>>2]=i*+c[e+1376>>2]/+(o[t+48>>2]|0)*r;c[e+880>>2]=+y(+r)/i}if(n[e+1313>>0]|0){i=-((+c[e+1196>>2]-+c[e+1332>>2])*+c[e+1356>>2]);r=+c[t>>2];c[e+940>>2]=r*+c[e+1380>>2]/+(o[t+48>>2]|0)*i;c[e+944>>2]=+y(+i)/r}if(!(n[e+1314>>0]|0)){vc(e,t);return}i=-((+c[e+1200>>2]-+c[e+1336>>2])*+c[e+1360>>2]);r=+c[t>>2];c[e+1004>>2]=r*+c[e+1384>>2]/+(o[t+48>>2]|0)*i;c[e+1008>>2]=+y(+i)/r;vc(e,t);return}function Ui(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0.0,a=0.0,l=0.0;n=ae;ae=ae+160|0;o[n+136>>2]=0;o[n+136+4>>2]=0;o[n+136+8>>2]=0;o[n+136+12>>2]=0;o[n+136+16>>2]=0;o[n+32>>2]=8220;r=n+32+4|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[n+32+20>>2]=1065353216;o[n+32+24>>2]=0;o[n+32+24+4>>2]=0;o[n+32+24+8>>2]=0;o[n+32+24+12>>2]=0;o[n+32+40>>2]=1065353216;o[n+32+44>>2]=0;o[n+32+44+4>>2]=0;o[n+32+44+8>>2]=0;o[n+32+44+12>>2]=0;o[n+32+60>>2]=1065353216;o[n+32+64>>2]=0;o[n+32+68>>2]=o[n+136+4>>2];o[n+32+68+4>>2]=o[n+136+4+4>>2];o[n+32+68+8>>2]=o[n+136+4+8>>2];o[n+32+68+12>>2]=o[n+136+4+12>>2];c[n+32+84>>2]=-999999984306749440.0;l=+c[i>>2];a=+c[i+4>>2];s=+c[i+8>>2];c[n+32+88>>2]=l+a*0.0+s*0.0;c[n+32+92>>2]=l*0.0+a+s*0.0;c[n+32+96>>2]=l*0.0+a*0.0+s;c[n+32+100>>2]=0.0;o[n+16>>2]=1566444395;o[n+16+4>>2]=1566444395;o[n+16+8>>2]=1566444395;c[n+16+12>>2]=0.0;i=o[(o[t>>2]|0)+64>>2]|0;c[n>>2]=-999999984306749440.0;c[n+4>>2]=-999999984306749440.0;c[n+8>>2]=-999999984306749440.0;c[n+12>>2]=0.0;BF[i&127](t,n+32|0,n,n+16|0);o[e>>2]=o[r>>2];o[e+4>>2]=o[r+4>>2];o[e+8>>2]=o[r+8>>2];o[e+12>>2]=o[r+12>>2];ae=n;return}function Hi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0;p=ae;ae=ae+16|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;n=+c[i>>2];r=+c[i+4>>2];s=+c[i+8>>2];if(n*n+r*r+s*s<9.999999747378752e-05){h=1.0;d=0.0;f=0.0}else{f=1.0/+v(+(n*n+r*r+s*s));h=n*f;d=r*f;f=s*f}i=o[t+52>>2]|0;u=+c[t+28+(((i+2|0)%3|0)<<2)>>2];o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[p+(i<<2)>>2]=o[t+28+(i<<2)>>2];l=h*u;_=d*u;u=f*u;r=l+ +c[p>>2];a=_+ +c[p+4>>2];n=u+ +c[p+8>>2];s=+nF[o[(o[t>>2]|0)+48>>2]&15](t);r=r-h*s;a=a-d*s;s=n-f*s;n=f*s+(h*r+d*a);if(n>-999999984306749440.0){c[e>>2]=r;c[e+4>>2]=a;c[e+8>>2]=s;c[e+12>>2]=0.0;a=n}else a=-999999984306749440.0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;i=o[t+52>>2]|0;c[p+(i<<2)>>2]=-+c[t+28+(i<<2)>>2];n=l+ +c[p>>2];s=_+ +c[p+4>>2];u=u+ +c[p+8>>2];r=+nF[o[(o[t>>2]|0)+48>>2]&15](t);n=n-h*r;s=s-d*r;r=u-f*r;if(!(f*r+(h*n+d*s)>a)){ae=p;return}c[e>>2]=n;c[e+4>>2]=s;c[e+8>>2]=r;c[e+12>>2]=0.0;ae=p;return}function ji(e,t,i,n,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;s=+s;a=+a;l=+l;_=+_;u=+u;var f=0;f=ae;ae=ae+128|0;o[f+80>>2]=o[e+4>>2];o[f+80+4>>2]=o[e+20>>2];o[f+80+8>>2]=o[e+36>>2];c[f+80+12>>2]=0.0;o[f+80+16>>2]=o[e+8>>2];o[f+80+20>>2]=o[e+24>>2];o[f+80+24>>2]=o[e+40>>2];c[f+80+28>>2]=0.0;o[f+80+32>>2]=o[e+12>>2];o[f+80+36>>2]=o[e+28>>2];o[f+80+40>>2]=o[e+44>>2];c[f+80+44>>2]=0.0;o[f+32>>2]=o[t+4>>2];o[f+32+4>>2]=o[t+20>>2];o[f+32+8>>2]=o[t+36>>2];c[f+32+12>>2]=0.0;o[f+32+16>>2]=o[t+8>>2];o[f+32+20>>2]=o[t+24>>2];o[f+32+24>>2]=o[t+40>>2];c[f+32+28>>2]=0.0;o[f+32+32>>2]=o[t+12>>2];o[f+32+36>>2]=o[t+28>>2];o[f+32+40>>2]=o[t+44>>2];c[f+32+44>>2]=0.0;s=s-+c[e+56>>2];a=a-+c[e+60>>2];c[f+16>>2]=r-+c[e+52>>2];c[f+16+4>>2]=s;c[f+16+8>>2]=a;c[f+16+12>>2]=0.0;_=_-+c[t+56>>2];u=u-+c[t+60>>2];c[f>>2]=l-+c[t+52>>2];c[f+4>>2]=_;c[f+8>>2]=u;c[f+12>>2]=0.0;ti(i,f+80|0,f+32|0,f+16|0,f,n,e+396|0,+c[e+344>>2],t+396|0,+c[t+344>>2]);ae=f;return}function Vi(e){e=e|0;var t=0,i=0;if(!e)return;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;t=o[e+12>>2]|0;do{if(t){if(!(n[e+16>>0]|0)){n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;t=e+8|0;i=14;break}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+32>>2]|0;n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;if(t){if(!(n[e+36>>0]|0)){n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;t=e+8|0;break}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+12>>2]|0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;if(!t)t=e+8|0;else{if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+12>>2]=0;t=e+8|0}}else{t=e+8|0;i=14}}else{n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;t=e+8|0;i=14}}while(0);if((i|0)==14){n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0}n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[t>>2]=0;CE(e);return}function Gi(e,t,i,n,r){e=e|0;t=+t;i=+i;n=+n;r=r|0;var s=0,a=0,l=0,_=0,u=0.0,f=0.0;l=ae;ae=ae+48|0;u=1.0/+v(+(t*t+i*i+n*n));c[r>>2]=u*t;c[r+4>>2]=u*i;c[r+8>>2]=u*n;c[r+12>>2]=0.0;s=o[e+120>>2]|0;_=o[e+124>>2]|0;a=(o[e>>2]|0)+(1?_>>1:_)|0;if(_&1)s=o[(o[a>>2]|0)+s>>2]|0;LF[s&127](l,a,r);t=-+c[r>>2];i=-+c[r+4>>2];n=-+c[r+8>>2];s=o[e+120>>2]|0;_=o[e+124>>2]|0;a=(o[e+4>>2]|0)+(1?_>>1:_)|0;if(_&1)s=o[(o[a>>2]|0)+s>>2]|0;u=+c[e+24>>2]*t+ +c[e+28>>2]*i+ +c[e+32>>2]*n;f=+c[e+40>>2]*t+ +c[e+44>>2]*i+ +c[e+48>>2]*n;c[l+16>>2]=+c[e+8>>2]*t+ +c[e+12>>2]*i+ +c[e+16>>2]*n;c[l+16+4>>2]=u;c[l+16+8>>2]=f;c[l+16+12>>2]=0.0;LF[s&127](l+32|0,a,l+16|0);f=+c[l+32>>2];t=+c[l+32+4>>2];i=+c[l+32+8>>2];n=+c[l+4>>2]-(f*+c[e+72>>2]+t*+c[e+76>>2]+i*+c[e+80>>2]+ +c[e+108>>2]);u=+c[l+8>>2]-(f*+c[e+88>>2]+t*+c[e+92>>2]+i*+c[e+96>>2]+ +c[e+112>>2]);c[r+16>>2]=+c[l>>2]-(f*+c[e+56>>2]+t*+c[e+60>>2]+i*+c[e+64>>2]+ +c[e+104>>2]);c[r+20>>2]=n;c[r+24>>2]=u;c[r+28>>2]=0.0;ae=l;return}function Wi(e,t,i,n,r,o,s,a,l,_,u,f,d,h){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;a=+a;l=+l;_=+_;u=+u;f=+f;d=+d;h=+h;var p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0;b=(l-o)*(d-s)-(_-s)*(f-o);m=(_-s)*(u-r)-(a-r)*(d-s);A=(a-r)*(f-o)-(l-o)*(u-r);if(+y(+(A*n+(b*t+m*i)))<1.1920928955078125e-07){A=-1.0;return+A}g=+c[e>>2];C=+c[e+4>>2];v=+c[e+8>>2];p=-(b*g+m*C+A*v-(A*s+(b*r+m*o)))/(A*n+(b*t+m*i));if(((p>1.1920928955078125e-06&p<h?A*((l-(C+p*i))*(r-(g+p*t))-(o-(C+p*i))*(a-(g+p*t)))+(b*((o-(C+p*i))*(_-(v+p*n))-(s-(v+p*n))*(l-(C+p*i)))+m*((s-(v+p*n))*(a-(g+p*t))-(_-(v+p*n))*(r-(g+p*t))))>-1.1920928955078125e-06:0)?A*((f-(C+p*i))*(a-(g+p*t))-(l-(C+p*i))*(u-(g+p*t)))+(b*((l-(C+p*i))*(d-(v+p*n))-(_-(v+p*n))*(f-(C+p*i)))+m*((_-(v+p*n))*(u-(g+p*t))-(d-(v+p*n))*(a-(g+p*t))))>-1.1920928955078125e-06:0)?A*((o-(C+p*i))*(u-(g+p*t))-(f-(C+p*i))*(r-(g+p*t)))+(b*((f-(C+p*i))*(s-(v+p*n))-(d-(v+p*n))*(o-(C+p*i)))+m*((d-(v+p*n))*(r-(g+p*t))-(s-(v+p*n))*(u-(g+p*t))))>-1.1920928955078125e-06:0){C=p;return+C}C=-1.0;return+C}function Xi(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;n=o[t>>2]|0;if((n|0)==(o[e+80>>2]|0)){a=1.0;return+a}if(o[n+204>>2]&4|0){a=1.0;return+a}if(i){r=+c[t+8>>2];s=+c[t+12>>2];a=+c[t+16>>2]}else{_=+c[t+8>>2];l=+c[t+12>>2];a=+c[t+16>>2];r=+c[n+4>>2]*_+ +c[n+8>>2]*l+ +c[n+12>>2]*a;s=_*+c[n+20>>2]+l*+c[n+24>>2]+a*+c[n+28>>2];a=_*+c[n+36>>2]+l*+c[n+40>>2]+a*+c[n+44>>2]}if(r*+c[e+84>>2]+s*+c[e+88>>2]+a*+c[e+92>>2]<+c[e+100>>2]){_=1.0;return+_}o[e+4>>2]=o[t+40>>2];o[e+76>>2]=n;if(i){o[e+44>>2]=o[t+8>>2];o[e+44+4>>2]=o[t+8+4>>2];o[e+44+8>>2]=o[t+8+8>>2];o[e+44+12>>2]=o[t+8+12>>2]}else{r=+c[t+8>>2];s=+c[t+12>>2];a=+c[t+16>>2];l=r*+c[n+20>>2]+s*+c[n+24>>2]+a*+c[n+28>>2];_=r*+c[n+36>>2]+s*+c[n+40>>2]+a*+c[n+44>>2];c[e+44>>2]=+c[n+4>>2]*r+ +c[n+8>>2]*s+ +c[n+12>>2]*a;c[e+48>>2]=l;c[e+52>>2]=_;c[e+56>>2]=0.0}o[e+60>>2]=o[t+24>>2];o[e+60+4>>2]=o[t+24+4>>2];o[e+60+8>>2]=o[t+24+8>>2];o[e+60+12>>2]=o[t+24+12>>2];_=+c[t+40>>2];return+_}function zi(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0;if(n[e+165>>0]|0){if((o[e+92>>2]|0)>=(t|0))return;if((t|0)!=0?(o[6747]=(o[6747]|0)+1,r=Do((t<<4|3)+16|0)|0,(r|0)!=0):0){o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}else s=0;i=o[e+88>>2]|0;if((i|0)>0){r=0;do{c=s+(r<<4)|0;a=(o[e+96>>2]|0)+(r<<4)|0;o[c>>2]=o[a>>2];o[c+4>>2]=o[a+4>>2];o[c+8>>2]=o[a+8>>2];o[c+12>>2]=o[a+12>>2];r=r+1|0}while((r|0)!=(i|0))}i=o[e+96>>2]|0;if(i|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=s;o[e+92>>2]=t;return}if((o[e+112>>2]|0)>=(t|0))return;if((t|0)!=0?(o[6747]=(o[6747]|0)+1,i=Do((t<<2|3)+16|0)|0,(i|0)!=0):0){o[(i+4+15&-16)+-4>>2]=i;a=i+4+15&-16}else a=0;r=o[e+108>>2]|0;s=o[e+116>>2]|0;if((r|0)<=0){if(!s)i=e+120|0;else c=23}else{i=0;do{o[a+(i<<2)>>2]=o[s+(i<<2)>>2];i=i+1|0}while((i|0)!=(r|0));c=23}if((c|0)==23){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+116>>2]=0;i=e+120|0}n[i>>0]=1;o[e+116>>2]=a;o[e+112>>2]=t;return}function Yi(e,t,i,n,r,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;if(!(o[c+44>>2]|0))return;t=o[c+20>>2]|0;if(!(o[c+64>>2]&256)){if((t|0)<=0)return;l=0;do{s=o[e+28>>2]|0;if((s|0)>0){t=0;do{r=o[(o[e+116>>2]|0)+(t<<2)>>2]|0;a=o[e+36>>2]|0;i=o[e+16>>2]|0;Bt(i+((o[a+(r*152|0)+144>>2]|0)*244|0)|0,i+((o[a+(r*152|0)+148>>2]|0)*244|0)|0,a+(r*152|0)|0);t=t+1|0}while((t|0)!=(s|0));t=o[c+20>>2]|0}l=l+1|0}while((l|0)<(t|0));return}else{if((t|0)<=0)return;l=0;do{s=o[e+28>>2]|0;if((s|0)>0){t=0;do{r=o[(o[e+116>>2]|0)+(t<<2)>>2]|0;a=o[e+36>>2]|0;i=o[e+16>>2]|0;Bt(i+((o[a+(r*152|0)+144>>2]|0)*244|0)|0,i+((o[a+(r*152|0)+148>>2]|0)*244|0)|0,a+(r*152|0)|0);t=t+1|0}while((t|0)!=(s|0));t=o[c+20>>2]|0}l=l+1|0}while((l|0)<(t|0));return}}function Qi(e,t){e=e|0;t=t|0;var i=0,s=0,a=0,c=0,l=0;if(!(n[e+164>>0]|0)){if((o[e+152>>2]|0)>=(t|0))return;if((t|0)!=0?(o[6747]=(o[6747]|0)+1,i=Do((t<<1)+19|0)|0,(i|0)!=0):0){o[(i+4+15&-16)+-4>>2]=i;c=i+4+15&-16}else c=0;s=o[e+148>>2]|0;a=o[e+156>>2]|0;if((s|0)<=0){if(!a)i=e+160|0;else l=24}else{i=0;do{r[c+(i<<1)>>1]=r[a+(i<<1)>>1]|0;i=i+1|0}while((i|0)!=(s|0));l=24}if((l|0)==24){if(n[e+160>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+156>>2]=0;i=e+160|0}n[i>>0]=1;o[e+156>>2]=c;o[e+152>>2]=t;return}else{if((o[e+132>>2]|0)>=(t|0))return;if((t|0)!=0?(o[6747]=(o[6747]|0)+1,s=Do((t<<2|3)+16|0)|0,(s|0)!=0):0){o[(s+4+15&-16)+-4>>2]=s;c=s+4+15&-16}else c=0;s=o[e+128>>2]|0;a=o[e+136>>2]|0;if((s|0)<=0){if(!a)i=e+140|0;else l=11}else{i=0;do{o[c+(i<<2)>>2]=o[a+(i<<2)>>2];i=i+1|0}while((i|0)!=(s|0));l=11}if((l|0)==11){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+136>>2]=0;i=e+140|0}n[i>>0]=1;o[e+136>>2]=c;o[e+132>>2]=t;return}}function Ki(e,t,i){e=e|0;t=t|0;i=i|0;sn(e,t,i)|0;o[t+52>>2]=o[e+300>>2];o[t+56>>2]=o[e+304>>2];o[t+60>>2]=o[e+308>>2];o[t+64>>2]=o[e+312>>2];o[t+68>>2]=o[e+316>>2];o[t+72>>2]=o[e+320>>2];o[t+76>>2]=o[e+324>>2];o[t+80>>2]=o[e+328>>2];o[t+84>>2]=o[e+332>>2];o[t+88>>2]=o[e+336>>2];o[t+92>>2]=o[e+340>>2];o[t+96>>2]=o[e+344>>2];o[t+100>>2]=o[e+348>>2];o[t+104>>2]=o[e+352>>2];o[t+108>>2]=o[e+356>>2];o[t+112>>2]=o[e+360>>2];o[t+116>>2]=o[e+364>>2];o[t+120>>2]=o[e+368>>2];o[t+124>>2]=o[e+372>>2];o[t+128>>2]=o[e+376>>2];o[t+132>>2]=o[e+380>>2];o[t+136>>2]=o[e+384>>2];o[t+140>>2]=o[e+388>>2];o[t+144>>2]=o[e+392>>2];o[t+148>>2]=o[e+396>>2];o[t+152>>2]=o[e+400>>2];o[t+156>>2]=o[e+404>>2];o[t+160>>2]=o[e+408>>2];o[t+164>>2]=o[e+412>>2];o[t+168>>2]=o[e+416>>2];o[t+172>>2]=o[e+420>>2];o[t+176>>2]=o[e+424>>2];o[t+180>>2]=o[e+444>>2];o[t+184>>2]=o[e+448>>2];o[t+188>>2]=o[e+452>>2];o[t+192>>2]=o[e+428>>2];o[t+196>>2]=o[e+432>>2];o[t+200>>2]=o[e+436>>2];o[t+204>>2]=o[e+440>>2];return 15359}function Zi(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0;o[6747]=(o[6747]|0)+1;s=Do(55)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}o[l>>2]=t;o[l+4>>2]=i;o[l+8>>2]=r;o[l+12>>2]=-1;o[l+16>>2]=-1;o[l+20>>2]=-1;o[l+28>>2]=-1;c[l+32>>2]=0.0;r=l;s=o[e+4>>2]|0;o[l+24>>2]=s;if((s|0)!=(o[e+8>>2]|0)){a=s;i=e+12|0;i=o[i>>2]|0;i=i+(a<<2)|0;o[i>>2]=r;a=a+1|0;o[e+4>>2]=a;return l|0}a=(s|0)==0?1:s<<1;if((s|0)>=(a|0)){a=s;i=e+12|0;i=o[i>>2]|0;i=i+(a<<2)|0;o[i>>2]=r;a=a+1|0;o[e+4>>2]=a;return l|0}if(!a)t=0;else{o[6747]=(o[6747]|0)+1;s=Do((a<<2|3)+16|0)|0;if(!s)t=0;else{o[(s+4+15&-16)+-4>>2]=s;t=s+4+15&-16}s=o[e+4>>2]|0}if((s|0)>0){i=0;do{o[t+(i<<2)>>2]=o[(o[e+12>>2]|0)+(i<<2)>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+12>>2]|0;if(i){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);s=o[e+4>>2]|0}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=t;o[e+8>>2]=a;a=s;i=e+12|0;i=o[i>>2]|0;i=i+(a<<2)|0;o[i>>2]=r;a=a+1|0;o[e+4>>2]=a;return l|0}function Ji(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0;h=+nF[o[(o[e>>2]|0)+48>>2]&15](e);v=+c[e+72>>2];g=+c[e+56>>2];m=+c[e+76>>2];b=+c[e+60>>2];d=+c[e+80>>2];f=+c[e+64>>2];P=+c[t>>2];T=+y(+P);x=+c[t+4>>2];S=+y(+x);_=+c[t+8>>2];u=+y(+_);I=+c[t+16>>2];E=+y(+I);O=+c[t+20>>2];C=+y(+O);a=+c[t+24>>2];l=+y(+a);M=+c[t+32>>2];A=+y(+M);R=+c[t+36>>2];p=+y(+R);r=+c[t+40>>2];s=+y(+r);_=(v+g)*.5*P+(m+b)*.5*x+(d+f)*.5*_+ +c[t+48>>2];a=(v+g)*.5*I+(m+b)*.5*O+(d+f)*.5*a+ +c[t+52>>2];r=(v+g)*.5*M+(m+b)*.5*R+(d+f)*.5*r+ +c[t+56>>2];u=(h+(v-g)*.5)*T+(h+(m-b)*.5)*S+(h+(d-f)*.5)*u;l=(h+(v-g)*.5)*E+(h+(m-b)*.5)*C+(h+(d-f)*.5)*l;s=(h+(v-g)*.5)*A+(h+(m-b)*.5)*p+(h+(d-f)*.5)*s;c[i>>2]=_-u;c[i+4>>2]=a-l;c[i+8>>2]=r-s;c[i+12>>2]=0.0;c[n>>2]=u+_;c[n+4>>2]=l+a;c[n+8>>2]=s+r;c[n+12>>2]=0.0;return}function qi(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0;h=+nF[o[(o[e>>2]|0)+48>>2]&15](e);v=+c[e+68>>2];g=+c[e+52>>2];m=+c[e+72>>2];b=+c[e+56>>2];d=+c[e+76>>2];f=+c[e+60>>2];P=+c[t>>2];T=+y(+P);x=+c[t+4>>2];S=+y(+x);_=+c[t+8>>2];u=+y(+_);I=+c[t+16>>2];E=+y(+I);O=+c[t+20>>2];C=+y(+O);a=+c[t+24>>2];l=+y(+a);M=+c[t+32>>2];A=+y(+M);R=+c[t+36>>2];p=+y(+R);r=+c[t+40>>2];s=+y(+r);_=(v+g)*.5*P+(m+b)*.5*x+(d+f)*.5*_+ +c[t+48>>2];a=(v+g)*.5*I+(m+b)*.5*O+(d+f)*.5*a+ +c[t+52>>2];r=(v+g)*.5*M+(m+b)*.5*R+(d+f)*.5*r+ +c[t+56>>2];u=(h+(v-g)*.5)*T+(h+(m-b)*.5)*S+(h+(d-f)*.5)*u;l=(h+(v-g)*.5)*E+(h+(m-b)*.5)*C+(h+(d-f)*.5)*l;s=(h+(v-g)*.5)*A+(h+(m-b)*.5)*p+(h+(d-f)*.5)*s;c[i>>2]=_-u;c[i+4>>2]=a-l;c[i+8>>2]=r-s;c[i+12>>2]=0.0;c[n>>2]=u+_;c[n+4>>2]=l+a;c[n+8>>2]=s+r;c[n+12>>2]=0.0;return}function $i(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0;if(n[t+32>>0]&1){r=o[e+4>>2]|0;if(r|0)El(r,t,i);r=o[e>>2]|0;if(r|0){d=+c[t>>2];u=+c[r+128>>2];f=+c[t+4>>2];_=+c[t+8>>2];s=+c[i+4>>2];p=+c[i+8>>2];h=+c[i>>2];l=+c[r+180>>2]*(_*s-f*p)+ +c[r+184>>2]*(d*p-_*h)+(f*h-d*s)*+c[r+188>>2];a=(_*s-f*p)*+c[r+196>>2]+(d*p-_*h)*+c[r+200>>2]+(f*h-d*s)*+c[r+204>>2];s=(_*s-f*p)*+c[r+212>>2]+(d*p-_*h)*+c[r+216>>2]+(f*h-d*s)*+c[r+220>>2];c[r+244>>2]=d*u+ +c[r+244>>2];c[r+248>>2]=u*f+ +c[r+248>>2];c[r+252>>2]=u*_+ +c[r+252>>2];c[r+316>>2]=d*u+ +c[r+316>>2];c[r+320>>2]=u*f+ +c[r+320>>2];c[r+324>>2]=u*_+ +c[r+324>>2];c[r+260>>2]=l+ +c[r+260>>2];c[r+264>>2]=a+ +c[r+264>>2];c[r+268>>2]=s+ +c[r+268>>2];c[r+332>>2]=l+ +c[r+332>>2];c[r+336>>2]=a+ +c[r+336>>2];c[r+340>>2]=s+ +c[r+340>>2];o[r+308>>2]=(o[r+308>>2]|0)+1}}if(!(n[t+32>>0]&2))return;ma(e,t+16|0,i);return}function en(e){e=e|0;var t=0,i=0,n=0,r=0;i=ae;ae=ae+16|0;La(16932);SF[o[(o[e>>2]|0)+8>>2]&511](e);SF[o[(o[e>>2]|0)+12>>2]&511](e);t=o[e+24>>2]|0;La(16966);if(t|0){r=o[(o[t>>2]|0)+32>>2]|0;n=o[e+68>>2]|0;n=dF[o[(o[n>>2]|0)+36>>2]&127](n)|0;BF[r&127](t,n,e+28|0,o[e+24>>2]|0)}e=o[2685]|0;r=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=r;do{if(!r){if(o[e+4>>2]|0){$(i|0,0)|0;t=o[6746]|0;c[e+8>>2]=+c[e+8>>2]+ +(((o[i+4>>2]|0)-(o[t+4>>2]|0)+(((o[i>>2]|0)-(o[t>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;t=o[2685]|0;if(o[e+16>>2]|0)break}else t=e;t=o[t+20>>2]|0;o[2685]=t}else t=e}while(0);e=t+16|0;r=(o[e>>2]|0)+-1|0;o[e>>2]=r;if(r|0){ae=i;return}do{if(o[t+4>>2]|0){$(i|0,0)|0;n=o[6746]|0;r=t+8|0;c[r>>2]=+c[r>>2]+ +(((o[i+4>>2]|0)-(o[n+4>>2]|0)+(((o[i>>2]|0)-(o[n>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e>>2]|0)){t=o[2685]|0;break}else{ae=i;return}}}while(0);o[2685]=o[t+20>>2];ae=i;return}function tn(e,t){e=e|0;t=t|0;var i=0;o[e>>2]=10152;n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=-1;o[e+16>>2]=0;o[e+20>>2]=0;n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;o[e+64>>2]=0;o[e+68>>2]=0;o[e+72>>2]=-1;o[e+76>>2]=0;o[e+80>>2]=0;n[e+193>>0]=0;n[e+194>>0]=1;n[e+192>>0]=((t|0)!=0^1)&1;c[e+140>>2]=0.0;o[e+144>>2]=0;o[e+164>>2]=0;o[e+148>>2]=1;o[e+152>>2]=0;o[e+156>>2]=10;o[e+160>>2]=1;o[e+168>>2]=0;o[e+172>>2]=0;c[e+176>>2]=0.0;if(t|0){i=t;t=e+136|0;o[t>>2]=i;t=e+188|0;o[t>>2]=0;t=e+180|0;o[t>>2]=0;t=e+184|0;o[t>>2]=0;e=e+124|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;return}o[6747]=(o[6747]|0)+1;t=Do(95)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}Wn(t);i=e+136|0;o[i>>2]=t;i=e+188|0;o[i>>2]=0;i=e+180|0;o[i>>2]=0;i=e+184|0;o[i>>2]=0;i=e+124|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;return}function nn(e){e=e|0;var t=0,i=0,r=0,s=0,a=0;t=o[e+16>>2]|0;if(t|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;t=o[e+40>>2]|0;if(t|0){if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+40>>2]=0}n[e+44>>0]=1;o[e+40>>2]=0;o[e+32>>2]=0;o[e+36>>2]=0;t=o[e+60>>2]|0;if(t|0){if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+60>>2]=0}n[e+64>>0]=1;o[e+60>>2]=0;o[e+52>>2]=0;o[e+56>>2]=0;if((o[e+12>>2]|0)>=2){Be(e);return}o[6747]=(o[6747]|0)+1;t=Do(43)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}t=o[e+8>>2]|0;if((t|0)>0){i=0;do{s=r+(i*12|0)|0;a=(o[e+16>>2]|0)+(i*12|0)|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];i=i+1|0}while((i|0)!=(t|0))}t=o[e+16>>2]|0;if(t|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=r;o[e+12>>2]=2;Be(e);return}function rn(e,t,i){e=e|0;t=t|0;i=i|0;sn(e,t,i)|0;o[t+52>>2]=o[e+52>>2];o[t+56>>2]=o[e+56>>2];o[t+60>>2]=o[e+60>>2];o[t+64>>2]=o[e+64>>2];o[t+68>>2]=o[e+68>>2];o[t+72>>2]=o[e+72>>2];o[t+76>>2]=o[e+76>>2];o[t+80>>2]=o[e+80>>2];o[t+84>>2]=o[e+84>>2];o[t+88>>2]=o[e+88>>2];o[t+92>>2]=o[e+92>>2];o[t+96>>2]=o[e+96>>2];o[t+100>>2]=o[e+100>>2];o[t+104>>2]=o[e+104>>2];o[t+108>>2]=o[e+108>>2];o[t+112>>2]=o[e+112>>2];o[t+116>>2]=o[e+116>>2];o[t+120>>2]=o[e+120>>2];o[t+124>>2]=o[e+124>>2];o[t+128>>2]=o[e+128>>2];o[t+132>>2]=o[e+132>>2];o[t+136>>2]=o[e+136>>2];o[t+140>>2]=o[e+140>>2];o[t+144>>2]=o[e+144>>2];o[t+148>>2]=o[e+148>>2];o[t+152>>2]=o[e+152>>2];o[t+156>>2]=o[e+156>>2];o[t+160>>2]=o[e+160>>2];o[t+164>>2]=o[e+164>>2];o[t+168>>2]=o[e+168>>2];o[t+172>>2]=o[e+172>>2];o[t+176>>2]=o[e+176>>2];o[t+180>>2]=o[e+188>>2];o[t+184>>2]=o[e+184>>2];o[t+188>>2]=o[e+196>>2];o[t+192>>2]=o[e+192>>2];o[t+196>>2]=s[e+180>>0];o[t+200>>2]=s[e+49>>0];return 15315}function on(e,t){e=e|0;t=+t;var i=0,n=0,r=0;n=ae;ae=ae+16|0;i=o[e+452>>2]|0;LF[o[(o[i>>2]|0)+16>>2]&127](i,e+324|0,0);i=o[e+452>>2]|0;dF[o[(o[i>>2]|0)+12>>2]&127](i)|0;os(e,t);La(14280);if(o[e+328>>2]|0)_t(e+324|0);i=o[e+452>>2]|0;TF[o[(o[i>>2]|0)+28>>2]&31](i,+c[i+12>>2]*t);i=o[2685]|0;r=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=r;do{if(!r){if(o[i+4>>2]|0){$(n|0,0)|0;r=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[n+4>>2]|0)-(o[r+4>>2]|0)+(((o[n>>2]|0)-(o[r>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);if((o[e+328>>2]|0)<=0){r=o[e+452>>2]|0;e=o[r>>2]|0;e=e+32|0;e=o[e>>2]|0;SF[e&511](r);ae=n;return}i=0;do{r=o[(o[e+336>>2]|0)+(i<<2)>>2]|0;hn(r,r);i=i+1|0}while((i|0)<(o[e+328>>2]|0));r=o[e+452>>2]|0;e=o[r>>2]|0;e=e+32|0;e=o[e>>2]|0;SF[e&511](r);ae=n;return}function sn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;o[t>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+28>>2]|0)|0;o[t+4>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+32>>2]|0)|0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t+8>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+12>>2]=o[e+4>>2];o[t+24>>2]=s[e+21>>0];o[t+40>>2]=o[e+24>>2];o[t+44>>2]=o[e+16>>2];o[t+48>>2]=s[e+20>>0];o[t+20>>2]=o[e+12>>2];o[t+16>>2]=o[e+8>>2];o[t+28>>2]=o[e+36>>2];o[t+32>>2]=o[e+40>>2];o[t+36>>2]=0;n=o[e+28>>2]|0;r=o[n+488>>2]|0;if((r|0)>0){n=o[n+496>>2]|0;if((o[n>>2]|0)==(e|0))o[t+36>>2]=1;if((r|0)>1){i=1;do{if((o[n+(i<<2)>>2]|0)==(e|0))o[t+36>>2]=1;i=i+1|0}while((i|0)!=(r|0))}}n=o[e+32>>2]|0;r=o[n+488>>2]|0;if((r|0)<=0)return 15252;n=o[n+496>>2]|0;if((o[n>>2]|0)==(e|0))o[t+36>>2]=1;if((r|0)<=1)return 15252;i=1;do{if((o[n+(i<<2)>>2]|0)==(e|0))o[t+36>>2]=1;i=i+1|0}while((i|0)!=(r|0));return 15252}function an(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0;r=ae;ae=ae+16|0;E=o[e+52>>2]|0;f=+c[e+28+(((E+2|0)%3|0)<<2)>>2];c[r>>2]=f;c[r+4>>2]=f;c[r+8>>2]=f;c[r+12>>2]=0.0;c[r+(E<<2)>>2]=f+ +c[e+28+(E<<2)>>2];f=+nF[o[(o[e>>2]|0)+48>>2]&15](e);_=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);f=f+ +c[r>>2];c[r>>2]=f;_=_+ +c[r+4>>2];c[r+4>>2]=_;a=a+ +c[r+8>>2];C=+y(+ +c[t>>2]);v=+y(+ +c[t+4>>2]);g=+y(+ +c[t+8>>2]);m=+y(+ +c[t+16>>2]);b=+y(+ +c[t+20>>2]);p=+y(+ +c[t+24>>2]);u=+y(+ +c[t+32>>2]);l=+y(+ +c[t+36>>2]);s=+y(+ +c[t+40>>2]);A=+c[t+48>>2];h=+c[t+52>>2];d=+c[t+56>>2];c[i>>2]=A-(f*C+_*v+a*g);c[i+4>>2]=h-(f*m+_*b+a*p);c[i+8>>2]=d-(f*u+_*l+a*s);c[i+12>>2]=0.0;c[n>>2]=f*C+_*v+a*g+A;c[n+4>>2]=f*m+_*b+a*p+h;c[n+8>>2]=d+(f*u+_*l+a*s);c[n+12>>2]=0.0;ae=r;return}function cn(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0,l=0,_=0,u=0,f=0,d=0,h=0;if(gA(e,o[t+8>>2]|0,a)|0)Rl(t,i,r,s);else{_=n[t+52>>0]|0;c=n[t+53>>0]|0;d=o[e+12>>2]|0;n[t+52>>0]=0;n[t+53>>0]=0;uf(e+16|0,t,i,r,s,a);u=n[t+52>>0]|0;l=n[t+53>>0]|0;e:do{if((d|0)>1){f=l;h=u;l=l|c;c=u|_;_=e+24|0;do{l=l&1;c=c&1;if(n[t+54>>0]|0)break e;if(!(h<<24>>24)){if(f<<24>>24?(o[e+8>>2]&1|0)==0:0)break e}else{if((o[t+24>>2]|0)==1)break e;if(!(o[e+8>>2]&2))break e}n[t+52>>0]=0;n[t+53>>0]=0;uf(_,t,i,r,s,a);h=n[t+52>>0]|0;c=h|c;f=n[t+53>>0]|0;l=f|l;_=_+8|0}while(_>>>0<(e+16+(d<<3)|0)>>>0)}else{l=l|c;c=u|_}}while(0);n[t+52>>0]=c<<24>>24!=0&1;n[t+53>>0]=l<<24>>24!=0&1}return}function ln(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;a=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=a;if(a|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];s=o[e+92>>2]|0;if(!s){o[t+52>>2]=0;o[t+56>>2]=0;return 19160}o[t+52>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+100>>2]|0)|0;o[t+56>>2]=s;a=mF[o[(o[i>>2]|0)+16>>2]&63](i,20,s)|0;if((s|0)>0){n=o[e+100>>2]|0;t=o[e+120>>2]|0;e=0;r=o[a+8>>2]|0;while(1){o[r>>2]=o[n+(e<<4)>>2];o[r+4>>2]=o[n+(e<<4)+4>>2];o[r+8>>2]=o[n+(e<<4)+8>>2];o[r+12>>2]=o[n+(e<<4)+12>>2];o[r+16>>2]=o[t+(e<<2)>>2];e=e+1|0;if((e|0)==(s|0))break;else r=r+20|0}}else n=o[e+100>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,a,19140,1497453121,n);return 19160}function _n(){var e=0,t=0,i=0;e=um(288)|0;o[e+164>>2]=1065353216;o[e+168>>2]=1065353216;o[e+172>>2]=1065353216;c[e+176>>2]=0.0;o[e+180>>2]=0;c[e+184>>2]=999999984306749440.0;o[e+188>>2]=0;o[e+188+4>>2]=0;o[e+188+8>>2]=0;o[e+188+12>>2]=0;o[e+204>>2]=1;o[e+208>>2]=-1;o[e+212>>2]=-1;o[e+216>>2]=1;c[e+220>>2]=0.0;c[e+224>>2]=.5;c[e+228>>2]=0.0;c[e+232>>2]=0.0;o[e+240>>2]=0;c[e+244>>2]=1.0;o[e+248>>2]=0;o[e+248+4>>2]=0;o[e+248+8>>2]=0;o[e+248+12>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+48+4>>2]=0;o[e+48+8>>2]=0;o[e+48+12>>2]=0;o[e+48+16>>2]=0;n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+236>>2]=4;o[e>>2]=6200;o[6747]=(o[6747]|0)+1;t=Do(95)|0;if(!t){i=0;Wn(i);t=e+284|0;o[t>>2]=i;return e|0}o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16;Wn(t);i=e+284|0;o[i>>2]=t;return e|0}function un(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0;s=ae;ae=ae+96|0;c[s+4>>2]=1.0;o[s+8>>2]=0;r[s+12>>1]=1;r[s+14>>1]=-1;o[s+16>>2]=0;o[s>>2]=3788;o[s+20>>2]=o[t>>2];o[s+20+4>>2]=o[t+4>>2];o[s+20+8>>2]=o[t+8>>2];o[s+20+12>>2]=o[t+12>>2];o[s+36>>2]=o[i>>2];o[s+36+4>>2]=o[i+4>>2];o[s+36+8>>2]=o[i+8>>2];o[s+36+12>>2]=o[i+12>>2];e=o[e+4>>2]|0;BF[o[(o[e>>2]|0)+32>>2]&127](e,t,i,s);t=o[s+8>>2]|0;if(!t){n=0;ae=s;return n|0}if(!(o[t+236>>2]&2)){n=0;ae=s;return n|0}if(o[t+204>>2]&4|0){n=0;ae=s;return n|0}o[n>>2]=o[s+68>>2];o[n+4>>2]=o[s+68+4>>2];o[n+8>>2]=o[s+68+8>>2];o[n+12>>2]=o[s+68+12>>2];o[n+16>>2]=o[s+52>>2];o[n+16+4>>2]=o[s+52+4>>2];o[n+16+8>>2]=o[s+52+8>>2];o[n+16+12>>2]=o[s+52+12>>2];u=+c[n+16>>2];_=+c[n+20>>2];l=+c[n+24>>2];a=1.0/+v(+(u*u+_*_+l*l));c[n+16>>2]=u*a;c[n+20>>2]=_*a;c[n+24>>2]=l*a;o[n+32>>2]=o[s+4>>2];n=t;ae=s;return n|0}function fn(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;SF[o[(o[t>>2]|0)+32>>2]&511](t);n=mF[o[(o[t>>2]|0)+16>>2]&63](t,104,1)|0;i=o[n+8>>2]|0;r=i;s=r+104|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[i+88>>2]=o[e+248>>2];o[i+92>>2]=o[e+252>>2];o[i+96>>2]=o[e+256>>2];o[i+100>>2]=o[e+260>>2];o[i>>2]=o[e+92>>2];o[i+4>>2]=o[e+96>>2];o[i+8>>2]=o[e+100>>2];o[i+12>>2]=o[e+104>>2];o[i+16>>2]=o[e+108>>2];o[i+20>>2]=o[e+116>>2];o[i+24>>2]=o[e+120>>2];o[i+28>>2]=o[e+124>>2];o[i+32>>2]=o[e+128>>2];o[i+36>>2]=o[e+132>>2];o[i+40>>2]=o[e+140>>2];o[i+44>>2]=o[e+144>>2];o[i+48>>2]=o[e+148>>2];o[i+52>>2]=o[e+152>>2];o[i+56>>2]=o[e+168>>2];o[i+60>>2]=o[e+172>>2];o[i+64>>2]=o[e+112>>2];o[i+68>>2]=o[e+156>>2];o[i+72>>2]=o[e+160>>2];o[i+76>>2]=o[e+164>>2];o[i+80>>2]=o[e+136>>2];jF[o[(o[t>>2]|0)+20>>2]&31](t,n,14893,1145853764,i);ya(e,t);Fs(e,t);SF[o[(o[t>>2]|0)+36>>2]&511](t);return}function dn(e,t){e=e|0;t=t|0;if((o[e+16>>2]|0)!=(0-(o[e+76>>2]|0)|0))return;t=o[e+4>>2]|0;if(t|0)Nu(e+4|0,t);t=o[e+8>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+8>>2]=0;o[e+12>>2]=-1;t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;o[e+20>>2]=0;t=o[e+64>>2]|0;if(t|0)Nu(e+64|0,t);t=o[e+68>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+68>>2]=0;o[e+72>>2]=-1;t=o[e+96>>2]|0;if(t|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;o[e+80>>2]=0;n[e+193>>0]=0;n[e+194>>0]=1;o[e+144>>2]=0;o[e+164>>2]=0;o[e+148>>2]=1;o[e+152>>2]=0;o[e+156>>2]=10;o[e+160>>2]=1;o[e+124>>2]=0;o[e+124+4>>2]=0;o[e+124+8>>2]=0;o[e+168>>2]=0;o[e+168+4>>2]=0;o[e+168+8>>2]=0;o[e+168+12>>2]=0;o[e+168+16>>2]=0;o[e+168+20>>2]=0;return}function hn(e,t){e=e|0;t=t|0;var i=0,n=0,r=0.0,s=0.0;n=ae;ae=ae+32|0;i=o[t+388>>2]|0;switch(o[e+388>>2]&48&i&63){case 32:{if((e|0)==(t|0)&(i&64|0)==0){ae=n;return}c[n+4>>2]=1.0;o[n+8+4>>2]=0;o[n+8+4+4>>2]=0;o[n+8+4+8>>2]=0;o[n>>2]=4604;o[n+8>>2]=o[e+456>>2];i=o[e+192>>2]|0;s=+nF[o[(o[i>>2]|0)+48>>2]&15](i);i=o[t+192>>2]|0;c[n+12>>2]=s+ +nF[o[(o[i>>2]|0)+48>>2]&15](i);s=+c[e+316>>2];r=+c[t+316>>2];c[n+16>>2]=s<r?s:r;o[n+24>>2]=e;o[n+28>>2]=t;Jr(o[e+1048>>2]|0,o[t+1048>>2]|0,n);ae=n;return}case 16:{if((e|0)==(t|0)){ae=n;return}o[n>>2]=4640;i=o[e+192>>2]|0;s=+nF[o[(o[i>>2]|0)+48>>2]&15](i);i=o[t+192>>2]|0;c[n+12>>2]=s+ +nF[o[(o[i>>2]|0)+48>>2]&15](i);o[n+4>>2]=e;o[n+8>>2]=t;Jr(o[e+928>>2]|0,o[t+988>>2]|0,n);o[n+4>>2]=t;o[n+8>>2]=e;Jr(o[t+928>>2]|0,o[e+988>>2]|0,n);ae=n;return}default:{ae=n;return}}}function pn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0,l=0.0;a=ae;ae=ae+32|0;o[a+16>>2]=o[i>>2];o[a+16+4>>2]=o[i+4>>2];o[a+16+8>>2]=o[i+8>>2];o[a+16+12>>2]=o[i+12>>2];n=+c[a+16>>2];s=+c[a+16+4>>2];r=+c[a+16+8>>2];if(n*n+s*s+r*r<1.4210854715202004e-14){o[a+16>>2]=-1082130432;o[a+16+4>>2]=-1082130432;o[a+16+8>>2]=-1082130432;c[a+16+12>>2]=0.0;n=-1.0;s=-1.0;r=-1.0}l=1.0/+v(+(n*n+s*s+r*r));c[a+16>>2]=n*l;c[a+16+4>>2]=s*l;c[a+16+8>>2]=r*l;Kn(a,t,a+16|0);switch(o[t+4>>2]|0){case 8:{n=+c[t+28>>2]*+c[t+12>>2];break}case 0:{n=+c[t+44>>2];break}case 1:{n=+c[t+44>>2];break}case 13:{n=+c[t+44>>2];break}case 11:{n=+c[t+44>>2];break}case 10:{n=+c[t+44>>2];break}case 4:case 5:{n=+c[t+44>>2];break}default:n=+nF[o[(o[t>>2]|0)+48>>2]&15](t)}s=n*+c[a+16+4>>2]+ +c[a+4>>2];l=n*+c[a+16+8>>2]+ +c[a+8>>2];c[e>>2]=n*+c[a+16>>2]+ +c[a>>2];c[e+4>>2]=s;c[e+8>>2]=l;c[e+12>>2]=0.0;ae=a;return}function bn(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0;u=ae;ae=ae+48|0;a=u;c=a+44|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(c|0));if(!t)_=o[o[e+880>>2]>>2]|0;else _=t;t=o[e+732>>2]|0;if((t|0)==(o[e+736>>2]|0)?(l=(t|0)==0?1:t<<1,(t|0)<(l|0)):0){if(!l)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((l*52|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[e+732>>2]|0}if((t|0)>0){r=0;do{a=i+(r*52|0)|0;s=(o[e+740>>2]|0)+(r*52|0)|0;c=a+52|0;do{o[a>>2]=o[s>>2];a=a+4|0;s=s+4|0}while((a|0)<(c|0));r=r+1|0}while((r|0)!=(t|0))}t=o[e+740>>2]|0;if(t|0){if(n[e+744>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+740>>2]=0}n[e+744>>0]=1;o[e+740>>2]=i;o[e+736>>2]=l;t=o[e+732>>2]|0}a=o[e+740>>2]|0;o[a+(t*52|0)>>2]=0;o[a+(t*52|0)+4>>2]=_;a=a+(t*52|0)+8|0;s=u;c=a+44|0;do{o[a>>2]=o[s>>2];a=a+4|0;s=s+4|0}while((a|0)<(c|0));o[e+732>>2]=(o[e+732>>2]|0)+1;ae=u;return}function mn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0,a=0.0,l=0,u=0,f=0,d=0.0;u=ae;ae=ae+80|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;n=+c[i>>2];r=+c[i+4>>2];a=+c[i+8>>2];if(n*n+r*r+a*a<9.999999747378752e-05){l=1065353216;s=0;n=0.0;i=0}else{d=1.0/+v(+(n*n+r*r+a*a));l=(c[_>>2]=n*d,o[_>>2]|0);f=(c[_>>2]=r*d,o[_>>2]|0);s=(c[_>>2]=a*d,o[_>>2]|0);n=+c[i+12>>2];i=f}o[u+32>>2]=9136;f=u+32+4|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;c[u+32+20>>2]=-999999984306749440.0;o[u+32+24>>2]=l;o[u+32+28>>2]=i;o[u+32+32>>2]=s;c[u+32+36>>2]=n;o[u+16>>2]=1566444395;o[u+16+4>>2]=1566444395;o[u+16+8>>2]=1566444395;c[u+16+12>>2]=0.0;t=o[t+92>>2]|0;l=o[(o[t>>2]|0)+8>>2]|0;c[u>>2]=-999999984306749440.0;c[u+4>>2]=-999999984306749440.0;c[u+8>>2]=-999999984306749440.0;c[u+12>>2]=0.0;BF[l&127](t,u+32|0,u,u+16|0);o[e>>2]=o[f>>2];o[e+4>>2]=o[f+4>>2];o[e+8>>2]=o[f+8>>2];o[e+12>>2]=o[f+12>>2];ae=u;return}function An(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0,a=0.0,l=0.0,_=0,u=0.0,f=0.0;u=+c[t+60>>2]*.5;s=o[t+68>>2]|0;r=+c[i>>2];a=+c[i+4>>2];l=+c[i+8>>2];l=+v(+(r*r+a*a+l*l));_=o[t+64>>2]|0;do{if(!(+c[i+(s<<2)>>2]>+c[t+52>>2]*l)){r=+c[i+(_<<2)>>2];n=o[t+72>>2]|0;a=+c[i+(n<<2)>>2];l=+v(+(r*r+a*a));if(l>1.1920928955078125e-07){l=+c[t+56>>2]/l;c[e+(_<<2)>>2]=r*l;c[e+(s<<2)>>2]=-u;r=a*l;break}else{c[e+(_<<2)>>2]=0.0;c[e+(s<<2)>>2]=-u;r=0.0;break}}else{c[e+(_<<2)>>2]=0.0;c[e+(s<<2)>>2]=u;r=0.0;n=o[t+72>>2]|0}}while(0);c[e+(n<<2)>>2]=r;if(!(+nF[o[(o[t>>2]|0)+48>>2]&15](t)!=0.0))return;a=+c[i>>2];u=+c[i+4>>2];l=+c[i+8>>2];f=a*a+u*u+l*l<1.4210854715202004e-14?-1.0:a;r=a*a+u*u+l*l<1.4210854715202004e-14?-1.0:u;l=a*a+u*u+l*l<1.4210854715202004e-14?-1.0:l;u=1.0/+v(+(l*l+(f*f+r*r)));a=+nF[o[(o[t>>2]|0)+48>>2]&15](t);c[e>>2]=+c[e>>2]+a*(f*u);c[e+4>>2]=+c[e+4>>2]+a*(r*u);c[e+8>>2]=+c[e+8>>2]+a*(l*u);return}function gn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;s=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=s;if(s|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];r=o[e+96>>2]|0;o[t+60>>2]=r;if(!r){o[t+52>>2]=0;o[t+56>>2]=0;return 20050}o[t+52>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+104>>2]|0)|0;o[t+56>>2]=0;s=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,r)|0;if((r|0)>0){n=o[e+104>>2]|0;t=0;e=o[s+8>>2]|0;while(1){o[e>>2]=o[n+(t<<4)>>2];o[e+4>>2]=o[n+(t<<4)+4>>2];o[e+8>>2]=o[n+(t<<4)+8>>2];o[e+12>>2]=o[n+(t<<4)+12>>2];t=t+1|0;if((t|0)==(r|0))break;else e=e+16|0}}else n=o[e+104>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,s,22049,1497453121,n);return 20050}function yn(e,t,i){e=e|0;t=t|0;i=i|0;o[e+300>>2]=o[t>>2];o[e+300+4>>2]=o[t+4>>2];o[e+300+8>>2]=o[t+8>>2];o[e+300+12>>2]=o[t+12>>2];o[e+316>>2]=o[t+16>>2];o[e+316+4>>2]=o[t+16+4>>2];o[e+316+8>>2]=o[t+16+8>>2];o[e+316+12>>2]=o[t+16+12>>2];o[e+332>>2]=o[t+32>>2];o[e+332+4>>2]=o[t+32+4>>2];o[e+332+8>>2]=o[t+32+8>>2];o[e+332+12>>2]=o[t+32+12>>2];o[e+348>>2]=o[t+48>>2];o[e+348+4>>2]=o[t+48+4>>2];o[e+348+8>>2]=o[t+48+8>>2];o[e+348+12>>2]=o[t+48+12>>2];o[e+364>>2]=o[i>>2];o[e+364+4>>2]=o[i+4>>2];o[e+364+8>>2]=o[i+8>>2];o[e+364+12>>2]=o[i+12>>2];o[e+380>>2]=o[i+16>>2];o[e+380+4>>2]=o[i+16+4>>2];o[e+380+8>>2]=o[i+16+8>>2];o[e+380+12>>2]=o[i+16+12>>2];o[e+396>>2]=o[i+32>>2];o[e+396+4>>2]=o[i+32+4>>2];o[e+396+8>>2]=o[i+32+8>>2];o[e+396+12>>2]=o[i+32+12>>2];o[e+412>>2]=o[i+48>>2];o[e+412+4>>2]=o[i+48+4>>2];o[e+412+8>>2]=o[i+48+8>>2];o[e+412+12>>2]=o[i+48+12>>2];SF[o[(o[e>>2]|0)+8>>2]&511](e);return}function vn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0,d=0.0;f=o[e+4>>2]|0;e=o[e+64>>2]|0;do{if(!f){if(!e){n=0.0;d=0.0;l=0.0;u=0.0;s=0.0;_=0.0;a=0.0;r=0.0}else{n=+c[e>>2];d=+c[e+12>>2];l=+c[e+16>>2];u=+c[e+20>>2];s=+c[e+24>>2];_=+c[e+28>>2];a=+c[e+4>>2];r=+c[e+8>>2]}}else{n=+c[f>>2];if(!e){d=+c[f+12>>2];l=+c[f+16>>2];u=+c[f+20>>2];s=+c[f+24>>2];_=+c[f+28>>2];a=+c[f+4>>2];r=+c[f+8>>2];break}_=+c[e>>2];n=n<_?n:_;_=+c[f+16>>2];l=+c[e+16>>2];l=_>l?_:l;_=+c[f+4>>2];a=+c[e+4>>2];a=_<a?_:a;_=+c[f+20>>2];u=+c[e+20>>2];u=_>u?_:u;_=+c[f+8>>2];r=+c[e+8>>2];r=_<r?_:r;_=+c[f+24>>2];s=+c[e+24>>2];if(_>s){d=0.0;s=_;_=0.0}else{d=0.0;_=0.0}}}while(0);c[t>>2]=n;c[t+4>>2]=a;c[t+8>>2]=r;c[t+12>>2]=d;c[i>>2]=l;c[i+4>>2]=u;c[i+8>>2]=s;c[i+12>>2]=_;return}function Cn(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0;i=ae;ae=ae+48|0;Fi(e+364|0,i+16|0);s=-+c[i+16>>2];r=-+c[i+16+4>>2];u=-+c[i+16+8>>2];_=+c[i+16+12>>2];o=+c[t>>2];f=+c[t+12>>2];l=+c[t+8>>2];a=+c[t+4>>2];Fi(e+300|0,i);h=+c[i>>2];p=+c[i+12>>2];n=+c[i+8>>2];d=+c[i+4>>2];c[i+32>>2]=(_*f-o*s-a*r-l*u)*h+(_*o+f*s+l*r-a*u)*p+(o*u+(f*r+_*a)-l*s)*n-(f*u+_*l+a*s-o*r)*d;c[i+32+4>>2]=h*(f*u+_*l+a*s-o*r)+(p*(o*u+(f*r+_*a)-l*s)+(_*f-o*s-a*r-l*u)*d)-(_*o+f*s+l*r-a*u)*n;c[i+32+8>>2]=(f*u+_*l+a*s-o*r)*p+(_*f-o*s-a*r-l*u)*n+(_*o+f*s+l*r-a*u)*d-h*(o*u+(f*r+_*a)-l*s);c[i+32+12>>2]=(_*f-o*s-a*r-l*u)*p-(_*o+f*s+l*r-a*u)*h-(o*u+(f*r+_*a)-l*s)*d-(f*u+_*l+a*s-o*r)*n;mo(e,i+32|0);ae=i;return}function En(e){e=e|0;var t=0;t=o[e>>2]|0;if(t|0)Nu(e,t);t=o[e+4>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+4>>2]=0;o[e+8>>2]=-1;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[e+16>>2]=0;t=o[e+52>>2]|0;if(!t){n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}if(!(n[e+56>>0]|0)){n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+32>>2]|0;n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;if(!t){n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}function Sn(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;a=ae;ae=ae+32|0;s=Lm()|0;o[s+4>>2]=11;o[s+8>>2]=-1;o[s+12>>2]=-1;c[s+16>>2]=3402823466385288598117041.0e14;n[s+20>>0]=1;n[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=e;o[s+32>>2]=t;c[s+36>>2]=0.0;c[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=5440;o[s+48>>2]=o[i+48>>2];o[s+48+4>>2]=o[i+48+4>>2];o[s+48+8>>2]=o[i+48+8>>2];o[s+48+12>>2]=o[i+48+12>>2];o[s+64>>2]=o[r+48>>2];o[s+64+4>>2]=o[r+48+4>>2];o[s+64+8>>2]=o[r+48+8>>2];o[s+64+12>>2]=o[r+48+12>>2];Fi(i,a+16|0);Fi(r,a);d=-+c[a>>2];u=-+c[a+4>>2];l=-+c[a+8>>2];b=+c[a+12>>2];p=+c[a+16+12>>2];h=+c[a+16>>2];f=+c[a+16+4>>2];_=+c[a+16+8>>2];c[s+80>>2]=p*d+b*h+f*l-_*u;c[s+84>>2]=_*d+(p*u+b*f)-h*l;c[s+88>>2]=h*u+(p*l+b*_)-f*d;c[s+92>>2]=b*p-h*d-f*u-_*l;ae=a;return s|0}function Tn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0;if((i|0)>=8192){J(e|0,t|0,i|0)|0;return e|0}a=e|0;s=e+i|0;if((e&3)==(t&3)){while(e&3){if(!i)return a|0;n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0;i=i-1|0}i=s&-4|0;r=i-64|0;while((e|0)<=(r|0)){o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];o[e+28>>2]=o[t+28>>2];o[e+32>>2]=o[t+32>>2];o[e+36>>2]=o[t+36>>2];o[e+40>>2]=o[t+40>>2];o[e+44>>2]=o[t+44>>2];o[e+48>>2]=o[t+48>>2];o[e+52>>2]=o[t+52>>2];o[e+56>>2]=o[t+56>>2];o[e+60>>2]=o[t+60>>2];e=e+64|0;t=t+64|0}while((e|0)<(i|0)){o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0}}else{i=s-4|0;while((e|0)<(i|0)){n[e>>0]=n[t>>0]|0;n[e+1>>0]=n[t+1>>0]|0;n[e+2>>0]=n[t+2>>0]|0;n[e+3>>0]=n[t+3>>0]|0;e=e+4|0;t=t+4|0}}while((e|0)<(s|0)){n[e>>0]=n[t>>0]|0;e=e+1|0;t=t+1|0}return a|0}function Rn(e){e=e|0;var t=0;if((n[24904]|0)==0?PM(24904)|0:0){if((n[24880]|0)==0?PM(24880)|0:0){if((n[24888]|0)==0?PM(24888)|0:0){o[6348]=1065353216;o[6349]=0;o[6350]=0;o[6351]=0;o[6352]=0;o[6353]=1065353216;o[6354]=0;o[6355]=0;o[6356]=0;o[6357]=0;o[6358]=1065353216;c[6359]=0.0;GR(24888)}o[6332]=o[6348];o[6333]=o[6349];o[6334]=o[6350];o[6335]=o[6351];o[6336]=o[6352];o[6337]=o[6353];o[6338]=o[6354];o[6339]=o[6355];o[6340]=o[6356];o[6341]=o[6357];o[6342]=o[6358];o[6343]=o[6359];o[6344]=0;o[6345]=0;o[6346]=0;o[6347]=0;GR(24880)}o[6372]=o[6332];o[6373]=o[6333];o[6374]=o[6334];o[6375]=o[6335];o[6376]=o[6336];o[6377]=o[6337];o[6378]=o[6338];o[6379]=o[6339];o[6380]=o[6340];o[6381]=o[6341];o[6382]=o[6342];o[6383]=o[6343];o[6384]=o[6344];o[6385]=o[6345];o[6386]=o[6346];o[6387]=o[6347];GR(24904)}t=o[e+8>>2]|0;if(!t){e=o[e>>2]|0;return((e|0)==0?25488:e+60|0)|0}else return t+4|0;return 0}function Mn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0,l=0;if(!i)i=o[e+188>>2]|0;c=o[t>>2]|0;r=o[e+268>>2]|0;e:do{if((r|0)>0){a=o[e+276>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(c|0))break;s=s+1|0;if((s|0)>=(r|0))break e}if((s|0)!=(r|0))return}}while(0);if((r|0)==(o[e+272>>2]|0)?(l=(r|0)==0?1:r<<1,(r|0)<(l|0)):0){if(!l)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((l<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+268>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[e+276>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[e+276>>2]|0;if(a){if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[e+268>>2]|0}o[e+276>>2]=0}n[e+280>>0]=1;o[e+276>>2]=s;o[e+272>>2]=l}o[(o[e+276>>2]|0)+(r<<2)>>2]=c;o[e+268>>2]=r+1;e=o[e+284>>2]|0;mF[o[(o[e>>2]|0)+8>>2]&63](e,i,t)|0;return}function On(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0;if(dF[o[(o[i>>2]|0)+16>>2]&127](i)|0)return;l=o[t+712>>2]|0;c=dF[o[(o[i>>2]|0)+36>>2]&127](i)|0;if(dF[o[(o[i>>2]|0)+8>>2]&127](i)|0?(r=dF[o[(o[i>>2]|0)+20>>2]&127](i)|0,a=dF[o[(o[i>>2]|0)+24>>2]&127](i)|0,(l|0)>0):0){n=o[t+720>>2]|0;s=0;e=c+(r<<2)|0;while(1){_=o[n+(s*104|0)+12>>2]|0;r=o[n+(s*104|0)+16>>2]|0;o[e>>2]=o[n+(s*104|0)+8>>2];o[e+4>>2]=_;o[e+8>>2]=r;s=s+1|0;if((s|0)==(l|0))break;else e=e+(a<<2)|0}}if(!(dF[o[(o[i>>2]|0)+12>>2]&127](i)|0))return;e=dF[o[(o[i>>2]|0)+28>>2]&127](i)|0;s=dF[o[(o[i>>2]|0)+32>>2]&127](i)|0;if((l|0)<=0)return;r=o[t+720>>2]|0;e=c+(e<<2)|0;n=0;while(1){t=o[r+(n*104|0)+76>>2]|0;_=o[r+(n*104|0)+80>>2]|0;o[e>>2]=o[r+(n*104|0)+72>>2];o[e+4>>2]=t;o[e+8>>2]=_;n=n+1|0;if((n|0)==(l|0))break;else e=e+(s<<2)|0}return}function In(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0,l=0;o[e>>2]=10664;t=o[e+56>>2]|0;if(t|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;i=o[e+28>>2]|0;if((i|0)>0){a=0;do{r=o[e+36>>2]|0;l=r+(a*36|0)+4|0;c=r+(a*36|0)+12|0;s=o[c>>2]|0;t=r+(a*36|0)+16|0;if(s|0){if(n[t>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[c>>2]=0}n[t>>0]=1;o[c>>2]=0;o[l>>2]=0;o[r+(a*36|0)+8>>2]=0;a=a+1|0}while((a|0)!=(i|0))}t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function xn(e){e=e|0;var t=0;o[e>>2]=9764;t=o[e+156>>2]|0;if(t|0){if(n[e+160>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+156>>2]=0}n[e+160>>0]=1;o[e+156>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;t=o[e+136>>2]|0;if(t|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;t=o[e+116>>2]|0;if(t|0){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+116>>2]=0}n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;t=o[e+96>>2]|0;if(t|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;o[e>>2]=10680;t=o[e+32>>2]|0;if(!t){n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;e=e+28|0;o[e>>2]=0;return}if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;e=e+28|0;o[e>>2]=0;return}function Pn(e){e=e|0;var t=0;o[e>>2]=10324;t=o[e+160>>2]|0;if(t|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=0;o[e+152>>2]=0;o[e+156>>2]=0;t=o[e+136>>2]|0;if(t|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;t=o[e+116>>2]|0;if(t|0){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+116>>2]=0}n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;t=o[e+96>>2]|0;if(t|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;t=o[e+76>>2]|0;if(!t){n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;e=e+72|0;o[e>>2]=0;return}if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+76>>2]=0;n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;e=e+72|0;o[e>>2]=0;return}function Dn(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0,l=0.0,_=0.0,u=0,f=0.0,d=0,h=0;h=ae;ae=ae+16|0;if((n|0)<=0){ae=h;return}d=0;do{f=+c[e+60>>2]*.5;a=o[e+68>>2]|0;s=+c[t+(d<<4)>>2];l=+c[t+(d<<4)+4>>2];_=+c[t+(d<<4)+8>>2];_=+v(+(s*s+l*l+_*_));u=o[e+64>>2]|0;do{if(!(+c[t+(d<<4)+(a<<2)>>2]>+c[e+52>>2]*_)){s=+c[t+(d<<4)+(u<<2)>>2];r=o[e+72>>2]|0;l=+c[t+(d<<4)+(r<<2)>>2];_=+v(+(s*s+l*l));if(_>1.1920928955078125e-07){_=+c[e+56>>2]/_;c[h+(u<<2)>>2]=s*_;c[h+(a<<2)>>2]=-f;s=l*_;break}else{c[h+(u<<2)>>2]=0.0;c[h+(a<<2)>>2]=-f;s=0.0;break}}else{c[h+(u<<2)>>2]=0.0;c[h+(a<<2)>>2]=f;s=0.0;r=o[e+72>>2]|0}}while(0);c[h+(r<<2)>>2]=s;u=i+(d<<4)|0;o[u>>2]=o[h>>2];o[u+4>>2]=o[h+4>>2];o[u+8>>2]=o[h+8>>2];o[u+12>>2]=o[h+12>>2];d=d+1|0}while((d|0)!=(n|0));ae=h;return}function wn(e){e=e|0;var t=0;o[e>>2]=5932;t=o[e+144>>2]|0;if(t|0){if(n[e+148>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+144>>2]=0}n[e+148>>0]=1;o[e+144>>2]=0;o[e+136>>2]=0;o[e+140>>2]=0;t=o[e+76>>2]|0;if(t|0){if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+76>>2]=0}n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;o[e+72>>2]=0;t=o[e+56>>2]|0;if(t|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function Ln(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0;h=(+c[e+32>>2]-+c[e+16>>2])*+c[e+108>>2]*.5;f=(+c[e+36>>2]-+c[e+20>>2])*+c[e+112>>2]*.5;_=(+c[e+40>>2]-+c[e+24>>2])*+c[e+116>>2]*.5;g=+y(+ +c[t>>2]);A=+y(+ +c[t+4>>2]);m=+y(+ +c[t+8>>2]);d=+y(+ +c[t+16>>2]);u=+y(+ +c[t+20>>2]);l=+y(+ +c[t+24>>2]);E=+y(+ +c[t+32>>2]);C=+y(+ +c[t+36>>2]);r=+y(+ +c[t+40>>2]);v=+c[t+48>>2];p=+c[t+52>>2];s=+c[t+56>>2];b=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);r=h*E+f*C+_*r+ +nF[o[(o[e>>2]|0)+48>>2]&15](e);c[i>>2]=v-(h*g+f*A+_*m+b);c[i+4>>2]=p-(h*d+f*u+_*l+a);c[i+8>>2]=s-r;c[i+12>>2]=0.0;c[n>>2]=v+(h*g+f*A+_*m+b);c[n+4>>2]=p+(h*d+f*u+_*l+a);c[n+8>>2]=s+r;c[n+12>>2]=0.0;return}function Fn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;n=o[t>>2]|0;if((n|0)==(o[e+80>>2]|0)){r=1.0;return+r}if(o[n+204>>2]&4|0){r=1.0;return+r}if((+c[e+28>>2]-+c[e+12>>2])*+c[t+8>>2]+(+c[e+32>>2]-+c[e+16>>2])*+c[t+12>>2]+(+c[e+36>>2]-+c[e+20>>2])*+c[t+16>>2]>=-+c[e+84>>2]){r=1.0;return+r}o[e+4>>2]=o[t+40>>2];o[e+76>>2]=n;if(i){o[e+44>>2]=o[t+8>>2];o[e+44+4>>2]=o[t+8+4>>2];o[e+44+8>>2]=o[t+8+8>>2];o[e+44+12>>2]=o[t+8+12>>2]}else{_=+c[t+8>>2];l=+c[t+12>>2];a=+c[t+16>>2];s=_*+c[n+20>>2]+l*+c[n+24>>2]+a*+c[n+28>>2];r=_*+c[n+36>>2]+l*+c[n+40>>2]+a*+c[n+44>>2];c[e+44>>2]=+c[n+4>>2]*_+ +c[n+8>>2]*l+ +c[n+12>>2]*a;c[e+48>>2]=s;c[e+52>>2]=r;c[e+56>>2]=0.0}o[e+60>>2]=o[t+24>>2];o[e+60+4>>2]=o[t+24+4>>2];o[e+60+8>>2]=o[t+24+8>>2];o[e+60+12>>2]=o[t+24+12>>2];_=+c[t+40>>2];return+_}function Nn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0;c=ae;ae=ae+48|0;s=o[e+28>>2]|0;o[c>>2]=s;s=(o[e+20>>2]|0)-s|0;o[c+4>>2]=s;o[c+8>>2]=t;o[c+12>>2]=i;o[c+16>>2]=o[e+60>>2];o[c+16+4>>2]=c;o[c+16+8>>2]=2;t=bw(j(146,c+16|0)|0)|0;e:do{if((s+i|0)!=(t|0)){n=c;r=2;s=s+i|0;while(1){if((t|0)<0)break;s=s-t|0;l=o[n+4>>2]|0;_=t>>>0>l>>>0;n=_?n+8|0:n;r=r+(_<<31>>31)|0;l=t-(_?l:0)|0;o[n>>2]=(o[n>>2]|0)+l;o[n+4>>2]=(o[n+4>>2]|0)-l;o[c+32>>2]=o[e+60>>2];o[c+32+4>>2]=n;o[c+32+8>>2]=r;t=bw(j(146,c+32|0)|0)|0;if((s|0)==(t|0)){a=3;break e}}o[e+16>>2]=0;o[e+28>>2]=0;o[e+20>>2]=0;o[e>>2]=o[e>>2]|32;if((r|0)==2)i=0;else i=i-(o[n+4>>2]|0)|0}else a=3}while(0);if((a|0)==3){_=o[e+44>>2]|0;o[e+16>>2]=_+(o[e+48>>2]|0);o[e+28>>2]=_;o[e+20>>2]=_}ae=c;return i|0}function Bn(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,l=0,_=0;a=ae;ae=ae+80|0;if((n|0)<=0){ae=a;return}r=0;do{c[i+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(n|0));s=a+32+4|0;r=0;do{l=t+(r<<4)|0;o[a+32>>2]=9136;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;c[a+32+20>>2]=-999999984306749440.0;o[a+32+24>>2]=o[l>>2];o[a+32+24+4>>2]=o[l+4>>2];o[a+32+24+8>>2]=o[l+8>>2];o[a+32+24+12>>2]=o[l+12>>2];o[a+16>>2]=1566444395;o[a+16+4>>2]=1566444395;o[a+16+8>>2]=1566444395;c[a+16+12>>2]=0.0;l=o[e+92>>2]|0;_=o[(o[l>>2]|0)+8>>2]|0;c[a>>2]=-999999984306749440.0;c[a+4>>2]=-999999984306749440.0;c[a+8>>2]=-999999984306749440.0;c[a+12>>2]=0.0;BF[_&127](l,a+32|0,a,a+16|0);l=i+(r<<4)|0;o[l>>2]=o[s>>2];o[l+4>>2]=o[s+4>>2];o[l+8>>2]=o[s+8>>2];o[l+12>>2]=o[s+12>>2];r=r+1|0}while((r|0)<(n|0));ae=a;return}function kn(e){e=e|0;var t=0,i=0,r=0,s=0;o[e+32>>2]=262144;s=o[e+4>>2]|0;if((s|0)<2383){if((o[e+8>>2]|0)<2383){o[6747]=(o[6747]|0)+1;t=Do(9551)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}t=o[e+4>>2]|0;if((t|0)>0){i=0;do{o[r+(i<<2)>>2]=o[(o[e+12>>2]|0)+(i<<2)>>2];i=i+1|0}while((i|0)!=(t|0))}t=o[e+12>>2]|0;if(t|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=r;o[e+8>>2]=2383;i=e+12|0}else i=e+12|0;t=s;do{o[(o[i>>2]|0)+(t<<2)>>2]=0;t=t+1|0}while((t|0)!=2383)}o[e+4>>2]=2383;i=0;do{s=(o[e+12>>2]|0)+(i<<2)|0;t=o[s>>2]|0;o[s>>2]=0;if(t|0)do{s=t;t=o[t+280>>2]|0;KL(s)}while((t|0)!=0);i=i+1|0}while((i|0)!=2383);c[e+20>>2]=.25;o[e+24>>2]=0;o[e+28>>2]=0;o[e+36>>2]=1;o[e+40>>2]=1;return}function Un(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0,l=0,_=0;r=o[e+96>>2]|0;if((r|0)==(o[e+100>>2]|0)?(c=(r|0)==0?1:r<<1,(r|0)<(c|0)):0){if(!c)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((c<<4|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+96>>2]|0}if((r|0)>0){a=0;do{l=s+(a<<4)|0;_=(o[e+104>>2]|0)+(a<<4)|0;o[l>>2]=o[_>>2];o[l+4>>2]=o[_+4>>2];o[l+8>>2]=o[_+8>>2];o[l+12>>2]=o[_+12>>2];a=a+1|0}while((a|0)!=(r|0))}r=o[e+104>>2]|0;if(r|0){if(n[e+108>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+104>>2]=0}n[e+108>>0]=1;o[e+104>>2]=s;o[e+100>>2]=c;r=o[e+96>>2]|0}_=(o[e+104>>2]|0)+(r<<4)|0;o[_>>2]=o[t>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];o[e+96>>2]=(o[e+96>>2]|0)+1;if(!i)return;xa(e);return}function Hn(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0;c=o[t+4>>2]|0;r=o[e+24>>2]|0;if((r|0)<(c|0)){if((o[e+28>>2]|0)<(c|0)){if(!c){s=r;a=0}else{o[6747]=(o[6747]|0)+1;i=Do((c<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+24>>2]|0;a=i}if((s|0)>0){i=0;do{o[a+(i<<2)>>2]=o[(o[e+32>>2]|0)+(i<<2)>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+32>>2]|0;if(i|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=a;o[e+28>>2]=c;i=e+32|0}else i=e+32|0;do{o[(o[i>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(c|0))}else i=e+32|0;o[e+24>>2]=c;i=o[i>>2]|0;if((c|0)<=0)return;r=0;do{o[i+(r<<2)>>2]=o[(o[t+12>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(c|0));return}function jn(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;i=ae;ae=ae+96|0;t=o[t>>2]|0;if((t|0)==(o[e+4>>2]|0)){ae=i;return 1}n=o[e+12>>2]|0;if(!(pF[o[(o[n>>2]|0)+8>>2]&31](n,o[t+188>>2]|0)|0)){ae=i;return 1}n=o[e+4>>2]|0;r=o[n+192>>2]|0;o[i+64>>2]=0;o[i+64+4>>2]=r;o[i+64+8>>2]=n;o[i+64+12>>2]=n+4;o[i+64+16>>2]=-1;o[i+64+20>>2]=-1;n=o[t+192>>2]|0;o[i+40>>2]=0;o[i+40+4>>2]=n;o[i+40+8>>2]=t;o[i+40+12>>2]=t+4;o[i+40+16>>2]=-1;o[i+40+20>>2]=-1;t=o[(o[e+8>>2]|0)+24>>2]|0;t=AF[o[(o[t>>2]|0)+8>>2]&31](t,i+64|0,i+40|0,0)|0;if(t|0){r=o[e+12>>2]|0;o[i+4>>2]=0;o[i+8>>2]=i+64;o[i+12>>2]=i+40;o[i>>2]=7088;o[i+32>>2]=r;jF[o[(o[t>>2]|0)+8>>2]&31](t,i+64|0,i+40|0,(o[e+8>>2]|0)+28|0,i);SF[o[o[t>>2]>>2]&511](t);r=o[(o[e+8>>2]|0)+24>>2]|0;xF[o[(o[r>>2]|0)+60>>2]&127](r,t)}ae=i;return 1}function Vn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0,a=0,l=0,_=0;_=ae;ae=ae+80|0;s=o[o[e>>2]>>2]|0;a=o[o[e+4>>2]>>2]|0;if(!(mF[o[(o[t>>2]|0)+24>>2]&63](t,s,a)|0)){ae=_;return}r=o[s+192>>2]|0;o[_+56>>2]=0;o[_+56+4>>2]=r;o[_+56+8>>2]=s;o[_+56+12>>2]=s+4;o[_+56+16>>2]=-1;o[_+56+20>>2]=-1;r=o[a+192>>2]|0;o[_+32>>2]=0;o[_+32+4>>2]=r;o[_+32+8>>2]=a;o[_+32+12>>2]=a+4;o[_+32+16>>2]=-1;o[_+32+20>>2]=-1;r=o[e+8>>2]|0;if(!r){r=AF[o[(o[t>>2]|0)+8>>2]&31](t,_+56|0,_+32|0,0)|0;o[e+8>>2]=r;if(r|0)l=4}else l=4;if((l|0)==4){o[_>>2]=6716;o[_+4>>2]=0;o[_+8>>2]=_+56;o[_+12>>2]=_+32;if((o[i+8>>2]|0)!=1){n=+lF[o[(o[r>>2]|0)+12>>2]&15](r,s,a,i,_);if(+c[i+12>>2]>n)c[i+12>>2]=n}else jF[o[(o[r>>2]|0)+8>>2]&31](r,_+56|0,_+32|0,i,_)}ae=_;return}function Gn(e,t,i,n,r,o,s,a,l,_,u){e=e|0;t=t|0;i=+i;n=+n;r=+r;o=+o;s=+s;a=+a;l=l|0;_=_|0;u=+u;var f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0;E=+c[e>>2]*o+ +c[e+16>>2]*s+ +c[e+32>>2]*a;v=+c[e+4>>2]*o+ +c[e+20>>2]*s+ +c[e+36>>2]*a;g=+c[e+8>>2]*o+ +c[e+24>>2]*s+ +c[e+40>>2]*a;A=+c[t>>2]*o+ +c[t+16>>2]*s+ +c[t+32>>2]*a;b=+c[t+4>>2]*o+ +c[t+20>>2]*s+ +c[t+36>>2]*a;h=+c[t+8>>2]*o+ +c[t+24>>2]*s+ +c[t+40>>2]*a;C=+c[l+80>>2];y=+c[l+84>>2];p=+c[l+88>>2];m=+c[_+80>>2];f=+c[_+84>>2];d=+c[_+88>>2];p=E*(E<0.0?-C:C)+v*(v<0.0?-y:y)+g*(g<0.0?-p:p);d=A*(A<0.0?-m:m)+b*(b<0.0?-f:f)+h*(h<0.0?-d:d);h=+c[l+96>>2];f=+c[_+96>>2];f=(p>h?p:h)+(d>f?d:f);return!((i*o+n*s+r*a+f<f-(i*o+n*s+r*a)?i*o+n*s+r*a+f:f-(i*o+n*s+r*a))>u)|0}function Wn(e){e=e|0;var t=0,i=0,r=0,s=0;o[e>>2]=10036;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+24>>2]=0;n[e+28>>0]=0;n[e+48>>0]=1;o[e+44>>2]=0;o[e+36>>2]=0;o[e+40>>2]=0;n[e+68>>0]=1;o[e+64>>2]=0;o[e+56>>2]=0;o[e+60>>2]=0;o[e+72>>2]=0;o[6747]=(o[6747]|0)+1;t=Do(51)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}t=o[e+8>>2]|0;if((t|0)>0){i=0;do{s=o[e+16>>2]|0;o[r+(i<<4)>>2]=o[s+(i<<4)>>2];o[r+(i<<4)+4>>2]=o[s+(i<<4)+4>>2];o[r+(i<<4)+8>>2]=o[s+(i<<4)+8>>2];o[r+(i<<4)+12>>2]=o[s+(i<<4)+12>>2];i=i+1|0}while((i|0)!=(t|0))}t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=r;o[e+12>>2]=2;Fe(e);return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=r;o[e+12>>2]=2;Fe(e);return}function Xn(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0;i=o[e+488>>2]|0;e:do{if((i|0)>0){s=o[e+496>>2]|0;r=0;while(1){if((o[s+(r<<2)>>2]|0)==(t|0))break;r=r+1|0;if((r|0)>=(i|0))break e}if((r|0)!=(i|0)){e=e+256|0;o[e>>2]=1;return}}}while(0);if((i|0)==(o[e+492>>2]|0)?(a=(i|0)==0?1:i<<1,(i|0)<(a|0)):0){if(!a)r=0;else{o[6747]=(o[6747]|0)+1;i=Do((a<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[e+488>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[e+496>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[e+496>>2]|0;if(s){if(n[e+500>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[e+488>>2]|0}o[e+496>>2]=0}n[e+500>>0]=1;o[e+496>>2]=r;o[e+492>>2]=a}o[(o[e+496>>2]|0)+(i<<2)>>2]=t;o[e+488>>2]=i+1;e=e+256|0;o[e>>2]=1;return}function zn(e,t,i,r,s,a,l,_,u,f,d,h,p){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;f=f|0;d=d|0;h=h|0;p=p|0;var b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0,T=0,R=0,M=0,I=0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0;R=O(o[u+24>>2]|0,f)|0;S=n[t+44>>0]|0;M=o[t+56>>2]|0;if(!(S<<24>>24!=0|(M|0)!=0)){t=0;return t|0}I=o[(h|0?u+12|0:u+8|0)>>2]|0;f=o[(h|0?u+20|0:u+16|0)>>2]|0;o[I+(R<<2)>>2]=o[d>>2];o[I+(R+1<<2)>>2]=o[d+4>>2];o[I+(R+2<<2)>>2]=o[d+8>>2];c[f+(R<<2)>>2]=-+c[d>>2];c[f+(R+1<<2)>>2]=-+c[d+4>>2];c[f+(R+2<<2)>>2]=-+c[d+8>>2];do{if(!h){b=+c[e+1176>>2];if(!(n[e+1301>>0]|0)){g=b-+c[i+48>>2];C=+c[e+1180>>2]-+c[i+52>>2];E=+c[e+1184>>2]-+c[i+56>>2];v=+c[d+8>>2];A=+c[d+4>>2];y=+c[d>>2];I=o[u+12>>2]|0;c[I+(R<<2)>>2]=C*v-E*A;c[I+(R+1<<2)>>2]=E*y-g*v;c[I+(R+2<<2)>>2]=g*A-C*y;y=+c[e+1176>>2]-+c[r+48>>2];C=+c[e+1180>>2]-+c[r+52>>2];A=+c[e+1184>>2]-+c[r+56>>2];g=+c[d+8>>2];v=+c[d+4>>2];E=+c[d>>2];I=o[u+20>>2]|0;c[I+(R<<2)>>2]=-(C*g-A*v);c[I+(R+1<<2)>>2]=-(A*E-y*g);c[I+(R+2<<2)>>2]=-(y*v-C*E);break}F=b-+c[r+48>>2];w=+c[e+1180>>2]-+c[r+52>>2];P=+c[e+1184>>2]-+c[r+56>>2];L=+c[d>>2];D=+c[d+4>>2];x=+c[d+8>>2];B=+c[e+1112>>2]-+c[i+48>>2];y=+c[e+1116>>2]-+c[i+52>>2];b=+c[e+1120>>2]-+c[i+56>>2];v=+c[t+52>>2]-+c[t+48>>2];N=L*(L*B+D*y+x*b)+L*v-L*(F*L+w*D+P*x);g=D*(L*B+D*y+x*b)+D*v-D*(F*L+w*D+P*x);v=x*(L*B+D*y+x*b)+x*v-x*(F*L+w*D+P*x);E=+c[e+1272>>2];C=+c[e+1276>>2];A=x*(y-D*(L*B+D*y+x*b)+E*g)-D*(b-x*(L*B+D*y+x*b)+E*v);m=L*(b-x*(L*B+D*y+x*b)+E*v)-x*(B-L*(L*B+D*y+x*b)+E*N);b=D*(B-L*(L*B+D*y+x*b)+E*N)-L*(y-D*(L*B+D*y+x*b)+E*g);y=x*(w-D*(F*L+w*D+P*x)-C*g)-D*(P-x*(F*L+w*D+P*x)-C*v);v=L*(P-x*(F*L+w*D+P*x)-C*v)-x*(F-L*(F*L+w*D+P*x)-C*N);g=D*(F-L*(F*L+w*D+P*x)-C*N)-L*(w-D*(F*L+w*D+P*x)-C*g);if(!((p|0)!=0|(n[e+1280>>0]|0)==0)){y=C*y;v=C*v;g=C*g;A=E*A;m=E*m;b=E*b}I=(o[u+12>>2]|0)+(R<<2)|0;c[I>>2]=A;c[I+4>>2]=m;c[I+8>>2]=b;I=o[u+20>>2]|0;c[I+(R<<2)>>2]=-y;c[I+(R+1<<2)>>2]=-v;c[I+(R+2<<2)>>2]=-g}}while(0);if(M|0?+c[t>>2]==+c[t+4>>2]:0){f=(o[u+28>>2]|0)+(R<<2)|0;c[f>>2]=0.0;b=0.0}else T=11;do{if((T|0)==11){f=(o[u+28>>2]|0)+(R<<2)|0;c[f>>2]=0.0;if(!(S<<24>>24)){if(M|0){b=0.0;break}else _=1;return _|0}o[(o[u+32>>2]|0)+(R<<2)>>2]=o[t+28>>2];if(M|0){b=+c[f>>2];break}v=+c[t+8>>2];g=h|0?v:-v;b=+c[t+52>>2];m=+c[t>>2];A=+c[t+4>>2];y=+c[u>>2]*+c[t+32>>2];do{if(!(m>A)){if(!(m==A)){if(g/y<0.0)if(b>=m?m-g/y>b:0){b=(m-b)/(g/y);break}else{b=b<m?0.0:1.0;break}if(g/y>0.0){if(b<=A?A-g/y<b:0){b=(A-b)/(g/y);break}else{b=b>A?0.0:1.0;break}}else b=0.0}else b=0.0}else b=1.0}while(0);c[f>>2]=b*v+ +c[f>>2];c[(o[u+36>>2]|0)+(R<<2)>>2]=-+c[t+12>>2];o[(o[u+40>>2]|0)+(R<<2)>>2]=o[t+12>>2];I=1;return I|0}}while(0);B=+c[u>>2]*+c[t+32>>2]*+c[t+48>>2];c[f>>2]=b+(h|0?-B:B);o[(o[u+32>>2]|0)+(R<<2)>>2]=o[t+36>>2];if(+c[t>>2]==+c[t+4>>2]){c[(o[u+36>>2]|0)+(R<<2)>>2]=-3402823466385288598117041.0e14;c[(o[u+40>>2]|0)+(R<<2)>>2]=3402823466385288598117041.0e14;I=1;return I|0}c[(o[u+36>>2]|0)+(R<<2)>>2]=(M|0)==1?0.0:-3402823466385288598117041.0e14;c[(o[u+40>>2]|0)+(R<<2)>>2]=(M|0)==1?3402823466385288598117041.0e14:0.0;v=+c[t+40>>2];if(!(v>0.0)){I=1;return I|0}if(h|0){B=+c[d>>2];y=+c[d+4>>2];b=+c[d+8>>2];m=b;A=y;g=B;y=+c[l>>2]*B+ +c[l+4>>2]*y;b=+c[l+8>>2]*b}else{B=+c[d>>2];y=+c[d+4>>2];b=+c[d+8>>2];m=b;A=y;g=B;y=+c[s>>2]*B+ +c[s+4>>2]*y;_=a;b=+c[s+8>>2]*b}b=y+b-(g*+c[_>>2]+A*+c[_+4>>2]+m*+c[_+8>>2]);if((M|0)==1){if(!(b<0.0)){I=1;return I|0}if(!(+c[f>>2]<-(v*b))){I=1;return I|0}c[f>>2]=-(v*b);I=1;return I|0}else{if(!(b>0.0)){I=1;return I|0}if(!(+c[f>>2]>-(v*b))){I=1;return I|0}c[f>>2]=-(v*b);I=1;return I|0}return 0}function Yn(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0.0,u=0,f=0.0,d=0,h=0,p=0,b=0.0,m=0.0,A=0.0,g=0,y=0.0,v=0.0;g=ae;ae=ae+288|0;p=o[e+4>>2]|0;n[p+312>>0]=0;o[p>>2]=0;n[p+356>>0]=1;o[p+292>>2]=1566444395;o[p+296>>2]=1566444395;o[p+300>>2]=1566444395;c[p+304>>2]=0.0;o[p+336>>2]=0;o[p+336+4>>2]=0;o[p+336+8>>2]=0;o[p+336+12>>2]=0;n[p+336+16>>0]=0;n[p+332>>0]=n[p+332>>0]&-16;b=+c[i+48>>2]-+c[t+48>>2]-(+c[s+48>>2]-+c[r+48>>2]);A=+c[i+52>>2]-+c[t+52>>2]-(+c[s+52>>2]-+c[r+52>>2]);m=+c[i+56>>2]-+c[t+56>>2]-(+c[s+56>>2]-+c[r+56>>2]);o[g+216>>2]=10472;c[g+216+36>>2]=999999984306749440.0;n[g+216+40>>0]=0;p=o[e+8>>2]|0;h=o[e+12>>2]|0;d=o[e+4>>2]|0;o[g+136>>2]=10520;o[g+136+4>>2]=0;o[g+136+8>>2]=1065353216;o[g+136+12>>2]=0;c[g+136+16>>2]=0.0;o[g+136+20>>2]=0;o[g+136+24>>2]=d;o[g+136+28>>2]=p;o[g+136+32>>2]=h;o[g+136+36>>2]=o[p+4>>2];o[g+136+40>>2]=o[h+4>>2];c[g+136+44>>2]=+nF[o[(o[p>>2]|0)+48>>2]&15](p);c[g+136+48>>2]=+nF[o[(o[h>>2]|0)+48>>2]&15](h);n[g+136+52>>0]=0;o[g+136+60>>2]=-1;o[g+136+72>>2]=1;o[g+136+76>>2]=1;c[g+128>>2]=999999984306749440.0;o[g>>2]=o[t>>2];o[g+4>>2]=o[t+4>>2];o[g+8>>2]=o[t+8>>2];o[g+12>>2]=o[t+12>>2];o[g+16>>2]=o[t+16>>2];o[g+16+4>>2]=o[t+16+4>>2];o[g+16+8>>2]=o[t+16+8>>2];o[g+16+12>>2]=o[t+16+12>>2];o[g+32>>2]=o[t+32>>2];o[g+32+4>>2]=o[t+32+4>>2];o[g+32+8>>2]=o[t+32+8>>2];o[g+32+12>>2]=o[t+32+12>>2];o[g+48>>2]=o[t+48>>2];o[g+48+4>>2]=o[t+48+4>>2];o[g+48+8>>2]=o[t+48+8>>2];o[g+48+12>>2]=o[t+48+12>>2];o[g+64>>2]=o[r>>2];o[g+64+4>>2]=o[r+4>>2];o[g+64+8>>2]=o[r+8>>2];o[g+64+12>>2]=o[r+12>>2];o[g+80>>2]=o[r+16>>2];o[g+80+4>>2]=o[r+16+4>>2];o[g+80+8>>2]=o[r+16+8>>2];o[g+80+12>>2]=o[r+16+12>>2];o[g+96>>2]=o[r+32>>2];o[g+96+4>>2]=o[r+32+4>>2];o[g+96+8>>2]=o[r+32+8>>2];o[g+96+12>>2]=o[r+32+12>>2];o[g+112>>2]=o[r+48>>2];o[g+112+4>>2]=o[r+48+4>>2];o[g+112+8>>2]=o[r+48+8>>2];o[g+112+12>>2]=o[r+48+12>>2];ts(g+136|0,g,g+216|0,0,0);h=(n[g+216+40>>0]|0)==0;p=g+216+20|0;o[g+264>>2]=o[p>>2];o[g+264+4>>2]=o[p+4>>2];o[g+264+8>>2]=o[p+8>>2];o[g+264+12>>2]=o[p+12>>2];if(h){a=0;ae=g;return a|0}f=+c[g+216+36>>2];l=+c[g+216+16>>2];e=o[g+216+12>>2]|0;u=o[g+216+8>>2]|0;d=o[g+216+4>>2]|0;do{if(f>1.0000000474974513e-03){l=0.0;h=0;while(1){if(h>>>0>31){e=0;h=13;break}v=b*(o[_>>2]=d,+c[_>>2]);v=A*(o[_>>2]=u,+c[_>>2])+v;y=l;l=l-f/(m*(o[_>>2]=e,+c[_>>2])+v);if(!(!(l<=y)&(!(l<0.0)&!(l>1.0)))){e=0;h=13;break}TF[o[o[a>>2]>>2]&31](a,l);v=1.0-l;c[g+48>>2]=v*+c[t+48>>2]+l*+c[i+48>>2];c[g+52>>2]=v*+c[t+52>>2]+l*+c[i+52>>2];c[g+56>>2]=v*+c[t+56>>2]+l*+c[i+56>>2];c[g+112>>2]=v*+c[r+48>>2]+l*+c[s+48>>2];c[g+116>>2]=v*+c[r+52>>2]+l*+c[s+52>>2];c[g+120>>2]=v*+c[r+56>>2]+l*+c[s+56>>2];ts(g+136|0,g,g+216|0,0,0);if(!(n[g+216+40>>0]|0)){e=0;h=13;break}f=+c[g+216+36>>2];if(f<0.0){h=8;break}o[g+264>>2]=o[p>>2];o[g+264+4>>2]=o[p+4>>2];o[g+264+8>>2]=o[p+8>>2];o[g+264+12>>2]=o[p+12>>2];e=o[g+216+12>>2]|0;u=o[g+216+8>>2]|0;d=o[g+216+4>>2]|0;if(!(f>1.0000000474974513e-03)){h=10;break}else h=h+1|0}if((h|0)==8){c[a+164>>2]=l;r=o[g+216+8>>2]|0;i=o[g+216+12>>2]|0;s=o[g+216+16>>2]|0;o[a+132>>2]=o[g+216+4>>2];o[a+136>>2]=r;o[a+140>>2]=i;o[a+144>>2]=s;o[a+148>>2]=o[p>>2];o[a+148+4>>2]=o[p+4>>2];o[a+148+8>>2]=o[p+8>>2];o[a+148+12>>2]=o[p+12>>2];a=1;ae=g;return a|0}else if((h|0)==10){f=l;l=+c[g+216+16>>2];break}else if((h|0)==13){ae=g;return e|0}}else f=0.0}while(0);v=b*(o[_>>2]=d,+c[_>>2]);v=A*(o[_>>2]=u,+c[_>>2])+v;if(m*(o[_>>2]=e,+c[_>>2])+v>=-+c[a+172>>2]){a=0;ae=g;return a|0}c[a+164>>2]=f;o[a+132>>2]=d;o[a+136>>2]=u;o[a+140>>2]=e;c[a+144>>2]=l;o[a+148>>2]=o[g+264>>2];o[a+148+4>>2]=o[g+264+4>>2];o[a+148+8>>2]=o[g+264+8>>2];o[a+148+12>>2]=o[g+264+12>>2];a=1;ae=g;return a|0}function Qn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0,N=0;u=ae;ae=ae+240|0;o[e+4>>2]=(o[e+4>>2]|0)+1;l=o[t+36>>2]|0;a=o[i+36>>2]|0;F=o[e+8>>2]|0;r=o[e+12>>2]|0;N=o[(o[F+4>>2]|0)+24>>2]|0;i=o[N+(l*80|0)+64>>2]|0;t=(o[r+4>>2]|0)+24|0;n=o[(o[t>>2]|0)+(a*80|0)+64>>2]|0;F=o[F+12>>2]|0;f=+c[F>>2];w=+c[F+4>>2];L=+c[F+8>>2];p=+c[F+16>>2];m=+c[F+20>>2];g=+c[F+24>>2];b=+c[F+32>>2];y=+c[F+36>>2];O=+c[F+40>>2];v=+c[N+(l*80|0)>>2];C=+c[N+(l*80|0)+16>>2];E=+c[N+(l*80|0)+32>>2];S=+c[N+(l*80|0)+4>>2];T=+c[N+(l*80|0)+20>>2];R=+c[N+(l*80|0)+36>>2];A=+c[N+(l*80|0)+8>>2];M=+c[N+(l*80|0)+24>>2];I=+c[N+(l*80|0)+40>>2];d=+c[N+(l*80|0)+48>>2];h=+c[N+(l*80|0)+52>>2];D=+c[N+(l*80|0)+56>>2];x=+c[F+48>>2]+(f*d+w*h+L*D);P=+c[F+52>>2]+(p*d+m*h+g*D);D=+c[F+56>>2]+(b*d+y*h+O*D);c[u+176>>2]=f*v+w*C+L*E;c[u+176+4>>2]=f*S+w*T+L*R;c[u+176+8>>2]=f*A+w*M+L*I;c[u+176+12>>2]=0.0;c[u+176+16>>2]=p*v+m*C+g*E;c[u+176+20>>2]=p*S+m*T+g*R;c[u+176+24>>2]=p*A+m*M+g*I;c[u+176+28>>2]=0.0;c[u+176+32>>2]=b*v+y*C+O*E;c[u+176+36>>2]=b*S+y*T+O*R;c[u+176+40>>2]=b*A+y*M+O*I;c[u+176+44>>2]=0.0;c[u+176+48>>2]=x;c[u+176+52>>2]=P;c[u+176+56>>2]=D;c[u+176+60>>2]=0.0;r=o[r+12>>2]|0;D=+c[r>>2];P=+c[r+4>>2];x=+c[r+8>>2];I=+c[r+16>>2];O=+c[r+20>>2];M=+c[r+24>>2];y=+c[r+32>>2];A=+c[r+36>>2];b=+c[r+40>>2];t=o[t>>2]|0;R=+c[t+(a*80|0)>>2];T=+c[t+(a*80|0)+16>>2];S=+c[t+(a*80|0)+32>>2];E=+c[t+(a*80|0)+4>>2];C=+c[t+(a*80|0)+20>>2];v=+c[t+(a*80|0)+36>>2];g=+c[t+(a*80|0)+8>>2];m=+c[t+(a*80|0)+24>>2];p=+c[t+(a*80|0)+40>>2];L=+c[t+(a*80|0)+48>>2];w=+c[t+(a*80|0)+52>>2];f=+c[t+(a*80|0)+56>>2];h=+c[r+48>>2]+(D*L+P*w+x*f);d=+c[r+52>>2]+(I*L+O*w+M*f);f=+c[r+56>>2]+(y*L+A*w+b*f);c[u+112>>2]=D*R+P*T+x*S;c[u+112+4>>2]=D*E+P*C+x*v;c[u+112+8>>2]=D*g+P*m+x*p;c[u+112+12>>2]=0.0;c[u+112+16>>2]=I*R+O*T+M*S;c[u+112+20>>2]=I*E+O*C+M*v;c[u+112+24>>2]=I*g+O*m+M*p;c[u+112+28>>2]=0.0;c[u+112+32>>2]=y*R+A*T+b*S;c[u+112+36>>2]=y*E+A*C+b*v;c[u+112+40>>2]=y*g+A*m+b*p;c[u+112+44>>2]=0.0;c[u+112+48>>2]=h;c[u+112+52>>2]=d;c[u+112+56>>2]=f;c[u+112+60>>2]=0.0;BF[o[(o[i>>2]|0)+8>>2]&127](i,u+176|0,u+96|0,u+80|0);BF[o[(o[n>>2]|0)+8>>2]&127](n,u+112|0,u+64|0,u+48|0);if(!(+c[u+96>>2]>+c[u+48>>2])?!(+c[u+80>>2]<+c[u+64>>2]):0)t=1;else t=0;if(!(!(+c[u+96+8>>2]>+c[u+48+8>>2])?!(+c[u+80+8>>2]<+c[u+64+8>>2]):0))t=0;if(+c[u+96+4>>2]>+c[u+48+4>>2]){ae=u;return}if(+c[u+80+4>>2]<+c[u+64+4>>2]|t^1){ae=u;return}r=o[e+8>>2]|0;t=o[r+8>>2]|0;o[u+24>>2]=r;o[u+24+4>>2]=i;o[u+24+8>>2]=t;o[u+24+12>>2]=u+176;o[u+24+16>>2]=-1;o[u+24+20>>2]=l;t=o[e+12>>2]|0;r=o[t+8>>2]|0;o[u>>2]=t;o[u+4>>2]=n;o[u+8>>2]=r;o[u+12>>2]=u+112;o[u+16>>2]=-1;o[u+20>>2]=a;r=o[e+28>>2]|0;o[6735]=(o[6735]|0)+1;t=(a<<16|l)+~((a<<16|l)<<15)|0;t=((10?t>>10:t)^t)*9|0;t=(6?t>>6:t)^t;t=(o[r+12>>2]|0)+-1&((16?t+~(t<<11)>>16:t+~(t<<11)|0)^t+~(t<<11));e:do{if((t|0)<(o[r+32>>2]|0)?(s=o[(o[r+40>>2]|0)+(t<<2)>>2]|0,(s|0)!=-1):0){n=o[r+16>>2]|0;t=s;while(1){i=n+(t*12|0)|0;if((o[i>>2]|0)==(l|0)?(o[n+(t*12|0)+4>>2]|0)==(a|0):0)break;t=o[(o[r+60>>2]|0)+(t<<2)>>2]|0;if((t|0)==-1){_=16;break e}}if(i)t=o[n+(t*12|0)+8>>2]|0;else _=16}else _=16}while(0);if((_|0)==16){t=o[e+16>>2]|0;t=AF[o[(o[t>>2]|0)+8>>2]&31](t,u+24|0,u,o[e+32>>2]|0)|0;N=o[e+28>>2]|0;o[(mF[o[(o[N>>2]|0)+12>>2]&63](N,l,a)|0)+8>>2]=t}N=o[e+24>>2]|0;_=o[N+8>>2]|0;F=o[N+12>>2]|0;o[N+8>>2]=u+24;o[N+12>>2]=u;LF[o[(o[N>>2]|0)+8>>2]&127](N,-1,l);N=o[e+24>>2]|0;LF[o[(o[N>>2]|0)+12>>2]&127](N,-1,a);jF[o[(o[t>>2]|0)+8>>2]&31](t,u+24|0,u,o[e+20>>2]|0,o[e+24>>2]|0);N=o[e+24>>2]|0;o[N+8>>2]=_;o[N+12>>2]=F;ae=u;return}function Kn(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0.0,l=0.0,u=0.0,f=0.0,d=0,h=0,p=0.0,b=0.0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0;T=ae;ae=ae+48|0;switch(o[t+4>>2]|0){case 8:{o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;ae=T;return}case 0:{C=+c[t+28>>2];E=+c[t+28+4>>2];E=+c[i+4>>2]>=0.0?E:-E;S=+c[t+28+8>>2];S=+c[i+8>>2]>=0.0?S:-S;c[e>>2]=+c[i>>2]>=0.0?C:-C;c[e+4>>2]=E;c[e+8>>2]=S;c[e+12>>2]=0.0;ae=T;return}case 1:{g=+c[i>>2];y=+c[i+4>>2];S=+c[i+8>>2];E=g*+c[t+56>>2]+y*+c[t+56+4>>2]+S*+c[t+56+8>>2];C=g*+c[t+56+16>>2]+y*+c[t+56+20>>2]+S*+c[t+56+24>>2];S=g*+c[t+56+32>>2]+y*+c[t+56+36>>2]+S*+c[t+56+40>>2];d=E<C?C<S?2:1:E<S?2:0;h=o[t+56+(d<<4)+4>>2]|0;m=o[t+56+(d<<4)+8>>2]|0;o[e>>2]=o[t+56+(d<<4)>>2];o[e+4>>2]=h;o[e+8>>2]=m;c[e+12>>2]=0.0;ae=T;return}case 13:{o[T+32>>2]=o[t+28>>2];o[T+32+4>>2]=o[t+28+4>>2];o[T+32+8>>2]=o[t+28+8>>2];o[T+32+12>>2]=o[t+28+12>>2];o[T+16>>2]=o[i>>2];r=o[i+4>>2]|0;o[T+16+4>>2]=r;m=o[i+8>>2]|0;o[T+16+8>>2]=m;c[T+16+12>>2]=0.0;i=o[t+52>>2]|0;n=(o[_>>2]=m,+c[_>>2]);switch(i|0){case 2:{n=(o[_>>2]=r,+c[_>>2]);r=0;t=2;d=1;break}case 1:{r=0;t=1;d=2;break}default:{r=1;t=0;d=2}}f=+c[T+32+(r<<2)>>2];s=+c[T+32+(i<<2)>>2];l=+c[T+16+(r<<2)>>2];u=+v(+(l*l+n*n));if(u!=0.0){a=n*(f/u);s=+c[T+16+(t<<2)>>2]<0.0?-s:s;n=l*(f/u)}else{a=0.0;s=+c[T+16+(t<<2)>>2]<0.0?-s:s;n=f}c[T+(r<<2)>>2]=n;c[T+(t<<2)>>2]=s;c[T+(d<<2)>>2]=a;o[e>>2]=o[T>>2];o[e+4>>2]=o[T+4>>2];o[e+8>>2]=o[T+8>>2];c[e+12>>2]=0.0;ae=T;return}case 10:{n=+c[i>>2];s=+c[i+4>>2];a=+c[i+8>>2];r=o[t+52>>2]|0;E=+c[t+28+(r<<2)>>2];l=+c[t+28+(((r+2|0)%3|0)<<2)>>2];if(n*n+s*s+a*a<9.999999747378752e-05){S=1.0;C=0.0;y=0.0}else{y=1.0/+v(+(n*n+s*s+a*a));S=n*y;C=s*y;y=a*y}o[T+32>>2]=0;o[T+32+4>>2]=0;o[T+32+8>>2]=0;o[T+32+12>>2]=0;c[T+32+(r<<2)>>2]=E;A=l*S;g=l*C;b=l*y;p=+c[t+44>>2];u=S*p;f=C*p;p=y*p;l=A+ +c[T+32>>2]-u;a=g+ +c[T+32+4>>2]-f;s=b+ +c[T+32+8>>2]-p;n=y*s+(S*l+C*a);if(n>-999999984306749440.0){h=(c[_>>2]=s,o[_>>2]|0);m=(c[_>>2]=a,o[_>>2]|0);s=n;d=(c[_>>2]=l,o[_>>2]|0)}else{s=-999999984306749440.0;d=0;h=0;m=0}o[T+32>>2]=0;o[T+32+4>>2]=0;o[T+32+8>>2]=0;o[T+32+12>>2]=0;c[T+32+(r<<2)>>2]=-E;A=A+ +c[T+32>>2]-u;E=g+ +c[T+32+4>>2]-f;n=b+ +c[T+32+8>>2]-p;t=S*A+C*E+y*n>s;r=(c[_>>2]=A,o[_>>2]|0);i=(c[_>>2]=E,o[_>>2]|0);h=t?(c[_>>2]=n,o[_>>2]|0):h;o[e>>2]=t?r:d;o[e+4>>2]=t?i:m;o[e+8>>2]=h;c[e+12>>2]=0.0;ae=T;return}case 5:{h=o[t+92>>2]|0;d=o[t+96>>2]|0;p=+c[t+12>>2];b=+c[t+16>>2];f=+c[t+20>>2];l=+c[i>>2]*p;u=+c[i+4>>2]*b;a=+c[i+8>>2]*f;if((d|0)>0){t=0;s=-3402823466385288598117041.0e14;r=-1;while(1){n=l*+c[h+(t<<4)>>2]+u*+c[h+(t<<4)+4>>2]+a*+c[h+(t<<4)+8>>2];i=n>s;r=i?t:r;t=t+1|0;if((t|0)==(d|0))break;else s=i?n:s}}else r=-1;E=b*+c[h+(r<<4)+4>>2];S=f*+c[h+(r<<4)+8>>2];c[e>>2]=p*+c[h+(r<<4)>>2];c[e+4>>2]=E;c[e+8>>2]=S;c[e+12>>2]=0.0;ae=T;return}case 4:{h=o[t+104>>2]|0;d=o[t+96>>2]|0;p=+c[t+12>>2];b=+c[t+16>>2];f=+c[t+20>>2];l=+c[i>>2]*p;u=+c[i+4>>2]*b;a=+c[i+8>>2]*f;if((d|0)>0){t=0;s=-3402823466385288598117041.0e14;r=-1;while(1){n=l*+c[h+(t<<4)>>2]+u*+c[h+(t<<4)+4>>2]+a*+c[h+(t<<4)+8>>2];i=n>s;r=i?t:r;t=t+1|0;if((t|0)==(d|0))break;else s=i?n:s}}else r=-1;E=b*+c[h+(r<<4)+4>>2];S=f*+c[h+(r<<4)+8>>2];c[e>>2]=p*+c[h+(r<<4)>>2];c[e+4>>2]=E;c[e+8>>2]=S;c[e+12>>2]=0.0;ae=T;return}default:{LF[o[(o[t>>2]|0)+68>>2]&127](e,t,i);ae=T;return}}}function Zn(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,u=0,f=0.0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0,O=0,I=0;I=o[e+88>>2]|0;if((I|0)==(o[e+92>>2]|0)?(h=(I|0)==0?1:I<<1,(I|0)<(h|0)):0){if(!h){u=I;d=0}else{o[6747]=(o[6747]|0)+1;l=Do((h*152|3)+16|0)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}u=o[e+88>>2]|0;d=l}if((u|0)>0){l=0;do{Tn(d+(l*152|0)|0,(o[e+96>>2]|0)+(l*152|0)|0,152)|0;l=l+1|0}while((l|0)!=(u|0))}l=o[e+96>>2]|0;if(l|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=d;o[e+92>>2]=h;l=o[e+88>>2]|0}else l=I;o[e+88>>2]=l+1;O=o[e+96>>2]|0;o[O+(I*152|0)+140>>2]=s;o[O+(I*152|0)+16>>2]=0;o[O+(I*152|0)+16+4>>2]=0;o[O+(I*152|0)+16+8>>2]=0;o[O+(I*152|0)+16+12>>2]=0;c[O+(I*152|0)+48>>2]=-0.0;c[O+(I*152|0)+52>>2]=-0.0;c[O+(I*152|0)+56>>2]=-0.0;c[O+(I*152|0)+60>>2]=0.0;e=o[e+16>>2]|0;h=o[e+(i*244|0)+240>>2]|0;M=o[e+(r*244|0)+240>>2]|0;o[O+(I*152|0)+144>>2]=i;o[O+(I*152|0)+148>>2]=r;s=o[a+88>>2]|0;o[O+(I*152|0)+104>>2]=s;o[O+(I*152|0)+132>>2]=0;c[O+(I*152|0)+100>>2]=0.0;c[O+(I*152|0)+96>>2]=0.0;E=-+c[t>>2];S=-+c[t+4>>2];T=-+c[t+8>>2];c[O+(I*152|0)>>2]=E;c[O+(I*152|0)+4>>2]=S;c[O+(I*152|0)+8>>2]=T;c[O+(I*152|0)+12>>2]=0.0;R=(o[_>>2]=s,+c[_>>2]);if(h|0){l=(c[_>>2]=(+c[h+264>>2]*E+ +c[h+268>>2]*S+ +c[h+272>>2]*T)*+c[h+544>>2],o[_>>2]|0);u=(c[_>>2]=(+c[h+280>>2]*E+ +c[h+284>>2]*S+ +c[h+288>>2]*T)*+c[h+548>>2],o[_>>2]|0);d=(c[_>>2]=(+c[h+296>>2]*E+ +c[h+300>>2]*S+ +c[h+304>>2]*T)*+c[h+552>>2],o[_>>2]|0)}else{l=0;u=0;d=0}o[O+(I*152|0)+64>>2]=l;o[O+(I*152|0)+68>>2]=u;o[O+(I*152|0)+72>>2]=d;c[O+(I*152|0)+76>>2]=0.0;y=+c[t>>2];v=+c[t+4>>2];C=+c[t+8>>2];t=o[t+12>>2]|0;c[O+(I*152|0)+32>>2]=y;c[O+(I*152|0)+36>>2]=v;c[O+(I*152|0)+40>>2]=C;o[O+(I*152|0)+44>>2]=t;if(M|0){l=(c[_>>2]=(y*+c[M+264>>2]+v*+c[M+268>>2]+C*+c[M+272>>2])*+c[M+544>>2],o[_>>2]|0);u=(c[_>>2]=(y*+c[M+280>>2]+v*+c[M+284>>2]+C*+c[M+288>>2])*+c[M+548>>2],o[_>>2]|0);d=(c[_>>2]=(y*+c[M+296>>2]+v*+c[M+300>>2]+C*+c[M+304>>2])*+c[M+552>>2],o[_>>2]|0)}else{l=0;u=0;d=0}o[O+(I*152|0)+80>>2]=l;o[O+(I*152|0)+84>>2]=u;o[O+(I*152|0)+88>>2]=d;c[O+(I*152|0)+92>>2]=0.0;if(h|0){f=+c[h+264>>2]*E+ +c[h+268>>2]*S+ +c[h+272>>2]*T;p=+c[h+280>>2]*E+ +c[h+284>>2]*S+ +c[h+288>>2]*T;b=+c[h+296>>2]*E+ +c[h+300>>2]*S+ +c[h+304>>2]*T}else{f=0.0;p=0.0;b=0.0}if(M|0){m=+c[M+264>>2]*y+ +c[M+268>>2]*v+ +c[M+272>>2]*C;A=y*+c[M+280>>2]+v*+c[M+284>>2]+C*+c[M+288>>2];g=y*+c[M+296>>2]+v*+c[M+300>>2]+C*+c[M+304>>2]}else{m=0.0;A=0.0;g=0.0}A=1.0/(f*E+p*S+b*T+0.0+(m*y+A*v+g*C));c[O+(I*152|0)+108>>2]=A;if(h|0){p=+c[e+(i*244|0)+192>>2];b=+c[e+(i*244|0)+196>>2];m=+c[e+(i*244|0)+200>>2];f=(+c[e+(i*244|0)+176>>2]+ +c[e+(i*244|0)+208>>2])*0.0+(+c[e+(i*244|0)+180>>2]+ +c[e+(i*244|0)+212>>2])*0.0+(+c[e+(i*244|0)+184>>2]+ +c[e+(i*244|0)+216>>2])*0.0}else{p=0.0;b=0.0;m=0.0;f=0.0}f=f+(m*T+(b*S+p*E));if(!M){T=0.0;g=0.0;E=0.0;S=-0.0;T=y*T;v=v*g;T=v+T;E=C*E;T=E+T;T=S+T;T=f+T;T=0.0-T;T=A*T;r=O+(I*152|0)+112|0;c[r>>2]=T;r=O+(I*152|0)+116|0;c[r>>2]=0.0;R=-R;r=O+(I*152|0)+120|0;c[r>>2]=R;r=O+(I*152|0)+124|0;o[r>>2]=s;return}T=+c[e+(r*244|0)+192>>2];g=+c[e+(r*244|0)+196>>2];E=+c[e+(r*244|0)+200>>2];S=(+c[e+(r*244|0)+176>>2]+ +c[e+(r*244|0)+208>>2])*-0.0+(+c[e+(r*244|0)+180>>2]+ +c[e+(r*244|0)+212>>2])*-0.0+(+c[e+(r*244|0)+184>>2]+ +c[e+(r*244|0)+216>>2])*-0.0;T=y*T;v=v*g;T=v+T;E=C*E;T=E+T;T=S+T;T=f+T;T=0.0-T;T=A*T;r=O+(I*152|0)+112|0;c[r>>2]=T;r=O+(I*152|0)+116|0;c[r>>2]=0.0;R=-R;r=O+(I*152|0)+120|0;c[r>>2]=R;r=O+(I*152|0)+124|0;o[r>>2]=s;return}function Jn(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0,a=0,l=0,u=0.0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0;f=ae;ae=ae+16|0;o[e+236>>2]=2;o[e+312>>2]=0;o[e+312+4>>2]=0;o[e+312+8>>2]=0;o[e+312+12>>2]=0;o[e+312+16>>2]=0;o[e+312+20>>2]=0;o[e+312+24>>2]=0;o[e+312+28>>2]=0;o[e+544>>2]=1065353216;o[e+548>>2]=1065353216;o[e+552>>2]=1065353216;c[e+556>>2]=0.0;o[e+348>>2]=1065353216;o[e+352>>2]=1065353216;o[e+356>>2]=1065353216;i=e+360|0;s=i+36|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(s|0));o[e+412>>2]=0;o[e+412+4>>2]=0;o[e+412+8>>2]=0;o[e+412+12>>2]=0;o[e+412+16>>2]=0;o[e+412+20>>2]=0;o[e+412+24>>2]=0;o[e+412+28>>2]=0;r=+c[t+92>>2];u=+c[t+96>>2];c[f+12>>2]=r;c[f+8>>2]=u;c[f+4>>2]=0.0;c[f>>2]=1.0;o[e+444>>2]=o[(r<0.0?f+4|0:r>1.0?f:f+12|0)>>2];c[f+4>>2]=0.0;c[f>>2]=1.0;o[e+448>>2]=o[(u<0.0?f+4|0:u>1.0?f:f+8|0)>>2];o[e+472>>2]=o[t+112>>2];o[e+476>>2]=o[t+116>>2];i=o[t+4>>2]|0;o[e+480>>2]=i;o[e+608>>2]=0;o[e+612>>2]=0;n[e+452>>0]=n[t+120>>0]|0;o[e+456>>2]=o[t+124>>2];o[e+460>>2]=o[t+128>>2];o[e+464>>2]=o[t+132>>2];o[e+468>>2]=o[t+136>>2];if(!i){o[e+4>>2]=o[t+8>>2];o[e+4+4>>2]=o[t+8+4>>2];o[e+4+8>>2]=o[t+8+8>>2];o[e+4+12>>2]=o[t+8+12>>2];o[e+20>>2]=o[t+24>>2];o[e+20+4>>2]=o[t+24+4>>2];o[e+20+8>>2]=o[t+24+8>>2];o[e+20+12>>2]=o[t+24+12>>2];o[e+36>>2]=o[t+40>>2];o[e+36+4>>2]=o[t+40+4>>2];o[e+36+8>>2]=o[t+40+8>>2];o[e+36+12>>2]=o[t+40+12>>2];o[e+52>>2]=o[t+56>>2];o[e+52+4>>2]=o[t+56+4>>2];o[e+52+8>>2]=o[t+56+8>>2];o[e+52+12>>2]=o[t+56+12>>2];i=e+20|0;s=e+36|0;a=e+52|0;l=e+4|0}else{xF[o[(o[i>>2]|0)+8>>2]&127](i,e+4|0);i=e+20|0;s=e+36|0;a=e+52|0;l=e+4|0}o[e+68>>2]=o[l>>2];o[e+68+4>>2]=o[l+4>>2];o[e+68+8>>2]=o[l+8>>2];o[e+68+12>>2]=o[l+12>>2];o[e+84>>2]=o[i>>2];o[e+84+4>>2]=o[i+4>>2];o[e+84+8>>2]=o[i+8>>2];o[e+84+12>>2]=o[i+12>>2];o[e+100>>2]=o[s>>2];o[e+100+4>>2]=o[s+4>>2];o[e+100+8>>2]=o[s+8>>2];o[e+100+12>>2]=o[s+12>>2];o[e+116>>2]=o[a>>2];o[e+116+4>>2]=o[a+4>>2];o[e+116+8>>2]=o[a+8>>2];o[e+116+12>>2]=o[a+12>>2];o[e+132>>2]=0;o[e+132+4>>2]=0;o[e+132+8>>2]=0;o[e+132+12>>2]=0;o[e+132+16>>2]=0;o[e+132+20>>2]=0;o[e+132+24>>2]=0;o[e+132+28>>2]=0;o[e+224>>2]=o[t+100>>2];o[e+232>>2]=o[t+104>>2];o[e+228>>2]=o[t+108>>2];xF[o[(o[e>>2]|0)+12>>2]&127](e,o[t+72>>2]|0);i=o[6408]|0;o[6408]=i+1;o[e+508>>2]=i;r=+c[t>>2];i=o[e+204>>2]|0;if(r==0.0){o[e+204>>2]=i|1;u=0.0}else{o[e+204>>2]=i&-2;u=1.0/r}c[e+344>>2]=u;h=r*+c[e+384>>2];d=r*+c[e+388>>2];c[e+364>>2]=r*+c[e+380>>2];c[e+368>>2]=h;c[e+372>>2]=d;c[e+376>>2]=0.0;r=+c[t+76>>2];s=r!=0.0?(c[_>>2]=1.0/r,o[_>>2]|0):0;r=+c[t+80>>2];i=r!=0.0?(c[_>>2]=1.0/r,o[_>>2]|0):0;r=+c[t+84>>2];t=r!=0.0?(c[_>>2]=1.0/r,o[_>>2]|0):0;o[e+396>>2]=s;o[e+400>>2]=i;o[e+404>>2]=t;c[e+408>>2]=0.0;b=u*+c[e+352>>2];E=u*+c[e+356>>2];c[e+560>>2]=u*+c[e+348>>2];c[e+564>>2]=b;c[e+568>>2]=E;c[e+572>>2]=0.0;E=+c[e+4>>2];b=(o[_>>2]=s,+c[_>>2]);C=+c[e+8>>2];r=(o[_>>2]=i,+c[_>>2]);v=+c[e+12>>2];d=(o[_>>2]=t,+c[_>>2]);y=+c[e+20>>2];g=+c[e+24>>2];A=+c[e+28>>2];m=+c[e+36>>2];p=+c[e+40>>2];h=+c[e+44>>2];c[e+264>>2]=E*(E*b)+C*(C*r)+v*(v*d);c[e+268>>2]=E*b*y+C*r*g+v*d*A;c[e+272>>2]=E*b*m+C*r*p+v*d*h;c[e+276>>2]=0.0;c[e+280>>2]=E*(y*b)+C*(g*r)+v*(A*d);c[e+284>>2]=y*(y*b)+g*(g*r)+A*(A*d);c[e+288>>2]=y*b*m+g*r*p+A*d*h;c[e+292>>2]=0.0;c[e+296>>2]=E*(m*b)+C*(p*r)+v*(h*d);c[e+300>>2]=y*(m*b)+g*(p*r)+A*(h*d);c[e+304>>2]=m*(m*b)+p*(p*r)+h*(h*d);c[e+308>>2]=0.0;o[e+504>>2]=0;o[e+512>>2]=0;o[e+512+4>>2]=0;o[e+512+8>>2]=0;o[e+512+12>>2]=0;o[e+512+16>>2]=0;o[e+512+20>>2]=0;o[e+512+24>>2]=0;o[e+512+28>>2]=0;d=u*+c[e+352>>2];h=u*+c[e+356>>2];c[e+560>>2]=u*+c[e+348>>2];c[e+564>>2]=d;c[e+568>>2]=h;i=e+572|0;s=i+36|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(s|0));ae=f;return}function qn(e,t,i,n,r,s){e=e|0;t=+t;i=+i;n=n|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0;p=ae;ae=ae+704|0;u=Zw(r)|0;f=+c[u>>2];d=+c[u+4>>2];h=+c[u+8>>2];c[p+680>>2]=0.0;c[p+676>>2]=0.0;c[p+672>>2]=0.0;Am(p+688|0,p+680|0,p+676|0,p+672|0);c[(JL(p+688|0)|0)+(n<<2)>>2]=i*.5;c[p+648>>2]=0.0;c[p+644>>2]=0.0;c[p+640>>2]=0.0;Am(p+656|0,p+648|0,p+644|0,p+640|0);c[(JL(p+656|0)|0)+(((n+1|0)%3|0)<<2)>>2]=t;c[p+616>>2]=0.0;c[p+612>>2]=0.0;c[p+608>>2]=0.0;Am(p+624|0,p+616|0,p+612|0,p+608|0);c[(JL(p+624|0)|0)+(((n+2|0)%3|0)<<2)>>2]=t;c[p+584>>2]=0.0;c[p+580>>2]=0.0;c[p+576>>2]=0.0;Am(p+592|0,p+584|0,p+580|0,p+576|0);u=JL(p+592|0)|0;c[u+(n<<2)>>2]=-(i*.5);l=p+688+4|0;_=p+688+8|0;a=0;while(1){if(a>>>0>=360)break;i=+(a|0)*.01745329238474369;c[u+(((n+1|0)%3|0)<<2)>>2]=+HL(i)*t;c[u+(((n+2|0)%3|0)<<2)>>2]=+jL(i)*t;b=o[(o[e>>2]|0)+8>>2]|0;m=JL(r)|0;g_(p+544|0,m,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+560|0,f,d,h,+c[p+544>>2],+c[p+544+4>>2],+c[p+544+8>>2]);g_(p+512|0,m,+c[p+592>>2],+c[p+592+4>>2],+c[p+592+8>>2]);Eh(p+528|0,f,d,h,+c[p+512>>2],+c[p+512+4>>2],+c[p+512+8>>2]);BF[b&127](e,p+560|0,p+528|0,s);a=a+30|0}m=o[(o[e>>2]|0)+8>>2]|0;b=JL(r)|0;g_(p+480|0,b,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+496|0,f,d,h,+c[p+480>>2],+c[p+480+4>>2],+c[p+480+8>>2]);zp(p+416|0,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+432|0,+c[p+416>>2],+c[p+416+4>>2],+c[p+416+8>>2],+c[p+656>>2],+c[p+656+4>>2],+c[p+656+8>>2]);g_(p+448|0,b,+c[p+432>>2],+c[p+432+4>>2],+c[p+432+8>>2]);Eh(p+464|0,f,d,h,+c[p+448>>2],+c[p+448+4>>2],+c[p+448+8>>2]);BF[m&127](e,p+496|0,p+464|0,s);m=o[(o[e>>2]|0)+8>>2]|0;g_(p+384|0,b,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+400|0,f,d,h,+c[p+384>>2],+c[p+384+4>>2],+c[p+384+8>>2]);zp(p+320|0,+c[p+688>>2],+c[l>>2],+c[_>>2]);Th(p+336|0,+c[p+320>>2],+c[p+320+4>>2],+c[p+320+8>>2],+c[p+656>>2],+c[p+656+4>>2],+c[p+656+8>>2]);g_(p+352|0,b,+c[p+336>>2],+c[p+336+4>>2],+c[p+336+8>>2]);Eh(p+368|0,f,d,h,+c[p+352>>2],+c[p+352+4>>2],+c[p+352+8>>2]);BF[m&127](e,p+400|0,p+368|0,s);m=o[(o[e>>2]|0)+8>>2]|0;g_(p+288|0,b,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+304|0,f,d,h,+c[p+288>>2],+c[p+288+4>>2],+c[p+288+8>>2]);zp(p+224|0,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+240|0,+c[p+224>>2],+c[p+224+4>>2],+c[p+224+8>>2],+c[p+624>>2],+c[p+624+4>>2],+c[p+624+8>>2]);g_(p+256|0,b,+c[p+240>>2],+c[p+240+4>>2],+c[p+240+8>>2]);Eh(p+272|0,f,d,h,+c[p+256>>2],+c[p+256+4>>2],+c[p+256+8>>2]);BF[m&127](e,p+304|0,p+272|0,s);m=o[(o[e>>2]|0)+8>>2]|0;g_(p+192|0,b,+c[p+688>>2],+c[l>>2],+c[_>>2]);Eh(p+208|0,f,d,h,+c[p+192>>2],+c[p+192+4>>2],+c[p+192+8>>2]);zp(p+128|0,+c[p+688>>2],+c[l>>2],+c[_>>2]);Th(p+144|0,+c[p+128>>2],+c[p+128+4>>2],+c[p+128+8>>2],+c[p+624>>2],+c[p+624+4>>2],+c[p+624+8>>2]);g_(p+160|0,b,+c[p+144>>2],+c[p+144+4>>2],+c[p+144+8>>2]);Eh(p+176|0,f,d,h,+c[p+160>>2],+c[p+160+4>>2],+c[p+160+8>>2]);BF[m&127](e,p+208|0,p+176|0,s);c[p+104>>2]=0.0;c[p+100>>2]=0.0;c[p+96>>2]=0.0;Am(p+112|0,p+104|0,p+100|0,p+96|0);c[(JL(p+112|0)|0)+(n<<2)>>2]=1.0;c[p+72>>2]=0.0;c[p+68>>2]=0.0;c[p+64>>2]=0.0;Am(p+80|0,p+72|0,p+68|0,p+64|0);c[(JL(p+80|0)|0)+(((n+1|0)%3|0)<<2)>>2]=1.0;m=o[(o[e>>2]|0)+60>>2]|0;g_(p+32|0,b,+c[p+688>>2],+c[l>>2],+c[_>>2]);Th(p+48|0,f,d,h,+c[p+32>>2],+c[p+32+4>>2],+c[p+32+8>>2]);g_(p+16|0,b,+c[p+112>>2],+c[p+112+4>>2],+c[p+112+8>>2]);g_(p,b,+c[p+80>>2],+c[p+80+4>>2],+c[p+80+8>>2]);HF[m&1](e,p+48|0,p+16|0,p,t,t,0.0,6.2831854820251465,s,0,10.0);ae=p;return}function $n(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0,N=0,B=0,k=0,U=0;s=ae;ae=ae+240|0;if(!(o[e+16>>2]|0)){F=o[e+12>>2]|0;e=o[e+20>>2]|0;C=+c[t>>2];p=+c[t+4>>2];g=+c[t+8>>2];l=+c[t+16>>2];b=+c[t+20>>2];a=+c[t+24>>2];u=+c[t+32>>2];m=+c[t+36>>2];f=+c[t+40>>2];x=+c[t+48>>2];I=+c[t+52>>2];O=+c[t+56>>2];L=+c[i>>2];w=+c[i+16>>2];S=+c[i+32>>2];D=+c[i+4>>2];P=+c[i+20>>2];E=+c[i+36>>2];y=+c[i+8>>2];_=+c[i+24>>2];h=+c[i+40>>2];M=-+c[i+48>>2];R=-+c[i+52>>2];v=-+c[i+56>>2];t=o[(o[F>>2]|0)+64>>2]|0;T=-+c[e+48>>2];A=-+c[e+52>>2];d=-+c[e+56>>2];c[s+16>>2]=(C*L+l*w+u*S)*T+(C*D+l*P+u*E)*A+(C*y+l*_+u*h)*d;c[s+16+4>>2]=(p*L+b*w+m*S)*T+(p*D+b*P+m*E)*A+(p*y+b*_+m*h)*d;c[s+16+8>>2]=(g*L+a*w+f*S)*T+(g*D+a*P+f*E)*A+(g*y+a*_+f*h)*d;c[s+16+12>>2]=0.0;LF[t&127](s+152|0,F,s+16|0);d=+c[s+152>>2];A=+c[s+152+4>>2];T=+c[s+152+8>>2];S=x*L+I*w+O*S+(L*M+w*R+S*v)+((C*L+l*w+u*S)*d+(p*L+b*w+m*S)*A+(g*L+a*w+f*S)*T);E=x*D+I*P+O*E+(D*M+P*R+E*v)+((C*D+l*P+u*E)*d+(p*D+b*P+m*E)*A+(g*D+a*P+f*E)*T);T=x*y+I*_+O*h+(y*M+_*R+h*v)+((C*y+l*_+u*h)*d+(p*y+b*_+m*h)*A+(g*y+a*_+f*h)*T);h=+c[e+48>>2];f=+c[e+52>>2];_=+c[e+56>>2];a=_*T+(h*S+f*E)-+c[e+64>>2];y=+c[i>>2];g=+c[i+4>>2];A=+c[i+8>>2];m=+c[i+16>>2];b=+c[i+20>>2];p=+c[i+24>>2];d=+c[i+32>>2];u=+c[i+36>>2];l=+c[i+40>>2];C=(S-h*a)*m+(E-f*a)*b+(T-_*a)*p+ +c[i+52>>2];v=(S-h*a)*d+(E-f*a)*u+(T-_*a)*l+ +c[i+56>>2];c[s+16>>2]=A*(T-_*a)+(y*(S-h*a)+g*(E-f*a))+ +c[i+48>>2];c[s+16+4>>2]=C;c[s+16+8>>2]=v;c[s+16+12>>2]=0.0;c[s>>2]=h*y+f*g+_*A;c[s+4>>2]=h*m+f*b+_*p;c[s+8>>2]=h*d+f*u+_*l;c[s+12>>2]=0.0;FF[o[(o[r>>2]|0)+16>>2]&15](r,s,s+16|0,a);ae=s;return}else{k=o[e+4>>2]|0;n[k+312>>0]=0;o[k>>2]=0;n[k+356>>0]=1;o[k+292>>2]=1566444395;o[k+296>>2]=1566444395;o[k+300>>2]=1566444395;c[k+304>>2]=0.0;o[k+336>>2]=0;o[k+336+4>>2]=0;o[k+336+8>>2]=0;o[k+336+12>>2]=0;n[k+336+16>>0]=0;n[k+332>>0]=n[k+332>>0]&-16;k=o[e+12>>2]|0;B=o[e+16>>2]|0;N=o[k+4>>2]|0;F=o[B+4>>2]|0;w=+nF[o[(o[k>>2]|0)+48>>2]&15](k);U=o[e+16>>2]|0;L=+nF[o[(o[U>>2]|0)+48>>2]&15](U);U=o[e+4>>2]|0;e=o[e+8>>2]|0;o[s+152>>2]=10520;o[s+152+4>>2]=0;o[s+152+8>>2]=1065353216;o[s+152+12>>2]=0;c[s+152+16>>2]=0.0;o[s+152+20>>2]=e;o[s+152+24>>2]=U;o[s+152+28>>2]=k;o[s+152+32>>2]=B;o[s+152+36>>2]=N;o[s+152+40>>2]=F;c[s+152+44>>2]=w;c[s+152+48>>2]=L;n[s+152+52>>0]=0;o[s+152+60>>2]=-1;o[s+152+72>>2]=1;o[s+152+76>>2]=1;c[s+16+128>>2]=999999984306749440.0;o[s+16>>2]=o[t>>2];o[s+16+4>>2]=o[t+4>>2];o[s+16+8>>2]=o[t+8>>2];o[s+16+12>>2]=o[t+12>>2];o[s+16+16>>2]=o[t+16>>2];o[s+16+16+4>>2]=o[t+16+4>>2];o[s+16+16+8>>2]=o[t+16+8>>2];o[s+16+16+12>>2]=o[t+16+12>>2];o[s+16+32>>2]=o[t+32>>2];o[s+16+32+4>>2]=o[t+32+4>>2];o[s+16+32+8>>2]=o[t+32+8>>2];o[s+16+32+12>>2]=o[t+32+12>>2];o[s+16+48>>2]=o[t+48>>2];o[s+16+48+4>>2]=o[t+48+4>>2];o[s+16+48+8>>2]=o[t+48+8>>2];o[s+16+48+12>>2]=o[t+48+12>>2];o[s+16+64>>2]=o[i>>2];o[s+16+64+4>>2]=o[i+4>>2];o[s+16+64+8>>2]=o[i+8>>2];o[s+16+64+12>>2]=o[i+12>>2];o[s+16+80>>2]=o[i+16>>2];o[s+16+80+4>>2]=o[i+16+4>>2];o[s+16+80+8>>2]=o[i+16+8>>2];o[s+16+80+12>>2]=o[i+16+12>>2];o[s+16+96>>2]=o[i+32>>2];o[s+16+96+4>>2]=o[i+32+4>>2];o[s+16+96+8>>2]=o[i+32+8>>2];o[s+16+96+12>>2]=o[i+32+12>>2];o[s+16+112>>2]=o[i+48>>2];o[s+16+112+4>>2]=o[i+48+4>>2];o[s+16+112+8>>2]=o[i+48+8>>2];o[s+16+112+12>>2]=o[i+48+12>>2];ts(s+152|0,s+16|0,r,0,0);ae=s;return}}function er(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;var a=0.0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0;y=ae;ae=ae+544|0;l=s;_=l+36|0;do{o[l>>2]=0;l=l+4|0}while((l|0)<(_|0));o[y+384>>2]=e;o[y+384+4>>2]=i;R=+c[n>>2];D=+c[t>>2];T=+c[n+16>>2];P=+c[t+16>>2];S=+c[n+32>>2];x=+c[t+32>>2];I=+c[t+4>>2];O=+c[t+20>>2];M=+c[t+36>>2];u=+c[t+8>>2];d=+c[t+24>>2];p=+c[t+40>>2];E=+c[n+4>>2];C=+c[n+20>>2];a=+c[n+36>>2];f=+c[n+8>>2];h=+c[n+24>>2];b=+c[n+40>>2];c[y+384+8>>2]=R*D+T*P+S*x;c[y+384+12>>2]=R*I+T*O+S*M;c[y+384+16>>2]=R*u+T*d+S*p;c[y+384+20>>2]=0.0;c[y+384+24>>2]=D*E+P*C+x*a;c[y+384+28>>2]=I*E+O*C+M*a;c[y+384+32>>2]=u*E+d*C+p*a;c[y+384+36>>2]=0.0;c[y+384+40>>2]=D*f+P*h+x*b;c[y+384+44>>2]=I*f+O*h+M*b;c[y+384+48>>2]=u*f+d*h+p*b;c[y+384+52>>2]=0.0;L=+c[n+48>>2]-+c[t+48>>2];w=+c[n+52>>2]-+c[t+52>>2];g=+c[n+56>>2]-+c[t+56>>2];m=L*+c[t>>2]+w*+c[t+16>>2]+g*+c[t+32>>2];A=L*+c[t+4>>2]+w*+c[t+20>>2]+g*+c[t+36>>2];g=L*+c[t+8>>2]+w*+c[t+24>>2]+g*+c[t+40>>2];c[y+384+56>>2]=R*D+T*P+S*x;c[y+384+60>>2]=D*E+P*C+x*a;c[y+384+64>>2]=D*f+P*h+x*b;c[y+384+68>>2]=0.0;c[y+384+72>>2]=R*I+T*O+S*M;c[y+384+76>>2]=I*E+O*C+M*a;c[y+384+80>>2]=I*f+O*h+M*b;c[y+384+84>>2]=0.0;c[y+384+88>>2]=R*u+T*d+S*p;c[y+384+92>>2]=u*E+d*C+p*a;c[y+384+96>>2]=u*f+d*h+p*b;c[y+384+100>>2]=0.0;c[y+384+104>>2]=m;c[y+384+108>>2]=A;c[y+384+112>>2]=g;c[y+384+116>>2]=0.0;o[y+384+120>>2]=82;o[y+384+124>>2]=0;o[y+364>>2]=0;o[y+128>>2]=0;o[y+128+4>>2]=0;o[y+128+8>>2]=0;o[y+128+12>>2]=0;o[y+376>>2]=2;o[y+368>>2]=0;c[y+144>>2]=0.0;r=Jo(y,y+384|0,r)|0;if(r|0){o[s>>2]=(r|0)==1?1:2;t=0;ae=y;return t|0}r=o[y+372>>2]|0;if(!(o[r+32>>2]|0)){p=0.0;h=0.0;d=0.0;f=0.0;u=0.0;a=0.0}else{a=0.0;u=0.0;f=0.0;d=0.0;h=0.0;p=0.0;n=0;do{g=+c[r+16+(n<<2)>>2];e=o[y+384+120>>2]|0;_=o[y+384+124>>2]|0;i=(o[y+384>>2]|0)+(1?_>>1:_)|0;if(_&1)e=o[(o[i>>2]|0)+e>>2]|0;LF[e&127](y+528|0,i,o[r+(n<<2)>>2]|0);d=d+g*+c[y+528>>2];h=h+g*+c[y+528+4>>2];p=p+g*+c[y+528+8>>2];r=o[(o[y+372>>2]|0)+(n<<2)>>2]|0;b=-+c[r>>2];m=-+c[r+4>>2];A=-+c[r+8>>2];r=o[y+384+120>>2]|0;_=o[y+384+124>>2]|0;e=(o[y+384+4>>2]|0)+(1?_>>1:_)|0;if(_&1)r=o[(o[e>>2]|0)+r>>2]|0;w=+c[y+384+24>>2]*b+ +c[y+384+28>>2]*m+ +c[y+384+32>>2]*A;D=+c[y+384+40>>2]*b+ +c[y+384+44>>2]*m+ +c[y+384+48>>2]*A;c[y+512>>2]=+c[y+384+8>>2]*b+ +c[y+384+12>>2]*m+ +c[y+384+16>>2]*A;c[y+512+4>>2]=w;c[y+512+8>>2]=D;c[y+512+12>>2]=0.0;LF[r&127](y+528|0,e,y+512|0);D=+c[y+528>>2];w=+c[y+528+4>>2];L=+c[y+528+8>>2];a=a+g*(D*+c[y+384+56>>2]+w*+c[y+384+60>>2]+L*+c[y+384+64>>2]+ +c[y+384+104>>2]);u=u+g*(D*+c[y+384+72>>2]+w*+c[y+384+76>>2]+L*+c[y+384+80>>2]+ +c[y+384+108>>2]);f=f+g*(D*+c[y+384+88>>2]+w*+c[y+384+92>>2]+L*+c[y+384+96>>2]+ +c[y+384+112>>2]);n=n+1|0;r=o[y+372>>2]|0}while(n>>>0<(o[r+32>>2]|0)>>>0)}P=d*+c[t+16>>2]+h*+c[t+20>>2]+p*+c[t+24>>2]+ +c[t+52>>2];D=d*+c[t+32>>2]+h*+c[t+36>>2]+p*+c[t+40>>2]+ +c[t+56>>2];c[s+4>>2]=d*+c[t>>2]+h*+c[t+4>>2]+p*+c[t+8>>2]+ +c[t+48>>2];c[s+8>>2]=P;c[s+12>>2]=D;c[s+16>>2]=0.0;D=a*+c[t+16>>2]+u*+c[t+20>>2]+f*+c[t+24>>2]+ +c[t+52>>2];P=a*+c[t+32>>2]+u*+c[t+36>>2]+f*+c[t+40>>2]+ +c[t+56>>2];c[s+20>>2]=a*+c[t>>2]+u*+c[t+4>>2]+f*+c[t+8>>2]+ +c[t+48>>2];c[s+24>>2]=D;c[s+28>>2]=P;c[s+32>>2]=0.0;P=d-a;D=h-u;w=p-f;c[s+48>>2]=0.0;L=+v(+(P*P+D*D+w*w));c[s+52>>2]=L;L=L>9.999999747378752e-05?1.0/L:1.0;c[s+36>>2]=P*L;c[s+40>>2]=D*L;c[s+44>>2]=w*L;t=1;ae=y;return t|0}function tr(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=+s;var a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0.0;a=ae;ae=ae+464|0;La(18367);o[a+128>>2]=o[i>>2];o[a+128+4>>2]=o[i+4>>2];o[a+128+8>>2]=o[i+8>>2];o[a+128+12>>2]=o[i+12>>2];o[a+128+16>>2]=o[i+16>>2];o[a+128+16+4>>2]=o[i+16+4>>2];o[a+128+16+8>>2]=o[i+16+8>>2];o[a+128+16+12>>2]=o[i+16+12>>2];o[a+128+32>>2]=o[i+32>>2];o[a+128+32+4>>2]=o[i+32+4>>2];o[a+128+32+8>>2]=o[i+32+8>>2];o[a+128+32+12>>2]=o[i+32+12>>2];_=a+128+48|0;o[_>>2]=o[i+48>>2];o[_+4>>2]=o[i+48+4>>2];o[_+8>>2]=o[i+48+8>>2];o[_+12>>2]=o[i+48+12>>2];o[a+64>>2]=o[n>>2];o[a+64+4>>2]=o[n+4>>2];o[a+64+8>>2]=o[n+8>>2];o[a+64+12>>2]=o[n+12>>2];o[a+64+16>>2]=o[n+16>>2];o[a+64+16+4>>2]=o[n+16+4>>2];o[a+64+16+8>>2]=o[n+16+8>>2];o[a+64+16+12>>2]=o[n+16+12>>2];o[a+64+32>>2]=o[n+32>>2];o[a+64+32+4>>2]=o[n+32+4>>2];o[a+64+32+8>>2]=o[n+32+8>>2];o[a+64+32+12>>2]=o[n+32+12>>2];l=a+64+48|0;o[l>>2]=o[n+48>>2];o[l+4>>2]=o[n+48+4>>2];o[l+8>>2]=o[n+48+8>>2];o[l+12>>2]=o[n+48+12>>2];Le(a+128|0,a+64|0,a+256|0,a+192|0);A=+c[a+192>>2];u=A*+c[a+256+4>>2];b=A*+c[a+256+8>>2];c[a+16>>2]=+c[a+256>>2]*A;c[a+16+4>>2]=u;c[a+16+8>>2]=b;c[a+16+12>>2]=0.0;o[a+256>>2]=0;o[a+256+4>>2]=0;o[a+256+8>>2]=0;o[a+256+12>>2]=0;o[a+192+48>>2]=0;o[a+192+48+4>>2]=0;o[a+192+48+8>>2]=0;o[a+192+48+12>>2]=0;Fi(a+128|0,a);b=+c[a>>2];u=+c[a+4>>2];A=+c[a+8>>2];p=+c[a+12>>2];d=b*(2.0/(b*b+u*u+A*A+p*p));f=u*(2.0/(b*b+u*u+A*A+p*p));h=A*(2.0/(b*b+u*u+A*A+p*p));c[a+192>>2]=1.0-(u*f+A*h);c[a+192+4>>2]=b*f-p*h;c[a+192+8>>2]=b*h+p*f;c[a+192+12>>2]=0.0;c[a+192+16>>2]=b*f+p*h;c[a+192+20>>2]=1.0-(b*d+A*h);c[a+192+24>>2]=u*h-p*d;c[a+192+28>>2]=0.0;c[a+192+32>>2]=b*h-p*f;c[a+192+36>>2]=u*h+p*d;c[a+192+40>>2]=1.0-(b*d+u*f);c[a+192+44>>2]=0.0;vi(t,a+192|0,a+256|0,a+16|0,a+48|0,a+32|0);o[a+256>>2]=7048;o[a+256+36>>2]=o[i>>2];o[a+256+36+4>>2]=o[i+4>>2];o[a+256+36+8>>2]=o[i+8>>2];o[a+256+36+12>>2]=o[i+12>>2];o[a+256+52>>2]=o[i+16>>2];o[a+256+52+4>>2]=o[i+16+4>>2];o[a+256+52+8>>2]=o[i+16+8>>2];o[a+256+52+12>>2]=o[i+16+12>>2];o[a+256+68>>2]=o[i+32>>2];o[a+256+68+4>>2]=o[i+32+4>>2];o[a+256+68+8>>2]=o[i+32+8>>2];o[a+256+68+12>>2]=o[i+32+12>>2];m=a+256+84|0;o[m>>2]=o[i+48>>2];o[m+4>>2]=o[i+48+4>>2];o[m+8>>2]=o[i+48+8>>2];o[m+12>>2]=o[i+48+12>>2];o[a+256+100>>2]=o[n>>2];o[a+256+100+4>>2]=o[n+4>>2];o[a+256+100+8>>2]=o[n+8>>2];o[a+256+100+12>>2]=o[n+12>>2];o[a+256+116>>2]=o[n+16>>2];o[a+256+116+4>>2]=o[n+16+4>>2];o[a+256+116+8>>2]=o[n+16+8>>2];o[a+256+116+12>>2]=o[n+16+12>>2];o[a+256+132>>2]=o[n+32>>2];o[a+256+132+4>>2]=o[n+32+4>>2];o[a+256+132+8>>2]=o[n+32+8>>2];o[a+256+132+12>>2]=o[n+32+12>>2];i=a+256+148|0;o[i>>2]=o[n+48>>2];o[i+4>>2]=o[n+48+4>>2];o[i+8>>2]=o[n+48+8>>2];o[i+12>>2]=o[n+48+12>>2];o[a+256+180>>2]=e;o[a+256+184>>2]=r;c[a+256+188>>2]=s;o[a+256+192>>2]=t;f=+c[i>>2]-+c[m>>2];u=+c[a+256+152>>2]-+c[a+256+88>>2];d=+c[a+256+156>>2]-+c[a+256+92>>2];s=1.0/+v(+(f*f+u*u+d*d));b=f*s==0.0?999999984306749440.0:1.0/(f*s);c[a+256+4>>2]=b;p=u*s==0.0?999999984306749440.0:1.0/(u*s);c[a+256+8>>2]=p;h=d*s==0.0?999999984306749440.0:1.0/(d*s);c[a+256+12>>2]=h;o[a+256+20>>2]=b<0.0&1;o[a+256+24>>2]=p<0.0&1;o[a+256+28>>2]=h<0.0&1;c[a+256+32>>2]=d*(d*s)+(f*(f*s)+u*(u*s));t=o[e+68>>2]|0;GF[o[(o[t>>2]|0)+24>>2]&7](t,_,l,a+256|0,a+48|0,a+32|0);t=o[2685]|0;e=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=e;if(e|0){ae=a;return}do{if(o[t+4>>2]|0){$(a+256|0,0)|0;m=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[a+256+4>>2]|0)-(o[m+4>>2]|0)+(((o[a+256>>2]|0)-(o[m>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=a;return}}}while(0);o[2685]=o[t+20>>2];ae=a;return}function ir(e,t,i){e=e|0;t=t|0;i=i|0;var s=0,a=0,c=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0;A=ae;ae=ae+32|0;s=dF[o[(o[e>>2]|0)+28>>2]&127](e)|0;o[t+20>>2]=s;o[t>>2]=0;if(!s){m=e+4|0;i=t+4|0;m=o[m>>2]|0;o[i>>2]=m;i=e+8|0;i=o[i>>2]|0;m=t+8|0;o[m>>2]=i;m=e+12|0;m=o[m>>2]|0;i=t+12|0;o[i>>2]=m;i=e+16|0;i=o[i>>2]|0;e=t+16|0;o[e>>2]=i;ae=A;return 22103}m=mF[o[(o[i>>2]|0)+16>>2]&63](i,32,s)|0;s=o[m+8>>2]|0;o[t>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,s)|0;b=dF[o[(o[e>>2]|0)+28>>2]&127](e)|0;e:do{if((b|0)>0){p=0;while(1){YF[o[(o[e>>2]|0)+16>>2]&3](e,A+28|0,A+4|0,A+16|0,A+8|0,A+24|0,A+20|0,A,A+12|0,p);a=o[A>>2]|0;o[s+24>>2]=a;o[s+28>>2]=o[A+4>>2];c=s+12|0;u=s+16|0;h=s+4|0;o[s>>2]=0;o[s+4>>2]=0;o[s+8>>2]=0;o[s+12>>2]=0;o[s+16>>2]=0;o[s+20>>2]=0;switch(o[A+12>>2]|0){case 2:{if(a|0){_=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,a*3|0)|0;a=o[_+8>>2]|0;o[s+8>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,a)|0;if((o[A>>2]|0)>0){c=o[A+24>>2]|0;u=0;do{f=c+(O(o[A+20>>2]|0,u)|0)|0;d=u*3|0;o[a+(d<<2)>>2]=o[f>>2];o[a+(d+1<<2)>>2]=o[f+4>>2];o[a+(d+2<<2)>>2]=o[f+8>>2];u=u+1|0}while((u|0)<(o[A>>2]|0))}jF[o[(o[i>>2]|0)+20>>2]&31](i,_,21984,1497453121,o[_+8>>2]|0)}break}case 3:{if(a|0){d=mF[o[(o[i>>2]|0)+16>>2]&63](i,8,a)|0;f=o[d+8>>2]|0;o[c>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,f)|0;a=o[A>>2]|0;if((a|0)>0){c=o[A+24>>2]|0;_=o[A+20>>2]|0;u=0;do{g=c+(O(_,u)|0)|0;r[f+(u<<3)>>1]=r[g>>1]|0;r[f+(u<<3)+2>>1]=r[g+2>>1]|0;r[f+(u<<3)+4>>1]=r[g+4>>1]|0;u=u+1|0}while((u|0)!=(a|0))}jF[o[(o[i>>2]|0)+20>>2]&31](i,d,21999,1497453121,o[d+8>>2]|0)}break}case 5:{if(a|0){_=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,a)|0;c=o[_+8>>2]|0;o[u>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,c)|0;if((o[A>>2]|0)>0){a=0;do{g=(o[A+24>>2]|0)+(O(o[A+20>>2]|0,a)|0)|0;n[c+(a<<2)>>0]=n[g>>0]|0;n[c+(a<<2)+1>>0]=n[g+1>>0]|0;n[c+(a<<2)+2>>0]=n[g+2>>0]|0;a=a+1|0}while((a|0)<(o[A>>2]|0))}jF[o[(o[i>>2]|0)+20>>2]&31](i,_,22026,1497453121,o[_+8>>2]|0)}break}default:{}}switch(o[A+16>>2]|0){case 0:{a=o[A+4>>2]|0;if(a|0){f=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,a)|0;a=o[f+8>>2]|0;o[s>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,a)|0;c=o[A+4>>2]|0;if((c|0)>0){_=o[A+28>>2]|0;u=o[A+8>>2]|0;d=0;do{g=_+(O(u,d)|0)|0;o[a+(d<<4)>>2]=o[g>>2];o[a+(d<<4)+4>>2]=o[g+4>>2];o[a+(d<<4)+8>>2]=o[g+8>>2];d=d+1|0}while((d|0)!=(c|0))}jF[o[(o[i>>2]|0)+20>>2]&31](i,f,22049,1497453121,o[f+8>>2]|0)}break}case 1:{a=o[A+4>>2]|0;if(a|0){d=mF[o[(o[i>>2]|0)+16>>2]&63](i,32,a)|0;f=o[d+8>>2]|0;o[h>>2]=pF[o[(o[i>>2]|0)+28>>2]&31](i,f)|0;a=o[A+4>>2]|0;if((a|0)>0){c=o[A+28>>2]|0;_=o[A+8>>2]|0;u=0;do{g=c+(O(_,u)|0)|0;l[f+(u<<5)>>3]=+l[g>>3];l[f+(u<<5)+8>>3]=+l[g+8>>3];l[f+(u<<5)+16>>3]=+l[g+16>>3];u=u+1|0}while((u|0)!=(a|0))}jF[o[(o[i>>2]|0)+20>>2]&31](i,d,22068,1497453121,o[d+8>>2]|0)}break}default:{}}xF[o[(o[e>>2]|0)+24>>2]&127](e,p);p=p+1|0;if((p|0)==(b|0)){s=i;break e}else s=s+32|0}}else s=i}while(0);jF[o[(o[s>>2]|0)+20>>2]&31](i,m,22088,1497453121,o[m+8>>2]|0);i=e+4|0;g=t+4|0;i=o[i>>2]|0;o[g>>2]=i;g=e+8|0;g=o[g>>2]|0;i=t+8|0;o[i>>2]=g;i=e+12|0;i=o[i>>2]|0;g=t+12|0;o[g>>2]=i;e=e+16|0;e=o[e>>2]|0;g=t+16|0;o[g>>2]=e;ae=A;return 22103}function nr(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0;a=o[e+192>>2]|0;d=+nF[o[(o[a>>2]|0)+48>>2]&15](a);a=o[e+712>>2]|0;if((a|0)>0){h=0;do{l=o[e+720>>2]|0;r=l+(h*104|0)+8|0;b=+c[r>>2];s=l+(h*104|0)+12|0;p=+c[s>>2];i=l+(h*104|0)+16|0;u=+c[i>>2];_=b*+c[t>>2]+p*+c[t+4>>2]+u*+c[t+8>>2]+ +c[t+48>>2];f=b*+c[t+16>>2]+p*+c[t+20>>2]+u*+c[t+24>>2]+ +c[t+52>>2];u=b*+c[t+32>>2]+p*+c[t+36>>2]+u*+c[t+40>>2]+ +c[t+56>>2];c[r>>2]=_;c[s>>2]=f;c[i>>2]=u;c[l+(h*104|0)+20>>2]=0.0;i=l+(h*104|0)+24|0;p=+c[i>>2];s=l+(h*104|0)+28|0;b=+c[s>>2];r=l+(h*104|0)+32|0;m=+c[r>>2];A=p*+c[t+16>>2]+b*+c[t+20>>2]+m*+c[t+24>>2]+ +c[t+52>>2];g=p*+c[t+32>>2]+b*+c[t+36>>2]+m*+c[t+40>>2]+ +c[t+56>>2];c[i>>2]=p*+c[t>>2]+b*+c[t+4>>2]+m*+c[t+8>>2]+ +c[t+48>>2];c[s>>2]=A;c[r>>2]=g;c[l+(h*104|0)+36>>2]=0.0;r=l+(h*104|0)+72|0;g=+c[r>>2];s=l+(h*104|0)+76|0;A=+c[s>>2];i=l+(h*104|0)+80|0;m=+c[i>>2];b=g*+c[t+16>>2]+A*+c[t+20>>2]+m*+c[t+24>>2];p=g*+c[t+32>>2]+A*+c[t+36>>2]+m*+c[t+40>>2];c[r>>2]=+c[t>>2]*g+ +c[t+4>>2]*A+ +c[t+8>>2]*m;c[s>>2]=b;c[i>>2]=p;c[l+(h*104|0)+84>>2]=0.0;l=o[l+(h*104|0)+96>>2]|0;i=fi(e+928|0,l)|0;e:do{if(i){r=o[e+936>>2]|0;if((r|0)<=-1){i=o[e+928>>2]|0;break}if(r){s=0;n=i;while(1){i=o[n+32>>2]|0;s=s+1|0;if(!i){i=n;break e}if((s|0)>=(r|0))break;else n=i}}}else i=0}while(0);c[l>>2]=_-d;c[l+4>>2]=f-d;c[l+8>>2]=u-d;c[l+12>>2]=0.0;c[l+16>>2]=d+_;c[l+20>>2]=d+f;c[l+24>>2]=d+u;c[l+28>>2]=0.0;de(e+928|0,i,l);h=h+1|0}while((h|0)!=(a|0))}wt(e);i=o[e+928>>2]|0;if(i){h=o[e+192>>2]|0;m=+nF[o[(o[h>>2]|0)+48>>2]&15](h);g=+c[i+4>>2]-m;A=+c[i+8>>2]-m;c[e+892>>2]=+c[i>>2]-m;c[e+896>>2]=g;c[e+900>>2]=A;c[e+904>>2]=0.0;A=m+ +c[i+20>>2];g=m+ +c[i+24>>2];c[e+908>>2]=m+ +c[i+16>>2];c[e+912>>2]=A;c[e+916>>2]=g;c[e+920>>2]=0.0;i=o[e+188>>2]|0;if(i|0){h=o[e+684>>2]|0;l=o[h+32>>2]|0;jF[o[(o[l>>2]|0)+16>>2]&31](l,i,e+892|0,e+908|0,o[h+36>>2]|0)}}else{o[e+892>>2]=0;o[e+892+4>>2]=0;o[e+892+8>>2]=0;o[e+892+12>>2]=0;o[e+892+16>>2]=0;o[e+892+20>>2]=0;o[e+892+24>>2]=0;o[e+892+28>>2]=0}n=o[e+732>>2]|0;if((n|0)<=0){tt(e);h=e+1148|0;o[h>>2]=o[t>>2];o[h+4>>2]=o[t+4>>2];o[h+8>>2]=o[t+8>>2];o[h+12>>2]=o[t+12>>2];h=t+16|0;l=e+1164|0;o[l>>2]=o[h>>2];o[l+4>>2]=o[h+4>>2];o[l+8>>2]=o[h+8>>2];o[l+12>>2]=o[h+12>>2];l=t+32|0;h=e+1180|0;o[h>>2]=o[l>>2];o[h+4>>2]=o[l+4>>2];o[h+8>>2]=o[l+8>>2];o[h+12>>2]=o[l+12>>2];h=t+48|0;t=e+1196|0;o[t>>2]=o[h>>2];o[t+4>>2]=o[h+4>>2];o[t+8>>2]=o[h+8>>2];o[t+12>>2]=o[h+12>>2];return}r=o[e+740>>2]|0;i=0;do{l=o[r+(i*52|0)+8>>2]|0;h=o[r+(i*52|0)+12>>2]|0;m=+c[l+8>>2]-+c[h+8>>2];A=+c[l+12>>2]-+c[h+12>>2];g=+c[l+16>>2]-+c[h+16>>2];g=+v(+(m*m+A*A+g*g));c[r+(i*52|0)+16>>2]=g;c[r+(i*52|0)+28>>2]=g*g;i=i+1|0}while((i|0)!=(n|0));i=0;do{c[r+(i*52|0)+24>>2]=(+c[(o[r+(i*52|0)+8>>2]|0)+88>>2]+ +c[(o[r+(i*52|0)+12>>2]|0)+88>>2])/+c[(o[r+(i*52|0)+4>>2]|0)+4>>2];i=i+1|0}while((i|0)!=(n|0));tt(e);h=e+1148|0;o[h>>2]=o[t>>2];o[h+4>>2]=o[t+4>>2];o[h+8>>2]=o[t+8>>2];o[h+12>>2]=o[t+12>>2];h=t+16|0;l=e+1164|0;o[l>>2]=o[h>>2];o[l+4>>2]=o[h+4>>2];o[l+8>>2]=o[h+8>>2];o[l+12>>2]=o[h+12>>2];l=t+32|0;h=e+1180|0;o[h>>2]=o[l>>2];o[h+4>>2]=o[l+4>>2];o[h+8>>2]=o[l+8>>2];o[h+12>>2]=o[l+12>>2];h=t+48|0;t=e+1196|0;o[t>>2]=o[h>>2];o[t+4>>2]=o[h+4>>2];o[t+8>>2]=o[h+8>>2];o[t+12>>2]=o[h+12>>2];return}function rr(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,C=0,E=0,S=0.0,T=0.0,R=0.0,M=0;E=ae;ae=ae+64|0;if((s|0)>0){l=0;e=0;do{C=o[r+(l<<2)>>2]|0;e=(C|0)>(e|0)?C:e;l=l+1|0}while((l|0)<(s*3|0))}else e=0;A=e+1|0;_=O(A,A)|0;if(!_)l=0;else{o[6747]=(o[6747]|0)+1;l=Do(_+19|0)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}_l(l|0,0,_|0)|0}if((e|0)>-1){o[6747]=(o[6747]|0)+1;e=Do((A<<4|3)+16|0)|0;if(!e)u=0;else{o[(e+4+15&-16)+-4>>2]=e;u=e+4+15&-16}e=0;do{C=u+(e<<4)|0;o[C>>2]=o[E>>2];o[C+4>>2]=o[E+4>>2];o[C+8>>2]=o[E+8>>2];o[C+12>>2]=o[E+12>>2];e=e+1|0}while((e|0)!=(A|0));e=0;_=0;while(1){y=o[i+(e+1<<2)>>2]|0;C=o[i+(e+2<<2)>>2]|0;o[u+(_<<4)>>2]=o[i+(e<<2)>>2];o[u+(_<<4)+4>>2]=y;o[u+(_<<4)+8>>2]=C;c[u+(_<<4)+12>>2]=0.0;e=e+3|0;if((e|0)>=(A*3|0)){C=u;y=u;break}else _=_+1|0}}else{C=0;y=0}o[6747]=(o[6747]|0)+1;e=Do(1271)|0;if(!e)g=0;else{o[(e+4+15&-16)+-4>>2]=e;g=e+4+15&-16}Vo(g,t,A,y,0);if((s|0)>0){p=g+720|0;m=g+732|0;b=g+740|0;i=g+924|0;h=0;do{t=o[r+(h<<2)>>2]|0;f=o[r+(h+1<<2)>>2]|0;d=o[r+(h+2<<2)>>2]|0;u=O(t,A)|0;e=l+(u+d)|0;if(!(n[e>>0]|0)){n[e>>0]=1;n[l+((O(d,A)|0)+t)>>0]=1;M=o[p>>2]|0;bn(g,0);_=(o[m>>2]|0)+-1|0;e=o[b>>2]|0;o[e+(_*52|0)+8>>2]=M+(d*104|0);o[e+(_*52|0)+12>>2]=M+(t*104|0);R=+c[M+(d*104|0)+8>>2]-+c[M+(t*104|0)+8>>2];T=+c[M+(d*104|0)+12>>2]-+c[M+(t*104|0)+12>>2];S=+c[M+(d*104|0)+16>>2]-+c[M+(t*104|0)+16>>2];c[e+(_*52|0)+16>>2]=+v(+(R*R+T*T+S*S));n[i>>0]=1}_=O(f,A)|0;e=l+(_+t)|0;if(!(n[e>>0]|0)){n[e>>0]=1;n[l+(u+f)>>0]=1;e=o[p>>2]|0;bn(g,0);M=(o[m>>2]|0)+-1|0;u=o[b>>2]|0;o[u+(M*52|0)+8>>2]=e+(t*104|0);o[u+(M*52|0)+12>>2]=e+(f*104|0);S=+c[e+(t*104|0)+8>>2]-+c[e+(f*104|0)+8>>2];T=+c[e+(t*104|0)+12>>2]-+c[e+(f*104|0)+12>>2];R=+c[e+(t*104|0)+16>>2]-+c[e+(f*104|0)+16>>2];c[u+(M*52|0)+16>>2]=+v(+(S*S+T*T+R*R));n[i>>0]=1}e=l+((O(d,A)|0)+f)|0;if(!(n[e>>0]|0)){n[e>>0]=1;n[l+(_+d)>>0]=1;_=o[p>>2]|0;bn(g,0);M=(o[m>>2]|0)+-1|0;u=o[b>>2]|0;o[u+(M*52|0)+8>>2]=_+(f*104|0);o[u+(M*52|0)+12>>2]=_+(d*104|0);S=+c[_+(f*104|0)+8>>2]-+c[_+(d*104|0)+8>>2];T=+c[_+(f*104|0)+12>>2]-+c[_+(d*104|0)+12>>2];R=+c[_+(f*104|0)+16>>2]-+c[_+(d*104|0)+16>>2];c[u+(M*52|0)+16>>2]=+v(+(S*S+T*T+R*R));n[i>>0]=1}rt(g,t,f,d,0);h=h+3|0}while((h|0)<(s*3|0))}if(a){_=o[g+732>>2]|0;if((_|0)>0){f=g+740|0;t=0;e=243703;do{u=o[f>>2]|0;i=u+(t*52|0)|0;e=(O(e,1664525)|0)+1013904223|0;d=E;h=i;p=d+52|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));d=i;h=u+(((e>>>0)%(_>>>0)|0)*52|0)|0;p=d+52|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));d=u+(((e>>>0)%(_>>>0)|0)*52|0)|0;h=E;p=d+52|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));t=t+1|0}while((t|0)!=(_|0))}else e=243703;i=o[g+752>>2]|0;if((i|0)>0){f=g+760|0;t=0;do{_=o[f>>2]|0;u=_+(t*44|0)|0;e=(O(e,1664525)|0)+1013904223|0;_=_+(((e>>>0)%(i>>>0)|0)*44|0)|0;d=E;h=u;p=d+44|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));d=u;h=_;p=d+44|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));d=_;h=E;p=d+44|0;do{o[d>>2]=o[h>>2];d=d+4|0;h=h+4|0}while((d|0)<(p|0));t=t+1|0}while((t|0)!=(i|0))}}if(!((y|0)==0|(C|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[C+-4>>2]|0)}if(!l){ae=E;return g|0}o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);ae=E;return g|0}function or(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0,s=0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0;a=ae;ae=ae+256|0;n=o[t+212>>2]|0;if((n|0)>-1){t=n;ae=a;return t|0}s=(o[t+236>>2]&2|0)==0;n=s?0:t;do{if(!s){if(!(+c[n+344>>2]!=0.0)?(o[n+204>>2]&2|0)==0:0)break;s=o[e+8>>2]|0;_l(a|0,0,244)|0;e=we(e+4|0,a)|0;r=(o[t+236>>2]&2|0)==0;n=r?0:t;o[e+64>>2]=0;o[e+64+4>>2]=0;o[e+64+8>>2]=0;o[e+64+12>>2]=0;o[e+64+16>>2]=0;o[e+64+20>>2]=0;o[e+64+24>>2]=0;o[e+64+28>>2]=0;o[e+144>>2]=0;o[e+144+4>>2]=0;o[e+144+8>>2]=0;o[e+144+12>>2]=0;o[e+144+16>>2]=0;o[e+144+20>>2]=0;o[e+144+24>>2]=0;o[e+144+28>>2]=0;if(r){o[e>>2]=1065353216;o[e+4>>2]=0;o[e+4+4>>2]=0;o[e+4+8>>2]=0;o[e+4+12>>2]=0;o[e+20>>2]=1065353216;o[e+24>>2]=0;o[e+24+4>>2]=0;o[e+24+8>>2]=0;o[e+24+12>>2]=0;o[e+40>>2]=1065353216;o[e+44>>2]=0;o[e+44+4>>2]=0;o[e+44+8>>2]=0;o[e+44+12>>2]=0;o[e+44+16>>2]=0;o[e+240>>2]=0;o[e+128>>2]=0;o[e+128+4>>2]=0;o[e+128+8>>2]=0;o[e+128+12>>2]=0;o[e+96>>2]=1065353216;o[e+100>>2]=1065353216;o[e+104>>2]=1065353216;c[e+108>>2]=0.0;o[e+112>>2]=1065353216;o[e+116>>2]=1065353216;o[e+120>>2]=1065353216;c[e+124>>2]=0.0;n=e+176|0;r=n+60|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0))}else{o[e>>2]=o[n+4>>2];o[e+4>>2]=o[n+4+4>>2];o[e+8>>2]=o[n+4+8>>2];o[e+12>>2]=o[n+4+12>>2];o[e+16>>2]=o[n+20>>2];o[e+16+4>>2]=o[n+20+4>>2];o[e+16+8>>2]=o[n+20+8>>2];o[e+16+12>>2]=o[n+20+12>>2];o[e+32>>2]=o[n+36>>2];o[e+32+4>>2]=o[n+36+4>>2];o[e+32+8>>2]=o[n+36+8>>2];o[e+32+12>>2]=o[n+36+12>>2];o[e+48>>2]=o[n+52>>2];o[e+48+4>>2]=o[n+52+4>>2];o[e+48+8>>2]=o[n+52+8>>2];o[e+48+12>>2]=o[n+52+12>>2];d=+c[n+344>>2];f=d*+c[n+352>>2];u=d*+c[n+356>>2];c[e+128>>2]=d*+c[n+348>>2];c[e+132>>2]=f;c[e+136>>2]=u;c[e+140>>2]=0.0;o[e+240>>2]=n;o[e+96>>2]=o[n+544>>2];o[e+96+4>>2]=o[n+544+4>>2];o[e+96+8>>2]=o[n+544+8>>2];o[e+96+12>>2]=o[n+544+12>>2];o[e+112>>2]=o[n+348>>2];o[e+112+4>>2]=o[n+348+4>>2];o[e+112+8>>2]=o[n+348+8>>2];o[e+112+12>>2]=o[n+348+12>>2];o[e+176>>2]=o[n+312>>2];o[e+176+4>>2]=o[n+312+4>>2];o[e+176+8>>2]=o[n+312+8>>2];o[e+176+12>>2]=o[n+312+12>>2];o[e+192>>2]=o[n+328>>2];o[e+192+4>>2]=o[n+328+4>>2];o[e+192+8>>2]=o[n+328+8>>2];o[e+192+12>>2]=o[n+328+12>>2];u=+c[n+344>>2];f=u*+c[n+416>>2]*i;d=u*+c[n+420>>2]*i;c[e+208>>2]=u*+c[n+412>>2]*i;c[e+212>>2]=f;c[e+216>>2]=d;c[e+220>>2]=0.0;d=+c[n+428>>2];f=+c[n+432>>2];u=+c[n+436>>2];_=(d*+c[n+268>>2]+f*+c[n+284>>2]+u*+c[n+300>>2])*i;l=(d*+c[n+272>>2]+f*+c[n+288>>2]+u*+c[n+304>>2])*i;c[e+224>>2]=(+c[n+264>>2]*d+ +c[n+280>>2]*f+ +c[n+296>>2]*u)*i;c[e+228>>2]=_;c[e+232>>2]=l}c[e+236>>2]=0.0;o[t+212>>2]=s;t=s;ae=a;return t|0}}while(0);n=o[e+188>>2]|0;if((n|0)>=0){t=n;ae=a;return t|0}o[e+188>>2]=o[e+8>>2];_l(a|0,0,244)|0;n=we(e+4|0,a)|0;o[n+64>>2]=0;o[n+64+4>>2]=0;o[n+64+8>>2]=0;o[n+64+12>>2]=0;o[n+64+16>>2]=0;o[n+64+20>>2]=0;o[n+64+24>>2]=0;o[n+64+28>>2]=0;o[n+144>>2]=0;o[n+144+4>>2]=0;o[n+144+8>>2]=0;o[n+144+12>>2]=0;o[n+144+16>>2]=0;o[n+144+20>>2]=0;o[n+144+24>>2]=0;o[n+144+28>>2]=0;o[n>>2]=1065353216;o[n+4>>2]=0;o[n+4+4>>2]=0;o[n+4+8>>2]=0;o[n+4+12>>2]=0;o[n+20>>2]=1065353216;o[n+24>>2]=0;o[n+24+4>>2]=0;o[n+24+8>>2]=0;o[n+24+12>>2]=0;o[n+40>>2]=1065353216;o[n+44>>2]=0;o[n+44+4>>2]=0;o[n+44+8>>2]=0;o[n+44+12>>2]=0;o[n+44+16>>2]=0;o[n+240>>2]=0;o[n+128>>2]=0;o[n+128+4>>2]=0;o[n+128+8>>2]=0;o[n+128+12>>2]=0;o[n+96>>2]=1065353216;o[n+100>>2]=1065353216;o[n+104>>2]=1065353216;c[n+108>>2]=0.0;o[n+112>>2]=1065353216;o[n+116>>2]=1065353216;o[n+120>>2]=1065353216;c[n+124>>2]=0.0;n=n+176|0;r=n+64|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(r|0));t=o[e+188>>2]|0;ae=a;return t|0}function sr(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0.0,m=0.0;if(n[e+165>>0]|0){r=o[e+88>>2]|0;e:do{if((r|0)>0&i){s=o[e+96>>2]|0;_=+c[t>>2];u=+c[t+4>>2];f=+c[t+8>>2];d=+c[e+168>>2];i=0;while(1){m=+c[s+(i<<4)>>2]-_;b=+c[s+(i<<4)+4>>2]-u;p=+c[s+(i<<4)+8>>2]-f;if(m*m+b*b+p*p<=d)break;i=i+1|0;if((i|0)>=(r|0))break e}return i|0}}while(0);h=(o[e+32>>2]|0)+12|0;o[h>>2]=(o[h>>2]|0)+1;if((r|0)==(o[e+92>>2]|0)?(a=(r|0)==0?1:r<<1,(r|0)<(a|0)):0){if(!a)s=0;else{o[6747]=(o[6747]|0)+1;i=Do((a<<4|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+88>>2]|0;s=i}if((r|0)>0){i=0;do{h=s+(i<<4)|0;l=(o[e+96>>2]|0)+(i<<4)|0;o[h>>2]=o[l>>2];o[h+4>>2]=o[l+4>>2];o[h+8>>2]=o[l+8>>2];o[h+12>>2]=o[l+12>>2];i=i+1|0}while((i|0)!=(r|0))}i=o[e+96>>2]|0;if(i|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=s;o[e+92>>2]=a;i=o[e+88>>2]|0}else i=r;h=(o[e+96>>2]|0)+(i<<4)|0;o[h>>2]=o[t>>2];o[h+4>>2]=o[t+4>>2];o[h+8>>2]=o[t+8>>2];o[h+12>>2]=o[t+12>>2];t=o[e+88>>2]|0;o[e+88>>2]=t+1;o[(o[e+32>>2]|0)+16>>2]=o[e+96>>2];return t|0}r=o[e+108>>2]|0;e:do{if((r|0)>0&i){i=o[e+116>>2]|0;_=+c[t>>2];u=+c[t+4>>2];f=+c[t+8>>2];d=+c[e+168>>2];a=0;while(1){p=+c[i+(a<<2)>>2]-_;b=+c[i+(a+1<<2)>>2]-u;m=+c[i+(a+2<<2)>>2]-f;s=a+3|0;if(p*p+b*b+m*m<=d)break;if((s|0)<(r|0))a=s;else break e}t=(a>>>0)/3|0;return t|0}}while(0);i=o[e+112>>2]|0;if((r|0)==(i|0)){i=(r|0)==0?1:r<<1;if((r|0)<(i|0)){if(!i)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((i<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+108>>2]|0}l=o[e+116>>2]|0;if((r|0)<=0){if(!l)a=e+120|0;else h=36}else{a=0;do{o[s+(a<<2)>>2]=o[l+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0));h=36}if((h|0)==36){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);r=o[e+108>>2]|0}o[e+116>>2]=0;a=e+120|0}n[a>>0]=1;o[e+116>>2]=s;o[e+112>>2]=i;s=r}else{s=r;i=r}}else s=r;r=o[e+116>>2]|0;o[r+(s<<2)>>2]=o[t>>2];s=s+1|0;o[e+108>>2]=s;if((s|0)==(i|0)){l=(i|0)==0?1:i<<1;if((i|0)<(l|0)){if(!l)a=0;else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[e+108>>2]|0;r=o[e+116>>2]|0;a=s}if((i|0)<=0){if(!r)r=e+120|0;else h=51}else{s=0;do{o[a+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0));h=51}if((h|0)==51){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);i=o[e+108>>2]|0}o[e+116>>2]=0;r=e+120|0}n[r>>0]=1;o[e+116>>2]=a;o[e+112>>2]=l;r=a;s=i;i=l}else s=i}o[r+(s<<2)>>2]=o[t+4>>2];s=s+1|0;o[e+108>>2]=s;if((s|0)==(i|0)){l=(i|0)==0?1:i<<1;if((i|0)<(l|0)){if(!l)a=0;else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[e+108>>2]|0;r=o[e+116>>2]|0;a=s}if((i|0)<=0){if(!r)r=e+120|0;else h=66}else{s=0;do{o[a+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0));h=66}if((h|0)==66){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);i=o[e+108>>2]|0}o[e+116>>2]=0;r=e+120|0}n[r>>0]=1;o[e+116>>2]=a;o[e+112>>2]=l;r=a}}else i=s;o[r+(i<<2)>>2]=o[t+8>>2];t=i+1|0;o[e+108>>2]=t;e=o[e+32>>2]|0;o[e+12>>2]=(o[e+12>>2]|0)+1;o[e+16>>2]=r;t=((t|0)/3|0)+-1|0;return t|0}function ar(e,t){e=e|0;t=t|0;var i=0.0,n=0,r=0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0,E=0,S=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0;C=ae;ae=ae+64|0;r=o[e+28>>2]|0;s=o[e+32>>2]|0;a=o[t+8>>2]|0;c[a>>2]=1.0;l=o[t+24>>2]|0;c[a+(l+1<<2)>>2]=1.0;c[a+((l<<1)+2<<2)>>2]=1.0;g=+c[e+48>>2];y=+c[e+52>>2];i=+c[e+56>>2];u=+c[r+4>>2]*g+ +c[r+8>>2]*y+ +c[r+12>>2]*i;_=g*+c[r+20>>2]+y*+c[r+24>>2]+i*+c[r+28>>2];i=g*+c[r+36>>2]+y*+c[r+40>>2]+i*+c[r+44>>2];a=o[t+12>>2]|0;o[a>>2]=0;c[a+4>>2]=i;c[a+8>>2]=-_;c[a+12>>2]=0.0;c[a+(l<<2)>>2]=-i;o[a+(l<<2)+4>>2]=0;c[a+(l<<2)+8>>2]=u;c[a+(l<<2)+12>>2]=0.0;c[a+(l<<1<<2)>>2]=_;c[a+(l<<1<<2)+4>>2]=-u;o[a+(l<<1<<2)+8>>2]=0;c[a+(l<<1<<2)+12>>2]=0.0;n=o[t+16>>2]|0;if(n|0){c[n>>2]=-1.0;c[n+(l+1<<2)>>2]=-1.0;c[n+((l<<1)+2<<2)>>2]=-1.0}b=+c[e+64>>2];y=+c[e+68>>2];g=+c[e+72>>2];m=+c[s+4>>2]*b+ +c[s+8>>2]*y+ +c[s+12>>2]*g;A=b*+c[s+20>>2]+y*+c[s+24>>2]+g*+c[s+28>>2];g=b*+c[s+36>>2]+y*+c[s+40>>2]+g*+c[s+44>>2];n=o[t+20>>2]|0;o[n>>2]=0;c[n+4>>2]=-g;c[n+8>>2]=A;c[n+12>>2]=0.0;c[n+(l<<2)>>2]=g;o[n+(l<<2)+4>>2]=0;c[n+(l<<2)+8>>2]=-m;c[n+(l<<2)+12>>2]=0.0;c[n+(l<<1<<2)>>2]=-A;c[n+(l<<1<<2)+4>>2]=m;o[n+(l<<1<<2)+8>>2]=0;c[n+(l<<1<<2)+12>>2]=0.0;y=+c[t>>2]*+c[t+4>>2];A=y*(A+ +c[s+56>>2]-_-+c[r+56>>2]);g=y*(g+ +c[s+60>>2]-i-+c[r+60>>2]);E=o[t+28>>2]|0;c[E>>2]=y*(m+ +c[s+52>>2]-u-+c[r+52>>2]);c[E+(l<<2)>>2]=A;c[E+(l<<1<<2)>>2]=g;c[a+(l*3<<2)>>2]=1.0;c[a+((l<<2|1)<<2)>>2]=1.0;c[a+((l*5|0)+2<<2)>>2]=1.0;if(n|0){c[n+(l*3<<2)>>2]=-1.0;c[n+((l<<2|1)<<2)>>2]=-1.0;c[n+((l*5|0)+2<<2)>>2]=-1.0}u=+c[s+24>>2];R=+c[s+44>>2];f=+c[s+28>>2];d=+c[s+40>>2];S=+c[s+36>>2];_=+c[s+20>>2];g=+c[s+4>>2];A=+c[s+8>>2];p=+c[s+12>>2];i=1.0/((u*R-f*d)*g+A*(f*S-R*_)+(d*_-u*S)*p);P=+c[r+4>>2];x=+c[r+8>>2];D=+c[r+12>>2];I=+c[r+20>>2];O=+c[r+24>>2];M=+c[r+28>>2];h=+c[r+36>>2];b=+c[r+40>>2];m=+c[r+44>>2];c[C+16>>2]=D*((d*_-u*S)*i)+(P*((u*R-f*d)*i)+x*((f*S-R*_)*i));c[C+16+4>>2]=D*((S*A-d*g)*i)+(P*((d*p-R*A)*i)+x*((R*g-S*p)*i));c[C+16+8>>2]=D*((u*g-_*A)*i)+(P*((f*A-u*p)*i)+x*((_*p-f*g)*i));c[C+16+12>>2]=0.0;c[C+16+16>>2]=(u*R-f*d)*i*I+(f*S-R*_)*i*O+(d*_-u*S)*i*M;c[C+16+20>>2]=(d*p-R*A)*i*I+(R*g-S*p)*i*O+(S*A-d*g)*i*M;c[C+16+24>>2]=(f*A-u*p)*i*I+(_*p-f*g)*i*O+(u*g-_*A)*i*M;c[C+16+28>>2]=0.0;c[C+16+32>>2]=(u*R-f*d)*i*h+(f*S-R*_)*i*b+(d*_-u*S)*i*m;c[C+16+36>>2]=(d*p-R*A)*i*h+(R*g-S*p)*i*b+(S*A-d*g)*i*m;c[C+16+40>>2]=(f*A-u*p)*i*h+(_*p-f*g)*i*b+(u*g-_*A)*i*m;c[C+16+44>>2]=0.0;Fi(C+16|0,C);m=+c[e+80>>2];i=+c[C>>2];A=+c[e+84>>2];_=+c[C+4>>2];g=+c[e+88>>2];u=+c[C+8>>2];b=+c[e+92>>2];f=+c[C+12>>2];if(!((m-i)*(m-i)+(A-_)*(A-_)+(g-u)*(g-u)+(b-f)*(b-f)<(m+i)*(m+i)+(A+_)*(A+_)+(g+u)*(g+u)+(b+f)*(b+f))){i=-i;_=-_;u=-u;f=-f}d=_*-g+(f*-m+i*b)-u*-A;h=u*-m+(f*-A+_*b)-i*-g;p=i*-A+(f*-g+u*b)-_*-m;i=f*b-i*-m-_*-A-u*-g;i=i<-1.0?-1.0:i;i=+T(+(i>1.0?1.0:i))*2.0;if(d*d+h*h+p*p<1.4210854715202004e-14){x=1.0;P=0.0;I=0.0;D=-i;x=x*D;P=P*D;D=I*D;e=o[t+28>>2]|0;E=o[t+24>>2]|0;x=y*x;t=E*3|0;t=e+(t<<2)|0;c[t>>2]=x;P=y*P;t=E<<2;t=e+(t<<2)|0;c[t>>2]=P;D=y*D;E=E*5|0;E=e+(E<<2)|0;c[E>>2]=D;ae=C;return}I=1.0/+v(+(d*d+h*h+p*p));x=d*I;P=h*I;I=p*I;D=-i;x=x*D;P=P*D;D=I*D;e=o[t+28>>2]|0;E=o[t+24>>2]|0;x=y*x;t=E*3|0;t=e+(t<<2)|0;c[t>>2]=x;P=y*P;t=E<<2;t=e+(t<<2)|0;c[t>>2]=P;D=y*D;E=E*5|0;E=e+(E<<2)|0;c[E>>2]=D;ae=C;return}function cr(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0,u=0,f=0.0,d=0.0;u=ae;ae=ae+384|0;r=o[t+36>>2]|0;t=o[i+36>>2]|0;i=o[e+24>>2]|0;if(((i|0)==(o[e+28>>2]|0)?o[i+1132>>2]|0:0)?(l=(O(o[t+380>>2]|0,o[i+1112>>2]|0)|0)+(o[r+380>>2]|0)|0,n[(o[i+1140>>2]|0)+l>>0]|0):0){o[6407]=(o[6407]|0)+1;ae=u;return}o[u+328+4>>2]=35;o[u+328+8>>2]=0;o[u+328+12>>2]=1065353216;o[u+328+16>>2]=1065353216;o[u+328+20>>2]=1065353216;c[u+328+24>>2]=0.0;o[u+328>>2]=4500;o[u+328+52>>2]=r;c[u+328+44>>2]=0.0;o[u+272+4>>2]=35;o[u+272+8>>2]=0;o[u+272+12>>2]=1065353216;o[u+272+16>>2]=1065353216;o[u+272+20>>2]=1065353216;c[u+272+24>>2]=0.0;o[u+272>>2]=4500;o[u+272+52>>2]=t;c[u+272+44>>2]=0.0;if((n[24880]|0)==0?PM(24880)|0:0){if((n[24888]|0)==0?PM(24888)|0:0){o[6348]=1065353216;o[6349]=0;o[6350]=0;o[6351]=0;o[6352]=0;o[6353]=1065353216;o[6354]=0;o[6355]=0;o[6356]=0;o[6357]=0;o[6358]=1065353216;c[6359]=0.0;GR(24888)}o[6332]=o[6348];o[6333]=o[6349];o[6334]=o[6350];o[6335]=o[6351];o[6336]=o[6352];o[6337]=o[6353];o[6338]=o[6354];o[6339]=o[6355];o[6340]=o[6356];o[6341]=o[6357];o[6342]=o[6358];o[6343]=o[6359];o[6344]=0;o[6345]=0;o[6346]=0;o[6347]=0;GR(24880)}if((n[24880]|0)==0?PM(24880)|0:0){if((n[24888]|0)==0?PM(24888)|0:0){o[6348]=1065353216;o[6349]=0;o[6350]=0;o[6351]=0;o[6352]=0;o[6353]=1065353216;o[6354]=0;o[6355]=0;o[6356]=0;o[6357]=0;o[6358]=1065353216;c[6359]=0.0;GR(24888)}o[6332]=o[6348];o[6333]=o[6349];o[6334]=o[6350];o[6335]=o[6351];o[6336]=o[6352];o[6337]=o[6353];o[6338]=o[6354];o[6339]=o[6355];o[6340]=o[6356];o[6341]=o[6357];o[6342]=o[6358];o[6343]=o[6359];o[6344]=0;o[6345]=0;o[6346]=0;o[6347]=0;GR(24880)}d=+c[r+232>>2]-+c[t+232>>2];f=+c[r+236>>2]-+c[t+236>>2];c[u>>2]=+c[r+228>>2]-+c[t+228>>2];c[u+4>>2]=d;c[u+8>>2]=f;c[u+12>>2]=0.0;if(!(!(er(u+328|0,25328,u+272|0,25328,u,u+216|0)|0)?!(Ko(u+328|0,25328,u+272|0,25328,u,u+216|0,0)|0):0))s=19;if((s|0)==19?(o[u+4>>2]=0,o[u+4+4>>2]=0,o[u+4+8>>2]=0,o[u+4+12>>2]=0,o[u+4+16>>2]=0,o[u+4+20>>2]=0,n[u+152>>0]=0,o[u>>2]=4320,As(e,u+216|0,r,0,0,t,0,0,u)|0):0){o[6747]=(o[6747]|0)+1;t=Do(235)|0;if(!t)l=0;else{o[(t+4+15&-16)+-4>>2]=t;l=t+4+15&-16}i=l+4|0;t=l+152|0;_l(i|0,0,212)|0;o[l>>2]=4320;r=u+4|0;s=i+100|0;do{o[i>>2]=o[r>>2];i=i+4|0;r=r+4|0}while((i|0)<(s|0));i=l+104|0;o[i>>2]=o[u+104>>2];o[i+4>>2]=o[u+104+4>>2];o[i+8>>2]=o[u+104+8>>2];o[i+12>>2]=o[u+104+12>>2];i=l+120|0;o[i>>2]=o[u+120>>2];o[i+4>>2]=o[u+120+4>>2];o[i+8>>2]=o[u+120+8>>2];o[i+12>>2]=o[u+120+12>>2];i=l+136|0;o[i>>2]=o[u+136>>2];o[i+4>>2]=o[u+136+4>>2];o[i+8>>2]=o[u+136+8>>2];o[i+12>>2]=o[u+136+12>>2];n[t>>0]=n[u+152>>0]|0;i=l+156|0;r=u+156|0;s=i+60|0;do{o[i>>2]=o[r>>2];i=i+4|0;r=r+4|0}while((i|0)<(s|0));s=o[e+24>>2]|0;a=l;t=o[s+852>>2]|0;if((t|0)==(o[s+856>>2]|0)?(_=(t|0)==0?1:t<<1,(t|0)<(_|0)):0){if(!_)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((_<<2|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[s+852>>2]|0}if((t|0)>0){r=0;do{o[i+(r<<2)>>2]=o[(o[s+860>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(t|0))}r=o[s+860>>2]|0;if(r){if(n[s+864>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);t=o[s+852>>2]|0}o[s+860>>2]=0}n[s+864>>0]=1;o[s+860>>2]=i;o[s+856>>2]=_}o[(o[s+860>>2]|0)+(t<<2)>>2]=a;o[s+852>>2]=t+1;a=o[e+24>>2]|0;_=o[e+28>>2]|0;f=+c[a+348>>2];d=+c[_+348>>2];e=l+64|0;c[e>>2]=+c[e>>2]*(f>d?f:d);e=l+68|0;c[e>>2]=+c[e>>2]*((+c[a+360>>2]+ +c[_+360>>2])*.5)}ae=u;return}function lr(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,s=0,a=0,l=0,_=0,u=0,f=0,d=0.0,h=0,p=0,b=0,m=0;h=ae;ae=ae+128|0;o[e+68>>2]=(o[e+68>>2]|0)+1;o[h>>2]=o[t>>2];o[h+4>>2]=o[t+4>>2];o[h+8>>2]=o[t+8>>2];o[h+12>>2]=o[t+12>>2];o[h+16>>2]=o[t+16>>2];o[h+16+4>>2]=o[t+16+4>>2];o[h+16+8>>2]=o[t+16+8>>2];o[h+16+12>>2]=o[t+16+12>>2];o[h+32>>2]=o[t+32>>2];o[h+32+4>>2]=o[t+32+4>>2];o[h+32+8>>2]=o[t+32+8>>2];o[h+32+12>>2]=o[t+32+12>>2];o[h+48>>2]=o[t+48>>2];o[h+48+4>>2]=o[t+48+4>>2];o[h+48+8>>2]=o[t+48+8>>2];o[h+48+12>>2]=o[t+48+12>>2];f=o[i+4>>2]|0;d=+nF[o[(o[i>>2]|0)+48>>2]&15](i);BF[o[(o[i>>2]|0)+8>>2]&127](i,t,h+112|0,h+96|0);r=+c[h+112>>2];if(+c[e+32>>2]>r)c[e+32>>2]=r;r=+c[h+96>>2];if(+c[e+48>>2]<r)c[e+48>>2]=r;r=+c[h+112+4>>2];if(+c[e+36>>2]>r)c[e+36>>2]=r;r=+c[h+96+4>>2];if(+c[e+52>>2]<r)c[e+52>>2]=r;r=+c[h+112+8>>2];if(+c[e+40>>2]>r)c[e+40>>2]=r;r=+c[h+96+8>>2];if(+c[e+56>>2]<r)c[e+56>>2]=r;_=o[e+64>>2]|0;if(!_){l=0;_=e+16|0}else{o[h+64>>2]=o[h+112>>2];o[h+64+4>>2]=o[h+112+4>>2];o[h+64+8>>2]=o[h+112+8>>2];o[h+64+12>>2]=o[h+112+12>>2];o[h+64+16>>2]=o[h+96>>2];o[h+64+16+4>>2]=o[h+96+4>>2];o[h+64+16+8>>2]=o[h+96+8>>2];o[h+64+16+12>>2]=o[h+96+12>>2];l=o[e+16>>2]|0;t=o[_+4>>2]|0;if(!t){o[6747]=(o[6747]|0)+1;t=Do(63)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}s=t;a=s+44|0;do{o[s>>2]=0;s=s+4|0}while((s|0)<(a|0))}else o[_+4>>2]=0;o[t+32>>2]=0;o[t+36>>2]=l;o[t+40>>2]=0;o[t>>2]=o[h+64>>2];o[t+4>>2]=o[h+64+4>>2];o[t+8>>2]=o[h+64+8>>2];o[t+12>>2]=o[h+64+12>>2];o[t+16>>2]=o[h+64+16>>2];o[t+20>>2]=o[h+64+20>>2];o[t+24>>2]=o[h+64+24>>2];o[t+28>>2]=o[h+64+28>>2];de(_,o[_>>2]|0,t);o[_+12>>2]=(o[_+12>>2]|0)+1;l=t;_=e+16|0}t=o[_>>2]|0;if((t|0)==(o[e+20>>2]|0)?(u=(t|0)==0?1:t<<1,(t|0)<(u|0)):0){if(!u)s=0;else{o[6747]=(o[6747]|0)+1;t=Do((u*80|3)+16|0)|0;if(!t)s=0;else{o[(t+4+15&-16)+-4>>2]=t;s=t+4+15&-16}t=o[_>>2]|0}if((t|0)>0){a=0;do{p=s+(a*80|0)|0;b=o[e+24>>2]|0;m=b+(a*80|0)|0;o[p>>2]=o[m>>2];o[p+4>>2]=o[m+4>>2];o[p+8>>2]=o[m+8>>2];o[p+12>>2]=o[m+12>>2];p=b+(a*80|0)+16|0;m=s+(a*80|0)+16|0;o[m>>2]=o[p>>2];o[m+4>>2]=o[p+4>>2];o[m+8>>2]=o[p+8>>2];o[m+12>>2]=o[p+12>>2];m=b+(a*80|0)+32|0;p=s+(a*80|0)+32|0;o[p>>2]=o[m>>2];o[p+4>>2]=o[m+4>>2];o[p+8>>2]=o[m+8>>2];o[p+12>>2]=o[m+12>>2];p=s+(a*80|0)+48|0;m=b+(a*80|0)+48|0;o[p>>2]=o[m>>2];o[p+4>>2]=o[m+4>>2];o[p+8>>2]=o[m+8>>2];o[p+12>>2]=o[m+12>>2];p=s+(a*80|0)+64|0;b=b+(a*80|0)+64|0;o[p>>2]=o[b>>2];o[p+4>>2]=o[b+4>>2];o[p+8>>2]=o[b+8>>2];o[p+12>>2]=o[b+12>>2];a=a+1|0}while((a|0)!=(t|0))}t=o[e+24>>2]|0;if(t|0){if(n[e+28>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+24>>2]=0}n[e+28>>0]=1;o[e+24>>2]=s;o[e+20>>2]=u;t=o[_>>2]|0}m=o[e+24>>2]|0;b=m+(t*80|0)|0;o[b>>2]=o[h>>2];o[b+4>>2]=o[h+4>>2];o[b+8>>2]=o[h+8>>2];o[b+12>>2]=o[h+12>>2];b=m+(t*80|0)+16|0;o[b>>2]=o[h+16>>2];o[b+4>>2]=o[h+16+4>>2];o[b+8>>2]=o[h+16+8>>2];o[b+12>>2]=o[h+16+12>>2];b=m+(t*80|0)+32|0;o[b>>2]=o[h+32>>2];o[b+4>>2]=o[h+32+4>>2];o[b+8>>2]=o[h+32+8>>2];o[b+12>>2]=o[h+32+12>>2];b=m+(t*80|0)+48|0;o[b>>2]=o[h+48>>2];o[b+4>>2]=o[h+48+4>>2];o[b+8>>2]=o[h+48+8>>2];o[b+12>>2]=o[h+48+12>>2];m=m+(t*80|0)+64|0;o[m>>2]=i;o[m+4>>2]=f;c[m+8>>2]=d;o[m+12>>2]=l;o[_>>2]=(o[_>>2]|0)+1;ae=h;return}function _r(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;var s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0,E=0,S=0,T=0,R=0.0,M=0.0,O=0.0,I=0,x=0,P=0,D=0,w=0,L=0,F=0;T=ae;ae=ae+192|0;l=o[e+4>>2]|0;b=+c[l+752>>2];if(b<r){ae=T;return}C=o[l+740>>2]|0;E=o[(o[e+8>>2]|0)+8>>2]|0;u=+c[i>>2];d=+c[t>>2]*r+u;f=+c[i+4>>2];p=+c[t+4>>2]*r+f;_=+c[i+8>>2];h=+c[t+8>>2]*r+_;if((C|0)!=(E|0)){S=o[(o[e+12>>2]|0)+8>>2]|0;M=d-+c[S+52>>2];R=p-+c[S+56>>2];g=h-+c[S+60>>2];s=E;m=M*+c[S+4>>2]+R*+c[S+20>>2]+g*+c[S+36>>2];A=M*+c[S+8>>2]+R*+c[S+24>>2]+g*+c[S+40>>2];g=M*+c[S+12>>2]+R*+c[S+28>>2]+g*+c[S+44>>2];S=e+12|0}else{R=d-+c[C+52>>2];M=p-+c[C+56>>2];g=h-+c[C+60>>2];s=o[(o[e+12>>2]|0)+8>>2]|0;m=R*+c[C+4>>2]+M*+c[C+20>>2]+g*+c[C+36>>2];A=R*+c[C+8>>2]+M*+c[C+24>>2]+g*+c[C+40>>2];g=R*+c[C+12>>2]+M*+c[C+28>>2]+g*+c[C+44>>2];S=e+12|0}O=u-+c[s+52>>2];u=f-+c[s+56>>2];M=_-+c[s+60>>2];f=O*+c[s+4>>2]+u*+c[s+20>>2]+M*+c[s+36>>2];R=O*+c[s+8>>2]+u*+c[s+24>>2]+M*+c[s+40>>2];M=O*+c[s+12>>2]+u*+c[s+28>>2]+M*+c[s+44>>2];c[T>>2]=m;c[T+4>>2]=A;c[T+8>>2]=g;c[T+12>>2]=0.0;c[T+16>>2]=f;c[T+20>>2]=R;c[T+24>>2]=M;c[T+28>>2]=0.0;o[T+64>>2]=o[t>>2];o[T+64+4>>2]=o[t+4>>2];o[T+64+8>>2]=o[t+8>>2];o[T+64+12>>2]=o[t+12>>2];c[T+80>>2]=r;c[T+84>>2]=0.0;c[T+88>>2]=0.0;c[T+92>>2]=0.0;o[T+112>>2]=0;n[T+116>>0]=0;o[T+120>>2]=0;o[T+120+4>>2]=0;o[T+120+8>>2]=0;o[T+120+12>>2]=0;o[T+120+16>>2]=0;o[T+120+20>>2]=0;o[T+120+24>>2]=0;o[T+120+28>>2]=0;c[T+48>>2]=d;c[T+52>>2]=p;c[T+56>>2]=h;c[T+60>>2]=0.0;o[T+32>>2]=o[i>>2];o[T+32+4>>2]=o[i+4>>2];o[T+32+8>>2]=o[i+8>>2];o[T+32+12>>2]=o[i+12>>2];i=o[l+748>>2]|0;if((i|0)>0){a=0;t=-1;_=b*b;while(1){u=+c[l+4+(a*184|0)>>2]-m;d=+c[l+4+(a*184|0)+4>>2]-A;f=+c[l+4+(a*184|0)+8>>2]-g;s=u*u+d*d+f*f<_;t=s?a:t;a=a+1|0;if((a|0)==(i|0))break;else _=s?u*u+d*d+f*f:_}}else t=-1;a=o[(o[e+8>>2]|0)+8>>2]|0;l=o[(o[S>>2]|0)+8>>2]|0;_=+c[a+224>>2]*+c[l+224>>2];_=_<-10.0?-10.0:_;c[T+84>>2]=_>10.0?10.0:_;c[T+92>>2]=+c[a+228>>2]*+c[l+228>>2];_=+c[a+232>>2]*+c[l+232>>2];_=_<-10.0?-10.0:_;c[T+88>>2]=_>10.0?10.0:_;_=+c[T+72>>2];if(+y(+_)>.7071067690849304){M=+c[T+68>>2];O=1.0/+v(+(_*_+M*M));R=+c[T+64>>2];u=M*O;f=R*-(_*O);d=0.0;h=-(_*O);p=(_*_+M*M)*O;_=-(R*(M*O))}else{p=+c[T+64>>2];M=+c[T+68>>2];O=1.0/+v(+(p*p+M*M));u=0.0;f=(p*p+M*M)*O;d=-(M*O);h=p*O;p=-(_*(p*O));_=_*-(M*O)}c[T+152>>2]=d;c[T+156>>2]=h;c[T+160>>2]=u;c[T+168>>2]=p;c[T+172>>2]=_;c[T+176>>2]=f;if((C|0)!=(E|0)){s=e+24|0;i=e+28|0;a=e+16|0;l=e+20|0}else{s=e+28|0;i=e+24|0;a=e+20|0;l=e+16|0}s=o[s>>2]|0;i=o[i>>2]|0;a=o[a>>2]|0;o[T+96>>2]=o[l>>2];o[T+100>>2]=a;o[T+104>>2]=i;o[T+108>>2]=s;s=o[e+4>>2]|0;if((t|0)>-1){l=s+4+(t*184|0)+148|0;a=o[l>>2]|0;D=s+4+(t*184|0)+120|0;w=o[D>>2]|0;x=s+4+(t*184|0)+124|0;P=o[x>>2]|0;i=s+4+(t*184|0)+128|0;I=o[i>>2]|0;L=s+4+(t*184|0)+112|0;F=o[L>>2]|0;Tn(s+4+(t*184|0)|0,T|0,184)|0;o[L>>2]=F;o[D>>2]=w;o[x>>2]=P;o[i>>2]=I;o[l>>2]=a}else t=fo(s,T)|0;s=o[6722]|0;do{if(s|0){if((o[(o[(o[e+8>>2]|0)+8>>2]|0)+204>>2]&8|0)==0?(o[(o[(o[S>>2]|0)+8>>2]|0)+204>>2]&8|0)==0:0)break;yF[s&0]((o[e+4>>2]|0)+4+(t*184|0)|0,o[((C|0)!=(E|0)?S:e+8|0)>>2]|0,o[T+96>>2]|0,o[T+104>>2]|0,o[((C|0)!=(E|0)?e+8|0:S)>>2]|0,o[T+100>>2]|0,o[T+108>>2]|0)|0}}while(0);ae=T;return}function ur(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0,T=0,R=0,M=0,O=0,I=0,x=0,P=0,D=0;P=ae;ae=ae+16|0;La(13690);x=o[e+712>>2]|0;if((x|0)>0){o[6747]=(o[6747]|0)+1;i=Do((x<<4|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}_l(s|0,0,x<<4|0)|0;r=o[e+712>>2]|0;if((r|0)>0){o[6747]=(o[6747]|0)+1;i=Do((r<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}_l(i|0,0,r<<2|0)|0;O=i;I=s;R=s;T=i}else{O=0;I=s;R=s;T=0}}else{O=0;I=0;R=0;T=0}S=o[e+1112>>2]|0;if(t){if((S|0)>0){r=o[e+1120>>2]|0;a=0;do{s=o[r+(a<<2)>>2]|0;i=o[s+312>>2]|0;if(i|0){c[s+276>>2]=1.0/+(i|0)*+c[s+276>>2];c[s+280>>2]=1.0/+(i|0)*+c[s+280>>2];c[s+284>>2]=1.0/+(i|0)*+c[s+284>>2];c[s+292>>2]=1.0/+(i|0)*+c[s+292>>2];c[s+296>>2]=1.0/+(i|0)*+c[s+296>>2];c[s+300>>2]=1.0/+(i|0)*+c[s+300>>2]}a=a+1|0}while((a|0)!=(S|0));M=14}}else M=14;if((M|0)==14?(S|0)>0:0){_=o[e+1120>>2]|0;if(t){t=0;do{i=o[_+(t<<2)>>2]|0;if((o[i+312>>2]|0)>0?(v=+c[e+452>>2],p=+c[i+276>>2]*v,g=v*+c[i+280>>2],E=v*+c[i+284>>2],d=v*+c[i+292>>2],m=v*+c[i+296>>2],v=v*+c[i+300>>2],u=o[i+24>>2]|0,(u|0)>0):0){r=o[i+32>>2]|0;s=o[e+720>>2]|0;a=o[i+12>>2]|0;l=0;do{f=o[r+(l<<2)>>2]|0;C=+c[a+(l<<2)>>2];y=+c[f+8>>2]-+c[i+228>>2];A=+c[f+12>>2]-+c[i+232>>2];b=+c[f+16>>2]-+c[i+236>>2];D=R+(((f-s|0)/104|0)<<4)|0;c[D>>2]=+c[D>>2]+C*(p+(m*b-v*A));D=R+(((f-s|0)/104|0)<<4)+4|0;c[D>>2]=+c[D>>2]+C*(g+(v*y-d*b));D=R+(((f-s|0)/104|0)<<4)+8|0;c[D>>2]=C*(E+(d*A-m*y))+ +c[D>>2];f=T+(((f-s|0)/104|0)<<2)|0;c[f>>2]=C+ +c[f>>2];l=l+1|0}while((l|0)!=(u|0))}t=t+1|0}while((t|0)!=(S|0))}else{t=0;do{i=o[_+(t<<2)>>2]|0;if((o[i+308>>2]|0)>0?(y=+c[e+452>>2],h=+c[i+244>>2]*y,A=y*+c[i+248>>2],C=y*+c[i+252>>2],n=y*+c[i+260>>2],b=y*+c[i+264>>2],y=y*+c[i+268>>2],f=o[i+24>>2]|0,(f|0)>0):0){r=o[i+32>>2]|0;s=o[e+720>>2]|0;a=o[i+12>>2]|0;l=0;do{D=o[r+(l<<2)>>2]|0;E=+c[a+(l<<2)>>2];v=+c[D+8>>2]-+c[i+228>>2];g=+c[D+12>>2]-+c[i+232>>2];m=+c[D+16>>2]-+c[i+236>>2];u=R+(((D-s|0)/104|0)<<4)|0;c[u>>2]=+c[u>>2]+E*(h+(b*m-y*g));u=R+(((D-s|0)/104|0)<<4)+4|0;c[u>>2]=+c[u>>2]+E*(A+(y*v-n*m));u=R+(((D-s|0)/104|0)<<4)+8|0;c[u>>2]=E*(C+(n*g-b*v))+ +c[u>>2];D=T+(((D-s|0)/104|0)<<2)|0;c[D>>2]=E+ +c[D>>2];l=l+1|0}while((l|0)!=(f|0))}t=t+1|0}while((t|0)!=(S|0))}}if((x|0)>0){i=0;do{n=+c[T+(i<<2)>>2];if(n>0.0){C=1.0/n*+c[R+(i<<4)+4>>2];E=1.0/n*+c[R+(i<<4)+8>>2];D=o[e+720>>2]|0;S=D+(i*104|0)+8|0;c[S>>2]=1.0/n*+c[R+(i<<4)>>2]+ +c[S>>2];S=D+(i*104|0)+12|0;c[S>>2]=C+ +c[S>>2];D=D+(i*104|0)+16|0;c[D>>2]=E+ +c[D>>2]}i=i+1|0}while((i|0)!=(x|0));if(O|0)M=35}else if(!((T|0)==0|(O|0)==0))M=35;if((M|0)==35){o[6748]=(o[6748]|0)+1;Vs(o[O+-4>>2]|0)}if(!((R|0)==0|(I|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[I+-4>>2]|0)}i=o[2685]|0;D=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=D;if(D|0){ae=P;return}do{if(o[i+4>>2]|0){$(P|0,0)|0;D=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[P+4>>2]|0)-(o[D+4>>2]|0)+(((o[P>>2]|0)-(o[D>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=P;return}}}while(0);o[2685]=o[i+20>>2];ae=P;return}function fr(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,u=0.0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0;O=ae;ae=ae+272|0;T=+c[i+48>>2]-+c[t+48>>2];M=+c[i+52>>2]-+c[t+52>>2];R=+c[i+56>>2]-+c[t+56>>2];Le(t,i,O+256|0,O+208|0);y=+c[O+208>>2];A=+c[O+256>>2]*y;g=y*+c[O+256+4>>2];y=y*+c[O+256+8>>2];c[O+192>>2]=A;c[O+192+4>>2]=g;c[O+192+8>>2]=y;c[O+192+12>>2]=0.0;C=+c[s+48>>2]-+c[r+48>>2];S=+c[s+52>>2]-+c[r+52>>2];E=+c[s+56>>2]-+c[r+56>>2];Le(r,s,O+256|0,O+208|0);m=+c[O+208>>2];p=+c[O+256>>2]*m;b=m*+c[O+256+4>>2];m=m*+c[O+256+8>>2];c[O+176>>2]=p;c[O+176+4>>2]=b;c[O+176+8>>2]=m;c[O+176+12>>2]=0.0;i=o[e+12>>2]|0;h=+nF[o[(o[i>>2]|0)+16>>2]&15](i);i=o[e+16>>2]|0;if(!i)u=0.0;else u=+nF[o[(o[i>>2]|0)+16>>2]&15](i);m=h*+v(+(A*A+g*g+y*y))+u*+v(+(p*p+b*b+m*m));if(m+ +v(+((C-T)*(C-T)+(S-M)*(S-M)+(E-R)*(E-R)))==0.0){a=0;ae=O;return a|0}o[O+208>>2]=10472;c[O+208+36>>2]=999999984306749440.0;n[O+208+40>>0]=0;$n(e,t,r,O+208|0);s=(n[O+208+40>>0]|0)==0;o[O+256>>2]=o[O+208+20>>2];o[O+256+4>>2]=o[O+208+20+4>>2];o[O+256+8>>2]=o[O+208+20+8>>2];o[O+256+12>>2]=o[O+208+20+12>>2];e:do{if(!s?(d=o[O+208+4>>2]|0,l=o[O+208+8>>2]|0,f=o[O+208+12>>2]|0,y=(C-T)*(o[_>>2]=d,+c[_>>2]),y=y+(S-M)*(o[_>>2]=l,+c[_>>2]),!(m+(y+(E-R)*(o[_>>2]=f,+c[_>>2]))<=1.1920928955078125e-07)):0){u=+c[O+208+16>>2];h=+c[a+172>>2]+ +c[O+208+36>>2];t:do{if(h>1.0000000474974513e-03){p=h;b=0.0;s=0;while(1){i=o[a+168>>2]|0;if(i|0){I=o[(o[i>>2]|0)+20>>2]|0;o[O+112>>2]=1065353216;o[O+112+4>>2]=1065353216;o[O+112+8>>2]=1065353216;c[O+112+12>>2]=0.0;DF[I&7](i,O+256|0,.20000000298023224,O+112|0)}u=(C-T)*(o[_>>2]=d,+c[_>>2]);u=u+(S-M)*(o[_>>2]=l,+c[_>>2]);u=m+(u+(E-R)*(o[_>>2]=f,+c[_>>2]));if(u<=1.1920928955078125e-07){l=0;break e}h=b+p/u;if(!(!(h<=b)&(!(h<0.0)&!(h>1.0)))){l=0;break e}ni(t,T,M,R,O+192|0,h,O+112|0);ni(r,C,S,E,O+176|0,h,O+48|0);l=o[a+168>>2]|0;if(l|0){I=o[(o[l>>2]|0)+20>>2]|0;o[O>>2]=1065353216;o[O+4>>2]=0;o[O+8>>2]=0;c[O+12>>2]=0.0;DF[I&7](l,O+112+48|0,.20000000298023224,O)}TF[o[o[a>>2]>>2]&31](a,h);o[O>>2]=10472;c[O+36>>2]=999999984306749440.0;n[O+40>>0]=0;$n(e,O+112|0,O+48|0,O);if(!(n[O+40>>0]|0)){l=17;break}p=+c[O+36>>2]+ +c[a+172>>2];o[O+256>>2]=o[O+20>>2];o[O+256+4>>2]=o[O+20+4>>2];o[O+256+8>>2]=o[O+20+8>>2];o[O+256+12>>2]=o[O+20+12>>2];d=o[O+4>>2]|0;l=o[O+8>>2]|0;f=o[O+12>>2]|0;i=s+1|0;if(s>>>0>63){l=18;break}if(!(p>1.0000000474974513e-03)){u=+c[O+16>>2];break t}else{b=h;s=i}}if((l|0)==17)LF[o[(o[a>>2]|0)+8>>2]&127](a,-1,s);else if((l|0)==18)LF[o[(o[a>>2]|0)+8>>2]&127](a,-2,i);l=0;break e}else h=0.0}while(0);c[a+164>>2]=h;o[a+132>>2]=d;o[a+136>>2]=l;o[a+140>>2]=f;c[a+144>>2]=u;o[a+148>>2]=o[O+256>>2];o[a+148+4>>2]=o[O+256+4>>2];o[a+148+8>>2]=o[O+256+8>>2];o[a+148+12>>2]=o[O+256+12>>2];l=1}else l=0}while(0);I=l;ae=O;return I|0}function dr(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0,R=0.0,M=0.0,O=0.0,I=0.0,x=0,P=0;x=ae;ae=ae+32|0;R=+c[t+48>>2]-+c[t+112>>2];s=+c[t+52>>2]-+c[t+116>>2];I=+c[t+56>>2]-+c[t+120>>2];M=R*+c[t+64>>2]+s*+c[t+80>>2]+I*+c[t+96>>2];O=R*+c[t+68>>2]+s*+c[t+84>>2]+I*+c[t+100>>2];I=R*+c[t+72>>2]+s*+c[t+88>>2]+I*+c[t+104>>2];n=o[e+8>>2]|0;T=o[e+4>>2]|0;s=+c[T+28>>2]*+c[T+12>>2];R=s+ +c[e+12>>2];h=+c[n+72>>2];p=+c[n+56>>2];b=+c[n+76>>2];m=+c[n+60>>2];A=+c[n+80>>2];g=+c[n+64>>2];y=+c[n+88>>2];C=+c[n+92>>2];E=+c[n+96>>2];l=(b-m)*(E-g)-(A-g)*(C-m);u=(A-g)*(y-p)-(h-p)*(E-g);d=(h-p)*(C-m)-(b-m)*(y-p);f=1.0/+v(+(d*d+(l*l+u*u)));a=(I-g)*(d*f)+((M-p)*(l*f)+(O-m)*(u*f));if(a<0.0){S=-a;_=-(l*f);a=-(u*f);l=-(d*f)}else{S=a;_=l*f;a=u*f;l=d*f}if(!(S<R)){ae=x;return}d=(I-g)*(a*(h-p)-_*(b-m))+((M-p)*(l*(b-m)-a*(A-g))+(O-m)*(_*(A-g)-l*(h-p)));A=(I-A)*(a*(y-h)-_*(C-b))+((M-h)*(l*(C-b)-a*(E-A))+(O-b)*(_*(E-A)-l*(y-h)));E=(I-E)*(a*(p-y)-_*(m-C))+((M-y)*(l*(m-C)-a*(g-E))+(O-C)*(_*(g-E)-l*(p-y)));if(!(E>0.0&(d>0.0&A>0.0)|E<=0.0&(d<=0.0&A<=0.0))){if((dF[o[(o[n>>2]|0)+100>>2]&127](n)|0)<=0){ae=x;return}d=0.0;f=0.0;u=0.0;n=0;T=0;do{P=o[e+8>>2]|0;BF[o[(o[P>>2]|0)+104>>2]&127](P,T,x+16|0,x);h=+c[x+16>>2];C=+c[x+16+4>>2];g=+c[x+16+8>>2];A=+c[x>>2]-h;E=+c[x+4>>2]-C;y=+c[x+8>>2]-g;do{if((M-h)*A+(O-C)*E+(I-g)*y>0.0){if((M-h)*A+(O-C)*E+(I-g)*y<A*A+E*E+y*y){S=((M-h)*A+(O-C)*E+(I-g)*y)/(A*A+E*E+y*y);p=M-h-A*S;b=O-C-E*S;m=I-g-y*S;break}else{p=M-h-A;b=O-C-E;m=I-g-y;S=1.0;break}}else{p=M-h;b=O-C;m=I-g;S=0.0}}while(0);if(p*p+b*b+m*m<R*R){d=h+A*S;f=g+y*S;u=C+E*S;n=1}T=T+1|0;P=o[e+8>>2]|0}while((T|0)<(dF[o[(o[P>>2]|0)+100>>2]&127](P)|0));if(!(n&1)){ae=x;return}else{m=d;b=f;p=u;f=R*R}}else{m=M-S*_;b=I-S*l;p=O-S*a;f=R*R}d=M-m;h=O-p;u=I-b;if(!(d*d+h*h+u*u<f)){ae=x;return}if(d*d+h*h+u*u>1.1920928955078125e-07){a=+v(+(d*d+h*h+u*u));s=s-a;_=d*(1.0/a);l=u*(1.0/a);a=h*(1.0/a)}s=-s;if(r){E=+c[t+64>>2];S=+c[t+68>>2];R=+c[t+72>>2];M=E*_+S*a+R*l;d=+c[t+80>>2];h=+c[t+84>>2];A=+c[t+88>>2];O=_*d+a*h+l*A;g=+c[t+96>>2];y=+c[t+100>>2];C=+c[t+104>>2];I=_*g+a*y+l*C;c[x+16>>2]=-M;c[x+16+4>>2]=-O;c[x+16+8>>2]=-I;c[x+16+12>>2]=0.0;O=m*d+p*h+b*A+ +c[t+116>>2]+O*s;I=m*g+p*y+b*C+ +c[t+120>>2]+I*s;c[x>>2]=m*E+p*S+b*R+ +c[t+112>>2]+M*s;c[x+4>>2]=O;c[x+8>>2]=I;c[x+12>>2]=0.0;FF[o[(o[i>>2]|0)+16>>2]&15](i,x+16|0,x,s);ae=x;return}else{P=o[(o[i>>2]|0)+16>>2]|0;S=+c[t+64>>2];R=+c[t+68>>2];M=+c[t+72>>2];g=+c[t+80>>2];y=+c[t+84>>2];O=+c[t+88>>2];C=+c[t+96>>2];E=+c[t+100>>2];I=+c[t+104>>2];c[x+16>>2]=S*_+R*a+M*l;c[x+16+4>>2]=_*g+a*y+l*O;c[x+16+8>>2]=_*C+a*E+l*I;c[x+16+12>>2]=0.0;O=m*g+p*y+b*O+ +c[t+116>>2];I=m*C+p*E+b*I+ +c[t+120>>2];c[x>>2]=m*S+p*R+b*M+ +c[t+112>>2];c[x+4>>2]=O;c[x+8>>2]=I;c[x+12>>2]=0.0;FF[P&15](i,x+16|0,x,s);ae=x;return}}function hr(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,l=0;s=ae;ae=ae+768|0;l=o[(o[e>>2]|0)+8>>2]|0;a=JL(t)|0;Am(s+736|0,a,a+4|0,a+8|0);ov(s+752|0,n,+c[s+736>>2],+c[s+736+4>>2],+c[s+736+8>>2]);i=JL(i)|0;Am(s+704|0,i,a+4|0,a+8|0);ov(s+720|0,n,+c[s+704>>2],+c[s+704+4>>2],+c[s+704+8>>2]);BF[l&127](e,s+752|0,s+720|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+672|0,i,a+4|0,a+8|0);ov(s+688|0,n,+c[s+672>>2],+c[s+672+4>>2],+c[s+672+8>>2]);Am(s+640|0,i,i+4|0,a+8|0);ov(s+656|0,n,+c[s+640>>2],+c[s+640+4>>2],+c[s+640+8>>2]);BF[t&127](e,s+688|0,s+656|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+608|0,i,i+4|0,a+8|0);ov(s+624|0,n,+c[s+608>>2],+c[s+608+4>>2],+c[s+608+8>>2]);Am(s+576|0,a,i+4|0,a+8|0);ov(s+592|0,n,+c[s+576>>2],+c[s+576+4>>2],+c[s+576+8>>2]);BF[t&127](e,s+624|0,s+592|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+544|0,a,i+4|0,a+8|0);ov(s+560|0,n,+c[s+544>>2],+c[s+544+4>>2],+c[s+544+8>>2]);Am(s+512|0,a,a+4|0,a+8|0);ov(s+528|0,n,+c[s+512>>2],+c[s+512+4>>2],+c[s+512+8>>2]);BF[t&127](e,s+560|0,s+528|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+480|0,a,a+4|0,a+8|0);ov(s+496|0,n,+c[s+480>>2],+c[s+480+4>>2],+c[s+480+8>>2]);Am(s+448|0,a,a+4|0,i+8|0);ov(s+464|0,n,+c[s+448>>2],+c[s+448+4>>2],+c[s+448+8>>2]);BF[t&127](e,s+496|0,s+464|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+416|0,i,a+4|0,a+8|0);ov(s+432|0,n,+c[s+416>>2],+c[s+416+4>>2],+c[s+416+8>>2]);Am(s+384|0,i,a+4|0,i+8|0);ov(s+400|0,n,+c[s+384>>2],+c[s+384+4>>2],+c[s+384+8>>2]);BF[t&127](e,s+432|0,s+400|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+352|0,i,i+4|0,a+8|0);ov(s+368|0,n,+c[s+352>>2],+c[s+352+4>>2],+c[s+352+8>>2]);Am(s+320|0,i,i+4|0,i+8|0);ov(s+336|0,n,+c[s+320>>2],+c[s+320+4>>2],+c[s+320+8>>2]);BF[t&127](e,s+368|0,s+336|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+288|0,a,i+4|0,a+8|0);ov(s+304|0,n,+c[s+288>>2],+c[s+288+4>>2],+c[s+288+8>>2]);Am(s+256|0,a,i+4|0,i+8|0);ov(s+272|0,n,+c[s+256>>2],+c[s+256+4>>2],+c[s+256+8>>2]);BF[t&127](e,s+304|0,s+272|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+224|0,a,a+4|0,i+8|0);ov(s+240|0,n,+c[s+224>>2],+c[s+224+4>>2],+c[s+224+8>>2]);Am(s+192|0,i,a+4|0,i+8|0);ov(s+208|0,n,+c[s+192>>2],+c[s+192+4>>2],+c[s+192+8>>2]);BF[t&127](e,s+240|0,s+208|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+160|0,i,a+4|0,i+8|0);ov(s+176|0,n,+c[s+160>>2],+c[s+160+4>>2],+c[s+160+8>>2]);Am(s+128|0,i,i+4|0,i+8|0);ov(s+144|0,n,+c[s+128>>2],+c[s+128+4>>2],+c[s+128+8>>2]);BF[t&127](e,s+176|0,s+144|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+96|0,i,i+4|0,i+8|0);ov(s+112|0,n,+c[s+96>>2],+c[s+96+4>>2],+c[s+96+8>>2]);Am(s+64|0,a,i+4|0,i+8|0);ov(s+80|0,n,+c[s+64>>2],+c[s+64+4>>2],+c[s+64+8>>2]);BF[t&127](e,s+112|0,s+80|0,r);t=o[(o[e>>2]|0)+8>>2]|0;Am(s+32|0,a,i+4|0,i+8|0);ov(s+48|0,n,+c[s+32>>2],+c[s+32+4>>2],+c[s+32+8>>2]);Am(s,a,a+4|0,i+8|0);ov(s+16|0,n,+c[s>>2],+c[s+4>>2],+c[s+8>>2]);BF[t&127](e,s+48|0,s+16|0,r);ae=s;return}function pr(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0;o[e>>2]=6336;o[6747]=(o[6747]|0)+1;i=Do(379)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}c[i+308>>2]=9.999999747378752e-05;u=i+332|0;n[u>>0]=n[u>>0]&-16;o[e+24>>2]=i;u=(o[t+20>>2]|0)==0;o[6747]=(o[6747]|0)+1;i=Do(23)|0;o[(i+4+15&-16)+-4>>2]=i;o[(i+4+15&-16)>>2]=u?10384:10432;o[e+28>>2]=i+4+15&-16;o[6747]=(o[6747]|0)+1;i=Do(43)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}_=o[e+24>>2]|0;u=o[e+28>>2]|0;n[i+4>>0]=0;o[i>>2]=7144;o[i+16>>2]=0;o[i+20>>2]=3;o[i+12>>2]=_;o[i+8>>2]=u;o[e+32>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6368;o[e+36>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6388;o[e+40>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6408;o[e+44>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6428;o[e+48>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6448;o[e+52>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6468;o[e+56>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6488;o[e+60>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6508;o[e+76>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i>>2]=6508;o[e+80>>2]=i;n[i+4>>0]=1;o[6747]=(o[6747]|0)+1;i=Do(27)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6528;o[e+72>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(35)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}n[i+4>>0]=0;o[i>>2]=6548;o[i+8>>2]=1;o[i+12>>2]=0;o[e+88>>2]=i;o[6747]=(o[6747]|0)+1;i=Do(35)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i>>2]=6548;o[i+8>>2]=1;o[i+12>>2]=0;o[e+84>>2]=i;n[i+4>>0]=1;u=o[t+16>>2]|0;u=(u|0)>80?u:80;i=o[t>>2]|0;if(!i){n[e+12>>0]=1;o[6747]=(o[6747]|0)+1;i=Do(39)|0;if(!i)_=0;else{o[(i+4+15&-16)+-4>>2]=i;_=i+4+15&-16}i=o[t+8>>2]|0;o[_>>2]=772;r=_+4|0;o[r>>2]=i;o[6747]=(o[6747]|0)+1;i=Do((i*772|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[_+16>>2]=i;o[_+12>>2]=i;r=o[r>>2]|0;o[_+8>>2]=r;if(r+-1|0){s=o[_>>2]|0;a=r+-1|0;l=i;do{f=l;l=l+s|0;o[f>>2]=l;a=a+-1|0}while((a|0)!=0);i=i+(O(s,r+-1|0)|0)|0}o[i>>2]=0;o[e+8>>2]=_}else{n[e+12>>0]=0;o[e+8>>2]=i}i=o[t+4>>2]|0;if(i|0){n[e+20>>0]=0;o[e+16>>2]=i;return}n[e+20>>0]=1;o[6747]=(o[6747]|0)+1;i=Do(39)|0;if(!i)_=0;else{o[(i+4+15&-16)+-4>>2]=i;_=i+4+15&-16}i=o[t+12>>2]|0;o[_>>2]=u;r=_+4|0;o[r>>2]=i;i=O(i,u)|0;o[6747]=(o[6747]|0)+1;i=Do(i+19|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[_+16>>2]=i;o[_+12>>2]=i;r=o[r>>2]|0;o[_+8>>2]=r;if(r+-1|0){s=o[_>>2]|0;a=r+-1|0;l=i;do{f=l;l=l+s|0;o[f>>2]=l;a=a+-1|0}while((a|0)!=0);i=i+(O(s,r+-1|0)|0)|0}o[i>>2]=0;o[e+16>>2]=_;return}function br(e,t,i,r,s,a,l,_){e=e|0;t=t|0;i=i|0;r=r|0;s=+s;a=+a;l=l|0;_=_|0;var u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0;v=ae;ae=ae+288|0;o[v+208>>2]=o[t>>2];o[v+208+4>>2]=o[t+4>>2];o[v+208+8>>2]=o[t+8>>2];o[v+208+12>>2]=o[t+12>>2];d=v+208+16|0;o[d>>2]=o[i>>2];o[d+4>>2]=o[i+4>>2];o[d+8>>2]=o[i+8>>2];o[d+12>>2]=o[i+12>>2];t=v+208+32|0;o[t>>2]=o[r>>2];o[t+4>>2]=o[r+4>>2];o[t+8>>2]=o[r+8>>2];o[t+12>>2]=o[r+12>>2];p=o[l>>2]|0;b=o[l+4>>2]|0;m=o[l+8>>2]|0;A=o[l+16>>2]|0;g=o[l+12>>2]|0;h=o[l+20>>2]|0;o[v+156>>2]=o[v+208>>2];o[v+156+4>>2]=o[v+208+4>>2];o[v+156+8>>2]=o[v+208+8>>2];o[v+156+12>>2]=o[v+208+12>>2];o[v+172>>2]=o[d>>2];o[v+172+4>>2]=o[d+4>>2];o[v+172+8>>2]=o[d+8>>2];o[v+172+12>>2]=o[d+12>>2];o[v+188>>2]=o[t>>2];o[v+188+4>>2]=o[t+4>>2];o[v+188+8>>2]=o[t+8>>2];o[v+188+12>>2]=o[t+12>>2];t=o[e+136>>2]|0;if((t|0)==(o[e+140>>2]|0)?(y=(t|0)==0?1:t<<1,(t|0)<(y|0)):0){if(!y)r=0;else{o[6747]=(o[6747]|0)+1;t=Do((y*284|3)+16|0)|0;if(!t)r=0;else{o[(t+4+15&-16)+-4>>2]=t;r=t+4+15&-16}t=o[e+136>>2]|0}if((t|0)>0){l=0;do{i=o[e+144>>2]|0;u=r+(l*284|0)|0;f=i+(l*284|0)|0;d=u+92|0;do{o[u>>2]=o[f>>2];u=u+4|0;f=f+4|0}while((u|0)<(d|0));u=r+(l*284|0)+92|0;f=i+(l*284|0)+92|0;o[u>>2]=o[f>>2];o[u+4>>2]=o[f+4>>2];o[u+8>>2]=o[f+8>>2];o[u+12>>2]=o[f+12>>2];u=i+(l*284|0)+108|0;f=r+(l*284|0)+108|0;o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];f=i+(l*284|0)+124|0;u=r+(l*284|0)+124|0;o[u>>2]=o[f>>2];o[u+4>>2]=o[f+4>>2];o[u+8>>2]=o[f+8>>2];o[u+12>>2]=o[f+12>>2];u=r+(l*284|0)+140|0;f=i+(l*284|0)+140|0;o[u>>2]=o[f>>2];o[u+4>>2]=o[f+4>>2];o[u+8>>2]=o[f+8>>2];o[u+12>>2]=o[f+12>>2];u=r+(l*284|0)+156|0;f=i+(l*284|0)+156|0;d=u+128|0;do{o[u>>2]=o[f>>2];u=u+4|0;f=f+4|0}while((u|0)<(d|0));l=l+1|0}while((l|0)!=(t|0))}t=o[e+144>>2]|0;if(t|0){if(n[e+148>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+144>>2]=0}n[e+148>>0]=1;o[e+144>>2]=r;o[e+140>>2]=y;t=o[e+136>>2]|0}r=o[e+144>>2]|0;u=r+(t*284|0)|0;f=v;d=u+92|0;do{o[u>>2]=o[f>>2];u=u+4|0;f=f+4|0}while((u|0)<(d|0));u=r+(t*284|0)+92|0;o[u>>2]=o[v+92>>2];o[u+4>>2]=o[v+92+4>>2];o[u+8>>2]=o[v+92+8>>2];o[u+12>>2]=o[v+92+12>>2];u=r+(t*284|0)+108|0;o[u>>2]=o[v+108>>2];o[u+4>>2]=o[v+108+4>>2];o[u+8>>2]=o[v+108+8>>2];o[u+12>>2]=o[v+108+12>>2];u=r+(t*284|0)+124|0;o[u>>2]=o[v+124>>2];o[u+4>>2]=o[v+124+4>>2];o[u+8>>2]=o[v+124+8>>2];o[u+12>>2]=o[v+124+12>>2];u=r+(t*284|0)+140|0;o[u>>2]=o[v+140>>2];o[u+4>>2]=o[v+140+4>>2];o[u+8>>2]=o[v+140+8>>2];o[u+12>>2]=o[v+140+12>>2];t=r+(t*284|0)+156|0;u=t;f=v+156|0;d=u+48|0;do{o[u>>2]=o[f>>2];u=u+4|0;f=f+4|0}while((u|0)<(d|0));c[t+48>>2]=s;o[t+52>>2]=g;c[t+56>>2]=a;o[t+60>>2]=p;o[t+64>>2]=b;o[t+68>>2]=m;o[t+72>>2]=A;c[t+76>>2]=0.0;c[t+80>>2]=0.0;c[t+84>>2]=0.0;c[t+88>>2]=.10000000149011612;o[t+92>>2]=h;c[t+96>>2]=0.0;c[t+100>>2]=0.0;n[t+104>>0]=_&1;u=t+105|0;f=v+256|0;d=u+23|0;do{n[u>>0]=n[f>>0]|0;u=u+1|0;f=f+1|0}while((u|0)<(d|0));_=o[e+136>>2]|0;o[e+136>>2]=_+1;_=(o[e+144>>2]|0)+(_*284|0)|0;$t(o[e+116>>2]|0,_,0);Gr(o[e+116>>2]|0,o[e+144>>2]|0,(o[e+136>>2]|0)+-1|0,0);ae=v;return _|0}function mr(e,t,i,s){e=e|0;t=t|0;i=i|0;s=s|0;var l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0;v=ae;ae=ae+80|0;y=o[e+48>>2]|0;o[v>>2]=8076;o[v+4>>2]=y;o[v+8>>2]=t;y=o[e+52>>2]|0;if(!(n[y+60>>0]|0)){t=o[y+56>>2]|0;if((t|0)>0){e=t;d=0;h=o[y+96>>2]|0;t=0;while(1){t=t+1|0;if(!(+c[i>>2]>+c[h+16>>2])?!(+c[s>>2]<+c[h>>2]):0)l=1;else l=0;if(!(!(+c[i+8>>2]>+c[h+24>>2])?!(+c[s+8>>2]<+c[h+8>>2]):0))l=0;if(!(+c[i+4>>2]>+c[h+20>>2])?!(+c[s+4>>2]<+c[h+4>>2]):0){_=o[h+32>>2]|0;if(l&(_|0)==-1){LF[o[(o[v>>2]|0)+8>>2]&127](v,o[h+36>>2]|0,o[h+40>>2]|0);e=o[y+56>>2]|0;f=44}else{u=_;_=(_|0)==-1;f=43}}else{_=o[h+32>>2]|0;u=_;_=(_|0)==-1;l=0;f=43}if((f|0)==43){f=0;if(_|l)f=44;else{_=u+d|0;l=h+(u<<6)|0}}if((f|0)==44){_=d+1|0;l=h+64|0}if((_|0)<(e|0)){d=_;h=l}else break}}else t=0;if((o[6727]|0)>=(t|0)){ae=v;return}o[6727]=t;ae=v;return}E=+c[i>>2];M=+c[i+4>>2];P=+c[i+8>>2];x=+c[y+4>>2];E=E<x?x:E;R=+c[y+8>>2];M=M<R?R:M;C=+c[y+12>>2];P=P<C?C:P;D=+c[y+20>>2];O=+c[y+24>>2];S=+c[y+28>>2];w=+c[y+36>>2];I=+c[y+40>>2];T=+c[y+44>>2];m=~~(((D<E?D:E)-x)*w)&65535&-2;r[v+66>>1]=m;A=~~(((O<M?O:M)-R)*I)&65535&-2;g=~~(((S<P?S:P)-C)*T)&65535&-2;r[v+66+2>>1]=A;r[v+66+4>>1]=g;P=+c[s>>2];M=+c[s+4>>2];E=+c[s+8>>2];P=P<x?x:P;M=M<R?R:M;E=E<C?C:E;s=~~(w*((D<P?D:P)-x)+1.0)&65535|1;r[v+60>>1]=s;p=~~(I*((O<M?O:M)-R)+1.0)&65535|1;b=~~(T*((S<E?S:E)-C)+1.0)&65535|1;r[v+60+2>>1]=p;r[v+60+4>>1]=b;switch(o[y+144>>2]|0){case 0:{d=o[y+56>>2]|0;if((d|0)>0){e=0;l=o[y+136>>2]|0;t=0;do{t=t+1|0;u=((s&65535)>=(a[l>>1]|0)?(m&65535)<=(a[l+6>>1]|0):0)&(g&65535)<=(a[l+10>>1]|0)&(b&65535)>=(a[l+4>>1]|0)&(A&65535)<=(a[l+8>>1]|0)&(p&65535)>=(a[l+2>>1]|0);f=l+12|0;_=o[f>>2]|0;if((_|0)>-1&u)LF[o[(o[v>>2]|0)+8>>2]&127](v,21?_>>>21:_,_&2097151);if(u|(_|0)>-1){e=e+1|0;l=l+16|0}else{y=o[f>>2]|0;e=e-y|0;l=l+(0-y<<4)|0}}while((e|0)<(d|0))}else t=0;if((o[6727]|0)<(t|0))o[6727]=t;break}case 1:{if((o[y+152>>2]|0)>0){i=0;do{t=o[y+160>>2]|0;if(((s&65535)>=(a[t+(i<<5)>>1]|0)?(m&65535)<=(a[t+(i<<5)+6>>1]|0):0)&(g&65535)<=(a[t+(i<<5)+10>>1]|0)&(b&65535)>=(a[t+(i<<5)+4>>1]|0)&(A&65535)<=(a[t+(i<<5)+8>>1]|0)&(p&65535)>=(a[t+(i<<5)+2>>1]|0)){h=o[t+(i<<5)+12>>2]|0;d=o[t+(i<<5)+16>>2]|0;e:do{if((d|0)>0){e=h;l=(o[y+136>>2]|0)+(h<<4)|0;t=0;while(1){t=t+1|0;u=((s&65535)>=(a[l>>1]|0)?(m&65535)<=(a[l+6>>1]|0):0)&(g&65535)<=(a[l+10>>1]|0)&(b&65535)>=(a[l+4>>1]|0)&(A&65535)<=(a[l+8>>1]|0)&(p&65535)>=(a[l+2>>1]|0);f=l+12|0;_=o[f>>2]|0;if((_|0)>-1&u)LF[o[(o[v>>2]|0)+8>>2]&127](v,21?_>>>21:_,_&2097151);if(u|(_|0)>-1){e=e+1|0;l=l+16|0}else{f=o[f>>2]|0;e=e-f|0;l=l+(0-f<<4)|0}if((e|0)>=(d+h|0))break e}}else t=0}while(0);if((o[6727]|0)<(t|0))o[6727]=t}i=i+1|0}while((i|0)<(o[y+152>>2]|0))}break}case 2:{Wc(o[y+136>>2]|0,v,v+66|0,v+60|0);break}default:{}}ae=v;return}function Ar(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var c=0,l=0,_=0,u=0,f=0,d=0,h=0;if((a|0)<0){a=o[e+8>>2]|0;+fF[o[(o[a>>2]|0)+12>>2]&3](a,t,i,r,s,o[e+12>>2]|0,o[e+16>>2]|0,o[e+4>>2]|0,o[e+20>>2]|0,o[e+24>>2]|0);return}h=o[e+16>>2]|0;e:do{if((h|0)>0){u=o[e+12>>2]|0;c=0;while(1){f=u+(c<<2)|0;_=o[f>>2]|0;l=o[(o[_+28>>2]|0)+208>>2]|0;if((l|0)<=-1)l=o[(o[_+32>>2]|0)+208>>2]|0;if((l|0)==(a|0))break e;c=c+1|0;if((c|0)>=(h|0)){f=0;break}}}else{c=0;f=0}}while(0);if((c|0)<(h|0)){d=o[e+12>>2]|0;l=0;do{u=o[d+(c<<2)>>2]|0;_=o[(o[u+28>>2]|0)+208>>2]|0;if((_|0)<=-1)_=o[(o[u+32>>2]|0)+208>>2]|0;l=l+((_|0)==(a|0)&1)|0;c=c+1|0}while((c|0)!=(h|0));a=l}else a=0;c=o[e+4>>2]|0;if((o[c+72>>2]|0)<2){h=o[e+8>>2]|0;+fF[o[(o[h>>2]|0)+12>>2]&3](h,t,i,r,s,f,a,c,o[e+20>>2]|0,o[e+24>>2]|0);return}if((i|0)>0){l=o[e+32>>2]|0;c=o[e+36>>2]|0;h=0;do{d=t+(h<<2)|0;if((l|0)==(c|0)){u=(c|0)==0?1:c<<1;if((c|0)<(u|0)){if(!u)l=0;else{o[6747]=(o[6747]|0)+1;c=Do((u<<2|3)+16|0)|0;if(!c)l=0;else{o[(c+4+15&-16)+-4>>2]=c;l=c+4+15&-16}c=o[e+32>>2]|0}if((c|0)>0){_=0;do{o[l+(_<<2)>>2]=o[(o[e+40>>2]|0)+(_<<2)>>2];_=_+1|0}while((_|0)!=(c|0))}_=o[e+40>>2]|0;if(_){if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);c=o[e+32>>2]|0}o[e+40>>2]=0}n[e+44>>0]=1;o[e+40>>2]=l;o[e+36>>2]=u;l=c;c=u}else l=c}o[(o[e+40>>2]|0)+(l<<2)>>2]=o[d>>2];l=l+1|0;o[e+32>>2]=l;h=h+1|0}while((h|0)!=(i|0))}if((s|0)>0){l=o[e+52>>2]|0;c=o[e+56>>2]|0;h=0;do{d=r+(h<<2)|0;if((l|0)==(c|0)){u=(c|0)==0?1:c<<1;if((c|0)<(u|0)){if(!u)l=0;else{o[6747]=(o[6747]|0)+1;c=Do((u<<2|3)+16|0)|0;if(!c)l=0;else{o[(c+4+15&-16)+-4>>2]=c;l=c+4+15&-16}c=o[e+52>>2]|0}if((c|0)>0){_=0;do{o[l+(_<<2)>>2]=o[(o[e+60>>2]|0)+(_<<2)>>2];_=_+1|0}while((_|0)!=(c|0))}_=o[e+60>>2]|0;if(_){if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);c=o[e+52>>2]|0}o[e+60>>2]=0}n[e+64>>0]=1;o[e+60>>2]=l;o[e+56>>2]=u;l=c;c=u}else l=c}o[(o[e+60>>2]|0)+(l<<2)>>2]=o[d>>2];l=l+1|0;o[e+52>>2]=l;h=h+1|0}while((h|0)!=(s|0))}if(!a)c=o[e+72>>2]|0;else{c=o[e+72>>2]|0;l=o[e+76>>2]|0;h=0;do{d=f+(h<<2)|0;if((c|0)==(l|0)){u=(l|0)==0?1:l<<1;if((l|0)<(u|0)){if(!u){c=l;l=0}else{o[6747]=(o[6747]|0)+1;c=Do((u<<2|3)+16|0)|0;if(!c)l=0;else{o[(c+4+15&-16)+-4>>2]=c;l=c+4+15&-16}c=o[e+72>>2]|0}if((c|0)>0){_=0;do{o[l+(_<<2)>>2]=o[(o[e+80>>2]|0)+(_<<2)>>2];_=_+1|0}while((_|0)!=(c|0))}_=o[e+80>>2]|0;if(_){if(n[e+84>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);c=o[e+72>>2]|0}o[e+80>>2]=0}n[e+84>>0]=1;o[e+80>>2]=l;o[e+76>>2]=u;l=u}else c=l}o[(o[e+80>>2]|0)+(c<<2)>>2]=o[d>>2];c=c+1|0;o[e+72>>2]=c;h=h+1|0}while((h|0)!=(a|0))}if(((o[e+52>>2]|0)+c|0)<=(o[(o[e+4>>2]|0)+72>>2]|0))return;mi(e);return}function gr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;o[e+24>>2]=t;c[e+28>>2]=0.0;o[e+32>>2]=0;o[e+36>>2]=1;c[e+40>>2]=1.0;n[e+44>>0]=1;o[e+48>>2]=0;n[e+52>>0]=0;n[e+53>>0]=1;n[e+54>>0]=1;c[e+56>>2]=.03999999910593033;n[e+60>>0]=0;c[e+64>>2]=0.0;o[e+68>>2]=i;o[e+72>>2]=0;n[e+76>>0]=1;o[e+80>>2]=0;o[e+84>>2]=0;o[e+88>>2]=0;c[e+92>>2]=.6000000238418579;c[e+96>>2]=1.0;c[e+100>>2]=.30000001192092896;c[e+104>>2]=.01666666753590107;c[e+108>>2]=0.0;c[e+116>>2]=20.0;o[e+112>>2]=10;c[e+124>>2]=.20000000298023224;c[e+128>>2]=.800000011920929;c[e+132>>2]=0.0;c[e+120>>2]=1.0;o[e+136>>2]=1;c[e+140>>2]=-.03999999910593033;c[e+144>>2]=.10000000149011612;c[e+148>>2]=0.0;c[e+152>>2]=.8500000238418579;o[e+156>>2]=260;o[e+160>>2]=2;o[e+164>>2]=128;c[e+168>>2]=100.0;c[e+172>>2]=1000000015047466219876688.0e6;o[e>>2]=5208;n[e+192>>0]=1;o[e+188>>2]=0;o[e+180>>2]=0;o[e+184>>2]=0;o[e+196>>2]=0;o[e+200>>2]=r;n[e+224>>0]=1;o[e+220>>2]=0;o[e+212>>2]=0;o[e+216>>2]=0;n[e+244>>0]=1;o[e+240>>2]=0;o[e+232>>2]=0;o[e+236>>2]=0;o[e+248>>2]=0;o[e+252>>2]=-1054867456;n[e+274>>0]=0;n[e+275>>0]=0;o[e+256>>2]=0;o[e+256+4>>2]=0;o[e+256+8>>2]=0;o[e+256+12>>2]=0;n[e+292>>0]=1;o[e+288>>2]=0;o[e+280>>2]=0;o[e+284>>2]=0;o[e+296>>2]=0;n[e+300>>0]=1;n[e+320>>0]=1;o[e+316>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;if(!r){o[6747]=(o[6747]|0)+1;r=Do(215)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=5872;n[r+20>>0]=1;o[r+16>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;n[r+40>>0]=1;o[r+36>>2]=0;o[r+28>>2]=0;o[r+32>>2]=0;n[r+60>>0]=1;o[r+56>>2]=0;o[r+48>>2]=0;o[r+52>>2]=0;n[r+80>>0]=1;o[r+76>>2]=0;o[r+68>>2]=0;o[r+72>>2]=0;n[r+100>>0]=1;o[r+96>>2]=0;o[r+88>>2]=0;o[r+92>>2]=0;n[r+120>>0]=1;o[r+116>>2]=0;o[r+108>>2]=0;o[r+112>>2]=0;n[r+140>>0]=1;o[r+136>>2]=0;o[r+128>>2]=0;o[r+132>>2]=0;n[r+160>>0]=1;o[r+156>>2]=0;o[r+148>>2]=0;o[r+152>>2]=0;n[r+180>>0]=1;o[r+176>>2]=0;o[r+168>>2]=0;o[r+172>>2]=0;o[r+192>>2]=0;o[e+200>>2]=r;r=1}else r=0;n[e+273>>0]=r;o[6747]=(o[6747]|0)+1;r=Do(87)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=6568;n[r+20>>0]=1;o[r+16>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;n[r+40>>0]=1;o[r+36>>2]=0;o[r+28>>2]=0;o[r+32>>2]=0;n[r+60>>0]=1;o[r+56>>2]=0;o[r+48>>2]=0;o[r+52>>2]=0;n[r+64>>0]=1;o[e+204>>2]=r;n[e+272>>0]=1;o[6747]=(o[6747]|0)+1;r=Do(107)|0;if(!r){i=0;s=o[e+200>>2]|0;o[i>>2]=5420;r=i+4|0;o[r>>2]=0;r=i+8|0;o[r>>2]=s;r=i+12|0;o[r>>2]=0;r=i+16|0;o[r>>2]=0;r=i+20|0;o[r>>2]=0;r=i+24|0;o[r>>2]=t;t=i+44|0;n[t>>0]=1;t=i+40|0;o[t>>2]=0;t=i+32|0;o[t>>2]=0;t=i+36|0;o[t>>2]=0;t=i+64|0;n[t>>0]=1;t=i+60|0;o[t>>2]=0;t=i+52|0;o[t>>2]=0;t=i+56|0;o[t>>2]=0;t=i+84|0;n[t>>0]=1;t=i+80|0;o[t>>2]=0;t=i+72|0;o[t>>2]=0;t=i+76|0;o[t>>2]=0;o[e+196>>2]=i;return}o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16;r=o[e+200>>2]|0;o[s>>2]=5420;i=s+4|0;o[i>>2]=0;i=s+8|0;o[i>>2]=r;i=s+12|0;o[i>>2]=0;i=s+16|0;o[i>>2]=0;i=s+20|0;o[i>>2]=0;i=s+24|0;o[i>>2]=t;t=s+44|0;n[t>>0]=1;t=s+40|0;o[t>>2]=0;t=s+32|0;o[t>>2]=0;t=s+36|0;o[t>>2]=0;t=s+64|0;n[t>>0]=1;t=s+60|0;o[t>>2]=0;t=s+52|0;o[t>>2]=0;t=s+56|0;o[t>>2]=0;t=s+84|0;n[t>>0]=1;t=s+80|0;o[t>>2]=0;t=s+72|0;o[t>>2]=0;t=s+76|0;o[t>>2]=0;o[e+196>>2]=s;return}function yr(e,t){e=e|0;t=t|0;var i=0,r=0,s=0.0,a=0,l=0.0,_=0,u=0,f=0.0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0.0,v=0.0;g=ae;ae=ae+96|0;m=o[e+12>>2]|0;BF[o[(o[m>>2]|0)+8>>2]&127](m,(o[e+8>>2]|0)+4|0,g+80|0,g+64|0);m=o[t+68>>2]|0;jF[o[(o[m>>2]|0)+16>>2]&31](m,o[(o[e+8>>2]|0)+188>>2]|0,g+80|0,g+64|0,o[t+24>>2]|0);m=o[t+24>>2]|0;BF[o[(o[m>>2]|0)+32>>2]&127](m,o[(o[e+8>>2]|0)+284>>2]|0,t+28|0,m);m=o[e+8>>2]|0;o[e+92>>2]=o[m+52>>2];o[e+92+4>>2]=o[m+52+4>>2];o[e+92+8>>2]=o[m+52+8>>2];o[e+92+12>>2]=o[m+52+12>>2];m=o[m+284>>2]|0;if((dF[o[(o[m>>2]|0)+36>>2]&127](m)|0)>0){m=0;s=0.0;t=0;do{i=o[e+132>>2]|0;if((i|0)<0){if((o[e+136>>2]|0)<0){r=o[e+140>>2]|0;if(r|0){if(n[e+144>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+140>>2]=0}n[e+144>>0]=1;o[e+140>>2]=0;o[e+136>>2]=0}do{o[(o[e+140>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[e+132>>2]=0;i=o[(o[e+8>>2]|0)+284>>2]|0;i=o[(dF[o[(o[i>>2]|0)+28>>2]&127](i)|0)+12>>2]|0;b=o[o[i+(m<<4)>>2]>>2]|0;r=o[o[i+(m<<4)+4>>2]>>2]|0;if(!((b|0)!=0?(o[b+204>>2]&4|0)!=0:0))A=15;do{if((A|0)==15){A=0;if(r|0?o[r+204>>2]&4|0:0)break;i=o[i+(m<<4)+8>>2]|0;if(i|0)xF[o[(o[i>>2]|0)+16>>2]&127](i,e+128|0);p=o[e+132>>2]|0;if((p|0)>0){d=o[e+140>>2]|0;h=o[e+8>>2]|0;b=0;do{u=o[d+(b<<2)>>2]|0;f=(o[u+740>>2]|0)==(h|0)?-1.0:1.0;i=o[u+748>>2]|0;if((i|0)>0){_=0;do{l=+c[u+4+(_*184|0)+80>>2];if(l<0.0){a=u+4+(_*184|0)+64|0;if(l<s){t=u+4+(_*184|0)+68|0;y=f*+c[t>>2];r=u+4+(_*184|0)+72|0;s=f*+c[r>>2];c[e+152>>2]=f*+c[a>>2];c[e+156>>2]=y;c[e+160>>2]=s;c[e+164>>2]=0.0;i=o[u+748>>2]|0;s=l}else{t=u+4+(_*184|0)+68|0;r=u+4+(_*184|0)+72|0}v=l*(f*+c[t>>2])*.20000000298023224;y=l*(f*+c[r>>2])*.20000000298023224;c[e+92>>2]=l*(f*+c[a>>2])*.20000000298023224+ +c[e+92>>2];c[e+96>>2]=v+ +c[e+96>>2];c[e+100>>2]=y+ +c[e+100>>2];t=1}_=_+1|0}while((_|0)<(i|0))}b=b+1|0}while((b|0)!=(p|0))}}}while(0);m=m+1|0;b=o[(o[e+8>>2]|0)+284>>2]|0}while((m|0)<(dF[o[(o[b>>2]|0)+36>>2]&127](b)|0))}else t=0;A=o[e+8>>2]|0;o[g>>2]=o[A+4>>2];o[g+4>>2]=o[A+4+4>>2];o[g+8>>2]=o[A+4+8>>2];o[g+12>>2]=o[A+4+12>>2];o[g+16>>2]=o[A+20>>2];o[g+16+4>>2]=o[A+20+4>>2];o[g+16+8>>2]=o[A+20+8>>2];o[g+16+12>>2]=o[A+20+12>>2];o[g+32>>2]=o[A+36>>2];o[g+32+4>>2]=o[A+36+4>>2];o[g+32+8>>2]=o[A+36+8>>2];o[g+32+12>>2]=o[A+36+12>>2];o[g+48>>2]=o[e+92>>2];o[g+48+4>>2]=o[e+92+4>>2];o[g+48+8>>2]=o[e+92+8>>2];o[g+48+12>>2]=o[e+92+12>>2];o[A+260>>2]=(o[A+260>>2]|0)+1;o[A+4>>2]=o[g>>2];o[A+4+4>>2]=o[g+4>>2];o[A+4+8>>2]=o[g+8>>2];o[A+4+12>>2]=o[g+12>>2];o[A+20>>2]=o[g+16>>2];o[A+20+4>>2]=o[g+16+4>>2];o[A+20+8>>2]=o[g+16+8>>2];o[A+20+12>>2]=o[g+16+12>>2];o[A+36>>2]=o[g+32>>2];o[A+36+4>>2]=o[g+32+4>>2];o[A+36+8>>2]=o[g+32+8>>2];o[A+36+12>>2]=o[g+32+12>>2];o[A+52>>2]=o[g+48>>2];o[A+52+4>>2]=o[g+48+4>>2];o[A+52+8>>2]=o[g+48+8>>2];o[A+52+12>>2]=o[g+48+12>>2];ae=g;return t|0}function vr(e,t,i){e=e|0;t=+t;i=+i;var r=0,s=0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0.0,g=0.0,y=0.0,C=0.0;m=ae;ae=ae+80|0;r=o[e+8>>2]|0;if(!r){r=o[e+4>>2]|0;if(!r){_=0.0;d=0.0;u=0.0;t=0.0;l=0.0;f=0.0}else{b=+c[r+336>>2];l=+c[e+172>>2];A=+c[r+340>>2];h=+c[e+168>>2];f=+c[e+164>>2];p=+c[r+332>>2];_=+c[r+316>>2];d=+c[r+320>>2];u=+c[r+324>>2];t=b*l-A*h;l=A*f-l*p;f=h*p-b*f}}else{A=+c[r+332>>2];l=+c[e+172>>2];h=+c[r+336>>2];p=+c[e+168>>2];f=+c[e+164>>2];b=+c[r+328>>2];_=+c[r+312>>2];d=+c[r+316>>2];u=+c[r+320>>2];t=A*l-h*p;l=h*f-l*b;f=p*b-A*f}h=_+t;b=d+l;p=u+f;r=o[e+20>>2]|0;if(!r){r=o[e+16>>2]|0;if(!r){_=0.0;f=0.0;u=0.0;t=0.0;l=0.0;d=0.0}else{A=+c[r+336>>2];l=+c[e+188>>2];C=+c[r+340>>2];y=+c[e+184>>2];d=+c[e+180>>2];g=+c[r+332>>2];_=+c[r+316>>2];f=+c[r+320>>2];u=+c[r+324>>2];t=A*l-C*y;l=C*d-l*g;d=y*g-A*d}}else{C=+c[r+332>>2];l=+c[e+188>>2];A=+c[r+336>>2];g=+c[e+184>>2];d=+c[e+180>>2];y=+c[r+328>>2];_=+c[r+312>>2];f=+c[r+316>>2];u=+c[r+320>>2];t=C*l-A*g;l=A*d-l*y;d=g*y-C*d}h=h-(_+t);f=b-(f+l);u=p-(u+d);t=+c[e+196>>2];l=+c[e+200>>2];_=+c[e+204>>2];n[m+36+32>>0]=1;o[m+36+16>>2]=0;o[m+36+16+4>>2]=0;o[m+36+16+8>>2]=0;o[m+36+16+12>>2]=0;o[m+36>>2]=o[e+72>>2];o[m+36+4>>2]=o[e+72+4>>2];o[m+36+8>>2]=o[e+72+8>>2];o[m+36+12>>2]=o[e+72+12>>2];if(t*h+f*l+u*_<0.0){g=+c[e+212>>2];y=+c[m+36>>2]+(t*(t*h+f*l+u*_)+(h-t*(t*h+f*l+u*_))*g);c[m+36>>2]=y;C=l*(t*h+f*l+u*_)+(f-l*(t*h+f*l+u*_))*g+ +c[m+36+4>>2];c[m+36+4>>2]=C;_=_*(t*h+f*l+u*_)+(u-_*(t*h+f*l+u*_))*g+ +c[m+36+8>>2];c[m+36+8>>2]=_;t=y;l=C;r=m+36+8|0;s=m+36|0;a=m+36+4|0}else{t=+c[m+36>>2];l=+c[m+36+4>>2];_=+c[m+36+8>>2];r=m+36+8|0;s=m+36|0;a=m+36+4|0}u=(+c[e+104>>2]*t+ +c[e+108>>2]*l+ +c[e+112>>2]*_)*i;f=(t*+c[e+120>>2]+l*+c[e+124>>2]+_*+c[e+128>>2])*i;t=(t*+c[e+136>>2]+l*+c[e+140>>2]+_*+c[e+144>>2])*i;c[s>>2]=u;c[a>>2]=f;c[r>>2]=t;c[m+36+12>>2]=0.0;r=o[e+4>>2]|0;if((r|0)!=(o[e+16>>2]|0)){r=m;s=m+36|0;a=r+36|0;do{o[r>>2]=o[s>>2];r=r+4|0;s=s+4|0}while((r|0)<(a|0));C=-+c[m+4>>2];y=-+c[m+8>>2];c[m>>2]=-+c[m>>2];c[m+4>>2]=C;c[m+8>>2]=y;c[m+12>>2]=0.0;y=-+c[m+20>>2];C=-+c[m+24>>2];c[m+16>>2]=-+c[m+16>>2];c[m+20>>2]=y;c[m+24>>2]=C;c[m+28>>2]=0.0;$i(e+4|0,m,e+164|0);$i(e+16|0,m+36|0,e+180|0);ae=m;return}if(!(u==u&f==f&(t==t&0.0==0.0))){ae=m;return}C=+v(+(u*u+f*f+t*t));if(C<+c[r+368>>2]){ae=m;return}s=o[m+36+32>>2]|0;C=+c[r+372>>2];c[m+12>>2]=0.0;c[m+28>>2]=0.0;o[m+32>>2]=s;c[m>>2]=-(u*C);c[m+4>>2]=-(f*C);c[m+8>>2]=-(t*C);c[m+16>>2]=C*-0.0;c[m+20>>2]=C*-0.0;c[m+24>>2]=C*-0.0;$i(e+4|0,m,e+164|0);t=+c[(o[e+4>>2]|0)+372>>2];r=m;s=m+36|0;a=r+36|0;do{o[r>>2]=o[s>>2];r=r+4|0;s=s+4|0}while((r|0)<(a|0));c[m>>2]=t*+c[m>>2];c[m+4>>2]=t*+c[m+4>>2];c[m+8>>2]=t*+c[m+8>>2];c[m+16>>2]=t*+c[m+16>>2];c[m+20>>2]=t*+c[m+20>>2];c[m+24>>2]=t*+c[m+24>>2];$i(e+16|0,m,e+180|0);ae=m;return}function Cr(e,t,i,s,a){e=e|0;t=t|0;i=+i;s=+s;a=+a;var l=0,_=0.0,u=0.0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0;f=ae;ae=ae+240|0;_=+c[e+96>>2]+s;u=+c[e+100>>2]+a;c[e+112>>2]=+c[e+92>>2]+i;c[e+116>>2]=_;c[e+120>>2]=u;c[e+124>>2]=0.0;o[f+168>>2]=1065353216;o[f+168+4>>2]=0;o[f+168+4+4>>2]=0;o[f+168+4+8>>2]=0;o[f+168+4+12>>2]=0;o[f+168+20>>2]=1065353216;o[f+168+24>>2]=0;o[f+168+24+4>>2]=0;o[f+168+24+8>>2]=0;o[f+168+24+12>>2]=0;o[f+168+40>>2]=1065353216;l=f+168+44|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;o[f+104>>2]=1065353216;o[f+104+4>>2]=0;o[f+104+4+4>>2]=0;o[f+104+4+8>>2]=0;o[f+104+4+12>>2]=0;o[f+104+20>>2]=1065353216;o[f+104+24>>2]=0;o[f+104+24+4>>2]=0;o[f+104+24+8>>2]=0;o[f+104+24+12>>2]=0;o[f+104+40>>2]=1065353216;l=f+104+44|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;u=1.0;l=10;while(1){if(!l){l=15;break}l=l+-1|0;o[f+168+48>>2]=o[e+92>>2];o[f+168+48+4>>2]=o[e+92+4>>2];o[f+168+48+8>>2]=o[e+92+8>>2];o[f+168+48+12>>2]=o[e+92+12>>2];o[f+104+48>>2]=o[e+112>>2];o[f+104+48+4>>2]=o[e+112+4>>2];o[f+104+48+8>>2]=o[e+112+8>>2];o[f+104+48+12>>2]=o[e+112+12>>2];a=+c[e+92>>2]-+c[e+112>>2];_=+c[e+96>>2]-+c[e+116>>2];i=+c[e+100>>2]-+c[e+120>>2];d=o[e+8>>2]|0;c[f+4>>2]=1.0;o[f+76>>2]=0;o[f+12>>2]=0;o[f+12+4>>2]=0;o[f+12+8>>2]=0;o[f+12+12>>2]=0;o[f+12+16>>2]=0;o[f+12+20>>2]=0;o[f+12+24>>2]=0;o[f+12+28>>2]=0;o[f>>2]=6052;o[f+80>>2]=d;c[f+84>>2]=a;c[f+88>>2]=_;c[f+92>>2]=i;c[f+96>>2]=0.0;c[f+100>>2]=0.0;d=o[d+188>>2]|0;r[f+8>>1]=r[d+4>>1]|0;r[f+10>>1]=r[d+6>>1]|0;d=o[e+12>>2]|0;i=+nF[o[(o[d>>2]|0)+48>>2]&15](d);d=o[e+12>>2]|0;TF[o[(o[d>>2]|0)+44>>2]&31](d,i+ +c[e+56>>2]);if(!(n[e+170>>0]|0))tr(t,o[e+12>>2]|0,f+168|0,f+104|0,f,+c[t+56>>2]);else Ls(o[e+8>>2]|0,o[e+12>>2]|0,f+168|0,f+104|0,f,+c[t+56>>2]);d=o[e+12>>2]|0;TF[o[(o[d>>2]|0)+44>>2]&31](d,i);_=+c[f+4>>2];u=u-_;if(_<1.0){s=+c[e+112>>2]-+c[e+92>>2];_=+c[e+116>>2]-+c[e+96>>2];a=+c[e+120>>2]-+c[e+100>>2];i=+v(+(s*s+_*_+a*a));if(i>1.1920928955078125e-07){h=+c[f+44>>2];g=+c[f+48>>2];b=+c[f+52>>2];A=(s*(1.0/i)*h+_*(1.0/i)*g+a*(1.0/i)*b)*2.0;m=1.0/+v(+((a*(1.0/i)-b*A)*(a*(1.0/i)-b*A)+((s*(1.0/i)-h*A)*(s*(1.0/i)-h*A)+(_*(1.0/i)-g*A)*(_*(1.0/i)-g*A))));p=b*((a*(1.0/i)-b*A)*m)+(h*((s*(1.0/i)-h*A)*m)+g*((_*(1.0/i)-g*A)*m));o[e+112>>2]=o[e+92>>2];o[e+112+4>>2]=o[e+92+4>>2];o[e+112+8>>2]=o[e+92+8>>2];o[e+112+12>>2]=o[e+92+12>>2];h=i*((s*(1.0/i)-h*A)*m-h*p)+ +c[e+112>>2];c[e+112>>2]=h;s=i*((_*(1.0/i)-g*A)*m-g*p)+ +c[e+116>>2];c[e+116>>2]=s;a=i*((a*(1.0/i)-b*A)*m-b*p)+ +c[e+120>>2];c[e+120>>2]=a;i=h}else{i=+c[e+112>>2];s=+c[e+116>>2];a=+c[e+120>>2]}_=i-+c[e+92>>2];s=s-+c[e+96>>2];i=a-+c[e+100>>2];if(!(_*_+s*s+i*i>1.1920928955078125e-07)){l=13;break}g=1.0/+v(+(_*_+s*s+i*i));if(_*g*+c[e+76>>2]+s*g*+c[e+80>>2]+i*g*+c[e+84>>2]<=0.0){l=13;break}}else{o[e+92>>2]=o[e+112>>2];o[e+92+4>>2]=o[e+112+4>>2];o[e+92+8>>2]=o[e+112+8>>2];o[e+92+12>>2]=o[e+112+12>>2]}if(!(u>.009999999776482582)){l=15;break}}if((l|0)==13){ae=f;return}else if((l|0)==15){ae=f;return}}function Er(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0,m=0,A=0.0,g=0.0;m=ae;ae=ae+48|0;o[m+16>>2]=o[i>>2];o[m+16+4>>2]=o[i+4>>2];o[m+16+8>>2]=o[i+8>>2];o[m+16+12>>2]=o[i+12>>2];o[m+16+16>>2]=o[r>>2];o[m+16+16+4>>2]=o[r+4>>2];o[m+16+16+8>>2]=o[r+8>>2];o[m+16+16+12>>2]=o[r+12>>2];do{if((o[t+60>>2]|0)==2){s=o[t+48>>2]|0;fi(e+64|0,s)|0;a=o[e+68>>2]|0;if(a|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+68>>2]=s;o[e+76>>2]=(o[e+76>>2]|0)+-1;s=o[e+8>>2]|0;if(!s){o[6747]=(o[6747]|0)+1;s=Do(63)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=s;l=a+44|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(l|0))}else o[e+8>>2]=0;o[s+32>>2]=0;o[s+36>>2]=t;o[s+40>>2]=0;o[s>>2]=o[m+16>>2];o[s+4>>2]=o[m+16+4>>2];o[s+8>>2]=o[m+16+8>>2];o[s+12>>2]=o[m+16+12>>2];o[s+16>>2]=o[m+16+16>>2];o[s+20>>2]=o[m+16+20>>2];o[s+24>>2]=o[m+16+24>>2];o[s+28>>2]=o[m+16+28>>2];de(e+4|0,o[e+4>>2]|0,s);o[e+16>>2]=(o[e+16>>2]|0)+1;o[t+48>>2]=s;l=1}else{o[e+168>>2]=(o[e+168>>2]|0)+1;b=o[t+48>>2]|0;if(((((+c[b>>2]<=+c[m+16+16>>2]?+c[b+16>>2]>=+c[m+16>>2]:0)?+c[b+4>>2]<=+c[m+16+20>>2]:0)?+c[b+20>>2]>=+c[m+16+4>>2]:0)?+c[b+8>>2]<=+c[m+16+24>>2]:0)?+c[b+24>>2]>=+c[m+16+8>>2]:0){u=+c[t+16>>2];A=+c[i>>2]-u;f=+c[t+20>>2];p=+c[i+4>>2]-f;d=+c[t+24>>2];h=+c[i+8>>2]-d;g=+c[e+140>>2];u=(+c[t+32>>2]-u)*.5*g;f=g*((+c[t+36>>2]-f)*.5);d=g*((+c[t+40>>2]-d)*.5);c[m>>2]=u;c[m+4>>2]=f;c[m+8>>2]=d;c[m+12>>2]=0.0;if(A<0.0)c[m>>2]=-u;if(p<0.0)c[m+4>>2]=-f;if(h<0.0)c[m+8>>2]=-d;if(yi(e+4|0,b,m+16|0,m,.05000000074505806)|0){o[e+172>>2]=(o[e+172>>2]|0)+1;s=1}else s=0;l=s;break}s=fi(e+4|0,b)|0;e:do{if(s){l=o[e+12>>2]|0;if((l|0)<=-1){s=o[e+4>>2]|0;break}if(l){_=0;a=s;while(1){s=o[a+32>>2]|0;_=_+1|0;if(!s){s=a;break e}if((_|0)>=(l|0))break;else a=s}}}else s=0}while(0);o[b>>2]=o[m+16>>2];o[b+4>>2]=o[m+16+4>>2];o[b+8>>2]=o[m+16+8>>2];o[b+12>>2]=o[m+16+12>>2];o[b+16>>2]=o[m+16+16>>2];o[b+20>>2]=o[m+16+20>>2];o[b+24>>2]=o[m+16+24>>2];o[b+28>>2]=o[m+16+28>>2];de(e+4|0,s,b);o[e+172>>2]=(o[e+172>>2]|0)+1;l=1}}while(0);s=o[t+52>>2]|0;if(!s)s=e+124+(o[t+60>>2]<<2)|0;else s=s+56|0;o[s>>2]=o[t+56>>2];s=o[t+56>>2]|0;if(s|0)o[s+52>>2]=o[t+52>>2];o[t+16>>2]=o[i>>2];o[t+16+4>>2]=o[i+4>>2];o[t+16+8>>2]=o[i+8>>2];o[t+16+12>>2]=o[i+12>>2];o[t+32>>2]=o[r>>2];o[t+32+4>>2]=o[r+4>>2];o[t+32+8>>2]=o[r+8>>2];o[t+32+12>>2]=o[r+12>>2];s=o[e+144>>2]|0;o[t+60>>2]=s;o[t+52>>2]=0;o[t+56>>2]=o[e+124+(s<<2)>>2];a=o[e+124+(s<<2)>>2]|0;if(a|0)o[a+52>>2]=t;o[e+124+(s<<2)>>2]=t;if(!l){ae=m;return}n[e+194>>0]=1;if(n[e+193>>0]|0){ae=m;return}o[m>>2]=10216;o[m+4>>2]=e;Fr(e+64|0,o[e+64>>2]|0,o[t+48>>2]|0,m);Fr(e+4|0,o[e+4>>2]|0,o[t+48>>2]|0,m);ae=m;return}function Sr(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,l=0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0;E=+c[e>>2];S=+c[t>>2];T=+c[e+4>>2];R=+c[t+4>>2];M=+c[e+8>>2];O=+c[t+8>>2];I=+c[i>>2];x=+c[i+4>>2];P=+c[i+8>>2];D=(T-R)*(O-P)-(M-O)*(R-x);w=(M-O)*(S-I)-(E-S)*(O-P);L=(E-S)*(R-x)-(T-R)*(S-I);if(!(L*L+(D*D+w*w)>0.0)){L=-1.0;return+L}if(E*(L*(T-R)-w*(M-O))+T*(D*(M-O)-L*(E-S))+(w*(E-S)-D*(T-R))*M>0.0){do{if((S-E)*(S-E)+(R-T)*(R-T)+(O-M)*(O-M)>0.0){a=-(E*(S-E)+T*(R-T)+M*(O-M))/((S-E)*(S-E)+(R-T)*(R-T)+(O-M)*(O-M));if(a>=1.0){s=S*S+R*R+O*O;f=2;u=0;l=1065353216;break}if(!(a<=0.0)){l=(c[_>>2]=a,o[_>>2]|0);s=(M+(O-M)*a)*(M+(O-M)*a)+((E+(S-E)*a)*(E+(S-E)*a)+(T+(R-T)*a)*(T+(R-T)*a));f=3;u=(c[_>>2]=1.0-a,o[_>>2]|0);break}else{s=E*E+T*T+M*M;f=1;u=1065353216;l=0;break}}else{s=-1.0;f=0;u=0;l=0}}while(0);o[r>>2]=f;o[n>>2]=u;o[n+4>>2]=l;c[n+8>>2]=0.0;g=+c[t>>2];y=+c[t+4>>2];C=+c[t+8>>2]}else{g=S;y=R;C=O;s=-1.0;f=0;u=0;l=0}if(g*(L*(R-x)-w*(O-P))+y*(D*(O-P)-L*(S-I))+(w*(S-I)-D*(R-x))*C>0.0){a=+c[i>>2];b=a-g;h=+c[i+4>>2];A=h-y;p=+c[i+8>>2];m=p-C;do{if(b*b+A*A+m*m>0.0){d=-(g*b+y*A+C*m)/(b*b+A*A+m*m);if(d>=1.0){a=a*a+h*h+p*p;f=2;u=0;l=1065353216;break}if(!(d<=0.0)){l=(c[_>>2]=d,o[_>>2]|0);g=g+b*d;a=y+A*d;C=C+m*d;a=C*C+(g*g+a*a);f=3;u=(c[_>>2]=1.0-d,o[_>>2]|0);break}else{a=g*g+y*y+C*C;f=1;u=1065353216;l=0;break}}else a=-1.0}while(0);if(s<0.0|a<s){o[r>>2]=f<<1&6;o[n+4>>2]=u;o[n+8>>2]=l;c[n>>2]=0.0;s=a}}a=+c[i>>2];h=+c[i+4>>2];p=+c[i+8>>2];if(a*(L*(x-T)-w*(P-M))+h*(D*(P-M)-L*(I-E))+(w*(I-E)-D*(x-T))*p>0.0){b=+c[e>>2];m=+c[e+4>>2];A=+c[e+8>>2];do{if((b-a)*(b-a)+(m-h)*(m-h)+(A-p)*(A-p)>0.0){d=-(a*(b-a)+h*(m-h)+p*(A-p))/((b-a)*(b-a)+(m-h)*(m-h)+(A-p)*(A-p));if(d>=1.0){a=b*b+m*m+A*A;f=2;u=0;l=1065353216;break}if(!(d<=0.0)){l=(c[_>>2]=d,o[_>>2]|0);a=(p+(A-p)*d)*(p+(A-p)*d)+((a+(b-a)*d)*(a+(b-a)*d)+(h+(m-h)*d)*(h+(m-h)*d));f=3;u=(c[_>>2]=1.0-d,o[_>>2]|0);break}else{a=a*a+h*h+p*p;f=1;u=1065353216;l=0;break}}else a=-1.0}while(0);if(s<0.0|a<s){o[r>>2]=f<<2&4|(1?f>>>1:f)&1;o[n+8>>2]=u;o[n>>2]=l;c[n+4>>2]=0.0;s=a}}if(!(s<0.0)){L=s;return+L}y=+v(+(L*L+(D*D+w*w)));C=(D*+c[e>>2]+w*+c[e+4>>2]+L*+c[e+8>>2])/(L*L+(D*D+w*w));o[r>>2]=7;A=+c[t>>2]-D*C;m=+c[t+4>>2]-w*C;g=+c[t+8>>2]-L*C;O=+v(+(((S-I)*m-(R-x)*A)*((S-I)*m-(R-x)*A)+(((R-x)*g-(O-P)*m)*((R-x)*g-(O-P)*m)+((O-P)*A-(S-I)*g)*((O-P)*A-(S-I)*g))))/y;c[n>>2]=O;S=+c[i>>2]-D*C;g=+c[i+4>>2]-w*C;R=+c[i+8>>2]-L*C;P=+v(+(((I-E)*g-(x-T)*S)*((I-E)*g-(x-T)*S)+(((x-T)*R-(P-M)*g)*((x-T)*R-(P-M)*g)+((P-M)*S-(I-E)*R)*((P-M)*S-(I-E)*R))))/y;c[n+4>>2]=P;c[n+8>>2]=1.0-(O+P);L=L*C*(L*C)+(D*C*(D*C)+w*C*(w*C));return+L}function Tr(e){e=e|0;var t=0.0,i=0,r=0,s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0,b=0;p=ae;ae=ae+80|0;if((dF[o[(o[e>>2]|0)+20>>2]&127](e)|0?(l=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,(dF[o[(o[l>>2]|0)+48>>2]&127](l)|0)&8|0):0)?(r=o[e+24>>2]|0,r=dF[o[(o[r>>2]|0)+36>>2]&127](r)|0,o[p+64>>2]=1065353216,o[p+64+4>>2]=1065353216,o[p+64+8>>2]=0,c[p+64+12>>2]=0.0,(r|0)>0):0){a=0;do{s=o[e+24>>2]|0;s=pF[o[(o[s>>2]|0)+40>>2]&31](s,a)|0;i=o[s+748>>2]|0;if((i|0)>0){l=0;do{b=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;NF[o[(o[b>>2]|0)+32>>2]&1](b,s+4+(l*184|0)+32|0,s+4+(l*184|0)+64|0,+c[s+4+(l*184|0)+80>>2],o[s+4+(l*184|0)+148>>2]|0,p+64|0);l=l+1|0}while((l|0)!=(i|0))}a=a+1|0}while((a|0)!=(r|0))}if(!(dF[o[(o[e>>2]|0)+20>>2]&127](e)|0)){ae=p;return}b=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;if(!((dF[o[(o[b>>2]|0)+48>>2]&127](b)|0)&3)){ae=p;return}if((o[e+8>>2]|0)<=0){ae=p;return}l=0;do{a=o[(o[e+16>>2]|0)+(l<<2)>>2]|0;if(!(o[a+204>>2]&32)){if(dF[o[(o[e>>2]|0)+20>>2]&127](e)|0?(b=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,(dF[o[(o[b>>2]|0)+48>>2]&127](b)|0)&1|0):0){o[p+64>>2]=1065353216;o[p+64+4>>2]=1065353216;o[p+64+8>>2]=1065353216;c[p+64+12>>2]=0.0;switch(o[a+216>>2]|0){case 1:{i=1065353216;r=1065353216;s=1065353216;break}case 2:{i=0;r=1065353216;s=0;break}case 3:{i=1065353216;r=1065353216;s=0;break}case 4:{i=0;r=0;s=1065353216;break}case 5:{i=0;r=1065353216;s=1065353216;break}default:{i=0;r=0;s=1065353216}}o[p+64>>2]=s;o[p+64+4>>2]=r;o[p+64+8>>2]=i;c[p+64+12>>2]=0.0;BF[o[(o[e>>2]|0)+28>>2]&127](e,a+4|0,o[a+192>>2]|0,p+64|0)}i=o[e+72>>2]|0;if(i|0?(dF[o[(o[i>>2]|0)+48>>2]&127](i)|0)&2|0:0){o[p+32>>2]=1065353216;o[p+32+4>>2]=0;o[p+32+8>>2]=0;c[p+32+12>>2]=0.0;b=o[a+192>>2]|0;BF[o[(o[b>>2]|0)+8>>2]&127](b,a+4|0,p+64|0,p+48|0);c[p+64>>2]=+c[p+64>>2]+-.019999999552965164;c[p+64+4>>2]=+c[p+64+4>>2]+-.019999999552965164;c[p+64+8>>2]=+c[p+64+8>>2]+-.019999999552965164;c[p+48>>2]=+c[p+48>>2]+.019999999552965164;c[p+48+4>>2]=+c[p+48+4>>2]+.019999999552965164;c[p+48+8>>2]=+c[p+48+8>>2]+.019999999552965164;do{if((n[e+44>>0]|0?(o[a+236>>2]|0)==2:0)?(o[a+204>>2]&3|0)==0:0){b=o[a+192>>2]|0;BF[o[(o[b>>2]|0)+8>>2]&127](b,a+68|0,p+16|0,p);t=+c[p+16>>2]+-.019999999552965164;c[p+16>>2]=t;u=+c[p+16+4>>2]+-.019999999552965164;c[p+16+4>>2]=u;_=+c[p+16+8>>2]+-.019999999552965164;c[p+16+8>>2]=_;f=+c[p>>2]+.019999999552965164;c[p>>2]=f;h=+c[p+4>>2]+.019999999552965164;c[p+4>>2]=h;d=+c[p+8>>2]+.019999999552965164;c[p+8>>2]=d;if(t<+c[p+64>>2])c[p+64>>2]=t;if(u<+c[p+64+4>>2])c[p+64+4>>2]=u;if(_<+c[p+64+8>>2])c[p+64+8>>2]=_;t=+c[p+16+12>>2];if(t<+c[p+64+12>>2])c[p+64+12>>2]=t;if(+c[p+48>>2]<f)c[p+48>>2]=f;if(+c[p+48+4>>2]<h)c[p+48+4>>2]=h;if(+c[p+48+8>>2]<d)c[p+48+8>>2]=d;t=+c[p+12>>2];if(!(+c[p+48+12>>2]<t))break;c[p+48+12>>2]=t}}while(0);b=o[e+72>>2]|0;BF[o[(o[b>>2]|0)+52>>2]&127](b,p+64|0,p+48|0,p+32|0)}}l=l+1|0}while((l|0)<(o[e+8>>2]|0));ae=p;return}function Rr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0;u=o[t>>2]|0;f=o[t+4>>2]|0;c=o[t+8>>2]|0;d=o[e+4>>2]|0;p=Zi(e,i,f,c)|0;o[p+12>>2]=o[t+12>>2];o[p+16>>2]=d+1;o[p+20>>2]=d+2;a=o[(o[e+12>>2]|0)+(o[t+12>>2]<<2)>>2]|0;n=o[a>>2]|0;r=o[a+4>>2]|0;do{if((n|0)==(f|0)&(r|0)==(c|0)){n=2;h=2}else{if(!((n|0)==(c|0)&(r|0)==(f|0))){s=o[a+8>>2]|0;if((r|0)==(f|0)&(s|0)==(c|0)){n=0;h=2;break}if(!((r|0)==(c|0)&(s|0)==(f|0))){if(!((s|0)!=(f|0)|(n|0)==(c|0)^1)){n=1;h=2;break}if((s|0)!=(c|0)|(n|0)==(f|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=a+12+(n<<2)|0}}while(0);if((h|0)==2)n=a+12+(n<<2)|0;o[n>>2]=d;_=Zi(e,i,c,u)|0;o[_+12>>2]=o[t+12+4>>2];o[_+16>>2]=d+2;o[_+20>>2]=d;a=o[(o[e+12>>2]|0)+(o[t+12+4>>2]<<2)>>2]|0;n=o[a>>2]|0;r=o[a+4>>2]|0;do{if((n|0)==(c|0)&(r|0)==(u|0)){n=2;h=10}else{if(!((n|0)==(u|0)&(r|0)==(c|0))){s=o[a+8>>2]|0;if((r|0)==(c|0)&(s|0)==(u|0)){n=0;h=10;break}if(!((r|0)==(u|0)&(s|0)==(c|0))){if(!((s|0)!=(c|0)|(n|0)==(u|0)^1)){n=1;h=10;break}if((s|0)!=(u|0)|(n|0)==(c|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=a+12+(n<<2)|0}}while(0);if((h|0)==10)n=a+12+(n<<2)|0;o[n>>2]=d+1;l=Zi(e,i,u,f)|0;o[l+12>>2]=o[t+12+8>>2];o[l+16>>2]=d;o[l+20>>2]=d+1;r=o[e+12>>2]|0;c=o[r+(o[t+12+8>>2]<<2)>>2]|0;n=o[c>>2]|0;s=o[c+4>>2]|0;do{if((n|0)==(u|0)&(s|0)==(f|0)){n=2;h=18}else{if(!((n|0)==(f|0)&(s|0)==(u|0))){a=o[c+8>>2]|0;if((s|0)==(u|0)&(a|0)==(f|0)){n=0;h=18;break}if(!((s|0)==(f|0)&(a|0)==(u|0))){if(!((a|0)!=(u|0)|(n|0)==(f|0)^1)){n=1;h=18;break}if((a|0)!=(f|0)|(n|0)==(u|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=c+12+(n<<2)|0}}while(0);if((h|0)==18)n=c+12+(n<<2)|0;o[n>>2]=d+2;n=o[r+(o[p+12>>2]<<2)>>2]|0;if(!(((o[n>>2]|0)!=(i|0)?(o[n+4>>2]|0)!=(i|0):0)?(o[n+8>>2]|0)!=(i|0):0)){Dr(r,p,n);o[(o[e+12>>2]|0)+(o[p+24>>2]<<2)>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[p+-4>>2]|0);o[(o[e+12>>2]|0)+(o[n+24>>2]<<2)>>2]=0;if(n|0){o[6748]=(o[6748]|0)+1;Vs(o[n+-4>>2]|0)}r=o[e+12>>2]|0}n=o[r+(o[_+12>>2]<<2)>>2]|0;if(!(((o[n>>2]|0)!=(i|0)?(o[n+4>>2]|0)!=(i|0):0)?(o[n+8>>2]|0)!=(i|0):0)){Dr(r,_,n);o[(o[e+12>>2]|0)+(o[_+24>>2]<<2)>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);o[(o[e+12>>2]|0)+(o[n+24>>2]<<2)>>2]=0;if(n|0){o[6748]=(o[6748]|0)+1;Vs(o[n+-4>>2]|0)}r=o[e+12>>2]|0}n=o[r+(o[l+12>>2]<<2)>>2]|0;if(((o[n>>2]|0)!=(i|0)?(o[n+4>>2]|0)!=(i|0):0)?(o[n+8>>2]|0)!=(i|0):0){e=r;i=t+24|0;i=o[i>>2]|0;i=e+(i<<2)|0;o[i>>2]=0;i=o[6748]|0;i=i+1|0;o[6748]=i;i=t+-4|0;i=o[i>>2]|0;Vs(i);return}Dr(r,l,n);o[(o[e+12>>2]|0)+(o[l+24>>2]<<2)>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);o[(o[e+12>>2]|0)+(o[n+24>>2]<<2)>>2]=0;if(n|0){o[6748]=(o[6748]|0)+1;Vs(o[n+-4>>2]|0)}e=o[e+12>>2]|0;i=t+24|0;i=o[i>>2]|0;i=e+(i<<2)|0;o[i>>2]=0;i=o[6748]|0;i=i+1|0;o[6748]=i;i=t+-4|0;i=o[i>>2]|0;Vs(i);return}function Mr(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0.0,b=0.0;h=ae;ae=ae+144|0;if((o[e+16>>2]|0)<=0){d=e+76|0;o[d>>2]=o[t>>2];o[d+4>>2]=o[t+4>>2];o[d+8>>2]=o[t+8>>2];o[d+12>>2]=o[t+12>>2];t=o[e>>2]|0;t=t+68|0;t=o[t>>2]|0;SF[t&511](e);ae=h;return}u=h+16+16|0;_=h+16+32|0;d=h+16+48|0;f=0;do{l=o[e+24>>2]|0;a=l+(f*80|0)|0;o[h+16>>2]=o[a>>2];o[h+16+4>>2]=o[a+4>>2];o[h+16+8>>2]=o[a+8>>2];o[h+16+12>>2]=o[a+12>>2];a=l+(f*80|0)+16|0;o[u>>2]=o[a>>2];o[u+4>>2]=o[a+4>>2];o[u+8>>2]=o[a+8>>2];o[u+12>>2]=o[a+12>>2];a=l+(f*80|0)+32|0;o[_>>2]=o[a>>2];o[_+4>>2]=o[a+4>>2];o[_+8>>2]=o[a+8>>2];o[_+12>>2]=o[a+12>>2];a=l+(f*80|0)+48|0;o[d>>2]=o[a>>2];o[d+4>>2]=o[a+4>>2];o[d+8>>2]=o[a+8>>2];o[d+12>>2]=o[a+12>>2];l=o[l+(f*80|0)+64>>2]|0;l=dF[o[(o[l>>2]|0)+28>>2]&127](l)|0;o[h>>2]=o[l>>2];o[h+4>>2]=o[l+4>>2];o[h+8>>2]=o[l+8>>2];p=+c[h+4>>2]*+c[t+4>>2]/+c[e+80>>2];b=+c[h+8>>2]*+c[t+8>>2]/+c[e+84>>2];c[h>>2]=+c[h>>2]*+c[t>>2]/+c[e+76>>2];c[h+4>>2]=p;c[h+8>>2]=b;c[h+12>>2]=0.0;l=o[(o[e+24>>2]|0)+(f*80|0)+64>>2]|0;xF[o[(o[l>>2]|0)+24>>2]&127](l,h);b=+c[h+16+52>>2]*+c[t+4>>2]/+c[e+80>>2];p=+c[h+16+56>>2]*+c[t+8>>2]/+c[e+84>>2];c[h+16+48>>2]=+c[d>>2]*+c[t>>2]/+c[e+76>>2];c[h+16+52>>2]=b;c[h+16+56>>2]=p;c[h+16+60>>2]=0.0;l=o[e+24>>2]|0;a=l+(f*80|0)|0;o[a>>2]=o[h+16>>2];o[a+4>>2]=o[h+16+4>>2];o[a+8>>2]=o[h+16+8>>2];o[a+12>>2]=o[h+16+12>>2];a=l+(f*80|0)+16|0;o[a>>2]=o[u>>2];o[a+4>>2]=o[u+4>>2];o[a+8>>2]=o[u+8>>2];o[a+12>>2]=o[u+12>>2];a=l+(f*80|0)+32|0;o[a>>2]=o[_>>2];o[a+4>>2]=o[_+4>>2];o[a+8>>2]=o[_+8>>2];o[a+12>>2]=o[_+12>>2];l=l+(f*80|0)+48|0;o[l>>2]=o[d>>2];o[l+4>>2]=o[d+4>>2];o[l+8>>2]=o[d+8>>2];o[l+12>>2]=o[d+12>>2];if(o[e+64>>2]|0){a=o[(o[e+24>>2]|0)+(f*80|0)+64>>2]|0;BF[o[(o[a>>2]|0)+8>>2]&127](a,h+16|0,h+128|0,h+112|0);o[h+80>>2]=o[h+128>>2];o[h+80+4>>2]=o[h+128+4>>2];o[h+80+8>>2]=o[h+128+8>>2];o[h+80+12>>2]=o[h+128+12>>2];o[h+80+16>>2]=o[h+112>>2];o[h+80+16+4>>2]=o[h+112+4>>2];o[h+80+16+8>>2]=o[h+112+8>>2];o[h+80+16+12>>2]=o[h+112+12>>2];a=o[e+64>>2]|0;l=o[(o[e+24>>2]|0)+(f*80|0)+76>>2]|0;i=fi(a,l)|0;e:do{if(i){r=o[a+8>>2]|0;if((r|0)<=-1){i=o[a>>2]|0;break}if(r){s=0;n=i;while(1){i=o[n+32>>2]|0;s=s+1|0;if(!i){i=n;break e}if((s|0)>=(r|0))break;else n=i}}}else i=0}while(0);o[l>>2]=o[h+80>>2];o[l+4>>2]=o[h+80+4>>2];o[l+8>>2]=o[h+80+8>>2];o[l+12>>2]=o[h+80+12>>2];o[l+16>>2]=o[h+80+16>>2];o[l+20>>2]=o[h+80+20>>2];o[l+24>>2]=o[h+80+24>>2];o[l+28>>2]=o[h+80+28>>2];de(a,i,l)}f=f+1|0}while((f|0)<(o[e+16>>2]|0));d=e+76|0;o[d>>2]=o[t>>2];o[d+4>>2]=o[t+4>>2];o[d+8>>2]=o[t+8>>2];o[d+12>>2]=o[t+12>>2];t=o[e>>2]|0;t=t+68|0;t=o[t>>2]|0;SF[t&511](e);ae=h;return}function Or(e,t,i,s,l,_){e=e|0;t=t|0;i=i|0;s=s|0;l=l|0;_=_|0;var u=0.0,f=0.0,d=0.0;o[e>>2]=9896;r[e+4>>1]=-2;r[e+6>>1]=-1;o[e+92>>2]=l;o[e+96>>2]=0;n[e+100>>0]=0;o[e+104>>2]=0;o[e+108>>2]=0;if(!l){o[6747]=(o[6747]|0)+1;l=Do(95)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}Wn(l);o[e+92>>2]=l;n[e+100>>0]=1}if(!_){o[6747]=(o[6747]|0)+1;l=Do(43)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}_=l+4|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;o[l>>2]=9960;n[l+20>>0]=1;o[l+16>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[e+112>>2]=l;o[6747]=(o[6747]|0)+1;l=Do(215)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}tn(l,o[e+112>>2]|0);o[e+108>>2]=l;n[l+193>>0]=1}o[e+8>>2]=o[t>>2];o[e+8+4>>2]=o[t+4>>2];o[e+8+8>>2]=o[t+8>>2];o[e+8+12>>2]=o[t+12>>2];o[e+24>>2]=o[i>>2];o[e+24+4>>2]=o[i+4>>2];o[e+24+8>>2]=o[i+8>>2];o[e+24+12>>2]=o[i+12>>2];d=+(a[e+6>>1]|0);f=d/(+c[e+28>>2]-+c[e+12>>2]);u=d/(+c[e+32>>2]-+c[e+16>>2]);c[e+40>>2]=d/(+c[e+24>>2]-+c[e+8>>2]);c[e+44>>2]=f;c[e+48>>2]=u;c[e+52>>2]=0.0;t=s+1&65535;o[6747]=(o[6747]|0)+1;l=Do(t<<6|19)|0;if(!l)i=0;else{o[(l+4+15&-16)+-4>>2]=l;i=l+4+15&-16}if(s+1<<16>>16<<16>>16){_=i+(t<<6)|0;l=i;do{o[l>>2]=0;o[l+8>>2]=0;l=l+64|0}while((l|0)!=(_|0))}o[e+60>>2]=i;r[e+58>>1]=(s&65535)+1;r[e+56>>1]=0;r[e+64>>1]=1;if((s+1&65535)>1?(r[i+112>>1]=2,s+1<<16>>16<<16>>16!=2):0){l=2;do{s=l;l=l+1|0;r[i+(s<<6)+48>>1]=l}while((l|0)!=(t|0))}r[i+(t+-1<<6)+48>>1]=0;o[6747]=(o[6747]|0)+1;l=Do((t<<3|3)+16|0)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}o[e+80>>2]=l;o[e+68>>2]=l;o[6747]=(o[6747]|0)+1;l=Do((t<<3|3)+16|0)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}o[e+84>>2]=l;o[e+72>>2]=l;o[6747]=(o[6747]|0)+1;l=Do((t<<3|3)+16|0)|0;if(!l){i=0;s=e+88|0;o[s>>2]=i;s=e+76|0;o[s>>2]=i;i=o[e+60>>2]|0;o[i>>2]=0;t=i+48|0;r[t>>1]=0;t=i+54|0;r[t>>1]=1;t=o[e+68>>2]|0;r[t>>1]=0;_=t+2|0;r[_>>1]=0;_=r[e+6>>1]|0;l=t+4|0;r[l>>1]=_;t=t+6|0;r[t>>1]=0;t=i+50|0;r[t>>1]=0;t=i+56|0;r[t>>1]=1;t=o[e+72>>2]|0;r[t>>1]=0;l=t+2|0;r[l>>1]=0;l=r[e+6>>1]|0;_=t+4|0;r[_>>1]=l;t=t+6|0;r[t>>1]=0;t=i+52|0;r[t>>1]=0;i=i+58|0;r[i>>1]=1;s=o[s>>2]|0;r[s>>1]=0;i=s+2|0;r[i>>1]=0;i=r[e+6>>1]|0;t=s+4|0;r[t>>1]=i;s=s+6|0;r[s>>1]=0;o[e>>2]=9832;return}o[(l+4+15&-16)+-4>>2]=l;i=l+4+15&-16;s=e+88|0;o[s>>2]=i;s=e+76|0;o[s>>2]=i;i=o[e+60>>2]|0;o[i>>2]=0;t=i+48|0;r[t>>1]=0;t=i+54|0;r[t>>1]=1;t=o[e+68>>2]|0;r[t>>1]=0;_=t+2|0;r[_>>1]=0;_=r[e+6>>1]|0;l=t+4|0;r[l>>1]=_;t=t+6|0;r[t>>1]=0;t=i+50|0;r[t>>1]=0;t=i+56|0;r[t>>1]=1;t=o[e+72>>2]|0;r[t>>1]=0;l=t+2|0;r[l>>1]=0;l=r[e+6>>1]|0;_=t+4|0;r[_>>1]=l;t=t+6|0;r[t>>1]=0;t=i+52|0;r[t>>1]=0;i=i+58|0;r[i>>1]=1;s=o[s>>2]|0;r[s>>1]=0;i=s+2|0;r[i>>1]=0;i=r[e+6>>1]|0;t=s+4|0;r[t>>1]=i;s=s+6|0;r[s>>1]=0;o[e>>2]=9832;return}function Ir(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0;kl();o[e+4>>2]=6;o[e+8>>2]=-1;o[e+12>>2]=-1;c[e+16>>2]=3402823466385288598117041.0e14;n[e+20>>0]=1;n[e+21>>0]=0;o[e+24>>2]=-1;o[e+28>>2]=25640;o[e+32>>2]=t;c[e+36>>2]=0.0;c[e+40>>2]=.30000001192092896;o[e+44>>2]=0;o[e>>2]=5492;o[e+112>>2]=o[i>>2];o[e+112+4>>2]=o[i+4>>2];o[e+112+8>>2]=o[i+8>>2];o[e+112+12>>2]=o[i+12>>2];o[e+128>>2]=o[i+16>>2];o[e+128+4>>2]=o[i+16+4>>2];o[e+128+8>>2]=o[i+16+8>>2];o[e+128+12>>2]=o[i+16+12>>2];o[e+144>>2]=o[i+32>>2];o[e+144+4>>2]=o[i+32+4>>2];o[e+144+8>>2]=o[i+32+8>>2];o[e+144+12>>2]=o[i+32+12>>2];o[e+160>>2]=o[i+48>>2];o[e+160+4>>2]=o[i+48+4>>2];o[e+160+8>>2]=o[i+48+8>>2];o[e+160+12>>2]=o[i+48+12>>2];i=e+680|0;s=i+48|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(s|0));o[e+740>>2]=0;o[e+740+4>>2]=0;o[e+740+8>>2]=0;o[e+740+12>>2]=0;o[e+756>>2]=1045220557;o[e+760>>2]=1045220557;o[e+764>>2]=1045220557;o[e+768>>2]=0;o[e+768+4>>2]=0;o[e+768+8>>2]=0;o[e+768+12>>2]=0;o[e+768+16>>2]=0;c[e+728>>2]=.699999988079071;c[e+732>>2]=1.0;c[e+736>>2]=.5;n[e+788>>0]=0;n[e+788+1>>0]=0;n[e+788+2>>0]=0;o[e+792>>2]=0;o[e+792+4>>2]=0;o[e+792+8>>2]=0;o[e+808>>2]=0;o[e+808+4>>2]=0;o[e+808+8>>2]=0;c[e+928>>2]=0.0;c[e+876>>2]=0.0;c[e+880>>2]=.10000000149011612;c[e+884>>2]=300.0;c[e+868>>2]=1.0;c[e+872>>2]=-1.0;c[e+896>>2]=0.0;c[e+900>>2]=.20000000298023224;c[e+904>>2]=0.0;c[e+908>>2]=0.0;c[e+888>>2]=1.0;c[e+892>>2]=.5;o[e+924>>2]=0;c[e+916>>2]=0.0;n[e+912>>0]=0;c[e+992>>2]=0.0;c[e+940>>2]=0.0;c[e+944>>2]=.10000000149011612;c[e+948>>2]=300.0;c[e+932>>2]=1.0;c[e+936>>2]=-1.0;c[e+960>>2]=0.0;c[e+964>>2]=.20000000298023224;c[e+968>>2]=0.0;c[e+972>>2]=0.0;c[e+952>>2]=1.0;c[e+956>>2]=.5;o[e+988>>2]=0;c[e+980>>2]=0.0;n[e+976>>0]=0;c[e+1056>>2]=0.0;c[e+1004>>2]=0.0;c[e+1008>>2]=.10000000149011612;c[e+1012>>2]=300.0;c[e+996>>2]=1.0;c[e+1e3>>2]=-1.0;c[e+1024>>2]=0.0;c[e+1028>>2]=.20000000298023224;c[e+1032>>2]=0.0;c[e+1036>>2]=0.0;c[e+1016>>2]=1.0;c[e+1020>>2]=.5;o[e+1052>>2]=0;c[e+1044>>2]=0.0;n[e+1040>>0]=0;n[e+1300>>0]=r&1;n[e+1301>>0]=1;o[e+1304>>2]=0;n[e+1308>>0]=0;C=+c[e+112>>2];O=+c[t+4>>2];v=+c[e+128>>2];M=+c[t+8>>2];y=+c[e+144>>2];R=+c[t+12>>2];g=+c[e+116>>2];A=+c[e+132>>2];m=+c[e+148>>2];b=+c[e+120>>2];h=+c[e+136>>2];f=+c[e+152>>2];T=+c[t+20>>2];S=+c[t+24>>2];E=+c[t+28>>2];p=+c[t+36>>2];d=+c[t+40>>2];u=+c[t+44>>2];x=+c[e+160>>2];I=+c[e+164>>2];a=+c[e+168>>2];_=+c[t+52>>2]+(O*x+M*I+R*a);l=T*x+S*I+E*a+ +c[t+56>>2];a=p*x+d*I+u*a+ +c[t+60>>2];c[e+48>>2]=C*O+v*M+y*R;c[e+52>>2]=O*g+M*A+R*m;c[e+56>>2]=O*b+M*h+R*f;c[e+60>>2]=0.0;c[e+64>>2]=C*T+v*S+y*E;c[e+68>>2]=g*T+A*S+m*E;c[e+72>>2]=b*T+h*S+f*E;c[e+76>>2]=0.0;c[e+80>>2]=C*p+v*d+y*u;c[e+84>>2]=g*p+A*d+m*u;c[e+88>>2]=b*p+h*d+f*u;c[e+92>>2]=0.0;c[e+96>>2]=_;c[e+100>>2]=l;c[e+104>>2]=a;c[e+108>>2]=0.0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);return}function xr(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0,Q=0.0,K=0.0;Y=ae;ae=ae+240|0;r=(n[e+8>>0]|0)!=0;s=r?i:t;r=r?t:i;G=+c[s+116>>2]-+c[s+52>>2];W=+c[s+120>>2]-+c[s+56>>2];X=+c[s+124>>2]-+c[s+60>>2];z=+c[s+252>>2];if(G*G+W*W+X*X<z*z){Q=1.0;ae=Y;return+Q}H=+c[r+4>>2];h=+c[r+20>>2];p=+c[r+36>>2];b=+c[r+8>>2];m=+c[r+24>>2];A=+c[r+40>>2];g=+c[r+12>>2];y=+c[r+28>>2];v=+c[r+44>>2];l=-+c[r+52>>2];_=-+c[r+56>>2];u=-+c[r+60>>2];C=+c[s+4>>2];E=+c[s+20>>2];S=+c[s+36>>2];T=+c[s+8>>2];R=+c[s+24>>2];M=+c[s+40>>2];O=+c[s+12>>2];I=+c[s+28>>2];x=+c[s+44>>2];D=+c[s+52>>2];P=+c[s+56>>2];W=+c[s+60>>2];V=H*l+h*_+p*u+(H*D+h*P+p*W);z=b*l+m*_+A*u+(b*D+m*P+A*W);W=g*l+y*_+v*u+(g*D+y*P+v*W);P=+c[s+68>>2];D=+c[s+84>>2];w=+c[s+100>>2];L=+c[s+72>>2];F=+c[s+88>>2];N=+c[s+104>>2];B=+c[s+76>>2];k=+c[s+92>>2];U=+c[s+108>>2];f=+c[s+116>>2];d=+c[s+120>>2];G=+c[s+124>>2];j=H*l+h*_+p*u+(H*f+h*d+p*G);X=b*l+m*_+A*u+(b*f+m*d+A*G);G=g*l+y*_+v*u+(g*f+y*d+v*G);r=o[r+192>>2]|0;if(((o[r+4>>2]|0)+-21|0)>>>0>=9){Q=1.0;ae=Y;return+Q}c[Y+224>>2]=V;c[Y+224+4>>2]=z;c[Y+224+8>>2]=W;c[Y+224+12>>2]=0.0;if(j<V){c[Y+224>>2]=j;a=j}else a=V;if(X<z){c[Y+224+4>>2]=X;l=X}else l=z;if(G<W){c[Y+224+8>>2]=G;_=G}else _=W;c[Y+208>>2]=V;c[Y+208+4>>2]=z;c[Y+208+8>>2]=W;c[Y+208+12>>2]=0.0;if(V<j){c[Y+208>>2]=j;u=j}else u=V;if(z<X){c[Y+208+4>>2]=X;f=X}else f=z;if(W<G){c[Y+208+8>>2]=G;d=G}else d=W;K=+c[s+248>>2];c[Y+224>>2]=a-K;c[Y+224+4>>2]=l-K;c[Y+224+8>>2]=_-K;c[Y+208>>2]=K+u;c[Y+208+4>>2]=K+f;c[Y+208+8>>2]=K+d;o[Y>>2]=4732;c[Y+4>>2]=H*C+h*E+p*S;c[Y+8>>2]=H*T+h*R+p*M;c[Y+12>>2]=H*O+h*I+p*x;c[Y+16>>2]=0.0;c[Y+20>>2]=b*C+m*E+A*S;c[Y+24>>2]=b*T+m*R+A*M;c[Y+28>>2]=b*O+m*I+A*x;c[Y+32>>2]=0.0;c[Y+36>>2]=g*C+y*E+v*S;c[Y+40>>2]=g*T+y*R+v*M;c[Y+44>>2]=g*O+y*I+v*x;c[Y+48>>2]=0.0;c[Y+52>>2]=V;c[Y+56>>2]=z;c[Y+60>>2]=W;c[Y+64>>2]=0.0;c[Y+68>>2]=H*P+h*D+p*w;c[Y+72>>2]=H*L+h*F+p*N;c[Y+76>>2]=H*B+h*k+p*U;c[Y+80>>2]=0.0;c[Y+84>>2]=b*P+m*D+A*w;c[Y+88>>2]=b*L+m*F+A*N;c[Y+92>>2]=b*B+m*k+A*U;c[Y+96>>2]=0.0;c[Y+100>>2]=g*P+y*D+v*w;c[Y+104>>2]=g*L+y*F+v*N;c[Y+108>>2]=g*B+y*k+v*U;c[Y+112>>2]=0.0;c[Y+116>>2]=j;c[Y+120>>2]=X;c[Y+124>>2]=G;c[Y+128>>2]=0.0;c[Y+196>>2]=K;o[Y+200>>2]=o[s+244>>2];if(r|0?(BF[o[(o[r>>2]|0)+64>>2]&127](r,Y,Y+224|0,Y+208|0),Q=+c[Y+200>>2],Q<+c[s+244>>2]):0){c[s+244>>2]=Q;K=Q;ae=Y;return+K}K=1.0;ae=Y;return+K}function Pr(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0,Q=0.0,K=0.0;Y=ae;ae=ae+240|0;r=(n[e+8>>0]|0)!=0;s=r?i:t;r=r?t:i;G=+c[s+116>>2]-+c[s+52>>2];W=+c[s+120>>2]-+c[s+56>>2];X=+c[s+124>>2]-+c[s+60>>2];z=+c[s+252>>2];if(G*G+W*W+X*X<z*z){Q=1.0;ae=Y;return+Q}H=+c[r+4>>2];h=+c[r+20>>2];p=+c[r+36>>2];b=+c[r+8>>2];m=+c[r+24>>2];A=+c[r+40>>2];g=+c[r+12>>2];y=+c[r+28>>2];v=+c[r+44>>2];l=-+c[r+52>>2];_=-+c[r+56>>2];u=-+c[r+60>>2];C=+c[s+4>>2];E=+c[s+20>>2];S=+c[s+36>>2];T=+c[s+8>>2];R=+c[s+24>>2];M=+c[s+40>>2];O=+c[s+12>>2];I=+c[s+28>>2];x=+c[s+44>>2];D=+c[s+52>>2];P=+c[s+56>>2];W=+c[s+60>>2];V=H*l+h*_+p*u+(H*D+h*P+p*W);z=b*l+m*_+A*u+(b*D+m*P+A*W);W=g*l+y*_+v*u+(g*D+y*P+v*W);P=+c[s+68>>2];D=+c[s+84>>2];w=+c[s+100>>2];L=+c[s+72>>2];F=+c[s+88>>2];N=+c[s+104>>2];B=+c[s+76>>2];k=+c[s+92>>2];U=+c[s+108>>2];f=+c[s+116>>2];d=+c[s+120>>2];G=+c[s+124>>2];j=H*l+h*_+p*u+(H*f+h*d+p*G);X=b*l+m*_+A*u+(b*f+m*d+A*G);G=g*l+y*_+v*u+(g*f+y*d+v*G);r=o[r+192>>2]|0;if(((o[r+4>>2]|0)+-21|0)>>>0>=9){Q=1.0;ae=Y;return+Q}c[Y+224>>2]=V;c[Y+224+4>>2]=z;c[Y+224+8>>2]=W;c[Y+224+12>>2]=0.0;if(j<V){c[Y+224>>2]=j;a=j}else a=V;if(X<z){c[Y+224+4>>2]=X;l=X}else l=z;if(G<W){c[Y+224+8>>2]=G;_=G}else _=W;c[Y+208>>2]=V;c[Y+208+4>>2]=z;c[Y+208+8>>2]=W;c[Y+208+12>>2]=0.0;if(V<j){c[Y+208>>2]=j;u=j}else u=V;if(z<X){c[Y+208+4>>2]=X;f=X}else f=z;if(W<G){c[Y+208+8>>2]=G;d=G}else d=W;K=+c[s+248>>2];c[Y+224>>2]=a-K;c[Y+224+4>>2]=l-K;c[Y+224+8>>2]=_-K;c[Y+208>>2]=K+u;c[Y+208+4>>2]=K+f;c[Y+208+8>>2]=K+d;o[Y>>2]=6648;c[Y+4>>2]=H*C+h*E+p*S;c[Y+8>>2]=H*T+h*R+p*M;c[Y+12>>2]=H*O+h*I+p*x;c[Y+16>>2]=0.0;c[Y+20>>2]=b*C+m*E+A*S;c[Y+24>>2]=b*T+m*R+A*M;c[Y+28>>2]=b*O+m*I+A*x;c[Y+32>>2]=0.0;c[Y+36>>2]=g*C+y*E+v*S;c[Y+40>>2]=g*T+y*R+v*M;c[Y+44>>2]=g*O+y*I+v*x;c[Y+48>>2]=0.0;c[Y+52>>2]=V;c[Y+56>>2]=z;c[Y+60>>2]=W;c[Y+64>>2]=0.0;c[Y+68>>2]=H*P+h*D+p*w;c[Y+72>>2]=H*L+h*F+p*N;c[Y+76>>2]=H*B+h*k+p*U;c[Y+80>>2]=0.0;c[Y+84>>2]=b*P+m*D+A*w;c[Y+88>>2]=b*L+m*F+A*N;c[Y+92>>2]=b*B+m*k+A*U;c[Y+96>>2]=0.0;c[Y+100>>2]=g*P+y*D+v*w;c[Y+104>>2]=g*L+y*F+v*N;c[Y+108>>2]=g*B+y*k+v*U;c[Y+112>>2]=0.0;c[Y+116>>2]=j;c[Y+120>>2]=X;c[Y+124>>2]=G;c[Y+128>>2]=0.0;c[Y+196>>2]=K;o[Y+200>>2]=o[s+244>>2];if(r|0?(BF[o[(o[r>>2]|0)+64>>2]&127](r,Y,Y+224|0,Y+208|0),Q=+c[Y+200>>2],Q<+c[s+244>>2]):0){c[s+244>>2]=Q;K=Q;ae=Y;return+K}K=1.0;ae=Y;return+K}function Dr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;f=0;do{_=f;f=f+1|0;u=(f|0)==3;l=o[t+((u?0:f)<<2)>>2]|0;_=o[t+((((_+2|0)>>>0)%3|0)<<2)>>2]|0;n=o[i>>2]|0;r=o[i+4>>2]|0;do{if((n|0)==(_|0)&(r|0)==(l|0)){n=2;d=3}else{if(!((n|0)==(l|0)&(r|0)==(_|0))){s=o[i+8>>2]|0;if((r|0)==(_|0)&(s|0)==(l|0)){n=0;d=3;break}if(!((r|0)==(l|0)&(s|0)==(_|0))){if(!((s|0)!=(_|0)|(n|0)==(l|0)^1)){n=1;d=3;break}if((s|0)!=(l|0)|(n|0)==(_|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=i+12+(n<<2)|0}}while(0);if((d|0)==3){d=0;n=i+12+(n<<2)|0}c=o[n>>2]|0;n=o[t>>2]|0;r=o[t+4>>2]|0;do{if((n|0)==(l|0)&(r|0)==(_|0)){n=2;d=11}else{if(!((n|0)==(_|0)&(r|0)==(l|0))){s=o[t+8>>2]|0;if((r|0)==(l|0)&(s|0)==(_|0)){n=0;d=11;break}if(!((r|0)==(_|0)&(s|0)==(l|0))){if(!((s|0)!=(l|0)|(n|0)==(_|0)^1)){n=1;d=11;break}if((s|0)!=(_|0)|(n|0)==(l|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=t+12+(n<<2)|0}}while(0);if((d|0)==11){d=0;n=t+12+(n<<2)|0}a=o[e+(o[n>>2]<<2)>>2]|0;n=o[a>>2]|0;r=o[a+4>>2]|0;do{if((n|0)==(_|0)&(r|0)==(l|0)){n=2;d=19}else{if(!((n|0)==(l|0)&(r|0)==(_|0))){s=o[a+8>>2]|0;if((r|0)==(_|0)&(s|0)==(l|0)){n=0;d=19;break}if(!((r|0)==(l|0)&(s|0)==(_|0))){if(!((s|0)!=(_|0)|(n|0)==(l|0)^1)){n=1;d=19;break}if((s|0)!=(l|0)|(n|0)==(_|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=a+12+(n<<2)|0}}while(0);if((d|0)==19){d=0;n=a+12+(n<<2)|0}o[n>>2]=c;n=o[t>>2]|0;r=o[t+4>>2]|0;do{if((n|0)==(l|0)&(r|0)==(_|0)){n=2;d=27}else{if(!((n|0)==(_|0)&(r|0)==(l|0))){s=o[t+8>>2]|0;if((r|0)==(l|0)&(s|0)==(_|0)){n=0;d=27;break}if(!((r|0)==(_|0)&(s|0)==(l|0))){if(!((s|0)!=(l|0)|(n|0)==(_|0)^1)){n=1;d=27;break}if((s|0)!=(_|0)|(n|0)==(l|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=t+12+(n<<2)|0}}while(0);if((d|0)==27){d=0;n=t+12+(n<<2)|0}c=o[n>>2]|0;n=o[i>>2]|0;r=o[i+4>>2]|0;do{if((n|0)==(_|0)&(r|0)==(l|0)){n=2;d=35}else{if(!((n|0)==(l|0)&(r|0)==(_|0))){s=o[i+8>>2]|0;if((r|0)==(_|0)&(s|0)==(l|0)){n=0;d=35;break}if(!((r|0)==(l|0)&(s|0)==(_|0))){if(!((s|0)!=(_|0)|(n|0)==(l|0)^1)){n=1;d=35;break}if((s|0)!=(l|0)|(n|0)==(_|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=i+12+(n<<2)|0}}while(0);if((d|0)==35){d=0;n=i+12+(n<<2)|0}a=o[e+(o[n>>2]<<2)>>2]|0;n=o[a>>2]|0;r=o[a+4>>2]|0;do{if((n|0)==(l|0)&(r|0)==(_|0)){n=2;d=43}else{if(!((n|0)==(_|0)&(r|0)==(l|0))){s=o[a+8>>2]|0;if((r|0)==(l|0)&(s|0)==(_|0)){n=0;d=43;break}if(!((r|0)==(_|0)&(s|0)==(l|0))){if(!((s|0)!=(l|0)|(n|0)==(_|0)^1)){n=1;d=43;break}if((s|0)!=(_|0)|(n|0)==(l|0)^1){n=10744;break}else n=1}else n=0}else n=2;n=a+12+(n<<2)|0}}while(0);if((d|0)==43){d=0;n=a+12+(n<<2)|0}o[n>>2]=c}while(!u);return}function wr(e,t,i,s){e=e|0;t=t|0;i=i|0;s=s|0;var a=0,l=0,u=0,f=0.0,d=0,h=0.0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0;h=+c[t>>2];l=(c[_>>2]=h,o[_>>2]|0);y=h<999999984306749440.0?l:1566444395;f=+c[t+4>>2];d=(c[_>>2]=f,o[_>>2]|0);v=f<999999984306749440.0?d:1566444395;S=+c[t+8>>2];b=(c[_>>2]=S,o[_>>2]|0);C=S<999999984306749440.0?b:1566444395;l=h>-999999984306749440.0?l:-581039253;d=f>-999999984306749440.0?d:-581039253;b=S>-999999984306749440.0?b:-581039253;S=+c[t+16>>2];g=S<(o[_>>2]=y,+c[_>>2]);a=(c[_>>2]=S,o[_>>2]|0);y=g?a:y;f=+c[t+20>>2];g=f<(o[_>>2]=v,+c[_>>2]);u=(c[_>>2]=f,o[_>>2]|0);v=g?u:v;h=+c[t+24>>2];g=h<(o[_>>2]=C,+c[_>>2]);p=(c[_>>2]=h,o[_>>2]|0);C=g?p:C;l=S>(o[_>>2]=l,+c[_>>2])?a:l;a=f>(o[_>>2]=d,+c[_>>2])?u:d;m=h>(o[_>>2]=b,+c[_>>2])?p:b;S=+c[t+32>>2];A=S<(o[_>>2]=y,+c[_>>2]);p=(c[_>>2]=S,o[_>>2]|0);f=+c[t+36>>2];g=f<(o[_>>2]=v,+c[_>>2]);b=(c[_>>2]=f,o[_>>2]|0);h=+c[t+40>>2];d=h<(o[_>>2]=C,+c[_>>2]);u=(c[_>>2]=h,o[_>>2]|0);l=S>(o[_>>2]=l,+c[_>>2])?p:l;a=f>(o[_>>2]=a,+c[_>>2])?b:a;m=h>(o[_>>2]=m,+c[_>>2])?u:m;D=(o[_>>2]=l,+c[_>>2]);w=(o[_>>2]=A?p:y,+c[_>>2]);O=(o[_>>2]=a,+c[_>>2]);I=(o[_>>2]=g?b:v,+c[_>>2]);f=(o[_>>2]=m,+c[_>>2]);T=(o[_>>2]=d?u:C,+c[_>>2]);p=o[e+8>>2]|0;P=+c[p+4>>2];M=+c[p+8>>2];h=+c[p+12>>2];x=+c[p+36>>2];R=+c[p+40>>2];S=+c[p+44>>2];p=~~(((D-w<2.0000000949949026e-03?w+-1.0000000474974513e-03:w)-P)*x)&65535&-2;b=~~(((O-I<2.0000000949949026e-03?I+-1.0000000474974513e-03:I)-M)*R)&65535&-2;m=~~(((f-T<2.0000000949949026e-03?T+-1.0000000474974513e-03:T)-h)*S)&65535&-2;A=~~(((D-w<2.0000000949949026e-03?D+1.0000000474974513e-03:D)-P)*x+1.0)&65535|1;g=~~(((O-I<2.0000000949949026e-03?O+1.0000000474974513e-03:O)-M)*R+1.0)&65535|1;t=~~(((f-T<2.0000000949949026e-03?f+1.0000000474974513e-03:f)-h)*S+1.0)&65535|1;d=o[e+4>>2]|0;a=o[d+4>>2]|0;if((a|0)==(o[d+8>>2]|0)?(E=(a|0)==0?1:a<<1,(a|0)<(E|0)):0){if(!E)l=0;else{o[6747]=(o[6747]|0)+1;a=Do((E<<4|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[d+4>>2]|0}if((a|0)>0){u=0;do{e=l+(u<<4)|0;C=(o[d+12>>2]|0)+(u<<4)|0;o[e>>2]=o[C>>2];o[e+4>>2]=o[C+4>>2];o[e+8>>2]=o[C+8>>2];o[e+12>>2]=o[C+12>>2];u=u+1|0}while((u|0)!=(a|0))}a=o[d+12>>2]|0;if(a|0){if(n[d+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[d+12>>2]=0}n[d+16>>0]=1;o[d+12>>2]=l;o[d+8>>2]=E;a=o[d+4>>2]|0}E=o[d+12>>2]|0;r[E+(a<<4)>>1]=p;r[E+(a<<4)+2>>1]=b;r[E+(a<<4)+4>>1]=m;r[E+(a<<4)+6>>1]=A;r[E+(a<<4)+8>>1]=g;r[E+(a<<4)+10>>1]=t;o[E+(a<<4)+12>>2]=i<<21|s;o[d+4>>2]=(o[d+4>>2]|0)+1;return}function Lr(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,l=0,_=0,u=0;u=ae;ae=ae+336|0;t=o[t+36>>2]|0;o[u+272+4>>2]=35;o[u+272+8>>2]=0;o[u+272+12>>2]=1065353216;o[u+272+16>>2]=1065353216;o[u+272+20>>2]=1065353216;c[u+272+24>>2]=0.0;o[u+272>>2]=4500;o[u+272+52>>2]=t;c[u+272+44>>2]=0.0;l=o[e+28>>2]|0;r=o[l+4>>2]|0;if(o[(o[l+8>>2]|0)+204>>2]&3|0?n[t+376>>0]|0:0){ae=u;return}if((n[24880]|0)==0?PM(24880)|0:0){if((n[24888]|0)==0?PM(24888)|0:0){o[6348]=1065353216;o[6349]=0;o[6350]=0;o[6351]=0;o[6352]=0;o[6353]=1065353216;o[6354]=0;o[6355]=0;o[6356]=0;o[6357]=0;o[6358]=1065353216;c[6359]=0.0;GR(24888)}o[6332]=o[6348];o[6333]=o[6349];o[6334]=o[6350];o[6335]=o[6351];o[6336]=o[6352];o[6337]=o[6353];o[6338]=o[6354];o[6339]=o[6355];o[6340]=o[6356];o[6341]=o[6357];o[6342]=o[6358];o[6343]=o[6359];o[6344]=0;o[6345]=0;o[6346]=0;o[6347]=0;GR(24880)}i=o[(o[e+28>>2]|0)+12>>2]|0;o[u>>2]=1065353216;o[u+4>>2]=0;o[u+8>>2]=0;c[u+12>>2]=0.0;if(!(!(er(u+272|0,25328,r,i,u,u+216|0)|0)?!(Ko(u+272|0,25328,r,i,u,u+216|0,0)|0):0))s=12;if((s|0)==12?(o[u+4>>2]=0,o[u+4+4>>2]=0,o[u+4+8>>2]=0,o[u+4+12>>2]=0,o[u+4+16>>2]=0,o[u+4+20>>2]=0,n[u+152>>0]=0,o[u>>2]=4320,l=o[(o[e+28>>2]|0)+8>>2]|0,As(e,u+216|0,t,0,0,0,(o[l+236>>2]&2|0)==0?0:l,l,u)|0):0){o[6747]=(o[6747]|0)+1;t=Do(235)|0;if(!t)l=0;else{o[(t+4+15&-16)+-4>>2]=t;l=t+4+15&-16}i=l+4|0;t=l+152|0;_l(i|0,0,212)|0;o[l>>2]=4320;r=u+4|0;s=i+100|0;do{o[i>>2]=o[r>>2];i=i+4|0;r=r+4|0}while((i|0)<(s|0));i=l+104|0;o[i>>2]=o[u+104>>2];o[i+4>>2]=o[u+104+4>>2];o[i+8>>2]=o[u+104+8>>2];o[i+12>>2]=o[u+104+12>>2];i=l+120|0;o[i>>2]=o[u+120>>2];o[i+4>>2]=o[u+120+4>>2];o[i+8>>2]=o[u+120+8>>2];o[i+12>>2]=o[u+120+12>>2];i=l+136|0;o[i>>2]=o[u+136>>2];o[i+4>>2]=o[u+136+4>>2];o[i+8>>2]=o[u+136+8>>2];o[i+12>>2]=o[u+136+12>>2];n[t>>0]=n[u+152>>0]|0;i=l+156|0;r=u+156|0;s=i+60|0;do{o[i>>2]=o[r>>2];i=i+4|0;r=r+4|0}while((i|0)<(s|0));s=o[e+24>>2]|0;a=l;t=o[s+852>>2]|0;if((t|0)==(o[s+856>>2]|0)?(_=(t|0)==0?1:t<<1,(t|0)<(_|0)):0){if(!_)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((_<<2|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[s+852>>2]|0}if((t|0)>0){r=0;do{o[i+(r<<2)>>2]=o[(o[s+860>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(t|0))}r=o[s+860>>2]|0;if(r){if(n[s+864>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);t=o[s+852>>2]|0}o[s+860>>2]=0}n[s+864>>0]=1;o[s+860>>2]=i;o[s+856>>2]=_}o[(o[s+860>>2]|0)+(t<<2)>>2]=a;o[s+852>>2]=t+1;t=o[e+24>>2]|0;if(!(o[(o[(o[e+28>>2]|0)+8>>2]|0)+204>>2]&3)){e=l+64|0;c[e>>2]=+c[t+340>>2]*+c[e>>2];t=t+352|0}else{e=l+64|0;c[e>>2]=+c[t+344>>2]*+c[e>>2];t=t+356|0}e=l+68|0;c[e>>2]=+c[t>>2]*+c[e>>2]}ae=u;return}function Fr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0;if(!((t|0)!=0&(i|0)!=0))return;if((o[e+24>>2]|0)<128?(o[e+28>>2]|0)<128:0){o[6747]=(o[6747]|0)+1;s=Do(1043)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[e+24>>2]|0;if((s|0)>0){a=0;do{_=(o[e+32>>2]|0)+(a<<3)|0;u=o[_+4>>2]|0;f=l+(a<<3)|0;o[f>>2]=o[_>>2];o[f+4>>2]=u;a=a+1|0}while((a|0)!=(s|0))}s=o[e+32>>2]|0;if(s|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=l;o[e+28>>2]=128}o[e+24>>2]=128;_=o[e+32>>2]|0;o[_>>2]=t;o[_+4>>2]=i;_=1;l=124;while(1){s=_+-1|0;a=o[e+32>>2]|0;u=o[a+(s<<3)>>2]|0;f=o[a+(s<<3)+4>>2]|0;if((s|0)>(l|0)){i=o[e+24>>2]|0;if((i|0)<(i<<1|0)?(o[e+28>>2]|0)<(i<<1|0):0){if(i){o[6747]=(o[6747]|0)+1;a=Do((i<<4|3)+16|0)|0;if(!a)t=0;else{o[(a+4+15&-16)+-4>>2]=a;t=a+4+15&-16}a=o[e+24>>2]|0;if((a|0)>0){l=0;do{p=(o[e+32>>2]|0)+(l<<3)|0;h=o[p+4>>2]|0;d=t+(l<<3)|0;o[d>>2]=o[p>>2];o[d+4>>2]=h;l=l+1|0}while((l|0)!=(a|0));a=t}else a=t}else{a=0;t=0}l=o[e+32>>2]|0;if(l|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=t;o[e+28>>2]=i<<1}o[e+24>>2]=i<<1;l=(i<<1)+-4|0}do{if((u|0)==(f|0)){if(o[u+40>>2]|0){p=o[u+36>>2]|0;o[a+(s<<3)>>2]=p;o[a+(s<<3)+4>>2]=p;p=o[u+40>>2]|0;s=_+1|0;h=o[e+32>>2]|0;o[h+(_<<3)>>2]=p;o[h+(_<<3)+4>>2]=p;h=o[u+40>>2]|0;p=o[e+32>>2]|0;o[p+(s<<3)>>2]=o[u+36>>2];o[p+(s<<3)+4>>2]=h;s=_+2|0}}else if(((((+c[u>>2]<=+c[f+16>>2]?+c[u+16>>2]>=+c[f>>2]:0)?+c[u+4>>2]<=+c[f+20>>2]:0)?+c[u+20>>2]>=+c[f+4>>2]:0)?+c[u+8>>2]<=+c[f+24>>2]:0)?+c[u+24>>2]>=+c[f+8>>2]:0){i=(o[f+40>>2]|0)!=0;if(!(o[u+40>>2]|0)){if(i){p=o[f+36>>2]|0;o[a+(s<<3)>>2]=u;o[a+(s<<3)+4>>2]=p;p=o[f+40>>2]|0;s=o[e+32>>2]|0;o[s+(_<<3)>>2]=u;o[s+(_<<3)+4>>2]=p;s=_+1|0;break}else{LF[o[(o[r>>2]|0)+8>>2]&127](r,u,f);break}}else{t=o[u+36>>2]|0;if(i){h=o[f+36>>2]|0;o[a+(s<<3)>>2]=t;o[a+(s<<3)+4>>2]=h;s=o[f+36>>2]|0;h=_+1|0;d=o[e+32>>2]|0;o[d+(_<<3)>>2]=o[u+40>>2];o[d+(_<<3)+4>>2]=s;d=o[f+40>>2]|0;s=_+2|0;p=o[e+32>>2]|0;o[p+(h<<3)>>2]=o[u+36>>2];o[p+(h<<3)+4>>2]=d;h=o[f+40>>2]|0;p=o[e+32>>2]|0;o[p+(s<<3)>>2]=o[u+40>>2];o[p+(s<<3)+4>>2]=h;s=_+3|0;break}else{o[a+(s<<3)>>2]=t;o[a+(s<<3)+4>>2]=f;s=o[e+32>>2]|0;o[s+(_<<3)>>2]=o[u+40>>2];o[s+(_<<3)+4>>2]=f;s=_+1|0;break}}}}while(0);if(!s)break;else _=s}return}function Nr(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0;h=o[e+92>>2]|0;if(!(dF[o[(o[h>>2]|0)+56>>2]&127](h)|0))return;h=o[e+92>>2]|0;h=dF[o[(o[h>>2]|0)+28>>2]&127](h)|0;i=o[h+4>>2]|0;if((i|0)>1){Ur(h,0,i+-1|0);l=o[h+4>>2]|0}else l=i;f=o[e+104>>2]|0;i=l-f|0;if((f|0)<0){if((o[h+8>>2]|0)<(i|0)){if(!i){s=l;c=0}else{o[6747]=(o[6747]|0)+1;r=Do((i<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[h+4>>2]|0;c=r}if((s|0)>0){r=0;do{f=o[h+12>>2]|0;o[c+(r<<4)>>2]=o[f+(r<<4)>>2];o[c+(r<<4)+4>>2]=o[f+(r<<4)+4>>2];o[c+(r<<4)+8>>2]=o[f+(r<<4)+8>>2];o[c+(r<<4)+12>>2]=o[f+(r<<4)+12>>2];r=r+1|0}while((r|0)!=(s|0))}r=o[h+12>>2]|0;if(r|0){if(n[h+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[h+12>>2]=0}n[h+16>>0]=1;o[h+12>>2]=c;o[h+8>>2]=i;s=h+12|0}else s=h+12|0;r=l;do{f=(o[s>>2]|0)+(r<<4)|0;r=r+1|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0}while((r|0)!=(i|0))}o[h+4>>2]=i;o[e+104>>2]=0;if((i|0)>0){r=0;u=0;f=0;c=0;while(1){_=o[h+12>>2]|0;l=_+(u<<4)|0;p=f;f=o[l>>2]|0;_=_+(u<<4)+4|0;s=o[_>>2]|0;if(!((f|0)==(p|0)&(s|0)==(c|0))){p=f+54|0;c=f+48|0;if(!((((((a[p>>1]|0)>=(a[s+48>>1]|0)?(a[s+54>>1]|0)>=(a[c>>1]|0):0)?(a[p+2>>1]|0)>=(a[s+48+2>>1]|0):0)?(a[s+54+2>>1]|0)>=(a[c+2>>1]|0):0)?(a[p+4>>1]|0)>=(a[s+52>>1]|0):0)?(a[s+54+4>>1]|0)>=(a[f+52>>1]|0):0))d=30}else{s=c;d=30}if((d|0)==30){d=0;r=o[e+92>>2]|0;LF[o[(o[r>>2]|0)+32>>2]&127](r,l,t);o[l>>2]=0;o[_>>2]=0;r=(o[e+104>>2]|0)+1|0;o[e+104>>2]=r;o[6723]=(o[6723]|0)+-1;i=o[h+4>>2]|0}u=u+1|0;if((u|0)>=(i|0))break;else c=s}if((i|0)>1){Ur(h,0,i+-1|0);i=o[h+4>>2]|0;r=o[e+104>>2]|0}l=i-r|0;if((r|0)<0){if((o[h+8>>2]|0)<(l|0)){if(!l){s=i;c=0}else{o[6747]=(o[6747]|0)+1;r=Do((l<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[h+4>>2]|0;c=r}if((s|0)>0){r=0;do{p=o[h+12>>2]|0;o[c+(r<<4)>>2]=o[p+(r<<4)>>2];o[c+(r<<4)+4>>2]=o[p+(r<<4)+4>>2];o[c+(r<<4)+8>>2]=o[p+(r<<4)+8>>2];o[c+(r<<4)+12>>2]=o[p+(r<<4)+12>>2];r=r+1|0}while((r|0)!=(s|0))}r=o[h+12>>2]|0;if(r|0){if(n[h+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[h+12>>2]=0}n[h+16>>0]=1;o[h+12>>2]=c;o[h+8>>2]=l}do{p=(o[h+12>>2]|0)+(i<<4)|0;i=i+1|0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0}while((i|0)!=(l|0));i=l}else i=l}o[h+4>>2]=i;o[e+104>>2]=0;return}function Br(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;s=ae;ae=ae+80|0;o[e+68>>2]=(o[e+68>>2]|0)+1;i=o[e+64>>2]|0;if(i|0){n=o[(o[e+24>>2]|0)+(t*80|0)+76>>2]|0;fi(i,n)|0;r=o[i+4>>2]|0;if(r|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[i+4>>2]=n;o[i+12>>2]=(o[i+12>>2]|0)+-1}r=(o[e+16>>2]|0)+-1|0;n=o[e+24>>2]|0;o[s>>2]=o[n+(t*80|0)>>2];o[s+4>>2]=o[n+(t*80|0)+4>>2];o[s+8>>2]=o[n+(t*80|0)+8>>2];o[s+12>>2]=o[n+(t*80|0)+12>>2];o[s+16>>2]=o[n+(t*80|0)+16>>2];o[s+16+4>>2]=o[n+(t*80|0)+16+4>>2];o[s+16+8>>2]=o[n+(t*80|0)+16+8>>2];o[s+16+12>>2]=o[n+(t*80|0)+16+12>>2];o[s+32>>2]=o[n+(t*80|0)+32>>2];o[s+32+4>>2]=o[n+(t*80|0)+32+4>>2];o[s+32+8>>2]=o[n+(t*80|0)+32+8>>2];o[s+32+12>>2]=o[n+(t*80|0)+32+12>>2];o[s+48>>2]=o[n+(t*80|0)+48>>2];o[s+48+4>>2]=o[n+(t*80|0)+48+4>>2];o[s+48+8>>2]=o[n+(t*80|0)+48+8>>2];o[s+48+12>>2]=o[n+(t*80|0)+48+12>>2];o[s+64>>2]=o[n+(t*80|0)+64>>2];o[s+64+4>>2]=o[n+(t*80|0)+64+4>>2];o[s+64+8>>2]=o[n+(t*80|0)+64+8>>2];o[s+64+12>>2]=o[n+(t*80|0)+64+12>>2];o[n+(t*80|0)>>2]=o[n+(r*80|0)>>2];o[n+(t*80|0)+4>>2]=o[n+(r*80|0)+4>>2];o[n+(t*80|0)+8>>2]=o[n+(r*80|0)+8>>2];o[n+(t*80|0)+12>>2]=o[n+(r*80|0)+12>>2];o[n+(t*80|0)+16>>2]=o[n+(r*80|0)+16>>2];o[n+(t*80|0)+16+4>>2]=o[n+(r*80|0)+16+4>>2];o[n+(t*80|0)+16+8>>2]=o[n+(r*80|0)+16+8>>2];o[n+(t*80|0)+16+12>>2]=o[n+(r*80|0)+16+12>>2];o[n+(t*80|0)+32>>2]=o[n+(r*80|0)+32>>2];o[n+(t*80|0)+32+4>>2]=o[n+(r*80|0)+32+4>>2];o[n+(t*80|0)+32+8>>2]=o[n+(r*80|0)+32+8>>2];o[n+(t*80|0)+32+12>>2]=o[n+(r*80|0)+32+12>>2];o[n+(t*80|0)+48>>2]=o[n+(r*80|0)+48>>2];o[n+(t*80|0)+48+4>>2]=o[n+(r*80|0)+48+4>>2];o[n+(t*80|0)+48+8>>2]=o[n+(r*80|0)+48+8>>2];o[n+(t*80|0)+48+12>>2]=o[n+(r*80|0)+48+12>>2];o[n+(t*80|0)+64>>2]=o[n+(r*80|0)+64>>2];o[n+(t*80|0)+64+4>>2]=o[n+(r*80|0)+64+4>>2];o[n+(t*80|0)+64+8>>2]=o[n+(r*80|0)+64+8>>2];o[n+(t*80|0)+64+12>>2]=o[n+(r*80|0)+64+12>>2];n=o[e+24>>2]|0;o[n+(r*80|0)>>2]=o[s>>2];o[n+(r*80|0)+4>>2]=o[s+4>>2];o[n+(r*80|0)+8>>2]=o[s+8>>2];o[n+(r*80|0)+12>>2]=o[s+12>>2];o[n+(r*80|0)+16>>2]=o[s+16>>2];o[n+(r*80|0)+16+4>>2]=o[s+16+4>>2];o[n+(r*80|0)+16+8>>2]=o[s+16+8>>2];o[n+(r*80|0)+16+12>>2]=o[s+16+12>>2];o[n+(r*80|0)+32>>2]=o[s+32>>2];o[n+(r*80|0)+32+4>>2]=o[s+32+4>>2];o[n+(r*80|0)+32+8>>2]=o[s+32+8>>2];o[n+(r*80|0)+32+12>>2]=o[s+32+12>>2];o[n+(r*80|0)+48>>2]=o[s+48>>2];o[n+(r*80|0)+48+4>>2]=o[s+48+4>>2];o[n+(r*80|0)+48+8>>2]=o[s+48+8>>2];o[n+(r*80|0)+48+12>>2]=o[s+48+12>>2];o[n+(r*80|0)+64>>2]=o[s+64>>2];o[n+(r*80|0)+64+4>>2]=o[s+64+4>>2];o[n+(r*80|0)+64+8>>2]=o[s+64+8>>2];o[n+(r*80|0)+64+12>>2]=o[s+64+12>>2];if(!(o[e+64>>2]|0)){t=o[e+16>>2]|0;t=t+-1|0;o[e+16>>2]=t;ae=s;return}o[(o[(o[e+24>>2]|0)+(t*80|0)+76>>2]|0)+36>>2]=t;t=o[e+16>>2]|0;t=t+-1|0;o[e+16>>2]=t;ae=s;return}function kr(e,t,i,n,s,l,_,u,f){e=e|0;t=t|0;i=i|0;n=+n;s=+s;l=+l;_=_|0;u=u|0;f=f|0;var d=0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,C=0,E=0,S=0,T=0,R=0,M=0,O=0,I=0.0,x=0.0,P=0,D=0.0,w=0,L=0,F=0,N=0,B=0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0;z=ae;ae=ae+32|0;I=+c[i>>2];x=+c[i+4>>2];D=+c[i+8>>2];V=1.0/+v(+((n-I)*(n-I)+(s-x)*(s-x)+(l-D)*(l-D)));U=(n-I)*V==0.0?999999984306749440.0:1.0/((n-I)*V);H=(s-x)*V==0.0?999999984306749440.0:1.0/((s-x)*V);j=(l-D)*V==0.0?999999984306749440.0:1.0/((l-D)*V);ne=(I>n?n:I)+ +c[_>>2];ie=(x>s?s:x)+ +c[_+4>>2];te=(D>l?l:D)+ +c[_+8>>2];$=(I<n?n:I)+ +c[u>>2];K=(x<s?s:x)+ +c[u+4>>2];A=(D<l?l:D)+ +c[u+8>>2];q=+c[e+4>>2];ne=ne<q?q:ne;Q=+c[e+8>>2];ie=ie<Q?Q:ie;g=+c[e+12>>2];te=te<g?g:te;ee=+c[e+20>>2];Z=+c[e+24>>2];m=+c[e+28>>2];J=+c[e+36>>2];Y=+c[e+40>>2];y=+c[e+44>>2];P=~~(((ee<ne?ee:ne)-q)*J)&65535&-2;w=~~(((Z<ie?Z:ie)-Q)*Y)&65535&-2;L=~~(((m<te?m:te)-g)*y)&65535&-2;$=$<q?q:$;K=K<Q?Q:K;A=A<g?g:A;F=~~(((ee<$?ee:$)-q)*J+1.0)&65535|1;N=~~(((Z<K?Z:K)-Q)*Y+1.0)&65535|1;B=~~(((m<A?m:A)-g)*y+1.0)&65535|1;if((f|0)>0){h=0;p=o[e+136>>2]|0;d=0;do{d=d+1|0;S=p+6|0;b=r[p>>1]|0;T=p+10|0;C=r[p+4>>1]|0;R=p+8|0;E=r[p+2>>1]|0;O=p+12|0;M=(o[O>>2]|0)>-1;do{if(((F&65535)>=(b&65535)?(P&65535)<=(a[S>>1]|0):0)&(L&65535)<=(a[T>>1]|0)&(B&65535)>=(C&65535)&(w&65535)<=(a[R>>1]|0)&(N&65535)>=(E&65535)){$=+c[e+36>>2];te=+c[e+40>>2];ne=+c[e+44>>2];ee=+c[e+4>>2];ie=+c[e+8>>2];g=+c[e+12>>2];c[z+12>>2]=0.0;y=ee+ +(a[S>>1]|0)/$;m=ie+ +(a[R>>1]|0)/te;A=g+ +(a[T>>1]|0)/ne;c[z+28>>2]=0.0;c[z>>2]=+(b&65535)/$+ee-+c[u>>2];c[z+4>>2]=+(E&65535)/te+ie-+c[u+4>>2];c[z+8>>2]=+(C&65535)/ne+g-+c[u+8>>2];c[z+16>>2]=y-+c[_>>2];c[z+20>>2]=m-+c[_+4>>2];c[z+24>>2]=A-+c[_+8>>2];A=+c[i>>2];m=U*(+c[z+((U<0.0&1)<<4)>>2]-A);A=U*(+c[z+(((U<0.0^1)&1)<<4)>>2]-A);y=+c[i+4>>2];g=H*(+c[z+((H<0.0&1)<<4)+4>>2]-y);y=H*(+c[z+(((H<0.0^1)&1)<<4)+4>>2]-y);if(!(g>A|m>y)?(k=g>m?g:m,X=y<A?y:A,W=+c[i+8>>2],G=j*(+c[z+((j<0.0&1)<<4)+8>>2]-W),W=j*(+c[z+(((j<0.0^1)&1)<<4)+8>>2]-W),!(G>X|k>W)):0){b=(W<X?W:X)>0.0?(G>k?G:k)<(l-D)*((l-D)*V)+((n-I)*((n-I)*V)+(s-x)*((s-x)*V)):0;if(!(M&b)){C=9;break}C=o[O>>2]|0;LF[o[(o[t>>2]|0)+8>>2]&127](t,21?C>>21:C,C&2097151);C=10;break}b=0;C=9}else{b=0;C=9}}while(0);if((C|0)==9){C=0;if(M|b)C=10;else{O=o[O>>2]|0;h=h-O|0;p=p+(0-O<<4)|0}}if((C|0)==10){h=h+1|0;p=p+16|0}}while((h|0)<(f|0))}else d=0;if((o[6727]|0)>=(d|0)){ae=z;return}o[6727]=d;ae=z;return}function Ur(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0;while(1){m=o[e+12>>2]|0;b=(t+i|0)/2|0;h=o[m+(b<<4)>>2]|0;p=o[m+(b<<4)+4>>2]|0;b=o[m+(b<<4)+8>>2]|0;n=t;r=i;while(1){e:do{if(!h)while(1){u=m+(n<<4)|0;l=o[u>>2]|0;if(!l)s=-1;else s=o[l+12>>2]|0;_=o[m+(n<<4)+4>>2]|0;if(!_)a=-1;else a=o[_+12>>2]|0;if(!p)c=-1;else c=o[p+12>>2]|0;do{if((s|0)<=-1){s=(a|0)>(c|0);if(s|(l|0)==0^1)if((l|0)==0&s)break;else break e;if((_|0)!=(p|0))break e;if((o[m+(n<<4)+8>>2]|0)>>>0<=b>>>0)break e}}while(0);n=n+1|0}else{f=o[h+12>>2]|0;while(1){u=m+(n<<4)|0;l=o[u>>2]|0;if(!l)s=-1;else s=o[l+12>>2]|0;_=o[m+(n<<4)+4>>2]|0;if(!_)a=-1;else a=o[_+12>>2]|0;if(!p)c=-1;else c=o[p+12>>2]|0;do{if((s|0)<=(f|0)){s=(a|0)>(c|0);if(s|(l|0)==(h|0)^1)if((l|0)==(h|0)&s)break;else break e;if((_|0)!=(p|0))break e;if((o[m+(n<<4)+8>>2]|0)>>>0<=b>>>0)break e}}while(0);n=n+1|0}}}while(0);e:do{if(!h)while(1){s=m+(r<<4)|0;_=o[s>>2]|0;if(!_)a=-1;else a=o[_+12>>2]|0;if(!p)c=-1;else c=o[p+12>>2]|0;f=o[m+(r<<4)+4>>2]|0;if(!f)l=-1;else l=o[f+12>>2]|0;do{if((a|0)>=-1){a=(c|0)>(l|0);if(a|(_|0)==0^1)if((_|0)==0&a)break;else break e;if((p|0)!=(f|0))break e;if((o[m+(r<<4)+8>>2]|0)>>>0>=b>>>0)break e}}while(0);r=r+-1|0}else{d=o[h+12>>2]|0;while(1){s=m+(r<<4)|0;_=o[s>>2]|0;if(!_)a=-1;else a=o[_+12>>2]|0;if(!p)c=-1;else c=o[p+12>>2]|0;f=o[m+(r<<4)+4>>2]|0;if(!f)l=-1;else l=o[f+12>>2]|0;do{if((d|0)<=(a|0)){a=(c|0)>(l|0);if(a|(h|0)==(_|0)^1)if((h|0)==(_|0)&a)break;else break e;if((p|0)!=(f|0))break e;if((o[m+(r<<4)+8>>2]|0)>>>0>=b>>>0)break e}}while(0);r=r+-1|0}}}while(0);if((n|0)<=(r|0)){l=o[u>>2]|0;_=o[m+(n<<4)+4>>2]|0;f=o[m+(n<<4)+8>>2]|0;d=o[m+(n<<4)+12>>2]|0;o[u>>2]=o[s>>2];o[u+4>>2]=o[s+4>>2];o[u+8>>2]=o[s+8>>2];o[u+12>>2]=o[s+12>>2];m=o[e+12>>2]|0;o[m+(r<<4)>>2]=l;o[m+(r<<4)+4>>2]=_;o[m+(r<<4)+8>>2]=f;o[m+(r<<4)+12>>2]=d;n=n+1|0;r=r+-1|0}if((n|0)>(r|0))break;m=o[e+12>>2]|0}if((r|0)>(t|0))Ur(e,t,r);if((n|0)<(i|0))t=n;else break}return}function Hr(e,t,i,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=+a;l=l|0;_=_|0;u=u|0;var f=0,d=0,h=0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,v=0,C=0,E=0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0.0;O=ae;ae=ae+32|0;if(!t){ae=O;return}p=o[e+44>>2]|0;if((p|0)<128){if((o[e+48>>2]|0)<128){o[6747]=(o[6747]|0)+1;f=Do(531)|0;if(!f)h=0;else{o[(f+4+15&-16)+-4>>2]=f;h=f+4+15&-16}f=o[e+44>>2]|0;if((f|0)>0){d=0;do{o[h+(d<<2)>>2]=o[(o[e+52>>2]|0)+(d<<2)>>2];d=d+1|0}while((d|0)!=(f|0))}f=o[e+52>>2]|0;if(f|0){if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0)}o[e+52>>2]=0}n[e+56>>0]=1;o[e+52>>2]=h;o[e+48>>2]=128;d=e+52|0}else d=e+52|0;f=p;do{o[(o[d>>2]|0)+(f<<2)>>2]=0;f=f+1|0}while((f|0)!=128);E=e+48|0}else{E=e+48|0;d=e+52|0}o[e+44>>2]=128;o[o[d>>2]>>2]=t;C=1;f=126;while(1){h=C+-1|0;p=o[d>>2]|0;v=o[p+(h<<2)>>2]|0;m=+c[v+4>>2]-+c[_+4>>2];g=+c[v+8>>2]-+c[_+8>>2];c[O>>2]=+c[v>>2]-+c[_>>2];c[O+4>>2]=m;c[O+8>>2]=g;c[O+12>>2]=0.0;g=+c[v+20>>2]-+c[l+4>>2];m=+c[v+24>>2]-+c[l+8>>2];c[O+16>>2]=+c[v+16>>2]-+c[l>>2];c[O+20>>2]=g;c[O+24>>2]=m;c[O+28>>2]=0.0;y=o[s>>2]|0;m=+c[i>>2];g=+c[r>>2];b=(+c[O+(y<<4)>>2]-m)*g;m=g*(+c[O+(1-y<<4)>>2]-m);y=o[s+4>>2]|0;g=+c[i+4>>2];I=+c[r+4>>2];A=(+c[O+(y<<4)+4>>2]-g)*I;g=I*(+c[O+(1-y<<4)+4>>2]-g);do{if((!(A>m|b>g)?(S=A>b?A:b,M=g<m?g:m,y=o[s+8>>2]|0,R=+c[i+8>>2],I=+c[r+8>>2],T=(+c[O+(y<<4)+8>>2]-R)*I,R=I*(+c[O+(1-y<<4)+8>>2]-R),!(T>M|S>R)):0)?(R<M?R:M)>0.0?(T>S?T:S)<a:0:0){if(!(o[v+40>>2]|0)){xF[o[(o[u>>2]|0)+12>>2]&127](u,v);break}if((h|0)>(f|0)){y=o[e+44>>2]|0;if((y|0)<(y<<1|0)){if((o[E>>2]|0)<(y<<1|0)){if(y){o[6747]=(o[6747]|0)+1;f=Do((y<<3|3)+16|0)|0;if(!f)t=0;else{o[(f+4+15&-16)+-4>>2]=f;t=f+4+15&-16}f=o[e+44>>2]|0;if((f|0)>0){p=0;do{o[t+(p<<2)>>2]=o[(o[d>>2]|0)+(p<<2)>>2];p=p+1|0}while((p|0)!=(f|0));f=t}else f=t}else{f=0;t=0}p=o[d>>2]|0;if(p|0){if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[p+-4>>2]|0)}o[d>>2]=0}n[e+56>>0]=1;o[d>>2]=t;o[E>>2]=y<<1}else f=p;p=y;do{o[f+(p<<2)>>2]=0;p=p+1|0;f=o[d>>2]|0}while((p|0)!=(y<<1|0));f=f+(h<<2)|0}else f=p+(h<<2)|0;o[e+44>>2]=y<<1;h=f;f=(y<<1)+-2|0}else h=p+(h<<2)|0;o[h>>2]=o[v+36>>2];o[(o[d>>2]|0)+(C<<2)>>2]=o[v+40>>2];h=C+1|0}}while(0);if(!h)break;else C=h}ae=O;return}function jr(e,t,i,n,r,s,a,l,_,u,f,d){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;s=+s;a=+a;l=+l;_=+_;u=u|0;f=+f;d=d|0;var h=0.0,p=0.0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0.0,O=0,I=0,x=0;x=ae;ae=ae+2560|0;ep(x+2528|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],r);Eh(x+2544|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[x+2528>>2],+c[x+2528+4>>2],+c[x+2528+8>>2]);ep(x+2496|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],r);Th(x+2512|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[x+2496>>2],+c[x+2496+4>>2],+c[x+2496+8>>2]);kd(x+2464|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[n>>2],+c[n+4>>2],+c[n+8>>2]);p=!(s<=-1.5707963705062866)?s:f*.01745329238474369+-1.5707963705062866;h=!(a>=1.5707963705062866)?a:1.5707963705062866-f*.01745329238474369;if(p>h){I=1;O=1;s=1.5707963705062866-f*.01745329238474369;p=f*.01745329238474369+-1.5707963705062866}else{I=!(s<=-1.5707963705062866)^1;O=!(a>=1.5707963705062866)^1;s=h}M=s-p;R=(~~(M/(f*.01745329238474369))|0)<1?2:~~(M/(f*.01745329238474369))+1|0;if(!(l>_)){if(!(_-l>=6.2831854820251465)){T=0;s=_}else{T=1;s=_}}else{T=1;s=3.1415927410125732;l=f*.01745329238474369+-3.1415927410125732}h=s-l;C=(~~(h/(f*.01745329238474369))|0)<1?2:~~(h/(f*.01745329238474369))+1|0;A=0;y=x+1184|0;v=x;while(1){if((A|0)>=(R|0))break;a=p+M/+(R+-1|0)*+(A|0);s=+HL(a)*r;a=+jL(a)*r;E=(A|0)==0;m=(A|0)==(R+-1|0);g=0;while(1){if((g|0)>=(C|0))break;_=l+h/+(C+-1|0)*+(g|0);f=+HL(_);_=a*+jL(_);tS(x+2400|0,_,+c[n>>2],+c[n+4>>2],+c[n+8>>2]);Eh(x+2416|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[x+2400>>2],+c[x+2400+4>>2],+c[x+2400+8>>2]);tS(x+2384|0,a*f,+c[x+2464>>2],+c[x+2464+4>>2],+c[x+2464+8>>2]);Eh(x+2432|0,+c[x+2416>>2],+c[x+2416+4>>2],+c[x+2416+8>>2],+c[x+2384>>2],+c[x+2384+4>>2],+c[x+2384+8>>2]);tS(x+2368|0,s,+c[i>>2],+c[i+4>>2],+c[i+8>>2]);Eh(x+2448|0,+c[x+2432>>2],+c[x+2432+4>>2],+c[x+2432+8>>2],+c[x+2368>>2],+c[x+2368+4>>2],+c[x+2368+8>>2]);b=v+(g<<4)|0;o[b>>2]=o[x+2448>>2];o[b+4>>2]=o[x+2448+4>>2];o[b+8>>2]=o[x+2448+8>>2];o[b+12>>2]=o[x+2448+12>>2];if(E){if(O)BF[o[(o[e>>2]|0)+8>>2]&127](e,x+2512|0,b,u)}else BF[o[(o[e>>2]|0)+8>>2]&127](e,y+(g<<4)|0,b,u);S=(g|0)==0;if(S){o[x+2480>>2]=o[v>>2];o[x+2480+4>>2]=o[v+4>>2];o[x+2480+8>>2]=o[v+8>>2];o[x+2480+12>>2]=o[v+12>>2]}else BF[o[(o[e>>2]|0)+8>>2]&127](e,v+(g+-1<<4)|0,b,u);if(m&I)BF[o[(o[e>>2]|0)+8>>2]&127](e,x+2544|0,b,u);do{if(d)if(T){if((g|0)!=(C+-1|0))break;BF[o[(o[e>>2]|0)+8>>2]&127](e,x+2480|0,v+(C+-1<<4)|0,u);break}else{if(!((E|m)&(S|(g|0)==(C+-1|0))))break;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,b,u);break}}while(0);g=g+1|0}S=v;A=A+1|0;v=y;y=S}ae=x;return}function Vr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,_=0,u=0.0,f=0,d=0,h=0,p=0,b=0,m=0,A=0.0,g=0.0;m=ae;ae=ae+80|0;h=o[e+4>>2]|0;YF[o[(o[h>>2]|0)+16>>2]&3](h,m+76|0,m+72|0,m+68|0,m+64|0,m+60|0,m+56|0,m+52|0,m+48|0,t);h=(o[m+60>>2]|0)+(O(o[m+56>>2]|0,i)|0)|0;b=o[e+4>>2]|0;p=(o[m+68>>2]|0)==0;d=o[m+76>>2]|0;if((o[m+48>>2]|0)==3){f=o[m+64>>2]|0;r=d+(O(f,a[h+4>>1]|0)|0)|0;if(p){_=r+8|0;s=+c[b+12>>2];u=+c[r>>2]*+c[b+4>>2];n=+c[r+4>>2]*+c[b+8>>2]}else{_=b+12|0;s=+l[r+16>>3];u=+c[b+4>>2]*+l[r>>3];n=+c[b+8>>2]*+l[r+8>>3]}s=+c[_>>2]*s;c[m+32>>2]=u;c[m+36>>2]=n;c[m+40>>2]=s;c[m+44>>2]=0.0;r=d+(O(f,a[h+2>>1]|0)|0)|0;if(p){_=r+8|0;s=+c[b+12>>2];u=+c[r>>2]*+c[b+4>>2];n=+c[r+4>>2]*+c[b+8>>2]}else{_=b+12|0;s=+l[r+16>>3];u=+c[b+4>>2]*+l[r>>3];n=+c[b+8>>2]*+l[r+8>>3]}s=+c[_>>2]*s;c[m+16>>2]=u;c[m+20>>2]=n;c[m+24>>2]=s;c[m+28>>2]=0.0;_=d+(O(f,a[h>>1]|0)|0)|0;if(p){r=_+8|0;s=+c[b+12>>2];u=+c[_>>2]*+c[b+4>>2];n=+c[_+4>>2]*+c[b+8>>2]}else{r=b+12|0;s=+l[_+16>>3];u=+c[b+4>>2]*+l[_>>3];n=+c[b+8>>2]*+l[_+8>>3]}A=u;u=+c[r>>2]*s;c[m>>2]=A;b=m+4|0;c[b>>2]=n;b=m+8|0;c[b>>2]=u;b=m+12|0;c[b>>2]=0.0;b=e+8|0;b=o[b>>2]|0;p=o[b>>2]|0;p=p+8|0;p=o[p>>2]|0;BF[p&127](b,m,t,i);e=o[e+4>>2]|0;i=o[e>>2]|0;i=i+24|0;i=o[i>>2]|0;xF[i&127](e,t);ae=m;return}else{f=o[m+64>>2]|0;r=d+(O(f,o[h+8>>2]|0)|0)|0;if(p){_=r+8|0;s=+c[b+12>>2];u=+c[r>>2]*+c[b+4>>2];n=+c[r+4>>2]*+c[b+8>>2]}else{_=b+12|0;s=+l[r+16>>3];u=+c[b+4>>2]*+l[r>>3];n=+c[b+8>>2]*+l[r+8>>3]}A=+c[_>>2]*s;c[m+32>>2]=u;c[m+36>>2]=n;c[m+40>>2]=A;c[m+44>>2]=0.0;r=d+(O(f,o[h+4>>2]|0)|0)|0;if(p){_=r+8|0;s=+c[b+12>>2];u=+c[r>>2]*+c[b+4>>2];n=+c[r+4>>2]*+c[b+8>>2]}else{_=b+12|0;s=+l[r+16>>3];u=+c[b+4>>2]*+l[r>>3];n=+c[b+8>>2]*+l[r+8>>3]}A=+c[_>>2]*s;c[m+16>>2]=u;c[m+20>>2]=n;c[m+24>>2]=A;c[m+28>>2]=0.0;_=d+(O(f,o[h>>2]|0)|0)|0;if(p){r=_+8|0;s=+c[b+12>>2];u=+c[_>>2]*+c[b+4>>2];n=+c[_+4>>2]*+c[b+8>>2]}else{r=b+12|0;s=+l[_+16>>3];u=+c[b+4>>2]*+l[_>>3];n=+c[b+8>>2]*+l[_+8>>3]}g=u;u=n;A=+c[r>>2]*s;c[m>>2]=g;b=m+4|0;c[b>>2]=u;b=m+8|0;c[b>>2]=A;b=m+12|0;c[b>>2]=0.0;b=e+8|0;b=o[b>>2]|0;p=o[b>>2]|0;p=p+8|0;p=o[p>>2]|0;BF[p&127](b,m,t,i);e=o[e+4>>2]|0;i=o[e>>2]|0;i=i+24|0;i=o[i>>2]|0;xF[i&127](e,t);ae=m;return}}function Gr(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0;$t(e,t+(i*284|0)|0,n);a=+c[t+(i*284|0)+52>>2];o=+c[t+(i*284|0)+56>>2];r=+c[t+(i*284|0)+60>>2];F=+c[t+(i*284|0)+76>>2];R=+c[t+(i*284|0)+72>>2];O=+c[t+(i*284|0)+68>>2];T=1.0/+v(+((R*-a-O*-o)*(R*-a-O*-o)+((F*-o-R*-r)*(F*-o-R*-r)+(O*-r-F*-a)*(O*-r-F*-a))));C=(F*-o-R*-r)*T;y=(O*-r-F*-a)*T;T=(R*-a-O*-o)*T;l=+c[t+(i*284|0)+232>>2]*.5;d=+S(+l)/+v(+(a*a+o*o+r*r));l=+E(+l);f=2.0/(l*l+(d*-r*(d*-r)+(d*-a*(d*-a)+d*-o*(d*-o))));w=1.0-(d*-o*(d*-o*f)+d*-r*(d*-r*f));D=d*-a*(d*-o*f)-l*(d*-r*f);L=d*-a*(d*-r*f)+l*(d*-o*f);x=d*-a*(d*-o*f)+l*(d*-r*f);I=1.0-(d*-a*(d*-a*f)+d*-r*(d*-r*f));P=d*-o*(d*-r*f)-l*(d*-a*f);u=d*-a*(d*-r*f)-l*(d*-o*f);l=d*-o*(d*-r*f)+l*(d*-a*f);f=1.0-(d*-a*(d*-a*f)+d*-o*(d*-o*f));d=+c[t+(i*284|0)+236>>2]*-.5;M=+S(+d)/+v(+(F*F+(R*R+O*O)));d=+E(+d);m=2.0/(d*d+(F*M*(F*M)+(O*M*(O*M)+R*M*(R*M))));h=1.0-(R*M*(R*M*m)+F*M*(F*M*m));_=O*M*(R*M*m)-d*(F*M*m);g=O*M*(F*M*m)+d*(R*M*m);p=O*M*(R*M*m)+d*(F*M*m);s=1.0-(O*M*(O*M*m)+F*M*(F*M*m));A=R*M*(F*M*m)-d*(O*M*m);b=O*M*(F*M*m)-d*(R*M*m);d=R*M*(F*M*m)+d*(O*M*m);m=1.0-(O*M*(O*M*m)+R*M*(R*M*m));M=+c[t+(i*284|0)+68>>2];R=+c[t+(i*284|0)+72>>2];O=+c[t+(i*284|0)+76>>2];c[t+(i*284|0)+92>>2]=O*(w*g+D*A+L*m)+(M*(L*b+(D*p+w*h))+R*(L*d+(w*_+D*s)));c[t+(i*284|0)+96>>2]=T*(w*g+D*A+L*m)+(C*(L*b+(D*p+w*h))+y*(L*d+(w*_+D*s)));c[t+(i*284|0)+100>>2]=(w*g+D*A+L*m)*-r+((L*b+(D*p+w*h))*-a+(L*d+(w*_+D*s))*-o);c[t+(i*284|0)+104>>2]=0.0;c[t+(i*284|0)+108>>2]=O*(x*g+A*I+P*m)+(M*(P*b+(p*I+x*h))+R*(P*d+(x*_+I*s)));c[t+(i*284|0)+112>>2]=T*(x*g+A*I+P*m)+(C*(P*b+(p*I+x*h))+y*(P*d+(x*_+I*s)));c[t+(i*284|0)+116>>2]=(x*g+A*I+P*m)*-r+((P*b+(p*I+x*h))*-a+(P*d+(x*_+I*s))*-o);c[t+(i*284|0)+120>>2]=0.0;c[t+(i*284|0)+124>>2]=O*(u*g+l*A+f*m)+(M*(b*f+(l*p+u*h))+R*(d*f+(u*_+l*s)));c[t+(i*284|0)+128>>2]=T*(u*g+l*A+f*m)+(C*(b*f+(l*p+u*h))+y*(d*f+(u*_+l*s)));c[t+(i*284|0)+132>>2]=(u*g+l*A+f*m)*-r+((b*f+(l*p+u*h))*-a+(d*f+(u*_+l*s))*-o);c[t+(i*284|0)+136>>2]=0.0;s=+c[t+(i*284|0)+32>>2];o=o*s+ +c[t+(i*284|0)+40>>2];r=r*s+ +c[t+(i*284|0)+44>>2];c[t+(i*284|0)+140>>2]=+c[t+(i*284|0)+36>>2]+a*s;c[t+(i*284|0)+144>>2]=o;c[t+(i*284|0)+148>>2]=r;c[t+(i*284|0)+152>>2]=0.0;return}function Wr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,u=0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0,g=0,y=0,v=0,C=0,E=0.0,S=0,T=0,R=0,M=0,O=0,I=0.0;O=ae;ae=ae+32|0;p=+c[t>>2];a=(c[_>>2]=p,o[_>>2]|0);A=p<999999984306749440.0?a:1566444395;h=+c[t+4>>2];u=(c[_>>2]=h,o[_>>2]|0);g=h<999999984306749440.0?u:1566444395;I=+c[t+8>>2];d=(c[_>>2]=I,o[_>>2]|0);v=I<999999984306749440.0?d:1566444395;m=+c[t+12>>2];E=m<0.0?m:0.0;a=p>-999999984306749440.0?a:-581039253;u=h>-999999984306749440.0?u:-581039253;d=I>-999999984306749440.0?d:-581039253;m=m>0.0?m:0.0;I=+c[t+16>>2];R=I<(o[_>>2]=A,+c[_>>2]);s=(c[_>>2]=I,o[_>>2]|0);A=R?s:A;h=+c[t+20>>2];R=h<(o[_>>2]=g,+c[_>>2]);l=(c[_>>2]=h,o[_>>2]|0);g=R?l:g;p=+c[t+24>>2];R=p<(o[_>>2]=v,+c[_>>2]);f=(c[_>>2]=p,o[_>>2]|0);v=R?f:v;b=+c[t+28>>2];E=b<E?b:E;C=I>(o[_>>2]=a,+c[_>>2])?s:a;y=h>(o[_>>2]=u,+c[_>>2])?l:u;u=p>(o[_>>2]=d,+c[_>>2])?f:d;m=m<b?b:m;I=+c[t+32>>2];R=I<(o[_>>2]=A,+c[_>>2]);s=(c[_>>2]=I,o[_>>2]|0);R=R?s:A;p=+c[t+36>>2];T=p<(o[_>>2]=g,+c[_>>2]);a=(c[_>>2]=p,o[_>>2]|0);T=T?a:g;b=+c[t+40>>2];S=b<(o[_>>2]=v,+c[_>>2]);l=(c[_>>2]=b,o[_>>2]|0);S=S?l:v;h=+c[t+44>>2];E=h<E?h:E;v=I>(o[_>>2]=C,+c[_>>2])?s:C;y=p>(o[_>>2]=y,+c[_>>2])?a:y;g=b>(o[_>>2]=u,+c[_>>2])?l:u;h=m<h?h:m;A=o[e+4>>2]|0;s=o[A+4>>2]|0;if((s|0)==(o[A+8>>2]|0)?(M=(s|0)==0?1:s<<1,(s|0)<(M|0)):0){if(!M)a=0;else{o[6747]=(o[6747]|0)+1;s=Do(M<<6|19)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[A+4>>2]|0}if((s|0)>0){l=0;do{u=a+(l<<6)|0;f=(o[A+12>>2]|0)+(l<<6)|0;d=u+64|0;do{o[u>>2]=o[f>>2];u=u+4|0;f=f+4|0}while((u|0)<(d|0));l=l+1|0}while((l|0)!=(s|0))}s=o[A+12>>2]|0;if(s|0){if(n[A+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[A+12>>2]=0}n[A+16>>0]=1;o[A+12>>2]=a;o[A+8>>2]=M;s=o[A+4>>2]|0}M=o[A+12>>2]|0;o[M+(s<<6)>>2]=R;o[M+(s<<6)+4>>2]=T;o[M+(s<<6)+8>>2]=S;c[M+(s<<6)+12>>2]=E;o[M+(s<<6)+16>>2]=v;o[M+(s<<6)+20>>2]=y;o[M+(s<<6)+24>>2]=g;c[M+(s<<6)+28>>2]=h;o[M+(s<<6)+32>>2]=-1;o[M+(s<<6)+36>>2]=i;o[M+(s<<6)+40>>2]=r;r=M+(s<<6)+44|0;o[r>>2]=o[O>>2];o[r+4>>2]=o[O+4>>2];o[r+8>>2]=o[O+8>>2];o[r+12>>2]=o[O+12>>2];o[r+16>>2]=o[O+16>>2];o[A+4>>2]=(o[A+4>>2]|0)+1;ae=O;return}function Xr(e,t){e=e|0;t=+t;var i=0,r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0,h=0,p=0,b=0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0;m=ae;ae=ae+32|0;i=o[e+136>>2]|0;if((i|0)>0){r=0;do{Gr(o[e+116>>2]|0,o[e+144>>2]|0,r,0);r=r+1|0;i=o[e+136>>2]|0}while((r|0)<(i|0))}b=o[e+116>>2]|0;u=+c[b+312>>2];f=+c[b+316>>2];s=+c[b+320>>2];s=+v(+(u*u+f*f+s*s))*3.5999999046325684;c[e+112>>2]=s;p=o[e+128>>2]|0;if(+c[b+4+(p<<2)>>2]*+c[b+312>>2]+ +c[b+20+(p<<2)>>2]*+c[b+316>>2]+ +c[b+36+(p<<2)>>2]*+c[b+320>>2]<0.0)c[e+112>>2]=-s;if((i|0)>0){i=0;do{+be(e,(o[e+144>>2]|0)+(i*284|0)|0);i=i+1|0;r=o[e+136>>2]|0}while((i|0)<(r|0));a=1.0/+c[(o[e+116>>2]|0)+344>>2];if((r|0)>0){r=0;do{i=o[e+144>>2]|0;if(!(n[i+(r*284|0)+84>>0]|0))s=0.0;else{s=+c[i+(r*284|0)+272>>2];s=a*(+c[i+(r*284|0)+216>>2]*(+c[i+(r*284|0)+204>>2]-+c[i+(r*284|0)+32>>2])*+c[i+(r*284|0)+268>>2]-s*+c[(s<0.0?i+(r*284|0)+220|0:i+(r*284|0)+224|0)>>2]);s=s<0.0?0.0:s}c[i+(r*284|0)+276>>2]=s;r=r+1|0;i=o[e+136>>2]|0}while((r|0)<(i|0));if((i|0)>0){i=0;do{p=o[e+144>>2]|0;_=+c[p+(i*284|0)+276>>2];f=+c[p+(i*284|0)+248>>2];_=_>f?f:_;f=_*+c[p+(i*284|0)+4>>2]*t;u=_*+c[p+(i*284|0)+8>>2]*t;c[m+16>>2]=+c[p+(i*284|0)>>2]*_*t;c[m+16+4>>2]=f;c[m+16+8>>2]=u;c[m+16+12>>2]=0.0;b=o[e+116>>2]|0;u=+c[p+(i*284|0)+20>>2]-+c[b+56>>2];f=+c[p+(i*284|0)+24>>2]-+c[b+60>>2];c[m>>2]=+c[p+(i*284|0)+16>>2]-+c[b+52>>2];c[m+4>>2]=u;c[m+8>>2]=f;c[m+12>>2]=0.0;El(b,m+16|0,m);i=i+1|0}while((i|0)<(o[e+136>>2]|0))}}}TF[o[(o[e>>2]|0)+20>>2]&31](e,t);d=o[e+136>>2]|0;if((d|0)<=0){ae=m;return}h=o[e+144>>2]|0;p=o[e+116>>2]|0;b=0;do{_=+c[h+(b*284|0)+36>>2]-+c[p+52>>2];f=+c[h+(b*284|0)+40>>2]-+c[p+56>>2];u=+c[h+(b*284|0)+44>>2]-+c[p+60>>2];s=+c[p+332>>2];a=+c[p+336>>2];l=+c[p+328>>2];if(!(n[h+(b*284|0)+84>>0]|0)){i=h+(b*284|0)+240|0;l=+c[i>>2];r=h+(b*284|0)+236|0;s=l;a=+c[r>>2]}else{i=o[e+128>>2]|0;S=+c[p+4+(i<<2)>>2];C=+c[p+20+(i<<2)>>2];g=+c[p+36+(i<<2)>>2];E=+c[h+(b*284|0)>>2];y=+c[h+(b*284|0)+4>>2];A=+c[h+(b*284|0)+8>>2];l=((f*l-_*s+ +c[p+320>>2])*(g-A*(S*E+C*y+g*A))+((s*u-f*a+ +c[p+312>>2])*(S-E*(S*E+C*y+g*A))+(_*a-u*l+ +c[p+316>>2])*(C-y*(S*E+C*y+g*A))))*t/+c[h+(b*284|0)+212>>2];i=h+(b*284|0)+240|0;c[i>>2]=l;r=h+(b*284|0)+236|0;s=+c[r>>2];a=l}c[r>>2]=s+a;c[i>>2]=l*.9900000095367432;b=b+1|0}while((b|0)!=(d|0));ae=m;return}function zr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;var s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0;d=ae;ae=ae+16|0;a=+c[t>>2];l=+c[t+4>>2];_=+c[t+8>>2];u=+c[i>>2];f=+c[i+4>>2];s=+c[i+8>>2];if(!(n[e+228>>0]|0)){S=+c[e+100>>2];v=+c[e+116>>2];M=+c[e+132>>2];E=+c[e+104>>2];g=+c[e+120>>2];R=+c[e+136>>2];C=+c[e+108>>2];m=+c[e+124>>2];T=+c[e+140>>2];x=-+c[e+148>>2];I=-+c[e+152>>2];O=-+c[e+156>>2];L=+c[e+164>>2];w=+c[e+168>>2];b=+c[e+172>>2];D=+c[e+180>>2];P=+c[e+184>>2];p=+c[e+188>>2];y=+c[e+196>>2];A=+c[e+200>>2];h=+c[e+204>>2];b=s*(M*L+R*w+T*b)+(u*(S*L+E*w+C*b)+f*(v*L+g*w+m*b))+(L*(S*x+v*I+M*O)+(E*x+g*I+R*O)*w+(C*x+m*I+T*O)*b+ +c[e+212>>2]);p=s*(M*D+R*P+T*p)+(u*(S*D+E*P+C*p)+f*(v*D+g*P+m*p))+((S*x+v*I+M*O)*D+(E*x+g*I+R*O)*P+(C*x+m*I+T*O)*p+ +c[e+216>>2]);h=(S*x+v*I+M*O)*y+(E*x+g*I+R*O)*A+(C*x+m*I+T*O)*h+ +c[e+220>>2]+(s*(M*y+R*A+T*h)+(u*(S*y+E*A+C*h)+f*(v*y+g*A+m*h)));c[d>>2]=b;c[d+4>>2]=p;c[d+8>>2]=h;r=a*(a*r+u-b)+l*(l*r+f-p)+_*(_*r+s-h);i=d+12|0;c[i>>2]=0.0;e=e+32|0;e=o[e>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;FF[i&15](e,t,d,r);ae=d;return}else{S=+c[e+36>>2];M=+c[e+52>>2];v=+c[e+68>>2];T=+c[e+40>>2];I=+c[e+56>>2];C=+c[e+72>>2];R=+c[e+44>>2];P=+c[e+60>>2];E=+c[e+76>>2];A=-+c[e+84>>2];g=-+c[e+88>>2];y=-+c[e+92>>2];h=+c[e+164>>2];p=+c[e+168>>2];D=+c[e+172>>2];b=+c[e+180>>2];m=+c[e+184>>2];w=+c[e+188>>2];O=+c[e+196>>2];x=+c[e+200>>2];L=+c[e+204>>2];D=(_*r+s)*(v*h+C*p+E*D)+((a*r+u)*(S*h+T*p+R*D)+(l*r+f)*(M*h+I*p+P*D))+(h*(S*A+M*g+v*y)+(T*A+I*g+C*y)*p+(R*A+P*g+E*y)*D+ +c[e+212>>2]);w=(_*r+s)*(v*b+C*m+E*w)+((a*r+u)*(S*b+T*m+R*w)+(l*r+f)*(M*b+I*m+P*w))+((S*A+M*g+v*y)*b+(T*A+I*g+C*y)*m+(R*A+P*g+E*y)*w+ +c[e+216>>2]);L=(S*A+M*g+v*y)*O+(T*A+I*g+C*y)*x+(R*A+P*g+E*y)*L+ +c[e+220>>2]+((_*r+s)*(v*O+C*x+E*L)+((a*r+u)*(S*O+T*x+R*L)+(l*r+f)*(M*O+I*x+P*L)));c[d>>2]=D+a*(a*(D-u)+l*(w-f)+_*(L-s));c[d+4>>2]=w+l*(a*(D-u)+l*(w-f)+_*(L-s));c[d+8>>2]=L+_*(a*(D-u)+l*(w-f)+_*(L-s));L=a*(D-u)+l*(w-f)+_*(L-s);i=d+12|0;c[i>>2]=0.0;e=e+32|0;e=o[e>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;FF[i&15](e,t,d,L);ae=d;return}}function Yr(e,t,i,r,s,a,l,u){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;u=u|0;var f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0,g=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0;o[e+4>>2]=4;o[e+8>>2]=-1;o[e+12>>2]=-1;c[e+16>>2]=3402823466385288598117041.0e14;n[e+20>>0]=1;n[e+21>>0]=0;o[e+24>>2]=-1;o[e+28>>2]=t;o[e+32>>2]=i;c[e+36>>2]=0.0;c[e+40>>2]=.30000001192092896;o[e+44>>2]=0;o[e>>2]=5820;c[e+688>>2]=0.0;c[e+692>>2]=-1.0;c[e+696>>2]=.8999999761581421;c[e+700>>2]=.30000001192092896;c[e+704>>2]=1.0;c[e+708>>2]=0.0;c[e+712>>2]=0.0;n[e+716>>0]=0;n[e+736>>0]=0;n[e+737>>0]=0;n[e+738>>0]=0;n[e+739>>0]=1;n[e+740>>0]=u&1;o[e+748>>2]=0;o[e+600>>2]=o[r>>2];o[e+600+4>>2]=o[r+4>>2];o[e+600+8>>2]=o[r+8>>2];o[e+600+12>>2]=o[r+12>>2];h=+c[t+4>>2];p=+c[t+20>>2];f=+c[t+36>>2];b=+c[a>>2];m=+c[a+4>>2];d=+c[a+8>>2];do{if(!(h*b+p*m+f*d>=.9999998807907104)){if(!(h*b+p*m+f*d<=-.9999998807907104)){A=(c[_>>2]=f*m-p*d,o[_>>2]|0);r=(c[_>>2]=h*d-f*b,o[_>>2]|0);T=d*(h*d-f*b)-m*(p*b-h*m);R=b*(p*b-h*m)-d*(f*m-p*d);S=m*(f*m-p*d)-b*(h*d-f*b);i=(c[_>>2]=p*b-h*m,o[_>>2]|0);break}else{T=+c[t+12>>2];R=+c[t+28>>2];S=+c[t+44>>2];A=o[t+8>>2]|0;i=o[t+40>>2]|0;r=o[t+24>>2]|0;break}}else{T=-+c[t+12>>2];R=-+c[t+28>>2];S=-+c[t+44>>2];A=o[t+8>>2]|0;i=o[t+40>>2]|0;r=o[t+24>>2]|0}}while(0);c[e+552>>2]=T;o[e+556>>2]=A;o[e+560>>2]=o[a>>2];c[e+564>>2]=0.0;c[e+568>>2]=R;o[e+572>>2]=r;o[e+576>>2]=o[a+4>>2];c[e+580>>2]=0.0;c[e+584>>2]=S;o[e+588>>2]=i;o[e+592>>2]=o[a+8>>2];c[e+596>>2]=0.0;f=+c[a+4>>2];g=+c[l+8>>2];p=+c[a+8>>2];C=+c[l+4>>2];E=+c[l>>2];d=+c[a>>2];do{if(g*p+(f*C+E*d)<-.9999998807907104){if(+y(+p)>.7071067690849304){d=1.0/+v(+(f*f+p*p));b=0.0;m=f*d;h=0.0;f=-(p*d);break}else{p=1.0/+v(+(f*f+d*d));b=0.0;m=0.0;h=-(f*p);f=d*p;break}}else{M=+v(+((g*p+(f*C+E*d)+1.0)*2.0));b=M*.5;m=(C*d-f*E)*(1.0/M);h=(f*g-p*C)*(1.0/M);f=(p*E-g*d)*(1.0/M)}}while(0);I=T*b+S*f-R*m;p=R*b+T*m-S*h;d=S*b+R*h-T*f;O=-(T*h)-R*f-S*m;T=-h;h=-f;S=-m;M=p*S+(b*I+O*T)-d*h;R=d*T+(b*p+O*h)-I*S;T=I*h+(O*S+b*d)-p*T;o[e+664>>2]=o[s>>2];o[e+664+4>>2]=o[s+4>>2];o[e+664+8>>2]=o[s+8>>2];o[e+664+12>>2]=o[s+12>>2];c[e+616>>2]=M;c[e+620>>2]=C*T-g*R;o[e+624>>2]=o[l>>2];c[e+628>>2]=0.0;c[e+632>>2]=R;c[e+636>>2]=g*M-E*T;o[e+640>>2]=o[l+4>>2];c[e+644>>2]=0.0;c[e+648>>2]=T;c[e+652>>2]=E*R-C*M;o[e+656>>2]=o[l+8>>2];c[e+660>>2]=0.0;c[e+732>>2]=u?-1.0:1.0;return}function Qr(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0;h=ae;ae=ae+16|0;La(14723);l=o[e+204>>2]|0;LF[o[(o[l>>2]|0)+8>>2]&127](l,e,o[e+24>>2]|0);l=o[e+308>>2]|0;if((l|0)>0){_=o[e+316>>2]|0;u=0;do{i=o[_+(u<<2)>>2]|0;t=o[i+740>>2]|0;i=o[i+744>>2]|0;if((t|0?i|0?(o[t+204>>2]&3|0)==0:0:0)?(o[i+204>>2]&3|0)==0:0){r=o[t+208>>2]|0;t=o[i+208>>2]|0;a=o[(o[e+204>>2]|0)+16>>2]|0;i=o[a+(r<<3)>>2]|0;if((i|0)!=(r|0)){o[a+(r<<3)>>2]=o[a+(i<<3)>>2];r=o[a+(i<<3)>>2]|0;i=o[a+(r<<3)>>2]|0;if((r|0)!=(i|0)){s=a+(r<<3)|0;do{r=a+(i<<3)|0;o[s>>2]=o[r>>2];r=o[r>>2]|0;s=a+(r<<3)|0;i=o[s>>2]|0}while((r|0)!=(i|0))}}i=o[a+(t<<3)>>2]|0;if((i|0)!=(t|0)){o[a+(t<<3)>>2]=o[a+(i<<3)>>2];t=o[a+(i<<3)>>2]|0;i=o[a+(t<<3)>>2]|0;if((t|0)!=(i|0)){s=a+(t<<3)|0;do{t=a+(i<<3)|0;o[s>>2]=o[t>>2];t=o[t>>2]|0;s=a+(t<<3)|0;i=o[s>>2]|0}while((t|0)!=(i|0))}}if((r|0)!=(t|0)){o[a+(r<<3)>>2]=t;s=a+(t<<3)+4|0;o[s>>2]=(o[s>>2]|0)+(o[a+(r<<3)+4>>2]|0)}}u=u+1|0}while((u|0)!=(l|0))}l=o[e+212>>2]|0;if((l|0)>0){_=o[e+220>>2]|0;u=0;do{t=o[_+(u<<2)>>2]|0;if((n[t+20>>0]|0?(f=o[t+28>>2]|0,(o[f+204>>2]&3|0)==0):0)?(d=o[t+32>>2]|0,(o[d+204>>2]&3|0)==0):0){i=o[f+208>>2]|0;t=o[d+208>>2]|0;a=o[(o[e+204>>2]|0)+16>>2]|0;r=o[a+(i<<3)>>2]|0;if((r|0)!=(i|0)){o[a+(i<<3)>>2]=o[a+(r<<3)>>2];i=o[a+(r<<3)>>2]|0;r=o[a+(i<<3)>>2]|0;if((i|0)!=(r|0)){s=a+(i<<3)|0;do{i=a+(r<<3)|0;o[s>>2]=o[i>>2];i=o[i>>2]|0;s=a+(i<<3)|0;r=o[s>>2]|0}while((i|0)!=(r|0))}}r=o[a+(t<<3)>>2]|0;if((r|0)!=(t|0)){o[a+(t<<3)>>2]=o[a+(r<<3)>>2];t=o[a+(r<<3)>>2]|0;r=o[a+(t<<3)>>2]|0;if((t|0)!=(r|0)){s=a+(t<<3)|0;do{t=a+(r<<3)|0;o[s>>2]=o[t>>2];t=o[t>>2]|0;s=a+(t<<3)|0;r=o[s>>2]|0}while((t|0)!=(r|0))}}if((i|0)!=(t|0)){o[a+(i<<3)>>2]=t;s=a+(t<<3)+4|0;o[s>>2]=(o[s>>2]|0)+(o[a+(i<<3)+4>>2]|0)}}u=u+1|0}while((u|0)!=(l|0))}t=o[e+204>>2]|0;xF[o[(o[t>>2]|0)+12>>2]&127](t,e);t=o[2685]|0;e=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=e;if(e|0){ae=h;return}do{if(o[t+4>>2]|0){$(h|0,0)|0;e=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[h+4>>2]|0)-(o[e+4>>2]|0)+(((o[h>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=h;return}}}while(0);o[2685]=o[t+20>>2];ae=h;return}function Kr(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;var s=0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,y=0,v=0.0,C=0.0,E=0,S=0;g=ae;ae=ae+192|0;a=o[(o[e+4>>2]|0)+740>>2]|0;l=o[(o[e+8>>2]|0)+8>>2]|0;_=+c[i>>2];d=+c[t>>2]*r+_;u=+c[i+4>>2];p=+c[t+4>>2]*r+u;f=+c[i+8>>2];h=+c[t+8>>2]*r+f;if((a|0)!=(l|0)){y=o[(o[e+12>>2]|0)+8>>2]|0;C=d-+c[y+52>>2];v=p-+c[y+56>>2];A=h-+c[y+60>>2];s=l;b=C*+c[y+4>>2]+v*+c[y+20>>2]+A*+c[y+36>>2];m=C*+c[y+8>>2]+v*+c[y+24>>2]+A*+c[y+40>>2];A=C*+c[y+12>>2]+v*+c[y+28>>2]+A*+c[y+44>>2]}else{v=d-+c[a+52>>2];C=p-+c[a+56>>2];A=h-+c[a+60>>2];s=o[(o[e+12>>2]|0)+8>>2]|0;b=v*+c[a+4>>2]+C*+c[a+20>>2]+A*+c[a+36>>2];m=v*+c[a+8>>2]+C*+c[a+24>>2]+A*+c[a+40>>2];A=v*+c[a+12>>2]+C*+c[a+28>>2]+A*+c[a+44>>2]}_=_-+c[s+52>>2];u=u-+c[s+56>>2];C=f-+c[s+60>>2];f=_*+c[s+4>>2]+u*+c[s+20>>2]+C*+c[s+36>>2];v=_*+c[s+8>>2]+u*+c[s+24>>2]+C*+c[s+40>>2];C=_*+c[s+12>>2]+u*+c[s+28>>2]+C*+c[s+44>>2];c[g>>2]=b;c[g+4>>2]=m;c[g+8>>2]=A;c[g+12>>2]=0.0;c[g+16>>2]=f;c[g+20>>2]=v;c[g+24>>2]=C;c[g+28>>2]=0.0;o[g+64>>2]=o[t>>2];o[g+64+4>>2]=o[t+4>>2];o[g+64+8>>2]=o[t+8>>2];o[g+64+12>>2]=o[t+12>>2];c[g+80>>2]=r;c[g+84>>2]=0.0;c[g+88>>2]=0.0;c[g+92>>2]=0.0;o[g+112>>2]=0;n[g+116>>0]=0;o[g+120>>2]=0;o[g+120+4>>2]=0;o[g+120+8>>2]=0;o[g+120+12>>2]=0;o[g+120+16>>2]=0;o[g+120+20>>2]=0;o[g+120+24>>2]=0;o[g+120+28>>2]=0;c[g+48>>2]=d;c[g+52>>2]=p;c[g+56>>2]=h;c[g+60>>2]=0.0;o[g+32>>2]=o[i>>2];o[g+32+4>>2]=o[i+4>>2];o[g+32+8>>2]=o[i+8>>2];o[g+32+12>>2]=o[i+12>>2];if((a|0)!=(l|0)){y=e+24|0;s=e+28|0;i=e+16|0;E=e+20|0;y=o[y>>2]|0;s=o[s>>2]|0;i=o[i>>2]|0;E=o[E>>2]|0;t=g+96|0;o[t>>2]=E;t=g+100|0;o[t>>2]=i;t=g+104|0;o[t>>2]=s;t=g+108|0;o[t>>2]=y;t=e+12|0;S=(a|0)!=(l|0)?t:e+8|0;S=o[S>>2]|0;t=(a|0)!=(l|0)?e+8|0:t;t=o[t>>2]|0;e=e+32|0;e=o[e>>2]|0;l=o[e>>2]|0;l=l+12|0;l=o[l>>2]|0;+_F[l&1](e,g,S,E,s,t,i,y);ae=g;return}else{S=e+28|0;i=e+24|0;E=e+20|0;t=e+16|0;S=o[S>>2]|0;i=o[i>>2]|0;E=o[E>>2]|0;t=o[t>>2]|0;y=g+96|0;o[y>>2]=t;y=g+100|0;o[y>>2]=E;y=g+104|0;o[y>>2]=i;y=g+108|0;o[y>>2]=S;y=e+12|0;s=(a|0)!=(l|0)?y:e+8|0;s=o[s>>2]|0;y=(a|0)!=(l|0)?e+8|0:y;y=o[y>>2]|0;e=e+32|0;e=o[e>>2]|0;l=o[e>>2]|0;l=l+12|0;l=o[l>>2]|0;+_F[l&1](e,g,s,t,i,y,E,S);ae=g;return}}function Zr(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0,D=0.0,w=0.0,L=0.0;i=ae;ae=ae+96|0;_=+c[t>>2];u=+c[e+28>>2];E=+c[t+4>>2];S=+c[e+32>>2];T=+c[t+8>>2];R=+c[e+36>>2];M=+c[e+44>>2];O=+c[e+48>>2];I=+c[e+52>>2];x=+c[e+60>>2];f=+c[e+64>>2];d=+c[e+68>>2];h=+c[e+76>>2];p=+c[e+80>>2];b=+c[e+84>>2];c[i+80>>2]=_*u+E*S+T*R+h;c[i+80+4>>2]=_*M+E*O+T*I+p;c[i+80+8>>2]=_*x+E*f+T*d+b;c[i+80+12>>2]=0.0;m=+c[t+16>>2];A=+c[t+20>>2];g=+c[t+24>>2];c[i+64>>2]=h+(u*m+S*A+R*g);c[i+64+4>>2]=p+(M*m+O*A+I*g);c[i+64+8>>2]=b+(x*m+f*A+d*g);c[i+64+12>>2]=0.0;y=+c[t+32>>2];C=+c[t+36>>2];r=+c[t+40>>2];c[i+48>>2]=h+(u*y+S*C+R*r);c[i+48+4>>2]=p+(M*y+O*C+I*r);c[i+48+8>>2]=b+(x*y+f*C+d*r);c[i+48+12>>2]=0.0;s=(_*u+E*S+T*R+h+(h+(u*m+S*A+R*g))+(h+(u*y+S*C+R*r)))*.3333333432674408;a=(_*M+E*O+T*I+p+(p+(M*m+O*A+I*g))+(p+(M*y+O*C+I*r)))*.3333333432674408;l=(_*x+E*f+T*d+b+(b+(x*m+f*A+d*g))+(b+(x*y+f*C+d*r)))*.3333333432674408;c[i+32>>2]=s;c[i+32+4>>2]=a;c[i+32+8>>2]=l;c[i+32+12>>2]=0.0;t=o[e+8>>2]|0;if(!((dF[o[(o[t>>2]|0)+48>>2]&127](t)|0)&16384)){n=o[e+8>>2]|0;P=o[n>>2]|0;P=P+8|0;P=o[P>>2]|0;t=e+12|0;BF[P&127](n,i+80|0,i+64|0,t);n=o[e+8>>2]|0;P=o[n>>2]|0;P=P+8|0;P=o[P>>2]|0;BF[P&127](n,i+64|0,i+48|0,t);e=o[e+8>>2]|0;n=o[e>>2]|0;n=n+8|0;n=o[n>>2]|0;BF[n&127](e,i+48|0,i+80|0,t);ae=i;return}L=+c[i+80>>2];w=p+(M*m+O*A+I*g)-(_*M+E*O+T*I+p);D=b+(x*m+f*A+d*g)-(_*x+E*f+T*d+b);M=p+(M*y+O*C+I*r)-(_*M+E*O+T*I+p);T=b+(x*y+f*C+d*r)-(_*x+E*f+T*d+b);O=D*(h+(u*y+S*C+R*r)-L)-(h+(u*m+S*A+R*g)-L)*T;I=(h+(u*m+S*A+R*g)-L)*M-w*(h+(u*y+S*C+R*r)-L);x=1.0/+v(+(I*I+((w*T-D*M)*(w*T-D*M)+O*O)));o[i+16>>2]=1065353216;o[i+16+4>>2]=1065353216;o[i+16+8>>2]=0;c[i+16+12>>2]=0.0;t=o[e+8>>2]|0;n=o[(o[t>>2]|0)+8>>2]|0;c[i>>2]=(w*T-D*M)*x+s;c[i+4>>2]=O*x+a;c[i+8>>2]=I*x+l;c[i+12>>2]=0.0;BF[n&127](t,i+32|0,i,i+16|0);t=o[e+8>>2]|0;n=o[t>>2]|0;n=n+8|0;n=o[n>>2]|0;P=e+12|0;BF[n&127](t,i+80|0,i+64|0,P);t=o[e+8>>2]|0;n=o[t>>2]|0;n=n+8|0;n=o[n>>2]|0;BF[n&127](t,i+64|0,i+48|0,P);e=o[e+8>>2]|0;t=o[e>>2]|0;t=t+8|0;t=o[t>>2]|0;BF[t&127](e,i+48|0,i+80|0,P);ae=i;return}function Jr(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0;if(!((e|0)!=0&(t|0)!=0))return;o[6747]=(o[6747]|0)+1;n=Do(1043)|0;if(!n)n=0;else{o[(n+4+15&-16)+-4>>2]=n;n=n+4+15&-16}o[n>>2]=e;o[n+4>>2]=t;l=n;r=n;s=n;b=1;e=128;f=n;_=128;n=124;while(1){d=b+-1|0;h=o[f+(d<<3)>>2]|0;p=o[f+(d<<3)+4>>2]|0;if((d|0)>(n|0)){a=_<<1;do{if((_|0)<(a|0)&(e|0)<(a|0)){if(_){o[6747]=(o[6747]|0)+1;n=Do((_<<4|3)+16|0)|0;if(!n)e=0;else{o[(n+4+15&-16)+-4>>2]=n;e=n+4+15&-16}if((_|0)>0){n=0;do{r=f+(n<<3)|0;s=o[r+4>>2]|0;u=e+(n<<3)|0;o[u>>2]=o[r>>2];o[u+4>>2]=s;n=n+1|0}while((n|0)!=(_|0));t=e;n=e}else{t=e;n=e;m=13}}else{t=0;n=0;m=13}if((m|0)==13){m=0;if(!f){r=n;s=n;e=a;break}}if(!l){r=n;s=n;e=a}else{o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);r=n;s=n;e=a}}else{n=l;t=f}}while(0);l=n;u=e;_=a;a=a+-4|0}else{u=e;t=f;a=n}do{if((h|0)==(p|0)){if(!(o[h+40>>2]|0))n=d;else{p=o[h+36>>2]|0;o[t+(d<<3)>>2]=p;o[t+(d<<3)+4>>2]=p;p=o[h+40>>2]|0;n=b+1|0;o[t+(b<<3)>>2]=p;o[t+(b<<3)+4>>2]=p;p=o[h+40>>2]|0;o[t+(n<<3)>>2]=o[h+36>>2];o[t+(n<<3)+4>>2]=p;n=b+2|0}}else if(((((+c[h>>2]<=+c[p+16>>2]?+c[h+16>>2]>=+c[p>>2]:0)?+c[h+4>>2]<=+c[p+20>>2]:0)?+c[h+20>>2]>=+c[p+4>>2]:0)?+c[h+8>>2]<=+c[p+24>>2]:0)?+c[h+24>>2]>=+c[p+8>>2]:0){e=(o[p+40>>2]|0)!=0;if(!(o[h+40>>2]|0)){if(e){n=o[p+36>>2]|0;o[t+(d<<3)>>2]=h;o[t+(d<<3)+4>>2]=n;n=o[p+40>>2]|0;o[t+(b<<3)>>2]=h;o[t+(b<<3)+4>>2]=n;n=b+1|0;break}else{LF[o[(o[i>>2]|0)+8>>2]&127](i,h,p);n=d;break}}else{n=o[h+36>>2]|0;if(e){f=o[p+36>>2]|0;o[t+(d<<3)>>2]=n;o[t+(d<<3)+4>>2]=f;f=o[p+36>>2]|0;d=b+1|0;o[t+(b<<3)>>2]=o[h+40>>2];o[t+(b<<3)+4>>2]=f;f=o[p+40>>2]|0;n=b+2|0;o[t+(d<<3)>>2]=o[h+36>>2];o[t+(d<<3)+4>>2]=f;p=o[p+40>>2]|0;o[t+(n<<3)>>2]=o[h+40>>2];o[t+(n<<3)+4>>2]=p;n=b+3|0;break}else{o[t+(d<<3)>>2]=n;o[t+(d<<3)+4>>2]=p;o[t+(b<<3)>>2]=o[h+40>>2];o[t+(b<<3)+4>>2]=p;n=b+1|0;break}}}else n=d}while(0);if(!n)break;else{b=n;e=u;f=t;n=a}}if((t|0)==0|(r|0)==0)return;o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);return}function qr(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,C=0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0,F=0;F=ae;ae=ae+32|0;if(!e){ae=F;return}P=+c[i>>2]-+c[t>>2];D=+c[i+4>>2]-+c[t+4>>2];M=+c[i+8>>2]-+c[t+8>>2];R=1.0/+v(+(P*P+D*D+M*M));E=P*R==0.0?999999984306749440.0:1.0/(P*R);S=D*R==0.0?999999984306749440.0:1.0/(D*R);T=M*R==0.0?999999984306749440.0:1.0/(M*R);o[6747]=(o[6747]|0)+1;i=Do(531)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}_l(i+4|0,0,508)|0;o[i>>2]=e;A=i;h=i;p=i;C=1;e=128;y=i;f=128;u=126;while(1){b=C+-1|0;d=y+(b<<2)|0;g=o[d>>2]|0;o[F>>2]=o[g>>2];o[F+4>>2]=o[g+4>>2];o[F+8>>2]=o[g+8>>2];o[F+12>>2]=o[g+12>>2];o[F+16>>2]=o[g+16>>2];o[F+16+4>>2]=o[g+16+4>>2];o[F+16+8>>2]=o[g+16+8>>2];o[F+16+12>>2]=o[g+16+12>>2];a=+c[t>>2];s=E*(+c[F+((E<0.0&1)<<4)>>2]-a);a=E*(+c[F+(((E<0.0^1)&1)<<4)>>2]-a);_=+c[t+4>>2];l=S*(+c[F+((S<0.0&1)<<4)+4>>2]-_);_=S*(+c[F+(((S<0.0^1)&1)<<4)+4>>2]-_);do{if((!(l>a|s>_)?(O=l>s?l:s,w=_<a?_:a,x=+c[t+8>>2],I=T*(+c[F+((T<0.0&1)<<4)+8>>2]-x),x=T*(+c[F+(((T<0.0^1)&1)<<4)+8>>2]-x),!(I>w|O>x)):0)?(x<w?x:w)>0.0?(I>O?I:O)<M*(M*R)+(P*(P*R)+D*(D*R)):0:0){if(!(o[g+40>>2]|0)){xF[o[(o[n>>2]|0)+12>>2]&127](n,g);i=A;d=b;r=y;break}if((b|0)>(u|0)){m=f<<1;if((f|0)<(m|0)){do{if((e|0)<(m|0)){if(f){o[6747]=(o[6747]|0)+1;i=Do((f<<3|3)+16|0)|0;if(!i)e=0;else{o[(i+4+15&-16)+-4>>2]=i;e=i+4+15&-16}if((f|0)>0){i=0;do{o[e+(i<<2)>>2]=o[y+(i<<2)>>2];i=i+1|0}while((i|0)!=(f|0));r=e;i=e}else{r=e;i=e;L=18}}else{r=0;i=0;L=18}if((L|0)==18){L=0;if(!y){h=i;u=i;e=m;break}}if(!A){h=i;u=i;e=m}else{o[6748]=(o[6748]|0)+1;Vs(o[A+-4>>2]|0);h=i;u=i;e=m}}else{u=p;i=A;r=y}}while(0);_l(r+(f<<2)|0,0,f<<2|0)|0;d=r+(b<<2)|0;f=h}else{f=h;u=p;i=A;r=y}h=f;p=u;f=m;u=m+-2|0}else{i=A;r=y}o[d>>2]=o[g+36>>2];o[r+(C<<2)>>2]=o[g+40>>2];d=C+1|0}else{i=A;d=b;r=y}}while(0);if(!d)break;A=i;C=d;y=r}if((r|0)==0|(h|0)==0){ae=F;return}o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0);ae=F;return}function $r(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;o[e+4>>2]=6;o[e+8>>2]=-1;o[e+12>>2]=-1;c[e+16>>2]=3402823466385288598117041.0e14;n[e+20>>0]=1;n[e+21>>0]=0;o[e+24>>2]=-1;o[e+28>>2]=t;o[e+32>>2]=i;c[e+36>>2]=0.0;c[e+40>>2]=.30000001192092896;o[e+44>>2]=0;o[e>>2]=5492;o[e+48>>2]=o[r>>2];o[e+48+4>>2]=o[r+4>>2];o[e+48+8>>2]=o[r+8>>2];o[e+48+12>>2]=o[r+12>>2];o[e+64>>2]=o[r+16>>2];o[e+64+4>>2]=o[r+16+4>>2];o[e+64+8>>2]=o[r+16+8>>2];o[e+64+12>>2]=o[r+16+12>>2];o[e+80>>2]=o[r+32>>2];o[e+80+4>>2]=o[r+32+4>>2];o[e+80+8>>2]=o[r+32+8>>2];o[e+80+12>>2]=o[r+32+12>>2];o[e+96>>2]=o[r+48>>2];o[e+96+4>>2]=o[r+48+4>>2];o[e+96+8>>2]=o[r+48+8>>2];o[e+96+12>>2]=o[r+48+12>>2];o[e+112>>2]=o[s>>2];o[e+112+4>>2]=o[s+4>>2];o[e+112+8>>2]=o[s+8>>2];o[e+112+12>>2]=o[s+12>>2];o[e+128>>2]=o[s+16>>2];o[e+128+4>>2]=o[s+16+4>>2];o[e+128+8>>2]=o[s+16+8>>2];o[e+128+12>>2]=o[s+16+12>>2];o[e+144>>2]=o[s+32>>2];o[e+144+4>>2]=o[s+32+4>>2];o[e+144+8>>2]=o[s+32+8>>2];o[e+144+12>>2]=o[s+32+12>>2];o[e+160>>2]=o[s+48>>2];o[e+160+4>>2]=o[s+48+4>>2];o[e+160+8>>2]=o[s+48+8>>2];o[e+160+12>>2]=o[s+48+12>>2];r=e+680|0;s=r+48|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[e+740>>2]=0;o[e+740+4>>2]=0;o[e+740+8>>2]=0;o[e+740+12>>2]=0;o[e+756>>2]=1045220557;o[e+760>>2]=1045220557;o[e+764>>2]=1045220557;o[e+768>>2]=0;o[e+768+4>>2]=0;o[e+768+8>>2]=0;o[e+768+12>>2]=0;o[e+768+16>>2]=0;c[e+728>>2]=.699999988079071;c[e+732>>2]=1.0;c[e+736>>2]=.5;n[e+788>>0]=0;n[e+788+1>>0]=0;n[e+788+2>>0]=0;o[e+792>>2]=0;o[e+792+4>>2]=0;o[e+792+8>>2]=0;o[e+808>>2]=0;o[e+808+4>>2]=0;o[e+808+8>>2]=0;c[e+928>>2]=0.0;c[e+876>>2]=0.0;c[e+880>>2]=.10000000149011612;c[e+884>>2]=300.0;c[e+868>>2]=1.0;c[e+872>>2]=-1.0;c[e+896>>2]=0.0;c[e+900>>2]=.20000000298023224;c[e+904>>2]=0.0;c[e+908>>2]=0.0;c[e+888>>2]=1.0;c[e+892>>2]=.5;o[e+924>>2]=0;c[e+916>>2]=0.0;n[e+912>>0]=0;c[e+992>>2]=0.0;c[e+940>>2]=0.0;c[e+944>>2]=.10000000149011612;c[e+948>>2]=300.0;c[e+932>>2]=1.0;c[e+936>>2]=-1.0;c[e+960>>2]=0.0;c[e+964>>2]=.20000000298023224;c[e+968>>2]=0.0;c[e+972>>2]=0.0;c[e+952>>2]=1.0;c[e+956>>2]=.5;o[e+988>>2]=0;c[e+980>>2]=0.0;n[e+976>>0]=0;c[e+1056>>2]=0.0;c[e+1004>>2]=0.0;c[e+1008>>2]=.10000000149011612;c[e+1012>>2]=300.0;c[e+996>>2]=1.0;c[e+1e3>>2]=-1.0;c[e+1024>>2]=0.0;c[e+1028>>2]=.20000000298023224;c[e+1032>>2]=0.0;c[e+1036>>2]=0.0;c[e+1016>>2]=1.0;c[e+1020>>2]=.5;o[e+1052>>2]=0;c[e+1044>>2]=0.0;n[e+1040>>0]=0;n[e+1300>>0]=a&1;n[e+1301>>0]=1;o[e+1304>>2]=0;n[e+1308>>0]=0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);return}function eo(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0,a=0,l=0.0;e=ae;ae=ae+144|0;switch(o[t+388>>2]&15){case 1:{o[e+112>>2]=4428;s=o[i+8>>2]|0;s=(o[s+236>>2]&2|0)==0?0:s;a=o[i+12>>2]|0;l=+c[a+48>>2];n=+c[a+52>>2];r=+c[a+56>>2];r=+v(+((l-l)*(l-l)+(n-n)*(n-n)+(r-r)*(r-r)));a=o[t+192>>2]|0;n=+nF[o[(o[a>>2]|0)+48>>2]&15](a);a=o[i+4>>2]|0;BF[o[(o[a>>2]|0)+8>>2]&127](a,o[i+12>>2]|0,e+96|0,e+64|0);o[e>>2]=o[e+96>>2];o[e+4>>2]=o[e+96+4>>2];o[e+8>>2]=o[e+96+8>>2];o[e+12>>2]=o[e+96+12>>2];o[e+16>>2]=o[e+64>>2];o[e+16+4>>2]=o[e+64+4>>2];o[e+16+8>>2]=o[e+64+8>>2];o[e+16+12>>2]=o[e+64+12>>2];o[e+32>>2]=o[e>>2];o[e+32+4>>2]=o[e+4>>2];o[e+32+8>>2]=o[e+8>>2];o[e+32+12>>2]=o[e+12>>2];o[e+32+16>>2]=o[e+16>>2];o[e+32+20>>2]=o[e+20>>2];o[e+32+24>>2]=o[e+24>>2];o[e+32+28>>2]=o[e+28>>2];c[e+32>>2]=+c[e+32>>2]-n;c[e+32+4>>2]=+c[e+32+4>>2]-n;c[e+32+8>>2]=+c[e+32+8>>2]-n;c[e+32+16>>2]=n+ +c[e+32+16>>2];c[e+32+20>>2]=n+ +c[e+32+20>>2];c[e+32+24>>2]=n+ +c[e+32+24>>2];o[e+112+4>>2]=t;o[e+112+8>>2]=i;o[e+112+12>>2]=s;c[e+112+16>>2]=n+r;c[e+112+20>>2]=n;vo(o[t+928>>2]|0,e+32|0,e+112|0);ae=e;return}case 2:{c[e+4>>2]=1.0;o[e+8+4>>2]=0;o[e+8+4+4>>2]=0;o[e+8+4+8>>2]=0;o[e>>2]=4464;o[e+24>>2]=t;o[e+28>>2]=i;o[e+8>>2]=o[t+456>>2];a=o[i+4>>2]|0;l=+nF[o[(o[a>>2]|0)+48>>2]&15](a);a=o[t+192>>2]|0;l=l+ +nF[o[(o[a>>2]|0)+48>>2]&15](a);c[e+12>>2]=l;r=+c[(o[i+8>>2]|0)+224>>2];c[e+112>>2]=r;o[e+16>>2]=o[(+c[t+316>>2]<r?t+316|0:e+112|0)>>2];a=o[i+4>>2]|0;BF[o[(o[a>>2]|0)+8>>2]&127](a,o[i+12>>2]|0,e+112|0,e+96|0);o[e+32>>2]=o[e+112>>2];o[e+32+4>>2]=o[e+112+4>>2];o[e+32+8>>2]=o[e+112+8>>2];o[e+32+12>>2]=o[e+112+12>>2];o[e+32+16>>2]=o[e+96>>2];o[e+32+16+4>>2]=o[e+96+4>>2];o[e+32+16+8>>2]=o[e+96+8>>2];o[e+32+16+12>>2]=o[e+96+12>>2];o[e+64>>2]=o[e+32>>2];o[e+64+4>>2]=o[e+32+4>>2];o[e+64+8>>2]=o[e+32+8>>2];o[e+64+12>>2]=o[e+32+12>>2];o[e+64+16>>2]=o[e+32+16>>2];o[e+64+20>>2]=o[e+32+20>>2];o[e+64+24>>2]=o[e+32+24>>2];o[e+64+28>>2]=o[e+32+28>>2];c[e+64>>2]=+c[e+64>>2]-l;c[e+64+4>>2]=+c[e+64+4>>2]-l;c[e+64+8>>2]=+c[e+64+8>>2]-l;c[e+64+16>>2]=l+ +c[e+64+16>>2];c[e+64+20>>2]=l+ +c[e+64+20>>2];c[e+64+24>>2]=l+ +c[e+64+24>>2];vo(o[t+1048>>2]|0,e+64|0,e);ae=e;return}default:{ae=e;return}}}function to(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,a=0,c=0,l=0,_=0;o[t+16>>2]=o[e+20>>2];o[t+20>>2]=o[e+24>>2];o[t+24>>2]=o[e+28>>2];o[t+28>>2]=o[e+32>>2];o[t>>2]=o[e+4>>2];o[t+4>>2]=o[e+8>>2];o[t+8>>2]=o[e+12>>2];o[t+12>>2]=o[e+16>>2];o[t+32>>2]=o[e+36>>2];o[t+36>>2]=o[e+40>>2];o[t+40>>2]=o[e+44>>2];o[t+44>>2]=o[e+48>>2];o[t+48>>2]=o[e+56>>2];o[t+52>>2]=s[e+60>>0];_=o[e+88>>2]|0;o[t+56>>2]=_;if(_){_=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+96>>2]|0)|0;o[t+64>>2]=_;if(_|0){a=o[e+88>>2]|0;_=mF[o[(o[i>>2]|0)+16>>2]&63](i,48,a)|0;if((a|0)>0){n=o[e+96>>2]|0;c=0;l=o[_+8>>2]|0;while(1){o[l+16>>2]=o[n+(c<<6)+16>>2];o[l+20>>2]=o[n+(c<<6)+20>>2];o[l+24>>2]=o[n+(c<<6)+24>>2];o[l+28>>2]=o[n+(c<<6)+28>>2];o[l>>2]=o[n+(c<<6)>>2];o[l+4>>2]=o[n+(c<<6)+4>>2];o[l+8>>2]=o[n+(c<<6)+8>>2];o[l+12>>2]=o[n+(c<<6)+12>>2];o[l+32>>2]=o[n+(c<<6)+32>>2];o[l+36>>2]=o[n+(c<<6)+36>>2];o[l+40>>2]=o[n+(c<<6)+40>>2];c=c+1|0;if((c|0)==(a|0))break;else l=l+48|0}}else n=o[e+96>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,_,21211,1497453121,n)}}else o[t+64>>2]=0;_=o[e+128>>2]|0;o[t+60>>2]=_;if(_){_=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+136>>2]|0)|0;o[t+68>>2]=_;if(_|0){a=o[e+128>>2]|0;_=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,a)|0;if((a|0)>0){n=o[e+136>>2]|0;c=0;l=o[_+8>>2]|0;while(1){o[l+12>>2]=o[n+(c<<4)+12>>2];r[l+6>>1]=r[n+(c<<4)+6>>1]|0;r[l+8>>1]=r[n+(c<<4)+8>>1]|0;r[l+10>>1]=r[n+(c<<4)+10>>1]|0;r[l>>1]=r[n+(c<<4)>>1]|0;r[l+2>>1]=r[n+(c<<4)+2>>1]|0;r[l+4>>1]=r[n+(c<<4)+4>>1]|0;c=c+1|0;if((c|0)==(a|0))break;else l=l+16|0}}else n=o[e+136>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,_,21234,1497453121,n)}}else o[t+68>>2]=0;o[t+76>>2]=o[e+144>>2];_=o[e+152>>2]|0;o[t+80>>2]=_;if(!_){o[t+72>>2]=0;return 21278}_=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+160>>2]|0)|0;o[t+72>>2]=_;if(!_)return 21278;l=o[e+152>>2]|0;_=mF[o[(o[i>>2]|0)+16>>2]&63](i,20,l)|0;if((l|0)>0){n=o[e+160>>2]|0;a=0;c=o[_+8>>2]|0;while(1){r[c+14>>1]=r[n+(a<<5)+6>>1]|0;r[c+16>>1]=r[n+(a<<5)+8>>1]|0;r[c+18>>1]=r[n+(a<<5)+10>>1]|0;r[c+8>>1]=r[n+(a<<5)>>1]|0;r[c+10>>1]=r[n+(a<<5)+2>>1]|0;r[c+12>>1]=r[n+(a<<5)+4>>1]|0;o[c>>2]=o[n+(a<<5)+12>>2];o[c+4>>2]=o[n+(a<<5)+16>>2];a=a+1|0;if((a|0)==(l|0))break;else c=c+20|0}}else n=o[e+160>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,_,21257,1497453121,n);return 21278}function io(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0.0,a=0.0,l=0,_=0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0;r=o[e+748>>2]|0;if((r|0)<=0)return;do{_=r;r=r+-1|0;m=+c[e+4+(r*184|0)>>2];A=+c[e+4+(r*184|0)+4>>2];s=+c[e+4+(r*184|0)+8>>2];b=m*+c[t>>2]+A*+c[t+4>>2]+s*+c[t+8>>2]+ +c[t+48>>2];h=m*+c[t+16>>2]+A*+c[t+20>>2]+s*+c[t+24>>2]+ +c[t+52>>2];s=m*+c[t+32>>2]+A*+c[t+36>>2]+s*+c[t+40>>2]+ +c[t+56>>2];c[e+4+(r*184|0)+48>>2]=b;c[e+4+(r*184|0)+52>>2]=h;c[e+4+(r*184|0)+56>>2]=s;c[e+4+(r*184|0)+60>>2]=0.0;A=+c[e+4+(r*184|0)+16>>2];m=+c[e+4+(r*184|0)+20>>2];a=+c[e+4+(r*184|0)+24>>2];p=A*+c[i>>2]+m*+c[i+4>>2]+a*+c[i+8>>2]+ +c[i+48>>2];d=A*+c[i+16>>2]+m*+c[i+20>>2]+a*+c[i+24>>2]+ +c[i+52>>2];a=A*+c[i+32>>2]+m*+c[i+36>>2]+a*+c[i+40>>2]+ +c[i+56>>2];c[e+4+(r*184|0)+32>>2]=p;c[e+4+(r*184|0)+36>>2]=d;c[e+4+(r*184|0)+40>>2]=a;c[e+4+(r*184|0)+44>>2]=0.0;c[e+4+(r*184|0)+80>>2]=(b-p)*+c[e+4+(r*184|0)+64>>2]+(h-d)*+c[e+4+(r*184|0)+68>>2]+(s-a)*+c[e+4+(r*184|0)+72>>2];l=e+4+(r*184|0)+148|0;o[l>>2]=(o[l>>2]|0)+1}while((_|0)>1);r=o[e+748>>2]|0;if((r|0)<=0)return;do{_=r;r=r+-1|0;l=e+4+(r*184|0)|0;s=+c[e+4+(r*184|0)+80>>2];a=+c[e+752>>2];do{if(!(s<=a)){i=e+4+(r*184|0)+112|0;t=o[i>>2]|0;if(t|0?(u=o[6719]|0,u|0):0){dF[u&127](t)|0;o[i>>2]=0}t=(o[e+748>>2]|0)+-1|0;if((t|0)==(r|0))t=r;else{Tn(l|0,e+4+(t*184|0)|0,184)|0;o[e+4+(t*184|0)+112>>2]=0;c[e+4+(t*184|0)+120>>2]=0.0;n[e+4+(t*184|0)+116>>0]=0;c[e+4+(t*184|0)+124>>2]=0.0;c[e+4+(t*184|0)+128>>2]=0.0;o[e+4+(t*184|0)+148>>2]=0;t=(o[e+748>>2]|0)+-1|0}o[e+748>>2]=t}else{b=+c[e+4+(r*184|0)+32>>2]-(+c[e+4+(r*184|0)+48>>2]-+c[e+4+(r*184|0)+64>>2]*s);m=+c[e+4+(r*184|0)+36>>2]-(+c[e+4+(r*184|0)+52>>2]-s*+c[e+4+(r*184|0)+68>>2]);A=+c[e+4+(r*184|0)+40>>2]-(+c[e+4+(r*184|0)+56>>2]-s*+c[e+4+(r*184|0)+72>>2]);if(!(b*b+m*m+A*A>a*a)){t=o[6720]|0;if(!t)break;mF[t&63](l,o[e+740>>2]|0,o[e+744>>2]|0)|0;break}i=e+4+(r*184|0)+112|0;t=o[i>>2]|0;if(t|0?(f=o[6719]|0,f|0):0){dF[f&127](t)|0;o[i>>2]=0}t=(o[e+748>>2]|0)+-1|0;if((t|0)==(r|0))t=r;else{Tn(l|0,e+4+(t*184|0)|0,184)|0;o[e+4+(t*184|0)+112>>2]=0;c[e+4+(t*184|0)+120>>2]=0.0;n[e+4+(t*184|0)+116>>0]=0;c[e+4+(t*184|0)+124>>2]=0.0;c[e+4+(t*184|0)+128>>2]=0.0;o[e+4+(t*184|0)+148>>2]=0;t=(o[e+748>>2]|0)+-1|0}o[e+748>>2]=t}}while(0)}while((_|0)>1);return}function no(e,t,i,n,s){e=e|0;t=t|0;i=i|0;n=n|0;s=s|0;var l=0,_=0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0,g=0.0,y=0.0,v=0.0,C=0.0,E=0,S=0,T=0,R=0,M=0,O=0,I=0,x=0;o[t+16>>2]=o[i>>2];o[t+16+4>>2]=o[i+4>>2];o[t+16+8>>2]=o[i+8>>2];o[t+16+12>>2]=o[i+12>>2];o[t+32>>2]=o[n>>2];o[t+32+4>>2]=o[n+4>>2];o[t+32+8>>2]=o[n+8>>2];o[t+32+12>>2]=o[n+12>>2];M=o[e+60>>2]|0;I=o[t+12>>2]&65535;b=+c[e+8>>2];g=+c[e+12>>2];C=+c[e+16>>2];m=+c[e+40>>2];d=(+c[i>>2]-b)*m;y=+c[e+44>>2];h=(+c[i+4>>2]-g)*y;v=+c[e+48>>2];p=(+c[i+8>>2]-C)*v;if(!(d<=0.0)){T=r[e+6>>1]|0;T=r[e+4>>1]&(!(d>=+(T&65535))?~~d&65535:T)}else T=0;if(!(h<=0.0)){R=r[e+6>>1]|0;R=r[e+4>>1]&(!(h>=+(R&65535))?~~h&65535:R)}else R=0;if(!(p<=0.0)){O=r[e+6>>1]|0;O=r[e+4>>1]&(!(p>=+(O&65535))?~~p&65535:O)}else O=0;p=(+c[n>>2]-b)*m;h=(+c[n+4>>2]-g)*y;d=(+c[n+8>>2]-C)*v;if(!(p<=0.0)){A=r[e+6>>1]|0;A=r[e+4>>1]&(!(p>=+(A&65535))?~~p&65535:A)|1}else A=1;if(!(h<=0.0)){E=r[e+6>>1]|0;E=r[e+4>>1]&(!(h>=+(E&65535))?~~h&65535:E)|1}else E=1;if(!(d<=0.0)){S=r[e+6>>1]|0;S=r[e+4>>1]&(!(d>=+(S&65535))?~~d&65535:S)|1}else S=1;l=r[M+(I<<6)+48>>1]|0;_=r[M+(I<<6)+54>>1]|0;x=o[e+68>>2]|0;u=(T&65535)-(a[x+((l&65535)<<2)>>1]|0)|0;f=(A&65535)-(a[x+((_&65535)<<2)>>1]|0)|0;r[x+((l&65535)<<2)>>1]=T;r[x+((_&65535)<<2)>>1]=A;if((u|0)<0)Li(e,0,l);if((f|0)>0)Pi(e,0,_);if((u|0)>0)Ii(e,0,l,s);if((f|0)<0)Oi(e,0,_,s);l=r[M+(I<<6)+50>>1]|0;_=r[M+(I<<6)+56>>1]|0;x=o[e+72>>2]|0;u=(R&65535)-(a[x+((l&65535)<<2)>>1]|0)|0;f=(E&65535)-(a[x+((_&65535)<<2)>>1]|0)|0;r[x+((l&65535)<<2)>>1]=R;r[x+((_&65535)<<2)>>1]=E;if((u|0)<0)Li(e,1,l);if((f|0)>0)Pi(e,1,_);if((u|0)>0)Ii(e,1,l,s);if((f|0)<0)Oi(e,1,_,s);f=r[M+(I<<6)+52>>1]|0;l=r[M+(I<<6)+58>>1]|0;x=o[e+76>>2]|0;_=(O&65535)-(a[x+((f&65535)<<2)>>1]|0)|0;u=(S&65535)-(a[x+((l&65535)<<2)>>1]|0)|0;r[x+((f&65535)<<2)>>1]=O;r[x+((l&65535)<<2)>>1]=S;if((_|0)<0)Li(e,2,f);if((u|0)>0)Pi(e,2,l);if((_|0)>0)Ii(e,2,f,s);if((u|0)<0)Oi(e,2,l,s);l=o[e+108>>2]|0;if(!l)return;jF[o[(o[l>>2]|0)+16>>2]&31](l,o[t+60>>2]|0,i,n,s);return}function ro(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0;T=+c[e+452>>2];g=+c[e+304>>2];m=+c[e+300>>2];if(g>0.0|m>0.0)r=(o[e+288>>2]|0)<4;else r=0;x=o[e+720>>2]|0;O=+c[x+(i*104|0)+88>>2];if(!(O>0.0))return;h=o[o[e+684>>2]>>2]|0;if(!r)return;I=+c[x+(i*104|0)+40>>2];f=I-+c[t>>2];R=+c[x+(i*104|0)+44>>2];d=R-+c[t+4>>2];M=+c[x+(i*104|0)+48>>2];u=M-+c[t+8>>2];l=+v(+(f*f+d*d+u*u));if(!(f*f+d*d+u*u>1.1920928955078125e-07))return;y=f*(1.0/l);E=d*(1.0/l);S=u*(1.0/l);b=+c[x+(i*104|0)+72>>2];A=+c[x+(i*104|0)+76>>2];C=+c[x+(i*104|0)+80>>2];switch(o[e+288>>2]|0){case 2:{p=f*b+d*A+u*C<0.0?-1.0:1.0;s=S*(C*p)+(y*(b*p)+E*(A*p));a=+c[x+(i*104|0)+92>>2]*.5;n=(o[_>>2]=h,+c[_>>2]);d=s*(m*.5*n*(f*f+d*d+u*u)*a);if(s>0.0&s<.9847999811172485){l=+v(+(1.0-s*s))*(g*.5*n*l*a);u=(S*(y*(C*p)-S*(b*p))-E*(E*(b*p)-y*(A*p)))*l;f=(y*(E*(b*p)-y*(A*p))-S*(S*(A*p)-E*(C*p)))*l;l=(E*(S*(A*p)-E*(C*p))-y*(y*(C*p)-S*(b*p)))*l}else{u=0.0;f=0.0;l=0.0}n=T*(O*-(S*d))*(T*(O*-(S*d)))+(T*(O*-(y*d))*(T*(O*-(y*d)))+T*(O*-(E*d))*(T*(O*-(E*d))));if(n>0.0?n>=I*I+R*R+M*M:0){n=+v(+(I*I+R*R+M*M))/+v(+n)*.800000011920929;a=n*-(y*d);s=n*-(S*d);n=n*-(E*d)}else{a=-(y*d);s=-(S*d);n=-(E*d)}O=n+ +c[x+(i*104|0)+60>>2];I=s+ +c[x+(i*104|0)+64>>2];c[x+(i*104|0)+56>>2]=u+(a+ +c[x+(i*104|0)+56>>2]);c[x+(i*104|0)+60>>2]=f+O;c[x+(i*104|0)+64>>2]=l+I;return}case 1:case 3:case 0:{n=f*b+d*A+u*C<0.0?-1.0:1.0;if(!(u*(C*n)+(f*(b*n)+d*(A*n))>0.0))return;p=-((f*f+d*d+u*u)*((u*(C*n)+(f*(b*n)+d*(A*n)))*+c[x+(i*104|0)+92>>2])*.5*(o[_>>2]=h,+c[_>>2]));a=y*(m*p)+(b*n*(g*p)+0.0);s=E*(m*p)+(A*n*(g*p)+0.0);n=S*(m*p)+(C*n*(g*p)+0.0);if(T*O*n*(T*O*n)+(T*O*a*(T*O*a)+T*O*s*(T*O*s))>I*I+R*R+M*M){S=1.0/+v(+(n*n+(a*a+s*s)));c[x+(i*104|0)+56>>2]=+c[x+(i*104|0)+56>>2]-1.0/(T*O)*(a*S*(M*(n*S)+(I*(a*S)+R*(s*S))));c[x+(i*104|0)+60>>2]=+c[x+(i*104|0)+60>>2]-1.0/(T*O)*(s*S*(M*(n*S)+(I*(a*S)+R*(s*S))));c[x+(i*104|0)+64>>2]=+c[x+(i*104|0)+64>>2]-1.0/(T*O)*(n*S*(M*(n*S)+(I*(a*S)+R*(s*S))));return}else{c[x+(i*104|0)+56>>2]=a+ +c[x+(i*104|0)+56>>2];c[x+(i*104|0)+60>>2]=s+ +c[x+(i*104|0)+60>>2];c[x+(i*104|0)+64>>2]=n+ +c[x+(i*104|0)+64>>2];return}}default:return}}function oo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0;r=Im()|0;kl();o[r+4>>2]=7;o[r+8>>2]=-1;o[r+12>>2]=-1;c[r+16>>2]=3402823466385288598117041.0e14;n[r+20>>0]=1;n[r+21>>0]=0;o[r+24>>2]=-1;o[r+28>>2]=25640;o[r+32>>2]=e;c[r+36>>2]=0.0;c[r+40>>2]=.30000001192092896;o[r+44>>2]=0;o[r>>2]=5712;n[r+48>>0]=0;o[r+116>>2]=o[t>>2];o[r+116+4>>2]=o[t+4>>2];o[r+116+8>>2]=o[t+8>>2];o[r+116+12>>2]=o[t+12>>2];o[r+132>>2]=o[t+16>>2];o[r+132+4>>2]=o[t+16+4>>2];o[r+132+8>>2]=o[t+16+8>>2];o[r+132+12>>2]=o[t+16+12>>2];o[r+148>>2]=o[t+32>>2];o[r+148+4>>2]=o[t+32+4>>2];o[r+148+8>>2]=o[t+32+8>>2];o[r+148+12>>2]=o[t+32+12>>2];o[r+164>>2]=o[t+48>>2];o[r+164+4>>2]=o[t+48+4>>2];o[r+164+8>>2]=o[t+48+8>>2];o[r+164+12>>2]=o[t+48+12>>2];n[r+180>>0]=i&1;v=+c[r+116>>2];M=+c[e+4>>2];y=+c[r+132>>2];R=+c[e+8>>2];g=+c[r+148>>2];T=+c[e+12>>2];A=+c[r+120>>2];m=+c[r+136>>2];b=+c[r+152>>2];p=+c[r+124>>2];d=+c[r+140>>2];u=+c[r+156>>2];S=+c[e+20>>2];E=+c[e+24>>2];C=+c[e+28>>2];h=+c[e+36>>2];f=+c[e+40>>2];_=+c[e+44>>2];I=+c[r+164>>2];O=+c[r+168>>2];s=+c[r+172>>2];l=+c[e+52>>2]+(M*I+R*O+T*s);a=S*I+E*O+C*s+ +c[e+56>>2];s=h*I+f*O+_*s+ +c[e+60>>2];c[r+52>>2]=v*M+y*R+g*T;c[r+56>>2]=M*A+R*m+T*b;c[r+60>>2]=M*p+R*d+T*u;c[r+64>>2]=0.0;c[r+68>>2]=v*S+y*E+g*C;c[r+72>>2]=A*S+m*E+b*C;c[r+76>>2]=p*S+d*E+u*C;c[r+80>>2]=0.0;c[r+84>>2]=v*h+y*f+g*_;c[r+88>>2]=A*h+m*f+b*_;c[r+92>>2]=p*h+d*f+u*_;c[r+96>>2]=0.0;c[r+100>>2]=l;c[r+104>>2]=a;c[r+108>>2]=s;c[r+112>>2]=0.0;c[r+184>>2]=1.0;c[r+188>>2]=-1.0;c[r+192>>2]=0.0;c[r+196>>2]=0.0;c[r+200>>2]=1.0;c[r+204>>2]=.699999988079071;c[r+208>>2]=0.0;c[r+212>>2]=0.0;c[r+216>>2]=1.0;c[r+220>>2]=.699999988079071;c[r+224>>2]=0.0;c[r+228>>2]=0.0;c[r+264>>2]=1.0;c[r+268>>2]=.699999988079071;c[r+272>>2]=1.0;c[r+276>>2]=0.0;c[r+280>>2]=1.0;c[r+284>>2]=.699999988079071;c[r+288>>2]=1.0;c[r+292>>2]=0.0;c[r+232>>2]=1.0;c[r+236>>2]=.699999988079071;c[r+240>>2]=1.0;c[r+244>>2]=0.0;c[r+248>>2]=1.0;c[r+252>>2]=.699999988079071;c[r+256>>2]=1.0;c[r+260>>2]=0.0;n[r+1096>>0]=0;c[r+1116>>2]=0.0;c[r+1120>>2]=0.0;c[r+1124>>2]=0.0;o[r+300>>2]=0;o[r+1100>>2]=0;o[r+1100+4>>2]=0;o[r+1100+8>>2]=0;n[r+1100+12>>0]=0;n[r+49>>0]=1;gs(r,(o[r+28>>2]|0)+4|0,(o[r+32>>2]|0)+4|0);return r|0}function so(e,t,i,n,r,s,a,l){e=e|0;t=t|0;i=i|0;n=+n;r=+r;s=+s;a=a|0;l=l|0;var _=0,u=0,f=0,d=0.0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,C=0,E=0,S=0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0;z=ae;ae=ae+32|0;V=+c[i>>2];W=+c[i+4>>2];G=+c[i+8>>2];m=+c[a>>2];A=+c[a+4>>2];g=+c[a+8>>2];d=+c[l>>2];p=+c[l+4>>2];b=+c[l+8>>2];F=1.0/+v(+((n-V)*(n-V)+(r-W)*(r-W)+(s-G)*(s-G)));D=(n-V)*F==0.0?999999984306749440.0:1.0/((n-V)*F);w=(r-W)*F==0.0?999999984306749440.0:1.0/((r-W)*F);L=(s-G)*F==0.0?999999984306749440.0:1.0/((s-G)*F);M=(V>n?n:V)+m;P=(W>r?r:W)+A;I=(G>s?s:G)+g;R=(V<n?n:V)+d;x=(W<r?r:W)+p;O=(G<s?s:G)+b;u=o[e+56>>2]|0;e:do{if((u|0)>0){E=0;S=o[e+96>>2]|0;_=0;while(1){_=_+1|0;o[z>>2]=o[S>>2];o[z+4>>2]=o[S+4>>2];o[z+8>>2]=o[S+8>>2];o[z+12>>2]=o[S+12>>2];C=S+16|0;o[z+16>>2]=o[C>>2];o[z+16+4>>2]=o[C+4>>2];o[z+16+8>>2]=o[C+8>>2];o[z+16+12>>2]=o[C+12>>2];c[z>>2]=+c[z>>2]-d;c[z+4>>2]=+c[z+4>>2]-p;c[z+8>>2]=+c[z+8>>2]-b;c[z+16>>2]=+c[z+16>>2]-m;c[z+20>>2]=+c[z+20>>2]-A;c[z+24>>2]=+c[z+24>>2]-g;if(!(M>+c[C>>2])?!(R<+c[S>>2]):0)f=1;else f=0;if(!(!(I>+c[S+24>>2])?!(O<+c[S+8>>2]):0))f=0;if(((!(P>+c[S+20>>2])?!(x<+c[S+4>>2]|f^1):0)?(B=+c[i>>2],N=D*(+c[z+((D<0.0&1)<<4)>>2]-B),B=D*(+c[z+(((D<0.0^1)&1)<<4)>>2]-B),U=+c[i+4>>2],k=w*(+c[z+((w<0.0&1)<<4)+4>>2]-U),U=w*(+c[z+(((w<0.0^1)&1)<<4)+4>>2]-U),!(k>B|N>U)):0)?(T=k>N?k:N,X=U<B?U:B,j=+c[i+8>>2],H=L*(+c[z+((L<0.0&1)<<4)+8>>2]-j),j=L*(+c[z+(((L<0.0^1)&1)<<4)+8>>2]-j),!(H>X|T>j)):0){h=(j<X?j:X)>0.0?(H>T?H:T)<(s-G)*((s-G)*F)+((n-V)*((n-V)*F)+(r-W)*((r-W)*F)):0;f=o[S+32>>2]|0;if(h&(f|0)==-1){LF[o[(o[t>>2]|0)+8>>2]&127](t,o[S+36>>2]|0,o[S+40>>2]|0);u=o[e+56>>2]|0;C=17}else{y=f;f=(f|0)==-1;C=16}}else{f=o[S+32>>2]|0;y=f;f=(f|0)==-1;h=0;C=16}if((C|0)==16){C=0;if(f|h)C=17;else{h=y+E|0;f=S+(y<<6)|0}}if((C|0)==17){h=E+1|0;f=S+64|0}if((h|0)>=(u|0))break e;d=+c[l>>2];p=+c[l+4>>2];b=+c[l+8>>2];m=+c[a>>2];A=+c[a+4>>2];g=+c[a+8>>2];E=h;S=f}}else _=0}while(0);if((o[6727]|0)>=(_|0)){ae=z;return}o[6727]=_;ae=z;return}function ao(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0;if(!(o[e+204>>2]&2)){o[e+68>>2]=o[t>>2];o[e+68+4>>2]=o[t+4>>2];o[e+68+8>>2]=o[t+8>>2];o[e+68+12>>2]=o[t+12>>2];o[e+84>>2]=o[t+16>>2];o[e+84+4>>2]=o[t+16+4>>2];o[e+84+8>>2]=o[t+16+8>>2];o[e+84+12>>2]=o[t+16+12>>2];o[e+100>>2]=o[t+32>>2];o[e+100+4>>2]=o[t+32+4>>2];o[e+100+8>>2]=o[t+32+8>>2];o[e+100+12>>2]=o[t+32+12>>2];o[e+116>>2]=o[t+48>>2];o[e+116+4>>2]=o[t+48+4>>2];o[e+116+8>>2]=o[t+48+8>>2];o[e+116+12>>2]=o[t+48+12>>2];n=t;r=e+20|0;s=t+16|0;a=e+36|0;l=t+32|0;_=e+52|0;t=t+48|0;i=e+4|0}else{o[e+68>>2]=o[e+4>>2];o[e+68+4>>2]=o[e+4+4>>2];o[e+68+8>>2]=o[e+4+8>>2];o[e+68+12>>2]=o[e+4+12>>2];o[e+84>>2]=o[e+20>>2];o[e+84+4>>2]=o[e+20+4>>2];o[e+84+8>>2]=o[e+20+8>>2];o[e+84+12>>2]=o[e+20+12>>2];o[e+100>>2]=o[e+36>>2];o[e+100+4>>2]=o[e+36+4>>2];o[e+100+8>>2]=o[e+36+8>>2];o[e+100+12>>2]=o[e+36+12>>2];o[e+116>>2]=o[e+52>>2];o[e+116+4>>2]=o[e+52+4>>2];o[e+116+8>>2]=o[e+52+8>>2];o[e+116+12>>2]=o[e+52+12>>2];n=t;r=e+20|0;s=t+16|0;a=e+36|0;l=t+32|0;_=e+52|0;t=t+48|0;i=e+4|0}o[e+132>>2]=o[e+312>>2];o[e+132+4>>2]=o[e+312+4>>2];o[e+132+8>>2]=o[e+312+8>>2];o[e+132+12>>2]=o[e+312+12>>2];o[e+148>>2]=o[e+328>>2];o[e+148+4>>2]=o[e+328+4>>2];o[e+148+8>>2]=o[e+328+8>>2];o[e+148+12>>2]=o[e+328+12>>2];o[i>>2]=o[n>>2];o[i+4>>2]=o[n+4>>2];o[i+8>>2]=o[n+8>>2];o[i+12>>2]=o[n+12>>2];o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];o[a>>2]=o[l>>2];o[a+4>>2]=o[l+4>>2];o[a+8>>2]=o[l+8>>2];o[a+12>>2]=o[l+12>>2];o[_>>2]=o[t>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];C=+c[e+4>>2];b=+c[e+396>>2];v=+c[e+8>>2];h=+c[e+400>>2];y=+c[e+12>>2];f=+c[e+404>>2];g=+c[e+20>>2];A=+c[e+24>>2];m=+c[e+28>>2];p=+c[e+36>>2];d=+c[e+40>>2];u=+c[e+44>>2];c[e+264>>2]=C*(C*b)+v*(v*h)+y*(y*f);c[e+268>>2]=C*b*g+v*h*A+y*f*m;c[e+272>>2]=C*b*p+v*h*d+y*f*u;c[e+276>>2]=0.0;c[e+280>>2]=C*(b*g)+v*(h*A)+y*(f*m);c[e+284>>2]=g*(b*g)+A*(h*A)+m*(f*m);c[e+288>>2]=b*g*p+h*A*d+f*m*u;c[e+292>>2]=0.0;c[e+296>>2]=C*(b*p)+v*(h*d)+y*(f*u);c[e+300>>2]=g*(b*p)+A*(h*d)+m*(f*u);c[e+304>>2]=p*(b*p)+d*(h*d)+u*(f*u);c[e+308>>2]=0.0;return}function co(e){e=e|0;var t=0,i=0,n=0,r=0,s=0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0.0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,O=0,I=0,x=0,P=0,D=0,w=0;i=ae;ae=ae+144|0;c[e+36>>2]=0.0;o[i+128>>2]=0;o[i+128+4>>2]=0;o[i+128+8>>2]=0;o[i+128+12>>2]=0;t=0;do{n=i+128+(t<<2)|0;c[n>>2]=1.0;s=o[e+28>>2]|0;w=o[s+4>>2]|0;o[i+80>>2]=w;x=o[s+20>>2]|0;o[i+80+4>>2]=x;M=o[s+36>>2]|0;o[i+80+8>>2]=M;c[i+80+12>>2]=0.0;D=o[s+8>>2]|0;o[i+80+16>>2]=D;I=o[s+24>>2]|0;o[i+80+20>>2]=I;R=o[s+40>>2]|0;o[i+80+24>>2]=R;c[i+80+28>>2]=0.0;P=o[s+12>>2]|0;o[i+80+32>>2]=P;O=o[s+28>>2]|0;o[i+80+36>>2]=O;T=o[s+44>>2]|0;o[i+80+40>>2]=T;c[i+80+44>>2]=0.0;r=o[e+32>>2]|0;S=o[r+4>>2]|0;o[i+32>>2]=S;v=o[r+20>>2]|0;o[i+32+4>>2]=v;A=o[r+36>>2]|0;o[i+32+8>>2]=A;c[i+32+12>>2]=0.0;E=o[r+8>>2]|0;o[i+32+16>>2]=E;y=o[r+24>>2]|0;o[i+32+20>>2]=y;m=o[r+40>>2]|0;o[i+32+24>>2]=m;c[i+32+28>>2]=0.0;C=o[r+12>>2]|0;o[i+32+32>>2]=C;g=o[r+28>>2]|0;o[i+32+36>>2]=g;h=o[r+44>>2]|0;o[i+32+40>>2]=h;c[i+32+44>>2]=0.0;p=+c[e+300>>2];u=p*(o[_>>2]=w,+c[_>>2]);a=+c[e+304>>2];u=u+a*(o[_>>2]=D,+c[_>>2]);l=+c[e+308>>2];u=u+l*(o[_>>2]=P,+c[_>>2]);b=p*(o[_>>2]=x,+c[_>>2]);b=b+a*(o[_>>2]=I,+c[_>>2]);b=b+l*(o[_>>2]=O,+c[_>>2]);p=p*(o[_>>2]=M,+c[_>>2]);a=p+a*(o[_>>2]=R,+c[_>>2]);p=+c[s+52>>2];d=+c[s+56>>2];f=+c[s+60>>2];f=a+l*(o[_>>2]=T,+c[_>>2])+f-f;c[i+16>>2]=u+p-p;c[i+16+4>>2]=b+d-d;c[i+16+8>>2]=f;c[i+16+12>>2]=0.0;f=+c[e+316>>2];d=f*(o[_>>2]=S,+c[_>>2]);b=+c[e+320>>2];d=d+b*(o[_>>2]=E,+c[_>>2]);p=+c[e+324>>2];d=d+p*(o[_>>2]=C,+c[_>>2]);u=f*(o[_>>2]=v,+c[_>>2]);u=u+b*(o[_>>2]=y,+c[_>>2]);u=u+p*(o[_>>2]=g,+c[_>>2]);f=f*(o[_>>2]=A,+c[_>>2]);b=f+b*(o[_>>2]=m,+c[_>>2]);f=+c[r+52>>2];l=+c[r+56>>2];a=+c[r+60>>2];a=b+p*(o[_>>2]=h,+c[_>>2])+a-a;c[i>>2]=d+f-f;c[i+4>>2]=u+l-l;c[i+8>>2]=a;c[i+12>>2]=0.0;ti(e+48+(t*84|0)|0,i+80|0,i+32|0,i+16|0,i,i+128|0,s+396|0,+c[s+344>>2],r+396|0,+c[r+344>>2]);c[n>>2]=0.0;t=t+1|0}while((t|0)!=3);ae=i;return}function lo(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0,d=0,h=0.0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0,P=0,D=0,w=0.0;e:while(1){P=o[n+12>>2]|0;if((t|0)>0){s=+c[i>>2];a=+c[i+4>>2];l=+c[i+8>>2];_=0;r=-1;do{do{if(o[P+(_<<2)>>2]|0){if((r|0)!=-1?!(s*+c[e+(_<<4)>>2]+a*+c[e+(_<<4)+4>>2]+l*+c[e+(_<<4)+8>>2]>s*+c[e+(r<<4)>>2]+a*+c[e+(r<<4)+4>>2]+l*+c[e+(r<<4)+8>>2]):0)break;r=_}}while(0);_=_+1|0}while((_|0)!=(t|0))}else r=-1;x=P+(r<<2)|0;if((o[x>>2]|0)==3){D=40;break}T=+c[i+4>>2];R=+c[i+8>>2];M=+c[i>>2];s=+v(+((T-R*0.0)*(T-R*0.0)+(R*0.0-M)*(R*0.0-M)+(M*0.0-T*0.0)*(M*0.0-T*0.0)));a=+v(+((M-T*0.0)*(M-T*0.0)+((T*0.0-R)*(T*0.0-R)+(R*0.0-M*0.0)*(R*0.0-M*0.0))));if(s>a){O=(T-R*0.0)*(1.0/s);I=(M*0.0-T*0.0)*(1.0/s);y=(R*0.0-M)*(1.0/s)}else{O=(T*0.0-R)*(1.0/a);I=(M-T*0.0)*(1.0/a);y=(R*0.0-M*0.0)*(1.0/a)}m=R*y-T*I;A=M*I-R*O;g=T*O-M*y;p=(r|0)==-1;_=-1;C=0;while(1){b=+(C|0);h=+S(+(b*.01745329238474369));a=+E(+(b*.01745329238474369));s=M+(O*h+m*a)*.02500000037252903;l=T+(y*h+A*a)*.02500000037252903;a=R+(I*h+g*a)*.02500000037252903;if((t|0)>0){f=0;u=-1;do{do{if(o[P+(f<<2)>>2]|0){if((u|0)!=-1?!(s*+c[e+(f<<4)>>2]+l*+c[e+(f<<4)+4>>2]+a*+c[e+(f<<4)+8>>2]>s*+c[e+(u<<4)>>2]+l*+c[e+(u<<4)+4>>2]+a*+c[e+(u<<4)+8>>2]):0)break;u=f}}while(0);f=f+1|0}while((f|0)!=(t|0))}else u=-1;if((_|0)==(r|0)&(u|0)==(r|0))break e;t:do{if(!((_|0)==-1|(_|0)==(u|0))?b+-40.0<=b:0){if((t|0)<=0){s=b+-40.0;while(1){if((_|0)==(r|0)&p){r=-1;break e}s=s+5.0;if(!(s<=b))break t;else _=-1}}h=b+-40.0;while(1){a=h*.01745329238474369;w=+S(+a);a=+E(+a);s=M+(O*w+m*a)*.02500000037252903;l=T+(y*w+A*a)*.02500000037252903;a=R+(I*w+g*a)*.02500000037252903;d=0;f=-1;do{do{if(o[P+(d<<2)>>2]|0){if((f|0)!=-1?!(s*+c[e+(d<<4)>>2]+l*+c[e+(d<<4)+4>>2]+a*+c[e+(d<<4)+8>>2]>s*+c[e+(f<<4)>>2]+l*+c[e+(f<<4)+4>>2]+a*+c[e+(f<<4)+8>>2]):0)break;f=d}}while(0);d=d+1|0}while((d|0)!=(t|0));if((_|0)==(r|0)&(f|0)==(r|0))break e;h=h+5.0;if(!(h<=b))break;else _=f}}}while(0);C=C+45|0;if(C>>>0>360)break;else _=u}o[x>>2]=0}if((D|0)==40)return r|0;o[x>>2]=3;D=r;return D|0}function _o(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0;s=ae;ae=ae+160|0;n=o[e+4>>2]|0;r=o[n+12>>2]|0;O=+c[r>>2];M=+c[r+4>>2];R=+c[r+8>>2];T=+c[r+16>>2];S=+c[r+20>>2];E=+c[r+24>>2];b=+c[r+32>>2];h=+c[r+36>>2];f=+c[r+40>>2];n=o[(o[n+4>>2]|0)+24>>2]|0;C=+c[n+(i*80|0)>>2];v=+c[n+(i*80|0)+16>>2];y=+c[n+(i*80|0)+32>>2];g=+c[n+(i*80|0)+4>>2];A=+c[n+(i*80|0)+20>>2];m=+c[n+(i*80|0)+36>>2];p=+c[n+(i*80|0)+8>>2];d=+c[n+(i*80|0)+24>>2];u=+c[n+(i*80|0)+40>>2];x=+c[n+(i*80|0)+48>>2];I=+c[n+(i*80|0)+52>>2];a=+c[n+(i*80|0)+56>>2];_=+c[r+48>>2]+(O*x+M*I+R*a);l=+c[r+52>>2]+(T*x+S*I+E*a);a=+c[r+56>>2]+(b*x+h*I+f*a);c[s+88>>2]=O*C+M*v+R*y;c[s+88+4>>2]=O*g+M*A+R*m;c[s+88+8>>2]=O*p+M*d+R*u;c[s+88+12>>2]=0.0;c[s+88+16>>2]=T*C+S*v+E*y;c[s+88+20>>2]=T*g+S*A+E*m;c[s+88+24>>2]=T*p+S*d+E*u;c[s+88+28>>2]=0.0;c[s+88+32>>2]=b*C+h*v+f*y;c[s+88+36>>2]=b*g+h*A+f*m;c[s+88+40>>2]=b*p+h*d+f*u;c[s+88+44>>2]=0.0;c[s+88+48>>2]=_;c[s+88+52>>2]=l;c[s+88+56>>2]=a;c[s+88+60>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,s+88|0,s+72|0,s+56|0);r=o[e+8>>2]|0;n=o[r+4>>2]|0;BF[o[(o[n>>2]|0)+8>>2]&127](n,o[r+12>>2]|0,s+40|0,s+24|0);if(!(+c[s+72>>2]>+c[s+24>>2])?!(+c[s+56>>2]<+c[s+40>>2]):0)n=1;else n=0;if(!(!(+c[s+72+8>>2]>+c[s+24+8>>2])?!(+c[s+56+8>>2]<+c[s+40+8>>2]):0))n=0;if(+c[s+72+4>>2]>+c[s+24+4>>2]){ae=s;return}if(+c[s+56+4>>2]<+c[s+40+4>>2]|n^1){ae=s;return}n=o[e+4>>2]|0;r=o[n+8>>2]|0;o[s>>2]=n;o[s+4>>2]=t;o[s+8>>2]=r;o[s+12>>2]=s+88;o[s+16>>2]=-1;o[s+20>>2]=i;if(!(o[(o[e+24>>2]|0)+(i<<2)>>2]|0)){r=o[e+12>>2]|0;r=AF[o[(o[r>>2]|0)+8>>2]&31](r,s,o[e+8>>2]|0,o[e+28>>2]|0)|0;o[(o[e+24>>2]|0)+(i<<2)>>2]=r;r=(o[e+4>>2]|0)+8|0}else r=n+8|0;t=o[e+20>>2]|0;n=o[t+8>>2]|0;if((o[n+8>>2]|0)==(o[r>>2]|0)){o[t+8>>2]=s;LF[o[(o[t>>2]|0)+8>>2]&127](t,-1,i)}else{n=o[t+12>>2]|0;o[t+12>>2]=s;LF[o[(o[t>>2]|0)+12>>2]&127](t,-1,i)}i=o[(o[e+24>>2]|0)+(i<<2)>>2]|0;jF[o[(o[i>>2]|0)+8>>2]&31](i,s,o[e+8>>2]|0,o[e+16>>2]|0,o[e+20>>2]|0);i=o[e+20>>2]|0;o[((o[(o[i+8>>2]|0)+8>>2]|0)==(o[(o[e+4>>2]|0)+8>>2]|0)?i+8|0:i+12|0)>>2]=n;ae=s;return}function uo(){if(n[24992]|0)return;if(!(PM(24992)|0))return;o[5948]=0;o[5949]=-2147483648;o[5950]=-1082130432;c[5951]=0.0;o[5952]=1060716128;o[5953]=-1090087446;o[5954]=-1092290076;c[5955]=0.0;o[5956]=-1098022214;o[5957]=-1084636126;o[5958]=-1092290076;c[5959]=0.0;o[5960]=-1083901670;o[5961]=-2147483648;o[5962]=-1092290177;c[5963]=0.0;o[5964]=-1098022214;o[5965]=1062847522;o[5966]=-1092290043;c[5967]=0.0;o[5968]=1060716128;o[5969]=1057396202;o[5970]=-1092290076;c[5971]=0.0;o[5972]=1049461434;o[5973]=-1084636126;o[5974]=1055193605;c[5975]=0.0;o[5976]=-1086767520;o[5977]=-1090087446;o[5978]=1055193572;c[5979]=0.0;o[5980]=-1086767520;o[5981]=1057396202;o[5982]=1055193572;c[5983]=0.0;o[5984]=1049461434;o[5985]=1062847522;o[5986]=1055193572;c[5987]=0.0;o[5988]=1063581978;o[5989]=0;o[5990]=1055193471;c[5991]=0.0;o[5992]=-2147483648;o[5993]=0;o[5994]=1065353216;c[5995]=0.0;o[5996]=1054458864;o[5997]=-1096927567;o[5998]=-1084636042;c[5999]=0.0;o[6e3]=-1104782626;o[6001]=-1090519208;o[6002]=-1084636042;c[6003]=0.0;o[6004]=1049007812;o[6005]=-1085334679;o[6006]=-1090087228;c[6007]=0.0;o[6008]=1054458864;o[6009]=1050556081;o[6010]=-1084636042;c[6011]=0.0;o[6012]=1062847505;o[6013]=-2147483648;o[6014]=-1090087262;c[6015]=0.0;o[6016]=-1090087362;o[6017]=-2147483648;o[6018]=-1084636076;c[6019]=0.0;o[6020]=-1087361736;o[6021]=-1090519141;o[6022]=-1090087262;c[6023]=0.0;o[6024]=-1104782626;o[6025]=1056964440;o[6026]=-1084636042;c[6027]=0.0;o[6028]=-1087361736;o[6029]=1056964507;o[6030]=-1090087262;c[6031]=0.0;o[6032]=1049007812;o[6033]=1062148969;o[6034]=-1090087228;c[6035]=0.0;o[6036]=1064532105;o[6037]=1050556148;o[6038]=0;c[6039]=0.0;o[6040]=1064532105;o[6041]=-1096927500;o[6042]=0;c[6043]=0.0;o[6044]=1058437413;o[6045]=-1085334595;o[6046]=0;c[6047]=0.0;o[6048]=0;o[6049]=-1082130432;o[6050]=0;c[6051]=0.0;o[6052]=-1089046235;o[6053]=-1085334595;o[6054]=0;c[6055]=0.0;o[6056]=-1082951543;o[6057]=-1096927500;o[6058]=-2147483648;c[6059]=0.0;o[6060]=-1082951543;o[6061]=1050556148;o[6062]=-2147483648;c[6063]=0.0;o[6064]=-1089046235;o[6065]=1062149053;o[6066]=-2147483648;c[6067]=0.0;o[6068]=-2147483648;o[6069]=1065353216;o[6070]=-2147483648;c[6071]=0.0;o[6072]=1058437413;o[6073]=1062149053;o[6074]=-2147483648;c[6075]=0.0;o[6076]=1060121912;o[6077]=-1090519141;o[6078]=1057396386;c[6079]=0.0;o[6080]=-1098475836;o[6081]=-1085334679;o[6082]=1057396420;c[6083]=0.0;o[6084]=-1084636143;o[6085]=0;o[6086]=1057396386;c[6087]=0.0;o[6088]=-1098475836;o[6089]=1062148969;o[6090]=1057396420;c[6091]=0.0;o[6092]=1060121912;o[6093]=1056964507;o[6094]=1057396386;c[6095]=0.0;o[6096]=1057396286;o[6097]=0;o[6098]=1062847572;c[6099]=0.0;o[6100]=1042701022;o[6101]=-1090519208;o[6102]=1062847606;c[6103]=0.0;o[6104]=-1093024784;o[6105]=-1096927567;o[6106]=1062847606;c[6107]=0.0;o[6108]=-1093024784;o[6109]=1050556081;o[6110]=1062847606;c[6111]=0.0;o[6112]=1042701022;o[6113]=1056964440;o[6114]=1062847606;c[6115]=0.0;GR(24992);return}function fo(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0;i=o[e+748>>2]|0;if((i|0)!=4){o[e+748>>2]=i+1;r=i;n=(r|0)>0;r=n?r:0;e=e+4+(r*184|0)|0;Tn(e|0,t|0,184)|0;return r|0}O=+c[t+80>>2];M=+c[e+84>>2];R=M<O?M:O;T=+c[e+268>>2];S=T<R?T:R;E=+c[e+452>>2];r=+c[e+636>>2]<(E<S?E:S);i=r?3:E<S?2:T<R?1:(M<O^1)<<31>>31;O=+c[t>>2];if(i){s=+c[e+188>>2];d=+c[t+4>>2];a=+c[e+192>>2];p=+c[t+8>>2];l=+c[e+196>>2];u=+c[e+556>>2];A=+c[e+372>>2];f=+c[e+560>>2];S=+c[e+376>>2];h=+c[e+564>>2];C=+c[e+380>>2];_=((O-s)*(f-S)-(d-a)*(u-A))*((O-s)*(f-S)-(d-a)*(u-A))+(((d-a)*(h-C)-(p-l)*(f-S))*((d-a)*(h-C)-(p-l)*(f-S))+((p-l)*(u-A)-(O-s)*(h-C))*((p-l)*(u-A)-(O-s)*(h-C)));if((i|0)==1){v=u;E=f;g=a;b=l;m=C;C=S;l=0.0;f=O-+c[e+4>>2];u=p-+c[e+12>>2];a=d-+c[e+8>>2];n=7}else{g=a;a=d;m=C;T=h;M=S;E=f;R=A;v=u;b=u-A;h=h-C;d=f-S;n=6}}else{A=+c[e+556>>2];b=+c[e+372>>2];S=+c[e+560>>2];d=+c[e+376>>2];C=+c[e+564>>2];h=+c[e+380>>2];s=+c[e+188>>2];g=+c[e+192>>2];l=+c[e+196>>2];a=+c[t+4>>2];p=+c[t+8>>2];m=h;T=C;M=d;E=S;R=b;v=A;_=0.0;b=A-b;h=C-h;d=S-d;n=6}if((n|0)==6){f=O-+c[e+4>>2];a=a-+c[e+8>>2];u=p-+c[e+12>>2];S=a*h-u*d;p=u*b-f*h;d=f*d-a*b;if((i|0)==2){A=R;E=s;v=M;b=l;s=0.0;l=d*d+(S*S+p*p);n=8}else{h=T;b=l;C=M;A=R;l=d*d+(S*S+p*p);n=7}}if((n|0)==7){p=v-s;O=E-g;h=h-b;d=a*h-u*O;h=u*p-f*h;p=f*O-a*p;if(r){s=p*p+(d*d+h*h);a=0.0}else{E=s;v=C;s=p*p+(d*d+h*h);n=8}}if((n|0)==8){R=A-E;T=v-g;O=m-b;M=a*O-u*T;O=u*R-f*O;a=f*T-a*R;a=a*a+(M*M+O*O)}O=+y(+_);R=+y(+l);S=+y(+s);E=+y(+a);M=O>-999999984306749440.0?O:-999999984306749440.0;T=R>M?R:M;r=E>(S>T?S:T)?3:S>T?2:R>M?1:(O>-999999984306749440.0^1)<<31>>31;i=o[e+4+(r*184|0)+112>>2]|0;if(!i){n=(r|0)>0;r=n?r:0;e=e+4+(r*184|0)|0;Tn(e|0,t|0,184)|0;return r|0}n=o[6719]|0;if(!n){n=(r|0)>0;r=n?r:0;e=e+4+(r*184|0)|0;Tn(e|0,t|0,184)|0;return r|0}dF[n&127](i)|0;o[e+4+(r*184|0)+112>>2]=0;n=(r|0)>0;r=n?r:0;e=e+4+(r*184|0)|0;Tn(e|0,t|0,184)|0;return r|0}function ho(){if(n[24968]|0)return;if(!(PM(24968)|0))return;o[5652]=0;o[5653]=-2147483648;o[5654]=-1082130432;c[5655]=0.0;o[5656]=1060716128;o[5657]=-1090087446;o[5658]=-1092290076;c[5659]=0.0;o[5660]=-1098022214;o[5661]=-1084636126;o[5662]=-1092290076;c[5663]=0.0;o[5664]=-1083901670;o[5665]=-2147483648;o[5666]=-1092290177;c[5667]=0.0;o[5668]=-1098022214;o[5669]=1062847522;o[5670]=-1092290043;c[5671]=0.0;o[5672]=1060716128;o[5673]=1057396202;o[5674]=-1092290076;c[5675]=0.0;o[5676]=1049461434;o[5677]=-1084636126;o[5678]=1055193605;c[5679]=0.0;o[5680]=-1086767520;o[5681]=-1090087446;o[5682]=1055193572;c[5683]=0.0;o[5684]=-1086767520;o[5685]=1057396202;o[5686]=1055193572;c[5687]=0.0;o[5688]=1049461434;o[5689]=1062847522;o[5690]=1055193572;c[5691]=0.0;o[5692]=1063581978;o[5693]=0;o[5694]=1055193471;c[5695]=0.0;o[5696]=-2147483648;o[5697]=0;o[5698]=1065353216;c[5699]=0.0;o[5700]=1054458864;o[5701]=-1096927567;o[5702]=-1084636042;c[5703]=0.0;o[5704]=-1104782626;o[5705]=-1090519208;o[5706]=-1084636042;c[5707]=0.0;o[5708]=1049007812;o[5709]=-1085334679;o[5710]=-1090087228;c[5711]=0.0;o[5712]=1054458864;o[5713]=1050556081;o[5714]=-1084636042;c[5715]=0.0;o[5716]=1062847505;o[5717]=-2147483648;o[5718]=-1090087262;c[5719]=0.0;o[5720]=-1090087362;o[5721]=-2147483648;o[5722]=-1084636076;c[5723]=0.0;o[5724]=-1087361736;o[5725]=-1090519141;o[5726]=-1090087262;c[5727]=0.0;o[5728]=-1104782626;o[5729]=1056964440;o[5730]=-1084636042;c[5731]=0.0;o[5732]=-1087361736;o[5733]=1056964507;o[5734]=-1090087262;c[5735]=0.0;o[5736]=1049007812;o[5737]=1062148969;o[5738]=-1090087228;c[5739]=0.0;o[5740]=1064532105;o[5741]=1050556148;o[5742]=0;c[5743]=0.0;o[5744]=1064532105;o[5745]=-1096927500;o[5746]=0;c[5747]=0.0;o[5748]=1058437413;o[5749]=-1085334595;o[5750]=0;c[5751]=0.0;o[5752]=0;o[5753]=-1082130432;o[5754]=0;c[5755]=0.0;o[5756]=-1089046235;o[5757]=-1085334595;o[5758]=0;c[5759]=0.0;o[5760]=-1082951543;o[5761]=-1096927500;o[5762]=-2147483648;c[5763]=0.0;o[5764]=-1082951543;o[5765]=1050556148;o[5766]=-2147483648;c[5767]=0.0;o[5768]=-1089046235;o[5769]=1062149053;o[5770]=-2147483648;c[5771]=0.0;o[5772]=-2147483648;o[5773]=1065353216;o[5774]=-2147483648;c[5775]=0.0;o[5776]=1058437413;o[5777]=1062149053;o[5778]=-2147483648;c[5779]=0.0;o[5780]=1060121912;o[5781]=-1090519141;o[5782]=1057396386;c[5783]=0.0;o[5784]=-1098475836;o[5785]=-1085334679;o[5786]=1057396420;c[5787]=0.0;o[5788]=-1084636143;o[5789]=0;o[5790]=1057396386;c[5791]=0.0;o[5792]=-1098475836;o[5793]=1062148969;o[5794]=1057396420;c[5795]=0.0;o[5796]=1060121912;o[5797]=1056964507;o[5798]=1057396386;c[5799]=0.0;o[5800]=1057396286;o[5801]=0;o[5802]=1062847572;c[5803]=0.0;o[5804]=1042701022;o[5805]=-1090519208;o[5806]=1062847606;c[5807]=0.0;o[5808]=-1093024784;o[5809]=-1096927567;o[5810]=1062847606;c[5811]=0.0;o[5812]=-1093024784;o[5813]=1050556081;o[5814]=1062847606;c[5815]=0.0;o[5816]=1042701022;o[5817]=1056964440;o[5818]=1062847606;c[5819]=0.0;GR(24968);return}function po(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0,u=0,f=0;f=ae;ae=ae+16|0;u=Dm()|0;o[u+8>>2]=0;o[u+12>>2]=1065353216;o[u+16>>2]=1065353216;o[u+20>>2]=1065353216;c[u+24>>2]=0.0;c[u+44>>2]=.03999999910593033;o[u+52>>2]=1065353216;o[u+56>>2]=1065353216;o[u+60>>2]=1065353216;c[u+64>>2]=0.0;o[u+68>>2]=-1082130432;o[u+72>>2]=-1082130432;o[u+76>>2]=-1082130432;c[u+80>>2]=0.0;n[u+84>>0]=0;o[u>>2]=7784;n[u+104>>0]=1;o[u+100>>2]=0;o[u+92>>2]=0;o[u+96>>2]=0;n[u+124>>0]=1;o[u+120>>2]=0;o[u+112>>2]=0;o[u+116>>2]=0;o[u+4>>2]=9;if((i|0)>0){o[6747]=(o[6747]|0)+1;r=Do((i<<4|3)+16|0)|0;if(!r)a=0;else{o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}r=o[u+92>>2]|0;if((r|0)>0){s=0;do{_=a+(s<<4)|0;l=(o[u+100>>2]|0)+(s<<4)|0;o[_>>2]=o[l>>2];o[_+4>>2]=o[l+4>>2];o[_+8>>2]=o[l+8>>2];o[_+12>>2]=o[l+12>>2];s=s+1|0}while((s|0)!=(r|0))}r=o[u+100>>2]|0;if(r|0){if(n[u+104>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[u+100>>2]=0}n[u+104>>0]=1;o[u+100>>2]=a;o[u+96>>2]=i;o[a>>2]=o[f>>2];o[a+4>>2]=o[f+4>>2];o[a+8>>2]=o[f+8>>2];o[a+12>>2]=o[f+12>>2];if((i|0)!=1){r=1;do{_=(o[u+100>>2]|0)+(r<<4)|0;o[_>>2]=o[f>>2];o[_+4>>2]=o[f+4>>2];o[_+8>>2]=o[f+8>>2];o[_+12>>2]=o[f+12>>2];r=r+1|0}while((r|0)!=(i|0))}_=o[u+112>>2]|0}else _=0;o[u+92>>2]=i;if((_|0)<(i|0)){do{if((o[u+116>>2]|0)<(i|0)){if(!i){l=_;r=0}else{o[6747]=(o[6747]|0)+1;r=Do((i<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}l=o[u+112>>2]|0}s=o[u+120>>2]|0;if((l|0)<=0){if(!s){n[u+124>>0]=1;o[u+120>>2]=r;o[u+116>>2]=i;break}}else{a=0;do{o[r+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)!=(l|0))}if(n[u+124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}n[u+124>>0]=1;o[u+120>>2]=r;o[u+116>>2]=i}else r=o[u+120>>2]|0}while(0);_l(r+(_<<2)|0,0,i-_<<2|0)|0}o[u+112>>2]=i;if((i|0)<=0){Pa(u);ae=f;return u|0}r=0;do{l=e+(r<<4)|0;_=(o[u+100>>2]|0)+(r<<4)|0;o[_>>2]=o[l>>2];o[_+4>>2]=o[l+4>>2];o[_+8>>2]=o[l+8>>2];o[_+12>>2]=o[l+12>>2];o[(o[u+120>>2]|0)+(r<<2)>>2]=o[t+(r<<2)>>2];r=r+1|0}while((r|0)!=(i|0));Pa(u);ae=f;return u|0}function bo(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0;_=o[e+9288>>2]|0;if(!_){o[e>>2]=5;e=0;return e|0}a=o[_+48>>2]|0;if(a|0)o[a+44>>2]=o[_+44>>2];a=o[_+44>>2]|0;if(a|0)o[a+48>>2]=o[_+48>>2];if((o[e+9288>>2]|0)==(_|0))o[e+9288>>2]=o[_+48>>2];o[e+9292>>2]=(o[e+9292>>2]|0)+-1;o[_+44>>2]=0;o[_+48>>2]=o[e+9280>>2];a=o[e+9280>>2]|0;if(a|0)o[a+44>>2]=_;o[e+9280>>2]=_;o[e+9284>>2]=(o[e+9284>>2]|0)+1;n[_+55>>0]=0;o[_+20>>2]=t;o[_+24>>2]=i;o[_+28>>2]=r;l=+c[t+16>>2];d=+c[i+16>>2]-l;f=+c[t+20>>2];u=+c[i+20>>2]-f;h=+c[t+24>>2];p=+c[i+24>>2]-h;l=+c[r+16>>2]-l;f=+c[r+20>>2]-f;h=+c[r+24>>2]-h;c[_>>2]=u*h-p*f;c[_+4>>2]=p*l-d*h;c[_+8>>2]=d*f-u*l;c[_+12>>2]=0.0;l=+v(+((u*h-p*f)*(u*h-p*f)+(p*l-d*h)*(p*l-d*h)+(d*f-u*l)*(d*f-u*l)));if(!(l>9.999999747378752e-05)){o[e>>2]=2;a=o[_+48>>2]|0;if(a|0)o[a+44>>2]=o[_+44>>2];a=o[_+44>>2]|0;if(a|0)o[a+48>>2]=o[_+48>>2];if((o[e+9280>>2]|0)==(_|0))o[e+9280>>2]=o[_+48>>2];o[e+9284>>2]=(o[e+9284>>2]|0)+-1;o[_+44>>2]=0;o[_+48>>2]=o[e+9288>>2];a=o[e+9288>>2]|0;if(a|0)o[a+44>>2]=_;o[e+9288>>2]=_;o[e+9292>>2]=(o[e+9292>>2]|0)+1;e=0;return e|0}if((!(ul(+c[_>>2],+c[_+4>>2],+c[_+8>>2],+c[t+16>>2],+c[t+20>>2],+c[t+24>>2],+c[i+16>>2],+c[i+20>>2],+c[i+24>>2],_+16|0)|0)?!(ul(+c[_>>2],+c[_+4>>2],+c[_+8>>2],+c[i+16>>2],+c[i+20>>2],+c[i+24>>2],+c[r+16>>2],+c[r+20>>2],+c[r+24>>2],_+16|0)|0):0)?!(ul(+c[_>>2],+c[_+4>>2],+c[_+8>>2],+c[r+16>>2],+c[r+20>>2],+c[r+24>>2],+c[t+16>>2],+c[t+20>>2],+c[t+24>>2],_+16|0)|0):0)c[_+16>>2]=(+c[t+16>>2]*+c[_>>2]+ +c[t+20>>2]*+c[_+4>>2]+ +c[t+24>>2]*+c[_+8>>2])/l;c[_>>2]=1.0/l*+c[_>>2];c[_+4>>2]=1.0/l*+c[_+4>>2];c[_+8>>2]=1.0/l*+c[_+8>>2];if(s){e=_;return e|0}if(+c[_+16>>2]>=-9.999999747378752e-06){e=_;return e|0}o[e>>2]=3;a=o[_+48>>2]|0;if(a|0)o[a+44>>2]=o[_+44>>2];a=o[_+44>>2]|0;if(a|0)o[a+48>>2]=o[_+48>>2];if((o[e+9280>>2]|0)==(_|0))o[e+9280>>2]=o[_+48>>2];o[e+9284>>2]=(o[e+9284>>2]|0)+-1;o[_+44>>2]=0;o[_+48>>2]=o[e+9288>>2];a=o[e+9288>>2]|0;if(a|0)o[a+44>>2]=_;o[e+9288>>2]=_;o[e+9292>>2]=(o[e+9292>>2]|0)+1;e=0;return e|0}function mo(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0;o[e+556>>2]=o[t>>2];o[e+556+4>>2]=o[t+4>>2];o[e+556+8>>2]=o[t+8>>2];o[e+556+12>>2]=o[t+12>>2];_=+c[e+568>>2];u=+c[e+560>>2];f=+c[e+564>>2];d=+c[e+556>>2];r=-d-u*0.0-f*0.0;n=(f+_*0.0-d*0.0)*-f+(_*(_+u*0.0-f*0.0)+r*-d)-(_*0.0+d*0.0-u)*-u;i=(_*0.0+d*0.0-u)*-d+(_*(f+_*0.0-d*0.0)+r*-u)-(_+u*0.0-f*0.0)*-f;r=(_+u*0.0-f*0.0)*-u+(r*-f+_*(_*0.0+d*0.0-u))-(f+_*0.0-d*0.0)*-d;if(r*0.0+(i*0.0+n)<-.9999998807907104){s=-0.0;a=0.0;l=0.0;i=1.0}else{A=+v(+((r*0.0+(i*0.0+n)+1.0)*2.0));s=(r*0.0-i*0.0)*(1.0/A);a=(i-n*0.0)*(1.0/A);l=A*.5;i=(n*0.0-r)*(1.0/A)}h=1.0/+v(+(s*s+i*i+a*a+l*l));m=s*h;A=i*h;p=a*h;h=l*h;n=1.0/+v(+((_*h-d*-m-u*-A-f*-p)*(_*h-d*-m-u*-A-f*-p)+((u*-m+(f*h+_*-p)-d*-A)*(u*-m+(f*h+_*-p)-d*-A)+((f*-A+(d*h+_*-m)-u*-p)*(f*-A+(d*h+_*-m)-u*-p)+(d*-p+(_*-A+u*h)-f*-m)*(d*-p+(_*-A+u*h)-f*-m)))));s=(f*-A+(d*h+_*-m)-u*-p)*n;i=(d*-p+(_*-A+u*h)-f*-m)*n;r=(u*-m+(f*h+_*-p)-d*-A)*n;d=(_*h-d*-m-u*-A-f*-p)*n;n=+c[e+444>>2];if(n>=.05000000074505806?(b=+c[e+448>>2],b>=.05000000074505806):0){l=h<-1.0?-1.0:h;l=+T(+(l>1.0?1.0:l))*2.0;if(l>1.1920928955078125e-07){a=1.0/+v(+(p*p+(m*m+A*A)));if(+y(+(A*a))>1.1920928955078125e-07){n=+v(+((p*a*(p*a)/(A*a*(A*a))+1.0)/(p*a*(p*a)/(A*a*(A*a))/(n*n)+1.0/(b*b))));_=m*a;u=A*a;a=p*a}else{_=m*a;u=A*a;a=p*a}}else{n=0.0;_=0.0;u=0.0;a=0.0}if(+y(+l)>1.1920928955078125e-07){if(!(l>n)){n=-n;if(!(l<n))n=l}h=n*.5;f=+S(+h)/+v(+(_*_+u*u+a*a));h=+E(+h);m=_*f;p=a*f;f=u*f}else f=A}else f=A;u=+c[e+452>>2];if(u>=.05000000074505806){n=d<-1.0?-1.0:d;n=+T(+(n>1.0?1.0:n))*2.0;if(n>3.1415927410125732){n=-d<-1.0?-1.0:-d;a=-s;l=-i;_=-r;n=+T(+(n>1.0?1.0:n))*2.0}else{a=s;l=i;_=r}if(n>1.1920928955078125e-07){A=1.0/+v(+(a*a+l*l+_*_));a=a*A;l=l*A;_=_*A}if(+y(+n)>1.1920928955078125e-07){if(!(n>u)){if(n<-u)i=-u;else i=n}else i=u;n=i*.5;i=+S(+n)/+v(+(_*_+(l*l+a*a)));s=a*i;r=_*i;n=+E(+n);i=l*i}else n=d}else n=d;c[e+556>>2]=f*r+(h*s+m*n)-p*i;c[e+560>>2]=p*s+(h*i+f*n)-m*r;c[e+564>>2]=m*i+(h*r+p*n)-f*s;c[e+568>>2]=h*n-m*s-f*i-p*r;return}function Ao(e,t,i,n,r,s){e=e|0;t=+t;i=+i;n=n|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0,p=0,b=0,m=0.0;h=ae;ae=ae+352|0;_=Zw(r)|0;u=+c[_>>2];f=+c[_+4>>2];d=+c[_+8>>2];c[h+328>>2]=0.0;c[h+324>>2]=0.0;c[h+320>>2]=0.0;Am(h+336|0,h+328|0,h+324|0,h+320|0);c[(JL(h+336|0)|0)+(n<<2)>>2]=i;c[h+296>>2]=0.0;c[h+292>>2]=0.0;c[h+288>>2]=0.0;Am(h+304|0,h+296|0,h+292|0,h+288|0);_=JL(h+304|0)|0;c[_+(n<<2)>>2]=-i;c[h+264>>2]=0.0;c[h+260>>2]=0.0;c[h+256>>2]=0.0;Am(h+272|0,h+264|0,h+260|0,h+256|0);l=JL(h+272|0)|0;c[l+(n<<2)>>2]=i;a=0;while(1){if(a>>>0>=360)break;i=+(a|0)*.01745329238474369;m=+HL(i)*t;c[_+(((n+1|0)%3|0)<<2)>>2]=m;c[l+(((n+1|0)%3|0)<<2)>>2]=m;i=+jL(i)*t;c[_+(((n+2|0)%3|0)<<2)>>2]=i;c[l+(((n+2|0)%3|0)<<2)>>2]=i;p=o[(o[e>>2]|0)+8>>2]|0;b=JL(r)|0;g_(h+224|0,b,+c[h+304>>2],+c[h+304+4>>2],+c[h+304+8>>2]);Eh(h+240|0,u,f,d,+c[h+224>>2],+c[h+224+4>>2],+c[h+224+8>>2]);g_(h+192|0,b,+c[h+272>>2],+c[h+272+4>>2],+c[h+272+8>>2]);Eh(h+208|0,u,f,d,+c[h+192>>2],+c[h+192+4>>2],+c[h+192+8>>2]);BF[p&127](e,h+240|0,h+208|0,s);a=a+30|0}c[h+168>>2]=0.0;c[h+164>>2]=0.0;c[h+160>>2]=0.0;Am(h+176|0,h+168|0,h+164|0,h+160|0);c[(JL(h+176|0)|0)+(n<<2)>>2]=1.0;c[h+136>>2]=0.0;c[h+132>>2]=0.0;c[h+128>>2]=0.0;Am(h+144|0,h+136|0,h+132|0,h+128|0);c[(JL(h+144|0)|0)+(((n+1|0)%3|0)<<2)>>2]=1.0;b=o[(o[e>>2]|0)+60>>2]|0;p=JL(r)|0;g_(h+96|0,p,+c[h+336>>2],+c[h+336+4>>2],+c[h+336+8>>2]);Th(h+112|0,u,f,d,+c[h+96>>2],+c[h+96+4>>2],+c[h+96+8>>2]);g_(h+80|0,p,+c[h+176>>2],+c[h+176+4>>2],+c[h+176+8>>2]);g_(h+64|0,p,+c[h+144>>2],+c[h+144+4>>2],+c[h+144+8>>2]);HF[b&1](e,h+112|0,h+80|0,h+64|0,t,t,0.0,6.2831854820251465,s,0,10.0);b=o[(o[e>>2]|0)+60>>2]|0;g_(h+32|0,p,+c[h+336>>2],+c[h+336+4>>2],+c[h+336+8>>2]);Eh(h+48|0,u,f,d,+c[h+32>>2],+c[h+32+4>>2],+c[h+32+8>>2]);g_(h+16|0,p,+c[h+176>>2],+c[h+176+4>>2],+c[h+176+8>>2]);g_(h,p,+c[h+144>>2],+c[h+144+4>>2],+c[h+144+8>>2]);HF[b&1](e,h+48|0,h+16|0,h,t,t,0.0,6.2831854820251465,s,0,10.0);ae=h;return}function go(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,l=0,_=0.0,u=0,f=0.0,d=0.0,h=0.0;a=o[e+192>>2]|0;_=+nF[o[(o[a>>2]|0)+48>>2]&15](a);a=o[e+712>>2]|0;if((a|0)>0){u=0;do{l=o[e+720>>2]|0;i=l+(u*104|0)+8|0;f=+c[t>>2]*+c[i>>2];c[i>>2]=f;i=l+(u*104|0)+12|0;h=+c[t+4>>2]*+c[i>>2];c[i>>2]=h;i=l+(u*104|0)+16|0;d=+c[t+8>>2]*+c[i>>2];c[i>>2]=d;i=l+(u*104|0)+24|0;c[i>>2]=+c[t>>2]*+c[i>>2];i=l+(u*104|0)+28|0;c[i>>2]=+c[t+4>>2]*+c[i>>2];i=l+(u*104|0)+32|0;c[i>>2]=+c[t+8>>2]*+c[i>>2];l=o[l+(u*104|0)+96>>2]|0;i=fi(e+928|0,l)|0;e:do{if(i){r=o[e+936>>2]|0;if((r|0)<=-1){i=o[e+928>>2]|0;break}if(r){s=0;n=i;while(1){i=o[n+32>>2]|0;s=s+1|0;if(!i){i=n;break e}if((s|0)>=(r|0))break;else n=i}}}else i=0}while(0);c[l>>2]=f-_;c[l+4>>2]=h-_;c[l+8>>2]=d-_;c[l+12>>2]=0.0;c[l+16>>2]=_+f;c[l+20>>2]=_+h;c[l+24>>2]=_+d;c[l+28>>2]=0.0;de(e+928|0,i,l);u=u+1|0}while((u|0)!=(a|0))}wt(e);i=o[e+928>>2]|0;if(i){t=o[e+192>>2]|0;f=+nF[o[(o[t>>2]|0)+48>>2]&15](t);h=+c[i+4>>2]-f;d=+c[i+8>>2]-f;c[e+892>>2]=+c[i>>2]-f;c[e+896>>2]=h;c[e+900>>2]=d;c[e+904>>2]=0.0;d=f+ +c[i+20>>2];h=f+ +c[i+24>>2];c[e+908>>2]=f+ +c[i+16>>2];c[e+912>>2]=d;c[e+916>>2]=h;c[e+920>>2]=0.0;i=o[e+188>>2]|0;if(i|0){t=o[e+684>>2]|0;u=o[t+32>>2]|0;jF[o[(o[u>>2]|0)+16>>2]&31](u,i,e+892|0,e+908|0,o[t+36>>2]|0)}}else{o[e+892>>2]=0;o[e+892+4>>2]=0;o[e+892+8>>2]=0;o[e+892+12>>2]=0;o[e+892+16>>2]=0;o[e+892+20>>2]=0;o[e+892+24>>2]=0;o[e+892+28>>2]=0}n=o[e+732>>2]|0;if((n|0)<=0){tt(e);return}r=o[e+740>>2]|0;i=0;do{u=o[r+(i*52|0)+8>>2]|0;t=o[r+(i*52|0)+12>>2]|0;f=+c[u+8>>2]-+c[t+8>>2];d=+c[u+12>>2]-+c[t+12>>2];h=+c[u+16>>2]-+c[t+16>>2];h=+v(+(f*f+d*d+h*h));c[r+(i*52|0)+16>>2]=h;c[r+(i*52|0)+28>>2]=h*h;i=i+1|0}while((i|0)!=(n|0));i=0;do{c[r+(i*52|0)+24>>2]=(+c[(o[r+(i*52|0)+8>>2]|0)+88>>2]+ +c[(o[r+(i*52|0)+12>>2]|0)+88>>2])/+c[(o[r+(i*52|0)+4>>2]|0)+4>>2];i=i+1|0}while((i|0)!=(n|0));tt(e);return}function yo(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0;if(!t)if(!n){if(r|0){o[r>>2]=(e>>>0)%(i>>>0);o[r+4>>2]=0}n=0;r=(e>>>0)/(i>>>0)>>>0;return(P(n|0),r)|0}else{if(!r){n=0;r=0;return(P(n|0),r)|0}o[r>>2]=e|0;o[r+4>>2]=t&0;n=0;r=0;return(P(n|0),r)|0}do{if(i){if(n|0){a=(I(n|0)|0)-(I(t|0)|0)|0;if(a>>>0<=31){d=a+1|0;c=e>>>((a+1|0)>>>0)&a-31>>31|t<<31-a;f=t>>>((a+1|0)>>>0)&a-31>>31;s=0;a=e<<31-a;break}if(!r){n=0;r=0;return(P(n|0),r)|0}o[r>>2]=e|0;o[r+4>>2]=t|t&0;n=0;r=0;return(P(n|0),r)|0}if(i-1&i|0){a=(I(i|0)|0)+33-(I(t|0)|0)|0;d=a;c=32-a-1>>31&t>>>((a-32|0)>>>0)|(t<<32-a|e>>>(a>>>0))&a-32>>31;f=a-32>>31&t>>>(a>>>0);s=e<<64-a&32-a>>31;a=(t<<64-a|e>>>((a-32|0)>>>0))&32-a>>31|e<<32-a&a-33>>31;break}if(r|0){o[r>>2]=i-1&e;o[r+4>>2]=0}if((i|0)==1){n=t|t&0;r=e|0|0;return(P(n|0),r)|0}else{r=oP(i|0)|0;n=t>>>(r>>>0)|0;r=t<<32-r|e>>>(r>>>0)|0;return(P(n|0),r)|0}}else{if(!n){if(r|0){o[r>>2]=(t>>>0)%(i>>>0);o[r+4>>2]=0}n=0;r=(t>>>0)/(i>>>0)>>>0;return(P(n|0),r)|0}if(!e){if(r|0){o[r>>2]=0;o[r+4>>2]=(t>>>0)%(n>>>0)}i=0;r=(t>>>0)/(n>>>0)>>>0;return(P(i|0),r)|0}if(!(n-1&n)){if(r|0){o[r>>2]=e|0;o[r+4>>2]=n-1&t|t&0}i=0;r=t>>>((oP(n|0)|0)>>>0);return(P(i|0),r)|0}a=(I(n|0)|0)-(I(t|0)|0)|0;if(a>>>0<=30){d=a+1|0;c=t<<31-a|e>>>((a+1|0)>>>0);f=t>>>((a+1|0)>>>0);s=0;a=e<<31-a;break}if(!r){n=0;r=0;return(P(n|0),r)|0}o[r>>2]=e|0;o[r+4>>2]=t|t&0;n=0;r=0;return(P(n|0),r)|0}}while(0);if(!d){l=a;t=f;e=0;a=0}else{_=Uy(i|0|0,n|n&0|0,-1,-1)|0;u=D()|0;l=a;t=f;e=d;a=0;do{p=l;l=s>>>31|l<<1;s=a|s<<1;p=c<<1|p>>>31|0;h=c>>>31|t<<1|0;vy(_|0,u|0,p|0,h|0)|0;d=D()|0;f=d>>31|((d|0)<0?-1:0)<<1;a=f&1;c=vy(p|0,h|0,f&(i|0)|0,(((d|0)<0?-1:0)>>31|((d|0)<0?-1:0)<<1)&(n|n&0)|0)|0;t=D()|0;e=e-1|0}while((e|0)!=0);e=0}if(r|0){o[r>>2]=c;o[r+4>>2]=t}h=(s|0)>>>31|l<<1|(0<<1|s>>>31)&0|e;p=(s<<1|0>>>31)&-2|a;return(P(h|0),p)|0}function vo(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0.0,m=0,A=0,g=0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0;if(!e)return;y=+c[t>>2];v=+c[t+4>>2];C=+c[t+8>>2];E=+c[t+16>>2];S=+c[t+20>>2];b=+c[t+24>>2];o[6747]=(o[6747]|0)+1;t=Do(275)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}o[t>>2]=e;f=t;u=t;r=t;s=t;d=64;n=1;e=t;while(1){l=n+-1|0;p=o[e+(l<<2)>>2]|0;do{if(((((+c[p>>2]<=E?+c[p+16>>2]>=y:0)?+c[p+4>>2]<=S:0)?+c[p+20>>2]>=v:0)?+c[p+8>>2]<=b:0)?+c[p+24>>2]>=C:0){if(!(o[p+40>>2]|0)){xF[o[(o[i>>2]|0)+12>>2]&127](i,p);_=u;t=f;a=d;n=l;break}h=o[p+36>>2]|0;do{if((l|0)==(d|0)){_=(d|0)==0?1:d<<1;if((n|0)<=(_|0)){if((_|0)!=0?(o[6747]=(o[6747]|0)+1,A=Do((_<<2|3)+16|0)|0,(A|0)!=0):0){o[(A+4+15&-16)+-4>>2]=A;a=A+4+15&-16}else a=0;if((n|0)<=1){if(!e){l=0;s=a;n=a;r=a;t=a;d=_;f=a;break}}else{t=0;do{o[a+(t<<2)>>2]=o[e+(t<<2)>>2];t=t+1|0}while((t|0)!=(d|0))}if(!f){l=d;s=a;n=a;r=a;t=a;d=_;f=a}else{o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0);l=d;s=a;n=a;r=a;t=a;d=_;f=a}}else{l=d;n=u;t=f;f=e}}else{n=u;t=f;f=e}}while(0);o[f+(l<<2)>>2]=h;u=l+1|0;_=o[p+40>>2]|0;do{if((u|0)==(d|0)?(g=(d|0)==0?1:d<<1,(d|0)<(g|0)):0){if((g|0)!=0?(o[6747]=(o[6747]|0)+1,m=Do((g<<2|3)+16|0)|0,(m|0)!=0):0){o[(m+4+15&-16)+-4>>2]=m;e=m+4+15&-16}else e=0;if((l|0)>-1){t=0;do{o[e+(t<<2)>>2]=o[f+(t<<2)>>2];t=t+1|0}while((t|0)!=(d|0));if(!s){n=e;r=e;s=e;t=e;a=g;break}}else if((f|0)==0|(s|0)==0){n=e;r=e;s=e;t=e;a=g;break}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);n=e;r=e;s=e;t=e;a=g}else{a=d;e=f}}while(0);o[e+(u<<2)>>2]=_;_=n;n=l+2|0}else{_=u;t=f;a=d;n=l}}while(0);if((n|0)<=0)break;f=t;u=_;d=a}if((e|0)==0|(_|0)==0)return;o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);return}function Co(e,t,i,n,r,s){e=e|0;t=+t;i=+i;n=n|0;r=r|0;s=s|0;var a=0,l=0.0,_=0.0,u=0,f=0,d=0,h=0,p=0,b=0.0,m=0.0;d=ae;ae=ae+400|0;c[d+376>>2]=0.0;c[d+372>>2]=0.0;c[d+368>>2]=0.0;Am(d+384|0,d+376|0,d+372|0,d+368|0);u=JL(d+384|0)|0;c[u+(n<<2)>>2]=-i;c[d+344>>2]=0.0;c[d+340>>2]=0.0;c[d+336>>2]=0.0;Am(d+352|0,d+344|0,d+340|0,d+336|0);f=JL(d+352|0)|0;c[f+(n<<2)>>2]=i;kp(d+272|0,r);ov(d+256|0,r,+c[d+384>>2],+c[d+384+4>>2],+c[d+384+8>>2]);a=Zw(d+272|0)|0;o[a>>2]=o[d+256>>2];o[a+4>>2]=o[d+256+4>>2];o[a+8>>2]=o[d+256+8>>2];o[a+12>>2]=o[d+256+12>>2];o[d+240>>2]=o[d+256>>2];o[d+240+4>>2]=o[d+256+4>>2];o[d+240+8>>2]=o[d+256+8>>2];o[d+240+12>>2]=o[d+256+12>>2];a=JL(d+272|0)|0;_b(d+224|0,a,(n+1|0)%3|0);_b(d+192|0,a,n);zp(d+208|0,+c[d+192>>2],+c[d+192+4>>2],+c[d+192+8>>2]);UF[o[(o[e>>2]|0)+64>>2]&1](e,d+240|0,d+224|0,d+208|0,t,-1.5707963705062866,1.5707963705062866,-1.5707963705062866,1.5707963705062866,s,30.0,0);kp(d+128|0,r);ov(d+112|0,r,+c[d+352>>2],+c[d+352+4>>2],+c[d+352+8>>2]);a=Zw(d+128|0)|0;o[a>>2]=o[d+112>>2];o[a+4>>2]=o[d+112+4>>2];o[a+8>>2]=o[d+112+8>>2];o[a+12>>2]=o[d+112+12>>2];o[d+96>>2]=o[d+112>>2];o[d+96+4>>2]=o[d+112+4>>2];o[d+96+8>>2]=o[d+112+8>>2];o[d+96+12>>2]=o[d+112+12>>2];a=JL(d+128|0)|0;_b(d+80|0,a,(n+1|0)%3|0);_b(d+64|0,a,n);UF[o[(o[e>>2]|0)+64>>2]&1](e,d+96|0,d+80|0,d+64|0,t,-1.5707963705062866,1.5707963705062866,-1.5707963705062866,1.5707963705062866,s,30.0,0);a=Zw(r)|0;i=+c[a>>2];l=+c[a+4>>2];_=+c[a+8>>2];a=0;while(1){if(a>>>0>=360)break;b=+(a|0)*.01745329238474369;m=+HL(b)*t;c[u+(((n+1|0)%3|0)<<2)>>2]=m;c[f+(((n+1|0)%3|0)<<2)>>2]=m;b=+jL(b)*t;c[u+(((n+2|0)%3|0)<<2)>>2]=b;c[f+(((n+2|0)%3|0)<<2)>>2]=b;h=o[(o[e>>2]|0)+8>>2]|0;p=JL(r)|0;g_(d+32|0,p,+c[d+384>>2],+c[d+384+4>>2],+c[d+384+8>>2]);Eh(d+48|0,i,l,_,+c[d+32>>2],+c[d+32+4>>2],+c[d+32+8>>2]);g_(d,p,+c[d+352>>2],+c[d+352+4>>2],+c[d+352+8>>2]);Eh(d+16|0,i,l,_,+c[d>>2],+c[d+4>>2],+c[d+8>>2]);BF[h&127](e,d+48|0,d+16|0,s);a=a+30|0}ae=d;return}function Eo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0,u=0,f=0;r=o[t+8>>2]|0;if((r|0)>0){s=o[t+16>>2]|0;l=0;i=0;do{a=o[s+(l<<2)>>2]|0;if(!(o[a+204>>2]&3)){o[a+208>>2]=i;i=i+1|0}o[a+212>>2]=-1;c[a+244>>2]=1.0;l=l+1|0}while((l|0)!=(r|0));l=i}else l=0;a=o[e+8>>2]|0;if((a|0)<(l|0)){if((o[e+12>>2]|0)<(l|0)){if(!l){r=a;s=0}else{o[6747]=(o[6747]|0)+1;i=Do((l<<3|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+8>>2]|0;s=i}if((r|0)>0){i=0;do{f=(o[e+16>>2]|0)+(i<<3)|0;_=o[f+4>>2]|0;u=s+(i<<3)|0;o[u>>2]=o[f>>2];o[u+4>>2]=_;i=i+1|0}while((i|0)!=(r|0))}i=o[e+16>>2]|0;if(i|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=s;o[e+12>>2]=l;r=e+16|0}else r=e+16|0;i=a;do{f=(o[r>>2]|0)+(i<<3)|0;o[f>>2]=0;o[f+4>>2]=0;i=i+1|0}while((i|0)!=(l|0))}o[e+8>>2]=l;if((l|0)>0){i=o[e+16>>2]|0;r=0;do{o[i+(r<<3)>>2]=r;o[i+(r<<3)+4>>2]=1;r=r+1|0}while((r|0)!=(l|0))}i=o[t+68>>2]|0;i=dF[o[(o[i>>2]|0)+36>>2]&127](i)|0;u=dF[o[(o[i>>2]|0)+36>>2]&127](i)|0;if(!u)return;t=dF[o[(o[i>>2]|0)+20>>2]&127](i)|0;if((u|0)<=0)return;_=0;do{i=o[o[t+(_<<4)>>2]>>2]|0;r=o[o[t+(_<<4)+4>>2]>>2]|0;if((i|0?r|0?(o[i+204>>2]&7|0)==0:0:0)?(o[r+204>>2]&7|0)==0:0){s=o[i+208>>2]|0;i=o[r+208>>2]|0;l=o[e+16>>2]|0;r=o[l+(s<<3)>>2]|0;if((r|0)!=(s|0)){o[l+(s<<3)>>2]=o[l+(r<<3)>>2];s=o[l+(r<<3)>>2]|0;r=o[l+(s<<3)>>2]|0;if((s|0)!=(r|0)){a=l+(s<<3)|0;do{s=l+(r<<3)|0;o[a>>2]=o[s>>2];s=o[s>>2]|0;a=l+(s<<3)|0;r=o[a>>2]|0}while((s|0)!=(r|0))}}r=o[l+(i<<3)>>2]|0;if((r|0)!=(i|0)){o[l+(i<<3)>>2]=o[l+(r<<3)>>2];i=o[l+(r<<3)>>2]|0;r=o[l+(i<<3)>>2]|0;if((i|0)!=(r|0)){a=l+(i<<3)|0;do{i=l+(r<<3)|0;o[a>>2]=o[i>>2];i=o[i>>2]|0;a=l+(i<<3)|0;r=o[a>>2]|0}while((i|0)!=(r|0))}}if((s|0)!=(i|0)){o[l+(s<<3)>>2]=i;f=l+(i<<3)+4|0;o[f>>2]=(o[f>>2]|0)+(o[l+(s<<3)+4>>2]|0)}}_=_+1|0}while((_|0)!=(u|0));return}function So(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0;s=ae;ae=ae+48|0;o[e+8>>2]=0;c[e+12>>2]=0.0;o[e>>2]=8136;o[e+48>>2]=t;o[e+4>>2]=21;if(dF[o[(o[t>>2]|0)+40>>2]&127](t)|0)LF[o[(o[t>>2]|0)+48>>2]&127](t,e+16|0,e+32|0);else{t=s+32+4|0;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;c[s+32>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s+16|0,e,s+32|0);c[e+32>>2]=+c[s+16>>2]+ +c[e+12>>2];c[s+32>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s,e,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];c[e+16>>2]=+c[s+16>>2]-+c[e+12>>2];o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;c[t>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s+16|0,e,s+32|0);c[e+36>>2]=+c[s+16+4>>2]+ +c[e+12>>2];c[t>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s,e,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];c[e+20>>2]=+c[s+16+4>>2]-+c[e+12>>2];o[s+32>>2]=0;o[s+32+4>>2]=0;o[s+32+8>>2]=0;o[s+32+12>>2]=0;c[s+32+8>>2]=1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s+16|0,e,s+32|0);c[e+40>>2]=+c[s+16+8>>2]+ +c[e+12>>2];c[s+32+8>>2]=-1.0;LF[o[(o[e>>2]|0)+68>>2]&127](s,e,s+32|0);o[s+16>>2]=o[s>>2];o[s+16+4>>2]=o[s+4>>2];o[s+16+8>>2]=o[s+8>>2];o[s+16+12>>2]=o[s+12>>2];c[e+24>>2]=+c[s+16+8>>2]-+c[e+12>>2]}o[e>>2]=7984;o[e+52>>2]=0;o[e+56>>2]=0;n[e+60>>0]=i&1;n[e+61>>0]=0;o[e+4>>2]=21;if(!r){ae=s;return}o[6747]=(o[6747]|0)+1;r=Do(191)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r+52>>2]=282;n[r+60>>0]=0;n[r+80>>0]=1;o[r+76>>2]=0;o[r+68>>2]=0;o[r+72>>2]=0;n[r+100>>0]=1;o[r+96>>2]=0;o[r+88>>2]=0;o[r+92>>2]=0;n[r+120>>0]=1;o[r+116>>2]=0;o[r+108>>2]=0;o[r+112>>2]=0;n[r+140>>0]=1;o[r+136>>2]=0;o[r+128>>2]=0;o[r+132>>2]=0;o[r+144>>2]=0;n[r+164>>0]=1;o[r+160>>2]=0;o[r+152>>2]=0;o[r+156>>2]=0;o[r+168>>2]=0;o[r+4>>2]=-8388609;o[r+8>>2]=-8388609;o[r+12>>2]=-8388609;c[r+16>>2]=0.0;o[r+20>>2]=2139095039;o[r+24>>2]=2139095039;o[r+28>>2]=2139095039;c[r+32>>2]=0.0;o[r>>2]=9292;o[e+52>>2]=r;Ss(r,o[e+48>>2]|0,(n[e+60>>0]|0)!=0,e+16|0,e+32|0);n[e+61>>0]=1;ae=s;return}function To(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0;l=ae;ae=ae+64|0;_=(n[e+8>>0]|0)!=0;a=_?i:t;i=_?t:i;t=o[i+4>>2]|0;if(((o[t+4>>2]|0)+-21|0)>>>0>=9){ae=l;return}if((o[(o[a+4>>2]|0)+4>>2]|0)>=20){ae=l;return}u=+nF[o[(o[t>>2]|0)+48>>2]&15](t);o[s+4>>2]=o[e+76>>2];o[e+16>>2]=a;o[e+20>>2]=i;o[e+64>>2]=r;c[e+68>>2]=u;o[e+56>>2]=s;_=o[i+12>>2]|0;R=+c[_>>2];T=+c[_+16>>2];S=+c[_+32>>2];E=+c[_+4>>2];C=+c[_+20>>2];v=+c[_+36>>2];m=+c[_+8>>2];p=+c[_+24>>2];d=+c[_+40>>2];y=-+c[_+48>>2];g=-+c[_+52>>2];A=-+c[_+56>>2];_=o[a+12>>2]|0;F=+c[_>>2];L=+c[_+16>>2];w=+c[_+32>>2];D=+c[_+4>>2];P=+c[_+20>>2];x=+c[_+36>>2];I=+c[_+8>>2];O=+c[_+24>>2];M=+c[_+40>>2];b=+c[_+48>>2];h=+c[_+52>>2];f=+c[_+56>>2];c[l>>2]=R*F+T*L+S*w;c[l+4>>2]=R*D+T*P+S*x;c[l+8>>2]=R*I+T*O+S*M;c[l+12>>2]=0.0;c[l+16>>2]=E*F+C*L+v*w;c[l+20>>2]=E*D+C*P+v*x;c[l+24>>2]=E*I+C*O+v*M;c[l+28>>2]=0.0;c[l+32>>2]=m*F+p*L+d*w;c[l+36>>2]=m*D+p*P+d*x;c[l+40>>2]=m*I+p*O+d*M;c[l+44>>2]=0.0;c[l+48>>2]=R*y+T*g+S*A+(R*b+T*h+S*f);c[l+52>>2]=E*y+C*g+v*A+(E*b+C*h+v*f);c[l+56>>2]=m*y+p*g+d*A+(m*b+p*h+d*f);c[l+60>>2]=0.0;_=o[a+4>>2]|0;BF[o[(o[_>>2]|0)+8>>2]&127](_,l,e+24|0,e+40|0);c[e+40>>2]=+c[e+40>>2]+u;c[e+44>>2]=+c[e+44>>2]+u;c[e+48>>2]=+c[e+48>>2]+u;c[e+24>>2]=+c[e+24>>2]-u;c[e+28>>2]=+c[e+28>>2]-u;c[e+32>>2]=+c[e+32>>2]-u;_=o[e+76>>2]|0;r=o[i+8>>2]|0;o[_+740>>2]=o[a+8>>2];o[_+744>>2]=r;BF[o[(o[t>>2]|0)+64>>2]&127](t,e+12|0,e+24|0,e+40|0);t=o[s+4>>2]|0;do{if(o[t+748>>2]|0){i=o[t+740>>2]|0;a=o[(o[s+8>>2]|0)+8>>2]|0;if((i|0)==(a|0)){io(t,i+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(t,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,a+4|0);break}}}while(0);o[e+16>>2]=0;o[e+20>>2]=0;ae=l;return}function Ro(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0,d=0,h=0.0,p=0;d=ae;ae=ae+128|0;s=+c[t>>2];a=+c[t+16>>2];h=s<a?s:a;l=+c[t+32>>2];if((h<l?h:l)>+c[e+28>>2]){ae=d;return}u=s>a?t:t+16|0;if(+c[(+c[u>>2]>l?u:t+32|0)>>2]<+c[e+12>>2]){ae=d;return}l=+c[t+8>>2];s=+c[t+24>>2];h=l<s?l:s;a=+c[t+40>>2];if((h<a?h:a)>+c[e+36>>2]){ae=d;return}u=l>s?t+8|0:t+24|0;if(+c[(+c[u>>2]>a?u:t+40|0)>>2]<+c[e+20>>2]){ae=d;return}s=+c[t+4>>2];a=+c[t+20>>2];h=s<a?s:a;l=+c[t+36>>2];if((h<l?h:l)>+c[e+32>>2]){ae=d;return}u=s>a?t+4|0:t+20|0;if(+c[(+c[u>>2]>l?u:t+36|0)>>2]<+c[e+16>>2]){ae=d;return}r=o[e+4>>2]|0;if((o[(o[r+4>>2]|0)+4>>2]|0)>=20){ae=d;return}u=o[e+48>>2]|0;o[d+24+8>>2]=0;o[d+24+12>>2]=1065353216;o[d+24+16>>2]=1065353216;o[d+24+20>>2]=1065353216;c[d+24+24>>2]=0.0;o[d+24+52>>2]=0;o[d+24>>2]=4780;o[d+24+4>>2]=1;o[d+24+56>>2]=o[t>>2];o[d+24+56+4>>2]=o[t+4>>2];o[d+24+56+8>>2]=o[t+8>>2];o[d+24+56+12>>2]=o[t+12>>2];o[d+24+72>>2]=o[t+16>>2];o[d+24+72+4>>2]=o[t+16+4>>2];o[d+24+72+8>>2]=o[t+16+8>>2];o[d+24+72+12>>2]=o[t+16+12>>2];o[d+24+88>>2]=o[t+32>>2];o[d+24+88+4>>2]=o[t+32+4>>2];o[d+24+88+8>>2]=o[t+32+8>>2];o[d+24+88+12>>2]=o[t+32+12>>2];o[d+24+44>>2]=o[e+56>>2];p=o[e+8>>2]|0;t=o[p+8>>2]|0;_=o[p+12>>2]|0;o[d>>2]=p;o[d+4>>2]=d+24;o[d+8>>2]=t;o[d+12>>2]=_;o[d+16>>2]=i;o[d+20>>2]=n;_=AF[o[(o[u>>2]|0)+8>>2]&31](u,r,d,o[e+64>>2]|0)|0;t=o[e+44>>2]|0;r=o[t+8>>2]|0;if((o[r+8>>2]|0)==(o[(o[e+8>>2]|0)+8>>2]|0)){o[t+8>>2]=d;LF[o[(o[t>>2]|0)+8>>2]&127](t,i,n)}else{r=o[t+12>>2]|0;o[t+12>>2]=d;LF[o[(o[t>>2]|0)+12>>2]&127](t,i,n)}jF[o[(o[_>>2]|0)+8>>2]&31](_,o[e+4>>2]|0,d,o[e+52>>2]|0,o[e+44>>2]|0);p=o[e+44>>2]|0;o[((o[(o[p+8>>2]|0)+8>>2]|0)==(o[(o[e+8>>2]|0)+8>>2]|0)?p+8|0:p+12|0)>>2]=r;SF[o[o[_>>2]>>2]&511](_);xF[o[(o[u>>2]|0)+60>>2]&127](u,_);o[d+24>>2]=8336;r=o[d+24+52>>2]|0;if(r|0?(SF[o[o[r>>2]>>2]&511](r),f=o[d+24+52>>2]|0,f|0):0){o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0)}ae=d;return}function Mo(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0,S=0.0,T=0.0;E=n[s+16>>0]&-16;n[s+16>>0]=E;d=+c[i>>2];h=+c[t>>2];p=+c[i+4>>2];b=+c[t+4>>2];m=+c[i+8>>2];A=+c[t+8>>2];g=+c[r>>2];y=+c[r+4>>2];v=+c[r+8>>2];u=+c[e>>2];f=+c[e+4>>2];a=+c[e+8>>2];T=(d-h)*(u-h)+(p-b)*(f-b)+(m-A)*(a-A);S=(g-h)*(u-h)+(y-b)*(f-b)+(v-A)*(a-A);do{if(T<=0.0&S<=0.0){o[s>>2]=o[t>>2];o[s+4>>2]=o[t+4>>2];o[s+8>>2]=o[t+8>>2];o[s+12>>2]=o[t+12>>2];n[s+16>>0]=E|1;l=0.0;_=0.0;a=1.0}else{C=(d-h)*(u-d)+(p-b)*(f-p)+(m-A)*(a-m);_=(g-h)*(u-d)+(y-b)*(f-p)+(v-A)*(a-m);if(!(!(C>=0.0)|!(_<=C))){o[s>>2]=o[i>>2];o[s+4>>2]=o[i+4>>2];o[s+8>>2]=o[i+8>>2];o[s+12>>2]=o[i+12>>2];n[s+16>>0]=E|2;l=0.0;_=1.0;a=0.0;break}if(C<=0.0&(T>=0.0?T*_-C*S<=0.0:0)){c[s>>2]=h+(d-h)*(T/(T-C));c[s+4>>2]=b+(p-b)*(T/(T-C));c[s+8>>2]=A+(m-A)*(T/(T-C));c[s+12>>2]=0.0;n[s+16>>0]=E|3;l=0.0;_=T/(T-C);a=1.0-T/(T-C);break}l=(d-h)*(u-g)+(p-b)*(f-y)+(m-A)*(a-v);a=(g-h)*(u-g)+(y-b)*(f-y)+(v-A)*(a-v);if(!(!(a>=0.0)|!(l<=a))){o[s>>2]=o[r>>2];o[s+4>>2]=o[r+4>>2];o[s+8>>2]=o[r+8>>2];o[s+12>>2]=o[r+12>>2];n[s+16>>0]=E|4;l=1.0;_=0.0;a=0.0;break}if(a<=0.0&(S>=0.0?l*S-T*a<=0.0:0)){c[s>>2]=h+(g-h)*(S/(S-a));c[s+4>>2]=b+(y-b)*(S/(S-a));c[s+8>>2]=A+(v-A)*(S/(S-a));c[s+12>>2]=0.0;n[s+16>>0]=E|5;l=S/(S-a);_=0.0;a=1.0-S/(S-a);break}if((C*a-l*_<=0.0?_-C>=0.0:0)?l-a>=0.0:0){_=(_-C)/(_-C+(l-a));c[s>>2]=d+(g-d)*_;c[s+4>>2]=p+(y-p)*_;c[s+8>>2]=m+(v-m)*_;c[s+12>>2]=0.0;n[s+16>>0]=E|6;l=_;_=1.0-_;a=0.0;break}u=1.0/(T*_-C*S+(C*a-l*_+(l*S-T*a)));f=(l*S-T*a)*u;a=(T*_-C*S)*u;c[s>>2]=(g-h)*a+(h+(d-h)*f);c[s+4>>2]=(y-b)*a+(b+(p-b)*f);c[s+8>>2]=(v-A)*a+(A+(m-A)*f);c[s+12>>2]=0.0;n[s+16>>0]=E|7;l=a;_=f;a=1.0-f-a}}while(0);c[s+20>>2]=a;c[s+24>>2]=_;c[s+28>>2]=l;c[s+32>>2]=0.0;return}function Oo(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0;r=ae;ae=ae+256|0;La(14335);o[r+32>>2]=5124;_=r+32+36|0;o[_>>2]=o[t>>2];o[_+4>>2]=o[t+4>>2];o[_+8>>2]=o[t+8>>2];o[_+12>>2]=o[t+12>>2];u=r+32+52|0;o[u>>2]=o[i>>2];o[u+4>>2]=o[i+4>>2];o[u+8>>2]=o[i+8>>2];o[u+12>>2]=o[i+12>>2];o[r+32+212>>2]=e;o[r+32+216>>2]=n;o[r+32+68>>2]=1065353216;o[r+32+72>>2]=0;o[r+32+72+4>>2]=0;o[r+32+72+8>>2]=0;o[r+32+72+12>>2]=0;o[r+32+88>>2]=1065353216;o[r+32+92>>2]=0;o[r+32+92+4>>2]=0;o[r+32+92+8>>2]=0;o[r+32+92+12>>2]=0;o[r+32+108>>2]=1065353216;o[r+32+112>>2]=0;o[r+32+116>>2]=o[_>>2];o[r+32+116+4>>2]=o[_+4>>2];o[r+32+116+8>>2]=o[_+8>>2];o[r+32+116+12>>2]=o[_+12>>2];o[r+32+132>>2]=1065353216;o[r+32+136>>2]=0;o[r+32+136+4>>2]=0;o[r+32+136+8>>2]=0;o[r+32+136+12>>2]=0;o[r+32+152>>2]=1065353216;o[r+32+156>>2]=0;o[r+32+156+4>>2]=0;o[r+32+156+8>>2]=0;o[r+32+156+12>>2]=0;o[r+32+172>>2]=1065353216;o[r+32+176>>2]=0;o[r+32+180>>2]=o[i>>2];o[r+32+180+4>>2]=o[i+4>>2];o[r+32+180+8>>2]=o[i+8>>2];o[r+32+180+12>>2]=o[i+12>>2];f=+c[i>>2]-+c[t>>2];l=+c[i+4>>2]-+c[t+4>>2];a=+c[i+8>>2]-+c[t+8>>2];s=1.0/+v(+(f*f+l*l+a*a));p=f*s==0.0?1000000015047466219876688.0e6:1.0/(f*s);c[r+32+4>>2]=p;h=l*s==0.0?1000000015047466219876688.0e6:1.0/(l*s);c[r+32+8>>2]=h;d=a*s==0.0?1000000015047466219876688.0e6:1.0/(a*s);c[r+32+12>>2]=d;o[r+32+20>>2]=p<0.0&1;o[r+32+24>>2]=h<0.0&1;o[r+32+28>>2]=d<0.0&1;c[r+32+32>>2]=f*s*(+c[u>>2]-+c[_>>2])+l*s*(+c[r+32+56>>2]-+c[r+32+40>>2])+a*s*(+c[r+32+60>>2]-+c[r+32+44>>2]);e=o[e+68>>2]|0;n=o[(o[e>>2]|0)+24>>2]|0;o[r+16>>2]=0;o[r+16+4>>2]=0;o[r+16+8>>2]=0;o[r+16+12>>2]=0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;GF[n&7](e,t,i,r+32|0,r+16|0,r);t=o[2685]|0;e=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=e;if(e|0){ae=r;return}do{if(o[t+4>>2]|0){$(r+32|0,0)|0;u=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[r+32+4>>2]|0)-(o[u+4>>2]|0)+(((o[r+32>>2]|0)-(o[u>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=r;return}}}while(0);o[2685]=o[t+20>>2];ae=r;return}function Io(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,_=0,u=0.0,f=0.0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0.0;g=ae;ae=ae+32|0;h=o[e+4>>2]|0;YF[o[(o[h>>2]|0)+16>>2]&3](h,g+28|0,g+24|0,g+20|0,g+16|0,g+12|0,g+8|0,g+4|0,g,t);h=(o[g+12>>2]|0)+(O(o[g+8>>2]|0,i)|0)|0;m=o[e+4>>2]|0;d=o[g>>2]|0;switch(d|0){case 3:{n=a[h+4>>1]|0;break}case 2:{n=o[h+8>>2]|0;break}default:n=s[h+2>>0]|0}A=(o[g+20>>2]|0)==0;p=o[g+28>>2]|0;b=o[g+16>>2]|0;n=p+(O(b,n)|0)|0;if(A){_=n+8|0;u=+c[m+12>>2];f=+c[n>>2]*+c[m+4>>2];r=+c[n+4>>2]*+c[m+8>>2]}else{_=m+12|0;u=+l[n+16>>3];f=+c[m+4>>2]*+l[n>>3];r=+c[m+8>>2]*+l[n+8>>3]}u=+c[_>>2]*u;c[e+44>>2]=f;c[e+48>>2]=r;c[e+52>>2]=u;c[e+56>>2]=0.0;switch(d|0){case 3:{n=a[h+2>>1]|0;break}case 2:{n=o[h+4>>2]|0;break}default:n=s[h+1>>0]|0}n=p+(O(b,n)|0)|0;if(A){_=n+8|0;u=+c[m+12>>2];f=+c[n>>2]*+c[m+4>>2];r=+c[n+4>>2]*+c[m+8>>2]}else{_=m+12|0;u=+l[n+16>>3];f=+c[m+4>>2]*+l[n>>3];r=+c[m+8>>2]*+l[n+8>>3]}u=+c[_>>2]*u;c[e+28>>2]=f;c[e+32>>2]=r;c[e+36>>2]=u;c[e+40>>2]=0.0;switch(d|0){case 3:{n=a[h>>1]|0;break}case 2:{n=o[h>>2]|0;break}default:n=s[h>>0]|0}n=p+(O(b,n)|0)|0;if(A){b=n+8|0;f=+c[m+12>>2];r=+c[n>>2]*+c[m+4>>2];u=+c[n+4>>2]*+c[m+8>>2];y=+c[b>>2];f=y*f;m=e+12|0;c[m>>2]=r;m=e+16|0;c[m>>2]=u;m=e+20|0;c[m>>2]=f;m=e+24|0;c[m>>2]=0.0;m=e+8|0;m=o[m>>2]|0;b=o[m>>2]|0;b=b+8|0;b=o[b>>2]|0;A=e+12|0;BF[b&127](m,A,t,i);e=o[e+4>>2]|0;i=o[e>>2]|0;i=i+24|0;i=o[i>>2]|0;xF[i&127](e,t);ae=g;return}else{b=m+12|0;y=+l[n+16>>3];u=+c[m+4>>2]*+l[n>>3];f=+c[m+8>>2]*+l[n+8>>3];r=+c[b>>2];y=r*y;m=e+12|0;c[m>>2]=u;m=e+16|0;c[m>>2]=f;m=e+20|0;c[m>>2]=y;m=e+24|0;c[m>>2]=0.0;m=e+8|0;m=o[m>>2]|0;b=o[m>>2]|0;b=b+8|0;b=o[b>>2]|0;A=e+12|0;BF[b&127](m,A,t,i);e=o[e+4>>2]|0;i=o[e>>2]|0;i=i+24|0;i=o[i>>2]|0;xF[i&127](e,t);ae=g;return}}function xo(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0.0,a=0.0,l=0,u=0.0,f=0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,E=0.0,S=0.0,T=0,R=0.0,I=0.0,x=0.0,P=0,D=0,w=0,L=0,F=0,N=0.0,B=0.0,k=0.0,U=0,H=0.0,j=0,V=0,G=0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0,_e=0.0,ue=0.0,fe=0.0,de=0.0,he=0.0,pe=0.0,be=0.0,me=0.0,Ae=0.0,ge=0.0,ye=0.0,ve=0.0,Ce=0.0,Ee=0.0,Se=0.0,Te=0.0,Re=0.0,Me=0.0,Oe=0,Ie=0,xe=0;xe=ae;ae=ae+480|0;o[xe+48>>2]=o[t>>2];o[xe>>2]=o[t+64>>2];l=xe+48+4|0;o[l>>2]=o[t+4>>2];o[xe+4>>2]=o[t+68>>2];n=xe+48+8|0;o[n>>2]=o[t+8>>2];o[xe+8>>2]=o[t+72>>2];D=xe+48+16|0;o[D>>2]=o[t+16>>2];o[xe+16>>2]=o[t+80>>2];T=xe+48+20|0;o[T>>2]=o[t+20>>2];o[xe+20>>2]=o[t+84>>2];G=xe+48+24|0;o[G>>2]=o[t+24>>2];o[xe+24>>2]=o[t+88>>2];P=xe+48+32|0;o[P>>2]=o[t+32>>2];o[xe+32>>2]=o[t+96>>2];f=xe+48+36|0;o[f>>2]=o[t+36>>2];o[xe+36>>2]=o[t+100>>2];r=xe+48+40|0;o[r>>2]=o[t+40>>2];o[xe+40>>2]=o[t+104>>2];Ie=o[e+4>>2]|0;Ce=+c[Ie+28>>2];Ee=+c[Ie+32>>2];ve=+c[Ie+36>>2];ge=+nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie);ye=+nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie);ve=(ve+ +nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie))*2.0;Ie=o[e+8>>2]|0;Re=+c[Ie+28>>2];Me=+c[Ie+32>>2];Z=+c[Ie+36>>2];Se=+nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie);Te=+nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie);Z=(Z+ +nF[o[(o[Ie>>2]|0)+48>>2]&15](Ie))*2.0;ee=+c[t+112>>2]-+c[t+48>>2];ne=+c[t+116>>2]-+c[t+52>>2];ie=+c[t+120>>2]-+c[t+56>>2];Ae=+c[xe+48>>2];de=+c[D>>2];he=+c[P>>2];fe=+c[l>>2];_e=+c[T>>2];ue=+c[f>>2];B=+c[n>>2];x=+c[G>>2];N=+c[r>>2];c[xe+468>>2]=(Ce+ge)*2.0*.5;c[xe+468+4>>2]=(Ee+ye)*2.0*.5;c[xe+468+8>>2]=ve*.5;c[xe+456>>2]=(Re+Se)*2.0*.5;c[xe+456+4>>2]=(Me+Te)*2.0*.5;c[xe+456+8>>2]=Z*.5;z=+c[xe>>2];W=+c[xe+16>>2];X=+c[xe+32>>2];$=+c[xe+4>>2];J=+c[xe+20>>2];q=+c[xe+36>>2];me=+c[xe+8>>2];pe=+c[xe+24>>2];be=+c[xe+40>>2];k=+y(+(Ae*z+de*W+he*X));Y=+y(+(Ae*$+de*J+he*q));re=+y(+(Ae*me+de*pe+he*be));H=+y(+(fe*z+_e*W+ue*X));Q=+y(+(fe*$+_e*J+ue*q));oe=+y(+(fe*me+_e*pe+ue*be));se=+y(+(B*z+x*W+N*X));ce=+y(+(B*$+x*J+N*q));K=+y(+(B*me+x*pe+N*be));u=+y(+(ee*Ae+ne*de+ie*he))-((Ce+ge)*2.0*.5+(Re+Se)*2.0*.5*k+(Me+Te)*2.0*.5*Y+Z*.5*re);if(u>0.0){ae=xe;return}if(u>-3402823466385288598117041.0e14){e=1;w=ee*Ae+ne*de+ie*he<0.0&1;L=xe+48|0}else{e=0;w=0;L=0;u=-3402823466385288598117041.0e14}s=+y(+(ee*fe+ne*_e+ie*ue))-((Ee+ye)*2.0*.5+(Re+Se)*2.0*.5*H+(Me+Te)*2.0*.5*Q+Z*.5*oe);if(s>0.0){ae=xe;return}if(s>u){e=2;w=ee*fe+ne*_e+ie*ue<0.0&1;L=l;u=s}s=+y(+(ee*B+ne*x+ie*N))-(ve*.5+(Re+Se)*2.0*.5*se+(Me+Te)*2.0*.5*ce+Z*.5*K);if(s>0.0){ae=xe;return}if(s>u){e=3;w=ee*B+ne*x+ie*N<0.0&1;L=n;u=s}s=+y(+(ee*z+ne*W+ie*X))-((Re+Se)*2.0*.5+(ve*.5*se+((Ce+ge)*2.0*.5*k+(Ee+ye)*2.0*.5*H)));if(s>0.0){ae=xe;return}if(s>u){e=4;w=ee*z+ne*W+ie*X<0.0&1;L=xe;u=s}s=+y(+(ee*$+ne*J+ie*q))-((Me+Te)*2.0*.5+(ve*.5*ce+((Ce+ge)*2.0*.5*Y+(Ee+ye)*2.0*.5*Q)));if(s>0.0){ae=xe;return}if(s>u){e=5;w=ee*$+ne*J+ie*q<0.0&1;L=xe+4|0;u=s}s=+y(+(ee*me+ne*pe+ie*be))-(Z*.5+(ve*.5*K+((Ce+ge)*2.0*.5*re+(Ee+ye)*2.0*.5*oe)));if(s>0.0){ae=xe;return}if(s>u){e=6;w=ee*me+ne*pe+ie*be<0.0&1;L=xe+8|0;u=s}h=(ee*B+ne*x+ie*N)*(fe*z+_e*W+ue*X)-(ee*fe+ne*_e+ie*ue)*(B*z+x*W+N*X);b=+y(+h)-(Z*.5*(Y+9.999999747378752e-06)+((Ee+ye)*2.0*.5*(se+9.999999747378752e-06)+ve*.5*(H+9.999999747378752e-06)+(Me+Te)*2.0*.5*(re+9.999999747378752e-06)));if(b>1.1920928955078125e-07){ae=xe;return}m=(B*z+x*W+N*X)*(B*z+x*W+N*X)+0.0;S=(fe*z+_e*W+ue*X)*(fe*z+_e*W+ue*X);p=+v(+(S+m));if(p>1.1920928955078125e-07?b/p*1.0499999523162842>u:0){d=0.0/p;a=-(B*z+x*W+N*X)/p;s=(fe*z+_e*W+ue*X)/p;e=7;w=h<0.0&1;L=0;u=b/p}else{d=0.0;a=0.0;s=0.0}h=(ee*B+ne*x+ie*N)*(fe*$+_e*J+ue*q)-(ee*fe+ne*_e+ie*ue)*(B*$+x*J+N*q);b=+y(+h)-(Z*.5*(k+9.999999747378752e-06)+((Ee+ye)*2.0*.5*(ce+9.999999747378752e-06)+ve*.5*(Q+9.999999747378752e-06)+(Re+Se)*2.0*.5*(re+9.999999747378752e-06)));if(b>1.1920928955078125e-07){ae=xe;return}A=(B*$+x*J+N*q)*(B*$+x*J+N*q)+0.0;R=(fe*$+_e*J+ue*q)*(fe*$+_e*J+ue*q);p=+v(+(R+A));if(p>1.1920928955078125e-07?b/p*1.0499999523162842>u:0){d=0.0/p;a=-(B*$+x*J+N*q)/p;s=(fe*$+_e*J+ue*q)/p;e=8;w=h<0.0&1;L=0;u=b/p}h=(ee*B+ne*x+ie*N)*(fe*me+_e*pe+ue*be)-(ee*fe+ne*_e+ie*ue)*(B*me+x*pe+N*be);b=+y(+h)-((Me+Te)*2.0*.5*(k+9.999999747378752e-06)+((Re+Se)*2.0*.5*(Y+9.999999747378752e-06)+((Ee+ye)*2.0*.5*(K+9.999999747378752e-06)+ve*.5*(oe+9.999999747378752e-06))));if(b>1.1920928955078125e-07){ae=xe;return}C=(B*me+x*pe+N*be)*(B*me+x*pe+N*be)+0.0;I=(fe*me+_e*pe+ue*be)*(fe*me+_e*pe+ue*be);p=+v(+(I+C));if(p>1.1920928955078125e-07?b/p*1.0499999523162842>u:0){d=0.0/p;a=-(B*me+x*pe+N*be)/p;s=(fe*me+_e*pe+ue*be)/p;e=9;w=h<0.0&1;L=0;u=b/p}h=(ee*Ae+ne*de+ie*he)*(B*z+x*W+N*X)-(ee*B+ne*x+ie*N)*(Ae*z+de*W+he*X);b=+y(+h)-(Z*.5*(Q+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(se+9.999999747378752e-06)+ve*.5*(k+9.999999747378752e-06)+(Me+Te)*2.0*.5*(oe+9.999999747378752e-06)));if(b>1.1920928955078125e-07){ae=xe;return}E=(Ae*z+de*W+he*X)*(Ae*z+de*W+he*X);p=+v(+(E+m));do{if(p>1.1920928955078125e-07){if(!(b/p*1.0499999523162842>u))break;d=(B*z+x*W+N*X)/p;a=0.0/p;s=-(Ae*z+de*W+he*X)/p;e=10;w=h<0.0&1;L=0;u=b/p}}while(0);h=(ee*Ae+ne*de+ie*he)*(B*$+x*J+N*q)-(ee*B+ne*x+ie*N)*(Ae*$+de*J+he*q);b=+y(+h)-(Z*.5*(H+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(ce+9.999999747378752e-06)+ve*.5*(Y+9.999999747378752e-06)+(Re+Se)*2.0*.5*(oe+9.999999747378752e-06)));if(b>1.1920928955078125e-07){ae=xe;return}g=(Ae*$+de*J+he*q)*(Ae*$+de*J+he*q);p=+v(+(g+A));do{if(p>1.1920928955078125e-07){if(!(b/p*1.0499999523162842>u))break;d=(B*$+x*J+N*q)/p;a=0.0/p;s=-(Ae*$+de*J+he*q)/p;e=11;w=h<0.0&1;L=0;u=b/p}}while(0);h=(ee*Ae+ne*de+ie*he)*(B*me+x*pe+N*be)-(ee*B+ne*x+ie*N)*(Ae*me+de*pe+he*be);b=+y(+h)-((Me+Te)*2.0*.5*(H+9.999999747378752e-06)+((Re+Se)*2.0*.5*(Q+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(K+9.999999747378752e-06)+ve*.5*(re+9.999999747378752e-06))));if(b>1.1920928955078125e-07){ae=xe;return}m=(Ae*me+de*pe+he*be)*(Ae*me+de*pe+he*be);p=+v(+(m+C));do{if(p>1.1920928955078125e-07){if(!(b/p*1.0499999523162842>u))break;d=(B*me+x*pe+N*be)/p;a=0.0/p;s=-(Ae*me+de*pe+he*be)/p;e=12;w=h<0.0&1;L=0;u=b/p}}while(0);p=(ee*fe+ne*_e+ie*ue)*(Ae*z+de*W+he*X)-(ee*Ae+ne*de+ie*he)*(fe*z+_e*W+ue*X);b=+y(+p)-(Z*.5*(ce+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(H+9.999999747378752e-06)+(Ee+ye)*2.0*.5*(k+9.999999747378752e-06)+(Me+Te)*2.0*.5*(K+9.999999747378752e-06)));if(b>1.1920928955078125e-07){ae=xe;return}h=+v(+(S+E+0.0));do{if(h>1.1920928955078125e-07){if(!(b/h*1.0499999523162842>u))break;d=-(fe*z+_e*W+ue*X)/h;a=(Ae*z+de*W+he*X)/h;s=0.0/h;e=13;w=p<0.0&1;L=0;u=b/h}}while(0);b=(ee*fe+ne*_e+ie*ue)*(Ae*$+de*J+he*q)-(ee*Ae+ne*de+ie*he)*(fe*$+_e*J+ue*q);p=+y(+b)-(Z*.5*(se+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(Q+9.999999747378752e-06)+(Ee+ye)*2.0*.5*(Y+9.999999747378752e-06)+(Re+Se)*2.0*.5*(K+9.999999747378752e-06)));if(p>1.1920928955078125e-07){ae=xe;return}h=+v(+(R+g+0.0));do{if(h>1.1920928955078125e-07){if(!(p/h*1.0499999523162842>u))break;d=-(fe*$+_e*J+ue*q)/h;a=(Ae*$+de*J+he*q)/h;s=0.0/h;e=14;w=b<0.0&1;L=0;u=p/h}}while(0);b=(ee*fe+ne*_e+ie*ue)*(Ae*me+de*pe+he*be)-(ee*Ae+ne*de+ie*he)*(fe*me+_e*pe+ue*be);p=+y(+b)-((Me+Te)*2.0*.5*(se+9.999999747378752e-06)+((Re+Se)*2.0*.5*(ce+9.999999747378752e-06)+((Ce+ge)*2.0*.5*(oe+9.999999747378752e-06)+(Ee+ye)*2.0*.5*(re+9.999999747378752e-06))));if(p>1.1920928955078125e-07){ae=xe;return}h=+v(+(I+m+0.0));do{if(h>1.1920928955078125e-07){if(!(p/h*1.0499999523162842>u)){j=55;break}d=-(fe*me+_e*pe+ue*be)/h;a=(Ae*me+de*pe+he*be)/h;s=0.0/h;e=15;w=b<0.0&1;u=p/h;j=58}else j=55}while(0);do{if((j|0)==55){if(!e){ae=xe;return}if(!L){j=58;break}Oe=o[L>>2]|0;Ie=o[L+16>>2]|0;F=o[L+32>>2]|0;s=(o[_>>2]=Oe,+c[_>>2]);a=(o[_>>2]=Ie,+c[_>>2]);d=(o[_>>2]=F,+c[_>>2]);V=e;e=Oe;L=Ie;H=u}}while(0);if((j|0)==58){me=Ae*d+a*+c[l>>2]+s*+c[n>>2];F=(c[_>>2]=me,o[_>>2]|0);Ae=d*+c[D>>2]+a*+c[T>>2]+s*+c[G>>2];L=(c[_>>2]=Ae,o[_>>2]|0);H=d*+c[P>>2]+a*+c[f>>2]+s*+c[r>>2];s=me;a=Ae;d=H;V=e;e=F;F=(c[_>>2]=H,o[_>>2]|0);H=u}if(w){e=(c[_>>2]=-s,o[_>>2]|0);L=(c[_>>2]=-a,o[_>>2]|0);F=(c[_>>2]=-d,o[_>>2]|0)}if((V|0)>6){k=(o[_>>2]=e,+c[_>>2]);B=(o[_>>2]=L,+c[_>>2]);N=(o[_>>2]=F,+c[_>>2]);A=+c[xe+48>>2];C=+c[D>>2];h=+c[P>>2];s=(A*k+C*B+h*N>0.0?1.0:-1.0)*((Ce+ge)*2.0*.5);a=+c[l>>2];g=+c[T>>2];m=+c[f>>2];E=(a*k+g*B+m*N>0.0?1.0:-1.0)*((Ee+ye)*2.0*.5);x=+c[n>>2];R=+c[G>>2];I=+c[r>>2];u=(x*k+R*B+I*N>0.0?1.0:-1.0)*(ve*.5);x=+c[t+48>>2]+s*A+E*a+u*x;R=+c[t+52>>2]+s*C+E*g+u*R;I=+c[t+56>>2]+s*h+E*m+u*I;o[xe+352>>2]=o[t+112>>2];o[xe+352+4>>2]=o[t+112+4>>2];o[xe+352+8>>2]=o[t+112+8>>2];u=+c[xe>>2];m=+c[xe+16>>2];E=+c[xe+32>>2];h=(u*k+m*B+E*N>0.0?-1.0:1.0)*((Re+Se)*2.0*.5);s=+c[xe+4>>2];g=+c[xe+20>>2];C=+c[xe+36>>2];a=(s*k+g*B+C*N>0.0?-1.0:1.0)*((Me+Te)*2.0*.5);g=+c[xe+352+4>>2]+h*m+a*g;C=+c[xe+352+8>>2]+h*E+a*C;E=+c[xe+8>>2];m=+c[xe+24>>2];A=+c[xe+40>>2];S=(E*k+m*B+A*N>0.0?-1.0:1.0)*+c[xe+456+8>>2];E=+c[xe+352>>2]+h*u+a*s+S*E;c[xe+352>>2]=E;c[xe+352+4>>2]=g+S*m;c[xe+352+8>>2]=C+S*A;Ie=V+-7|0;s=+c[xe+48+(((Ie|0)/3|0)<<2)>>2];a=+c[xe+48+(((Ie|0)/3|0)+4<<2)>>2];u=+c[xe+48+(((Ie|0)/3|0)+8<<2)>>2];Ie=Ie+(O((Ie|0)/3|0,-3)|0)|0;h=+c[xe+(Ie<<2)>>2];p=+c[xe+(Ie+4<<2)>>2];b=+c[xe+(Ie+8<<2)>>2];d=1.0-(s*h+a*p+u*b)*(s*h+a*p+u*b);if(!(d<=9.999999747378752e-05))s=(((E-x)*s+(g+S*m-R)*a+(C+S*A-I)*u)*(s*h+a*p+u*b)-((E-x)*h+(g+S*m-R)*p+(C+S*A-I)*b))*(1.0/d);else s=0.0;c[xe+352>>2]=E+s*h;c[xe+352+4>>2]=g+S*m+s*p;c[xe+352+8>>2]=C+S*A+s*b;Ie=o[(o[i>>2]|0)+16>>2]|0;c[xe+320>>2]=-k;c[xe+320+4>>2]=-B;c[xe+320+8>>2]=-N;c[xe+320+12>>2]=0.0;FF[Ie&15](i,xe+320|0,xe+352|0,H);ae=xe;return}Oe=(V|0)<4;oe=(o[_>>2]=e,+c[_>>2]);if(Oe){ne=(o[_>>2]=L,+c[_>>2]);re=(o[_>>2]=F,+c[_>>2]);U=xe+48|0;D=xe+16|0;P=xe+32|0;le=xe;te=xe+468|0;j=xe+456|0;T=xe+20|0;f=xe+36|0;l=xe+4|0;e=xe+24|0;r=xe+40|0;n=xe+8|0;ie=oe;Ie=t+48|0;w=t+112|0}else{ne=-(o[_>>2]=L,+c[_>>2]);re=-(o[_>>2]=F,+c[_>>2]);U=xe;le=xe+48|0;te=xe+456|0;j=xe+468|0;e=G;ie=-oe;Ie=t+112|0;w=t+48|0}E=ie*+c[le>>2]+ne*+c[D>>2]+re*+c[P>>2];c[xe+440>>2]=E;S=ie*+c[l>>2]+ne*+c[T>>2]+re*+c[f>>2];c[xe+440+4>>2]=S;R=ie*+c[n>>2]+ne*+c[e>>2]+re*+c[r>>2];c[xe+440+8>>2]=R;E=+y(+E);S=+y(+S);R=+y(+R);n=S>E?S>R?1:2:E>R?0:2;t=(S>E?S>R:E>R)?2:1;u=+c[j+(n<<2)>>2];a=+c[w>>2]-+c[Ie>>2];s=u*+c[le+(n<<2)>>2];if(+c[xe+440+(n<<2)>>2]<0.0){$=a+s;ee=+c[w+4>>2]-+c[Ie+4>>2]+u*+c[le+((n|4)<<2)>>2];q=+c[w+8>>2]-+c[Ie+8>>2]+u*+c[le+((n|8)<<2)>>2]}else{$=a-s;ee=+c[w+4>>2]-+c[Ie+4>>2]-u*+c[le+((n|4)<<2)>>2];q=+c[w+8>>2]-+c[Ie+8>>2]-u*+c[le+((n|8)<<2)>>2]}V=(Oe?-1:-4)+V|0;switch(V|0){case 0:{n=1;r=2;break}case 1:{n=0;r=2;break}default:{n=0;r=1}}G=U+(n<<2)|0;Z=+c[G>>2];Q=+c[G+16>>2];K=+c[G+32>>2];J=$*Z+ee*Q+q*K;U=U+(r<<2)|0;N=+c[U>>2];I=+c[U+16>>2];x=+c[U+32>>2];Y=$*N+ee*I+q*x;U=le+((E>R&(S>E^1)&1)<<2)|0;H=+c[U>>2];B=+c[U+16>>2];k=+c[U+32>>2];G=le+(t<<2)|0;z=+c[G>>2];W=+c[G+16>>2];X=+c[G+32>>2];C=+c[j+((E>R&(S>E^1)&1)<<2)>>2];g=+c[j+(t<<2)>>2];A=(Z*z+Q*W+K*X)*g;g=(N*z+I*W+x*X)*g;b=J-(Z*H+Q*B+K*k)*C-A;m=Y-(N*H+I*B+x*k)*C-g;u=J-(Z*H+Q*B+K*k)*C+A;c[xe+416>>2]=u;d=Y-(N*H+I*B+x*k)*C+g;h=J+(Z*H+Q*B+K*k)*C+A;p=Y+(N*H+I*B+x*k)*C+g;A=J+(Z*H+Q*B+K*k)*C-A;g=Y+(N*H+I*B+x*k)*C-g;D=o[te+(n<<2)>>2]|0;w=o[te+(r<<2)>>2]|0;C=(o[_>>2]=D,+c[_>>2]);do{if(!(C>-b)){if(C>-u){e=1;s=-u;n=1;r=xe+256|0;j=78}else{a=u;s=-u;n=0;r=xe+256|0;j=153}}else{c[xe+256>>2]=b;c[xe+256+4>>2]=m;if(!(C>-u)){e=C>-u;s=-u;n=2;r=xe+256+8|0;j=78;break}c[xe+256+8>>2]=u;c[xe+256+8+4>>2]=d;n=2;r=xe+256+8|0;j=152}}while(0);do{if((j|0)==78){c[r+4>>2]=m+(-C-b)*((d-m)/(u-b));c[r>>2]=-C;r=r+8|0;if(!e){a=u;j=153;break}c[r>>2]=u;c[r+4>>2]=d;if(!(n+1&8)){n=n+1|0;j=152}else{n=n+1|0;j=102}}}while(0);if((j|0)==152){s=+c[xe+416>>2];a=s;s=-s;r=r+8|0;j=153}e:do{if((j|0)==153){if(s<C^C>-h){c[r+4>>2]=d+(-C-a)*((p-d)/(h-a));c[r>>2]=-C;n=n+1|0;if(!(n&8))r=r+8|0;else{j=102;break}}if(C>-h){c[r>>2]=h;c[r+4>>2]=p;n=n+1|0;if(n&8|0){j=102;break}r=r+8|0;if(C>-h^C>-A){e=C>-A;j=159}else{e=C>-A;j=161}}else if(C>-h^C>-A){e=C>-A;j=159}else{e=C>-A;j=161}if((j|0)==159){c[r+4>>2]=p+(-C-h)*((g-p)/(A-h));c[r>>2]=-C;n=n+1|0;if(n&8|0){j=102;break}r=r+8|0;if(e)j=162;else j=163}else if((j|0)==161)if(e)j=162;else j=163;do{if((j|0)==162){c[r>>2]=A;c[r+4>>2]=g;n=n+1|0;if(n&8|0){j=102;break e}if(e^C>-b){r=r+8|0;j=165}else j=167}else if((j|0)==163){if(C>-b){j=165;break}if((n|0)>0)j=167;else{n=0;j=79}}}while(0);if((j|0)==165){c[r+4>>2]=g+(-C-A)*((m-g)/(b-A));c[r>>2]=-C;n=n+1|0;if(!(n&8))j=167;else{j=102;break}}t:do{if((j|0)==167){T=n;n=0;P=xe+256|0;r=xe+352|0;while(1){s=+c[P>>2];if(s<C){c[r>>2]=s;o[r+4>>2]=o[P+4>>2];n=n+1|0;if(n&8|0){j=79;break t}s=+c[P>>2];r=r+8|0}f=(T|0)>1;l=P;P=P+8|0;e=f?P:xe+256|0;a=+c[e>>2];if(s<C^a<C){Me=+c[l+4>>2];c[r+4>>2]=Me+(C-s)*((+c[e+4>>2]-Me)/(a-s));o[r>>2]=D;n=n+1|0;if(!(n&8))r=r+8|0;else{j=79;break t}}if(!f)break;else T=T+-1|0}if((n|0)<=0){n=0;j=79;break}d=(o[_>>2]=w,+c[_>>2]);r=0;P=xe+352|0;e=xe+256|0;while(1){l=P+4|0;s=+c[l>>2];if(d>-s){o[e>>2]=o[P>>2];o[e+4>>2]=o[l>>2];r=r+1|0;if(r&8|0){n=r;break t}a=+c[l>>2];u=a;a=-a;e=e+8|0}else{u=s;a=-s}T=(n|0)>1;f=P;P=P+8|0;l=T?P:xe+352|0;s=+c[l+4>>2];if(a<d^d>-s){Me=+c[f>>2];c[e>>2]=Me+(-d-u)*((+c[l>>2]-Me)/(s-u));c[e+4>>2]=-d;r=r+1|0;if(!(r&8))e=e+8|0;else{n=r;break t}}if(!T)break;else n=n+-1|0}if((r|0)<=0){n=0;j=79;break}n=0;P=xe+256|0;e=xe+352|0;while(1){l=P+4|0;s=+c[l>>2];if(s<d){o[e>>2]=o[P>>2];o[e+4>>2]=o[l>>2];n=n+1|0;if(n&8|0){j=79;break t}s=+c[l>>2];e=e+8|0}T=(r|0)>1;f=P;P=P+8|0;l=T?P:xe+256|0;a=+c[l+4>>2];if(s<d^a<d){Me=+c[f>>2];c[e>>2]=Me+(d-s)*((+c[l>>2]-Me)/(a-s));o[e+4>>2]=w;n=n+1|0;if(!(n&8))e=e+8|0;else{j=79;break t}}if(!T){j=79;break}else r=r+-1|0}}}while(0);if((j|0)==79)Tn(xe+256|0,xe+352|0,n<<3|0)|0;if((n|0)>=1)j=104}}while(0);if((j|0)==102)j=104;if((j|0)==104){g=1.0/((Z*H+Q*B+K*k)*(N*z+I*W+x*X)-(N*H+I*B+x*k)*(Z*z+Q*W+K*X));A=+c[te+(V<<2)>>2];m=+c[U>>2];h=+c[G>>2];p=+c[le+((E>R&(S>E^1)&1|4)<<2)>>2];b=+c[le+((t|4)<<2)>>2];d=+c[le+((E>R&(S>E^1)&1|8)<<2)>>2];u=+c[le+((t|8)<<2)>>2];T=0;e=0;do{r=e<<1;s=+c[xe+256+(r<<2)>>2];a=+c[xe+256+((r|1)<<2)>>2];Se=(N*z+I*W+x*X)*g*(s-J)-(Z*z+Q*W+K*X)*g*(a-Y);Me=(Z*H+Q*B+K*k)*g*(a-Y)-(N*H+I*B+x*k)*g*(s-J);r=T*3|0;Te=$+Se*m+Me*h;c[xe+160+(r<<2)>>2]=Te;Re=ee+Se*p+Me*b;c[xe+160+(r+1<<2)>>2]=Re;Me=q+Se*d+Me*u;c[xe+160+(r+2<<2)>>2]=Me;Me=A-(ie*Te+ne*Re+re*Me);c[xe+128+(T<<2)>>2]=Me;r=T<<1;if(Me>=0.0){c[xe+256+(r<<2)>>2]=s;c[xe+256+((r|1)<<2)>>2]=a;T=T+1|0}e=e+1|0}while((e|0)!=(n|0));e:do{if((T|0)>=1){D=(T|0)<4?T:4;w=(D|0)>1?D:1;if((T|0)<=(w|0))if(Oe){r=Ie+4|0;e=Ie+8|0;a=-(o[_>>2]=L,+c[_>>2]);s=-(o[_>>2]=F,+c[_>>2]);n=0;while(1){Oe=n*3|0;c[xe+352>>2]=+c[xe+160+(Oe<<2)>>2]+ +c[Ie>>2];c[xe+352+4>>2]=+c[xe+160+(Oe+1<<2)>>2]+ +c[r>>2];c[xe+352+8>>2]=+c[xe+160+(Oe+2<<2)>>2]+ +c[e>>2];Oe=o[(o[i>>2]|0)+16>>2]|0;c[xe+320>>2]=-oe;c[xe+320+4>>2]=a;c[xe+320+8>>2]=s;c[xe+320+12>>2]=0.0;FF[Oe&15](i,xe+320|0,xe+352|0,-+c[xe+128+(n<<2)>>2]);n=n+1|0;if((n|0)==(T|0))break e}}else{r=Ie+4|0;e=Ie+8|0;a=(o[_>>2]=L,+c[_>>2]);s=(o[_>>2]=F,+c[_>>2]);n=0;while(1){Oe=n*3|0;Me=+c[xe+128+(n<<2)>>2];c[xe+352>>2]=+c[xe+160+(Oe<<2)>>2]+ +c[Ie>>2]-Me*oe;c[xe+352+4>>2]=+c[xe+160+(Oe+1<<2)>>2]+ +c[r>>2]-Me*a;c[xe+352+8>>2]=+c[xe+160+(Oe+2<<2)>>2]+ +c[e>>2]-Me*s;Oe=o[(o[i>>2]|0)+16>>2]|0;c[xe+320>>2]=-oe;c[xe+320+4>>2]=-a;c[xe+320+8>>2]=-s;c[xe+320+12>>2]=0.0;FF[Oe&15](i,xe+320|0,xe+352|0,-Me);n=n+1|0;if((n|0)==(T|0))break e}}t:do{if((T|0)>1){r=1;l=0;a=+c[xe+128>>2];while(1){s=+c[xe+128+(r<<2)>>2];n=s>a;l=n?r:l;r=r+1|0;if((r|0)==(T|0))break;else a=n?s:a}switch(T|0){case 1:{n=xe+96|0;r=xe+96|0;e=1;j=120;break t}case 2:{n=xe+96|0;r=xe+96|0;e=2;a=(+c[xe+256>>2]+ +c[xe+256+8>>2])*.5;s=(+c[xe+256+4>>2]+ +c[xe+256+12>>2])*.5;j=124;break t}default:{}}r=T+-1|0;s=0.0;a=0.0;b=0.0;n=0;do{le=n<<1;Se=+c[xe+256+(le<<2)>>2];Te=+c[xe+256+(le+3<<2)>>2];Re=+c[xe+256+(le+2<<2)>>2];Me=+c[xe+256+((le|1)<<2)>>2];s=s+(Se*Te-Re*Me);a=a+(Se+Re)*(Se*Te-Re*Me);b=b+(Te+Me)*(Se*Te-Re*Me);n=n+1|0}while((n|0)!=(r|0));le=T<<1;u=+c[xe+256+(le+-2<<2)>>2];d=+c[xe+256+4>>2];h=+c[xe+256>>2];p=+c[xe+256+(le+-1<<2)>>2];s=s+(u*d-h*p);le=+y(+s)>1.1920928955078125e-07;s=le?1.0/(s*3.0):999999984306749440.0;if((T|0)>0){f=xe+96|0;P=xe+352|0;r=xe+96|0;e=T;a=(a+(u+h)*(u*d-h*p))*s;s=(b+(d+p)*(u*d-h*p))*s;j=127;break}r=xe+96|0;n=0}else{n=xe+96|0;r=xe+96|0;e=T;l=0;j=120}}while(0);if((j|0)==120){a=+c[xe+256>>2];s=+c[xe+256+4>>2];j=124}if((j|0)==124){f=n;P=xe+352|0;j=127}if((j|0)==127){n=0;do{le=n<<1;c[xe+352+(n<<2)>>2]=+M(+(+c[xe+256+((le|1)<<2)>>2]-s),+(+c[xe+256+(le<<2)>>2]-a));n=n+1|0}while((n|0)!=(e|0));n=0;do{o[xe+320+(n<<2)>>2]=1;n=n+1|0}while((n|0)!=(e|0));n=1;T=e}e=xe+320+(l<<2)|0;o[e>>2]=0;o[r>>2]=l;t:do{if((D|0)>1){d=+c[xe+352+(l<<2)>>2];if(!n){n=xe+96+4|0;r=1;while(1){o[n>>2]=l;o[e>>2]=0;r=r+1|0;if((r|0)==(w|0))break t;else n=n+4|0}}e=xe+96+4|0;f=1;while(1){u=6.2831854820251465/+(w|0)*+(f|0)+d;u=u>3.1415927410125732?u+-6.2831854820251465:u;o[e>>2]=l;n=l;r=0;a=1.0e9;while(1){do{if(!(o[xe+320+(r<<2)>>2]|0))s=a;else{s=+y(+(+c[xe+352+(r<<2)>>2]-u));s=s>3.1415927410125732?6.2831854820251465-s:s;if(!(s<a)){s=a;break}o[e>>2]=r;n=r}}while(0);r=r+1|0;if((r|0)==(T|0))break;else a=s}o[xe+320+(n<<2)>>2]=0;f=f+1|0;if((f|0)==(w|0))break;else e=e+4|0}}}while(0);if((w|0)>0){r=Ie+4|0;e=Ie+8|0;a=(o[_>>2]=L,+c[_>>2]);s=(o[_>>2]=F,+c[_>>2]);if(Oe){n=0;do{Oe=o[xe+96+(n<<2)>>2]|0;c[xe+352>>2]=+c[xe+160+(Oe*3<<2)>>2]+ +c[Ie>>2];c[xe+352+4>>2]=+c[xe+160+((Oe*3|0)+1<<2)>>2]+ +c[r>>2];c[xe+352+8>>2]=+c[xe+160+((Oe*3|0)+2<<2)>>2]+ +c[e>>2];le=o[(o[i>>2]|0)+16>>2]|0;c[xe+320>>2]=-oe;c[xe+320+4>>2]=-a;c[xe+320+8>>2]=-s;c[xe+320+12>>2]=0.0;FF[le&15](i,xe+320|0,xe+352|0,-+c[xe+128+(Oe<<2)>>2]);n=n+1|0}while(n>>>0<w>>>0)}else{n=0;do{le=o[xe+96+(n<<2)>>2]|0;Se=+c[xe+160+(le*3<<2)>>2]+ +c[Ie>>2];c[xe+352>>2]=Se;Te=+c[xe+160+((le*3|0)+1<<2)>>2]+ +c[r>>2];c[xe+352+4>>2]=Te;Re=+c[xe+160+((le*3|0)+2<<2)>>2]+ +c[e>>2];c[xe+352+8>>2]=Re;Oe=o[(o[i>>2]|0)+16>>2]|0;c[xe+320>>2]=-oe;c[xe+320+4>>2]=-a;c[xe+320+8>>2]=-s;c[xe+320+12>>2]=0.0;Me=+c[xe+128+(le<<2)>>2];c[xe+424>>2]=Se-Me*oe;c[xe+424+4>>2]=Te-Me*a;c[xe+424+8>>2]=Re-Me*s;c[xe+424+12>>2]=0.0;FF[Oe&15](i,xe+320|0,xe+424|0,-Me);n=n+1|0}while(n>>>0<w>>>0)}}}}while(0)}ae=xe;return}function Po(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;var s=0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0,b=0.0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0,S=0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0,N=0,B=0,k=0,U=0,H=0,j=0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0;j=ae;ae=ae+448|0;if(!(n[e+527>>0]|0)){ae=j;return}F=o[e+28>>2]|0;L=+c[e+348>>2];w=+c[e+352>>2];M=+c[e+356>>2];l=+c[F+52>>2];T=L*+c[F+4>>2]+w*+c[F+8>>2]+M*+c[F+12>>2]+l;u=+c[F+56>>2];I=L*+c[F+20>>2]+w*+c[F+24>>2]+M*+c[F+28>>2]+u;f=+c[F+60>>2];M=L*+c[F+36>>2]+w*+c[F+40>>2]+M*+c[F+44>>2]+f;N=o[e+32>>2]|0;w=+c[e+412>>2];L=+c[e+416>>2];O=+c[e+420>>2];d=+c[N+52>>2];R=w*+c[N+4>>2]+L*+c[N+8>>2]+O*+c[N+12>>2]+d;b=+c[N+56>>2];x=w*+c[N+20>>2]+L*+c[N+24>>2]+O*+c[N+28>>2]+b;A=+c[N+60>>2];O=w*+c[N+36>>2]+L*+c[N+40>>2]+O*+c[N+44>>2]+A;if(!(n[e+524>>0]|0)){y=+c[t+192>>2]+ +c[t+80>>2];C=+c[t+196>>2]+ +c[t+84>>2];g=+c[t+200>>2]+ +c[t+88>>2];w=+c[i+192>>2]+ +c[i+80>>2];D=+c[i+196>>2]+ +c[i+84>>2];L=+c[i+200>>2]+ +c[i+88>>2];P=+c[t+176>>2]+ +c[t+64>>2]+((M-f)*C-(I-u)*g)-(+c[i+176>>2]+ +c[i+64>>2]+((O-A)*D-(x-b)*L));L=+c[t+180>>2]+ +c[t+68>>2]+((T-l)*g-(M-f)*y)-(+c[i+180>>2]+ +c[i+68>>2]+((R-d)*L-(O-A)*w));D=+c[t+184>>2]+ +c[t+72>>2]+((I-u)*y-(T-l)*C)-(+c[i+184>>2]+ +c[i+72>>2]+((x-b)*w-(R-d)*D));S=(o[t+240>>2]|0)==0;E=(o[i+240>>2]|0)==0;m=0;do{C=1.0/+c[e+48+(m*84|0)+80>>2];s=e+48+(m*84|0)|0;y=+c[s>>2];p=e+48+(m*84|0)+4|0;g=+c[p>>2];h=e+48+(m*84|0)+8|0;w=+c[h>>2];w=C*(((T-R)*y+(I-x)*g+(M-O)*w)*-.30000001192092896/r)-C*(P*y+L*g+D*w);c[e+36>>2]=+c[e+36>>2]+w;g=+c[h>>2];y=+c[p>>2];C=+c[s>>2];a=+c[F+344>>2];if(!S){W=((I-u)*g-(M-f)*y)*+c[F+296>>2]+((M-f)*C-(T-l)*g)*+c[F+300>>2]+((T-l)*y-(I-u)*C)*+c[F+304>>2];V=((I-u)*g-(M-f)*y)*+c[F+280>>2]+((M-f)*C-(T-l)*g)*+c[F+284>>2]+((T-l)*y-(I-u)*C)*+c[F+288>>2];G=((I-u)*g-(M-f)*y)*+c[F+264>>2]+((M-f)*C-(T-l)*g)*+c[F+268>>2]+((T-l)*y-(I-u)*C)*+c[F+272>>2];z=w*(y*a)*+c[t+116>>2];X=w*(g*a)*+c[t+120>>2];c[t+64>>2]=w*(C*a)*+c[t+112>>2]+ +c[t+64>>2];c[t+68>>2]=z+ +c[t+68>>2];c[t+72>>2]=X+ +c[t+72>>2];V=V*(w*+c[t+100>>2]);a=W*(w*+c[t+104>>2]);c[t+80>>2]=G*(w*+c[t+96>>2])+ +c[t+80>>2];c[t+84>>2]=V+ +c[t+84>>2];c[t+88>>2]=a+ +c[t+88>>2]}a=+c[N+344>>2];if(!E){z=((x-b)*g-(O-A)*y)*+c[N+296>>2]+((O-A)*C-(R-d)*g)*+c[N+300>>2]+((R-d)*y-(x-b)*C)*+c[N+304>>2];X=((x-b)*g-(O-A)*y)*+c[N+280>>2]+((O-A)*C-(R-d)*g)*+c[N+284>>2]+((R-d)*y-(x-b)*C)*+c[N+288>>2];W=((x-b)*g-(O-A)*y)*+c[N+264>>2]+((O-A)*C-(R-d)*g)*+c[N+268>>2]+((R-d)*y-(x-b)*C)*+c[N+272>>2];V=a*+c[p>>2]*-w*+c[i+116>>2];G=a*+c[h>>2]*-w*+c[i+120>>2];c[i+64>>2]=+c[i+112>>2]*(a*+c[s>>2]*-w)+ +c[i+64>>2];c[i+68>>2]=V+ +c[i+68>>2];c[i+72>>2]=G+ +c[i+72>>2];X=X*(+c[i+100>>2]*-w);z=z*(+c[i+104>>2]*-w);c[i+80>>2]=W*(+c[i+96>>2]*-w)+ +c[i+80>>2];c[i+84>>2]=X+ +c[i+84>>2];c[i+88>>2]=z+ +c[i+88>>2]}m=m+1|0}while((m|0)!=3)}do{if(!(n[e+552>>0]|0)){a=+c[e+440>>2];if(!(a>1.1920928955078125e-07)){m=i+192|0;s=t+192|0;S=i+200|0;p=t+200|0;k=i+88|0;F=t+88|0;U=i+80|0;N=t+80|0;E=i+196|0;h=t+196|0;H=i+84|0;B=t+84|0;break}g=+c[t+80>>2];y=+c[t+84>>2];C=+c[t+88>>2];l=+c[i+192>>2]+ +c[i+80>>2]-(+c[t+192>>2]+g);d=+c[i+196>>2]+ +c[i+84>>2]-(+c[t+196>>2]+y);A=+c[i+200>>2]+ +c[i+88>>2]-(+c[t+200>>2]+C);if(l*l+d*d+A*A>1.1920928955078125e-07){f=1.0/+v(+(l*l+d*d+A*A));T=+c[F+264>>2];R=+c[F+280>>2];M=+c[F+296>>2];O=+c[F+268>>2];I=+c[F+284>>2];x=+c[F+300>>2];P=+c[F+272>>2];D=+c[F+288>>2];b=+c[F+304>>2];a=a*(1.0/(l*f*(l*f*T+d*f*R+A*f*M)+d*f*(l*f*O+d*f*I+A*f*x)+A*f*(l*f*P+d*f*D+A*f*b)+(l*f*(l*f*+c[N+264>>2]+d*f*+c[N+280>>2]+A*f*+c[N+296>>2])+d*f*(l*f*+c[N+268>>2]+d*f*+c[N+284>>2]+A*f*+c[N+300>>2])+A*f*(l*f*+c[N+272>>2]+d*f*+c[N+288>>2]+A*f*+c[N+304>>2]))));f=+v(+(A*a*(A*a)+(l*a*(l*a)+d*a*(d*a))));u=l*a*(1.0/f);l=d*a*(1.0/f);a=A*a*(1.0/f);if(o[t+240>>2]|0){z=f*0.0*+c[t+116>>2];X=f*0.0*+c[t+120>>2];c[t+64>>2]=f*0.0*+c[t+112>>2]+ +c[t+64>>2];c[t+68>>2]=z+ +c[t+68>>2];c[t+72>>2]=X+ +c[t+72>>2];X=(u*R+l*I+a*D)*(f*+c[t+100>>2]);z=(u*M+l*x+a*b)*(f*+c[t+104>>2]);c[t+80>>2]=g+(u*T+l*O+a*P)*(f*+c[t+96>>2]);c[t+84>>2]=y+X;c[t+88>>2]=C+z}if(o[i+240>>2]|0){z=u*+c[N+296>>2]+l*+c[N+300>>2]+a*+c[N+304>>2];X=u*+c[N+280>>2]+l*+c[N+284>>2]+a*+c[N+288>>2];W=u*+c[N+264>>2]+l*+c[N+268>>2]+a*+c[N+272>>2];V=f*-0.0*+c[i+116>>2];G=f*-0.0*+c[i+120>>2];c[i+64>>2]=f*-0.0*+c[i+112>>2]+ +c[i+64>>2];c[i+68>>2]=V+ +c[i+68>>2];c[i+72>>2]=G+ +c[i+72>>2];X=X*(+c[i+100>>2]*-f);z=z*(+c[i+104>>2]*-f);c[i+80>>2]=W*(+c[i+96>>2]*-f)+ +c[i+80>>2];c[i+84>>2]=X+ +c[i+84>>2];c[i+88>>2]=z+ +c[i+88>>2];m=i+192|0;s=t+192|0;S=i+200|0;p=t+200|0;k=i+88|0;F=t+88|0;U=i+80|0;N=t+80|0;E=i+196|0;h=t+196|0;H=i+84|0;B=t+84|0}else{m=i+192|0;s=t+192|0;S=i+200|0;p=t+200|0;k=i+88|0;F=t+88|0;U=i+80|0;N=t+80|0;E=i+196|0;h=t+196|0;H=i+84|0;B=t+84|0}}else{m=i+192|0;s=t+192|0;S=i+200|0;p=t+200|0;k=i+88|0;F=t+88|0;U=i+80|0;N=t+80|0;E=i+196|0;h=t+196|0;H=i+84|0;B=t+84|0}}else{o[j+352>>2]=o[F+4>>2];o[j+352+4>>2]=o[F+4+4>>2];o[j+352+8>>2]=o[F+4+8>>2];o[j+352+12>>2]=o[F+4+12>>2];o[j+352+16>>2]=o[F+20>>2];o[j+352+16+4>>2]=o[F+20+4>>2];o[j+352+16+8>>2]=o[F+20+8>>2];o[j+352+16+12>>2]=o[F+20+12>>2];o[j+352+32>>2]=o[F+36>>2];o[j+352+32+4>>2]=o[F+36+4>>2];o[j+352+32+8>>2]=o[F+36+8>>2];o[j+352+32+12>>2]=o[F+36+12>>2];o[j+352+48>>2]=o[F+52>>2];o[j+352+48+4>>2]=o[F+52+4>>2];o[j+352+48+8>>2]=o[F+52+8>>2];o[j+352+48+12>>2]=o[F+52+12>>2];o[j+288>>2]=o[N+4>>2];o[j+288+4>>2]=o[N+4+4>>2];o[j+288+8>>2]=o[N+4+8>>2];o[j+288+12>>2]=o[N+4+12>>2];o[j+288+16>>2]=o[N+20>>2];o[j+288+16+4>>2]=o[N+20+4>>2];o[j+288+16+8>>2]=o[N+20+8>>2];o[j+288+16+12>>2]=o[N+20+12>>2];o[j+288+32>>2]=o[N+36>>2];o[j+288+32+4>>2]=o[N+36+4>>2];o[j+288+32+8>>2]=o[N+36+8>>2];o[j+288+32+12>>2]=o[N+36+12>>2];o[j+288+48>>2]=o[N+52>>2];o[j+288+48+4>>2]=o[N+52+4>>2];o[j+288+48+8>>2]=o[N+52+8>>2];o[j+288+48+12>>2]=o[N+52+12>>2];W=+c[t+196>>2]+ +c[t+84>>2];g=+c[t+200>>2]+ +c[t+88>>2];c[j+272>>2]=+c[t+192>>2]+ +c[t+80>>2];c[j+272+4>>2]=W;c[j+272+8>>2]=g;c[j+272+12>>2]=0.0;g=+c[i+196>>2]+ +c[i+84>>2];W=+c[i+200>>2]+ +c[i+88>>2];c[j+256>>2]=+c[i+192>>2]+ +c[i+80>>2];c[j+256+4>>2]=g;c[j+256+8>>2]=W;c[j+256+12>>2]=0.0;o[j+192>>2]=1065353216;U=j+192+4|0;o[U>>2]=0;o[U+4>>2]=0;o[U+8>>2]=0;o[U+12>>2]=0;o[j+192+20>>2]=1065353216;H=j+192+24|0;o[H>>2]=0;o[H+4>>2]=0;o[H+8>>2]=0;o[H+12>>2]=0;o[j+192+40>>2]=1065353216;B=j+192+44|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;ni(j+352|0,0.0,0.0,0.0,j+272|0,r,j+192|0);o[j+128>>2]=1065353216;B=j+128+4|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[j+128+20>>2]=1065353216;k=j+128+24|0;o[k>>2]=0;o[k+4>>2]=0;o[k+8>>2]=0;o[k+12>>2]=0;o[j+128+40>>2]=1065353216;N=j+128+44|0;o[N>>2]=0;o[N+4>>2]=0;o[N+8>>2]=0;o[N+12>>2]=0;o[N+16>>2]=0;ni(j+288|0,0.0,0.0,0.0,j+256|0,r,j+128|0);W=+c[e+556>>2];g=+c[e+560>>2];X=+c[e+564>>2];y=+c[e+568>>2];D=W*(2.0/(W*W+g*g+X*X+y*y));R=g*(2.0/(W*W+g*g+X*X+y*y));w=X*(2.0/(W*W+g*g+X*X+y*y));Q=+c[e+364>>2];Y=+c[e+368>>2];J=+c[e+372>>2];l=J*(W*w-y*R)+(Y*(W*R+y*w)+Q*(1.0-(g*R+X*w)));u=J*(g*w+y*D)+(Q*(W*R-y*w)+Y*(1.0-(W*D+X*w)));f=Q*(W*w+y*R)+Y*(g*w-y*D)+J*(1.0-(W*D+g*R));a=+c[e+380>>2];P=+c[e+384>>2];I=+c[e+388>>2];d=(W*w-y*R)*I+(P*(W*R+y*w)+a*(1.0-(g*R+X*w)));b=(g*w+y*D)*I+(a*(W*R-y*w)+P*(1.0-(W*D+X*w)));A=a*(W*w+y*R)+P*(g*w-y*D)+I*(1.0-(W*D+g*R));V=+c[e+396>>2];O=+c[e+400>>2];M=+c[e+404>>2];G=(1.0-(g*R+X*w))*V+(W*R+y*w)*O+(W*w-y*R)*M;X=(W*R-y*w)*V+(1.0-(W*D+X*w))*O+(g*w+y*D)*M;R=(W*w+y*R)*V+(g*w-y*D)*O+(1.0-(W*D+g*R))*M;g=+c[e+300>>2];D=+c[e+316>>2];W=+c[e+332>>2];y=+c[e+304>>2];w=+c[e+320>>2];z=+c[e+336>>2];x=+c[e+308>>2];L=+c[e+324>>2];C=+c[e+340>>2];T=-+c[e+348>>2];ee=-+c[e+352>>2];Z=-+c[e+356>>2];J=Q*0.0+Y*0.0+J*0.0+ +c[e+412>>2]+(f*(x*T+L*ee+C*Z)+(l*(g*T+D*ee+W*Z)+u*(y*T+w*ee+z*Z)));I=a*0.0+P*0.0+I*0.0+ +c[e+416>>2]+(A*(x*T+L*ee+C*Z)+(d*(g*T+D*ee+W*Z)+b*(y*T+w*ee+z*Z)));Z=V*0.0+O*0.0+M*0.0+ +c[e+420>>2]+(R*(x*T+L*ee+C*Z)+(G*(g*T+D*ee+W*Z)+X*(y*T+w*ee+z*Z)));ee=+c[j+128>>2];T=+c[B>>2];M=+c[j+128+8>>2];O=+c[j+128+16>>2];V=+c[j+128+20>>2];P=+c[k>>2];a=+c[j+128+32>>2];Y=+c[j+128+36>>2];Q=+c[j+128+40>>2];K=M*Z+(ee*J+T*I)+ +c[j+128+48>>2];q=O*J+I*V+Z*P+ +c[j+128+52>>2];$=J*a+I*Y+Z*Q+ +c[j+128+56>>2];c[j+64>>2]=(l*g+u*y+f*x)*ee+(d*g+b*y+A*x)*T+(G*g+X*y+R*x)*M;c[j+64+4>>2]=(l*D+u*w+f*L)*ee+(d*D+b*w+A*L)*T+(G*D+X*w+R*L)*M;c[j+64+8>>2]=(l*W+u*z+f*C)*ee+(d*W+b*z+A*C)*T+(G*W+X*z+R*C)*M;c[j+64+12>>2]=0.0;c[j+64+16>>2]=(l*g+u*y+f*x)*O+(d*g+b*y+A*x)*V+(G*g+X*y+R*x)*P;c[j+64+20>>2]=(l*D+u*w+f*L)*O+(d*D+b*w+A*L)*V+(G*D+X*w+R*L)*P;c[j+64+24>>2]=(l*W+u*z+f*C)*O+(d*W+b*z+A*C)*V+(G*W+X*z+R*C)*P;c[j+64+28>>2]=0.0;c[j+64+32>>2]=(l*g+u*y+f*x)*a+(d*g+b*y+A*x)*Y+(G*g+X*y+R*x)*Q;c[j+64+36>>2]=(l*D+u*w+f*L)*a+(d*D+b*w+A*L)*Y+(G*D+X*w+R*L)*Q;c[j+64+40>>2]=(l*W+u*z+f*C)*a+(d*W+b*z+A*C)*Y+(G*W+X*z+R*C)*Q;c[j+64+44>>2]=0.0;c[j+64+48>>2]=K;c[j+64+52>>2]=q;c[j+64+56>>2]=$;c[j+64+60>>2]=0.0;$=(G*g+X*y+R*x)*-Z+((l*g+u*y+f*x)*-J+(d*g+b*y+A*x)*-I);q=(G*D+X*w+R*L)*-Z+((l*D+u*w+f*L)*-J+(d*D+b*w+A*L)*-I);I=(G*W+X*z+R*C)*-Z+((l*W+u*z+f*C)*-J+(d*W+b*z+A*C)*-I);J=+c[j+192>>2];Z=+c[U>>2];K=+c[j+192+8>>2];Q=+c[j+192+16>>2];Y=+c[j+192+20>>2];a=+c[H>>2];P=+c[j+192+32>>2];V=+c[j+192+36>>2];O=+c[j+192+40>>2];M=$*J+q*Z+I*K+ +c[j+192+48>>2];T=$*Q+q*Y+I*a+ +c[j+192+52>>2];I=$*P+q*V+I*O+ +c[j+192+56>>2];c[j>>2]=(l*g+u*y+f*x)*J+(l*D+u*w+f*L)*Z+(l*W+u*z+f*C)*K;c[j+4>>2]=(d*g+b*y+A*x)*J+(d*D+b*w+A*L)*Z+(d*W+b*z+A*C)*K;c[j+8>>2]=(G*g+X*y+R*x)*J+(G*D+X*w+R*L)*Z+(G*W+X*z+R*C)*K;c[j+12>>2]=0.0;c[j+16>>2]=(l*g+u*y+f*x)*Q+(l*D+u*w+f*L)*Y+(l*W+u*z+f*C)*a;c[j+20>>2]=(d*g+b*y+A*x)*Q+(d*D+b*w+A*L)*Y+(d*W+b*z+A*C)*a;c[j+24>>2]=(G*g+X*y+R*x)*Q+(G*D+X*w+R*L)*Y+(G*W+X*z+R*C)*a;c[j+28>>2]=0.0;c[j+32>>2]=(l*g+u*y+f*x)*P+(l*D+u*w+f*L)*V+(l*W+u*z+f*C)*O;c[j+36>>2]=(d*g+b*y+A*x)*P+(d*D+b*w+A*L)*V+(d*W+b*z+A*C)*O;c[j+40>>2]=(G*g+X*y+R*x)*P+(G*D+X*w+R*L)*V+(G*W+X*z+R*C)*O;c[j+44>>2]=0.0;c[j+48>>2]=M;c[j+52>>2]=T;c[j+56>>2]=I;c[j+60>>2]=0.0;Le(j+352|0,j+64|0,j+424|0,j+416|0);I=+c[j+416>>2];T=1.0/r*(+c[j+424>>2]*I);M=1.0/r*(I*+c[j+424+4>>2]);I=1.0/r*(I*+c[j+424+8>>2]);Le(j+288|0,j,j+424|0,j+416|0);O=+c[j+416>>2];T=T-+c[j+272>>2];M=M-+c[j+272+4>>2];I=I-+c[j+272+8>>2];C=1.0/r*(+c[j+424>>2]*O)-+c[j+256>>2];R=1.0/r*(O*+c[j+424+4>>2])-+c[j+256+4>>2];O=1.0/r*(O*+c[j+424+8>>2])-+c[j+256+8>>2];if(T*T+M*M+I*I>1.1920928955078125e-07){A=1.0/+v(+(T*T+M*M+I*I));H=o[e+28>>2]|0;a=T*A;u=M*A;d=I*A;A=T*A*(T*A*+c[H+264>>2]+M*A*+c[H+280>>2]+I*A*+c[H+296>>2])+M*A*(T*A*+c[H+268>>2]+M*A*+c[H+284>>2]+I*A*+c[H+300>>2])+I*A*(T*A*+c[H+272>>2]+M*A*+c[H+288>>2]+I*A*+c[H+304>>2])}else{a=0.0;u=0.0;d=0.0;A=0.0}if(C*C+R*R+O*O>1.1920928955078125e-07){g=1.0/+v(+(C*C+R*R+O*O));H=o[e+32>>2]|0;l=C*g;f=R*g;b=O*g;g=C*g*(C*g*+c[H+264>>2]+R*g*+c[H+280>>2]+O*g*+c[H+296>>2])+R*g*(C*g*+c[H+268>>2]+R*g*+c[H+284>>2]+O*g*+c[H+300>>2])+O*g*(C*g*+c[H+272>>2]+R*g*+c[H+288>>2]+O*g*+c[H+304>>2])}else{l=0.0;f=0.0;b=0.0;g=0.0}y=A*a+g*l;l=A*u+g*f;a=A*d+g*b;if(y*y+l*l+a*a>1.1920928955078125e-07){d=1.0/+v(+(y*y+l*l+a*a));s=o[e+28>>2]|0;u=y*d*(y*d*+c[s+264>>2]+l*d*+c[s+280>>2]+a*d*+c[s+296>>2])+l*d*(y*d*+c[s+268>>2]+l*d*+c[s+284>>2]+a*d*+c[s+300>>2])+a*d*(y*d*+c[s+272>>2]+l*d*+c[s+288>>2]+a*d*+c[s+304>>2]);h=o[e+32>>2]|0;d=y*d*(y*d*+c[h+264>>2]+l*d*+c[h+280>>2]+a*d*+c[h+296>>2])+l*d*(y*d*+c[h+268>>2]+l*d*+c[h+284>>2]+a*d*+c[h+300>>2])+a*d*(y*d*+c[h+272>>2]+l*d*+c[h+288>>2]+a*d*+c[h+304>>2]);l=(T*u-C*d)*(1.0/((u+d)*(u+d)));T=(M*u-R*d)*(1.0/((u+d)*(u+d)));d=(I*u-O*d)*(1.0/((u+d)*(u+d)));a=+c[e+572>>2];if(!(a>=0.0))a=T;else{A=(n[e+553>>0]|0)==0?a:a/u;a=+c[e+576>>2];f=+c[e+580>>2];u=+c[e+584>>2];b=+v(+((l+a)*(l+a)+(T+f)*(T+f)+(d+u)*(d+u)));if(b>A){g=a+(A*((l+a)*(1.0/b))-a);y=u+(A*((d+u)*(1.0/b))-u);C=f+(A*((T+f)*(1.0/b))-f);l=A*((l+a)*(1.0/b))-a;d=A*((d+u)*(1.0/b))-u;a=A*((T+f)*(1.0/b))-f}else{g=l+a;y=d+u;C=T+f;a=T}c[e+576>>2]=g;c[e+580>>2]=C;c[e+584>>2]=y}f=+v(+(l*l+a*a+d*d));u=l*(1.0/f);l=a*(1.0/f);a=d*(1.0/f);if(o[t+240>>2]|0){ee=u*+c[s+296>>2]+l*+c[s+300>>2]+a*+c[s+304>>2];$=u*+c[s+280>>2]+l*+c[s+284>>2]+a*+c[s+288>>2];q=u*+c[s+264>>2]+l*+c[s+268>>2]+a*+c[s+272>>2];Z=f*0.0*+c[t+116>>2];J=f*0.0*+c[t+120>>2];c[t+64>>2]=f*0.0*+c[t+112>>2]+ +c[t+64>>2];c[t+68>>2]=Z+ +c[t+68>>2];c[t+72>>2]=J+ +c[t+72>>2];$=$*(f*+c[t+100>>2]);ee=ee*(f*+c[t+104>>2]);c[t+80>>2]=q*(f*+c[t+96>>2])+ +c[t+80>>2];c[t+84>>2]=$+ +c[t+84>>2];c[t+88>>2]=ee+ +c[t+88>>2]}if(o[i+240>>2]|0){ee=u*+c[h+296>>2]+l*+c[h+300>>2]+a*+c[h+304>>2];$=u*+c[h+280>>2]+l*+c[h+284>>2]+a*+c[h+288>>2];q=u*+c[h+264>>2]+l*+c[h+268>>2]+a*+c[h+272>>2];Z=f*-0.0*+c[i+116>>2];J=f*-0.0*+c[i+120>>2];c[i+64>>2]=f*-0.0*+c[i+112>>2]+ +c[i+64>>2];c[i+68>>2]=Z+ +c[i+68>>2];c[i+72>>2]=J+ +c[i+72>>2];$=$*(+c[i+100>>2]*-f);ee=ee*(+c[i+104>>2]*-f);c[i+80>>2]=q*(+c[i+96>>2]*-f)+ +c[i+80>>2];c[i+84>>2]=$+ +c[i+84>>2];c[i+88>>2]=ee+ +c[i+88>>2]}}m=i+192|0;s=t+192|0;S=i+200|0;p=t+200|0;k=i+88|0;F=t+88|0;U=i+80|0;N=t+80|0;E=i+196|0;h=t+196|0;H=i+84|0;B=t+84|0}}while(0);T=+c[s>>2]+ +c[N>>2];C=+c[h>>2]+ +c[B>>2];y=+c[p>>2]+ +c[F>>2];g=+c[m>>2]+ +c[U>>2];A=+c[E>>2]+ +c[H>>2];b=+c[S>>2]+ +c[k>>2];if(n[e+526>>0]|0){l=+c[e+528>>2];a=l*+c[e+504>>2]*+c[e+432>>2]/r;u=+c[e+460>>2];f=+c[e+464>>2];d=+c[e+468>>2];if((g-T)*u+(A-C)*f+(b-y)*d>0.0)a=a+l*((g-T)*u+(A-C)*f+(b-y)*d)*+c[e+436>>2];$=+c[e+516>>2];J=$+a*+c[e+492>>2];c[j+424>>2]=J;c[j+416>>2]=0.0;s=o[(J>0.0?j+424|0:j+416|0)>>2]|0;o[e+516>>2]=s;$=(o[_>>2]=s,+c[_>>2])-$;J=+c[e+536>>2];q=+c[e+540>>2];a=+c[e+544>>2];l=u*$-J*(u*$*J+f*$*q+d*$*a);ee=f*$-q*(u*$*J+f*$*q+d*$*a);f=d*$-a*(u*$*J+f*$*q+d*$*a);a=+v(+(f*f+(l*l+ee*ee)));l=l*(1.0/a);u=ee*(1.0/a);f=f*(1.0/a);s=o[e+28>>2]|0;if(o[t+240>>2]|0){ee=l*+c[s+296>>2]+u*+c[s+300>>2]+f*+c[s+304>>2];$=l*+c[s+280>>2]+u*+c[s+284>>2]+f*+c[s+288>>2];q=l*+c[s+264>>2]+u*+c[s+268>>2]+f*+c[s+272>>2];Z=a*0.0*+c[t+116>>2];J=a*0.0*+c[t+120>>2];c[t+64>>2]=a*0.0*+c[t+112>>2]+ +c[t+64>>2];c[t+68>>2]=Z+ +c[t+68>>2];c[t+72>>2]=J+ +c[t+72>>2];$=$*(a*+c[t+100>>2]);ee=ee*(a*+c[t+104>>2]);c[N>>2]=q*(a*+c[t+96>>2])+ +c[N>>2];c[B>>2]=$+ +c[B>>2];c[F>>2]=ee+ +c[F>>2]}s=o[e+32>>2]|0;if(o[i+240>>2]|0){ee=l*+c[s+296>>2]+u*+c[s+300>>2]+f*+c[s+304>>2];$=l*+c[s+280>>2]+u*+c[s+284>>2]+f*+c[s+288>>2];q=l*+c[s+264>>2]+u*+c[s+268>>2]+f*+c[s+272>>2];Z=a*-0.0*+c[i+116>>2];J=a*-0.0*+c[i+120>>2];c[i+64>>2]=a*-0.0*+c[i+112>>2]+ +c[i+64>>2];c[i+68>>2]=Z+ +c[i+68>>2];c[i+72>>2]=J+ +c[i+72>>2];$=$*(+c[i+100>>2]*-a);ee=ee*(+c[i+104>>2]*-a);c[U>>2]=q*(+c[i+96>>2]*-a)+ +c[U>>2];c[H>>2]=$+ +c[H>>2];c[k>>2]=ee+ +c[k>>2]}}if(!(n[e+525>>0]|0)){ae=j;return}d=+c[e+532>>2];f=d*+c[e+508>>2]*+c[e+432>>2]/r;u=+c[e+476>>2];l=+c[e+480>>2];a=+c[e+484>>2];if((g-T)*u+(A-C)*l+(b-y)*a>0.0)f=f+d*((g-T)*u+(A-C)*l+(b-y)*a)*+c[e+436>>2];ee=+c[e+520>>2];f=ee+f*+c[e+496>>2];c[j+424>>2]=f;c[j+416>>2]=0.0;s=o[(f>0.0?j+424|0:j+416|0)>>2]|0;o[e+520>>2]=s;f=(o[_>>2]=s,+c[_>>2])-ee;s=o[e+28>>2]|0;if(o[t+240>>2]|0){ee=u*+c[s+296>>2]+l*+c[s+300>>2]+a*+c[s+304>>2];$=u*+c[s+280>>2]+l*+c[s+284>>2]+a*+c[s+288>>2];a=u*+c[s+264>>2]+l*+c[s+268>>2]+a*+c[s+272>>2];u=f*0.0*+c[t+116>>2];l=f*0.0*+c[t+120>>2];c[t+64>>2]=f*0.0*+c[t+112>>2]+ +c[t+64>>2];c[t+68>>2]=u+ +c[t+68>>2];c[t+72>>2]=l+ +c[t+72>>2];l=$*(f*+c[t+100>>2]);u=ee*(f*+c[t+104>>2]);c[N>>2]=a*(f*+c[t+96>>2])+ +c[N>>2];c[B>>2]=l+ +c[B>>2];c[F>>2]=u+ +c[F>>2];u=+c[e+476>>2];l=+c[e+480>>2];a=+c[e+484>>2]}s=o[e+32>>2]|0;if(!(o[i+240>>2]|0)){ae=j;return}ee=u*+c[s+296>>2]+l*+c[s+300>>2]+a*+c[s+304>>2];$=u*+c[s+280>>2]+l*+c[s+284>>2]+a*+c[s+288>>2];q=u*+c[s+264>>2]+l*+c[s+268>>2]+a*+c[s+272>>2];Z=f*-0.0*+c[i+116>>2];J=f*-0.0*+c[i+120>>2];c[i+64>>2]=f*-0.0*+c[i+112>>2]+ +c[i+64>>2];c[i+68>>2]=Z+ +c[i+68>>2];c[i+72>>2]=J+ +c[i+72>>2];$=$*(+c[i+100>>2]*-f);ee=ee*(+c[i+104>>2]*-f);c[U>>2]=q*(+c[i+96>>2]*-f)+ +c[U>>2];c[H>>2]=$+ +c[H>>2];c[k>>2]=ee+ +c[k>>2];ae=j;return}function Do(e){e=e|0;var t=0,i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0;A=ae;ae=ae+16|0;do{if(e>>>0<245){f=e>>>0<11?16:e+11&-8;n=3?f>>>3:f;u=o[6765]|0;r=n?u>>>n:u;if(r&3|0){i=27100+((r&1^1)+n<<1<<2)|0;e=o[i+8>>2]|0;t=o[e+8>>2]|0;if((t|0)==(i|0))o[6765]=u&~(1<<(r&1^1)+n);else{o[t+12>>2]=i;o[i+8>>2]=t}o[e+4>>2]=(r&1^1)+n<<3|3;o[e+((r&1^1)+n<<3)+4>>2]=o[e+((r&1^1)+n<<3)+4>>2]|1;m=e+8|0;ae=A;return m|0}_=o[6767]|0;if(f>>>0>_>>>0){if(r|0){s=(r<<n&(2<<n|0-(2<<n))&0-(r<<n&(2<<n|0-(2<<n))))+-1|0;b=(12?s>>>12:s)&16;s=b?s>>>b:s;p=(5?s>>>5:s)&8;s=p?s>>>p:s;m=(2?s>>>2:s)&4;s=m?s>>>m:s;e=(1?s>>>1:s)&2;s=e?s>>>e:s;r=(1?s>>>1:s)&1;s=(p|b|m|e|r)+(r?s>>>r:s)|0;r=o[27100+(s<<1<<2)+8>>2]|0;e=o[r+8>>2]|0;if((e|0)==(27100+(s<<1<<2)|0)){o[6765]=u&~(1<<s);e=u&~(1<<s)}else{o[e+12>>2]=27100+(s<<1<<2);o[27100+(s<<1<<2)+8>>2]=e;e=u}o[r+4>>2]=f|3;o[r+f+4>>2]=(s<<3)-f|1;o[r+(s<<3)>>2]=(s<<3)-f;if(_|0){n=o[6770]|0;i=3?_>>>3:_;if(!(e&1<<i)){o[6765]=e|1<<i;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=n;o[t+12>>2]=n;o[n+8>>2]=t;o[n+12>>2]=27100+(i<<1<<2)}o[6767]=(s<<3)-f;o[6770]=r+f;m=r+8|0;ae=A;return m|0}s=o[6766]|0;if(s){r=(12?((s&0-s)+-1|0)>>>12:(s&0-s)+-1|0)&16;l=r?((s&0-s)+-1|0)>>>r:(s&0-s)+-1|0;n=(5?l>>>5:l)&8;l=n?l>>>n:l;a=(2?l>>>2:l)&4;l=a?l>>>a:l;t=(1?l>>>1:l)&2;l=t?l>>>t:l;c=(1?l>>>1:l)&1;l=o[27364+((n|r|a|t|c)+(c?l>>>c:l)<<2)>>2]|0;c=(o[l+4>>2]&-8)-f|0;t=l;while(1){e=o[t+16>>2]|0;if(!e){e=o[t+20>>2]|0;if(!e)break}t=(o[e+4>>2]&-8)-f|0;a=t>>>0<c>>>0;c=a?t:c;t=e;l=a?e:l}a=l+f|0;if(a>>>0>l>>>0){r=o[l+24>>2]|0;e=o[l+12>>2]|0;do{if((e|0)==(l|0)){t=l+20|0;e=o[t>>2]|0;if(!e){t=l+16|0;e=o[t>>2]|0;if(!e){t=0;break}}while(1){n=e+20|0;i=o[n>>2]|0;if(!i){n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;t=n}}else{e=i;t=n}}o[t>>2]=0;t=e}else{t=o[l+8>>2]|0;o[t+12>>2]=e;o[e+8>>2]=t;t=e}}while(0);do{if(r|0){e=o[l+28>>2]|0;if((l|0)==(o[27364+(e<<2)>>2]|0)){o[27364+(e<<2)>>2]=t;if(!t){o[6766]=s&~(1<<e);break}}else{o[((o[r+16>>2]|0)==(l|0)?r+16|0:r+20|0)>>2]=t;if(!t)break}o[t+24>>2]=r;e=o[l+16>>2]|0;if(e|0){o[t+16>>2]=e;o[e+24>>2]=t}e=o[l+20>>2]|0;if(e|0){o[t+20>>2]=e;o[e+24>>2]=t}}}while(0);if(c>>>0<16){m=c+f|0;o[l+4>>2]=m|3;m=l+m+4|0;o[m>>2]=o[m>>2]|1}else{o[l+4>>2]=f|3;o[a+4>>2]=c|1;o[a+c>>2]=c;if(_|0){n=o[6770]|0;i=3?_>>>3:_;if(!(1<<i&u)){o[6765]=1<<i|u;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=n;o[t+12>>2]=n;o[n+8>>2]=t;o[n+12>>2]=27100+(i<<1<<2)}o[6767]=c;o[6770]=a}m=l+8|0;ae=A;return m|0}}}}else if(e>>>0<=4294967231){f=e+11&-8;n=o[6766]|0;if(n){e=8?(e+11|0)>>>8:e+11|0;if(e){if(f>>>0>16777215)c=31;else{u=(16?(e+1048320|0)>>>16:e+1048320|0)&8;b=(16?((e<<u)+520192|0)>>>16:(e<<u)+520192|0)&4;c=(16?((e<<u<<b)+245760|0)>>>16:(e<<u<<b)+245760|0)&2;c=14-(b|u|c)+(15?e<<u<<b<<c>>>15:e<<u<<b<<c)|0;c=(c+7|0?f>>>(c+7|0):f)&1|c<<1}}else c=0;e=o[27364+(c<<2)>>2]|0;e:do{if(!e){i=0-f|0;t=0;e=0;b=61}else{i=0-f|0;t=0;a=f<<((c|0)==31?0:25-(1?c>>>1:c)|0);s=0;while(1){r=(o[e+4>>2]&-8)-f|0;if(r>>>0<i>>>0)if(!r){i=0;t=e;b=65;break e}else{i=r;s=e}b=o[e+20>>2]|0;e=o[e+16+((31?a>>>31:a)<<2)>>2]|0;t=(b|0)==0|(b|0)==(e|0)?t:b;if(!e){e=s;b=61;break}else a=a<<1}}}while(0);if((b|0)==61){if((t|0)==0&(e|0)==0){e=2<<c;if(!((e|0-e)&n))break;t=((e|0-e)&n&0-((e|0-e)&n))+-1|0;c=(12?t>>>12:t)&16;t=c?t>>>c:t;a=(5?t>>>5:t)&8;t=a?t>>>a:t;_=(2?t>>>2:t)&4;t=_?t>>>_:t;u=(1?t>>>1:t)&2;t=u?t>>>u:t;e=(1?t>>>1:t)&1;t=o[27364+((a|c|_|u|e)+(e?t>>>e:t)<<2)>>2]|0;e=0}if(!t){a=i;c=e}else b=65}if((b|0)==65)while(1){u=(o[t+4>>2]&-8)-f|0;r=u>>>0<i>>>0;i=r?u:i;r=r?t:e;e=o[t+16>>2]|0;if(!e)e=o[t+20>>2]|0;if(!e){a=i;c=r;break}else{t=e;e=r}}if(((c|0)!=0?a>>>0<((o[6767]|0)-f|0)>>>0:0)?(l=c+f|0,l>>>0>c>>>0):0){s=o[c+24>>2]|0;e=o[c+12>>2]|0;do{if((e|0)==(c|0)){t=c+20|0;e=o[t>>2]|0;if(!e){t=c+16|0;e=o[t>>2]|0;if(!e){e=0;break}}while(1){r=e+20|0;i=o[r>>2]|0;if(!i){r=e+16|0;i=o[r>>2]|0;if(!i)break;else{e=i;t=r}}else{e=i;t=r}}o[t>>2]=0}else{m=o[c+8>>2]|0;o[m+12>>2]=e;o[e+8>>2]=m}}while(0);do{if(s){t=o[c+28>>2]|0;if((c|0)==(o[27364+(t<<2)>>2]|0)){o[27364+(t<<2)>>2]=e;if(!e){o[6766]=n&~(1<<t);n=n&~(1<<t);break}}else{o[((o[s+16>>2]|0)==(c|0)?s+16|0:s+20|0)>>2]=e;if(!e)break}o[e+24>>2]=s;t=o[c+16>>2]|0;if(t|0){o[e+16>>2]=t;o[t+24>>2]=e}t=o[c+20>>2]|0;if(t){o[e+20>>2]=t;o[t+24>>2]=e}}}while(0);e:do{if(a>>>0<16){m=a+f|0;o[c+4>>2]=m|3;m=c+m+4|0;o[m>>2]=o[m>>2]|1}else{o[c+4>>2]=f|3;o[l+4>>2]=a|1;o[l+a>>2]=a;i=3?a>>>3:a;if(a>>>0<256){e=o[6765]|0;if(!(e&1<<i)){o[6765]=e|1<<i;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=l;o[t+12>>2]=l;o[l+8>>2]=t;o[l+12>>2]=27100+(i<<1<<2);break}e=8?a>>>8:a;if(e){if(a>>>0>16777215)i=31;else{b=(16?(e+1048320|0)>>>16:e+1048320|0)&8;m=(16?((e<<b)+520192|0)>>>16:(e<<b)+520192|0)&4;i=(16?((e<<b<<m)+245760|0)>>>16:(e<<b<<m)+245760|0)&2;i=14-(m|b|i)+(15?e<<b<<m<<i>>>15:e<<b<<m<<i)|0;i=(i+7|0?a>>>(i+7|0):a)&1|i<<1}}else i=0;e=27364+(i<<2)|0;o[l+28>>2]=i;o[l+16+4>>2]=0;o[l+16>>2]=0;t=1<<i;if(!(n&t)){o[6766]=n|t;o[e>>2]=l;o[l+24>>2]=e;o[l+12>>2]=l;o[l+8>>2]=l;break}e=o[e>>2]|0;t:do{if((o[e+4>>2]&-8|0)!=(a|0)){n=a<<((i|0)==31?0:25-(1?i>>>1:i)|0);while(1){i=e+16+((31?n>>>31:n)<<2)|0;t=o[i>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(a|0)){e=t;break t}else{n=n<<1;e=t}}o[i>>2]=l;o[l+24>>2]=e;o[l+12>>2]=l;o[l+8>>2]=l;break e}}while(0);b=e+8|0;m=o[b>>2]|0;o[m+12>>2]=l;o[b>>2]=l;o[l+8>>2]=m;o[l+12>>2]=e;o[l+24>>2]=0}}while(0);m=c+8|0;ae=A;return m|0}}}else f=-1}while(0);i=o[6767]|0;if(i>>>0>=f>>>0){t=i-f|0;e=o[6770]|0;if(t>>>0>15){m=e+f|0;o[6770]=m;o[6767]=t;o[m+4>>2]=t|1;o[e+i>>2]=t;o[e+4>>2]=f|3}else{o[6767]=0;o[6770]=0;o[e+4>>2]=i|3;o[e+i+4>>2]=o[e+i+4>>2]|1}m=e+8|0;ae=A;return m|0}r=o[6768]|0;if(r>>>0>f>>>0){p=r-f|0;o[6768]=p;m=o[6771]|0;b=m+f|0;o[6771]=b;o[b+4>>2]=p|1;o[m+4>>2]=f|3;m=m+8|0;ae=A;return m|0}if(!(o[6883]|0)){o[6885]=4096;o[6884]=4096;o[6886]=-1;o[6887]=-1;o[6888]=0;o[6876]=0;o[6883]=A&-16^1431655768;e=4096}else e=o[6885]|0;s=f+48|0;a=f+47|0;l=e+a|0;c=0-e|0;if((l&c)>>>0<=f>>>0){m=0;ae=A;return m|0}e=o[6875]|0;if(e|0?(u=o[6873]|0,(u+(l&c)|0)>>>0<=u>>>0?1:(u+(l&c)|0)>>>0>e>>>0):0){m=0;ae=A;return m|0}e:do{if(!(o[6876]&4)){t=o[6771]|0;t:do{if(t){i=27508;while(1){e=o[i>>2]|0;if(e>>>0<=t>>>0?(h=i+4|0,(e+(o[h>>2]|0)|0)>>>0>t>>>0):0)break;e=o[i+8>>2]|0;if(!e){b=128;break t}else i=e}if((l-r&c)>>>0<2147483647){e=rd(l-r&c|0)|0;if((e|0)==((o[i>>2]|0)+(o[h>>2]|0)|0)){if((e|0)==(-1|0))e=l-r&c;else{a=e;s=l-r&c;break e}}else{n=e;i=l-r&c;b=136}}else e=0}else b=128}while(0);do{if((b|0)==128){t=rd(0)|0;if((t|0)!=(-1|0)?(p=o[6884]|0,p=((p+-1&t|0)==0?0:(p+-1+t&0-p)-t|0)+(l&c)|0,d=o[6873]|0,p>>>0>f>>>0&p>>>0<2147483647):0){h=o[6875]|0;if(h|0?(p+d|0)>>>0<=d>>>0|(p+d|0)>>>0>h>>>0:0){e=0;break}e=rd(p|0)|0;if((e|0)==(t|0)){a=t;s=p;break e}else{n=e;i=p;b=136}}else e=0}}while(0);do{if((b|0)==136){t=0-i|0;if(!(s>>>0>i>>>0&(i>>>0<2147483647&(n|0)!=(-1|0))))if((n|0)==(-1|0)){e=0;break}else{a=n;s=i;break e}e=o[6885]|0;e=a-i+e&0-e;if(e>>>0>=2147483647){a=n;s=i;break e}if((rd(e|0)|0)==(-1|0)){rd(t|0)|0;e=0;break}else{a=n;s=e+i|0;break e}}}while(0);o[6876]=o[6876]|4;b=143}else{e=0;b=143}}while(0);if((b|0)==143){if((l&c)>>>0>=2147483647){m=0;ae=A;return m|0}t=rd(l&c|0)|0;i=rd(0)|0;n=(i-t|0)>>>0>(f+40|0)>>>0;if((t|0)==(-1|0)|n^1|t>>>0<i>>>0&((t|0)!=(-1|0)&(i|0)!=(-1|0))^1){m=0;ae=A;return m|0}else{a=t;s=n?i-t|0:e}}e=(o[6873]|0)+s|0;o[6873]=e;if(e>>>0>(o[6874]|0)>>>0)o[6874]=e;l=o[6771]|0;e:do{if(l){r=27508;while(1){e=o[r>>2]|0;n=r+4|0;t=o[n>>2]|0;if((a|0)==(e+t|0)){b=154;break}i=o[r+8>>2]|0;if(!i)break;else r=i}if(((b|0)==154?(o[r+12>>2]&8|0)==0:0)?a>>>0>l>>>0&e>>>0<=l>>>0:0){o[n>>2]=t+s;m=(o[6768]|0)+s|0;b=(l+8&7|0)==0?0:0-(l+8)&7;o[6771]=l+b;o[6768]=m-b;o[l+b+4>>2]=m-b|1;o[l+m+4>>2]=40;o[6772]=o[6887];break}if(a>>>0<(o[6769]|0)>>>0)o[6769]=a;i=a+s|0;t=27508;while(1){if((o[t>>2]|0)==(i|0)){b=162;break}e=o[t+8>>2]|0;if(!e)break;else t=e}if((b|0)==162?(o[t+12>>2]&8|0)==0:0){o[t>>2]=a;u=t+4|0;o[u>>2]=(o[u>>2]|0)+s;u=a+8|0;u=a+((u&7|0)==0?0:0-u&7)|0;e=i+((i+8&7|0)==0?0:0-(i+8)&7)|0;_=u+f|0;c=e-u-f|0;o[u+4>>2]=f|3;t:do{if((l|0)==(e|0)){m=(o[6768]|0)+c|0;o[6768]=m;o[6771]=_;o[_+4>>2]=m|1}else{if((o[6770]|0)==(e|0)){m=(o[6767]|0)+c|0;o[6767]=m;o[6770]=_;o[_+4>>2]=m|1;o[_+m>>2]=m;break}a=o[e+4>>2]|0;if((a&3|0)==1){n=3?a>>>3:a;i:do{if(a>>>0<256){t=o[e+8>>2]|0;i=o[e+12>>2]|0;if((i|0)==(t|0)){o[6765]=o[6765]&~(1<<n);break}else{o[t+12>>2]=i;o[i+8>>2]=t;break}}else{s=o[e+24>>2]|0;t=o[e+12>>2]|0;do{if((t|0)==(e|0)){t=o[e+16+4>>2]|0;if(!t){t=o[e+16>>2]|0;if(!t){t=0;break}else i=e+16|0}else i=e+16+4|0;while(1){r=t+20|0;n=o[r>>2]|0;if(!n){r=t+16|0;n=o[r>>2]|0;if(!n)break;else{t=n;i=r}}else{t=n;i=r}}o[i>>2]=0}else{m=o[e+8>>2]|0;o[m+12>>2]=t;o[t+8>>2]=m}}while(0);if(!s)break;i=o[e+28>>2]|0;do{if((o[27364+(i<<2)>>2]|0)!=(e|0)){o[((o[s+16>>2]|0)==(e|0)?s+16|0:s+20|0)>>2]=t;if(!t)break i}else{o[27364+(i<<2)>>2]=t;if(t|0)break;o[6766]=o[6766]&~(1<<i);break i}}while(0);o[t+24>>2]=s;i=o[e+16>>2]|0;if(i|0){o[t+16>>2]=i;o[i+24>>2]=t}i=o[e+16+4>>2]|0;if(!i)break;o[t+20>>2]=i;o[i+24>>2]=t}}while(0);e=e+(a&-8)|0;r=(a&-8)+c|0}else r=c;i=e+4|0;o[i>>2]=o[i>>2]&-2;o[_+4>>2]=r|1;o[_+r>>2]=r;i=3?r>>>3:r;if(r>>>0<256){e=o[6765]|0;if(!(e&1<<i)){o[6765]=e|1<<i;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=_;o[t+12>>2]=_;o[_+8>>2]=t;o[_+12>>2]=27100+(i<<1<<2);break}e=8?r>>>8:r;do{if(!e)n=0;else{if(r>>>0>16777215){n=31;break}b=(16?(e+1048320|0)>>>16:e+1048320|0)&8;m=(16?((e<<b)+520192|0)>>>16:(e<<b)+520192|0)&4;n=(16?((e<<b<<m)+245760|0)>>>16:(e<<b<<m)+245760|0)&2;n=14-(m|b|n)+(15?e<<b<<m<<n>>>15:e<<b<<m<<n)|0;n=(n+7|0?r>>>(n+7|0):r)&1|n<<1}}while(0);t=27364+(n<<2)|0;o[_+28>>2]=n;o[_+16+4>>2]=0;o[_+16>>2]=0;e=o[6766]|0;i=1<<n;if(!(e&i)){o[6766]=e|i;o[t>>2]=_;o[_+24>>2]=t;o[_+12>>2]=_;o[_+8>>2]=_;break}e=o[t>>2]|0;i:do{if((o[e+4>>2]&-8|0)!=(r|0)){n=r<<((n|0)==31?0:25-(1?n>>>1:n)|0);while(1){i=e+16+((31?n>>>31:n)<<2)|0;t=o[i>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(r|0)){e=t;break i}else{n=n<<1;e=t}}o[i>>2]=_;o[_+24>>2]=e;o[_+12>>2]=_;o[_+8>>2]=_;break t}}while(0);b=e+8|0;m=o[b>>2]|0;o[m+12>>2]=_;o[b>>2]=_;o[_+8>>2]=m;o[_+12>>2]=e;o[_+24>>2]=0}}while(0);m=u+8|0;ae=A;return m|0}t=27508;while(1){e=o[t>>2]|0;if(e>>>0<=l>>>0?(m=e+(o[t+4>>2]|0)|0,m>>>0>l>>>0):0)break;t=o[t+8>>2]|0}r=m+-47+((m+-47+8&7|0)==0?0:0-(m+-47+8)&7)|0;r=r>>>0<(l+16|0)>>>0?l:r;e=s+-40|0;p=a+8|0;p=(p&7|0)==0?0:0-p&7;b=a+p|0;o[6771]=b;o[6768]=e-p;o[b+4>>2]=e-p|1;o[a+e+4>>2]=40;o[6772]=o[6887];o[r+4>>2]=27;o[r+8>>2]=o[6877];o[r+8+4>>2]=o[6878];o[r+8+8>>2]=o[6879];o[r+8+12>>2]=o[6880];o[6877]=a;o[6878]=s;o[6880]=0;o[6879]=r+8;e=r+24|0;do{b=e;e=e+4|0;o[e>>2]=7}while((b+8|0)>>>0<m>>>0);if((r|0)!=(l|0)){o[r+4>>2]=o[r+4>>2]&-2;o[l+4>>2]=r-l|1;o[r>>2]=r-l;i=3?(r-l|0)>>>3:r-l|0;if((r-l|0)>>>0<256){e=o[6765]|0;if(!(e&1<<i)){o[6765]=e|1<<i;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=l;o[t+12>>2]=l;o[l+8>>2]=t;o[l+12>>2]=27100+(i<<1<<2);break}e=8?(r-l|0)>>>8:r-l|0;if(e){if((r-l|0)>>>0>16777215)n=31;else{b=(16?(e+1048320|0)>>>16:e+1048320|0)&8;m=(16?((e<<b)+520192|0)>>>16:(e<<b)+520192|0)&4;n=(16?((e<<b<<m)+245760|0)>>>16:(e<<b<<m)+245760|0)&2;n=14-(m|b|n)+(15?e<<b<<m<<n>>>15:e<<b<<m<<n)|0;n=(n+7|0?(r-l|0)>>>(n+7|0):r-l|0)&1|n<<1}}else n=0;t=27364+(n<<2)|0;o[l+28>>2]=n;o[l+20>>2]=0;o[l+16>>2]=0;e=o[6766]|0;i=1<<n;if(!(e&i)){o[6766]=e|i;o[t>>2]=l;o[l+24>>2]=t;o[l+12>>2]=l;o[l+8>>2]=l;break}e=o[t>>2]|0;t:do{if((o[e+4>>2]&-8|0)!=(r-l|0)){n=r-l<<((n|0)==31?0:25-(1?n>>>1:n)|0);while(1){i=e+16+((31?n>>>31:n)<<2)|0;t=o[i>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(r-l|0)){e=t;break t}else{n=n<<1;e=t}}o[i>>2]=l;o[l+24>>2]=e;o[l+12>>2]=l;o[l+8>>2]=l;break e}}while(0);b=e+8|0;m=o[b>>2]|0;o[m+12>>2]=l;o[b>>2]=l;o[l+8>>2]=m;o[l+12>>2]=e;o[l+24>>2]=0}}else{m=o[6769]|0;if((m|0)==0|a>>>0<m>>>0)o[6769]=a;o[6877]=a;o[6878]=s;o[6880]=0;o[6774]=o[6883];o[6773]=-1;o[6778]=27100;o[6777]=27100;o[6780]=27108;o[6779]=27108;o[6782]=27116;o[6781]=27116;o[6784]=27124;o[6783]=27124;o[6786]=27132;o[6785]=27132;o[6788]=27140;o[6787]=27140;o[6790]=27148;o[6789]=27148;o[6792]=27156;o[6791]=27156;o[6794]=27164;o[6793]=27164;o[6796]=27172;o[6795]=27172;o[6798]=27180;o[6797]=27180;o[6800]=27188;o[6799]=27188;o[6802]=27196;o[6801]=27196;o[6804]=27204;o[6803]=27204;o[6806]=27212;o[6805]=27212;o[6808]=27220;o[6807]=27220;o[6810]=27228;o[6809]=27228;o[6812]=27236;o[6811]=27236;o[6814]=27244;o[6813]=27244;o[6816]=27252;o[6815]=27252;o[6818]=27260;o[6817]=27260;o[6820]=27268;o[6819]=27268;o[6822]=27276;o[6821]=27276;o[6824]=27284;o[6823]=27284;o[6826]=27292;o[6825]=27292;o[6828]=27300;o[6827]=27300;o[6830]=27308;o[6829]=27308;o[6832]=27316;o[6831]=27316;o[6834]=27324;o[6833]=27324;o[6836]=27332;o[6835]=27332;o[6838]=27340;o[6837]=27340;o[6840]=27348;o[6839]=27348;m=s+-40|0;p=a+8|0;p=(p&7|0)==0?0:0-p&7;b=a+p|0;o[6771]=b;o[6768]=m-p;o[b+4>>2]=m-p|1;o[a+m+4>>2]=40;o[6772]=o[6887]}}while(0);e=o[6768]|0;if(e>>>0<=f>>>0){m=0;ae=A;return m|0}p=e-f|0;o[6768]=p;m=o[6771]|0;b=m+f|0;o[6771]=b;o[b+4>>2]=p|1;o[m+4>>2]=f|3;m=m+8|0;ae=A;return m|0}function wo(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,I=0,x=0,P=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0,q=0,$=0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,se=0;X=o[n>>2]|0;ne=o[r>>2]|0;if(X|0)s=o[X+12>>2]|0;else s=t;a=o[s+88>>2]|0;c=o[s+92>>2]|0;f=o[s+96>>2]|0;if(!ne)s=i;else s=o[ne+12>>2]|0;A=o[s+88>>2]|0;d=o[s+92>>2]|0;g=o[s+96>>2]|0;z=o[t+88>>2]|0;te=(o[i+88>>2]|0)-z|0;v=o[t+92>>2]|0;ie=(o[i+92>>2]|0)-v|0;t=o[t+96>>2]|0;ee=(o[i+96>>2]|0)-t|0;$=o[(X|0?X:ne)+12>>2]|0;Y=(o[$+88>>2]|0)-z|0;W=(o[$+92>>2]|0)-v|0;$=(o[$+96>>2]|0)-t|0;q=(O(W,ee)|0)-(O($,ie)|0)|0;$=(O($,te)|0)-(O(Y,ee)|0)|0;W=(O(Y,ie)|0)-(O(W,te)|0)|0;z=qb(q|0,((q|0)<0)<<31>>31|0,z|0,((z|0)<0)<<31>>31|0)|0;Y=D()|0;v=qb($|0,(($|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0;y=D()|0;t=qb(W|0,((W|0)<0)<<31>>31|0,t|0,((t|0)<0)<<31>>31|0)|0;t=Uy(z|0,Y|0,t|0,D()|0)|0;y=Uy(t|0,D()|0,v|0,y|0)|0;v=D()|0;t=qb(W|0,((W|0)<0)<<31>>31|0,ie|0,((ie|0)<0)<<31>>31|0)|0;Y=D()|0;z=qb($|0,(($|0)<0)<<31>>31|0,ee|0,((ee|0)<0)<<31>>31|0)|0;z=vy(t|0,Y|0,z|0,D()|0)|0;Y=D()|0;t=qb(q|0,((q|0)<0)<<31>>31|0,ee|0,((ee|0)<0)<<31>>31|0)|0;K=D()|0;Q=qb(W|0,((W|0)<0)<<31>>31|0,te|0,((te|0)<0)<<31>>31|0)|0;Q=vy(t|0,K|0,Q|0,D()|0)|0;K=D()|0;t=qb($|0,(($|0)<0)<<31>>31|0,te|0,((te|0)<0)<<31>>31|0)|0;J=D()|0;Z=qb(q|0,((q|0)<0)<<31>>31|0,ie|0,((ie|0)<0)<<31>>31|0)|0;Z=vy(t|0,J|0,Z|0,D()|0)|0;J=D()|0;t=qb(z|0,Y|0,a|0,((a|0)<0)<<31>>31|0)|0;G=D()|0;s=qb(Q|0,K|0,c|0,((c|0)<0)<<31>>31|0)|0;G=Uy(s|0,D()|0,t|0,G|0)|0;t=D()|0;s=qb(Z|0,J|0,f|0,((f|0)<0)<<31>>31|0)|0;s=Uy(G|0,t|0,s|0,D()|0)|0;t=D()|0;if((X|0)!=0?(o[X+12>>2]|0)!=0:0){p=X;b=a;h=c;while(1){p=o[(o[p+8>>2]|0)+4>>2]|0;_=p+12|0;c=o[_>>2]|0;i=o[c+88>>2]|0;V=qb(i|0,((i|0)<0)<<31>>31|0,q|0,((q|0)<0)<<31>>31|0)|0;j=D()|0;a=o[c+92>>2]|0;G=qb(a|0,((a|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0;j=Uy(G|0,D()|0,V|0,j|0)|0;V=D()|0;c=o[c+96>>2]|0;G=qb(c|0,((c|0)<0)<<31>>31|0,W|0,((W|0)<0)<<31>>31|0)|0;G=Uy(j|0,V|0,G|0,D()|0)|0;V=D()|0;if((V|0)<(v|0)|(V|0)==(v|0)&G>>>0<y>>>0){i=b;c=h;a=f;break}if((o[p+20>>2]|0)==(o[e+100>>2]|0)){i=b;c=h;a=f;break}u=qb(z|0,Y|0,i|0,((i|0)<0)<<31>>31|0)|0;G=D()|0;l=qb(Q|0,K|0,a|0,((a|0)<0)<<31>>31|0)|0;G=Uy(l|0,D()|0,u|0,G|0)|0;u=D()|0;l=qb(Z|0,J|0,c|0,((c|0)<0)<<31>>31|0)|0;l=Uy(G|0,u|0,l|0,D()|0)|0;u=D()|0;if(!((u|0)>(t|0)|(u|0)==(t|0)&l>>>0>s>>>0)){i=b;c=h;a=f;break}o[n>>2]=p;G=o[_>>2]|0;i=o[G+88>>2]|0;c=o[G+92>>2]|0;a=o[G+96>>2]|0;if(!G){s=l;t=u;break}else{t=u;s=l;b=i;h=c;f=a}}p=o[r>>2]|0;G=i;f=a}else{p=ne;G=a}a=qb(z|0,Y|0,A|0,((A|0)<0)<<31>>31|0)|0;V=D()|0;i=qb(Q|0,K|0,d|0,((d|0)<0)<<31>>31|0)|0;V=Uy(i|0,D()|0,a|0,V|0)|0;a=D()|0;i=qb(Z|0,J|0,g|0,((g|0)<0)<<31>>31|0)|0;i=Uy(V|0,a|0,i|0,D()|0)|0;a=D()|0;e:do{if(p){if(!(o[p+12>>2]|0)){_=A;h=g}else{m=p;b=A;h=g;while(1){p=o[o[m+8>>2]>>2]|0;u=o[p+12>>2]|0;l=o[u+88>>2]|0;j=qb(l|0,((l|0)<0)<<31>>31|0,q|0,((q|0)<0)<<31>>31|0)|0;H=D()|0;_=o[u+92>>2]|0;V=qb(_|0,((_|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0;H=Uy(V|0,D()|0,j|0,H|0)|0;j=D()|0;u=o[u+96>>2]|0;V=qb(u|0,((u|0)<0)<<31>>31|0,W|0,((W|0)<0)<<31>>31|0)|0;V=Uy(H|0,j|0,V|0,D()|0)|0;j=D()|0;if((j|0)<(v|0)|(j|0)==(v|0)&V>>>0<y>>>0){p=m;_=b;break e}if((o[p+20>>2]|0)==(o[e+100>>2]|0)){p=m;_=b;break e}V=qb(z|0,Y|0,l|0,((l|0)<0)<<31>>31|0)|0;j=D()|0;l=qb(Q|0,K|0,_|0,((_|0)<0)<<31>>31|0)|0;j=Uy(l|0,D()|0,V|0,j|0)|0;V=D()|0;l=qb(Z|0,J|0,u|0,((u|0)<0)<<31>>31|0)|0;l=Uy(j|0,V|0,l|0,D()|0)|0;u=D()|0;if(!((u|0)>(a|0)|(u|0)==(a|0)&l>>>0>i>>>0)){p=m;_=b;break e}o[r>>2]=p;V=o[p+12>>2]|0;_=o[V+88>>2]|0;d=o[V+92>>2]|0;h=o[V+96>>2]|0;if(!V){i=l;a=u;break}else{m=p;a=u;i=l;b=_}}}}else{p=0;_=A;h=g}}while(0);l=vy(i|0,a|0,s|0,t|0)|0;t=D()|0;if((t|0)>0|(t|0)==0&l>>>0>0){j=vy(0,0,W|0,((W|0)<0)<<31>>31|0)|0;V=D()|0;b=l;s=t;i=G;a=c;u=f;N=_;B=d;k=h;while(1){F=o[n>>2]|0;H=s;e:while(1){U=(O(B-a|0,ie)|0)+(O(N-i|0,te)|0)+(O(k-u|0,ee)|0)|0;if(!F)break;if(!(o[F+12>>2]|0))break;x=o[(o[F>>2]|0)+8>>2]|0;if((o[x+20>>2]|0)<=(o[e+100>>2]|0))break;L=o[x+12>>2]|0;P=o[L+88>>2]|0;I=P-i|0;w=o[L+92>>2]|0;M=w-a|0;L=o[L+96>>2]|0;s=L-u|0;A=qb(z|0,Y|0,I|0,((I|0)<0)<<31>>31|0)|0;R=D()|0;m=qb(Q|0,K|0,M|0,((M|0)<0)<<31>>31|0)|0;R=Uy(m|0,D()|0,A|0,R|0)|0;A=D()|0;m=qb(Z|0,J|0,s|0,((s|0)<0)<<31>>31|0)|0;m=Uy(R|0,A|0,m|0,D()|0)|0;A=D()|0;s=(O(M,ie)|0)+(O(I,te)|0)+(O(s,ee)|0)|0;do{if((m|0)==0&(A|0)==0){if((s|0)>=0)break e}else{if((A|0)>=0)break e;if((s|0)>0){I=-1;v=s;y=((s|0)<0)<<31>>31}else{v=vy(0,0,s|0,((s|0)<0)<<31>>31|0)|0;y=D()|0;I=(s|0)!=0&1;v=s|0?v:0;y=s|0?y:0}S=vy(0,0,m|0,A|0)|0;T=D()|0;if((U|0)>0){m=-1;R=U;M=((U|0)<0)<<31>>31;s=1}else{R=vy(0,0,U|0,((U|0)<0)<<31>>31|0)|0;M=D()|0;m=(U|0)!=0&1;R=U|0?R:0;M=U|0?M:0;s=((U|0)!=0)<<31>>31}if((H|0)>0|(H|0)==0&b>>>0>0){A=b;g=H}else{E=(b|0)!=0|(H|0)!=0;A=vy(0,0,b|0,H|0)|0;g=D()|0;A=E?A:0;g=E?g:0;s=E?m:s}if((I|0)==(s|0)){if(!I)break;oe=qb(A|0,0,v|0,0)|0;s=D()|0;m=qb(g|0,0,v|0,0)|0;se=D()|0;C=qb(A|0,0,y|0,0)|0;E=D()|0;v=qb(g|0,0,y|0,0)|0;y=D()|0;C=Uy(m|0,0,C|0,0)|0;m=D()|0;y=Uy(se|0,0,v|0,y|0)|0;E=Uy(y|0,D()|0,E|0,0)|0;m=Uy(E|0,D()|0,m|0,0)|0;E=D()|0;y=Uy(0,C|0,oe|0,s|0)|0;v=D()|0;C=Uy(m|0,E|0,(v>>>0<C>>>0|(v|0)==(C|0)&y>>>0<0)&1|0,0)|0;E=D()|0;m=qb(R|0,0,S|0,0)|0;s=D()|0;oe=qb(M|0,0,S|0,0)|0;S=D()|0;A=qb(R|0,0,T|0,0)|0;g=D()|0;T=qb(M|0,0,T|0,0)|0;R=D()|0;A=Uy(oe|0,0,A|0,0)|0;M=D()|0;R=Uy(S|0,0,T|0,R|0)|0;g=Uy(R|0,D()|0,g|0,0)|0;M=Uy(g|0,D()|0,M|0,0)|0;g=D()|0;s=Uy(0,A|0,m|0,s|0)|0;m=D()|0;A=Uy(M|0,g|0,(m>>>0<A>>>0|(m|0)==(A|0)&s>>>0<0)&1|0,0)|0;g=D()|0;if(E>>>0<g>>>0|(E|0)==(g|0)&C>>>0<A>>>0)s=-1;else s=E>>>0>g>>>0|(E|0)==(g|0)&C>>>0>A>>>0?1:v>>>0<m>>>0|(v|0)==(m|0)&y>>>0<s>>>0?-1:(v>>>0>m>>>0|(v|0)==(m|0)&y>>>0>s>>>0)&1;s=O(s,I)|0}else s=I-s|0;if((s|0)<=-1)break e}}while(0);H=N-P|0;a=B-w|0;b=k-L|0;H=qb(z|0,Y|0,H|0,((H|0)<0)<<31>>31|0)|0;i=D()|0;a=qb(Q|0,K|0,a|0,((a|0)<0)<<31>>31|0)|0;i=Uy(a|0,D()|0,H|0,i|0)|0;H=D()|0;b=qb(Z|0,J|0,b|0,((b|0)<0)<<31>>31|0)|0;b=Uy(i|0,H|0,b|0,D()|0)|0;H=D()|0;i=(F|0)==(X|0)?0:x;o[n>>2]=i;F=i;i=P;a=w;u=L}s=o[r>>2]|0;if(!s){s=110;break}if(!(o[s+12>>2]|0)){s=110;break}P=o[o[s+8>>2]>>2]|0;if((o[P+20>>2]|0)<=(o[e+100>>2]|0)){s=110;break}A=o[P+12>>2]|0;v=o[A+88>>2]|0;g=v-N|0;y=o[A+92>>2]|0;m=y-B|0;A=o[A+96>>2]|0;s=A-k|0;se=qb(g|0,((g|0)<0)<<31>>31|0,q|0,((q|0)<0)<<31>>31|0)|0;k=D()|0;oe=qb(m|0,((m|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0;k=Uy(oe|0,D()|0,se|0,k|0)|0;se=D()|0;oe=qb(j|0,V|0,s|0,((s|0)<0)<<31>>31|0)|0;if(!((k|0)==(oe|0)&(se|0)==(D()|0))){s=110;break}E=qb(z|0,Y|0,g|0,((g|0)<0)<<31>>31|0)|0;x=D()|0;C=qb(Q|0,K|0,m|0,((m|0)<0)<<31>>31|0)|0;x=Uy(C|0,D()|0,E|0,x|0)|0;E=D()|0;C=qb(Z|0,J|0,s|0,((s|0)<0)<<31>>31|0)|0;C=Uy(x|0,E|0,C|0,D()|0)|0;E=D()|0;s=(O(m,ie)|0)+(O(g,te)|0)+(O(s,ee)|0)|0;x=v-i|0;oe=y-a|0;I=A-u|0;x=qb(z|0,Y|0,x|0,((x|0)<0)<<31>>31|0)|0;se=D()|0;oe=qb(Q|0,K|0,oe|0,((oe|0)<0)<<31>>31|0)|0;se=Uy(oe|0,D()|0,x|0,se|0)|0;x=D()|0;I=qb(Z|0,J|0,I|0,((I|0)<0)<<31>>31|0)|0;I=Uy(se|0,x|0,I|0,D()|0)|0;x=D()|0;if(!((x|0)>0|(x|0)==0&I>>>0>0)){s=110;break}if((C|0)==0&(E|0)==0){if((s|0)>=0){s=110;break}}else{if((E|0)>=0){s=110;break}if((s|0)>0){M=-1;y=s;g=((s|0)<0)<<31>>31}else{y=vy(0,0,s|0,((s|0)<0)<<31>>31|0)|0;g=D()|0;M=(s|0)!=0&1;y=s|0?y:0;g=s|0?g:0}E=vy(0,0,C|0,E|0)|0;S=D()|0;if((U|0)>0){A=-1;T=U;R=((U|0)<0)<<31>>31;s=1}else{T=vy(0,0,U|0,((U|0)<0)<<31>>31|0)|0;R=D()|0;A=(U|0)!=0&1;T=U|0?T:0;R=U|0?R:0;s=((U|0)!=0)<<31>>31}if((H|0)>0|(H|0)==0&b>>>0>0)m=H;else{se=(b|0)!=0|(H|0)!=0;b=vy(0,0,b|0,H|0)|0;m=D()|0;b=se?b:0;m=se?m:0;s=se?A:s}if((M|0)==(s|0)){if(!M){s=110;break}se=qb(b|0,0,y|0,0)|0;s=D()|0;A=qb(m|0,0,y|0,0)|0;U=D()|0;v=qb(b|0,0,g|0,0)|0;C=D()|0;y=qb(m|0,0,g|0,0)|0;g=D()|0;v=Uy(A|0,0,v|0,0)|0;b=D()|0;g=Uy(U|0,0,y|0,g|0)|0;C=Uy(g|0,D()|0,C|0,0)|0;b=Uy(C|0,D()|0,b|0,0)|0;C=D()|0;g=Uy(0,v|0,se|0,s|0)|0;y=D()|0;v=Uy(b|0,C|0,(y>>>0<v>>>0|(y|0)==(v|0)&g>>>0<0)&1|0,0)|0;C=D()|0;b=qb(T|0,0,E|0,0)|0;s=D()|0;se=qb(R|0,0,E|0,0)|0;U=D()|0;m=qb(T|0,0,S|0,0)|0;A=D()|0;H=qb(R|0,0,S|0,0)|0;oe=D()|0;m=Uy(se|0,0,m|0,0)|0;se=D()|0;oe=Uy(U|0,0,H|0,oe|0)|0;A=Uy(oe|0,D()|0,A|0,0)|0;se=Uy(A|0,D()|0,se|0,0)|0;A=D()|0;s=Uy(0,m|0,b|0,s|0)|0;b=D()|0;m=Uy(se|0,A|0,(b>>>0<m>>>0|(b|0)==(m|0)&s>>>0<0)&1|0,0)|0;A=D()|0;if(C>>>0<A>>>0|(C|0)==(A|0)&v>>>0<m>>>0)s=-1;else s=C>>>0>A>>>0|(C|0)==(A|0)&v>>>0>m>>>0?1:y>>>0<b>>>0|(y|0)==(b|0)&g>>>0<s>>>0?-1:(y>>>0>b>>>0|(y|0)==(b|0)&g>>>0>s>>>0)&1;s=O(s,M)|0}else s=M-s|0;if((s|0)<=0){s=110;break}}o[r>>2]=P;k=o[P+12>>2]|0;b=I;s=x;N=o[k+88>>2]|0;B=o[k+92>>2]|0;k=o[k+96>>2]|0}if((s|0)==110)return}if((t|0)>=0)return;P=vy(0,0,W|0,((W|0)<0)<<31>>31|0)|0;w=D()|0;a=p;i=G;s=f;x=_;e:while(1){E=a;I=t;M=l;S=i;T=s;t:while(1){R=(O(d-c|0,ie)|0)+(O(x-S|0,te)|0)+(O(h-T|0,ee)|0)|0;do{if((E|0?o[E+12>>2]|0:0)?(re=o[(o[E+4>>2]|0)+8>>2]|0,(o[re+20>>2]|0)>(o[e+100>>2]|0)):0){C=o[re+12>>2]|0;y=o[C+88>>2]|0;se=y-x|0;v=o[C+92>>2]|0;oe=v-d|0;C=o[C+96>>2]|0;s=C-h|0;i=qb(z|0,Y|0,se|0,((se|0)<0)<<31>>31|0)|0;X=D()|0;t=qb(Q|0,K|0,oe|0,((oe|0)<0)<<31>>31|0)|0;X=Uy(t|0,D()|0,i|0,X|0)|0;i=D()|0;t=qb(Z|0,J|0,s|0,((s|0)<0)<<31>>31|0)|0;t=Uy(X|0,i|0,t|0,D()|0)|0;i=D()|0;s=(O(oe,ie)|0)+(O(se,te)|0)+(O(s,ee)|0)|0;if((t|0)==0&(i|0)==0)if((s|0)>0)break t;else break;if((i|0)<0){if((s|0)>0){g=-1;_=s;l=((s|0)<0)<<31>>31}else{_=vy(0,0,s|0,((s|0)<0)<<31>>31|0)|0;l=D()|0;g=(s|0)!=0&1;_=s|0?_:0;l=s|0?l:0}p=vy(0,0,t|0,i|0)|0;b=D()|0;if((R|0)>0){t=-1;m=R;A=((R|0)<0)<<31>>31;s=1}else{m=vy(0,0,R|0,((R|0)<0)<<31>>31|0)|0;A=D()|0;t=(R|0)!=0&1;m=R|0?m:0;A=R|0?A:0;s=((R|0)!=0)<<31>>31}if((I|0)>0|(I|0)==0&M>>>0>0){i=M;a=I}else{se=(M|0)!=0|(I|0)!=0;i=vy(0,0,M|0,I|0)|0;a=D()|0;i=se?i:0;a=se?a:0;s=se?t:s}if((g|0)==(s|0)){if(!g)break t;se=qb(i|0,0,_|0,0)|0;s=D()|0;t=qb(a|0,0,_|0,0)|0;W=D()|0;u=qb(i|0,0,l|0,0)|0;f=D()|0;_=qb(a|0,0,l|0,0)|0;l=D()|0;u=Uy(t|0,0,u|0,0)|0;t=D()|0;l=Uy(W|0,0,_|0,l|0)|0;f=Uy(l|0,D()|0,f|0,0)|0;t=Uy(f|0,D()|0,t|0,0)|0;f=D()|0;l=Uy(0,u|0,se|0,s|0)|0;_=D()|0;u=Uy(t|0,f|0,(_>>>0<u>>>0|(_|0)==(u|0)&l>>>0<0)&1|0,0)|0;f=D()|0;t=qb(m|0,0,p|0,0)|0;s=D()|0;se=qb(A|0,0,p|0,0)|0;W=D()|0;i=qb(m|0,0,b|0,0)|0;a=D()|0;X=qb(A|0,0,b|0,0)|0;oe=D()|0;i=Uy(se|0,0,i|0,0)|0;se=D()|0;oe=Uy(W|0,0,X|0,oe|0)|0;a=Uy(oe|0,D()|0,a|0,0)|0;se=Uy(a|0,D()|0,se|0,0)|0;a=D()|0;s=Uy(0,i|0,t|0,s|0)|0;t=D()|0;i=Uy(se|0,a|0,(t>>>0<i>>>0|(t|0)==(i|0)&s>>>0<0)&1|0,0)|0;a=D()|0;if(f>>>0<a>>>0|(f|0)==(a|0)&u>>>0<i>>>0)s=-1;else s=f>>>0>a>>>0|(f|0)==(a|0)&u>>>0>i>>>0?1:_>>>0<t>>>0|(_|0)==(t|0)&l>>>0<s>>>0?-1:(_>>>0>t>>>0|(_|0)==(t|0)&l>>>0>s>>>0)&1;s=O(s,g)|0}else s=g-s|0;if((s|0)<1)break t}}}while(0);s=o[n>>2]|0;if(!s){s=110;break e}if(!(o[s+12>>2]|0)){s=110;break e}v=o[(o[s+8>>2]|0)+4>>2]|0;if((o[v+20>>2]|0)<=(o[e+100>>2]|0)){s=110;break e}i=o[v+12>>2]|0;_=o[i+88>>2]|0;a=_-S|0;l=o[i+92>>2]|0;t=l-c|0;i=o[i+96>>2]|0;s=i-T|0;se=qb(a|0,((a|0)<0)<<31>>31|0,q|0,((q|0)<0)<<31>>31|0)|0;X=D()|0;oe=qb(t|0,((t|0)<0)<<31>>31|0,$|0,(($|0)<0)<<31>>31|0)|0;X=Uy(oe|0,D()|0,se|0,X|0)|0;se=D()|0;oe=qb(P|0,w|0,s|0,((s|0)<0)<<31>>31|0)|0;if(!((X|0)==(oe|0)&(se|0)==(D()|0))){s=110;break e}u=qb(z|0,Y|0,a|0,((a|0)<0)<<31>>31|0)|0;y=D()|0;c=qb(Q|0,K|0,t|0,((t|0)<0)<<31>>31|0)|0;y=Uy(c|0,D()|0,u|0,y|0)|0;u=D()|0;c=qb(Z|0,J|0,s|0,((s|0)<0)<<31>>31|0)|0;c=Uy(y|0,u|0,c|0,D()|0)|0;u=D()|0;s=(O(t,ie)|0)+(O(a,te)|0)+(O(s,ee)|0)|0;y=x-_|0;oe=d-l|0;g=h-i|0;y=qb(z|0,Y|0,y|0,((y|0)<0)<<31>>31|0)|0;se=D()|0;oe=qb(Q|0,K|0,oe|0,((oe|0)<0)<<31>>31|0)|0;se=Uy(oe|0,D()|0,y|0,se|0)|0;y=D()|0;g=qb(Z|0,J|0,g|0,((g|0)<0)<<31>>31|0)|0;g=Uy(se|0,y|0,g|0,D()|0)|0;y=D()|0;if((y|0)>=0){s=110;break e}if((c|0)==0&(u|0)==0){if((s|0)<=0){s=110;break e}}else{if((u|0)>=0){s=110;break e}if((s|0)>0){A=-1;_=s;l=((s|0)<0)<<31>>31}else{_=vy(0,0,s|0,((s|0)<0)<<31>>31|0)|0;l=D()|0;A=(s|0)!=0&1;_=s|0?_:0;l=s|0?l:0}f=vy(0,0,c|0,u|0)|0;p=D()|0;if((R|0)>0){a=-1;b=R;m=((R|0)<0)<<31>>31;s=1}else{b=vy(0,0,R|0,((R|0)<0)<<31>>31|0)|0;m=D()|0;a=(R|0)!=0&1;b=R|0?b:0;m=R|0?m:0;s=((R|0)!=0)<<31>>31}if((I|0)>0|(I|0)==0&M>>>0>0){i=M;t=I}else{se=(M|0)!=0|(I|0)!=0;i=vy(0,0,M|0,I|0)|0;t=D()|0;i=se?i:0;t=se?t:0;s=se?a:s}if((A|0)==(s|0)){if(!A){s=110;break e}s=qb(i|0,0,_|0,0)|0;c=D()|0;a=qb(t|0,0,_|0,0)|0;W=D()|0;_=qb(i|0,0,l|0,0)|0;u=D()|0;se=qb(t|0,0,l|0,0)|0;l=D()|0;_=Uy(a|0,0,_|0,0)|0;t=D()|0;l=Uy(W|0,0,se|0,l|0)|0;u=Uy(l|0,D()|0,u|0,0)|0;t=Uy(u|0,D()|0,t|0,0)|0;u=D()|0;c=Uy(0,_|0,s|0,c|0)|0;l=D()|0;_=Uy(t|0,u|0,(l>>>0<_>>>0|(l|0)==(_|0)&c>>>0<0)&1|0,0)|0;u=D()|0;t=qb(b|0,0,f|0,0)|0;s=D()|0;se=qb(m|0,0,f|0,0)|0;W=D()|0;i=qb(b|0,0,p|0,0)|0;a=D()|0;X=qb(m|0,0,p|0,0)|0;oe=D()|0;i=Uy(se|0,0,i|0,0)|0;se=D()|0;oe=Uy(W|0,0,X|0,oe|0)|0;a=Uy(oe|0,D()|0,a|0,0)|0;se=Uy(a|0,D()|0,se|0,0)|0;a=D()|0;s=Uy(0,i|0,t|0,s|0)|0;t=D()|0;i=Uy(se|0,a|0,(t>>>0<i>>>0|(t|0)==(i|0)&s>>>0<0)&1|0,0)|0;a=D()|0;if(u>>>0<a>>>0|(u|0)==(a|0)&_>>>0<i>>>0)s=-1;else s=u>>>0>a>>>0|(u|0)==(a|0)&_>>>0>i>>>0?1:l>>>0<t>>>0|(l|0)==(t|0)&c>>>0<s>>>0?-1:(l>>>0>t>>>0|(l|0)==(t|0)&c>>>0>s>>>0)&1;s=O(s,A)|0}else s=A-s|0;if((s|0)>=0){s=110;break e}}o[n>>2]=v;T=o[v+12>>2]|0;E=o[r>>2]|0;I=y;M=g;S=o[T+88>>2]|0;c=o[T+92>>2]|0;T=o[T+96>>2]|0}t=y-S|0;i=v-c|0;l=C-T|0;t=qb(z|0,Y|0,t|0,((t|0)<0)<<31>>31|0)|0;a=D()|0;i=qb(Q|0,K|0,i|0,((i|0)<0)<<31>>31|0)|0;a=Uy(i|0,D()|0,t|0,a|0)|0;t=D()|0;l=qb(Z|0,J|0,l|0,((l|0)<0)<<31>>31|0)|0;l=Uy(a|0,t|0,l|0,D()|0)|0;t=D()|0;a=(E|0)==(ne|0)?0:re;o[r>>2]=a;i=S;s=T;x=y;d=v;h=C}if((s|0)==110)return}function Lo(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0.0,u=0,f=0,d=0.0,h=0,p=0.0,b=0,m=0.0,A=0.0,g=0,y=0.0,v=0,C=0,E=0,S=0.0,T=0.0,R=0.0,M=0,I=0,x=0,P=0,D=0,w=0,L=0,F=0;L=ae;ae=ae+176|0;if((i|0)<1){r=o[e+12>>2]|0;if(r|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;r=o[e+32>>2]|0;if(r|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;r=o[e+52>>2]|0;if(r|0){if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+52>>2]=0}n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;ae=L;return}o[L+32>>2]=0;o[L+36>>2]=0;o[L+40>>2]=0;o[L+44>>2]=256;o[L+48>>2]=0;o[L+52>>2]=0;o[L+56>>2]=0;o[L+60>>2]=256;o[L+64>>2]=0;o[L+68>>2]=0;o[L+72>>2]=0;o[L+76>>2]=256;n[L+96>>0]=1;o[L+92>>2]=0;o[L+84>>2]=0;o[L+88>>2]=0;u=0;f=-246811958;g=-246811958;C=-246811958;b=1900671690;v=1900671690;E=1900671690;h=t;while(1){r=o[h>>2]|0;s=o[h+4>>2]|0;a=o[h+8>>2]|0;l=(o[_>>2]=r,+c[_>>2]);b=l<(o[_>>2]=b,+c[_>>2])?r:b;d=(o[_>>2]=s,+c[_>>2]);v=d<(o[_>>2]=v,+c[_>>2])?s:v;p=(o[_>>2]=a,+c[_>>2]);E=p<(o[_>>2]=E,+c[_>>2])?a:E;f=(o[_>>2]=f,+c[_>>2])<l?r:f;g=(o[_>>2]=g,+c[_>>2])<d?s:g;C=(o[_>>2]=C,+c[_>>2])<p?a:C;u=u+1|0;if((u|0)==(i|0))break;else h=h+16|0}y=(o[_>>2]=f,+c[_>>2]);A=(o[_>>2]=b,+c[_>>2]);m=(o[_>>2]=g,+c[_>>2]);p=(o[_>>2]=v,+c[_>>2]);d=(o[_>>2]=C,+c[_>>2]);l=(o[_>>2]=E,+c[_>>2]);s=y-A<m-p?m-p<d-l?2:1:y-A<d-l?2:0;o[L+112>>2]=s;r=y-A<m-p?y-A<d-l?0:2:m-p<d-l?1:2;if((r|0)==(s|0))r=((s+1|0)>>>0)%3|0;o[L+104>>2]=r;g=(s^3)-r|0;o[L+108>>2]=g;S=((g+1|0)%3|0|0)==(s|0)?(y-A)*9.788566967472434e-05:-((y-A)*9.788566967472434e-05);T=((g+1|0)%3|0|0)==(s|0)?(m-p)*9.788566967472434e-05:-((m-p)*9.788566967472434e-05);R=((g+1|0)%3|0|0)==(s|0)?(d-l)*9.788566967472434e-05:-((d-l)*9.788566967472434e-05);c[L>>2]=S;c[L+4>>2]=T;c[L+8>>2]=R;c[L+12>>2]=0.0;S=S!=0.0?1.0/S:S;T=T!=0.0?1.0/T:T;R=R!=0.0?1.0/R:R;c[L+16>>2]=(y+A)*.5;c[L+20>>2]=(m+p)*.5;c[L+24>>2]=(d+l)*.5;c[L+28>>2]=0.0;g=L+144+16|0;n[g>>0]=1;b=L+144+12|0;o[b>>2]=0;o[L+144+4>>2]=0;o[L+144+8>>2]=0;o[6747]=(o[6747]|0)+1;r=Do((i<<4|3)+16|0)|0;if(!r)u=0;else{o[(r+4+15&-16)+-4>>2]=r;u=r+4+15&-16}a=o[L+144+4>>2]|0;s=o[b>>2]|0;if((a|0)<=0){if(s|0)w=25}else{r=0;do{w=u+(r<<4)|0;P=s+(r<<4)|0;o[w>>2]=o[P>>2];o[w+4>>2]=o[P+4>>2];o[w+8>>2]=o[P+8>>2];o[w+12>>2]=o[P+12>>2];r=r+1|0}while((r|0)!=(a|0));w=25}if((w|0)==25){if(n[g>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[b>>2]=0}n[g>>0]=1;o[b>>2]=u;o[L+144+8>>2]=i;o[u>>2]=o[L+128>>2];o[u+4>>2]=o[L+128+4>>2];o[u+8>>2]=o[L+128+8>>2];o[u+12>>2]=o[L+128+12>>2];if((i|0)!=1){r=1;do{P=(o[b>>2]|0)+(r<<4)|0;o[P>>2]=o[L+128>>2];o[P+4>>2]=o[L+128+4>>2];o[P+8>>2]=o[L+128+8>>2];o[P+12>>2]=o[L+128+12>>2];r=r+1|0}while((r|0)!=(i|0))}o[L+144+4>>2]=i;a=L+128+(o[L+108>>2]<<2)|0;s=o[b>>2]|0;u=L+128+(o[L+112>>2]<<2)|0;f=L+128+(o[L+104>>2]<<2)|0;l=+c[L+16>>2];d=+c[L+20>>2];p=+c[L+24>>2];h=0;r=t;while(1){A=T*(+c[r+4>>2]-d);y=R*(+c[r+8>>2]-p);c[L+128>>2]=S*(+c[r>>2]-l);c[L+128+4>>2]=A;c[L+128+8>>2]=y;c[L+128+12>>2]=0.0;o[s+(h<<4)>>2]=~~+c[a>>2];o[s+(h<<4)+4>>2]=~~+c[u>>2];o[s+(h<<4)+8>>2]=~~+c[f>>2];o[s+(h<<4)+12>>2]=h;h=h+1|0;if((h|0)==(i|0))break;else r=r+16|0}if((i|0)>1)_i(L+144|0,0,i+-1|0);o[L+36>>2]=o[L+32>>2];o[L+40>>2]=0;o[L+44>>2]=i;r=o[L+84>>2]|0;if((r|0)<(i|0)){if((o[L+88>>2]|0)<(i|0)){if(!i){a=r;u=0}else{o[6747]=(o[6747]|0)+1;s=Do((i<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[L+84>>2]|0;u=s}if((a|0)>0){s=0;do{o[u+(s<<2)>>2]=o[(o[L+92>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(a|0))}s=o[L+92>>2]|0;if(s|0){if(n[L+96>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[L+92>>2]=0}n[L+96>>0]=1;o[L+92>>2]=u;o[L+88>>2]=i}do{o[(o[L+92>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(i|0))}o[L+84>>2]=i;f=0;do{r=o[L+40>>2]|0;if(!r){r=o[L+36>>2]|0;if(!r){o[6747]=(o[6747]|0)+1;r=Do(31)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[L+44>>2]|0;o[s+4>>2]=r;a=s+8|0;o[a>>2]=0;o[6747]=(o[6747]|0)+1;r=Do((r*112|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[s>>2]=r;o[a>>2]=o[L+32>>2];o[L+32>>2]=s}else{o[L+36>>2]=o[r+8>>2];s=r}r=o[s>>2]|0;s=o[s+4>>2]|0;if((s|0)>0?(o[r>>2]=(s|0)!=1?r+112|0:0,(s|0)!=1):0){a=1;u=r+112|0;do{a=a+1|0;P=(a|0)<(s|0);x=u;u=u+112|0;o[x>>2]=P?u:0}while(P)}}o[L+40>>2]=o[r>>2];P=r+104|0;o[r>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;o[r+12>>2]=0;o[r+16>>2]=0;o[P>>2]=-1;o[r+8>>2]=0;I=(o[b>>2]|0)+(f<<4)|0;x=r+88|0;o[x>>2]=o[I>>2];o[x+4>>2]=o[I+4>>2];o[x+8>>2]=o[I+8>>2];o[x+12>>2]=o[I+12>>2];o[P>>2]=-1;o[(o[L+92>>2]|0)+(f<<2)>>2]=r;f=f+1|0}while((f|0)<(i|0));r=o[b>>2]|0;if(r|0){if(n[g>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[b>>2]=0}n[g>>0]=1;o[b>>2]=0;o[L+144+4>>2]=0;o[L+144+8>>2]=0;o[L+52>>2]=o[L+48>>2];o[L+56>>2]=0;o[L+60>>2]=i*6;o[L+116>>2]=0;o[L+120>>2]=0;o[L+100>>2]=-3;o[L+128>>2]=0;o[L+128+4>>2]=0;o[L+128+8>>2]=0;o[L+128+12>>2]=0;mD(L,0,i,L+128|0);o[L+124>>2]=o[L+128>>2];r=o[b>>2]|0;if(r|0){if(n[g>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[b>>2]=0}r=o[e+4>>2]|0;if((r|0)<0){if((o[e+8>>2]|0)<0){s=o[e+12>>2]|0;if(s|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=0;o[e+8>>2]=0}do{P=(o[e+12>>2]|0)+(r<<4)|0;o[P>>2]=o[L+144>>2];o[P+4>>2]=o[L+144+4>>2];o[P+8>>2]=o[L+144+8>>2];o[P+12>>2]=o[L+144+12>>2];r=r+1|0}while((r|0)!=0)}o[e+4>>2]=0;o[L+144>>2]=0;o[L+144+4>>2]=0;o[L+144+8>>2]=0;r=o[e+24>>2]|0;if((r|0)<0){if((o[e+28>>2]|0)<0){s=o[e+32>>2]|0;if(s|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+28>>2]=0}do{P=(o[e+32>>2]|0)+(r*12|0)|0;o[P>>2]=o[L+144>>2];o[P+4>>2]=o[L+144+4>>2];o[P+8>>2]=o[L+144+8>>2];r=r+1|0}while((r|0)!=0)}o[e+24>>2]=0;s=o[e+44>>2]|0;if((s|0)<0){r=o[e+52>>2]|0;if((o[e+48>>2]|0)<0){if(r|0?n[e+56>>0]|0:0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}n[e+56>>0]=1;o[e+52>>2]=0;o[e+48>>2]=0;r=0}_l(r+(s<<2)|0,0,O(s,-4)|0)|0}o[e+44>>2]=0;s=o[L+124>>2]|0;if((o[s+104>>2]|0)<0){o[s+104>>2]=0;o[6747]=(o[6747]|0)+1;r=Do(23)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}o[r>>2]=s;h=r;b=r;P=0;g=1;v=r;a=1;while(1){if((o[s+100>>2]|0)>-1){c[L+144+(o[L+108>>2]<<2)>>2]=+(o[s+88>>2]|0);c[L+144+(o[L+112>>2]<<2)>>2]=+(o[s+92>>2]|0);l=+(o[s+96>>2]|0)}else{l=+bl(s+24|0);x=s+72|0;l=l/+bl(x);c[L+144+(o[L+108>>2]<<2)>>2]=l;l=+bl(s+40|0);l=l/+bl(x);c[L+144+(o[L+112>>2]<<2)>>2]=l;l=+bl(s+56|0);l=l/+bl(x)}c[L+144+(o[L+104>>2]<<2)>>2]=l;l=+c[L+144>>2]*+c[L>>2]+ +c[L+16>>2];p=+c[L+144+4>>2]*+c[L+4>>2]+ +c[L+20>>2];d=+c[L+144+8>>2]*+c[L+8>>2]+ +c[L+24>>2];r=o[e+4>>2]|0;if((r|0)==(o[e+8>>2]|0)?(D=(r|0)==0?1:r<<1,(r|0)<(D|0)):0){if(!D)u=0;else{o[6747]=(o[6747]|0)+1;r=Do((D<<4|3)+16|0)|0;if(!r)u=0;else{o[(r+4+15&-16)+-4>>2]=r;u=r+4+15&-16}r=o[e+4>>2]|0}if((r|0)>0){f=0;do{x=u+(f<<4)|0;I=(o[e+12>>2]|0)+(f<<4)|0;o[x>>2]=o[I>>2];o[x+4>>2]=o[I+4>>2];o[x+8>>2]=o[I+8>>2];o[x+12>>2]=o[I+12>>2];f=f+1|0}while((f|0)!=(r|0))}r=o[e+12>>2]|0;if(r|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=u;o[e+8>>2]=D;r=o[e+4>>2]|0}x=o[e+12>>2]|0;c[x+(r<<4)>>2]=l;c[x+(r<<4)+4>>2]=p;c[x+(r<<4)+8>>2]=d;c[x+(r<<4)+12>>2]=0.0;o[e+4>>2]=(o[e+4>>2]|0)+1;x=o[s+8>>2]|0;if(!x){E=b;u=h;f=g;C=v}else{u=h;C=b;I=x;s=-1;f=g;i=v;M=-1;while(1){t=I+20|0;r=o[t>>2]|0;if((r|0)<0){E=o[e+24>>2]|0;o[L+144>>2]=0;o[L+144+4>>2]=0;o[L+144+8>>2]=0;do{if((E|0)==(o[e+28>>2]|0)){g=(E|0)==0?1:E<<1;if((E|0)>=(g|0)){r=E;break}if(!g){h=E;b=0}else{o[6747]=(o[6747]|0)+1;r=Do((g*12|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}h=o[e+24>>2]|0;b=r}if((h|0)>0){r=0;do{v=b+(r*12|0)|0;F=(o[e+32>>2]|0)+(r*12|0)|0;o[v>>2]=o[F>>2];o[v+4>>2]=o[F+4>>2];o[v+8>>2]=o[F+8>>2];r=r+1|0}while((r|0)!=(h|0))}r=o[e+32>>2]|0;if(r|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=b;o[e+28>>2]=g;r=o[e+24>>2]|0}else r=E}while(0);r=(o[e+32>>2]|0)+(r*12|0)|0;o[r>>2]=o[L+144>>2];o[r+4>>2]=o[L+144+4>>2];o[r+8>>2]=o[L+144+8>>2];r=(o[e+24>>2]|0)+1|0;o[e+24>>2]=r;o[L+144>>2]=0;o[L+144+4>>2]=0;o[L+144+8>>2]=0;do{if((r|0)==(o[e+28>>2]|0)){g=(r|0)==0?1:r<<1;if((r|0)>=(g|0))break;if(!g)h=0;else{o[6747]=(o[6747]|0)+1;r=Do((g*12|3)+16|0)|0;if(!r)h=0;else{o[(r+4+15&-16)+-4>>2]=r;h=r+4+15&-16}r=o[e+24>>2]|0}if((r|0)>0){b=0;do{F=h+(b*12|0)|0;v=(o[e+32>>2]|0)+(b*12|0)|0;o[F>>2]=o[v>>2];o[F+4>>2]=o[v+4>>2];o[F+8>>2]=o[v+8>>2];b=b+1|0}while((b|0)!=(r|0))}r=o[e+32>>2]|0;if(r|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=h;o[e+28>>2]=g;r=o[e+24>>2]|0}}while(0);v=(o[e+32>>2]|0)+(r*12|0)|0;o[v>>2]=o[L+144>>2];o[v+4>>2]=o[L+144+4>>2];o[v+8>>2]=o[L+144+8>>2];o[e+24>>2]=(o[e+24>>2]|0)+1;v=o[e+32>>2]|0;o[t>>2]=E;o[(o[I+8>>2]|0)+20>>2]=E+1;o[v+(E*12|0)+4>>2]=1;o[v+((E+1|0)*12|0)+4>>2]=-1;g=o[I+12>>2]|0;r=o[g+104>>2]|0;if((r|0)<0){o[g+104>>2]=a;do{if((a|0)==(f|0)){b=(f|0)==0?1:f<<1;if((f|0)>=(b|0)){r=C;h=i;break}do{if(!b)h=0;else{o[6747]=(o[6747]|0)+1;r=Do((b<<2|3)+16|0)|0;if(!r){h=0;break}o[(r+4+15&-16)+-4>>2]=r;h=r+4+15&-16}}while(0);if((f|0)>0){r=0;do{o[h+(r<<2)>>2]=o[i+(r<<2)>>2];r=r+1|0}while((r|0)!=(f|0));if(!u){r=h;u=h;f=b;break}}else if((i|0)==0|(u|0)==0){r=h;u=h;f=b;break}o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);r=h;u=h;f=b}else{r=C;h=i}}while(0);o[h+(a<<2)>>2]=g;b=r;r=a;a=a+1|0}else{b=C;h=i}o[v+(E*12|0)+8>>2]=r;o[v+((E+1|0)*12|0)+8>>2]=P;r=o[t>>2]|0}else{b=C;h=i}if((M|0)>-1)o[(o[e+32>>2]|0)+(r*12|0)>>2]=M-r;else s=r;I=o[I>>2]|0;if((I|0)==(x|0))break;else{C=b;i=h;M=r}}o[(o[e+32>>2]|0)+(s*12|0)>>2]=r-s;E=b;C=h}r=P+1|0;if((r|0)>=(a|0))break;s=o[C+(r<<2)>>2]|0;h=u;b=E;P=r;g=f;v=C}v=0;while(1){b=o[(o[C+(v<<2)>>2]|0)+8>>2]|0;if(b|0){g=b;do{h=g+20|0;r=o[h>>2]|0;if((r|0)>-1){s=o[e+44>>2]|0;do{if((s|0)==(o[e+48>>2]|0)){f=(s|0)==0?1:s<<1;if((s|0)>=(f|0))break;if(!f){r=s;s=0}else{o[6747]=(o[6747]|0)+1;r=Do((f<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+44>>2]|0}u=o[e+52>>2]|0;if((r|0)<=0){if(u)w=186}else{a=0;do{o[s+(a<<2)>>2]=o[u+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0));w=186}if((w|0)==186){w=0;if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[e+52>>2]=0;r=o[e+44>>2]|0}n[e+56>>0]=1;o[e+52>>2]=s;o[e+48>>2]=f;s=r;r=o[h>>2]|0}}while(0);o[(o[e+52>>2]|0)+(s<<2)>>2]=r;o[e+44>>2]=(o[e+44>>2]|0)+1;r=g;do{o[r+20>>2]=-1;r=o[(o[r+8>>2]|0)+4>>2]|0}while((r|0)!=(g|0))}g=o[g>>2]|0}while((g|0)!=(b|0))}if((v|0)==(P|0))break;else v=v+1|0}if(!((C|0)==0|(E|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[E+-4>>2]|0)}}ta(L);ae=L;return}function Fo(e){e=e|0;var t=0,i=0.0,r=0.0,s=0,a=0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0,w=0,L=0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0;L=ae;ae=ae+64|0;if(!(n[e+356>>0]|0)){e=n[e+312>>0]|0;e=e<<24>>24!=0;ae=L;return e|0}o[e+336>>2]=0;o[e+336+4>>2]=0;o[e+336+8>>2]=0;o[e+336+12>>2]=0;n[e+336+16>>0]=0;_=n[e+332>>0]|0;n[e+332>>0]=_&-16;n[e+356>>0]=0;switch(o[e>>2]|0){case 0:{n[e+312>>0]=0;e=0;e=e<<24>>24!=0;ae=L;return e|0}case 1:{o[e+244>>2]=o[e+84>>2];o[e+244+4>>2]=o[e+84+4>>2];o[e+244+8>>2]=o[e+84+8>>2];o[e+244+12>>2]=o[e+84+12>>2];o[e+260>>2]=o[e+164>>2];o[e+260+4>>2]=o[e+164+4>>2];o[e+260+8>>2]=o[e+164+8>>2];o[e+260+12>>2]=o[e+164+12>>2];x=+c[e+248>>2]-+c[e+264>>2];P=+c[e+252>>2]-+c[e+268>>2];c[e+276>>2]=+c[e+244>>2]-+c[e+260>>2];c[e+280>>2]=x;c[e+284>>2]=P;c[e+288>>2]=0.0;n[e+352>>0]=0;n[e+332>>0]=_&-16;c[e+336>>2]=1.0;c[e+340>>2]=0.0;c[e+344>>2]=0.0;c[e+348>>2]=0.0;n[e+312>>0]=1;e=1;e=e<<24>>24!=0;ae=L;return e|0}case 2:{i=+c[e+4>>2];r=+c[e+8>>2];l=+c[e+12>>2];u=+c[e+20>>2]-i;d=+c[e+24>>2]-r;f=+c[e+28>>2]-l;if((0.0-i)*u+(0.0-r)*d+(0.0-l)*f>0.0){if((0.0-i)*u+(0.0-r)*d+(0.0-l)*f<u*u+d*d+f*f){s=3;r=((0.0-i)*u+(0.0-r)*d+(0.0-l)*f)/(u*u+d*d+f*f)}else{s=2;r=1.0}}else{s=1;r=0.0}n[e+332>>0]=_&-16|s;i=1.0-r;c[e+336>>2]=i;c[e+340>>2]=r;c[e+344>>2]=0.0;c[e+348>>2]=0.0;R=+c[e+84>>2];O=+c[e+88>>2];x=+c[e+92>>2];R=R+r*(+c[e+100>>2]-R);O=O+r*(+c[e+104>>2]-O);x=x+r*(+c[e+108>>2]-x);c[e+244>>2]=R;c[e+248>>2]=O;c[e+252>>2]=x;c[e+256>>2]=0.0;M=+c[e+164>>2];I=+c[e+168>>2];P=+c[e+172>>2];M=M+r*(+c[e+180>>2]-M);I=I+r*(+c[e+184>>2]-I);P=P+r*(+c[e+188>>2]-P);c[e+260>>2]=M;c[e+264>>2]=I;c[e+268>>2]=P;c[e+272>>2]=0.0;c[e+276>>2]=R-M;c[e+280>>2]=O-I;c[e+284>>2]=x-P;c[e+288>>2]=0.0;if(!(s&2)){o[e>>2]=1;t=0}else t=1;if(!(s&1)){b=e+4+(t<<4)|0;D=e+84+(t<<4)|0;w=e+164+(t<<4)|0;o[e>>2]=t;o[e+4>>2]=o[b>>2];o[e+4+4>>2]=o[b+4>>2];o[e+4+8>>2]=o[b+8>>2];o[e+4+12>>2]=o[b+12>>2];o[e+84>>2]=o[D>>2];o[e+84+4>>2]=o[D+4>>2];o[e+84+8>>2]=o[D+8>>2];o[e+84+12>>2]=o[D+12>>2];o[e+164>>2]=o[w>>2];o[e+164+4>>2]=o[w+4>>2];o[e+164+8>>2]=o[w+8>>2];o[e+164+12>>2]=o[w+12>>2]}w=r>=0.0&i>=0.0&1;n[e+312>>0]=w;e=w;e=e<<24>>24!=0;ae=L;return e|0}case 3:{o[L+16>>2]=0;o[L+16+4>>2]=0;o[L+16+8>>2]=0;o[L+16+12>>2]=0;Mo(L+16|0,e+4|0,e+20|0,e+36|0,e+316|0);P=+c[e+336>>2];i=+c[e+340>>2];r=+c[e+344>>2];R=+c[e+84>>2]*P+ +c[e+100>>2]*i+ +c[e+116>>2]*r;O=P*+c[e+88>>2]+i*+c[e+104>>2]+r*+c[e+120>>2];x=P*+c[e+92>>2]+i*+c[e+108>>2]+r*+c[e+124>>2];c[e+244>>2]=R;c[e+248>>2]=O;c[e+252>>2]=x;c[e+256>>2]=0.0;M=P*+c[e+164>>2]+i*+c[e+180>>2]+r*+c[e+196>>2];I=P*+c[e+168>>2]+i*+c[e+184>>2]+r*+c[e+200>>2];P=P*+c[e+172>>2]+i*+c[e+188>>2]+r*+c[e+204>>2];c[e+260>>2]=M;c[e+264>>2]=I;c[e+268>>2]=P;c[e+272>>2]=0.0;c[e+276>>2]=R-M;c[e+280>>2]=O-I;c[e+284>>2]=x-P;c[e+288>>2]=0.0;_=o[e>>2]|0;do{if((_|0)>3){t=n[e+332>>0]|0;if(!(t&8)){s=e+164+(_+-1<<4)|0;a=e+84+(_+-1<<4)|0;w=e+4+(_+-1<<4)|0;o[e>>2]=_+-1;o[e+52>>2]=o[w>>2];o[e+52+4>>2]=o[w+4>>2];o[e+52+8>>2]=o[w+8>>2];o[e+52+12>>2]=o[w+12>>2];o[e+132>>2]=o[a>>2];o[e+132+4>>2]=o[a+4>>2];o[e+132+8>>2]=o[a+8>>2];o[e+132+12>>2]=o[a+12>>2];o[e+212>>2]=o[s>>2];o[e+212+4>>2]=o[s+4>>2];o[e+212+8>>2]=o[s+8>>2];o[e+212+12>>2]=o[s+12>>2];s=e+332|0;_=_+-1|0;a=t;w=19}else{s=e+332|0;a=t;w=19}}else{if((_|0)==3){s=e+332|0;_=3;a=n[e+332>>0]|0;w=19;break}if((_|0)<=1){if((_|0)==1){t=1;w=26}}else{t=2;w=22}}}while(0);if((w|0)==19){t=_+-1|0;if(!(a&4)){o[e>>2]=t;o[e+36>>2]=o[e+4+(t<<4)>>2];o[e+36+4>>2]=o[e+4+(t<<4)+4>>2];o[e+36+8>>2]=o[e+4+(t<<4)+8>>2];o[e+36+12>>2]=o[e+4+(t<<4)+12>>2];o[e+116>>2]=o[e+84+(t<<4)>>2];o[e+116+4>>2]=o[e+84+(t<<4)+4>>2];o[e+116+8>>2]=o[e+84+(t<<4)+8>>2];o[e+116+12>>2]=o[e+84+(t<<4)+12>>2];o[e+196>>2]=o[e+164+(t<<4)>>2];o[e+196+4>>2]=o[e+164+(t<<4)+4>>2];o[e+196+8>>2]=o[e+164+(t<<4)+8>>2];o[e+196+12>>2]=o[e+164+(t<<4)+12>>2];w=23}else{t=_;w=22}}if((w|0)==22){s=e+332|0;w=23}if((w|0)==23){a=t+-1|0;if(!(n[s>>0]&2)){o[e>>2]=a;o[e+20>>2]=o[e+4+(a<<4)>>2];o[e+20+4>>2]=o[e+4+(a<<4)+4>>2];o[e+20+8>>2]=o[e+4+(a<<4)+8>>2];o[e+20+12>>2]=o[e+4+(a<<4)+12>>2];o[e+100>>2]=o[e+84+(a<<4)>>2];o[e+100+4>>2]=o[e+84+(a<<4)+4>>2];o[e+100+8>>2]=o[e+84+(a<<4)+8>>2];o[e+100+12>>2]=o[e+84+(a<<4)+12>>2];o[e+180>>2]=o[e+164+(a<<4)>>2];o[e+180+4>>2]=o[e+164+(a<<4)+4>>2];o[e+180+8>>2]=o[e+164+(a<<4)+8>>2];o[e+180+12>>2]=o[e+164+(a<<4)+12>>2];h=s;w=27}else w=26}if((w|0)==26){h=e+332|0;a=t;w=27}if((w|0)==27?(p=a+-1|0,(n[h>>0]&1)==0):0){o[e>>2]=p;o[e+4>>2]=o[e+4+(p<<4)>>2];o[e+4+4>>2]=o[e+4+(p<<4)+4>>2];o[e+4+8>>2]=o[e+4+(p<<4)+8>>2];o[e+4+12>>2]=o[e+4+(p<<4)+12>>2];o[e+84>>2]=o[e+84+(p<<4)>>2];o[e+84+4>>2]=o[e+84+(p<<4)+4>>2];o[e+84+8>>2]=o[e+84+(p<<4)+8>>2];o[e+84+12>>2]=o[e+84+(p<<4)+12>>2];o[e+164>>2]=o[e+164+(p<<4)>>2];o[e+164+4>>2]=o[e+164+(p<<4)+4>>2];o[e+164+8>>2]=o[e+164+(p<<4)+8>>2];o[e+164+12>>2]=o[e+164+(p<<4)+12>>2]}if((i>=0.0?!(+c[e+336>>2]>=0.0):1)|!(r>=0.0))t=0;else t=+c[e+348>>2]>=0.0&1;n[e+312>>0]=t;e=t;e=e<<24>>24!=0;ae=L;return e|0}case 4:{o[L>>2]=0;o[L+4>>2]=0;o[L+8>>2]=0;o[L+12>>2]=0;b=L+16+16|0;n[b>>0]=0;o[e+316>>2]=0;o[e+316+4>>2]=0;o[e+316+8>>2]=0;o[e+316+12>>2]=0;n[e+332>>0]=_|15;N=+c[e+20>>2];X=+c[e+4>>2];V=+c[e+24>>2];F=+c[e+8>>2];k=+c[e+28>>2];z=+c[e+12>>2];j=+c[e+36>>2];G=+c[e+40>>2];U=+c[e+44>>2];B=+c[e+52>>2];W=+c[e+56>>2];H=+c[e+60>>2];Y=((V-F)*(U-z)-(k-z)*(G-F))*(B-X)+((k-z)*(j-X)-(N-X)*(U-z))*(W-F)+((N-X)*(G-F)-(V-F)*(j-X))*(H-z);a=Y*Y<9.99999905104687e-09?-1:((0.0-X)*((V-F)*(U-z)-(k-z)*(G-F))+(0.0-F)*((k-z)*(j-X)-(N-X)*(U-z))+((N-X)*(G-F)-(V-F)*(j-X))*(0.0-z))*Y<0.0&1;Y=(k-z)*((j-X)*(W-F)-(G-F)*(B-X))+((N-X)*((G-F)*(H-z)-(U-z)*(W-F))+(V-F)*((U-z)*(B-X)-(j-X)*(H-z)));_=Y*Y<9.99999905104687e-09?-1:((0.0-z)*((j-X)*(W-F)-(G-F)*(B-X))+((0.0-X)*((G-F)*(H-z)-(U-z)*(W-F))+(0.0-F)*((U-z)*(B-X)-(j-X)*(H-z))))*Y<0.0&1;Y=(U-z)*((V-F)*(B-X)-(N-X)*(W-F))+((j-X)*((k-z)*(W-F)-(V-F)*(H-z))+(G-F)*((N-X)*(H-z)-(k-z)*(B-X)));h=Y*Y<9.99999905104687e-09?-1:((0.0-z)*((V-F)*(B-X)-(N-X)*(W-F))+((0.0-X)*((k-z)*(W-F)-(V-F)*(H-z))+(0.0-F)*((N-X)*(H-z)-(k-z)*(B-X))))*Y<0.0&1;F=(z-k)*((G-V)*(B-N)-(j-N)*(W-V))+((X-N)*((U-k)*(W-V)-(G-V)*(H-k))+(F-V)*((j-N)*(H-k)-(U-k)*(B-N)));p=F*F<9.99999905104687e-09?-1:((0.0-k)*((G-V)*(B-N)-(j-N)*(W-V))+((0.0-N)*((U-k)*(W-V)-(G-V)*(H-k))+(0.0-V)*((j-N)*(H-k)-(U-k)*(B-N))))*F<0.0&1;do{if((_|a|h|p|0)<0){n[e+352>>0]=1;t=e+312|0;w=68}else{if(!(_|a|h|p)){if(n[e+352>>0]|0){t=e+312|0;w=68;break}n[e+312>>0]=1;o[e+276>>2]=0;o[e+276+4>>2]=0;o[e+276+8>>2]=0;o[e+276+12>>2]=0;t=1;break}if((a|0)!=0?(Mo(L,e+4|0,e+20|0,e+36|0,L+16|0),i=+c[L+16>>2],r=+c[L+16+4>>2],l=+c[L+16+8>>2],u=i-+c[L>>2],d=r-+c[L+4>>2],f=l-+c[L+8>>2],u*u+d*d+f*f<3402823466385288598117041.0e14):0){Q=o[L+16+12>>2]|0;c[e+316>>2]=i;c[e+320>>2]=r;c[e+324>>2]=l;o[e+328>>2]=Q;Q=n[b>>0]|0;n[e+332>>0]=Q&1|n[e+332>>0]&-16|Q&2|Q&4;Q=o[L+16+24>>2]|0;a=o[L+16+28>>2]|0;o[e+336>>2]=o[L+16+20>>2];o[e+340>>2]=Q;o[e+344>>2]=a;c[e+348>>2]=0.0;i=u*u+d*d+f*f}else i=3402823466385288598117041.0e14;if((_|0)!=0?(Mo(L,e+4|0,e+36|0,e+52|0,L+16|0),m=+c[L+16>>2],A=+c[L+16+4>>2],g=+c[L+16+8>>2],y=m-+c[L>>2],C=A-+c[L+4>>2],v=g-+c[L+8>>2],y*y+C*C+v*v<i):0){_=o[L+16+12>>2]|0;c[e+316>>2]=m;c[e+320>>2]=A;c[e+324>>2]=g;o[e+328>>2]=_;_=n[b>>0]|0;n[e+332>>0]=_&1|n[e+332>>0]&-16|_<<1&4|_<<1&8;_=o[L+16+24>>2]|0;Q=o[L+16+28>>2]|0;o[e+336>>2]=o[L+16+20>>2];c[e+340>>2]=0.0;o[e+344>>2]=_;o[e+348>>2]=Q;i=y*y+C*C+v*v}if((h|0)!=0?(Mo(L,e+4|0,e+52|0,e+20|0,L+16|0),E=+c[L+16>>2],S=+c[L+16+4>>2],T=+c[L+16+8>>2],R=E-+c[L>>2],O=S-+c[L+4>>2],M=T-+c[L+8>>2],R*R+O*O+M*M<i):0){h=o[L+16+12>>2]|0;c[e+316>>2]=E;c[e+320>>2]=S;c[e+324>>2]=T;o[e+328>>2]=h;h=n[b>>0]|0;n[e+332>>0]=h&1|n[e+332>>0]&-16|(1?(h&255)>>>1:h&255)&2|h<<2&8;h=o[L+16+28>>2]|0;Q=o[L+16+24>>2]|0;o[e+336>>2]=o[L+16+20>>2];o[e+340>>2]=h;c[e+344>>2]=0.0;o[e+348>>2]=Q;i=R*R+O*O+M*M}if(p|0?(Mo(L,e+20|0,e+52|0,e+36|0,L+16|0),I=+c[L+16>>2],x=+c[L+16+4>>2],P=+c[L+16+8>>2],X=I-+c[L>>2],z=x-+c[L+4>>2],Y=P-+c[L+8>>2],X*X+z*z+Y*Y<i):0){p=o[L+16+12>>2]|0;c[e+316>>2]=I;c[e+320>>2]=x;c[e+324>>2]=P;o[e+328>>2]=p;p=n[b>>0]|0;n[e+332>>0]=p&4|n[e+332>>0]&-16|p<<1&2|p<<2&8;p=o[L+16+20>>2]|0;b=o[L+16+28>>2]|0;Q=o[L+16+24>>2]|0;c[e+336>>2]=0.0;o[e+340>>2]=p;o[e+344>>2]=b;o[e+348>>2]=Q}H=+c[e+336>>2];j=+c[e+340>>2];Y=+c[e+344>>2];i=+c[e+348>>2];V=+c[e+84>>2]*H+ +c[e+100>>2]*j+ +c[e+116>>2]*Y+ +c[e+132>>2]*i;W=H*+c[e+88>>2]+j*+c[e+104>>2]+Y*+c[e+120>>2]+i*+c[e+136>>2];z=H*+c[e+92>>2]+j*+c[e+108>>2]+Y*+c[e+124>>2]+i*+c[e+140>>2];c[e+244>>2]=V;c[e+248>>2]=W;c[e+252>>2]=z;c[e+256>>2]=0.0;G=H*+c[e+164>>2]+j*+c[e+180>>2]+Y*+c[e+196>>2]+i*+c[e+212>>2];X=H*+c[e+168>>2]+j*+c[e+184>>2]+Y*+c[e+200>>2]+i*+c[e+216>>2];Y=H*+c[e+172>>2]+j*+c[e+188>>2]+Y*+c[e+204>>2]+i*+c[e+220>>2];c[e+260>>2]=G;c[e+264>>2]=X;c[e+268>>2]=Y;c[e+272>>2]=0.0;c[e+276>>2]=V-G;c[e+280>>2]=W-X;c[e+284>>2]=z-Y;c[e+288>>2]=0.0;a=o[e>>2]|0;do{if((a|0)>3){t=n[e+332>>0]|0;if(!(t&8)){s=e+164+(a+-1<<4)|0;_=e+84+(a+-1<<4)|0;w=e+4+(a+-1<<4)|0;o[e>>2]=a+-1;o[e+52>>2]=o[w>>2];o[e+52+4>>2]=o[w+4>>2];o[e+52+8>>2]=o[w+8>>2];o[e+52+12>>2]=o[w+12>>2];o[e+132>>2]=o[_>>2];o[e+132+4>>2]=o[_+4>>2];o[e+132+8>>2]=o[_+8>>2];o[e+132+12>>2]=o[_+12>>2];o[e+212>>2]=o[s>>2];o[e+212+4>>2]=o[s+4>>2];o[e+212+8>>2]=o[s+8>>2];o[e+212+12>>2]=o[s+12>>2];s=e+332|0;_=a+-1|0;a=t;w=52}else{s=e+332|0;_=a;a=t;w=52}}else{if((a|0)==3){s=e+332|0;_=3;a=n[e+332>>0]|0;w=52;break}if((a|0)<=1){if((a|0)==1){t=1;w=59}}else{t=2;w=55}}}while(0);if((w|0)==52){t=_+-1|0;if(!(a&4)){o[e>>2]=t;o[e+36>>2]=o[e+4+(t<<4)>>2];o[e+36+4>>2]=o[e+4+(t<<4)+4>>2];o[e+36+8>>2]=o[e+4+(t<<4)+8>>2];o[e+36+12>>2]=o[e+4+(t<<4)+12>>2];o[e+116>>2]=o[e+84+(t<<4)>>2];o[e+116+4>>2]=o[e+84+(t<<4)+4>>2];o[e+116+8>>2]=o[e+84+(t<<4)+8>>2];o[e+116+12>>2]=o[e+84+(t<<4)+12>>2];o[e+196>>2]=o[e+164+(t<<4)>>2];o[e+196+4>>2]=o[e+164+(t<<4)+4>>2];o[e+196+8>>2]=o[e+164+(t<<4)+8>>2];o[e+196+12>>2]=o[e+164+(t<<4)+12>>2];w=56}else{t=_;w=55}}if((w|0)==55){s=e+332|0;w=56}if((w|0)==56){a=t+-1|0;if(!(n[s>>0]&2)){o[e>>2]=a;o[e+20>>2]=o[e+4+(a<<4)>>2];o[e+20+4>>2]=o[e+4+(a<<4)+4>>2];o[e+20+8>>2]=o[e+4+(a<<4)+8>>2];o[e+20+12>>2]=o[e+4+(a<<4)+12>>2];o[e+100>>2]=o[e+84+(a<<4)>>2];o[e+100+4>>2]=o[e+84+(a<<4)+4>>2];o[e+100+8>>2]=o[e+84+(a<<4)+8>>2];o[e+100+12>>2]=o[e+84+(a<<4)+12>>2];o[e+180>>2]=o[e+164+(a<<4)>>2];o[e+180+4>>2]=o[e+164+(a<<4)+4>>2];o[e+180+8>>2]=o[e+164+(a<<4)+8>>2];o[e+180+12>>2]=o[e+164+(a<<4)+12>>2];t=a;w=60}else w=59}if((w|0)==59){s=e+332|0;w=60}if((w|0)==60?(D=t+-1|0,(n[s>>0]&1)==0):0){o[e>>2]=D;o[e+4>>2]=o[e+4+(D<<4)>>2];o[e+4+4>>2]=o[e+4+(D<<4)+4>>2];o[e+4+8>>2]=o[e+4+(D<<4)+8>>2];o[e+4+12>>2]=o[e+4+(D<<4)+12>>2];o[e+84>>2]=o[e+84+(D<<4)>>2];o[e+84+4>>2]=o[e+84+(D<<4)+4>>2];o[e+84+8>>2]=o[e+84+(D<<4)+8>>2];o[e+84+12>>2]=o[e+84+(D<<4)+12>>2];o[e+164>>2]=o[e+164+(D<<4)>>2];o[e+164+4>>2]=o[e+164+(D<<4)+4>>2];o[e+164+8>>2]=o[e+164+(D<<4)+8>>2];o[e+164+12>>2]=o[e+164+(D<<4)+12>>2]}if((+c[e+336>>2]>=0.0?+c[e+340>>2]>=0.0:0)?+c[e+344>>2]>=0.0:0)t=i>=0.0&1;else t=0;n[e+312>>0]=t}}while(0);if((w|0)==68){n[t>>0]=0;t=0}Q=t;Q=Q<<24>>24!=0;ae=L;return Q|0}default:{n[e+312>>0]=0;Q=0;Q=Q<<24>>24!=0;ae=L;return Q|0}}return 0}function No(e,t,i,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;var f=0,d=0,h=0,p=0.0,b=0,m=0.0,A=0.0,g=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0;J=ae;ae=ae+256|0;o[e+188>>2]=-1;La(15490);o[e+184>>2]=0;if((i|0)>0){u=0;do{o[(o[t+(u<<2)>>2]|0)+212>>2]=-1;u=u+1|0}while((u|0)!=(i|0))}u=o[e+12>>2]|0;if((u|0)>(i|0))d=e+8|0;else{if((i+1|0)!=0?(o[6747]=(o[6747]|0)+1,f=Do(((i+1|0)*244|3)+16|0)|0,(f|0)!=0):0){o[(f+4+15&-16)+-4>>2]=f;d=f+4+15&-16}else d=0;u=o[e+8>>2]|0;if((u|0)>0){f=0;do{Q=d+(f*244|0)|0;K=o[e+16>>2]|0;Y=K+(f*244|0)|0;o[Q>>2]=o[Y>>2];o[Q+4>>2]=o[Y+4>>2];o[Q+8>>2]=o[Y+8>>2];o[Q+12>>2]=o[Y+12>>2];Q=K+(f*244|0)+16|0;Y=d+(f*244|0)+16|0;o[Y>>2]=o[Q>>2];o[Y+4>>2]=o[Q+4>>2];o[Y+8>>2]=o[Q+8>>2];o[Y+12>>2]=o[Q+12>>2];Y=K+(f*244|0)+32|0;Q=d+(f*244|0)+32|0;o[Q>>2]=o[Y>>2];o[Q+4>>2]=o[Y+4>>2];o[Q+8>>2]=o[Y+8>>2];o[Q+12>>2]=o[Y+12>>2];Q=d+(f*244|0)+48|0;Y=K+(f*244|0)+48|0;o[Q>>2]=o[Y>>2];o[Q+4>>2]=o[Y+4>>2];o[Q+8>>2]=o[Y+8>>2];o[Q+12>>2]=o[Y+12>>2];Tn(d+(f*244|0)+64|0,K+(f*244|0)+64|0,180)|0;f=f+1|0}while((f|0)!=(u|0))}u=o[e+16>>2]|0;if(u|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=d;o[e+12>>2]=i+1;u=i+1|0;d=e+8|0}_l(J|0,0,244)|0;f=o[d>>2]|0;if((f|0)<0){if((u|0)<0){u=o[e+16>>2]|0;if(u|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=0;o[e+12>>2]=0}u=f;do{K=o[e+16>>2]|0;Q=K+(u*244|0)|0;o[Q>>2]=o[J>>2];o[Q+4>>2]=o[J+4>>2];o[Q+8>>2]=o[J+8>>2];o[Q+12>>2]=o[J+12>>2];Q=K+(u*244|0)+16|0;o[Q>>2]=o[J+16>>2];o[Q+4>>2]=o[J+16+4>>2];o[Q+8>>2]=o[J+16+8>>2];o[Q+12>>2]=o[J+16+12>>2];Q=K+(u*244|0)+32|0;o[Q>>2]=o[J+32>>2];o[Q+4>>2]=o[J+32+4>>2];o[Q+8>>2]=o[J+32+8>>2];o[Q+12>>2]=o[J+32+12>>2];Q=K+(u*244|0)+48|0;o[Q>>2]=o[J+48>>2];o[Q+4>>2]=o[J+48+4>>2];o[Q+8>>2]=o[J+48+8>>2];o[Q+12>>2]=o[J+48+12>>2];Tn(K+(u*244|0)+64|0,J+64|0,180)|0;u=u+1|0}while((u|0)!=0)}o[d>>2]=0;if((i|0)>0){d=0;do{u=t+(d<<2)|0;f=or(e,o[u>>2]|0,+c[_+12>>2])|0;u=o[u>>2]|0;if((!((u|0)==0?1:(o[u+236>>2]&2|0)==0)?+c[u+344>>2]!=0.0:0)?(h=o[e+16>>2]|0,o[u+504>>2]&2|0):0){p=+c[_+76>>2];U=1.0/+c[u+396>>2];j=1.0/+c[u+400>>2];m=1.0/+c[u+404>>2];w=+c[u+4>>2];L=+c[u+8>>2];F=+c[u+12>>2];N=+c[u+20>>2];B=+c[u+24>>2];k=+c[u+28>>2];H=+c[u+36>>2];V=+c[u+40>>2];g=+c[u+44>>2];E=+c[u+328>>2];S=+c[u+332>>2];A=+c[u+336>>2];R=(U*w*w+j*L*L+m*F*F)*E+(U*w*N+j*L*B+m*F*k)*S+(U*w*H+j*L*V+m*F*g)*A;T=(U*N*w+j*B*L+m*k*F)*E+(U*N*N+j*B*B+m*k*k)*S+(U*N*H+j*B*V+m*k*g)*A;g=(U*H*w+j*V*L+m*g*F)*E+(U*H*N+j*V*B+m*g*k)*S+(U*H*H+j*V*V+m*g*g)*A;m=(E*T-S*R)*(E*T-S*R)+((S*g-A*T)*(S*g-A*T)+(A*R-E*g)*(A*R-E*g));if(m>p*p){p=1.0/+v(+m)*p;C=(S*g-A*T)*p;m=(A*R-E*g)*p;p=(E*T-S*R)*p}else{C=S*g-A*T;m=A*R-E*g;p=E*T-S*R}H=+c[_+12>>2];j=(C*+c[u+268>>2]+m*+c[u+284>>2]+p*+c[u+300>>2])*H;V=H*(C*+c[u+272>>2]+m*+c[u+288>>2]+p*+c[u+304>>2]);c[h+(f*244|0)+224>>2]=+c[h+(f*244|0)+224>>2]-(C*+c[u+264>>2]+m*+c[u+280>>2]+p*+c[u+296>>2])*H;c[h+(f*244|0)+228>>2]=+c[h+(f*244|0)+228>>2]-j;c[h+(f*244|0)+232>>2]=+c[h+(f*244|0)+232>>2]-V}d=d+1|0}while((d|0)!=(i|0))}if((l|0)>0){u=0;do{K=o[a+(u<<2)>>2]|0;SF[o[(o[K>>2]|0)+8>>2]&511](K);c[K+36>>2]=0.0;u=u+1|0}while((u|0)<(l|0))}u=o[e+168>>2]|0;if((u|0)<(l|0)?(o[e+172>>2]|0)<(l|0):0){if(!l)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((l<<3|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+168>>2]|0}if((u|0)>0){d=0;do{Y=(o[e+176>>2]|0)+(d<<3)|0;Q=o[Y+4>>2]|0;K=f+(d<<3)|0;o[K>>2]=o[Y>>2];o[K+4>>2]=Q;d=d+1|0}while((d|0)!=(u|0))}u=o[e+176>>2]|0;if(u|0){if(n[e+180>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[e+176>>2]=0}n[e+180>>0]=1;o[e+176>>2]=f;o[e+172>>2]=l}o[e+168>>2]=l;if((l|0)>0){b=0;u=0;do{t=o[e+176>>2]|0;i=t+(b<<3)|0;h=a+(b<<2)|0;f=o[h>>2]|0;d=o[f+44>>2]|0;if(d){f=d+64|0;do{o[d>>2]=0;d=d+4|0}while((d|0)<(f|0));f=o[h>>2]|0}if(!(n[f+20>>0]|0)){o[i>>2]=0;o[t+(b<<3)+4>>2]=0;f=0}else{xF[o[(o[f>>2]|0)+16>>2]&127](f,i);f=o[i>>2]|0}u=f+u|0;b=b+1|0}while((b|0)<(l|0));h=u}else h=0;u=o[e+48>>2]|0;if((u|0)<(h|0)?(o[e+52>>2]|0)<(h|0):0){if(!h)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((h*152|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+48>>2]|0}if((u|0)>0){d=0;do{Tn(f+(d*152|0)|0,(o[e+56>>2]|0)+(d*152|0)|0,152)|0;d=d+1|0}while((d|0)!=(u|0))}u=o[e+56>>2]|0;if(u|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=f;o[e+52>>2]=h}o[e+48>>2]=h;if((l|0)>0){u=o[e+176>>2]|0;Q=0;K=0;while(1){Y=u+(K<<3)|0;if(!(o[Y>>2]|0))f=0;else{u=o[e+56>>2]|0;G=u+(Q*152|0)|0;W=a+(K<<2)|0;h=o[W>>2]|0;t=o[h+28>>2]|0;i=o[h+32>>2]|0;X=or(e,t,+c[_+12>>2])|0;z=or(e,i,+c[_+12>>2])|0;b=o[e+16>>2]|0;f=o[h+24>>2]|0;f=(f|0)>0?f:o[_+20>>2]|0;if((f|0)>(o[e+184>>2]|0))o[e+184>>2]=f;if((o[Y>>2]|0)>0){d=0;do{_l(G+(d*152|0)|0,0,152)|0;c[G+(d*152|0)+120>>2]=-3402823466385288598117041.0e14;c[G+(d*152|0)+124>>2]=3402823466385288598117041.0e14;c[G+(d*152|0)+100>>2]=0.0;c[G+(d*152|0)+96>>2]=0.0;o[G+(d*152|0)+144>>2]=X;o[G+(d*152|0)+148>>2]=z;o[G+(d*152|0)+136>>2]=f;d=d+1|0}while((d|0)<(o[Y>>2]|0))}o[b+(X*244|0)+64>>2]=0;o[b+(X*244|0)+64+4>>2]=0;o[b+(X*244|0)+64+8>>2]=0;o[b+(X*244|0)+64+12>>2]=0;o[b+(X*244|0)+64+16>>2]=0;o[b+(X*244|0)+64+20>>2]=0;o[b+(X*244|0)+64+24>>2]=0;o[b+(X*244|0)+64+28>>2]=0;o[b+(X*244|0)+144>>2]=0;o[b+(X*244|0)+144+4>>2]=0;o[b+(X*244|0)+144+8>>2]=0;o[b+(X*244|0)+144+12>>2]=0;o[b+(X*244|0)+144+16>>2]=0;o[b+(X*244|0)+144+20>>2]=0;o[b+(X*244|0)+144+24>>2]=0;o[b+(X*244|0)+144+28>>2]=0;o[b+(z*244|0)+64>>2]=0;o[b+(z*244|0)+64+4>>2]=0;o[b+(z*244|0)+64+8>>2]=0;o[b+(z*244|0)+64+12>>2]=0;o[b+(z*244|0)+64+16>>2]=0;o[b+(z*244|0)+64+20>>2]=0;o[b+(z*244|0)+64+24>>2]=0;o[b+(z*244|0)+64+28>>2]=0;o[b+(z*244|0)+144>>2]=0;o[b+(z*244|0)+144+4>>2]=0;o[b+(z*244|0)+144+8>>2]=0;o[b+(z*244|0)+144+12>>2]=0;o[b+(z*244|0)+144+16>>2]=0;o[b+(z*244|0)+144+20>>2]=0;o[b+(z*244|0)+144+24>>2]=0;o[b+(z*244|0)+144+28>>2]=0;c[J>>2]=1.0/+c[_+12>>2];o[J+4>>2]=o[_+32>>2];o[J+8>>2]=u+(Q*152|0)+16;o[J+12>>2]=G;o[J+16>>2]=u+(Q*152|0)+48;o[J+20>>2]=u+(Q*152|0)+32;o[J+24>>2]=38;o[J+28>>2]=u+(Q*152|0)+112;d=u+(Q*152|0)+116|0;o[d>>2]=o[_+40>>2];o[J+52>>2]=o[_+4>>2];o[J+32>>2]=d;o[J+36>>2]=u+(Q*152|0)+120;o[J+40>>2]=u+(Q*152|0)+124;o[J+48>>2]=o[_+20>>2];d=o[W>>2]|0;xF[o[(o[d>>2]|0)+20>>2]&127](d,J);if((o[Y>>2]|0)>0){f=0;do{u=G+(f*152|0)+124|0;p=+c[(o[W>>2]|0)+16>>2];if(+c[u>>2]>=p)c[u>>2]=p;u=G+(f*152|0)+120|0;if(+c[u>>2]<=-p)c[u>>2]=-p;o[G+(f*152|0)+132>>2]=h;d=G+(f*152|0)|0;u=o[h+28>>2]|0;p=+c[d>>2];m=+c[d+4>>2];A=+c[d+8>>2];C=(p*+c[u+280>>2]+m*+c[u+284>>2]+A*+c[u+288>>2])*+c[u+548>>2];g=(p*+c[u+296>>2]+m*+c[u+300>>2]+A*+c[u+304>>2])*+c[u+552>>2];d=G+(f*152|0)+64|0;c[d>>2]=(+c[u+264>>2]*p+ +c[u+268>>2]*m+ +c[u+272>>2]*A)*+c[u+544>>2];c[d+4>>2]=C;c[d+8>>2]=g;c[d+12>>2]=0.0;d=G+(f*152|0)+32|0;u=o[h+32>>2]|0;g=+c[d>>2];C=+c[d+4>>2];E=+c[d+8>>2];S=(g*+c[u+280>>2]+C*+c[u+284>>2]+E*+c[u+288>>2])*+c[u+548>>2];j=(g*+c[u+296>>2]+C*+c[u+300>>2]+E*+c[u+304>>2])*+c[u+552>>2];d=G+(f*152|0)+80|0;c[d>>2]=(+c[u+264>>2]*g+ +c[u+268>>2]*C+ +c[u+272>>2]*E)*+c[u+544>>2];c[d+4>>2]=S;c[d+8>>2]=j;c[d+12>>2]=0.0;d=G+(f*152|0)+16|0;j=+c[t+344>>2];S=+c[d>>2];T=+c[d+4>>2];R=+c[d+8>>2];d=G+(f*152|0)+48|0;V=+c[i+344>>2];M=+c[d>>2];O=+c[d+4>>2];I=+c[d+8>>2];V=S*(j*S)+T*(j*T)+R*(j*R)+(p*(p*+c[t+264>>2]+m*+c[t+268>>2]+A*+c[t+272>>2])+m*(p*+c[t+280>>2]+m*+c[t+284>>2]+A*+c[t+288>>2])+A*(p*+c[t+296>>2]+m*+c[t+300>>2]+A*+c[t+304>>2]))+(M*(V*M)+O*(V*O)+I*(V*I))+(g*(g*+c[i+264>>2]+C*+c[i+268>>2]+E*+c[i+272>>2])+C*(g*+c[i+280>>2]+C*+c[i+284>>2]+E*+c[i+288>>2])+E*(g*+c[i+296>>2]+C*+c[i+300>>2]+E*+c[i+304>>2]));d=+y(+V)>1.1920928955078125e-07;V=d?1.0/V:0.0;c[G+(f*152|0)+108>>2]=V;if(!(o[b+(X*244|0)+240>>2]|0)){x=0.0;P=0.0;D=0.0;w=0.0;L=0.0;F=0.0}else{x=+c[b+(X*244|0)+208>>2];P=+c[b+(X*244|0)+212>>2];D=+c[b+(X*244|0)+216>>2];w=+c[b+(X*244|0)+224>>2];L=+c[b+(X*244|0)+228>>2];F=+c[b+(X*244|0)+232>>2]}if(!(o[b+(z*244|0)+240>>2]|0)){N=0.0;B=0.0;k=0.0;U=0.0;H=0.0;j=0.0}else{N=+c[b+(z*244|0)+208>>2];B=+c[b+(z*244|0)+212>>2];k=+c[b+(z*244|0)+216>>2];U=+c[b+(z*244|0)+224>>2];H=+c[b+(z*244|0)+228>>2];j=+c[b+(z*244|0)+232>>2]}d=G+(f*152|0)+112|0;c[d>>2]=V*+c[d>>2]+V*(0.0-+c[J+52>>2]*(S*(x+ +c[t+312>>2])+T*(P+ +c[t+316>>2])+R*(D+ +c[t+320>>2])+(p*(w+ +c[t+328>>2])+m*(L+ +c[t+332>>2])+A*(F+ +c[t+336>>2]))+(M*(N+ +c[i+312>>2])+O*(B+ +c[i+316>>2])+I*(k+ +c[i+320>>2])+(g*(U+ +c[i+328>>2])+C*(H+ +c[i+332>>2])+E*(j+ +c[i+336>>2])))));c[G+(f*152|0)+100>>2]=0.0;f=f+1|0}while((f|0)<(o[Y>>2]|0))}u=o[e+176>>2]|0;f=o[u+(K<<3)>>2]|0}K=K+1|0;if((K|0)>=(l|0))break;else Q=f+Q|0}}BF[o[(o[e>>2]|0)+28>>2]&127](e,r,s,_);t=o[e+48>>2]|0;i=o[e+28>>2]|0;b=o[e+68>>2]|0;u=o[e+128>>2]|0;if((u|0)<(t|0)?(o[e+132>>2]|0)<(t|0):0){if(!t)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((t<<2|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+128>>2]|0}h=o[e+136>>2]|0;if((u|0)<=0){if(!h)u=e+140|0;else Z=106}else{d=0;do{o[f+(d<<2)>>2]=o[h+(d<<2)>>2];d=d+1|0}while((d|0)!=(u|0));Z=106}if((Z|0)==106){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}o[e+136>>2]=0;u=e+140|0}n[u>>0]=1;o[e+136>>2]=f;o[e+132>>2]=t}o[e+128>>2]=t;if(!(o[_+64>>2]&16)){u=o[e+108>>2]|0;if((u|0)<(i|0)?(o[e+112>>2]|0)<(i|0):0){if(!i)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((i<<2|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+108>>2]|0}h=o[e+116>>2]|0;if((u|0)<=0){if(!h)u=e+120|0;else Z=138}else{d=0;do{o[f+(d<<2)>>2]=o[h+(d<<2)>>2];d=d+1|0}while((d|0)!=(u|0));Z=138}if((Z|0)==138){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}o[e+116>>2]=0;u=e+120|0}n[u>>0]=1;o[e+116>>2]=f;o[e+112>>2]=i}o[e+108>>2]=i}else{u=o[e+108>>2]|0;if((u|0)<(i<<1|0)?(o[e+112>>2]|0)<(i<<1|0):0){if(!i)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((i<<3|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+108>>2]|0}h=o[e+116>>2]|0;if((u|0)<=0){if(!h)u=e+120|0;else Z=122}else{d=0;do{o[f+(d<<2)>>2]=o[h+(d<<2)>>2];d=d+1|0}while((d|0)!=(u|0));Z=122}if((Z|0)==122){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}o[e+116>>2]=0;u=e+120|0}n[u>>0]=1;o[e+116>>2]=f;o[e+112>>2]=i<<1}o[e+108>>2]=i<<1}u=o[e+148>>2]|0;if((u|0)<(b|0)?(o[e+152>>2]|0)<(b|0):0){if(!b)f=0;else{o[6747]=(o[6747]|0)+1;u=Do((b<<2|3)+16|0)|0;if(!u)f=0;else{o[(u+4+15&-16)+-4>>2]=u;f=u+4+15&-16}u=o[e+148>>2]|0}h=o[e+156>>2]|0;if((u|0)<=0){if(!h)u=e+160|0;else Z=154}else{d=0;do{o[f+(d<<2)>>2]=o[h+(d<<2)>>2];d=d+1|0}while((d|0)!=(u|0));Z=154}if((Z|0)==154){if(n[e+160>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}o[e+156>>2]=0;u=e+160|0}n[u>>0]=1;o[e+156>>2]=f;o[e+152>>2]=b}o[e+148>>2]=b;if((t|0)>0){u=o[e+136>>2]|0;f=0;do{o[u+(f<<2)>>2]=f;f=f+1|0}while((f|0)!=(t|0))}if((i|0)>0){u=o[e+116>>2]|0;f=0;do{o[u+(f<<2)>>2]=f;f=f+1|0}while((f|0)!=(i|0))}if((b|0)>0){u=o[e+156>>2]|0;f=0;do{o[u+(f<<2)>>2]=f;f=f+1|0}while((f|0)!=(b|0))}u=o[2685]|0;e=(o[u+16>>2]|0)+-1|0;o[u+16>>2]=e;if(e|0){ae=J;return 0.0}do{if(o[u+4>>2]|0){$(J|0,0)|0;e=o[6746]|0;c[u+8>>2]=+c[u+8>>2]+ +(((o[J+4>>2]|0)-(o[e+4>>2]|0)+(((o[J>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[u+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[u+16>>2]|0)){u=o[2685]|0;break}else{ae=J;return 0.0}}}while(0);o[2685]=o[u+20>>2];ae=J;return 0.0}function Bo(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,R=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0.0,_e=0.0,ue=0.0,fe=0,de=0.0,he=0.0,pe=0.0,be=0.0,me=0.0,Ae=0.0;fe=ae;ae=ae+80|0;c[e+504>>2]=0.0;c[e+500>>2]=0.0;n[e+525>>0]=0;n[e+526>>0]=0;if(n[e+552>>0]|0?(n[e+527>>0]|0)==0:0){Ae=+c[e+556>>2];be=+c[e+560>>2];ue=+c[e+564>>2];pe=+c[e+568>>2];$=Ae*(2.0/(Ae*Ae+be*be+ue*ue+pe*pe));me=be*(2.0/(Ae*Ae+be*be+ue*ue+pe*pe));he=ue*(2.0/(Ae*Ae+be*be+ue*ue+pe*pe));ee=+c[e+300>>2];W=+c[t>>2];te=+c[e+316>>2];X=+c[t+4>>2];ie=+c[e+332>>2];z=+c[t+8>>2];re=+c[e+304>>2];se=+c[e+320>>2];le=+c[e+336>>2];Z=+c[e+308>>2];J=+c[e+324>>2];q=+c[e+340>>2];Y=+c[t+16>>2];Q=+c[t+20>>2];K=+c[t+24>>2];oe=+c[t+32>>2];ce=+c[t+36>>2];_e=+c[t+40>>2];b=+c[e+348>>2];p=+c[e+352>>2];h=+c[e+356>>2];C=+c[e+364>>2];de=+c[i>>2];R=+c[e+380>>2];u=+c[i+4>>2];O=+c[e+396>>2];_=+c[i+8>>2];I=+c[e+368>>2];x=+c[e+384>>2];P=+c[e+400>>2];m=+c[e+372>>2];A=+c[e+388>>2];g=+c[e+404>>2];f=+c[i+16>>2];d=+c[i+20>>2];l=+c[i+24>>2];D=+c[i+32>>2];L=+c[i+36>>2];N=+c[i+40>>2];w=+c[e+412>>2];F=+c[e+416>>2];a=+c[e+420>>2];k=(1.0-(be*me+ue*he))*(C*de+R*u+O*_)+(Ae*me+pe*he)*(de*I+u*x+_*P)+(Ae*he-pe*me)*(de*m+u*A+_*g);U=(Ae*me-pe*he)*(C*de+R*u+O*_)+(1.0-(Ae*$+ue*he))*(de*I+u*x+_*P)+(be*he+pe*$)*(de*m+u*A+_*g);B=(Ae*he+pe*me)*(C*de+R*u+O*_)+(be*he-pe*$)*(de*I+u*x+_*P)+(1.0-(Ae*$+be*me))*(de*m+u*A+_*g);j=(Ae*he-pe*me)*(m*f+A*d+g*l)+((1.0-(be*me+ue*he))*(C*f+R*d+O*l)+(Ae*me+pe*he)*(I*f+x*d+P*l));G=(be*he+pe*$)*(m*f+A*d+g*l)+((Ae*me-pe*he)*(C*f+R*d+O*l)+(1.0-(Ae*$+ue*he))*(I*f+x*d+P*l));H=(1.0-(Ae*$+be*me))*(m*f+A*d+g*l)+((Ae*he+pe*me)*(C*f+R*d+O*l)+(be*he-pe*$)*(I*f+x*d+P*l));ne=(Ae*he-pe*me)*(m*D+A*L+g*N)+((1.0-(be*me+ue*he))*(C*D+R*L+O*N)+(Ae*me+pe*he)*(I*D+x*L+P*N));ue=(be*he+pe*$)*(m*D+A*L+g*N)+((Ae*me-pe*he)*(C*D+R*L+O*N)+(1.0-(Ae*$+ue*he))*(I*D+x*L+P*N));$=(1.0-(Ae*$+be*me))*(m*D+A*L+g*N)+((Ae*he+pe*me)*(C*D+R*L+O*N)+(be*he-pe*$)*(I*D+x*L+P*N));pe=-(+c[t+48>>2]+(W*b+X*p+z*h));he=-(Y*b+Q*p+K*h+ +c[t+52>>2]);h=-(oe*b+ce*p+_e*h+ +c[t+56>>2]);p=(ee*W+te*X+ie*z)*pe+(ee*Y+te*Q+ie*K)*he+(ee*oe+te*ce+ie*_e)*h;b=(W*re+X*se+z*le)*pe+(re*Y+se*Q+le*K)*he+(re*oe+se*ce+le*_e)*h;h=(W*Z+X*J+z*q)*pe+(Z*Y+J*Q+q*K)*he+(Z*oe+J*ce+q*_e)*h;_=h*B+(p*k+b*U)+((C*de+R*u+O*_)*0.0+(de*I+u*x+_*P)*0.0+(de*m+u*A+_*g)*0.0+(+c[i+48>>2]+(de*w+u*F+_*a)));l=h*H+(p*j+b*G)+((m*f+A*d+g*l)*0.0+((C*f+R*d+O*l)*0.0+(I*f+x*d+P*l)*0.0)+(f*w+d*F+l*a+ +c[i+52>>2]));a=h*$+(p*ne+b*ue)+((m*D+A*L+g*N)*0.0+((C*D+R*L+O*N)*0.0+(I*D+x*L+P*N)*0.0)+(D*w+L*F+N*a+ +c[i+56>>2]));c[fe+16>>2]=(W*Z+X*J+z*q)*B+((ee*W+te*X+ie*z)*k+(W*re+X*se+z*le)*U);c[fe+16+4>>2]=(Z*Y+J*Q+q*K)*B+((ee*Y+te*Q+ie*K)*k+(re*Y+se*Q+le*K)*U);c[fe+16+8>>2]=(Z*oe+J*ce+q*_e)*B+((ee*oe+te*ce+ie*_e)*k+(re*oe+se*ce+le*_e)*U);c[fe+16+12>>2]=0.0;c[fe+16+16>>2]=(W*Z+X*J+z*q)*H+((ee*W+te*X+ie*z)*j+(W*re+X*se+z*le)*G);c[fe+16+20>>2]=(Z*Y+J*Q+q*K)*H+((ee*Y+te*Q+ie*K)*j+(re*Y+se*Q+le*K)*G);c[fe+16+24>>2]=(Z*oe+J*ce+q*_e)*H+((ee*oe+te*ce+ie*_e)*j+(re*oe+se*ce+le*_e)*G);c[fe+16+28>>2]=0.0;c[fe+16+32>>2]=(W*Z+X*J+z*q)*$+((ee*W+te*X+ie*z)*ne+(W*re+X*se+z*le)*ue);c[fe+16+36>>2]=(Z*Y+J*Q+q*K)*$+((ee*Y+te*Q+ie*K)*ne+(re*Y+se*Q+le*K)*ue);c[fe+16+40>>2]=(Z*oe+J*ce+q*_e)*$+((ee*oe+te*ce+ie*_e)*ne+(re*oe+se*ce+le*_e)*ue);c[fe+16+44>>2]=0.0;c[fe+16+48>>2]=_;c[fe+16+52>>2]=l;c[fe+16+56>>2]=a;c[fe+16+60>>2]=0.0;Fi(fe+16|0,fe);a=+c[fe>>2];l=+c[fe+4>>2];_=+c[fe+8>>2];if(!(+y(+(a*a+l*l+_*_))<1.1920928955078125e-07)?(c[e+472>>2]=0.0,Ae=1.0/+v(+(a*a+l*l+_*_)),c[e+460>>2]=Ae*a,c[e+464>>2]=Ae*l,c[e+468>>2]=Ae*_,Ae=+c[fe+12>>2],Ae=Ae<-1.0?-1.0:Ae,Ae=+T(+(Ae>1.0?1.0:Ae))*2.0,c[e+504>>2]=Ae,!(+y(+Ae)<1.1920928955078125e-07)):0)n[e+526>>0]=1;ae=fe;return}Fi(t,fe+16|0);Fi(e+300|0,fe);z=+c[fe+16+12>>2];Y=+c[fe>>2];Q=+c[fe+16>>2];K=+c[fe+12>>2];Z=+c[fe+16+4>>2];J=+c[fe+8>>2];q=+c[fe+16+8>>2];$=+c[fe+4>>2];Fi(i,fe+16|0);Fi(e+364|0,fe);ee=+c[fe+16+12>>2];te=+c[fe>>2];ie=+c[fe+16>>2];ne=+c[fe+12>>2];re=+c[fe+16+4>>2];oe=+c[fe+8>>2];se=+c[fe+16+8>>2];ce=+c[fe+4>>2];le=-(ee*te+ie*ne+re*oe-se*ce);_e=-(te*se+(ne*re+ee*ce)-ie*oe);ue=-(ee*oe+ne*se+ie*ce-te*re);p=(z*K-Y*Q-Z*$-J*q)*le+(z*Y+Q*K+Z*J-q*$)*(ee*ne-te*ie-re*ce-oe*se)+(z*J+K*q+Q*$-Y*Z)*_e-(Y*q+(K*Z+z*$)-Q*J)*ue;b=(z*Y+Q*K+Z*J-q*$)*ue+((Y*q+(K*Z+z*$)-Q*J)*(ee*ne-te*ie-re*ce-oe*se)+(z*K-Y*Q-Z*$-J*q)*_e)-(z*J+K*q+Q*$-Y*Z)*le;m=(Y*q+(K*Z+z*$)-Q*J)*le+((z*J+K*q+Q*$-Y*Z)*(ee*ne-te*ie-re*ce-oe*se)+(z*K-Y*Q-Z*$-J*q)*ue)-(z*Y+Q*K+Z*J-q*$)*_e;A=(z*K-Y*Q-Z*$-J*q)*(ee*ne-te*ie-re*ce-oe*se)-(z*Y+Q*K+Z*J-q*$)*le-(Y*q+(K*Z+z*$)-Q*J)*_e-(z*J+K*q+Q*$-Y*Z)*ue;u=-p-b*0.0-m*0.0;_=(m+A*0.0-p*0.0)*-m+(A*(A+b*0.0-m*0.0)+u*-p)-(A*0.0+p*0.0-b)*-b;a=(A*0.0+p*0.0-b)*-p+(A*(m+A*0.0-p*0.0)+u*-b)-(A+b*0.0-m*0.0)*-m;u=(A+b*0.0-m*0.0)*-b+(A*(A*0.0+p*0.0-b)+u*-m)-(m+A*0.0-p*0.0)*-p;l=1.0/+v(+(u*u+(_*_+a*a)));if(u*l*0.0+(a*l*0.0+_*l)<-.9999998807907104){f=-0.0;d=0.0;h=0.0;a=1.0}else{Ae=+v(+((u*l*0.0+(a*l*0.0+_*l)+1.0)*2.0));f=(u*l*0.0-a*l*0.0)*(1.0/Ae);d=(a*l-_*l*0.0)*(1.0/Ae);h=Ae*.5;a=(_*l*0.0-u*l)*(1.0/Ae)}_=1.0/+v(+(f*f+a*a+d*d+h*h));g=f*_;C=a*_;f=d*_;_=h*_;X=1.0/+v(+((A*_-p*-g-b*-C-m*-f)*(A*_-p*-g-b*-C-m*-f)+((b*-g+(m*_+A*-f)-p*-C)*(b*-g+(m*_+A*-f)-p*-C)+((m*-C+(p*_+A*-g)-b*-f)*(m*-C+(p*_+A*-g)-b*-f)+(p*-f+(A*-C+b*_)-m*-g)*(p*-f+(A*-C+b*_)-m*-g)))));l=(m*-C+(p*_+A*-g)-b*-f)*X;u=(p*-f+(A*-C+b*_)-m*-g)*X;a=(b*-g+(m*_+A*-f)-p*-C)*X;X=(A*_-p*-g-b*-C-m*-f)*X;W=+c[e+444>>2];G=+c[e+456>>2];if(W>=G?(R=+c[e+448>>2],R>=G):0){m=_<-1.0?-1.0:_;m=+T(+(m>1.0?1.0:m))*2.0;if(m>1.1920928955078125e-07){_=1.0/+v(+(f*f+(g*g+C*C)));if(+y(+(C*_))>1.1920928955078125e-07){b=+v(+((f*_*(f*_)/(C*_*(C*_))+1.0)/(f*_*(f*_)/(C*_*(C*_))/(W*W)+1.0/(R*R))));d=g*_;f=f*_;_=C*_}else{b=W;d=g*_;f=f*_;_=C*_}}else{b=0.0;d=0.0;f=0.0;_=0.0}h=+c[e+428>>2];p=b*h;if(m>p){n[e+526>>0]=1;if(m<b&h<.9999998807907104)h=(m-p)/(b-p);else h=1.0;c[e+528>>2]=h;c[e+504>>2]=m-p;if(+y(+_)>1.1920928955078125e-07){Ae=+y(+(_*(R/W*(-f/_))));f=f<-0.0?Ae:-Ae;Ae=1.0/+v(+(d*d+_*_+f*f));d=d*Ae;f=-(f*Ae);_=_*Ae}me=-d;be=-_;he=-f;de=(ee*ne-te*ie-re*ce-oe*se)*me+(te*se+(ne*re+ee*ce)-ie*oe)*he-(ee*oe+ne*se+ie*ce-te*re)*be;Ae=(ee*oe+ne*se+ie*ce-te*re)*me+(ee*ne-te*ie-re*ce-oe*se)*be-(ee*te+ie*ne+re*oe-se*ce)*he;pe=(ee*te+ie*ne+re*oe-se*ce)*be+(ee*ne-te*ie-re*ce-oe*se)*he-(te*se+(ne*re+ee*ce)-ie*oe)*me;he=-((ee*te+ie*ne+re*oe-se*ce)*me)-(te*se+(ne*re+ee*ce)-ie*oe)*be-(ee*oe+ne*se+ie*ce-te*re)*he;be=Ae*ue+(he*le+(ee*ne-te*ie-re*ce-oe*se)*de)-pe*_e;me=pe*le+((ee*ne-te*ie-re*ce-oe*se)*Ae+he*_e)-de*ue;Ae=de*_e+(he*ue+(ee*ne-te*ie-re*ce-oe*se)*pe)-Ae*le;c[e+460>>2]=be;c[e+464>>2]=me;c[e+468>>2]=Ae;c[e+472>>2]=0.0;o[e+536>>2]=0;o[e+536+4>>2]=0;o[e+536+8>>2]=0;o[e+536+12>>2]=0;c[e+492>>2]=1.0/(be*(+c[r>>2]*be+ +c[r+16>>2]*me+ +c[r+32>>2]*Ae)+me*(be*+c[r+4>>2]+me*+c[r+20>>2]+Ae*+c[r+36>>2])+Ae*(be*+c[r+8>>2]+me*+c[r+24>>2]+Ae*+c[r+40>>2])+(be*(be*+c[s>>2]+me*+c[s+16>>2]+Ae*+c[s+32>>2])+me*(be*+c[s+4>>2]+me*+c[s+20>>2]+Ae*+c[s+36>>2])+Ae*(be*+c[s+8>>2]+me*+c[s+24>>2]+Ae*+c[s+40>>2])))}}else V=20;e:do{if((V|0)==20){P=+c[e+300>>2];D=+c[e+316>>2];w=+c[e+332>>2];L=+c[t>>2];F=+c[t+4>>2];N=+c[t+8>>2];B=+c[t+16>>2];k=+c[t+20>>2];U=+c[t+24>>2];H=+c[t+32>>2];j=+c[t+36>>2];b=+c[t+40>>2];m=+c[e+304>>2];A=+c[e+320>>2];g=+c[e+336>>2];C=+c[e+308>>2];R=+c[e+324>>2];O=+c[e+340>>2];f=+c[e+364>>2];d=+c[e+380>>2];p=+c[e+396>>2];x=f*+c[i>>2]+d*+c[i+4>>2]+p*+c[i+8>>2];I=f*+c[i+16>>2]+d*+c[i+20>>2]+p*+c[i+24>>2];p=f*+c[i+32>>2]+d*+c[i+36>>2]+p*+c[i+40>>2];d=(P*L+D*F+w*N)*x+(P*B+D*k+w*U)*I+(P*H+D*j+w*b)*p;f=(L*m+F*A+N*g)*x+(B*m+k*A+U*g)*I+(H*m+j*A+b*g)*p;_=(L*C+F*R+N*O)*x+(B*C+k*R+U*O)*I+(H*C+j*R+b*O)*p;do{if(W<G){h=+c[e+448>>2];if(h<G){if(+y(+f)<1.1920928955078125e-07&+y(+_)<1.1920928955078125e-07)break e;n[e+526>>0]=1;c[e+460>>2]=-((P*H+D*j+w*b)*I-(P*B+D*k+w*U)*p);c[e+464>>2]=-((P*L+D*F+w*N)*p-(P*H+D*j+w*b)*x);c[e+468>>2]=-((P*B+D*k+w*U)*x-(P*L+D*F+w*N)*I);c[e+472>>2]=0.0;break e}if(!(+y(+d)<1.1920928955078125e-07&+y(+_)<1.1920928955078125e-07)?(n[e+526>>0]=1,h>=G):0){f=+M(+_,+d);if(f>h){d=+E(+h);f=0.0;_=+S(+h);break}if(f<-h){d=+E(+h);f=0.0;_=-+S(+h)}else f=0.0}}else if(!(+y(+d)<1.1920928955078125e-07&+y(+f)<1.1920928955078125e-07)?(n[e+526>>0]=1,W>=G):0){_=+M(+f,+d);if(_>W){d=+E(+W);f=+S(+W);_=0.0;break}if(_<-W){d=+E(+W);f=-+S(+W);_=0.0}else _=0.0}}while(0);be=(L*C+F*R+N*O)*_+((L*m+F*A+N*g)*f+(P*L+D*F+w*N)*d);pe=(B*C+k*R+U*O)*_+((B*m+k*A+U*g)*f+(P*B+D*k+w*U)*d);he=(H*C+j*R+b*O)*_+((H*m+j*A+b*g)*f+(P*H+D*j+w*b)*d);me=1.0/+v(+(he*he+(be*be+pe*pe)));c[e+472>>2]=0.0;Ae=+v(+((I*(he*me)-p*(pe*me))*(I*(he*me)-p*(pe*me))+(p*(be*me)-x*(he*me))*(p*(be*me)-x*(he*me))+(x*(pe*me)-I*(be*me))*(x*(pe*me)-I*(be*me))));c[e+504>>2]=Ae;c[e+460>>2]=-((I*(he*me)-p*(pe*me))*(1.0/Ae));c[e+464>>2]=-((p*(be*me)-x*(he*me))*(1.0/Ae));c[e+468>>2]=-((x*(pe*me)-I*(be*me))*(1.0/Ae))}}while(0);h=+c[e+452>>2];if(!(h>=0.0)){c[e+512>>2]=0.0;ae=fe;return}_=X<-1.0?-1.0:X;_=+T(+(_>1.0?1.0:_))*2.0;if(_>3.1415927410125732){d=-X<-1.0?-1.0:-X;l=-l;u=-u;a=-a;d=+T(+(d>1.0?1.0:d))*2.0}else d=_;c[e+512>>2]=d;if(d>1.1920928955078125e-07){Ae=1.0/+v(+(l*l+u*u+a*a));l=l*Ae;f=a*Ae;u=u*Ae}else f=a;a=+c[e+428>>2];if(d>h*a){n[e+525>>0]=1;_=d-h*a;if(d<h&a<.9999998807907104)a=_/(h-h*a);else a=1.0;c[e+532>>2]=a;c[e+508>>2]=_;me=-l;be=-u;he=-f;de=(ee*ne-te*ie-re*ce-oe*se)*me+(te*se+(ne*re+ee*ce)-ie*oe)*he-(ee*oe+ne*se+ie*ce-te*re)*be;Ae=(ee*oe+ne*se+ie*ce-te*re)*me+(ee*ne-te*ie-re*ce-oe*se)*be-(ee*te+ie*ne+re*oe-se*ce)*he;pe=(ee*te+ie*ne+re*oe-se*ce)*be+(ee*ne-te*ie-re*ce-oe*se)*he-(te*se+(ne*re+ee*ce)-ie*oe)*me;he=-((ee*te+ie*ne+re*oe-se*ce)*me)-(te*se+(ne*re+ee*ce)-ie*oe)*be-(ee*oe+ne*se+ie*ce-te*re)*he;be=Ae*ue+(he*le+(ee*ne-te*ie-re*ce-oe*se)*de)-pe*_e;me=pe*le+((ee*ne-te*ie-re*ce-oe*se)*Ae+he*_e)-de*ue;Ae=de*_e+(he*ue+(ee*ne-te*ie-re*ce-oe*se)*pe)-Ae*le;c[e+476>>2]=be;c[e+480>>2]=me;c[e+484>>2]=Ae;c[e+488>>2]=0.0;c[e+496>>2]=1.0/(be*(+c[r>>2]*be+ +c[r+16>>2]*me+ +c[r+32>>2]*Ae)+me*(be*+c[r+4>>2]+me*+c[r+20>>2]+Ae*+c[r+36>>2])+Ae*(be*+c[r+8>>2]+me*+c[r+24>>2]+Ae*+c[r+40>>2])+(be*(be*+c[s>>2]+me*+c[s+16>>2]+Ae*+c[s+32>>2])+me*(be*+c[s+4>>2]+me*+c[s+20>>2]+Ae*+c[s+36>>2])+Ae*(be*+c[s+8>>2]+me*+c[s+24>>2]+Ae*+c[s+40>>2])))}if(!(n[e+526>>0]|0)){ae=fe;return}de=-l;Ae=-u;he=-f;ue=(z*K-Y*Q-Z*$-J*q)*de+(Y*q+(K*Z+z*$)-Q*J)*he-(z*J+K*q+Q*$-Y*Z)*Ae;me=(z*J+K*q+Q*$-Y*Z)*de+(z*K-Y*Q-Z*$-J*q)*Ae-(z*Y+Q*K+Z*J-q*$)*he;be=(z*Y+Q*K+Z*J-q*$)*Ae+(z*K-Y*Q-Z*$-J*q)*he-(Y*q+(K*Z+z*$)-Q*J)*de;he=-((z*Y+Q*K+Z*J-q*$)*de)-(Y*q+(K*Z+z*$)-Q*J)*Ae-(z*J+K*q+Q*$-Y*Z)*he;Ae=-(z*Y+Q*K+Z*J-q*$);de=-(Y*q+(K*Z+z*$)-Q*J);pe=-(z*J+K*q+Q*$-Y*Z);c[e+536>>2]=me*pe+(he*Ae+(z*K-Y*Q-Z*$-J*q)*ue)-be*de;c[e+540>>2]=be*Ae+((z*K-Y*Q-Z*$-J*q)*me+he*de)-ue*pe;c[e+544>>2]=ue*de+(he*pe+(z*K-Y*Q-Z*$-J*q)*be)-me*Ae;c[e+548>>2]=0.0;ae=fe;return}function ko(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0,a=0.0,l=0,_=0.0,u=0.0,f=0,d=0.0,h=0,p=0.0,b=0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ae=0.0,ce=0.0,le=0.0,_e=0.0,ue=0,fe=0,de=0;fe=o[e+28>>2]|0;de=o[e+32>>2]|0;ue=o[t+24>>2]|0;if(!(n[e+739>>0]|0)){_=+c[e+552>>2];G=+c[fe+4>>2];u=+c[e+568>>2];W=+c[fe+8>>2];d=+c[e+584>>2];X=+c[fe+12>>2];p=+c[e+556>>2];A=+c[e+572>>2];g=+c[e+588>>2];z=+c[e+560>>2];Y=+c[e+576>>2];Q=+c[e+592>>2];K=+c[fe+20>>2];Z=+c[fe+24>>2];J=+c[fe+28>>2];q=+c[fe+36>>2];$=+c[fe+40>>2];ee=+c[fe+44>>2];y=+c[e+600>>2];C=+c[e+604>>2];E=+c[e+608>>2];S=+c[fe+52>>2];T=+c[fe+56>>2];R=+c[fe+60>>2];M=+c[de+4>>2];O=+c[de+8>>2];I=+c[de+12>>2];x=+c[e+624>>2];P=+c[e+640>>2];D=+c[e+656>>2];w=+c[de+20>>2];L=+c[de+24>>2];F=+c[de+28>>2];N=+c[de+36>>2];B=+c[de+40>>2];k=+c[de+44>>2];le=+c[e+664>>2];_e=+c[e+668>>2];H=+c[e+672>>2];U=+c[de+52>>2]+(M*le+O*_e+I*H);j=w*le+L*_e+F*H+ +c[de+56>>2];H=N*le+B*_e+k*H+ +c[de+60>>2];l=(n[e+736>>0]|0)==0;if(l){s=o[t+8>>2]|0;c[s>>2]=1.0;c[s+(ue+1<<2)>>2]=1.0;c[s+((ue<<1)+2<<2)>>2]=1.0;s=o[t+16>>2]|0;c[s>>2]=-1.0;c[s+(ue+1<<2)>>2]=-1.0;c[s+((ue<<1)+2<<2)>>2]=-1.0;i=+c[fe+52>>2];r=+c[fe+56>>2];a=+c[fe+60>>2];s=ue<<1}else{i=S;r=T;a=R;s=ue<<1}i=S+(G*y+W*C+X*E)-i;_e=K*y+Z*C+J*E+T-r;le=q*y+$*C+ee*E+R-a;f=o[t+12>>2]|0;h=f+(s<<2)|0;o[f>>2]=0;c[f+4>>2]=le;c[f+8>>2]=-_e;c[f+12>>2]=0.0;c[f+(ue<<2)>>2]=-le;o[f+(ue<<2)+4>>2]=0;c[f+(ue<<2)+8>>2]=i;c[f+(ue<<2)+12>>2]=0.0;c[h>>2]=_e;c[h+4>>2]=-i;o[h+8>>2]=0;c[h+12>>2]=0.0;i=U-+c[de+52>>2];_e=j-+c[de+56>>2];le=H-+c[de+60>>2];h=o[t+20>>2]|0;V=h+(s<<2)|0;o[h>>2]=0;c[h+4>>2]=-le;c[h+8>>2]=_e;c[h+12>>2]=0.0;c[h+(ue<<2)>>2]=le;o[h+(ue<<2)+4>>2]=0;c[h+(ue<<2)+8>>2]=-i;c[h+(ue<<2)+12>>2]=0.0;c[V>>2]=-_e;c[V+4>>2]=i;o[V+8>>2]=0;c[V+12>>2]=0.0;i=+c[t>>2]*+c[t+4>>2];V=o[t+28>>2]|0;if(l){c[V>>2]=i*(U-(S+(G*y+W*C+X*E)));c[V+(ue<<2)>>2]=i*(j-(K*y+Z*C+J*E+T));c[V+(ue<<1<<2)>>2]=i*(H-(q*y+$*C+ee*E+R))}c[f+(ue*3<<2)>>2]=_*G+u*W+d*X;c[f+((ue*3|0)+1<<2)>>2]=_*K+u*Z+d*J;c[f+((ue*3|0)+2<<2)>>2]=_*q+u*$+d*ee;c[f+(ue<<2<<2)>>2]=G*p+W*A+X*g;c[f+((ue<<2|1)<<2)>>2]=p*K+A*Z+g*J;c[f+((ue<<2|2)<<2)>>2]=p*q+A*$+g*ee;c[h+(ue*3<<2)>>2]=-(_*G+u*W+d*X);c[h+((ue*3|0)+1<<2)>>2]=-(_*K+u*Z+d*J);c[h+((ue*3|0)+2<<2)>>2]=-(_*q+u*$+d*ee);c[h+(ue<<2<<2)>>2]=-(G*p+W*A+X*g);c[h+((ue<<2|1)<<2)>>2]=-(p*K+A*Z+g*J);c[h+((ue<<2|2)<<2)>>2]=-(p*q+A*$+g*ee);le=(z*K+Y*Z+Q*J)*(x*N+P*B+D*k)-(z*q+Y*$+Q*ee)*(x*w+P*L+D*F);_e=(z*q+Y*$+Q*ee)*(M*x+O*P+I*D)-(G*z+W*Y+X*Q)*(x*N+P*B+D*k);ce=(G*z+W*Y+X*Q)*(x*w+P*L+D*F)-(z*K+Y*Z+Q*J)*(M*x+O*P+I*D);c[V+(ue*3<<2)>>2]=((_*q+u*$+d*ee)*ce+((_*G+u*W+d*X)*le+(_*K+u*Z+d*J)*_e))*i;c[V+(ue<<2<<2)>>2]=((p*q+A*$+g*ee)*ce+((G*p+W*A+X*g)*le+(p*K+A*Z+g*J)*_e))*i;if(!(n[e+716>>0]|0)){m=0;p=0.0}else{p=+c[e+708>>2]*+c[e+732>>2];m=p>0.0?1:2}s=n[e+737>>0]|0;b=(m|0)!=0;if(!(m|s&255))return;c[f+(ue*5<<2)>>2]=G*z+W*Y+X*Q;c[f+((ue*5|0)+1<<2)>>2]=z*K+Y*Z+Q*J;c[f+((ue*5|0)+2<<2)>>2]=z*q+Y*$+Q*ee;c[h+(ue*5<<2)>>2]=-(G*z+W*Y+X*Q);c[h+((ue*5|0)+1<<2)>>2]=-(z*K+Y*Z+Q*J);c[h+((ue*5|0)+2<<2)>>2]=-(z*q+Y*$+Q*ee);i=+c[e+688>>2];r=+c[e+692>>2];if(!((i-r)%6.2831854820251465<-3.1415927410125732)){if((i-r)%6.2831854820251465>3.1415927410125732)d=(i-r)%6.2831854820251465+-6.2831854820251465;else d=(i-r)%6.2831854820251465}else d=(i-r)%6.2831854820251465+6.2831854820251465;if(!((i+r)%6.2831854820251465<-3.1415927410125732)){if((i+r)%6.2831854820251465>3.1415927410125732)u=(i+r)%6.2831854820251465+-6.2831854820251465;else u=(i+r)%6.2831854820251465}else u=(i+r)%6.2831854820251465+6.2831854820251465;f=d==u;h=V+(ue*5<<2)|0;c[h>>2]=0.0;l=o[e+748>>2]|0;_=+c[((l&2|0)==0?t+4|0:e+760|0)>>2];if(!(s<<24>>24==0|b&f)){if(l&4|0)o[(o[t+32>>2]|0)+(ue*5<<2)>>2]=o[e+752>>2];r=+c[e+728>>2];a=+c[e+680>>2];i=d>u?1.0:0.0;do{if(!(d>=u)){i=a/(_*+c[t>>2]);if(i<0.0)if(r>=d&d-i>r){i=(d-r)/i;break}else{i=r<d?0.0:1.0;break}if(i>0.0){if(r<=u&u-i<r){i=(u-r)/i;break}else{i=r>u?0.0:1.0;break}}else i=0.0}}while(0);c[h>>2]=i*a*+c[e+732>>2]+ +c[h>>2];c[(o[t+36>>2]|0)+(ue*5<<2)>>2]=-+c[e+684>>2];o[(o[t+40>>2]|0)+(ue*5<<2)>>2]=o[e+684>>2]}if(!b)return;c[h>>2]=+c[h>>2]+p*(_*+c[t>>2]);if(l&1|0)o[(o[t+32>>2]|0)+(ue*5<<2)>>2]=o[e+756>>2];do{if(!f){s=(o[t+36>>2]|0)+(ue*5<<2)|0;if((m|0)==1){c[s>>2]=0.0;i=3402823466385288598117041.0e14;break}else{c[s>>2]=-3402823466385288598117041.0e14;i=0.0;break}}else{c[(o[t+36>>2]|0)+(ue*5<<2)>>2]=-3402823466385288598117041.0e14;i=3402823466385288598117041.0e14}}while(0);c[(o[t+40>>2]|0)+(ue*5<<2)>>2]=i;r=+c[e+704>>2];do{if(r>0.0){i=(G*z+W*Y+X*Q)*+c[fe+328>>2]+(z*K+Y*Z+Q*J)*+c[fe+332>>2]+(z*q+Y*$+Q*ee)*+c[fe+336>>2]-((G*z+W*Y+X*Q)*+c[de+328>>2]+(z*K+Y*Z+Q*J)*+c[de+332>>2]+(z*q+Y*$+Q*ee)*+c[de+336>>2]);if((m|0)==1){if(!(i<0.0))break;if(!(+c[h>>2]<-(r*i)))break;c[h>>2]=-(r*i);break}else{if(!(i>0.0))break;if(!(+c[h>>2]>-(r*i)))break;c[h>>2]=-(r*i);break}}}while(0);c[h>>2]=+c[e+700>>2]*+c[h>>2];return}re=+c[fe+4>>2];oe=+c[fe+8>>2];se=+c[fe+12>>2];d=+c[e+556>>2];p=+c[e+572>>2];A=+c[e+588>>2];N=+c[e+560>>2];B=+c[e+576>>2];k=+c[e+592>>2];U=+c[fe+20>>2];H=+c[fe+24>>2];j=+c[fe+28>>2];G=+c[fe+36>>2];W=+c[fe+40>>2];X=+c[fe+44>>2];M=+c[e+600>>2];I=+c[e+604>>2];O=+c[e+608>>2];r=+c[fe+52>>2];g=+c[fe+56>>2];_=+c[fe+60>>2];z=+c[de+4>>2];Y=+c[de+8>>2];Q=+c[de+12>>2];K=+c[e+624>>2];Z=+c[e+640>>2];J=+c[e+656>>2];q=+c[de+20>>2];$=+c[de+24>>2];ee=+c[de+28>>2];te=+c[de+36>>2];ie=+c[de+40>>2];ne=+c[de+44>>2];R=+c[e+664>>2];T=+c[e+668>>2];i=+c[e+672>>2];a=+c[de+52>>2];y=+c[de+56>>2];u=+c[de+60>>2];P=a+(z*R+Y*T+Q*i)-(r+(re*M+oe*I+se*O));w=q*R+$*T+ee*i+y-(U*M+H*I+j*O+g);D=te*R+ie*T+ne*i+u-(G*M+W*I+X*O+_);C=+c[(o[e+28>>2]|0)+344>>2];E=+c[(o[e+32>>2]|0)+344>>2];x=C+E>0.0?E/(C+E):.5;ae=(re*N+oe*B+se*k)*x+(z*K+Y*Z+Q*J)*(1.0-x);le=(N*U+B*H+k*j)*x+(K*q+Z*$+J*ee)*(1.0-x);ce=(N*G+B*W+k*X)*x+(K*te+Z*ie+J*ne)*(1.0-x);_e=1.0/+v(+(ce*ce+(ae*ae+le*le)));S=(te*R+ie*T+ne*i+u-u)*(ce*_e)+((a+(z*R+Y*T+Q*i)-a)*(ae*_e)+(q*R+$*T+ee*i+y-y)*(le*_e));a=a+(z*R+Y*T+Q*i)-a-ae*_e*S;y=q*R+$*T+ee*i+y-y-le*_e*S;u=te*R+ie*T+ne*i+u-u-ce*_e*S;i=(G*M+W*I+X*O+_-_)*(ce*_e)+((r+(re*M+oe*I+se*O)-r)*(ae*_e)+(U*M+H*I+j*O+g-g)*(le*_e));r=r+(re*M+oe*I+se*O)-r-ae*_e*i;g=U*M+H*I+j*O+g-g-le*_e*i;_=G*M+W*I+X*O+_-_-ce*_e*i;O=r+x*(ae*_e*i-ae*_e*S);I=g+x*(le*_e*i-le*_e*S);M=_+x*(ce*_e*i-ce*_e*S);T=a-(1.0-x)*(ae*_e*i-ae*_e*S);R=y-(1.0-x)*(le*_e*i-le*_e*S);S=u-(1.0-x)*(ce*_e*i-ce*_e*S);i=(x*u+(1.0-x)*_)*(x*u+(1.0-x)*_)+((x*a+(1.0-x)*r)*(x*a+(1.0-x)*r)+(x*y+(1.0-x)*g)*(x*y+(1.0-x)*g));if(i>1.1920928955078125e-07){p=1.0/+v(+i);F=(x*a+(1.0-x)*r)*p;L=(x*u+(1.0-x)*_)*p;p=(x*y+(1.0-x)*g)*p}else{F=re*d+oe*p+se*A;L=d*G+p*W+A*X;p=d*U+p*H+A*j}A=le*_e*L-ce*_e*p;g=ce*_e*F-ae*_e*L;y=ae*_e*p-le*_e*F;V=o[t+12>>2]|0;c[V>>2]=I*L-M*p;c[V+4>>2]=M*F-O*L;c[V+8>>2]=O*p-I*F;V=o[t+20>>2]|0;c[V>>2]=-(R*L-S*p);c[V+4>>2]=-(S*F-T*L);c[V+8>>2]=-(T*p-R*F);if(C<1.1920928955078125e-07|E<1.1920928955078125e-07?(n[e+716>>0]|0)!=0:0){i=(1.0-x)*(R*y-S*g);r=(1.0-x)*(S*A-T*y);a=(1.0-x)*(T*g-R*A);_=x*(I*y-M*g);u=x*(M*A-O*y);d=x*(O*g-I*A)}else{i=R*y-S*g;r=S*A-T*y;a=T*g-R*A;_=I*y-M*g;u=M*A-O*y;d=O*g-I*A}V=(o[t+12>>2]|0)+(ue<<2)|0;c[V>>2]=_;c[V+4>>2]=u;c[V+8>>2]=d;V=o[t+20>>2]|0;c[V+(ue<<2)>>2]=-i;c[V+(ue+1<<2)>>2]=-r;c[V+(ue+2<<2)>>2]=-a;if(C<1.1920928955078125e-07|E<1.1920928955078125e-07){d=(1.0-x)*(R*(ce*_e)-S*(le*_e));u=(1.0-x)*(S*(ae*_e)-T*(ce*_e));_=(1.0-x)*(T*(le*_e)-R*(ae*_e));a=x*(I*(ce*_e)-M*(le*_e));r=x*(M*(ae*_e)-O*(ce*_e));i=x*(O*(le*_e)-I*(ae*_e))}else{d=R*(ce*_e)-S*(le*_e);u=S*(ae*_e)-T*(ce*_e);_=T*(le*_e)-R*(ae*_e);a=I*(ce*_e)-M*(le*_e);r=M*(ae*_e)-O*(ce*_e);i=O*(le*_e)-I*(ae*_e)}s=(o[t+12>>2]|0)+(ue<<1<<2)|0;c[s>>2]=a;c[s+4>>2]=r;c[s+8>>2]=i;s=o[t+20>>2]|0;c[s+(ue<<1<<2)>>2]=-d;c[s+((ue<<1|1)<<2)>>2]=-u;c[s+((ue<<1)+2<<2)>>2]=-_;i=+c[t>>2]*+c[t+4>>2];if(!(n[e+736>>0]|0)){h=o[t+8>>2]|0;c[h>>2]=F;c[h+4>>2]=p;c[h+8>>2]=L;h=(o[t+8>>2]|0)+(ue<<2)|0;c[h>>2]=A;c[h+4>>2]=g;c[h+8>>2]=y;h=(o[t+8>>2]|0)+(ue<<1<<2)|0;c[h>>2]=ae*_e;c[h+4>>2]=le*_e;c[h+8>>2]=ce*_e;h=o[t+16>>2]|0;r=-F;c[h>>2]=r;c[h+4>>2]=-p;c[h+8>>2]=-L;c[h+(ue<<2)>>2]=-A;c[h+(ue+1<<2)>>2]=-g;c[h+(ue+2<<2)>>2]=-y;c[h+(ue<<1<<2)>>2]=-(ae*_e);c[h+((ue<<1|1)<<2)>>2]=-(le*_e);c[h+((ue<<1)+2<<2)>>2]=-(ce*_e);h=o[t+28>>2]|0;c[h>>2]=i*(P*F+w*p+D*L);c[h+(ue<<2)>>2]=i*(P*A+w*g+D*y);c[h+(ue<<1<<2)>>2]=i*(P*(ae*_e)+w*(le*_e)+D*(ce*_e));f=o[t+20>>2]|0;i=r;r=-A;a=-g;_=-y}else{f=s;h=o[t+28>>2]|0;i=-F;r=-A;a=-g;_=-y}l=o[t+12>>2]|0;c[l+(ue*3<<2)>>2]=F;c[l+((ue*3|0)+1<<2)>>2]=p;c[l+((ue*3|0)+2<<2)>>2]=L;c[l+(ue<<2<<2)>>2]=A;c[l+((ue<<2|1)<<2)>>2]=g;c[l+((ue<<2|2)<<2)>>2]=y;c[f+(ue*3<<2)>>2]=i;c[f+((ue*3|0)+1<<2)>>2]=-p;c[f+((ue*3|0)+2<<2)>>2]=-L;c[f+(ue<<2<<2)>>2]=r;c[f+((ue<<2|1)<<2)>>2]=a;c[f+((ue<<2|2)<<2)>>2]=_;D=+c[t>>2]*+c[t+4>>2];w=(N*U+B*H+k*j)*(K*te+Z*ie+J*ne)-(N*G+B*W+k*X)*(K*q+Z*$+J*ee);ne=(N*G+B*W+k*X)*(z*K+Y*Z+Q*J)-(re*N+oe*B+se*k)*(K*te+Z*ie+J*ne);se=(re*N+oe*B+se*k)*(K*q+Z*$+J*ee)-(N*U+B*H+k*j)*(z*K+Y*Z+Q*J);c[h+(ue*3<<2)>>2]=D*(w*F+ne*p+se*L);c[h+(ue<<2<<2)>>2]=D*(w*A+ne*g+se*y);if(!(n[e+716>>0]|0)){m=0;p=0.0}else{p=+c[e+708>>2]*+c[e+732>>2];m=p>0.0?1:2}s=n[e+737>>0]|0;b=(m|0)!=0;if(!(m|s&255))return;c[l+(ue*5<<2)>>2]=ae*_e;c[l+((ue*5|0)+1<<2)>>2]=le*_e;c[l+((ue*5|0)+2<<2)>>2]=ce*_e;c[f+(ue*5<<2)>>2]=-(ae*_e);c[f+((ue*5|0)+1<<2)>>2]=-(le*_e);c[f+((ue*5|0)+2<<2)>>2]=-(ce*_e);i=+c[e+688>>2];r=+c[e+692>>2];if(!((i-r)%6.2831854820251465<-3.1415927410125732)){if((i-r)%6.2831854820251465>3.1415927410125732)d=(i-r)%6.2831854820251465+-6.2831854820251465;else d=(i-r)%6.2831854820251465}else d=(i-r)%6.2831854820251465+6.2831854820251465;if(!((i+r)%6.2831854820251465<-3.1415927410125732)){if((i+r)%6.2831854820251465>3.1415927410125732)u=(i+r)%6.2831854820251465+-6.2831854820251465;else u=(i+r)%6.2831854820251465}else u=(i+r)%6.2831854820251465+6.2831854820251465;f=d==u;h=h+(ue*5<<2)|0;c[h>>2]=0.0;l=o[e+748>>2]|0;_=+c[((l&2|0)==0?t+4|0:e+760|0)>>2];if(!(s<<24>>24==0|b&f)){if(l&4|0)o[(o[t+32>>2]|0)+(ue*5<<2)>>2]=o[e+752>>2];r=+c[e+728>>2];a=+c[e+680>>2];i=d>u?1.0:0.0;do{if(!(d>=u)){i=a/(_*+c[t>>2]);if(i<0.0)if(r>=d&d-i>r){i=(d-r)/i;break}else{i=r<d?0.0:1.0;break}if(i>0.0){if(r<=u&u-i<r){i=(u-r)/i;break}else{i=r>u?0.0:1.0;break}}else i=0.0}}while(0);c[h>>2]=i*a*+c[e+732>>2]+ +c[h>>2];c[(o[t+36>>2]|0)+(ue*5<<2)>>2]=-+c[e+684>>2];o[(o[t+40>>2]|0)+(ue*5<<2)>>2]=o[e+684>>2]}if(!b)return;c[h>>2]=+c[h>>2]+p*(_*+c[t>>2]);if(l&1|0)o[(o[t+32>>2]|0)+(ue*5<<2)>>2]=o[e+756>>2];do{if(!f){s=(o[t+36>>2]|0)+(ue*5<<2)|0;if((m|0)==1){c[s>>2]=0.0;i=3402823466385288598117041.0e14;break}else{c[s>>2]=-3402823466385288598117041.0e14;i=0.0;break}}else{c[(o[t+36>>2]|0)+(ue*5<<2)>>2]=-3402823466385288598117041.0e14;i=3402823466385288598117041.0e14}}while(0);c[(o[t+40>>2]|0)+(ue*5<<2)>>2]=i;r=+c[e+704>>2];do{if(r>0.0){i=+c[fe+328>>2]*(ae*_e)+ +c[fe+332>>2]*(le*_e)+ +c[fe+336>>2]*(ce*_e)-(+c[de+328>>2]*(ae*_e)+ +c[de+332>>2]*(le*_e)+ +c[de+336>>2]*(ce*_e));if((m|0)==1){if(!(i<0.0))break;if(!(+c[h>>2]<-(r*i)))break;c[h>>2]=-(r*i);break}else{if(!(i>0.0))break;if(!(+c[h>>2]>-(r*i)))break;c[h>>2]=-(r*i);break}}}while(0);c[h>>2]=+c[e+700>>2]*+c[h>>2];return}function Uo(e,t,i,s,a,l){e=e|0;t=t|0;i=i|0;s=s|0;a=a|0;l=+l;var _=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,C=0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0,x=0,P=0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0;P=ae;ae=ae+896|0;x=o[s+4>>2]|0;I=o[s+12>>2]|0;_=o[x+4>>2]|0;if((_|0)<20){o[P+712>>2]=4752;o[P+712+168>>2]=0;c[P+712+172>>2]=l;o[P+712+164>>2]=o[a+4>>2];c[P+352+308>>2]=9.999999747378752e-05;n[P+352+332>>0]=0;o[P+288>>2]=10432;o[P+64>>2]=10500;o[P+64+4>>2]=P+352;o[P+64+8>>2]=P+288;o[P+64+12>>2]=e;o[P+64+16>>2]=x;o[P+64+20>>2]=0;if((fr(P+64|0,t,i,I,I,P+712|0)|0?(y=P+712+132|0,A=+c[y>>2],u=+c[P+712+136>>2],f=+c[P+712+140>>2],A*A+u*u+f*f>9.999999747378752e-05):0)?(d=+c[P+712+164>>2],d<+c[a+4>>2]):0){l=1.0/+v(+(A*A+u*u+f*f));c[y>>2]=A*l;c[P+712+136>>2]=u*l;c[P+712+140>>2]=f*l;o[P+16>>2]=o[s+8>>2];o[P+16+4>>2]=0;o[P+16+8>>2]=o[y>>2];o[P+16+8+4>>2]=o[y+4>>2];o[P+16+8+8>>2]=o[y+8>>2];o[P+16+8+12>>2]=o[y+12>>2];o[P+16+24>>2]=o[P+712+148>>2];o[P+16+24+4>>2]=o[P+712+148+4>>2];o[P+16+24+8>>2]=o[P+712+148+8>>2];o[P+16+24+12>>2]=o[P+712+148+12>>2];c[P+16+40>>2]=d;+sF[o[(o[a>>2]|0)+12>>2]&15](a,P+16|0,1)}ae=P;return}if((_+-21|0)>>>0>=9){if((_|0)!=31){ae=P;return}La(17838);if((o[x+16>>2]|0)>0){_=0;do{y=o[x+24>>2]|0;u=+c[y+(_*80|0)>>2];h=+c[y+(_*80|0)+4>>2];m=+c[y+(_*80|0)+8>>2];f=+c[y+(_*80|0)+16>>2];p=+c[y+(_*80|0)+20>>2];g=+c[y+(_*80|0)+24>>2];d=+c[y+(_*80|0)+32>>2];b=+c[y+(_*80|0)+36>>2];S=+c[y+(_*80|0)+40>>2];U=+c[y+(_*80|0)+48>>2];k=+c[y+(_*80|0)+52>>2];O=+c[y+(_*80|0)+56>>2];y=o[y+(_*80|0)+64>>2]|0;B=+c[I>>2];N=+c[I+4>>2];F=+c[I+8>>2];L=+c[I+16>>2];w=+c[I+20>>2];D=+c[I+24>>2];A=+c[I+32>>2];E=+c[I+36>>2];T=+c[I+40>>2];R=U*B+k*N+O*F+ +c[I+48>>2];M=U*L+k*w+O*D+ +c[I+52>>2];O=U*A+k*E+O*T+ +c[I+56>>2];c[P+712>>2]=u*B+f*N+d*F;c[P+712+4>>2]=h*B+p*N+b*F;c[P+712+8>>2]=m*B+g*N+S*F;c[P+712+12>>2]=0.0;c[P+712+16>>2]=u*L+f*w+d*D;c[P+712+20>>2]=h*L+p*w+b*D;c[P+712+24>>2]=m*L+g*w+S*D;c[P+712+28>>2]=0.0;c[P+712+32>>2]=u*A+f*E+d*T;c[P+712+36>>2]=h*A+p*E+b*T;c[P+712+40>>2]=m*A+g*E+S*T;c[P+712+44>>2]=0.0;c[P+712+48>>2]=R;c[P+712+52>>2]=M;c[P+712+56>>2]=O;c[P+712+60>>2]=0.0;r[P+352+8>>1]=1;r[P+352+10>>1]=-1;o[P+352>>2]=7024;o[P+352+12>>2]=a;o[P+352+16>>2]=_;o[P+352+4>>2]=o[a+4>>2];C=o[s+8>>2]|0;o[P+288>>2]=s;o[P+288+4>>2]=y;o[P+288+8>>2]=C;o[P+288+12>>2]=P+712;o[P+288+16>>2]=-1;o[P+288+20>>2]=_;Uo(e,t,i,P+288|0,P+352|0,l);_=_+1|0}while((_|0)<(o[x+16>>2]|0))}_=o[2685]|0;x=(o[_+16>>2]|0)+-1|0;o[_+16>>2]=x;if(x|0){ae=P;return}do{if(o[_+4>>2]|0){$(P+712|0,0)|0;x=o[6746]|0;c[_+8>>2]=+c[_+8>>2]+ +(((o[P+712+4>>2]|0)-(o[x+4>>2]|0)+(((o[P+712>>2]|0)-(o[x>>2]|0)|0)*1e6|0)-(o[_+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[_+16>>2]|0)){_=o[2685]|0;break}else{ae=P;return}}}while(0);o[2685]=o[_+20>>2];ae=P;return}switch(_|0){case 21:{u=+c[I>>2];f=+c[I+16>>2];d=+c[I+32>>2];h=+c[I+4>>2];p=+c[I+20>>2];b=+c[I+36>>2];m=+c[I+8>>2];A=+c[I+24>>2];g=+c[I+40>>2];R=-+c[I+48>>2];M=-+c[I+52>>2];O=-+c[I+56>>2];T=+c[t+48>>2];S=+c[t+52>>2];E=+c[t+56>>2];c[P+352>>2]=u*R+f*M+d*O+(u*T+f*S+d*E);c[P+352+4>>2]=h*R+p*M+b*O+(h*T+p*S+b*E);c[P+352+8>>2]=m*R+A*M+g*O+(m*T+A*S+g*E);c[P+352+12>>2]=0.0;E=+c[i+48>>2];S=+c[i+52>>2];T=+c[i+56>>2];H=+c[i>>2];D=+c[i+16>>2];w=+c[i+32>>2];L=+c[i+4>>2];F=+c[i+20>>2];N=+c[i+36>>2];B=+c[i+8>>2];k=+c[i+24>>2];U=+c[i+40>>2];c[P+288>>2]=u*H+f*D+d*w;c[P+288+4>>2]=u*L+f*F+d*N;c[P+288+8>>2]=u*B+f*k+d*U;c[P+288+12>>2]=0.0;c[P+288+16>>2]=h*H+p*D+b*w;c[P+288+20>>2]=h*L+p*F+b*N;c[P+288+24>>2]=h*B+p*k+b*U;c[P+288+28>>2]=0.0;c[P+288+32>>2]=m*H+A*D+g*w;c[P+288+36>>2]=m*L+A*F+g*N;c[P+288+40>>2]=m*B+A*k+g*U;_=P+288+44|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;_=o[s+8>>2]|0;U=+nF[o[(o[x>>2]|0)+48>>2]&15](x);o[P+64>>2]=10360;o[P+64+4>>2]=e;o[P+64+8>>2]=o[t>>2];o[P+64+8+4>>2]=o[t+4>>2];o[P+64+8+8>>2]=o[t+8>>2];o[P+64+8+12>>2]=o[t+12>>2];o[P+64+24>>2]=o[t+16>>2];o[P+64+24+4>>2]=o[t+16+4>>2];o[P+64+24+8>>2]=o[t+16+8>>2];o[P+64+24+12>>2]=o[t+16+12>>2];o[P+64+40>>2]=o[t+32>>2];o[P+64+40+4>>2]=o[t+32+4>>2];o[P+64+40+8>>2]=o[t+32+8>>2];o[P+64+40+12>>2]=o[t+32+12>>2];o[P+64+56>>2]=o[t+48>>2];o[P+64+56+4>>2]=o[t+48+4>>2];o[P+64+56+8>>2]=o[t+48+8>>2];o[P+64+56+12>>2]=o[t+48+12>>2];o[P+64+72>>2]=o[i>>2];o[P+64+72+4>>2]=o[i+4>>2];o[P+64+72+8>>2]=o[i+8>>2];o[P+64+72+12>>2]=o[i+12>>2];o[P+64+88>>2]=o[i+16>>2];o[P+64+88+4>>2]=o[i+16+4>>2];o[P+64+88+8>>2]=o[i+16+8>>2];o[P+64+88+12>>2]=o[i+16+12>>2];o[P+64+104>>2]=o[i+32>>2];o[P+64+104+4>>2]=o[i+32+4>>2];o[P+64+104+8>>2]=o[i+32+8>>2];o[P+64+104+12>>2]=o[i+32+12>>2];o[P+64+120>>2]=o[i+48>>2];o[P+64+120+4>>2]=o[i+48+4>>2];o[P+64+120+8>>2]=o[i+48+8>>2];o[P+64+120+12>>2]=o[i+48+12>>2];o[P+64+136>>2]=o[I>>2];o[P+64+136+4>>2]=o[I+4>>2];o[P+64+136+8>>2]=o[I+8>>2];o[P+64+136+12>>2]=o[I+12>>2];o[P+64+152>>2]=o[I+16>>2];o[P+64+152+4>>2]=o[I+16+4>>2];o[P+64+152+8>>2]=o[I+16+8>>2];o[P+64+152+12>>2]=o[I+16+12>>2];o[P+64+168>>2]=o[I+32>>2];o[P+64+168+4>>2]=o[I+32+4>>2];o[P+64+168+8>>2]=o[I+32+8>>2];o[P+64+168+12>>2]=o[I+32+12>>2];o[P+64+184>>2]=o[I+48>>2];o[P+64+184+4>>2]=o[I+48+4>>2];o[P+64+184+8>>2]=o[I+48+8>>2];o[P+64+184+12>>2]=o[I+48+12>>2];c[P+64+204>>2]=U;o[P+64>>2]=6976;o[P+64+212>>2]=a;o[P+64+216>>2]=_;o[P+64+220>>2]=x;o[P+64+200>>2]=o[a+4>>2];c[P+64+208>>2]=l;BF[o[(o[e>>2]|0)+8>>2]&127](e,P+288|0,P+16|0,P);_=o[x+48>>2]|0;o[P+712>>2]=8116;o[P+712+4>>2]=_;o[P+712+8>>2]=P+64;_=o[x+52>>2]|0;if(!(n[_+60>>0]|0))so(_,P+712|0,P+352|0,u*R+f*M+d*O+(u*E+f*S+d*T),h*R+p*M+b*O+(h*E+p*S+b*T),m*R+A*M+g*O+(m*E+A*S+g*T),P+16|0,P);else kr(_,P+712|0,P+352|0,u*R+f*M+d*O+(u*E+f*S+d*T),h*R+p*M+b*O+(h*E+p*S+b*T),m*R+A*M+g*O+(m*E+A*S+g*T),P+16|0,P,o[_+56>>2]|0);ae=P;return}case 28:{o[P+712>>2]=4752;o[P+712+168>>2]=0;c[P+712+172>>2]=l;o[P+712+164>>2]=o[a+4>>2];o[P+352>>2]=10500;o[P+352+4>>2]=0;o[P+352+8>>2]=0;o[P+352+12>>2]=e;o[P+352+16>>2]=0;o[P+352+20>>2]=x;if((fr(P+352|0,t,i,I,I,P+712|0)|0?(C=P+712+132|0,h=+c[C>>2],p=+c[P+712+136>>2],b=+c[P+712+140>>2],h*h+p*p+b*b>9.999999747378752e-05):0)?(m=+c[P+712+164>>2],m<+c[a+4>>2]):0){H=1.0/+v(+(h*h+p*p+b*b));c[C>>2]=h*H;c[P+712+136>>2]=p*H;c[P+712+140>>2]=b*H;o[P+288>>2]=o[s+8>>2];o[P+288+4>>2]=0;o[P+288+8>>2]=o[C>>2];o[P+288+8+4>>2]=o[C+4>>2];o[P+288+8+8>>2]=o[C+8>>2];o[P+288+8+12>>2]=o[C+12>>2];o[P+288+24>>2]=o[P+712+148>>2];o[P+288+24+4>>2]=o[P+712+148+4>>2];o[P+288+24+8>>2]=o[P+712+148+8>>2];o[P+288+24+12>>2]=o[P+712+148+12>>2];c[P+288+40>>2]=m;+sF[o[(o[a>>2]|0)+12>>2]&15](a,P+288|0,1)}ae=P;return}default:{h=+c[I>>2];p=+c[I+16>>2];b=+c[I+32>>2];E=+c[I+4>>2];S=+c[I+20>>2];T=+c[I+36>>2];F=+c[I+8>>2];B=+c[I+24>>2];U=+c[I+40>>2];w=-+c[I+48>>2];D=-+c[I+52>>2];O=-+c[I+56>>2];R=+c[t+48>>2];M=+c[t+52>>2];g=+c[t+56>>2];m=h*w+p*D+b*O+(h*R+p*M+b*g);A=E*w+S*D+T*O+(E*R+S*M+T*g);g=F*w+B*D+U*O+(F*R+B*M+U*g);M=+c[i+48>>2];R=+c[i+52>>2];u=+c[i+56>>2];d=h*w+p*D+b*O+(h*M+p*R+b*u);f=E*w+S*D+T*O+(E*M+S*R+T*u);u=F*w+B*D+U*O+(F*M+B*R+U*u);R=+c[i>>2];M=+c[i+16>>2];O=+c[i+32>>2];D=+c[i+4>>2];w=+c[i+20>>2];L=+c[i+36>>2];N=+c[i+8>>2];k=+c[i+24>>2];H=+c[i+40>>2];c[P+712>>2]=h*R+p*M+b*O;c[P+712+4>>2]=h*D+p*w+b*L;c[P+712+8>>2]=h*N+p*k+b*H;c[P+712+12>>2]=0.0;c[P+712+16>>2]=E*R+S*M+T*O;c[P+712+20>>2]=E*D+S*w+T*L;c[P+712+24>>2]=E*N+S*k+T*H;c[P+712+28>>2]=0.0;c[P+712+32>>2]=F*R+B*M+U*O;c[P+712+36>>2]=F*D+B*w+U*L;c[P+712+40>>2]=F*N+B*k+U*H;C=P+712+44|0;o[C>>2]=0;o[C+4>>2]=0;o[C+8>>2]=0;o[C+12>>2]=0;o[C+16>>2]=0;s=o[s+8>>2]|0;H=+nF[o[(o[x>>2]|0)+48>>2]&15](x);o[P+352>>2]=10360;o[P+352+4>>2]=e;o[P+352+8>>2]=o[t>>2];o[P+352+8+4>>2]=o[t+4>>2];o[P+352+8+8>>2]=o[t+8>>2];o[P+352+8+12>>2]=o[t+12>>2];o[P+352+24>>2]=o[t+16>>2];o[P+352+24+4>>2]=o[t+16+4>>2];o[P+352+24+8>>2]=o[t+16+8>>2];o[P+352+24+12>>2]=o[t+16+12>>2];o[P+352+40>>2]=o[t+32>>2];o[P+352+40+4>>2]=o[t+32+4>>2];o[P+352+40+8>>2]=o[t+32+8>>2];o[P+352+40+12>>2]=o[t+32+12>>2];o[P+352+56>>2]=o[t+48>>2];o[P+352+56+4>>2]=o[t+48+4>>2];o[P+352+56+8>>2]=o[t+48+8>>2];o[P+352+56+12>>2]=o[t+48+12>>2];o[P+352+72>>2]=o[i>>2];o[P+352+72+4>>2]=o[i+4>>2];o[P+352+72+8>>2]=o[i+8>>2];o[P+352+72+12>>2]=o[i+12>>2];o[P+352+88>>2]=o[i+16>>2];o[P+352+88+4>>2]=o[i+16+4>>2];o[P+352+88+8>>2]=o[i+16+8>>2];o[P+352+88+12>>2]=o[i+16+12>>2];o[P+352+104>>2]=o[i+32>>2];o[P+352+104+4>>2]=o[i+32+4>>2];o[P+352+104+8>>2]=o[i+32+8>>2];o[P+352+104+12>>2]=o[i+32+12>>2];o[P+352+120>>2]=o[i+48>>2];o[P+352+120+4>>2]=o[i+48+4>>2];o[P+352+120+8>>2]=o[i+48+8>>2];o[P+352+120+12>>2]=o[i+48+12>>2];o[P+352+136>>2]=o[I>>2];o[P+352+136+4>>2]=o[I+4>>2];o[P+352+136+8>>2]=o[I+8>>2];o[P+352+136+12>>2]=o[I+12>>2];o[P+352+152>>2]=o[I+16>>2];o[P+352+152+4>>2]=o[I+16+4>>2];o[P+352+152+8>>2]=o[I+16+8>>2];o[P+352+152+12>>2]=o[I+16+12>>2];o[P+352+168>>2]=o[I+32>>2];o[P+352+168+4>>2]=o[I+32+4>>2];o[P+352+168+8>>2]=o[I+32+8>>2];o[P+352+168+12>>2]=o[I+32+12>>2];o[P+352+184>>2]=o[I+48>>2];o[P+352+184+4>>2]=o[I+48+4>>2];o[P+352+184+8>>2]=o[I+48+8>>2];o[P+352+184+12>>2]=o[I+48+12>>2];c[P+352+204>>2]=H;o[P+352>>2]=7e3;o[P+352+212>>2]=a;o[P+352+216>>2]=s;o[P+352+220>>2]=x;o[P+352+200>>2]=o[a+4>>2];c[P+352+208>>2]=l;BF[o[(o[e>>2]|0)+8>>2]&127](e,P+712|0,P+288|0,P+64|0);c[P+16>>2]=m;c[P+16+4>>2]=A;c[P+16+8>>2]=g;c[P+16+12>>2]=0.0;if(d<m){c[P+16>>2]=d;h=d}else h=m;if(f<A){c[P+16+4>>2]=f;p=f}else p=A;if(u<g){c[P+16+8>>2]=u;b=u}else b=g;c[P>>2]=m;c[P+4>>2]=A;c[P+8>>2]=g;c[P+12>>2]=0.0;if(m<d)c[P>>2]=d;else d=m;if(A<f)c[P+4>>2]=f;else f=A;if(g<u)c[P+8>>2]=u;else u=g;c[P+16>>2]=+c[P+288>>2]+h;c[P+16+4>>2]=+c[P+288+4>>2]+p;c[P+16+8>>2]=+c[P+288+8>>2]+b;c[P>>2]=+c[P+64>>2]+d;c[P+4>>2]=+c[P+64+4>>2]+f;c[P+8>>2]=+c[P+64+8>>2]+u;BF[o[(o[x>>2]|0)+64>>2]&127](x,P+352|0,P+16|0,P);ae=P;return}}}function Ho(e,t,i){e=e|0;t=t|0;i=+i;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0,g=0;A=ae;ae=ae+528|0;if((n[e+171>>0]|0)==0?+c[e+172>>2]<=0.0:0){ae=A;return}n[e+168>>0]=(dF[o[(o[e>>2]|0)+48>>2]&127](e)|0)&1;_=+c[e+16>>2]-+c[e+44>>2]*i;c[e+16>>2]=_;if(_>0.0?(l=+c[e+28>>2],_>l):0)c[e+16>>2]=l;else l=_;if(l<0.0?(b=+y(+l),u=+y(+ +c[e+24>>2]),b>u):0){c[e+16>>2]=-u;l=-u}c[e+20>>2]=l*i;h=o[e+8>>2]|0;o[A>>2]=o[h+4>>2];o[A+4>>2]=o[h+4+4>>2];o[A+8>>2]=o[h+4+8>>2];o[A+12>>2]=o[h+4+12>>2];o[A+16>>2]=o[h+20>>2];o[A+16+4>>2]=o[h+20+4>>2];o[A+16+8>>2]=o[h+20+8>>2];o[A+16+12>>2]=o[h+20+12>>2];o[A+32>>2]=o[h+36>>2];o[A+32+4>>2]=o[h+36+4>>2];o[A+32+8>>2]=o[h+36+8>>2];o[A+32+12>>2]=o[h+36+12>>2];o[A+48>>2]=o[h+52>>2];o[A+48+4>>2]=o[h+52+4>>2];o[A+48+8>>2]=o[h+52+8>>2];o[A+48+12>>2]=o[h+52+12>>2];if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}h=o[e+176>>2]|0;u=+c[e+20>>2];u=+c[e+52>>2]+(u>0.0?u:0.0);p=+c[22560+(h<<4)+4>>2]*u+ +c[e+96>>2];b=u*+c[22560+(h<<4)+8>>2]+ +c[e+100>>2];c[e+112>>2]=+c[e+92>>2]+ +c[22560+(h<<4)>>2]*u;c[e+116>>2]=p;c[e+120>>2]=b;c[e+124>>2]=0.0;o[A+456>>2]=1065353216;o[A+456+4>>2]=0;o[A+456+4+4>>2]=0;o[A+456+4+8>>2]=0;o[A+456+4+12>>2]=0;o[A+456+20>>2]=1065353216;o[A+456+24>>2]=0;o[A+456+24+4>>2]=0;o[A+456+24+8>>2]=0;o[A+456+24+12>>2]=0;o[A+456+40>>2]=1065353216;h=A+456+44|0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h+16>>2]=0;o[A+392>>2]=1065353216;o[A+392+4>>2]=0;o[A+392+4+4>>2]=0;o[A+392+4+8>>2]=0;o[A+392+4+12>>2]=0;o[A+392+20>>2]=1065353216;o[A+392+24>>2]=0;o[A+392+24+4>>2]=0;o[A+392+24+8>>2]=0;o[A+392+24+12>>2]=0;o[A+392+40>>2]=1065353216;h=A+392+44|0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h+16>>2]=0;if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}s=o[e+176>>2]|0;h=o[e+12>>2]|0;u=+nF[o[(o[h>>2]|0)+48>>2]&15](h);u=u+ +c[e+56>>2];p=u*+c[22560+(s<<4)+4>>2]+ +c[e+96>>2];b=u*+c[22560+(s<<4)+8>>2]+ +c[e+100>>2];c[A+456+48>>2]=+c[22560+(s<<4)>>2]*u+ +c[e+92>>2];c[A+456+52>>2]=p;c[A+456+56>>2]=b;c[A+456+60>>2]=0.0;o[A+392+48>>2]=o[e+112>>2];o[A+392+48+4>>2]=o[e+112+4>>2];o[A+392+48+8>>2]=o[e+112+8>>2];o[A+392+48+12>>2]=o[e+112+12>>2];s=o[e+8>>2]|0;if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}h=o[e+176>>2]|0;u=-+c[22560+(h<<4)>>2];p=-+c[22560+(h<<4)+4>>2];b=-+c[22560+(h<<4)+8>>2];c[A+288+4>>2]=1.0;h=A+288+12|0;o[A+288+76>>2]=0;o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[h+16>>2]=0;o[h+20>>2]=0;o[h+24>>2]=0;o[h+28>>2]=0;o[A+288>>2]=6052;o[A+288+80>>2]=s;c[A+288+84>>2]=u;c[A+288+88>>2]=p;c[A+288+92>>2]=b;c[A+288+96>>2]=0.0;c[A+288+100>>2]=.707099974155426;s=o[e+8>>2]|0;h=o[s+188>>2]|0;r[A+288+8>>1]=r[h+4>>1]|0;r[A+288+10>>1]=r[h+6>>1]|0;if(!(n[e+170>>0]|0))tr(t,o[e+12>>2]|0,A+456|0,A+392|0,A+288|0,0.0);else Ls(s,o[e+12>>2]|0,A+456|0,A+392|0,A+288|0,+c[t+56>>2]);if(+c[A+288+4>>2]<1.0){if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}h=o[e+176>>2]|0;do{if(+c[A+288+44>>2]*+c[22560+(h<<4)>>2]+ +c[A+288+48>>2]*+c[22560+(h<<4)+4>>2]+ +c[A+288+52>>2]*+c[22560+(h<<4)+8>>2]>0.0){l=+c[A+288+4>>2];c[e+108>>2]=+c[e+52>>2]*l;if(!(n[e+180>>0]|0)){o[e+92>>2]=o[e+112>>2];o[e+92+4>>2]=o[e+112+4>>2];o[e+92+8>>2]=o[e+112+8>>2];o[e+92+12>>2]=o[e+112+12>>2];break}else{c[e+92>>2]=(1.0-l)*+c[e+92>>2]+l*+c[e+112>>2];c[e+96>>2]=(1.0-l)*+c[e+96>>2]+l*+c[e+116>>2];c[e+100>>2]=(1.0-l)*+c[e+100>>2]+l*+c[e+120>>2];break}}}while(0);c[e+16>>2]=0.0;c[e+20>>2]=0.0}else{o[e+108>>2]=o[e+52>>2];o[e+92>>2]=o[e+112>>2];o[e+92+4>>2]=o[e+112+4>>2];o[e+92+8>>2]=o[e+112+8>>2];o[e+92+12>>2]=o[e+112+12>>2]}if(!(n[e+171>>0]|0)){p=+c[e+172>>2];b=p>i?i:p;c[e+172>>2]=p-i;Cr(e,t,b*+c[e+60>>2],b*+c[e+64>>2],b*+c[e+68>>2])}else Cr(e,t,+c[e+60>>2],+c[e+64>>2],+c[e+68>>2]);o[A+272>>2]=o[e+112>>2];o[A+272+4>>2]=o[e+112+4>>2];o[A+272+8>>2]=o[e+112+8>>2];o[A+272+12>>2]=o[e+112+12>>2];l=+c[e+16>>2];l=(l<0.0?-l:0.0)*i;do{if(l>0.0?(a=+c[e+24>>2],l>a):0){if((n[e+168>>0]|0)==0?n[e+169>>0]|0:0){a=l;break}}else a=l}while(0);if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}s=o[e+176>>2]|0;b=a+ +c[e+108>>2];u=+c[22560+(s<<4)>>2]*b;p=b*+c[22560+(s<<4)+4>>2];b=b*+c[22560+(s<<4)+8>>2];c[e+112>>2]=+c[e+112>>2]-u;c[e+116>>2]=+c[e+116>>2]-p;c[e+120>>2]=+c[e+120>>2]-b;s=o[e+8>>2]|0;if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}f=22560+(o[e+176>>2]<<4)|0;d=o[e+40>>2]|0;h=A+168+4|0;c[h>>2]=1.0;g=A+168+12|0;o[A+168+76>>2]=0;o[g>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g+16>>2]=0;o[g+20>>2]=0;o[g+24>>2]=0;o[g+28>>2]=0;o[A+168>>2]=6052;o[A+168+80>>2]=s;o[A+168+84>>2]=o[f>>2];o[A+168+84+4>>2]=o[f+4>>2];o[A+168+84+8>>2]=o[f+8>>2];o[A+168+84+12>>2]=o[f+12>>2];o[A+168+100>>2]=d;s=o[e+8>>2]|0;d=o[s+188>>2]|0;r[A+168+8>>1]=r[d+4>>1]|0;r[A+168+10>>1]=r[d+6>>1]|0;if((n[24960]|0)==0?PM(24960)|0:0){o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}d=22560+(o[e+176>>2]<<4)|0;g=o[e+40>>2]|0;c[A+64+4>>2]=1.0;f=A+64+12|0;o[A+64+76>>2]=0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f+16>>2]=0;o[f+20>>2]=0;o[f+24>>2]=0;o[f+28>>2]=0;o[A+64>>2]=6052;o[A+64+80>>2]=s;o[A+64+84>>2]=o[d>>2];o[A+64+84+4>>2]=o[d+4>>2];o[A+64+84+8>>2]=o[d+8>>2];o[A+64+84+12>>2]=o[d+12>>2];o[A+64+100>>2]=g;s=o[(o[e+8>>2]|0)+188>>2]|0;r[A+64+8>>1]=r[s+4>>1]|0;r[A+64+10>>1]=r[s+6>>1]|0;a=+c[e+112>>2];l=+c[e+116>>2];_=+c[e+120>>2];s=0;while(1){o[A+456>>2]=1065353216;o[A+456+4>>2]=0;o[A+456+4+4>>2]=0;o[A+456+4+8>>2]=0;o[A+456+4+12>>2]=0;o[A+456+20>>2]=1065353216;o[A+456+24>>2]=0;o[A+456+24+4>>2]=0;o[A+456+24+8>>2]=0;o[A+456+24+12>>2]=0;o[A+456+40>>2]=1065353216;o[A+456+44>>2]=0;o[A+392>>2]=1065353216;o[A+392+4>>2]=0;o[A+392+4+4>>2]=0;o[A+392+4+8>>2]=0;o[A+392+4+12>>2]=0;o[A+392+20>>2]=1065353216;o[A+392+24>>2]=0;o[A+392+24+4>>2]=0;o[A+392+24+8>>2]=0;o[A+392+24+12>>2]=0;o[A+392+40>>2]=1065353216;o[A+392+44>>2]=0;o[A+288>>2]=1065353216;o[A+288+4>>2]=0;o[A+288+4+4>>2]=0;o[A+288+4+8>>2]=0;o[A+288+4+12>>2]=0;o[A+288+20>>2]=1065353216;o[A+288+24>>2]=0;o[A+288+24+4>>2]=0;o[A+288+24+8>>2]=0;o[A+288+24+12>>2]=0;o[A+288+40>>2]=1065353216;o[A+288+44>>2]=0;o[A+456+48>>2]=o[e+92>>2];o[A+456+48+4>>2]=o[e+92+4>>2];o[A+456+48+8>>2]=o[e+92+8>>2];o[A+456+48+12>>2]=o[e+92+12>>2];o[A+392+48>>2]=o[e+112>>2];o[A+392+48+4>>2]=o[e+112+4>>2];o[A+392+48+8>>2]=o[e+112+8>>2];o[A+392+48+12>>2]=o[e+112+12>>2];c[A+288+48>>2]=a-u;c[A+288+52>>2]=l-p;c[A+288+56>>2]=_-b;c[A+288+60>>2]=0.0;if(!(n[e+170>>0]|0)){tr(t,o[e+12>>2]|0,A+456|0,A+392|0,A+168|0,+c[t+56>>2]);if(!(+c[h>>2]<1.0))tr(t,o[e+12>>2]|0,A+456|0,A+288|0,A+64|0,+c[t+56>>2])}else{Ls(o[e+8>>2]|0,o[e+12>>2]|0,A+456|0,A+392|0,A+168|0,+c[t+56>>2]);if(!(+c[h>>2]<1.0))Ls(o[e+8>>2]|0,o[e+12>>2]|0,A+456|0,A+288|0,A+64|0,+c[t+56>>2])}l=+c[e+16>>2];l=(l<0.0?-l:0.0)*i;d=(n[e+182>>0]|0)==0;if(!d?+c[h>>2]<1.0:0)f=1;else f=+c[A+64+4>>2]<1.0;if(!(l>0.0))break;a=+c[e+52>>2];if(s|(!(l<a)|f^1))break;if((n[e+168>>0]|0)==0?n[e+169>>0]|0:0){s=0;break}o[e+112>>2]=o[A+272>>2];o[e+112+4>>2]=o[A+272+4>>2];o[e+112+8>>2]=o[A+272+8>>2];o[e+112+12>>2]=o[A+272+12>>2];do{if(!(n[24960]|0)){if(!(PM(24960)|0))break;o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}}while(0);s=o[e+176>>2]|0;a=a+ +c[e+108>>2];l=a*+c[22560+(s<<4)+4>>2];_=a*+c[22560+(s<<4)+8>>2];a=+c[e+112>>2]-+c[22560+(s<<4)>>2]*a;c[e+112>>2]=a;l=+c[e+116>>2]-l;c[e+116>>2]=l;_=+c[e+120>>2]-_;c[e+120>>2]=_;s=1}_=+c[h>>2];if(s|_<1.0){a=+c[e+96>>2];l=(a-+c[A+168+64>>2])*.5;do{if(!d){if(!(n[e+181>>0]|0)){c[e+92>>2]=(1.0-l)*+c[e+92>>2]+l*+c[e+112>>2];c[e+96>>2]=a*(1.0-l)+l*+c[e+116>>2];c[e+100>>2]=(1.0-l)*+c[e+100>>2]+l*+c[e+120>>2];s=e+181|0;break}else{c[e+92>>2]=(1.0-_)*+c[e+92>>2]+_*+c[e+112>>2];c[e+96>>2]=a*(1.0-_)+_*+c[e+116>>2];c[e+100>>2]=(1.0-_)*+c[e+100>>2]+_*+c[e+120>>2];s=e+181|0;break}}else{c[e+92>>2]=(1.0-_)*+c[e+92>>2]+_*+c[e+112>>2];c[e+96>>2]=a*(1.0-_)+_*+c[e+116>>2];c[e+100>>2]=(1.0-_)*+c[e+100>>2]+_*+c[e+120>>2];s=e+181|0}}while(0);n[s>>0]=0;c[e+16>>2]=0.0;c[e+20>>2]=0.0;n[e+169>>0]=0}else{n[e+181>>0]=1;do{if(!d?(m=+c[e+24>>2],l>m):0){if((n[e+168>>0]|0)==0?n[e+169>>0]|0:0)break;c[e+112>>2]=u+ +c[e+112>>2];c[e+116>>2]=p+ +c[e+116>>2];c[e+120>>2]=b+ +c[e+120>>2];do{if(!(n[24960]|0)){if(!(PM(24960)|0))break;o[5640]=1065353216;o[5641]=0;o[5642]=0;o[5643]=0;o[5644]=0;o[5645]=1065353216;o[5646]=0;o[5647]=0;o[5648]=0;o[5649]=0;o[5650]=1065353216;c[5651]=0.0;GR(24960)}}while(0);g=o[e+176>>2]|0;b=m+ +c[e+108>>2];i=b*+c[22560+(g<<4)+4>>2];m=b*+c[22560+(g<<4)+8>>2];c[e+112>>2]=+c[e+112>>2]-+c[22560+(g<<4)>>2]*b;c[e+116>>2]=+c[e+116>>2]-i;c[e+120>>2]=+c[e+120>>2]-m}}while(0);o[e+92>>2]=o[e+112>>2];o[e+92+4>>2]=o[e+112+4>>2];o[e+92+8>>2]=o[e+112+8>>2];o[e+92+12>>2]=o[e+112+12>>2]}o[A+48>>2]=o[e+92>>2];o[A+48+4>>2]=o[e+92+4>>2];o[A+48+8>>2]=o[e+92+8>>2];o[A+48+12>>2]=o[e+92+12>>2];g=o[e+8>>2]|0;o[g+260>>2]=(o[g+260>>2]|0)+1;o[g+4>>2]=o[A>>2];o[g+4+4>>2]=o[A+4>>2];o[g+4+8>>2]=o[A+8>>2];o[g+4+12>>2]=o[A+12>>2];o[g+20>>2]=o[A+16>>2];o[g+20+4>>2]=o[A+16+4>>2];o[g+20+8>>2]=o[A+16+8>>2];o[g+20+12>>2]=o[A+16+12>>2];o[g+36>>2]=o[A+32>>2];o[g+36+4>>2]=o[A+32+4>>2];o[g+36+8>>2]=o[A+32+8>>2];o[g+36+12>>2]=o[A+32+12>>2];o[g+52>>2]=o[A+48>>2];o[g+52+4>>2]=o[A+48+4>>2];o[g+52+8>>2]=o[A+48+8>>2];o[g+52+12>>2]=o[A+48+12>>2];ae=A;return}function jo(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0,a=0,l=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0.0,g=0.0,C=0.0,E=0,S=0,T=0,R=0.0,M=0.0,I=0,x=0,P=0.0,D=0,w=0,L=0,F=0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0,G=0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0,J=0,q=0,$=0,ee=0,te=0,ie=0,ne=0,re=0.0;ie=o[e+28>>2]|0;ne=o[e+32>>2]|0;Y=+c[ie+344>>2];Q=+c[ne+344>>2];te=o[t+24>>2]|0;re=(n[e+180>>0]|0)==0?-1.0:1.0;W=+c[e+936>>2]-+c[e+872>>2];z=+c[e+940>>2]-+c[e+876>>2];X=+c[e+944>>2]-+c[e+880>>2];K=Y+Q>0.0?Q/(Y+Q):.5;I=o[e+824>>2]|0;x=o[e+840>>2]|0;D=o[e+856>>2]|0;w=o[e+888>>2]|0;L=o[e+904>>2]|0;F=o[e+920>>2]|0;Z=(n[e+49>>0]|0)==0;if(Z){T=o[e+828>>2]|0;E=o[e+844>>2]|0;m=o[e+860>>2]|0;S=o[e+832>>2]|0;a=o[e+848>>2]|0;s=o[e+864>>2]|0;h=(o[_>>2]=T,+c[_>>2]);p=(o[_>>2]=E,+c[_>>2]);b=(o[_>>2]=m,+c[_>>2]);A=(o[_>>2]=S,+c[_>>2]);d=(o[_>>2]=a,+c[_>>2]);r=(o[_>>2]=s,+c[_>>2]);q=I;$=x;ee=D}else{u=K*(o[_>>2]=I,+c[_>>2]);d=K*(o[_>>2]=x,+c[_>>2]);i=K*(o[_>>2]=D,+c[_>>2]);l=(1.0-K)*(o[_>>2]=w,+c[_>>2]);f=(1.0-K)*(o[_>>2]=L,+c[_>>2]);i=i+(1.0-K)*(o[_>>2]=F,+c[_>>2]);r=1.0/+v(+((u+l)*(u+l)+(d+f)*(d+f)+i*i));s=(c[_>>2]=(u+l)*r,o[_>>2]|0);a=(c[_>>2]=(d+f)*r,o[_>>2]|0);m=(c[_>>2]=i*r,o[_>>2]|0);if(+y(+(i*r))>.7071067690849304){j=1.0/+v(+(i*r*(i*r)+(d+f)*r*((d+f)*r)));b=(d+f)*r*j;g=(u+l)*r*-(i*r*j);h=0.0;p=-(i*r*j);A=(i*r*(i*r)+(d+f)*r*((d+f)*r))*j;i=-((u+l)*r*((d+f)*r*j))}else{g=(u+l)*r*((u+l)*r)+(d+f)*r*((d+f)*r);j=1.0/+v(+g);b=0.0;g=g*j;h=-((d+f)*r*j);p=(u+l)*r*j;A=-(i*r*((u+l)*r*j));i=i*r*-((d+f)*r*j)}T=(c[_>>2]=h,o[_>>2]|0);E=(c[_>>2]=p,o[_>>2]|0);V=(c[_>>2]=b,o[_>>2]|0);S=(c[_>>2]=A,o[_>>2]|0);G=(c[_>>2]=i,o[_>>2]|0);d=i;r=g;q=s;$=a;ee=m;m=V;s=(c[_>>2]=g,o[_>>2]|0);a=G}G=o[t+12>>2]|0;o[G>>2]=T;o[G+4>>2]=E;o[G+8>>2]=m;o[G+(te<<2)>>2]=S;o[G+(te+1<<2)>>2]=a;o[G+(te+2<<2)>>2]=s;l=-h;E=o[t+20>>2]|0;c[E>>2]=l;c[E+4>>2]=-p;c[E+8>>2]=-b;c[E+(te<<2)>>2]=-A;c[E+(te+1<<2)>>2]=-d;c[E+(te+2<<2)>>2]=-r;V=o[e+300>>2]|0;i=+c[e+280>>2];if(!(V&128))i=i*+c[t+4>>2];P=i*+c[t>>2];H=(o[_>>2]=x,+c[_>>2]);B=(o[_>>2]=F,+c[_>>2]);N=(o[_>>2]=D,+c[_>>2]);U=(o[_>>2]=L,+c[_>>2]);j=(o[_>>2]=w,+c[_>>2]);k=(o[_>>2]=I,+c[_>>2]);I=o[t+28>>2]|0;c[I>>2]=P*((H*B-N*U)*h+(N*j-k*B)*p+(k*U-H*j)*b);c[I+(te<<2)>>2]=P*((H*B-N*U)*A+(N*j-k*B)*d+(k*U-H*j)*r);if(V&64|0){F=o[t+32>>2]|0;o[F>>2]=o[e+292>>2];o[F+(te<<2)>>2]=o[e+292>>2]}M=+c[ie+52>>2];C=+c[ie+56>>2];R=+c[ie+60>>2];f=+c[ne+52>>2];i=+c[ne+56>>2];u=+c[ne+60>>2];if(Z){g=(i-C)*b-(u-R)*p;j=(u-R)*h-(f-M)*b;H=(f-M)*p-(i-C)*h;c[G+(te<<1<<2)>>2]=K*g;c[G+((te<<1|1)<<2)>>2]=K*j;c[G+((te<<1)+2<<2)>>2]=K*H;c[E+(te<<1<<2)>>2]=(1.0-K)*g;c[E+((te<<1|1)<<2)>>2]=(1.0-K)*j;c[E+((te<<1)+2<<2)>>2]=(1.0-K)*H;H=(i-C)*r-(u-R)*d;j=(u-R)*A-(f-M)*r;g=(f-M)*d-(i-C)*A;c[G+(te*3<<2)>>2]=K*H;c[G+((te*3|0)+1<<2)>>2]=K*j;c[G+((te*3|0)+2<<2)>>2]=K*g;c[E+(te*3<<2)>>2]=(1.0-K)*H;c[E+((te*3|0)+1<<2)>>2]=(1.0-K)*j;c[E+((te*3|0)+2<<2)>>2]=(1.0-K)*g;a=o[t+8>>2]|0;c[a+(te<<1<<2)>>2]=h;c[a+((te<<1|1)<<2)>>2]=p;c[a+((te<<1)+2<<2)>>2]=b;c[a+(te*3<<2)>>2]=A;c[a+((te*3|0)+1<<2)>>2]=d;c[a+((te*3|0)+2<<2)>>2]=r;s=o[t+16>>2]|0;c[s+(te<<1<<2)>>2]=l;c[s+((te<<1|1)<<2)>>2]=-p;c[s+((te<<1)+2<<2)>>2]=-b;c[s+(te*3<<2)>>2]=-A;c[s+((te*3|0)+1<<2)>>2]=-d;g=d;m=s;j=0.0;H=0.0;k=0.0;B=0.0;N=0.0;P=0.0;d=i-C;u=u-R;l=f-M;s=s+((te*3|0)+2<<2)|0}else{g=+c[e+936>>2]-f;k=+c[e+940>>2]-i;U=+c[e+944>>2]-u;d=(o[_>>2]=q,+c[_>>2]);p=(o[_>>2]=$,+c[_>>2]);f=(o[_>>2]=ee,+c[_>>2]);H=+c[e+872>>2]-M;j=+c[e+876>>2]-C;l=+c[e+880>>2]-R;N=+c[e+1080>>2]-+c[e+1032>>2];P=(H*d+j*p+l*f)*d+N*d-(g*d+k*p+U*f)*d;B=(H*d+j*p+l*f)*p+N*p-(g*d+k*p+U*f)*p;N=(H*d+j*p+l*f)*f+N*f-(g*d+k*p+U*f)*f;M=H-(H*d+j*p+l*f)*d+K*P;C=j-(H*d+j*p+l*f)*p+K*B;R=l-(H*d+j*p+l*f)*f+K*N;P=g-(g*d+k*p+U*f)*d-(1.0-K)*P;B=k-(g*d+k*p+U*f)*p-(1.0-K)*B;N=U-(g*d+k*p+U*f)*f-(1.0-K)*N;r=K*(g-(g*d+k*p+U*f)*d)+(1.0-K)*(H-(H*d+j*p+l*f)*d);i=K*(k-(g*d+k*p+U*f)*p)+(1.0-K)*(j-(H*d+j*p+l*f)*p);l=K*(U-(g*d+k*p+U*f)*f)+(1.0-K)*(l-(H*d+j*p+l*f)*f);if(l*l+(r*r+i*i)>1.1920928955078125e-07){j=1.0/+v(+(l*l+(r*r+i*i)));a=(c[_>>2]=i*j,o[_>>2]|0);m=(c[_>>2]=l*j,o[_>>2]|0);u=i*j;h=r*j;s=(c[_>>2]=r*j,o[_>>2]|0);i=l*j}else{s=o[e+828>>2]|0;a=o[e+844>>2]|0;m=o[e+860>>2]|0;i=(o[_>>2]=m,+c[_>>2]);u=(o[_>>2]=a,+c[_>>2]);h=(o[_>>2]=s,+c[_>>2])}A=i*p-u*f;g=h*f-i*d;U=u*d-h*p;c[G+(te<<1<<2)>>2]=C*i-R*u;c[G+(te<<1<<2)+4>>2]=R*h-M*i;c[G+(te<<1<<2)+8>>2]=M*u-C*h;c[E+(te<<1<<2)>>2]=-(B*i-N*u);c[E+((te<<1|1)<<2)>>2]=-(N*h-P*i);c[E+((te<<1)+2<<2)>>2]=-(P*u-B*h);if(Y<1.1920928955078125e-07|Q<1.1920928955078125e-07?(n[e+297>>0]|0)!=0:0){i=(1.0-K)*(B*U-N*g);r=(1.0-K)*(N*A-P*U);l=(1.0-K)*(P*g-B*A);u=K*(C*U-R*g);f=K*(M*g-C*A);d=K*(R*A-M*U)}else{i=B*U-N*g;r=N*A-P*U;l=P*g-B*A;u=C*U-R*g;f=M*g-C*A;d=R*A-M*U}c[G+(te*3<<2)>>2]=u;c[G+(te*3<<2)+4>>2]=d;c[G+(te*3<<2)+8>>2]=f;c[E+(te*3<<2)>>2]=-i;c[E+((te*3|0)+1<<2)>>2]=-r;c[E+((te*3|0)+2<<2)>>2]=-l;F=o[t+8>>2]|0;o[F+(te<<1<<2)>>2]=s;o[F+((te<<1|1)<<2)>>2]=a;o[F+((te<<1)+2<<2)>>2]=m;c[F+(te*3<<2)>>2]=A;c[F+((te*3|0)+1<<2)>>2]=g;c[F+((te*3|0)+2<<2)>>2]=U;s=o[t+16>>2]|0;c[s+(te<<1<<2)>>2]=-h;p=(o[_>>2]=a,+c[_>>2]);c[s+((te<<1|1)<<2)>>2]=-p;b=(o[_>>2]=m,+c[_>>2]);c[s+((te<<1)+2<<2)>>2]=-b;c[s+(te*3<<2)>>2]=-A;c[s+((te*3|0)+1<<2)>>2]=-g;a=F;m=s;j=C;H=R;k=M;d=0.0;u=0.0;l=0.0;s=s+((te*3|0)+2<<2)|0;r=U}c[s>>2]=-r;i=+c[e+264>>2];if(!(V&32))i=i*+c[t+4>>2];U=i*+c[t>>2];c[I+(te<<1<<2)>>2]=U*(W*h+z*p+X*b);c[I+(te*3<<2)>>2]=U*(W*A+z*g+X*r);if(V&16|0){F=o[t+32>>2]|0;o[F+(te<<1<<2)>>2]=o[e+276>>2];o[F+(te*3<<2)>>2]=o[e+276>>2]}if(!(n[e+296>>0]|0)){T=0;h=0.0}else{h=re*+c[e+1032>>2];T=h>0.0?2:1}s=n[e+1096>>0]|0;S=(T|0)!=0;if(T|s&255){o[a+(te<<2<<2)>>2]=q;o[a+((te<<2|1)<<2)>>2]=$;o[a+((te<<2|2)<<2)>>2]=ee;p=(o[_>>2]=q,+c[_>>2]);c[m+(te<<2<<2)>>2]=-p;b=(o[_>>2]=$,+c[_>>2]);c[m+((te<<2|1)<<2)>>2]=-b;A=(o[_>>2]=ee,+c[_>>2]);c[m+((te<<2|2)<<2)>>2]=-A;if(!Z){if(!(Y<1.1920928955078125e-07|Q<1.1920928955078125e-07)){c[G+(te<<2<<2)>>2]=j*A-H*b;c[G+((te<<2|1)<<2)>>2]=H*p-k*A;c[G+((te<<2|2)<<2)>>2]=k*b-j*p;c[E+(te<<2<<2)>>2]=-(B*A-N*b);c[E+((te<<2|1)<<2)>>2]=-(N*p-P*A);i=-(P*b-B*p);J=31}}else{Y=d*A-u*b;Q=u*p-l*A;i=l*b-d*p;c[G+(te<<2<<2)>>2]=K*Y;c[G+((te<<2|1)<<2)>>2]=K*Q;c[G+((te<<2|2)<<2)>>2]=K*i;c[E+(te<<2<<2)>>2]=(1.0-K)*Y;c[E+((te<<2|1)<<2)>>2]=(1.0-K)*Q;i=(1.0-K)*i;J=31}if((J|0)==31)c[E+((te<<2|2)<<2)>>2]=i;E=+c[e+184>>2]==+c[e+188>>2];c[I+(te<<2<<2)>>2]=0.0;a=(o[t+36>>2]|0)+(te<<2<<2)|0;c[a>>2]=0.0;m=(o[t+40>>2]|0)+(te<<2<<2)|0;c[m>>2]=0.0;d=+c[((V&512|0)==0?t+4|0:e+232|0)>>2];if(!(s<<24>>24==0|S&E)){if(V&1|0)o[(o[t+32>>2]|0)+(te<<2<<2)>>2]=o[e+212>>2];f=+c[e+1100>>2];i=+c[e+1080>>2];r=+c[e+184>>2];l=+c[e+188>>2];u=d*+c[t>>2];do{if(!(r>l)){if(!(r==l)){if(f/u<0.0)if(i>=r?r-f/u>i:0){i=(r-i)/(f/u);break}else{i=i<r?0.0:1.0;break}if(f/u>0.0){if(i<=l?l-f/u<i:0){i=(l-i)/(f/u);break}else{i=i>l?0.0:1.0;break}}else i=0.0}else i=0.0}else i=1.0}while(0);J=(o[t+28>>2]|0)+(te<<2<<2)|0;c[J>>2]=+c[J>>2]-re*i*f;c[a>>2]=+c[a>>2]-+c[e+1104>>2]*+c[t>>2];c[m>>2]=+c[e+1104>>2]*+c[t>>2]+ +c[m>>2]}if(S){s=(o[t+28>>2]|0)+(te<<2<<2)|0;c[s>>2]=+c[s>>2]+h*(d*+c[t>>2]);if(o[e+300>>2]&256|0)o[(o[t+32>>2]|0)+(te<<2<<2)>>2]=o[e+244>>2];do{if(!E){if((T|0)==1){c[a>>2]=-3402823466385288598117041.0e14;i=0.0;break}else{c[a>>2]=0.0;i=3402823466385288598117041.0e14;break}}else{c[a>>2]=-3402823466385288598117041.0e14;i=3402823466385288598117041.0e14}}while(0);c[m>>2]=i;K=1.0-+c[e+240>>2];r=+y(+K);do{if(!(K!=K|0.0!=0.0|K==0.0)){i=re*(+c[ie+312>>2]*p+ +c[ie+316>>2]*b+ +c[ie+320>>2]*A-(+c[ne+312>>2]*p+ +c[ne+316>>2]*b+ +c[ne+320>>2]*A));if((T|0)==1){if(!(i<0.0))break;if(!(+c[s>>2]<-(r*i)))break;c[s>>2]=-(r*i);break}else{if(!(i>0.0))break;if(!(+c[s>>2]>-(r*i)))break;c[s>>2]=-(r*i);break}}}while(0);c[s>>2]=+c[e+232>>2]*+c[s>>2];s=5}else s=5}else s=4;if(!(n[e+297>>0]|0)){S=0;g=0.0}else{g=+c[e+1088>>2];S=g>0.0?1:2}a=n[e+1112>>0]|0;m=(S|0)!=0;if(!(S|a&255))return;E=O(o[t+24>>2]|0,s)|0;s=o[t+12>>2]|0;o[s+(E<<2)>>2]=q;o[s+(E+1<<2)>>2]=$;o[s+(E+2<<2)>>2]=ee;C=(o[_>>2]=q,+c[_>>2]);s=o[t+20>>2]|0;c[s+(E<<2)>>2]=-C;A=(o[_>>2]=$,+c[_>>2]);c[s+(E+1<<2)>>2]=-A;b=(o[_>>2]=ee,+c[_>>2]);c[s+(E+2<<2)>>2]=-b;d=+c[e+192>>2];h=+c[e+196>>2];s=o[e+300>>2]|0;p=+c[((s&2048|0)==0?t+4|0:e+248|0)>>2];if(!(a<<24>>24==0|m&d==h)){if(!(s&4)){r=d;l=h}else{o[(o[t+32>>2]|0)+(E<<2)>>2]=o[e+228>>2];r=+c[e+192>>2];l=+c[e+196>>2]}i=+c[e+1084>>2];f=+c[e+1116>>2];u=p*+c[t>>2];do{if(!(r>l)){if(!(r==l)){if(f/u<0.0)if(i>=r?r-f/u>i:0){i=(r-i)/(f/u);break}else{i=i<r?0.0:1.0;break}if(f/u>0.0){if(i<=l?l-f/u<i:0){i=(l-i)/(f/u);break}else{i=i>l?0.0:1.0;break}}else i=0.0}else i=0.0}else i=1.0}while(0);c[(o[t+28>>2]|0)+(E<<2)>>2]=i*f;c[(o[t+36>>2]|0)+(E<<2)>>2]=-(+c[e+1120>>2]*+c[t>>2]);c[(o[t+40>>2]|0)+(E<<2)>>2]=+c[e+1120>>2]*+c[t>>2]}if(!m)return;a=(o[t+28>>2]|0)+(E<<2)|0;c[a>>2]=+c[a>>2]+g*(p*+c[t>>2]);if(s&1024|0)o[(o[t+32>>2]|0)+(E<<2)>>2]=o[e+260>>2];do{if(!(d==h)){s=(o[t+36>>2]|0)+(E<<2)|0;if((S|0)==1){c[s>>2]=0.0;i=3402823466385288598117041.0e14;break}else{c[s>>2]=-3402823466385288598117041.0e14;i=0.0;break}}else{c[(o[t+36>>2]|0)+(E<<2)>>2]=-3402823466385288598117041.0e14;i=3402823466385288598117041.0e14}}while(0);c[(o[t+40>>2]|0)+(E<<2)>>2]=i;re=1.0-+c[e+256>>2];r=+y(+re);do{if(!(re!=re|0.0!=0.0|re==0.0)){ne=o[e+28>>2]|0;t=o[e+32>>2]|0;i=+c[ne+328>>2]*C+ +c[ne+332>>2]*A+ +c[ne+336>>2]*b-(+c[t+328>>2]*C+ +c[t+332>>2]*A+ +c[t+336>>2]*b);if((S|0)==1){if(!(i<0.0))break;if(!(+c[a>>2]<-(r*i)))break;c[a>>2]=-(r*i);break}else{if(!(i>0.0))break;if(!(+c[a>>2]>-(r*i)))break;c[a>>2]=-(r*i);break}}}while(0);c[a>>2]=+c[e+248>>2]*+c[a>>2];return}function Vo(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0,v=0,C=0,E=0,S=0.0,T=0;T=ae;ae=ae+112|0;o[e+164>>2]=1065353216;o[e+168>>2]=1065353216;o[e+172>>2]=1065353216;c[e+176>>2]=0.0;o[e+180>>2]=0;c[e+184>>2]=999999984306749440.0;o[e+188>>2]=0;o[e+188+4>>2]=0;o[e+188+8>>2]=0;o[e+188+12>>2]=0;o[e+204>>2]=1;o[e+208>>2]=-1;o[e+212>>2]=-1;o[e+216>>2]=1;c[e+220>>2]=0.0;c[e+224>>2]=.5;c[e+228>>2]=0.0;c[e+232>>2]=0.0;o[e+236>>2]=1;o[e+240>>2]=0;c[e+244>>2]=1.0;o[e+248>>2]=0;o[e+248+4>>2]=0;o[e+248+8>>2]=0;o[e+248+12>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+48+4>>2]=0;o[e+48+8>>2]=0;o[e+48+12>>2]=0;o[e+48+16>>2]=0;o[e>>2]=4244;n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+284>>2]=0;n[e+408>>0]=1;o[e+404>>2]=0;o[e+396>>2]=0;o[e+400>>2]=0;n[e+428>>0]=1;o[e+424>>2]=0;o[e+416>>2]=0;o[e+420>>2]=0;n[e+448>>0]=1;o[e+444>>2]=0;o[e+436>>2]=0;o[e+440>>2]=0;n[e+496>>0]=1;o[e+492>>2]=0;o[e+484>>2]=0;o[e+488>>2]=0;n[e+516>>0]=1;o[e+512>>2]=0;o[e+504>>2]=0;o[e+508>>2]=0;o[e+684>>2]=t;n[e+704>>0]=1;o[e+700>>2]=0;o[e+692>>2]=0;o[e+696>>2]=0;n[e+724>>0]=1;o[e+720>>2]=0;o[e+712>>2]=0;o[e+716>>2]=0;n[e+744>>0]=1;o[e+740>>2]=0;o[e+732>>2]=0;o[e+736>>2]=0;n[e+764>>0]=1;o[e+760>>2]=0;o[e+752>>2]=0;o[e+756>>2]=0;n[e+784>>0]=1;o[e+780>>2]=0;o[e+772>>2]=0;o[e+776>>2]=0;n[e+804>>0]=1;o[e+800>>2]=0;o[e+792>>2]=0;o[e+796>>2]=0;n[e+824>>0]=1;o[e+820>>2]=0;o[e+812>>2]=0;o[e+816>>2]=0;n[e+844>>0]=1;o[e+840>>2]=0;o[e+832>>2]=0;o[e+836>>2]=0;n[e+864>>0]=1;o[e+860>>2]=0;o[e+852>>2]=0;o[e+856>>2]=0;n[e+884>>0]=1;o[e+880>>2]=0;o[e+872>>2]=0;o[e+876>>2]=0;n[e+964>>0]=1;o[e+960>>2]=0;o[e+952>>2]=0;o[e+956>>2]=0;n[e+984>>0]=1;o[e+980>>2]=0;o[e+972>>2]=0;o[e+976>>2]=0;o[e+928>>2]=0;o[e+932>>2]=0;o[e+936>>2]=-1;o[e+940>>2]=0;o[e+944>>2]=0;n[e+1024>>0]=1;o[e+1020>>2]=0;o[e+1012>>2]=0;o[e+1016>>2]=0;n[e+1044>>0]=1;o[e+1040>>2]=0;o[e+1032>>2]=0;o[e+1036>>2]=0;o[e+988>>2]=0;o[e+992>>2]=0;o[e+996>>2]=-1;o[e+1e3>>2]=0;o[e+1004>>2]=0;n[e+1084>>0]=1;o[e+1080>>2]=0;o[e+1072>>2]=0;o[e+1076>>2]=0;n[e+1104>>0]=1;o[e+1100>>2]=0;o[e+1092>>2]=0;o[e+1096>>2]=0;o[e+1048>>2]=0;o[e+1052>>2]=0;o[e+1056>>2]=-1;o[e+1060>>2]=0;o[e+1064>>2]=0;n[e+1124>>0]=1;o[e+1120>>2]=0;o[e+1112>>2]=0;o[e+1116>>2]=0;n[e+1144>>0]=1;o[e+1140>>2]=0;o[e+1132>>2]=0;o[e+1136>>2]=0;n[e+1248>>0]=1;o[e+1244>>2]=0;o[e+1236>>2]=0;o[e+1240>>2]=0;o[e+236>>2]=8;o[e+288>>2]=0;c[e+292>>2]=1.0;o[e+296>>2]=0;o[e+296+4>>2]=0;o[e+296+8>>2]=0;o[e+296+12>>2]=0;o[e+296+16>>2]=0;c[e+316>>2]=.20000000298023224;c[e+320>>2]=0.0;c[e+324>>2]=1.0;c[e+328>>2]=.10000000149011612;c[e+332>>2]=1.0;c[e+336>>2]=.699999988079071;c[e+340>>2]=.10000000149011612;c[e+344>>2]=1.0;c[e+348>>2]=.5;c[e+352>>2]=.5;c[e+356>>2]=.5;c[e+360>>2]=.5;c[e+364>>2]=1.0;c[e+368>>2]=1.0;o[e+372>>2]=0;o[e+376>>2]=1;o[e+380>>2]=0;o[e+384>>2]=4;o[e+388>>2]=1;n[e+472>>0]=0;n[e+473>>0]=0;c[e+476>>2]=0.0;o[e+520>>2]=0;o[e+520+4>>2]=0;o[e+520+8>>2]=0;o[e+520+12>>2]=0;o[e+536>>2]=1065353216;o[e+540>>2]=0;o[e+540+4>>2]=0;o[e+540+8>>2]=0;o[e+540+12>>2]=0;o[e+556>>2]=1065353216;o[e+560>>2]=0;o[e+560+4>>2]=0;o[e+560+8>>2]=0;o[e+560+12>>2]=0;o[e+576>>2]=1065353216;c[e+580>>2]=0.0;o[e+584>>2]=1065353216;o[e+588>>2]=0;o[e+588+4>>2]=0;o[e+588+8>>2]=0;o[e+588+12>>2]=0;o[e+604>>2]=1065353216;o[e+608>>2]=0;o[e+608+4>>2]=0;o[e+608+8>>2]=0;o[e+608+12>>2]=0;o[e+624>>2]=1065353216;c[e+628>>2]=0.0;o[e+680>>2]=0;c[e+888>>2]=0.0;n[e+924>>0]=1;o[e+892>>2]=0;o[e+892+4>>2]=0;o[e+892+8>>2]=0;o[e+892+12>>2]=0;o[e+892+16>>2]=0;o[e+892+20>>2]=0;o[e+892+24>>2]=0;o[e+892+28>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+48+4>>2]=0;o[e+48+8>>2]=0;o[e+48+12>>2]=0;o[e+48+16>>2]=0;t=o[e+404>>2]|0;if(t|0){if(n[e+408>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+404>>2]=0}n[e+408>>0]=1;o[e+404>>2]=0;o[e+396>>2]=0;o[e+400>>2]=0;t=o[e+424>>2]|0;if(t|0){if(n[e+428>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+424>>2]=0}n[e+428>>0]=1;o[e+424>>2]=0;o[e+416>>2]=0;o[e+420>>2]=0;t=o[e+444>>2]|0;do{if(t){if(!(n[e+448>>0]|0)){o[e+444>>2]=0;n[e+448>>0]=1;o[e+444>>2]=0;o[e+436>>2]=0;o[e+440>>2]=0;t=1;y=17;break}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);a=o[e+416>>2]|0;t=o[e+420>>2]|0;o[e+444>>2]=0;n[e+448>>0]=1;o[e+444>>2]=0;o[e+436>>2]=0;o[e+440>>2]=0;if((a|0)==(t|0))if(t){if((t|0)<(t<<1|0)){if(!(t<<1)){a=t;t=t<<1;l=0;y=20}else{t=t<<1;y=17}}else a=t}else{t=1;y=17}}else{n[e+448>>0]=1;o[e+444>>2]=0;o[e+436>>2]=0;o[e+440>>2]=0;t=1;y=17}}while(0);if((y|0)==17){o[6747]=(o[6747]|0)+1;a=Do((t<<2|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[e+416>>2]|0;y=20}if((y|0)==20){u=o[e+424>>2]|0;if((a|0)<=0){if(u)y=24}else{_=0;do{o[l+(_<<2)>>2]=o[u+(_<<2)>>2];_=_+1|0}while((_|0)!=(a|0));y=24}if((y|0)==24){if(n[e+428>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);a=o[e+416>>2]|0}o[e+424>>2]=0}n[e+428>>0]=1;o[e+424>>2]=l;o[e+420>>2]=t}_=o[e+424>>2]|0;o[_+(a<<2)>>2]=1;l=a+1|0;o[e+416>>2]=l;if((l|0)==(t|0)){u=(t|0)==0?1:t<<1;if((t|0)<(u|0)){if(!u)a=0;else{o[6747]=(o[6747]|0)+1;t=Do((u<<2|3)+16|0)|0;if(!t)a=0;else{o[(t+4+15&-16)+-4>>2]=t;a=t+4+15&-16}t=o[e+416>>2]|0;_=o[e+424>>2]|0}if((t|0)<=0){if(_)y=38}else{l=0;do{o[a+(l<<2)>>2]=o[_+(l<<2)>>2];l=l+1|0}while((l|0)!=(t|0));y=38}if((y|0)==38){if(n[e+428>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);t=o[e+416>>2]|0}o[e+424>>2]=0}n[e+428>>0]=1;o[e+424>>2]=a;o[e+420>>2]=u;l=t;t=u}else{a=_;l=t}}else a=_;o[a+(l<<2)>>2]=2;l=l+1|0;o[e+416>>2]=l;if((l|0)==(t|0)){u=(t|0)==0?1:t<<1;if((t|0)<(u|0)){if(!u)_=0;else{o[6747]=(o[6747]|0)+1;t=Do((u<<2|3)+16|0)|0;if(!t)l=0;else{o[(t+4+15&-16)+-4>>2]=t;l=t+4+15&-16}t=o[e+416>>2]|0;a=o[e+424>>2]|0;_=l}if((t|0)<=0){if(a)y=52}else{l=0;do{o[_+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(t|0));y=52}if((y|0)==52){if(n[e+428>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);t=o[e+416>>2]|0}o[e+424>>2]=0}n[e+428>>0]=1;o[e+424>>2]=_;o[e+420>>2]=u;a=_;l=t;t=u}else l=t}o[a+(l<<2)>>2]=3;l=l+1|0;o[e+416>>2]=l;if((l|0)==(t|0)){u=(t|0)==0?1:t<<1;if((t|0)<(u|0)){if(!u)_=0;else{o[6747]=(o[6747]|0)+1;t=Do((u<<2|3)+16|0)|0;if(!t)l=0;else{o[(t+4+15&-16)+-4>>2]=t;l=t+4+15&-16}t=o[e+416>>2]|0;a=o[e+424>>2]|0;_=l}if((t|0)<=0){if(a)y=66}else{l=0;do{o[_+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(t|0));y=66}if((y|0)==66){if(n[e+428>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);t=o[e+416>>2]|0}o[e+424>>2]=0}n[e+428>>0]=1;o[e+424>>2]=_;o[e+420>>2]=u;a=_}}else t=l;o[a+(t<<2)>>2]=0;o[e+416>>2]=t+1;o[6747]=(o[6747]|0)+1;t=Do(39)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}o[t+8>>2]=0;o[t>>2]=4352;o[t+4>>2]=32;o[t+16>>2]=e;o[e+192>>2]=t;c[t+12>>2]=.25;o[e+1148>>2]=1065353216;o[e+1152>>2]=0;o[e+1152+4>>2]=0;o[e+1152+8>>2]=0;o[e+1152+12>>2]=0;o[e+1168>>2]=1065353216;o[e+1172>>2]=0;o[e+1172+4>>2]=0;o[e+1172+8>>2]=0;o[e+1172+12>>2]=0;o[e+1188>>2]=1065353216;y=e+1192|0;v=y+36|0;do{o[y>>2]=0;y=y+4|0}while((y|0)<(v|0));c[e+1228>>2]=1.0;E=Ai(e)|0;c[E+4>>2]=1.0;c[E+8>>2]=1.0;c[E+12>>2]=1.0;o[E+16>>2]=1;y=o[e+192>>2]|0;S=+nF[o[(o[y>>2]|0)+48>>2]&15](y);y=T;v=y+100|0;do{o[y>>2]=0;y=y+4|0}while((y|0)<(v|0));u=o[e+712>>2]|0;if((u|0)<(i|0)){if((o[e+716>>2]|0)<(i|0)){if(!i){a=u;l=0}else{o[6747]=(o[6747]|0)+1;t=Do((i*104|3)+16|0)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}a=o[e+712>>2]|0;l=t}if((a|0)>0){t=0;do{y=l+(t*104|0)|0;_=(o[e+720>>2]|0)+(t*104|0)|0;v=y+104|0;do{o[y>>2]=o[_>>2];y=y+4|0;_=_+4|0}while((y|0)<(v|0));t=t+1|0}while((t|0)!=(a|0))}t=o[e+720>>2]|0;if(t|0){if(n[e+724>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+720>>2]=0}n[e+724>>0]=1;o[e+720>>2]=l;o[e+716>>2]=i}t=u;do{y=o[e+720>>2]|0;o[y+(t*104|0)>>2]=0;y=y+(t*104|0)+4|0;_=T;v=y+100|0;do{o[y>>2]=o[_>>2];y=y+4|0;_=_+4|0}while((y|0)<(v|0));t=t+1|0}while((t|0)!=(i|0))}o[e+712>>2]=i;if((i|0)>0){C=0;a=s;t=r;while(1){_=o[e+720>>2]|0;u=_+(C*104|0)|0;y=u;v=y+104|0;do{o[y>>2]=0;y=y+4|0}while((y|0)<(v|0));if(!t){p=0.0;d=0.0;h=0.0;f=0.0;t=0}else{p=+c[t+8>>2];d=+c[t>>2];h=+c[t+4>>2];f=+c[t+12>>2];t=t+16|0}s=_+(C*104|0)+8|0;c[s>>2]=d;c[_+(C*104|0)+12>>2]=h;c[_+(C*104|0)+16>>2]=p;c[_+(C*104|0)+20>>2]=f;r=_+(C*104|0)+24|0;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];if(!a){f=1.0;l=0}else{f=+c[a>>2];l=a+4|0}c[_+(C*104|0)+88>>2]=f>0.0?1.0/f:0.0;m=d-S;g=h-S;A=p-S;b=S+d;d=S+h;f=S+p;a=o[e+932>>2]|0;if(!a){o[6747]=(o[6747]|0)+1;a=Do(63)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}y=a;v=y+44|0;do{o[y>>2]=0;y=y+4|0}while((y|0)<(v|0))}else o[e+932>>2]=0;o[a+32>>2]=0;o[a+36>>2]=u;o[a+40>>2]=0;c[a>>2]=m;c[a+4>>2]=g;c[a+8>>2]=A;c[a+12>>2]=0.0;c[a+16>>2]=b;c[a+20>>2]=d;c[a+24>>2]=f;c[a+28>>2]=0.0;de(e+928|0,o[e+928>>2]|0,a);o[e+940>>2]=(o[e+940>>2]|0)+1;o[_+(C*104|0)+96>>2]=a;o[_+(C*104|0)+4>>2]=E;C=C+1|0;if((C|0)==(i|0))break;else a=l}}t=o[e+928>>2]|0;if(!t){o[e+892>>2]=0;o[e+892+4>>2]=0;o[e+892+8>>2]=0;o[e+892+12>>2]=0;o[e+892+16>>2]=0;o[e+892+20>>2]=0;o[e+892+24>>2]=0;o[e+892+28>>2]=0;ae=T;return}i=o[e+192>>2]|0;A=+nF[o[(o[i>>2]|0)+48>>2]&15](i);S=+c[t+4>>2]-A;g=+c[t+8>>2]-A;c[e+892>>2]=+c[t>>2]-A;c[e+896>>2]=S;c[e+900>>2]=g;c[e+904>>2]=0.0;g=A+ +c[t+20>>2];S=A+ +c[t+24>>2];c[e+908>>2]=A+ +c[t+16>>2];c[e+912>>2]=g;c[e+916>>2]=S;c[e+920>>2]=0.0;t=o[e+188>>2]|0;if(!t){ae=T;return}i=o[e+684>>2]|0;r=o[i+32>>2]|0;jF[o[(o[r>>2]|0)+16>>2]&31](r,t,e+892|0,e+908|0,o[i+36>>2]|0);ae=T;return}function Go(e,t,i){e=e|0;t=t|0;i=i|0;var s=0,l=0,_=0.0,u=0.0,f=0.0,d=0,h=0.0,p=0,b=0,m=0,A=0.0,g=0.0,y=0,v=0,C=0.0,E=0.0,S=0.0,T=0,R=0,M=0.0,O=0.0,I=0.0,x=0,P=0,D=0,w=0,L=0,F=0,N=0.0,B=0.0,k=0.0;F=ae;ae=ae+96|0;D=o[e+56>>2]|0;if((i-t|0)==1){if(!(n[e+60>>0]|0)){p=(o[e+96>>2]|0)+(D<<6)|0;b=(o[e+76>>2]|0)+(t<<6)|0;m=p+64|0;do{o[p>>2]=o[b>>2];p=p+4|0;b=b+4|0}while((p|0)<(m|0))}else{w=(o[e+116>>2]|0)+(t<<4)|0;L=(o[e+136>>2]|0)+(D<<4)|0;o[L>>2]=o[w>>2];o[L+4>>2]=o[w+4>>2];o[L+8>>2]=o[w+8>>2];o[L+12>>2]=o[w+12>>2]}o[e+56>>2]=(o[e+56>>2]|0)+1;ae=F;return}if((i|0)>(t|0)){d=(n[e+60>>0]|0)==0;if(d){s=o[e+76>>2]|0;u=0.0;_=0.0;f=0.0;l=t;do{_=_+(+c[s+(l<<6)+16>>2]+ +c[s+(l<<6)>>2])*.5;f=f+(+c[s+(l<<6)+20>>2]+ +c[s+(l<<6)+4>>2])*.5;u=u+(+c[s+(l<<6)+24>>2]+ +c[s+(l<<6)+8>>2])*.5;l=l+1|0}while((l|0)!=(i|0))}else{s=o[e+116>>2]|0;h=+c[e+36>>2];A=+c[e+40>>2];g=+c[e+44>>2];C=+c[e+4>>2];E=+c[e+8>>2];S=+c[e+12>>2];_=0.0;f=0.0;u=0.0;l=t;do{_=_+(+(a[s+(l<<4)+6>>1]|0)/h+C+(+(a[s+(l<<4)>>1]|0)/h+C))*.5;f=f+(+(a[s+(l<<4)+8>>1]|0)/A+E+(+(a[s+(l<<4)+2>>1]|0)/A+E))*.5;u=u+(+(a[s+(l<<4)+10>>1]|0)/g+S+(+(a[s+(l<<4)+4>>1]|0)/g+S))*.5;l=l+1|0}while((l|0)!=(i|0))}M=1.0/+(i-t|0);I=M*_;O=M*f;M=M*u;if(d){s=o[e+76>>2]|0;_=0.0;f=0.0;h=0.0;l=t;do{C=(+c[s+(l<<6)+16>>2]+ +c[s+(l<<6)>>2])*.5-I;E=(+c[s+(l<<6)+20>>2]+ +c[s+(l<<6)+4>>2])*.5-O;S=(+c[s+(l<<6)+24>>2]+ +c[s+(l<<6)+8>>2])*.5-M;_=_+C*C;f=f+E*E;h=h+S*S;l=l+1|0}while((l|0)!=(i|0));u=+(i-t|0)}else{s=o[e+116>>2]|0;u=+c[e+36>>2];A=+c[e+40>>2];g=+c[e+44>>2];C=+c[e+4>>2];E=+c[e+8>>2];S=+c[e+12>>2];_=0.0;f=0.0;h=0.0;l=t;do{k=(+(a[s+(l<<4)+6>>1]|0)/u+C+(+(a[s+(l<<4)>>1]|0)/u+C))*.5-I;B=(+(a[s+(l<<4)+8>>1]|0)/A+E+(+(a[s+(l<<4)+2>>1]|0)/A+E))*.5-O;N=(+(a[s+(l<<4)+10>>1]|0)/g+S+(+(a[s+(l<<4)+4>>1]|0)/g+S))*.5-M;_=_+k*k;f=f+B*B;h=h+N*N;l=l+1|0}while((l|0)!=(i|0));u=+(i-t|0)}}else{h=0.0;f=0.0;_=0.0;u=+(i-t|0)}k=1.0/(u+-1.0);B=k*_;N=k*f;k=k*h;v=B<N?N<k?2:1:B<k?2:0;o[F+16>>2]=0;o[F+16+4>>2]=0;o[F+16+8>>2]=0;o[F+16+12>>2]=0;if((i|0)>(t|0)){if(!(n[e+60>>0]|0)){s=o[e+76>>2]|0;u=0.0;_=0.0;f=0.0;l=t;do{f=(+c[s+(l<<6)+16>>2]+ +c[s+(l<<6)>>2])*.5+f;u=(+c[s+(l<<6)+20>>2]+ +c[s+(l<<6)+4>>2])*.5+u;_=(+c[s+(l<<6)+24>>2]+ +c[s+(l<<6)+8>>2])*.5+_;l=l+1|0}while((l|0)!=(i|0))}else{s=o[e+116>>2]|0;h=+c[e+36>>2];A=+c[e+40>>2];g=+c[e+44>>2];C=+c[e+4>>2];E=+c[e+8>>2];S=+c[e+12>>2];u=0.0;_=0.0;f=0.0;l=t;do{f=(+(a[s+(l<<4)+6>>1]|0)/h+C+(+(a[s+(l<<4)>>1]|0)/h+C))*.5+f;u=(+(a[s+(l<<4)+8>>1]|0)/A+E+(+(a[s+(l<<4)+2>>1]|0)/A+E))*.5+u;_=(+(a[s+(l<<4)+10>>1]|0)/g+S+(+(a[s+(l<<4)+4>>1]|0)/g+S))*.5+_;l=l+1|0}while((l|0)!=(i|0))}c[F+16>>2]=f;c[F+16+4>>2]=u;c[F+16+8>>2]=_;s=F+16|0}else{f=0.0;u=0.0;_=0.0;s=F+16|0}c[s>>2]=1.0/+(i-t|0)*f;c[F+16+4>>2]=1.0/+(i-t|0)*u;c[F+16+8>>2]=1.0/+(i-t|0)*_;C=+c[F+16+(v<<2)>>2];if((i|0)>(t|0)){y=t;s=t;do{l=(n[e+60>>0]|0)==0;if(l){P=o[e+76>>2]|0;_=+c[P+(y<<6)+16>>2];u=+c[P+(y<<6)+20>>2];f=+c[P+(y<<6)+24>>2];h=+c[P+(y<<6)>>2];A=+c[P+(y<<6)+4>>2];g=+c[P+(y<<6)+8>>2]}else{P=o[e+116>>2]|0;N=+c[e+36>>2];B=+c[e+40>>2];k=+c[e+44>>2];h=+c[e+4>>2];A=+c[e+8>>2];g=+c[e+12>>2];_=+(a[P+(y<<4)+6>>1]|0)/N+h;u=+(a[P+(y<<4)+8>>1]|0)/B+A;f=+(a[P+(y<<4)+10>>1]|0)/k+g;h=+(a[P+(y<<4)>>1]|0)/N+h;A=+(a[P+(y<<4)+2>>1]|0)/B+A;g=+(a[P+(y<<4)+4>>1]|0)/k+g}c[F>>2]=(_+h)*.5;c[F+4>>2]=(u+A)*.5;c[F+8>>2]=(f+g)*.5;c[F+12>>2]=0.0;if(+c[F+(v<<2)>>2]>C){if(l){l=o[e+76>>2]|0;d=l+(y<<6)|0;p=F+32|0;b=d;m=p+64|0;do{o[p>>2]=o[b>>2];p=p+4|0;b=b+4|0}while((p|0)<(m|0));p=d;b=l+(s<<6)|0;m=p+64|0;do{o[p>>2]=o[b>>2];p=p+4|0;b=b+4|0}while((p|0)<(m|0));p=(o[e+76>>2]|0)+(s<<6)|0;b=F+32|0;m=p+64|0;do{o[p>>2]=o[b>>2];p=p+4|0;b=b+4|0}while((p|0)<(m|0))}else{x=o[e+116>>2]|0;P=x+(y<<4)|0;o[F+32>>2]=o[P>>2];o[F+32+4>>2]=o[P+4>>2];o[F+32+8>>2]=o[P+8>>2];o[F+32+12>>2]=o[P+12>>2];x=x+(s<<4)|0;o[P>>2]=o[x>>2];o[P+4>>2]=o[x+4>>2];o[P+8>>2]=o[x+8>>2];o[P+12>>2]=o[x+12>>2];P=(o[e+116>>2]|0)+(s<<4)|0;o[P>>2]=o[F+32>>2];o[P+4>>2]=o[F+32+4>>2];o[P+8>>2]=o[F+32+8>>2];o[P+12>>2]=o[F+32+12>>2]}s=s+1|0}y=y+1|0}while((y|0)!=(i|0))}else s=t;if(!((s|0)>(((i-t|0)/3|0)+t|0)?(s|0)<(i+-1-((i-t|0)/3|0)|0):0))s=(1?i-t>>1:i-t|0)+t|0;P=o[e+56>>2]|0;if(!(n[e+60>>0]|0)){x=(o[e+96>>2]|0)+(P<<6)|0;o[x>>2]=o[e+20>>2];o[x+4>>2]=o[e+20+4>>2];o[x+8>>2]=o[e+20+8>>2];o[x+12>>2]=o[e+20+12>>2]}else{x=o[e+136>>2]|0;B=(+c[e+24>>2]-+c[e+8>>2])*+c[e+40>>2];k=(+c[e+28>>2]-+c[e+12>>2])*+c[e+44>>2];r[x+(P<<4)>>1]=~~((+c[e+20>>2]-+c[e+4>>2])*+c[e+36>>2])&65535&-2;r[x+(P<<4)+2>>1]=~~B&65535&-2;r[x+(P<<4)+4>>1]=~~k&65535&-2}l=o[e+56>>2]|0;if(!(n[e+60>>0]|0)){x=(o[e+96>>2]|0)+(l<<6)+16|0;o[x>>2]=o[e+4>>2];o[x+4>>2]=o[e+4+4>>2];o[x+8>>2]=o[e+4+8>>2];o[x+12>>2]=o[e+4+12>>2]}else{x=o[e+136>>2]|0;N=+c[e+4>>2];B=+c[e+8>>2];k=+c[e+12>>2];B=(B-B)*+c[e+40>>2];k=(k-k)*+c[e+44>>2];r[x+(l<<4)+6>>1]=~~((N-N)*+c[e+36>>2]+1.0)&65535|1;r[x+(l<<4)+8>>1]=~~(B+1.0)&65535|1;r[x+(l<<4)+10>>1]=~~(k+1.0)&65535|1}x=o[e+56>>2]|0;if((i|0)>(t|0)){T=n[e+60>>0]|0;R=t;do{if(!(T<<24>>24)){l=o[e+76>>2]|0;_=+c[l+(R<<6)>>2];f=+c[l+(R<<6)+4>>2];h=+c[l+(R<<6)+8>>2];u=+c[l+(R<<6)+12>>2];A=+c[l+(R<<6)+16>>2];E=+c[l+(R<<6)+20>>2];g=+c[l+(R<<6)+24>>2];C=+c[l+(R<<6)+28>>2];l=o[e+96>>2]|0;if(_<+c[l+(x<<6)>>2])c[l+(x<<6)>>2]=_;if(f<+c[l+(x<<6)+4>>2])c[l+(x<<6)+4>>2]=f;if(h<+c[l+(x<<6)+8>>2])c[l+(x<<6)+8>>2]=h;if(u<+c[l+(x<<6)+12>>2])c[l+(x<<6)+12>>2]=u;if(+c[l+(x<<6)+16>>2]<A)c[l+(x<<6)+16>>2]=A;if(+c[l+(x<<6)+20>>2]<E)c[l+(x<<6)+20>>2]=E;if(+c[l+(x<<6)+24>>2]<g)c[l+(x<<6)+24>>2]=g;if(+c[l+(x<<6)+28>>2]<C)c[l+(x<<6)+28>>2]=C}else{y=o[e+116>>2]|0;A=+c[e+36>>2];S=+c[e+40>>2];N=+c[e+44>>2];g=+c[e+4>>2];M=+c[e+8>>2];B=+c[e+12>>2];C=+c[e+4>>2];O=+c[e+8>>2];k=+c[e+12>>2];h=+c[e+36>>2];E=+c[e+40>>2];I=+c[e+44>>2];l=~~((+(a[y+(R<<4)>>1]|0)/A+g-C)*h)&65535&-2;d=~~((+(a[y+(R<<4)+2>>1]|0)/S+M-O)*E)&65535&-2;p=~~((+(a[y+(R<<4)+4>>1]|0)/N+B-k)*I)&65535&-2;b=~~(h*(+(a[y+(R<<4)+6>>1]|0)/A+g-C)+1.0)&65535|1;m=~~(E*(+(a[y+(R<<4)+8>>1]|0)/S+M-O)+1.0)&65535|1;y=~~(I*(+(a[y+(R<<4)+10>>1]|0)/N+B-k)+1.0)&65535|1;v=o[e+136>>2]|0;if((a[v+(x<<4)>>1]|0)>(l&65535))r[v+(x<<4)>>1]=l;if((a[v+(x<<4)+6>>1]|0)<(b&65535))r[v+(x<<4)+6>>1]=b;if((a[v+(x<<4)+2>>1]|0)>(d&65535))r[v+(x<<4)+2>>1]=d;if((a[v+(x<<4)+8>>1]|0)<(m&65535))r[v+(x<<4)+8>>1]=m;if((a[v+(x<<4)+4>>1]|0)>(p&65535))r[v+(x<<4)+4>>1]=p;if((a[v+(x<<4)+10>>1]|0)<(y&65535))r[v+(x<<4)+10>>1]=y}R=R+1|0}while((R|0)!=(i|0))}o[e+56>>2]=x+1;Go(e,t,s);T=o[e+56>>2]|0;Go(e,s,i);v=(o[e+56>>2]|0)-D|0;s=n[e+60>>0]|0;if(s<<24>>24!=0&(v|0)>128){m=o[e+136>>2]|0;b=o[m+(x+1<<4)+12>>2]|0;b=(b|0)>-1?1:0-b|0;y=o[m+(T<<4)+12>>2]|0;y=(y|0)>-1?1:0-y|0;if((b|0)<129){p=o[e+152>>2]|0;if((p|0)==(o[e+156>>2]|0)?(w=(p|0)==0?1:p<<1,(p|0)<(w|0)):0){if(!w){l=p;d=0}else{o[6747]=(o[6747]|0)+1;s=Do(w<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}l=o[e+152>>2]|0;d=s}if((l|0)>0){s=0;do{i=d+(s<<5)|0;D=(o[e+160>>2]|0)+(s<<5)|0;o[i>>2]=o[D>>2];o[i+4>>2]=o[D+4>>2];o[i+8>>2]=o[D+8>>2];o[i+12>>2]=o[D+12>>2];o[i+16>>2]=o[D+16>>2];o[i+20>>2]=o[D+20>>2];o[i+24>>2]=o[D+24>>2];o[i+28>>2]=o[D+28>>2];s=s+1|0}while((s|0)!=(l|0))}s=o[e+160>>2]|0;if(s|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=d;o[e+156>>2]=w;s=o[e+152>>2]|0}else s=p;o[e+152>>2]=s+1;w=(o[e+160>>2]|0)+(p<<5)|0;o[w>>2]=o[F+32>>2];o[w+4>>2]=o[F+32+4>>2];o[w+8>>2]=o[F+32+8>>2];o[w+12>>2]=o[F+32+12>>2];o[w+16>>2]=o[F+32+16>>2];o[w+20>>2]=o[F+32+20>>2];o[w+24>>2]=o[F+32+24>>2];o[w+28>>2]=o[F+32+28>>2];w=o[e+160>>2]|0;r[w+(p<<5)>>1]=r[m+(x+1<<4)>>1]|0;r[w+(p<<5)+2>>1]=r[m+(x+1<<4)+2>>1]|0;r[w+(p<<5)+4>>1]=r[m+(x+1<<4)+4>>1]|0;r[w+(p<<5)+6>>1]=r[m+(x+1<<4)+6>>1]|0;r[w+(p<<5)+8>>1]=r[m+(x+1<<4)+8>>1]|0;r[w+(p<<5)+10>>1]=r[m+(x+1<<4)+10>>1]|0;o[w+(p<<5)+12>>2]=x+1;o[w+(p<<5)+16>>2]=b}if((y|0)<129){p=o[e+152>>2]|0;if((p|0)==(o[e+156>>2]|0)?(L=(p|0)==0?1:p<<1,(p|0)<(L|0)):0){if(!L){l=p;d=0}else{o[6747]=(o[6747]|0)+1;s=Do(L<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}l=o[e+152>>2]|0;d=s}if((l|0)>0){s=0;do{w=d+(s<<5)|0;i=(o[e+160>>2]|0)+(s<<5)|0;o[w>>2]=o[i>>2];o[w+4>>2]=o[i+4>>2];o[w+8>>2]=o[i+8>>2];o[w+12>>2]=o[i+12>>2];o[w+16>>2]=o[i+16>>2];o[w+20>>2]=o[i+20>>2];o[w+24>>2]=o[i+24>>2];o[w+28>>2]=o[i+28>>2];s=s+1|0}while((s|0)!=(l|0))}s=o[e+160>>2]|0;if(s|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=d;o[e+156>>2]=L;s=o[e+152>>2]|0}else s=p;o[e+152>>2]=s+1;s=(o[e+160>>2]|0)+(p<<5)|0;o[s>>2]=o[F+32>>2];o[s+4>>2]=o[F+32+4>>2];o[s+8>>2]=o[F+32+8>>2];o[s+12>>2]=o[F+32+12>>2];o[s+16>>2]=o[F+32+16>>2];o[s+20>>2]=o[F+32+20>>2];o[s+24>>2]=o[F+32+24>>2];o[s+28>>2]=o[F+32+28>>2];s=o[e+160>>2]|0;r[s+(p<<5)>>1]=r[m+(T<<4)>>1]|0;r[s+(p<<5)+2>>1]=r[m+(T<<4)+2>>1]|0;r[s+(p<<5)+4>>1]=r[m+(T<<4)+4>>1]|0;r[s+(p<<5)+6>>1]=r[m+(T<<4)+6>>1]|0;r[s+(p<<5)+8>>1]=r[m+(T<<4)+8>>1]|0;r[s+(p<<5)+10>>1]=r[m+(T<<4)+10>>1]|0;o[s+(p<<5)+12>>2]=T;o[s+(p<<5)+16>>2]=y;s=e+152|0}else s=e+152|0;o[e+168>>2]=o[s>>2];s=n[e+60>>0]|0}if(!(s<<24>>24)){o[(o[e+96>>2]|0)+(P<<6)+32>>2]=v;ae=F;return}else{o[(o[e+136>>2]|0)+(P<<4)+12>>2]=0-v;ae=F;return}}function Wo(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0,te=0,ie=0,ne=0,re=0,oe=0,se=0.0,ce=0.0,le=0.0,_e=0.0,ue=0.0,fe=0.0,de=0.0,he=0.0,pe=0.0,be=0.0,me=0.0;oe=ae;ae=ae+176|0;ie=o[t+4>>2]|0;ne=o[i+4>>2]|0;if((o[ie+68>>2]|0)==(o[e+40>>2]|0)?(o[ne+68>>2]|0)==(o[e+44>>2]|0):0)te=e+8|0;else{a=o[e+8>>2]|0;l=o[a+8>>2]|0;if((l|0)>0){u=0;do{_=o[(o[a+16>>2]|0)+(u*12|0)+8>>2]|0;if(_|0){SF[o[o[_>>2]>>2]&511](_);te=o[e+4>>2]|0;xF[o[(o[te>>2]|0)+60>>2]&127](te,_)}u=u+1|0}while((u|0)!=(l|0));a=o[e+8>>2]|0}nn(a);te=e+8|0}n[oe+128+16>>0]=1;h=oe+128+12|0;o[h>>2]=0;o[oe+128+4>>2]=0;o[oe+128+8>>2]=0;d=o[te>>2]|0;a=o[d+8>>2]|0;if((a|0)>0){f=0;do{l=o[(o[d+16>>2]|0)+(f*12|0)+8>>2]|0;if(l){xF[o[(o[l>>2]|0)+16>>2]&127](l,oe+128|0);a=o[oe+128+4>>2]|0;if((a|0)>0){u=0;do{_=o[(o[h>>2]|0)+(u<<2)>>2]|0;if(o[_+748>>2]|0){o[s+4>>2]=_;a=o[_+740>>2]|0;l=o[(o[s+8>>2]|0)+8>>2]|0;if((a|0)==(l|0))io(_,a+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);else io(_,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,l+4|0);o[s+4>>2]=0;a=o[oe+128+4>>2]|0}u=u+1|0}while((u|0)<(a|0))}if((a|0)<0){if((o[oe+128+8>>2]|0)<0){l=o[h>>2]|0;if(l|0){if(n[oe+128+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[h>>2]=0}n[oe+128+16>>0]=1;o[h>>2]=0;o[oe+128+8>>2]=0}do{o[(o[h>>2]|0)+(a<<2)>>2]=0;a=a+1|0}while((a|0)!=0)}o[oe+128+4>>2]=0;a=o[d+8>>2]|0}f=f+1|0}while((f|0)<(a|0));a=o[h>>2]|0;if(a|0){if(n[oe+128+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[h>>2]=0}}l=o[ie+64>>2]|0;_=o[ne+64>>2]|0;m=o[e+4>>2]|0;A=o[te>>2]|0;g=o[e+32>>2]|0;o[oe+128>>2]=7368;o[oe+128+4>>2]=0;o[oe+128+8>>2]=t;o[oe+128+12>>2]=i;o[oe+128+16>>2]=m;o[oe+128+20>>2]=r;o[oe+128+24>>2]=s;o[oe+128+28>>2]=A;o[oe+128+32>>2]=g;g=o[t+12>>2]|0;x=+c[g>>2];P=+c[g+16>>2];D=+c[g+32>>2];w=+c[g+4>>2];L=+c[g+20>>2];F=+c[g+36>>2];N=+c[g+8>>2];B=+c[g+24>>2];k=+c[g+40>>2];J=-+c[g+48>>2];q=-+c[g+52>>2];$=-+c[g+56>>2];g=o[i+12>>2]|0;U=+c[g>>2];H=+c[g+16>>2];j=+c[g+32>>2];V=+c[g+4>>2];G=+c[g+20>>2];W=+c[g+36>>2];X=+c[g+8>>2];z=+c[g+24>>2];Y=+c[g+40>>2];Q=+c[g+48>>2];K=+c[g+52>>2];Z=+c[g+56>>2];l=o[l>>2]|0;_=o[_>>2]|0;if((l|0)!=0&(_|0)!=0){o[6747]=(o[6747]|0)+1;a=Do(1043)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}o[a>>2]=l;o[a+4>>2]=_;v=+y(+(x*U+P*H+D*j));C=+y(+(x*V+P*G+D*W));E=+y(+(x*X+P*z+D*Y));S=+y(+(w*U+L*H+F*j));T=+y(+(w*V+L*G+F*W));R=+y(+(w*X+L*z+F*Y));M=+y(+(N*U+B*H+k*j));O=+y(+(N*V+B*G+k*W));I=+y(+(N*X+B*z+k*Y));f=a;h=a;d=a;g=1;l=128;b=a;u=128;a=124;while(1){r=g+-1|0;m=o[b+(r<<3)>>2]|0;A=o[b+(r<<3)+4>>2]|0;me=+c[A+16>>2];be=+c[A>>2];pe=+c[A+20>>2];he=+c[A+4>>2];de=+c[A+24>>2];se=+c[A+8>>2];fe=x*J+P*q+D*$+(x*Q+P*K+D*Z)+((x*U+P*H+D*j)*((me+be)*.5)+(x*V+P*G+D*W)*((pe+he)*.5)+(x*X+P*z+D*Y)*((de+se)*.5));_e=w*J+L*q+F*$+(w*Q+L*K+F*Z)+((w*U+L*H+F*j)*((me+be)*.5)+(w*V+L*G+F*W)*((pe+he)*.5)+(w*X+L*z+F*Y)*((de+se)*.5));ce=N*J+B*q+k*$+(N*Q+B*K+k*Z)+((N*U+B*H+k*j)*((me+be)*.5)+(N*V+B*G+k*W)*((pe+he)*.5)+(N*X+B*z+k*Y)*((de+se)*.5));ue=v*((me-be)*.5+0.0)+C*((pe-he)*.5+0.0)+E*((de-se)*.5+0.0);le=S*((me-be)*.5+0.0)+T*((pe-he)*.5+0.0)+R*((de-se)*.5+0.0);se=M*((me-be)*.5+0.0)+O*((pe-he)*.5+0.0)+I*((de-se)*.5+0.0);do{if(((((+c[m>>2]<=ue+fe?+c[m+16>>2]>=fe-ue:0)?+c[m+4>>2]<=le+_e:0)?+c[m+20>>2]>=_e-le:0)?+c[m+8>>2]<=se+ce:0)?+c[m+24>>2]>=ce-se:0){if((r|0)>(a|0)){s=u<<1;do{if((u|0)<(s|0)&(l|0)<(s|0)){do{if(!u){_=0;a=0;ee=55}else{o[6747]=(o[6747]|0)+1;a=Do((u<<4|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}if((u|0)<=0){_=l;a=l;ee=55;break}a=0;do{d=b+(a<<3)|0;h=o[d+4>>2]|0;p=l+(a<<3)|0;o[p>>2]=o[d>>2];o[p+4>>2]=h;a=a+1|0}while((a|0)!=(u|0));_=l;a=l}}while(0);if((ee|0)==55){ee=0;if(!b){u=a;d=a;l=s;break}}if(!f){u=a;d=a;l=s}else{o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0);u=a;d=a;l=s}}else{u=h;a=f;_=b}}while(0);h=u;f=a;p=l;u=s;s=s+-4|0}else{p=l;_=b;s=a}l=(o[A+40>>2]|0)!=0;if(!(o[m+40>>2]|0)){if(l){l=o[A+36>>2]|0;o[_+(r<<3)>>2]=m;o[_+(r<<3)+4>>2]=l;r=o[A+40>>2]|0;o[_+(g<<3)>>2]=m;o[_+(g<<3)+4>>2]=r;r=g+1|0;l=p;a=s;break}else{LF[o[(o[oe+128>>2]|0)+8>>2]&127](oe+128|0,m,A);l=p;a=s;break}}else{a=o[m+36>>2]|0;if(l){l=o[A+36>>2]|0;o[_+(r<<3)>>2]=a;o[_+(r<<3)+4>>2]=l;a=o[A+36>>2]|0;l=g+1|0;o[_+(g<<3)>>2]=o[m+40>>2];o[_+(g<<3)+4>>2]=a;a=o[A+40>>2]|0;r=g+2|0;o[_+(l<<3)>>2]=o[m+36>>2];o[_+(l<<3)+4>>2]=a;l=o[A+40>>2]|0;o[_+(r<<3)>>2]=o[m+40>>2];o[_+(r<<3)+4>>2]=l;r=g+3|0;l=p;a=s;break}else{o[_+(r<<3)>>2]=a;o[_+(r<<3)+4>>2]=A;o[_+(g<<3)>>2]=o[m+40>>2];o[_+(g<<3)+4>>2]=A;r=g+1|0;l=p;a=s;break}}}else _=b}while(0);if(!r)break;else{g=r;b=_}}if(!((_|0)==0|(h|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}}d=o[te>>2]|0;if((o[d+8>>2]|0)>0){h=0;do{a=o[d+16>>2]|0;l=o[a+(h*12|0)+8>>2]|0;do{if(l|0){ee=o[a+(h*12|0)>>2]|0;g=o[ie+24>>2]|0;A=o[g+(ee*80|0)+64>>2]|0;m=o[t+12>>2]|0;me=+c[m>>2];G=+c[m+4>>2];V=+c[m+8>>2];he=+c[m+16>>2];fe=+c[m+20>>2];_e=+c[m+24>>2];de=+c[m+32>>2];le=+c[m+36>>2];Q=+c[m+40>>2];ce=+c[g+(ee*80|0)>>2];se=+c[g+(ee*80|0)+16>>2];$=+c[g+(ee*80|0)+32>>2];q=+c[g+(ee*80|0)+4>>2];J=+c[g+(ee*80|0)+20>>2];Z=+c[g+(ee*80|0)+36>>2];ue=+c[g+(ee*80|0)+8>>2];K=+c[g+(ee*80|0)+24>>2];Y=+c[g+(ee*80|0)+40>>2];be=+c[g+(ee*80|0)+48>>2];pe=+c[g+(ee*80|0)+52>>2];W=+c[g+(ee*80|0)+56>>2];z=+c[m+48>>2]+(me*be+G*pe+V*W);X=+c[m+52>>2]+(he*be+fe*pe+_e*W);W=+c[m+56>>2]+(de*be+le*pe+Q*W);c[oe>>2]=me*ce+G*se+V*$;c[oe+4>>2]=me*q+G*J+V*Z;c[oe+8>>2]=me*ue+G*K+V*Y;c[oe+12>>2]=0.0;c[oe+16>>2]=he*ce+fe*se+_e*$;c[oe+20>>2]=he*q+fe*J+_e*Z;c[oe+24>>2]=he*ue+fe*K+_e*Y;c[oe+28>>2]=0.0;c[oe+32>>2]=de*ce+le*se+Q*$;c[oe+36>>2]=de*q+le*J+Q*Z;c[oe+40>>2]=de*ue+le*K+Q*Y;c[oe+44>>2]=0.0;c[oe+48>>2]=z;c[oe+52>>2]=X;c[oe+56>>2]=W;c[oe+60>>2]=0.0;BF[o[(o[A>>2]|0)+8>>2]&127](A,oe,oe+112|0,oe+96|0);A=o[(o[d+16>>2]|0)+(h*12|0)+4>>2]|0;m=o[ne+24>>2]|0;ee=o[m+(A*80|0)+64>>2]|0;g=o[i+12>>2]|0;W=+c[g>>2];X=+c[g+4>>2];z=+c[g+8>>2];Y=+c[g+16>>2];Q=+c[g+20>>2];K=+c[g+24>>2];le=+c[g+32>>2];ue=+c[g+36>>2];de=+c[g+40>>2];Z=+c[m+(A*80|0)>>2];J=+c[m+(A*80|0)+16>>2];q=+c[m+(A*80|0)+32>>2];$=+c[m+(A*80|0)+4>>2];se=+c[m+(A*80|0)+20>>2];ce=+c[m+(A*80|0)+36>>2];_e=+c[m+(A*80|0)+8>>2];fe=+c[m+(A*80|0)+24>>2];he=+c[m+(A*80|0)+40>>2];V=+c[m+(A*80|0)+48>>2];G=+c[m+(A*80|0)+52>>2];me=+c[m+(A*80|0)+56>>2];pe=+c[g+48>>2]+(W*V+X*G+z*me);be=+c[g+52>>2]+(Y*V+Q*G+K*me);me=+c[g+56>>2]+(le*V+ue*G+de*me);c[oe>>2]=W*Z+X*J+z*q;c[oe+4>>2]=W*$+X*se+z*ce;c[oe+8>>2]=W*_e+X*fe+z*he;c[oe+12>>2]=0.0;c[oe+16>>2]=Y*Z+Q*J+K*q;c[oe+20>>2]=Y*$+Q*se+K*ce;c[oe+24>>2]=Y*_e+Q*fe+K*he;c[oe+28>>2]=0.0;c[oe+32>>2]=le*Z+ue*J+de*q;c[oe+36>>2]=le*$+ue*se+de*ce;c[oe+40>>2]=le*_e+ue*fe+de*he;c[oe+44>>2]=0.0;c[oe+48>>2]=pe;c[oe+52>>2]=be;c[oe+56>>2]=me;c[oe+60>>2]=0.0;BF[o[(o[ee>>2]|0)+8>>2]&127](ee,oe,oe+80|0,oe+64|0);if(!(+c[oe+112>>2]>+c[oe+64>>2])?!(+c[oe+96>>2]<+c[oe+80>>2]):0)a=1;else a=0;if(!(!(+c[oe+112+8>>2]>+c[oe+64+8>>2])?!(+c[oe+96+8>>2]<+c[oe+80+8>>2]):0))a=0;if(!(+c[oe+112+4>>2]>+c[oe+64+4>>2])?!(+c[oe+96+4>>2]<+c[oe+80+4>>2]|a^1):0)break;SF[o[o[l>>2]>>2]&511](l);f=o[e+4>>2]|0;xF[o[(o[f>>2]|0)+60>>2]&127](f,l);f=o[d+16>>2]|0;u=o[f+(h*12|0)>>2]|0;f=o[f+(h*12|0)+4>>2]|0;a=o[e+16>>2]|0;if((a|0)==(o[e+20>>2]|0)?(re=(a|0)==0?1:a<<1,(a|0)<(re|0)):0){if(!re)l=0;else{o[6747]=(o[6747]|0)+1;a=Do((re*12|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[e+16>>2]|0}if((a|0)>0){_=0;do{ee=l+(_*12|0)|0;g=(o[e+24>>2]|0)+(_*12|0)|0;o[ee>>2]=o[g>>2];o[ee+4>>2]=o[g+4>>2];o[ee+8>>2]=o[g+8>>2];_=_+1|0}while((_|0)!=(a|0))}a=o[e+24>>2]|0;if(a|0){if(n[e+28>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+24>>2]=0}n[e+28>>0]=1;o[e+24>>2]=l;o[e+20>>2]=re;a=o[e+16>>2]|0}ee=o[e+24>>2]|0;o[ee+(a*12|0)>>2]=u;o[ee+(a*12|0)+4>>2]=f;o[ee+(a*12|0)+8>>2]=0;o[e+16>>2]=(o[e+16>>2]|0)+1}}while(0);h=h+1|0}while((h|0)<(o[d+8>>2]|0));l=e+24|0;_=e+16|0}else{l=e+24|0;_=e+16|0}if((o[_>>2]|0)>0){a=0;do{i=o[te>>2]|0;re=o[l>>2]|0;mF[o[(o[i>>2]|0)+8>>2]&63](i,o[re+(a*12|0)>>2]|0,o[re+(a*12|0)+4>>2]|0)|0;a=a+1|0}while((a|0)<(o[_>>2]|0))}a=o[l>>2]|0;if(!a){n[e+28>>0]=1;o[l>>2]=0;o[_>>2]=0;e=e+20|0;o[e>>2]=0;ae=oe;return}if(n[e+28>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[l>>2]=0;n[e+28>>0]=1;o[l>>2]=0;o[_>>2]=0;e=e+20|0;o[e>>2]=0;ae=oe;return}function Xo(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0;A=ae;ae=ae+208|0;r=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[r>>2]|0)+56>>2]&7](r,t,1.0);r=o[i+4>>2]|0;switch(r|0){case 31:{r=o[i+16>>2]|0;if((r|0)<=0){ae=A;return}do{m=r;r=r+-1|0;b=o[i+24>>2]|0;I=+c[b+(r*80|0)>>2];R=+c[b+(r*80|0)+4>>2];E=+c[b+(r*80|0)+8>>2];O=+c[b+(r*80|0)+16>>2];T=+c[b+(r*80|0)+20>>2];v=+c[b+(r*80|0)+24>>2];M=+c[b+(r*80|0)+32>>2];S=+c[b+(r*80|0)+36>>2];g=+c[b+(r*80|0)+40>>2];B=+c[b+(r*80|0)+48>>2];N=+c[b+(r*80|0)+52>>2];_=+c[b+(r*80|0)+56>>2];b=o[b+(r*80|0)+64>>2]|0;p=o[(o[e>>2]|0)+28>>2]|0;F=+c[t>>2];L=+c[t+4>>2];w=+c[t+8>>2];D=+c[t+16>>2];P=+c[t+20>>2];x=+c[t+24>>2];C=+c[t+32>>2];y=+c[t+36>>2];s=+c[t+40>>2];a=B*F+N*L+_*w+ +c[t+48>>2];l=B*D+N*P+_*x+ +c[t+52>>2];_=B*C+N*y+_*s+ +c[t+56>>2];c[A+144>>2]=I*F+O*L+M*w;c[A+144+4>>2]=R*F+T*L+S*w;c[A+144+8>>2]=E*F+v*L+g*w;c[A+144+12>>2]=0.0;c[A+144+16>>2]=I*D+O*P+M*x;c[A+144+20>>2]=R*D+T*P+S*x;c[A+144+24>>2]=E*D+v*P+g*x;c[A+144+28>>2]=0.0;c[A+144+32>>2]=I*C+O*y+M*s;c[A+144+36>>2]=R*C+T*y+S*s;c[A+144+40>>2]=E*C+v*y+g*s;c[A+144+44>>2]=0.0;c[A+144+48>>2]=a;c[A+144+52>>2]=l;c[A+144+56>>2]=_;c[A+144+60>>2]=0.0;BF[p&127](e,A+144|0,b,n)}while((m|0)>1);ae=A;return}case 0:{o[A+144>>2]=o[i+28>>2];o[A+144+4>>2]=o[i+28+4>>2];o[A+144+8>>2]=o[i+28+8>>2];o[A+144+12>>2]=o[i+28+12>>2];F=+nF[o[(o[i>>2]|0)+48>>2]&15](i);N=+nF[o[(o[i>>2]|0)+48>>2]&15](i);B=+nF[o[(o[i>>2]|0)+48>>2]&15](i);F=F+ +c[A+144>>2];c[A+144>>2]=F;N=N+ +c[A+144+4>>2];c[A+144+4>>2]=N;B=B+ +c[A+144+8>>2];c[A+144+8>>2]=B;e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;i=o[(o[e>>2]|0)+72>>2]|0;c[A+112>>2]=-F;c[A+112+4>>2]=-N;c[A+112+8>>2]=-B;c[A+112+12>>2]=0.0;jF[i&31](e,A+112|0,A+144|0,t,n);ae=A;return}case 8:{B=+nF[o[(o[i>>2]|0)+48>>2]&15](i);e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;IF[o[(o[e>>2]|0)+16>>2]&1](e,B,t,n);ae=A;return}case 9:{r=o[i+92>>2]|0;if((r|0)<=0){ae=A;return}do{m=r;r=r+-1|0;b=o[i+100>>2]|0;E=+c[b+(r<<4)>>2];S=+c[b+(r<<4)+4>>2];N=+c[b+(r<<4)+8>>2];b=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;p=o[(o[b>>2]|0)+16>>2]|0;B=+c[(o[i+120>>2]|0)+(r<<2)>>2];R=+c[t>>2];M=+c[t+4>>2];T=+c[t+8>>2];I=+c[t+16>>2];x=+c[t+20>>2];O=+c[t+24>>2];D=+c[t+32>>2];w=+c[t+36>>2];P=+c[t+40>>2];L=E*R+S*M+N*T+ +c[t+48>>2];F=E*I+S*x+N*O+ +c[t+52>>2];N=E*D+S*w+N*P+ +c[t+56>>2];c[A+144>>2]=R+M*0.0+T*0.0;c[A+144+4>>2]=R*0.0+M+T*0.0;c[A+144+8>>2]=T+(R*0.0+M*0.0);c[A+144+12>>2]=0.0;c[A+144+16>>2]=I+x*0.0+O*0.0;c[A+144+20>>2]=I*0.0+x+O*0.0;c[A+144+24>>2]=O+(I*0.0+x*0.0);c[A+144+28>>2]=0.0;c[A+144+32>>2]=D+w*0.0+P*0.0;c[A+144+36>>2]=D*0.0+w+P*0.0;c[A+144+40>>2]=P+(D*0.0+w*0.0);c[A+144+44>>2]=0.0;c[A+144+48>>2]=L;c[A+144+52>>2]=F;c[A+144+56>>2]=N;c[A+144+60>>2]=0.0;IF[p&1](b,B,A+144|0,n)}while((m|0)>1);ae=A;return}case 10:{m=o[i+52>>2]|0;N=+c[i+28+(((m+2|0)%3|0)<<2)>>2];B=+c[i+28+(m<<2)>>2];e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;MF[o[(o[e>>2]|0)+76>>2]&3](e,N,B,m,t,n);ae=A;return}case 11:{N=+c[i+56>>2];B=+c[i+60>>2];i=o[i+68>>2]|0;e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;MF[o[(o[e>>2]|0)+84>>2]&3](e,N,B,i,t,n);ae=A;return}case 13:{m=o[i+52>>2]|0;N=+nF[o[(o[i>>2]|0)+92>>2]&15](i);o[A+128>>2]=o[i+28>>2];o[A+128+4>>2]=o[i+28+4>>2];o[A+128+8>>2]=o[i+28+8>>2];o[A+128+12>>2]=o[i+28+12>>2];L=+nF[o[(o[i>>2]|0)+48>>2]&15](i);F=+nF[o[(o[i>>2]|0)+48>>2]&15](i);B=+nF[o[(o[i>>2]|0)+48>>2]&15](i);c[A+128>>2]=L+ +c[A+128>>2];c[A+128+4>>2]=F+ +c[A+128+4>>2];c[A+128+8>>2]=B+ +c[A+128+8>>2];B=+c[A+128+(m<<2)>>2];e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;MF[o[(o[e>>2]|0)+80>>2]&3](e,N,B,m,t,n);ae=A;return}case 28:{B=+c[i+64>>2];e=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;wF[o[(o[e>>2]|0)+88>>2]&1](e,i+48|0,B,t,n);ae=A;return}default:{e:do{if((r|0)<7){b=o[i+52>>2]|0;if(!b){if((dF[o[(o[i>>2]|0)+100>>2]&127](i)|0)<=0)break;r=0;while(1){BF[o[(o[i>>2]|0)+104>>2]&127](i,r,A+144|0,A+112|0);B=+c[A+144>>2];S=+c[t>>2];F=+c[A+144+4>>2];T=+c[t+4>>2];w=+c[A+144+8>>2];R=+c[t+8>>2];O=+c[t+16>>2];I=+c[t+20>>2];x=+c[t+24>>2];D=+c[t+32>>2];L=+c[t+36>>2];N=+c[t+40>>2];E=+c[t+48>>2];M=+c[t+52>>2];P=+c[t+56>>2];c[A+16>>2]=B*S+F*T+w*R+E;c[A+16+4>>2]=B*O+F*I+w*x+M;c[A+16+8>>2]=B*D+F*L+w*N+P;c[A+16+12>>2]=0.0;w=+c[A+112>>2];F=+c[A+112+4>>2];B=+c[A+112+8>>2];c[A>>2]=E+(S*w+T*F+R*B);c[A+4>>2]=M+(O*w+I*F+x*B);c[A+8>>2]=P+(D*w+L*F+N*B);c[A+12>>2]=0.0;m=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;BF[o[(o[m>>2]|0)+8>>2]&127](m,A+16|0,A,n);r=r+1|0;if((r|0)>=(dF[o[(o[i>>2]|0)+100>>2]&127](i)|0))break e}}if((o[b+28>>2]|0)>0){m=0;do{r=o[b+36>>2]|0;p=o[r+(m*36|0)+4>>2]|0;t:do{if((p|0)>0){d=o[r+(m*36|0)+12>>2]|0;u=d;s=0.0;a=0.0;l=0.0;d=o[d+(p+-1<<2)>>2]|0;r=0;while(1){h=o[u+(r<<2)>>2]|0;f=o[b+16>>2]|0;s=s+ +c[f+(h<<4)>>2];a=a+ +c[f+(h<<4)+4>>2];l=l+ +c[f+(h<<4)+8>>2];f=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;u=o[(o[f>>2]|0)+8>>2]|0;k=o[b+16>>2]|0;B=+c[k+(d<<4)>>2];S=+c[t>>2];F=+c[k+(d<<4)+4>>2];T=+c[t+4>>2];w=+c[k+(d<<4)+8>>2];R=+c[t+8>>2];O=+c[t+16>>2];I=+c[t+20>>2];x=+c[t+24>>2];D=+c[t+32>>2];L=+c[t+36>>2];N=+c[t+40>>2];E=+c[t+48>>2];M=+c[t+52>>2];P=+c[t+56>>2];c[A+144>>2]=B*S+F*T+w*R+E;c[A+144+4>>2]=B*O+F*I+w*x+M;c[A+144+8>>2]=B*D+F*L+w*N+P;c[A+144+12>>2]=0.0;w=+c[k+(h<<4)>>2];F=+c[k+(h<<4)+4>>2];B=+c[k+(h<<4)+8>>2];c[A+112>>2]=E+(S*w+T*F+R*B);c[A+112+4>>2]=M+(O*w+I*F+x*B);c[A+112+8>>2]=P+(D*w+L*F+N*B);c[A+112+12>>2]=0.0;BF[u&127](f,A+144|0,A+112|0,n);f=r+1|0;r=o[b+36>>2]|0;if((f|0)>=(o[r+(m*36|0)+4>>2]|0))break t;u=o[r+(m*36|0)+12>>2]|0;d=h;r=f}}else{s=0.0;a=0.0;l=0.0}}while(0);_=1.0/+(p|0)*s;a=1.0/+(p|0)*a;s=1.0/+(p|0)*l;k=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;if((dF[o[(o[k>>2]|0)+48>>2]&127](k)|0)&16384|0){o[A+144>>2]=1065353216;o[A+144+4>>2]=1065353216;o[A+144+8>>2]=0;c[A+144+12>>2]=0.0;k=o[b+36>>2]|0;P=+c[k+(m*36|0)+20>>2];w=+c[k+(m*36|0)+24>>2];F=+c[k+(m*36|0)+28>>2];k=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;p=o[(o[k>>2]|0)+8>>2]|0;E=+c[t>>2];S=+c[t+4>>2];T=+c[t+8>>2];M=+c[t+16>>2];O=+c[t+20>>2];I=+c[t+24>>2];D=+c[t+32>>2];L=+c[t+36>>2];N=+c[t+40>>2];R=+c[t+48>>2];x=+c[t+52>>2];B=+c[t+56>>2];c[A+112>>2]=_*E+a*S+s*T+R;c[A+112+4>>2]=_*M+a*O+s*I+x;c[A+112+8>>2]=_*D+a*L+s*N+B;c[A+112+12>>2]=0.0;c[A+16>>2]=(_+P)*E+(a+w)*S+(s+F)*T+R;c[A+16+4>>2]=(_+P)*M+(a+w)*O+(s+F)*I+x;c[A+16+8>>2]=(_+P)*D+(a+w)*L+(s+F)*N+B;c[A+16+12>>2]=0.0;BF[p&127](k,A+112|0,A+16|0,A+144|0)}m=m+1|0}while((m|0)<(o[b+28>>2]|0))}}}while(0);r=o[i+4>>2]|0;if((r+-21|0)>>>0<9){o[A+144>>2]=1566444395;o[A+144+4>>2]=1566444395;o[A+144+8>>2]=1566444395;c[A+144+12>>2]=0.0;o[A+112>>2]=-581039253;o[A+112+4>>2]=-581039253;o[A+112+8>>2]=-581039253;c[A+112+12>>2]=0.0;r=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;o[A+16>>2]=6932;o[A+16+4>>2]=6956;o[A+16+8>>2]=r;o[A+16+12>>2]=o[n>>2];o[A+16+12+4>>2]=o[n+4>>2];o[A+16+12+8>>2]=o[n+8>>2];o[A+16+12+12>>2]=o[n+12>>2];o[A+16+28>>2]=o[t>>2];o[A+16+28+4>>2]=o[t+4>>2];o[A+16+28+8>>2]=o[t+8>>2];o[A+16+28+12>>2]=o[t+12>>2];o[A+16+44>>2]=o[t+16>>2];o[A+16+44+4>>2]=o[t+16+4>>2];o[A+16+44+8>>2]=o[t+16+8>>2];o[A+16+44+12>>2]=o[t+16+12>>2];o[A+16+60>>2]=o[t+32>>2];o[A+16+60+4>>2]=o[t+32+4>>2];o[A+16+60+8>>2]=o[t+32+8>>2];o[A+16+60+12>>2]=o[t+32+12>>2];o[A+16+76>>2]=o[t+48>>2];o[A+16+76+4>>2]=o[t+48+4>>2];o[A+16+76+8>>2]=o[t+48+8>>2];o[A+16+76+12>>2]=o[t+48+12>>2];BF[o[(o[i>>2]|0)+64>>2]&127](i,A+16|0,A+112|0,A+144|0);r=o[i+4>>2]|0}if((r|0)!=3){ae=A;return}o[A+144>>2]=1566444395;o[A+144+4>>2]=1566444395;o[A+144+8>>2]=1566444395;c[A+144+12>>2]=0.0;o[A+112>>2]=-581039253;o[A+112+4>>2]=-581039253;o[A+112+8>>2]=-581039253;c[A+112+12>>2]=0.0;k=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;o[A+16>>2]=6932;o[A+16+4>>2]=6956;o[A+16+8>>2]=k;o[A+16+12>>2]=o[n>>2];o[A+16+12+4>>2]=o[n+4>>2];o[A+16+12+8>>2]=o[n+8>>2];o[A+16+12+12>>2]=o[n+12>>2];o[A+16+28>>2]=o[t>>2];o[A+16+28+4>>2]=o[t+4>>2];o[A+16+28+8>>2]=o[t+8>>2];o[A+16+28+12>>2]=o[t+12>>2];o[A+16+44>>2]=o[t+16>>2];o[A+16+44+4>>2]=o[t+16+4>>2];o[A+16+44+8>>2]=o[t+16+8>>2];o[A+16+44+12>>2]=o[t+16+12>>2];o[A+16+60>>2]=o[t+32>>2];o[A+16+60+4>>2]=o[t+32+4>>2];o[A+16+60+8>>2]=o[t+32+8>>2];o[A+16+60+12>>2]=o[t+32+12>>2];o[A+16+76>>2]=o[t+48>>2];o[A+16+76+4>>2]=o[t+48+4>>2];o[A+16+76+8>>2]=o[t+48+8>>2];o[A+16+76+12>>2]=o[t+48+12>>2];k=o[i+92>>2]|0;BF[o[(o[k>>2]|0)+8>>2]&127](k,A+16+4|0,A+112|0,A+144|0);ae=A;return}}}function zo(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0.0,u=0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0,A=0,g=0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0;g=ae;ae=ae+48|0;T=1.0/+c[e+108>>2];R=1.0/+c[e+112>>2];M=1.0/+c[e+116>>2];y=+c[e+48>>2];v=T*+c[i>>2]+y;h=+c[e+52>>2];_=R*+c[i+4>>2]+h;b=+c[e+56>>2];p=M*+c[i+8>>2]+b;y=T*+c[r>>2]+y;h=R*+c[r+4>>2]+h;b=M*+c[r+8>>2]+b;M=+c[e+16>>2];v=v<M?M:v;R=+c[e+20>>2];_=_<R?R:_;T=+c[e+24>>2];p=p<T?T:p;S=+c[e+32>>2];v=S<v?S:v;E=+c[e+36>>2];_=E<_?E:_;C=+c[e+40>>2];p=C<p?C:p;y=y<M?M:y;h=h<R?R:h;b=b<T?T:b;y=S<y?S:y;h=E<h?E:h;b=C<b?C:b;f=~~((v<0.0?-.5:.5)+v)+-1|0;s=~~((y<0.0?-.5:.5)+y)+1|0;d=~~((_<0.0?-.5:.5)+_)+-1|0;a=~~((h<0.0?-.5:.5)+h)+1|0;u=~~((p<0.0?-.5:.5)+p)+-1|0;r=~~((b<0.0?-.5:.5)+b)+1|0;l=(o[e+64>>2]|0)+-1|0;i=(o[e+68>>2]|0)+-1|0;switch(o[e+104>>2]|0){case 0:{i=(r|0)<(i|0)?r:i;l=(a|0)<(l|0)?a:l;r=(u|0)>0?u:0;m=(d|0)>0?d:0;break}case 1:{i=(r|0)<(i|0)?r:i;l=(s|0)<(l|0)?s:l;r=(u|0)>0?u:0;m=(f|0)>0?f:0;break}case 2:{i=(a|0)<(i|0)?a:i;l=(s|0)<(l|0)?s:l;r=(d|0)>0?d:0;m=(f|0)>0?f:0;break}default:{r=0;m=0}}if((r|0)>=(i|0)){ae=g;return}d=(m|0)<(l|0);u=r;while(1){if(d){f=(u&1|0)==0;b=+(u|0);r=u+1|0;a=m;while(1){do{if(!(n[e+100>>0]|0)){if(n[e+101>>0]|0?(a+u&1|0)==0:0){A=16;break}if(!(f&(n[e+102>>0]|0)!=0)){_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,a,u);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(a|0)-+c[e+80>>2]*.5;p=b-+c[e+84>>2]*.5;c[g>>2]=_;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;break}case 1:{M=+(a|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=b-+c[e+84>>2]*.5;c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}case 2:{M=+(a|0)-+c[e+80>>2]*.5;h=b-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}default:{_=+c[g>>2];h=+c[g+4>>2];p=+c[g+8>>2]}}c[g>>2]=_*+c[e+108>>2];c[g+4>>2]=h*+c[e+112>>2];c[g+8>>2]=p*+c[e+116>>2];_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,a,r);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(a|0)-+c[e+80>>2]*.5;p=+(r|0)-+c[e+84>>2]*.5;c[g+16>>2]=_;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;break}case 1:{M=+(a|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=+(r|0)-+c[e+84>>2]*.5;c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}case 2:{M=+(a|0)-+c[e+80>>2]*.5;h=+(r|0)-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}default:{_=+c[g+16>>2];h=+c[g+20>>2];p=+c[g+24>>2]}}c[g+16>>2]=_*+c[e+108>>2];c[g+20>>2]=h*+c[e+112>>2];c[g+24>>2]=p*+c[e+116>>2];s=a+1|0;_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,u);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=b-+c[e+84>>2]*.5;c[g+32>>2]=_;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=b-+c[e+84>>2]*.5;c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=b-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}default:{_=+c[g+32>>2];h=+c[g+36>>2];p=+c[g+40>>2]}}c[g+32>>2]=_*+c[e+108>>2];c[g+36>>2]=h*+c[e+112>>2];c[g+40>>2]=p*+c[e+116>>2];BF[o[(o[t>>2]|0)+8>>2]&127](t,g,a,u);_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,u);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=b-+c[e+84>>2]*.5;c[g>>2]=_;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=b-+c[e+84>>2]*.5;c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=b-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}default:{_=+c[g>>2];h=+c[g+4>>2];p=+c[g+8>>2]}}c[g>>2]=_*+c[e+108>>2];c[g+4>>2]=h*+c[e+112>>2];c[g+8>>2]=p*+c[e+116>>2];_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,r);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=_;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=+(r|0)-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}default:{_=+c[g+32>>2];h=+c[g+36>>2];p=+c[g+40>>2]}}c[g+32>>2]=_*+c[e+108>>2];c[g+36>>2]=h*+c[e+112>>2];c[g+40>>2]=p*+c[e+116>>2];BF[o[(o[t>>2]|0)+8>>2]&127](t,g,a,u)}else A=16}else A=16}while(0);if((A|0)==16){A=0;_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,a,u);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(a|0)-+c[e+80>>2]*.5;p=b-+c[e+84>>2]*.5;c[g>>2]=_;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;break}case 1:{M=+(a|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=b-+c[e+84>>2]*.5;c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}case 2:{M=+(a|0)-+c[e+80>>2]*.5;h=b-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g>>2]=M;c[g+4>>2]=h;c[g+8>>2]=p;c[g+12>>2]=0.0;_=M;break}default:{_=+c[g>>2];h=+c[g+4>>2];p=+c[g+8>>2]}}c[g>>2]=_*+c[e+108>>2];c[g+4>>2]=h*+c[e+112>>2];c[g+8>>2]=p*+c[e+116>>2];s=a+1|0;_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,u);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=b-+c[e+84>>2]*.5;c[g+16>>2]=_;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=b-+c[e+84>>2]*.5;c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=b-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}default:{_=+c[g+16>>2];h=+c[g+20>>2];p=+c[g+24>>2]}}c[g+16>>2]=_*+c[e+108>>2];c[g+20>>2]=h*+c[e+112>>2];c[g+24>>2]=p*+c[e+116>>2];_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,r);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=_;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=+(r|0)-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}default:{_=+c[g+32>>2];h=+c[g+36>>2];p=+c[g+40>>2]}}c[g+32>>2]=_*+c[e+108>>2];c[g+36>>2]=h*+c[e+112>>2];c[g+40>>2]=p*+c[e+116>>2];BF[o[(o[t>>2]|0)+8>>2]&127](t,g,a,u);_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,s,r);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(s|0)-+c[e+80>>2]*.5;p=+(r|0)-+c[e+84>>2]*.5;c[g+16>>2]=_;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;break}case 1:{M=+(s|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=+(r|0)-+c[e+84>>2]*.5;c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}case 2:{M=+(s|0)-+c[e+80>>2]*.5;h=+(r|0)-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+16>>2]=M;c[g+20>>2]=h;c[g+24>>2]=p;c[g+28>>2]=0.0;_=M;break}default:{_=+c[g+16>>2];h=+c[g+20>>2];p=+c[g+24>>2]}}c[g+16>>2]=_*+c[e+108>>2];c[g+20>>2]=h*+c[e+112>>2];c[g+24>>2]=p*+c[e+116>>2];_=+sF[o[(o[e>>2]|0)+68>>2]&15](e,a,r);switch(o[e+104>>2]|0){case 0:{_=_-+c[e+48>>2];h=+(a|0)-+c[e+80>>2]*.5;p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=_;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;break}case 1:{M=+(a|0)-+c[e+80>>2]*.5;h=_-+c[e+52>>2];p=+(r|0)-+c[e+84>>2]*.5;c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}case 2:{M=+(a|0)-+c[e+80>>2]*.5;h=+(r|0)-+c[e+84>>2]*.5;p=_-+c[e+56>>2];c[g+32>>2]=M;c[g+36>>2]=h;c[g+40>>2]=p;c[g+44>>2]=0.0;_=M;break}default:{_=+c[g+32>>2];h=+c[g+36>>2];p=+c[g+40>>2]}}c[g+32>>2]=_*+c[e+108>>2];c[g+36>>2]=h*+c[e+112>>2];c[g+40>>2]=p*+c[e+116>>2];BF[o[(o[t>>2]|0)+8>>2]&127](t,g,a,u)}if((s|0)==(l|0))break;else a=s}}else r=u+1|0;if((r|0)==(i|0))break;else u=r}ae=g;return}function Yo(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0.0,d=0.0,h=0,p=0,b=0.0,m=0.0,A=0,g=0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0,M=0,O=0,I=0.0,x=0.0,P=0,D=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0,H=0,j=0,V=0,G=0.0;V=ae;ae=ae+192|0;H=o[t+36>>2]|0;f=+c[(+c[H+88>>2]>0.0?e+16|0:e+20|0)>>2];if(n[H+100>>0]&1){ae=V;return}k=o[e+8>>2]|0;A=o[k+4>>2]|0;U=o[k+12>>2]|0;L=o[(o[e+4>>2]|0)+684>>2]|0;I=+c[H+8>>2]-+c[U+48>>2];b=+c[H+12>>2]-+c[U+52>>2];x=+c[H+16>>2]-+c[U+56>>2];T=1.0/+c[L+76>>2];S=(I*+c[U>>2]+b*+c[U+16>>2]+x*+c[U+32>>2])*T/3.0;P=S<0.0?~~(1.0-S):0;F=~~((S+ +(P|0)-+(~~(S+ +(P|0))|0))*3.0);d=(S+ +(P|0)-+(~~(S+ +(P|0))|0))*3.0-+(F|0);P=~~(S+ +(P|0))-P|0;S=T*(I*+c[U+4>>2]+b*+c[U+20>>2]+x*+c[U+36>>2])/3.0;w=S<0.0?~~(1.0-S):0;B=~~((S+ +(w|0)-+(~~(S+ +(w|0))|0))*3.0);m=(S+ +(w|0)-+(~~(S+ +(w|0))|0))*3.0-+(B|0);w=~~(S+ +(w|0))-w|0;x=T*(I*+c[U+8>>2]+b*+c[U+24>>2]+x*+c[U+40>>2])/3.0;D=x<0.0?~~(1.0-x):0;N=~~((x+ +(D|0)-+(~~(x+ +(D|0))|0))*3.0);b=(x+ +(D|0)-+(~~(x+ +(D|0))|0))*3.0-+(N|0);D=~~(x+ +(D|0))-D|0;g=(16?P>>>16:P)<<11^(P&65535)+16^(P&65535)+16<<16;g=g+(w&65535)+(11?g>>>11:g)|0;g=g^(16?w>>>16:w)<<11^g<<16;g=g+(D&65535)+(11?g>>>11:g)|0;g=g^(16?D>>>16:D)<<11^g<<16;g=g+(A&65535)+(11?g>>>11:g)|0;g=g^(16?A>>>16:A)<<11^g<<16;g=(11?g>>>11:g)+g|0;g=(5?(g<<3^g)>>>5:g<<3^g)+(g<<3^g)|0;g=(17?(g<<4^g)>>>17:g<<4^g)+(g<<4^g)|0;g=(6?(g<<25^g)>>>6:g<<25^g)+(g<<25^g)|0;h=o[L+60>>2]|0;p=o[L+68>>2]|0;t=o[p+(((g>>>0)%(h>>>0)|0)<<2)>>2]|0;o[L+96>>2]=(o[L+96>>2]|0)+1;i=(o[L+92>>2]|0)+1|0;o[L+92>>2]=i;e:do{if(!t)u=10;else while(1){if(((((o[t+272>>2]|0)==(g|0)?(o[t+256>>2]|0)==(P|0):0)?(o[t+260>>2]|0)==(w|0):0)?(o[t+264>>2]|0)==(D|0):0)?(o[t+276>>2]|0)==(A|0):0)break e;t=o[t+280>>2]|0;i=i+1|0;o[L+92>>2]=i;if(!t){u=10;break}}}while(0);e:do{if((u|0)==10){O=o[L+84>>2]|0;o[L+84>>2]=O+1;if((O|0)>=(o[L+88>>2]|0)){o[6394]=(o[6394]|0)+1;t:do{if((h|0)>0){i=p;u=0;while(1){O=i+(u<<2)|0;t=o[O>>2]|0;o[O>>2]=0;if(t|0)do{O=t;t=o[t+280>>2]|0;KL(O)}while((t|0)!=0);t=u+1|0;if((t|0)==(h|0))break t;i=o[L+68>>2]|0;u=t}}}while(0);c[L+76>>2]=.25;o[L+80>>2]=0;o[L+84>>2]=0;o[L+92>>2]=1;o[L+96>>2]=1}t=Ww(284)|0;_l(t|0,0,284)|0;o[t+280>>2]=o[p+(((g>>>0)%(h>>>0)|0)<<2)>>2];o[p+(((g>>>0)%(h>>>0)|0)<<2)>>2]=t;o[t+276>>2]=A;o[t+272>>2]=g;o[t+256>>2]=P;o[t+260>>2]=w;o[t+264>>2]=D;l=+c[L+76>>2];R=V+120+4|0;M=V+120+24|0;O=V+120+44|0;r=l;i=0;while(1){a=l*(+(D|0)*3.0)+r*+(i|0);u=0;while(1){s=l*(+(w|0)*3.0)+r*+(u|0);c[V+48>>2]=+(P|0)*3.0*l+r*0.0;c[V+48+4>>2]=s;c[V+48+8>>2]=a;c[V+48+12>>2]=0.0;p=o[t+276>>2]|0;o[V+120>>2]=1065353216;o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;o[V+120+20>>2]=1065353216;o[M>>2]=0;o[M+4>>2]=0;o[M+8>>2]=0;o[M+12>>2]=0;o[V+120+40>>2]=1065353216;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;h=o[p+4>>2]|0;if((h|0)<20){r=+ys(V+48|0,p,V+120|0,V+64|0);g=o[t+276>>2]|0;h=o[g+4>>2]|0;A=g;g=g+4|0}else{A=p;g=p+4|0;r=0.0}c[t+(u<<4)+(i<<2)>>2]=r;c[V+48>>2]=+(P|0)*3.0*l+ +c[L+76>>2];c[V+48+4>>2]=s;c[V+48+8>>2]=a;c[V+48+12>>2]=0.0;o[V+120>>2]=1065353216;o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;o[V+120+20>>2]=1065353216;o[M>>2]=0;o[M+4>>2]=0;o[M+8>>2]=0;o[M+12>>2]=0;o[V+120+40>>2]=1065353216;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;if((h|0)<20){r=+ys(V+48|0,A,V+120|0,V+64|0);h=o[t+276>>2]|0;p=h;h=h+4|0}else{p=A;h=g;r=0.0}c[t+64+(u<<4)+(i<<2)>>2]=r;c[V+48>>2]=+(P|0)*3.0*l+ +c[L+76>>2]*2.0;c[V+48+4>>2]=s;c[V+48+8>>2]=a;c[V+48+12>>2]=0.0;o[V+120>>2]=1065353216;o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;o[V+120+20>>2]=1065353216;o[M>>2]=0;o[M+4>>2]=0;o[M+8>>2]=0;o[M+12>>2]=0;o[V+120+40>>2]=1065353216;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;if((o[h>>2]|0)<20){r=+ys(V+48|0,p,V+120|0,V+64|0);h=o[t+276>>2]|0;p=h;h=h+4|0}else r=0.0;c[t+128+(u<<4)+(i<<2)>>2]=r;c[V+48>>2]=+(P|0)*3.0*l+ +c[L+76>>2]*3.0;c[V+48+4>>2]=s;c[V+48+8>>2]=a;c[V+48+12>>2]=0.0;o[V+120>>2]=1065353216;o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;o[V+120+20>>2]=1065353216;o[M>>2]=0;o[M+4>>2]=0;o[M+8>>2]=0;o[M+12>>2]=0;o[V+120+40>>2]=1065353216;o[O>>2]=0;o[O+4>>2]=0;o[O+8>>2]=0;o[O+12>>2]=0;o[O+16>>2]=0;if((o[h>>2]|0)<20)r=+ys(V+48|0,p,V+120|0,V+64|0);else r=0.0;c[t+192+(u<<4)+(i<<2)>>2]=r;u=u+1|0;if((u|0)==4)break;r=+c[L+76>>2]}i=i+1|0;if((i|0)==4)break e;r=+c[L+76>>2]}}}while(0);o[t+268>>2]=o[L+80>>2];r=+c[t+(F<<6)+(B<<4)+(N<<2)>>2];E=+c[t+(F+1<<6)+(B<<4)+(N<<2)>>2];y=+c[t+(F+1<<6)+(B+1<<4)+(N<<2)>>2];C=+c[t+(F<<6)+(B+1<<4)+(N<<2)>>2];x=+c[t+(F<<6)+(B<<4)+(N+1<<2)>>2];I=+c[t+(F+1<<6)+(B<<4)+(N+1<<2)>>2];S=+c[t+(F+1<<6)+(B+1<<4)+(N+1<<2)>>2];T=+c[t+(F<<6)+(B+1<<4)+(N+1<<2)>>2];l=E-r+m*(y-C-(E-r))+b*(I-x+m*(S-T-(I-x))-(E-r+m*(y-C-(E-r))));a=C-r+d*(y-E-(C-r))+b*(T-x+d*(S-I-(T-x))-(C-r+d*(y-E-(C-r))));s=x-r+d*(I-E-(x-r))+m*(T-C+d*(S-y-(T-C))-(x-r+d*(I-E-(x-r))));_=1.0/+v(+(s*s+(l*l+a*a)));r=r+d*(E-r)+m*(C+d*(y-C)-(r+d*(E-r)));r=r+b*(x+d*(I-x)+m*(T+d*(S-T)-(x+d*(I-x)))-r)-f;if(!(r<0.0)){ae=V;return}A=o[k+8>>2]|0;x=+c[U>>2]*(l*_)+ +c[U+4>>2]*(a*_)+ +c[U+8>>2]*(s*_);I=l*_*+c[U+16>>2]+a*_*+c[U+20>>2]+s*_*+c[U+24>>2];T=l*_*+c[U+32>>2]+a*_*+c[U+36>>2]+s*_*+c[U+40>>2];S=-(x*(+c[H+8>>2]-r*x)+I*(+c[H+12>>2]-r*I)+T*(+c[H+16>>2]-r*T));m=+c[H+88>>2];t=o[e+12>>2]|0;if(!t)b=0.0;else b=+c[t+344>>2];if(!(m+b>0.0)){ae=V;return}if(!t)u=(o[(o[e+8>>2]|0)+8>>2]|0)+4|0;else u=t+4|0;if((n[24928]|0)==0?PM(24928)|0:0){t=25580;i=t+48|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(i|0));GR(24928)}i=o[e+12>>2]|0;_=+c[H+8>>2];C=_-+c[u+48>>2];f=+c[H+12>>2];E=f-+c[u+52>>2];d=+c[H+16>>2];y=d-+c[u+56>>2];if(!i){U=o[e+4>>2]|0;r=0.0;s=0.0;a=0.0;t=U;l=+c[U+452>>2]}else{a=+c[i+332>>2];s=+c[i+336>>2];G=+c[i+328>>2];t=o[e+4>>2]|0;l=+c[t+452>>2];r=(y*a-E*s+ +c[i+312>>2])*l;s=(+c[i+316>>2]+(C*s-y*G))*l;a=(E*G-C*a+ +c[i+320>>2])*l}_=_-+c[H+24>>2]-r;f=f-+c[H+28>>2]-s;G=d-+c[H+32>>2]-a;r=+c[t+316>>2]*+c[(o[(o[e+8>>2]|0)+8>>2]|0)+224>>2];Ve(V+120|0,l,m,b,(i|0)==0?25580:i+264|0,C,E,y);o[V+32>>2]=o[V+120>>2];o[V+32+4>>2]=o[V+120+4>>2];o[V+32+8>>2]=o[V+120+8>>2];o[V+32+12>>2]=o[V+120+12>>2];o[V+16>>2]=o[V+120+16>>2];o[V+16+4>>2]=o[V+120+16+4>>2];o[V+16+8>>2]=o[V+120+16+8>>2];o[V+16+12>>2]=o[V+120+16+12>>2];o[V>>2]=o[V+120+32>>2];o[V+4>>2]=o[V+120+32+4>>2];o[V+8>>2]=o[V+120+32+8>>2];o[V+12>>2]=o[V+120+32+12>>2];p=o[e+4>>2]|0;s=m*+c[p+452>>2];r=(G-T*(_*x+f*I+G*T))*(G-T*(_*x+f*I+G*T))+((_-x*(_*x+f*I+G*T))*(_-x*(_*x+f*I+G*T))+(f-I*(_*x+f*I+G*T))*(f-I*(_*x+f*I+G*T)))<r*((_*x+f*I+G*T)*((_*x+f*I+G*T)*r))?0.0:1.0-r;h=o[((o[(o[(o[e+8>>2]|0)+8>>2]|0)+204>>2]&3|0)==0?p+324|0:p+328|0)>>2]|0;t=o[p+812>>2]|0;if((t|0)==(o[p+816>>2]|0)?(j=(t|0)==0?1:t<<1,(t|0)<(j|0)):0){if(!j)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((j*104|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[p+812>>2]|0}if((t|0)>0){u=0;do{U=i+(u*104|0)|0;k=o[p+820>>2]|0;B=k+(u*104|0)|0;o[U>>2]=o[B>>2];o[U+4>>2]=o[B+4>>2];o[U+8>>2]=o[B+8>>2];o[U+12>>2]=o[B+12>>2];o[U+16>>2]=o[B+16>>2];o[U+20>>2]=o[B+20>>2];o[U+24>>2]=o[B+24>>2];U=i+(u*104|0)+28|0;B=k+(u*104|0)+28|0;o[U>>2]=o[B>>2];o[U+4>>2]=o[B+4>>2];o[U+8>>2]=o[B+8>>2];o[U+12>>2]=o[B+12>>2];U=k+(u*104|0)+44|0;B=i+(u*104|0)+44|0;o[B>>2]=o[U>>2];o[B+4>>2]=o[U+4>>2];o[B+8>>2]=o[U+8>>2];o[B+12>>2]=o[U+12>>2];B=k+(u*104|0)+60|0;U=i+(u*104|0)+60|0;o[U>>2]=o[B>>2];o[U+4>>2]=o[B+4>>2];o[U+8>>2]=o[B+8>>2];o[U+12>>2]=o[B+12>>2];U=i+(u*104|0)+76|0;k=k+(u*104|0)+76|0;o[U>>2]=o[k>>2];o[U+4>>2]=o[k+4>>2];o[U+8>>2]=o[k+8>>2];o[U+12>>2]=o[k+12>>2];o[U+16>>2]=o[k+16>>2];o[U+20>>2]=o[k+20>>2];o[U+24>>2]=o[k+24>>2];u=u+1|0}while((u|0)!=(t|0))}t=o[p+820>>2]|0;if(t|0){if(n[p+824>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[p+820>>2]=0}n[p+824>>0]=1;o[p+820>>2]=i;o[p+816>>2]=j;t=o[p+812>>2]|0}U=o[p+820>>2]|0;o[U+(t*104|0)>>2]=A;c[U+(t*104|0)+4>>2]=x;c[U+(t*104|0)+8>>2]=I;c[U+(t*104|0)+12>>2]=T;c[U+(t*104|0)+16>>2]=0.0;c[U+(t*104|0)+20>>2]=S;o[U+(t*104|0)+24>>2]=H;j=U+(t*104|0)+28|0;o[j>>2]=o[V+32>>2];o[j+4>>2]=o[V+32+4>>2];o[j+8>>2]=o[V+32+8>>2];o[j+12>>2]=o[V+32+12>>2];j=U+(t*104|0)+44|0;o[j>>2]=o[V+16>>2];o[j+4>>2]=o[V+16+4>>2];o[j+8>>2]=o[V+16+8>>2];o[j+12>>2]=o[V+16+12>>2];j=U+(t*104|0)+60|0;o[j>>2]=o[V>>2];o[j+4>>2]=o[V+4>>2];o[j+8>>2]=o[V+8>>2];o[j+12>>2]=o[V+12>>2];j=U+(t*104|0)+76|0;c[j>>2]=C;c[U+(t*104|0)+80>>2]=E;c[U+(t*104|0)+84>>2]=y;c[U+(t*104|0)+88>>2]=0.0;c[j+16>>2]=s;c[j+20>>2]=r;o[j+24>>2]=h;o[p+812>>2]=(o[p+812>>2]|0)+1;t=o[e+12>>2]|0;if(!t){ae=V;return}if(o[t+204>>2]&3|0){ae=V;return}if((o[t+216>>2]&-2|0)!=4)o[t+216>>2]=1;c[t+220>>2]=0.0;ae=V;return}function Qo(e,t){e=e|0;t=+t;var i=0,r=0.0,s=0,a=0,l=0,_=0.0,u=0.0,f=0,d=0,h=0.0,p=0,b=0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0,S=0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0;b=ae;ae=ae+96|0;d=o[e+136>>2]|0;if(!d){ae=b;return}l=o[e+8>>2]|0;if((l|0)<(d|0)){if((o[e+12>>2]|0)<(d|0)){o[6747]=(o[6747]|0)+1;i=Do((d<<4|3)+16|0)|0;if(!i)a=0;else{o[(i+4+15&-16)+-4>>2]=i;a=i+4+15&-16}i=o[e+8>>2]|0;if((i|0)>0){s=0;do{f=a+(s<<4)|0;m=(o[e+16>>2]|0)+(s<<4)|0;o[f>>2]=o[m>>2];o[f+4>>2]=o[m+4>>2];o[f+8>>2]=o[m+8>>2];o[f+12>>2]=o[m+12>>2];s=s+1|0}while((s|0)!=(i|0))}i=o[e+16>>2]|0;if(i|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=a;o[e+12>>2]=d;s=e+16|0}else s=e+16|0;i=l;do{m=(o[s>>2]|0)+(i<<4)|0;o[m>>2]=o[b+48>>2];o[m+4>>2]=o[b+48+4>>2];o[m+8>>2]=o[b+48+8>>2];o[m+12>>2]=o[b+48+12>>2];i=i+1|0}while((i|0)!=(d|0))}o[e+8>>2]=d;l=o[e+28>>2]|0;if((l|0)<(d|0)){if((o[e+32>>2]|0)<(d|0)){o[6747]=(o[6747]|0)+1;i=Do((d<<4|3)+16|0)|0;if(!i)a=0;else{o[(i+4+15&-16)+-4>>2]=i;a=i+4+15&-16}i=o[e+28>>2]|0;if((i|0)>0){s=0;do{m=a+(s<<4)|0;f=(o[e+36>>2]|0)+(s<<4)|0;o[m>>2]=o[f>>2];o[m+4>>2]=o[f+4>>2];o[m+8>>2]=o[f+8>>2];o[m+12>>2]=o[f+12>>2];s=s+1|0}while((s|0)!=(i|0))}i=o[e+36>>2]|0;if(i|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=a;o[e+32>>2]=d;s=e+36|0}else s=e+36|0;i=l;do{m=(o[s>>2]|0)+(i<<4)|0;o[m>>2]=o[b+48>>2];o[m+4>>2]=o[b+48+4>>2];o[m+8>>2]=o[b+48+8>>2];o[m+12>>2]=o[b+48+12>>2];i=i+1|0}while((i|0)!=(d|0))}o[e+28>>2]=d;f=o[e+48>>2]|0;if((f|0)<(d|0)){do{if((o[e+52>>2]|0)<(d|0)){o[6747]=(o[6747]|0)+1;i=Do((d<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+48>>2]|0;a=o[e+56>>2]|0;if((s|0)<=0){if(!a){n[e+60>>0]=1;o[e+56>>2]=i;o[e+52>>2]=d;s=d<<2;break}}else{l=0;do{o[i+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0))}if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[e+60>>0]=1;o[e+56>>2]=i;o[e+52>>2]=d;s=d<<2}else{s=d<<2;i=o[e+56>>2]|0}}while(0);_l(i+(f<<2)|0,0,s-(f<<2)|0)|0}o[e+48>>2]=d;f=o[e+68>>2]|0;if((f|0)<(d|0)){do{if((o[e+72>>2]|0)<(d|0)){o[6747]=(o[6747]|0)+1;i=Do((d<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+68>>2]|0;a=o[e+76>>2]|0;if((s|0)<=0){if(!a){n[e+80>>0]=1;o[e+76>>2]=i;o[e+72>>2]=d;s=d<<2;break}}else{l=0;do{o[i+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0))}if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[e+80>>0]=1;o[e+76>>2]=i;o[e+72>>2]=d;s=d<<2}else{s=d<<2;i=o[e+76>>2]|0}}while(0);_l(i+(f<<2)|0,0,s-(f<<2)|0)|0}o[e+68>>2]=d;i=o[e+136>>2]|0;if((i|0)<=0){ae=b;return}s=o[e+76>>2]|0;a=o[e+56>>2]|0;l=0;do{c[s+(l<<2)>>2]=0.0;c[a+(l<<2)>>2]=0.0;l=l+1|0}while((l|0)!=(i|0));l=0;do{s=o[e+144>>2]|0;a=o[s+(l*284|0)+88>>2]|0;if(a){E=s+(l*284|0)+92|0;o[b+48>>2]=o[E>>2];o[b+48+4>>2]=o[E+4>>2];o[b+48+8>>2]=o[E+8>>2];o[b+48+12>>2]=o[E+12>>2];E=s+(l*284|0)+108|0;o[b+48+16>>2]=o[E>>2];o[b+48+16+4>>2]=o[E+4>>2];o[b+48+16+8>>2]=o[E+8>>2];o[b+48+16+12>>2]=o[E+12>>2];E=s+(l*284|0)+124|0;o[b+48+32>>2]=o[E>>2];o[b+48+32+4>>2]=o[E+4>>2];o[b+48+32+8>>2]=o[E+8>>2];o[b+48+32+12>>2]=o[E+12>>2];E=o[e+120>>2]|0;i=o[b+48+16+(E<<2)>>2]|0;S=o[b+48+32+(E<<2)>>2]|0;f=o[e+36>>2]|0;o[f+(l<<4)>>2]=o[b+48+(E<<2)>>2];o[f+(l<<4)+4>>2]=i;o[f+(l<<4)+8>>2]=S;c[f+(l<<4)+12>>2]=0.0;f=o[e+36>>2]|0;S=f+(l<<4)|0;T=+c[S>>2];i=s+(l*284|0)|0;r=+c[i>>2];E=f+(l<<4)+4|0;C=+c[E>>2];m=s+(l*284|0)+4|0;_=+c[m>>2];f=f+(l<<4)+8|0;A=+c[f>>2];d=s+(l*284|0)+8|0;y=+c[d>>2];u=T-r*(T*r+C*_+A*y);g=C-_*(T*r+C*_+A*y);y=A-y*(T*r+C*_+A*y);A=1.0/+v(+(y*y+(u*u+g*g)));c[S>>2]=u*A;c[E>>2]=g*A;c[f>>2]=y*A;_=+c[m>>2];C=+c[d>>2];r=+c[i>>2];i=o[e+16>>2]|0;c[i+(l<<4)>>2]=_*(y*A)-C*(g*A);c[i+(l<<4)+4>>2]=C*(u*A)-y*A*r;c[i+(l<<4)+8>>2]=g*A*r-_*(u*A);c[i+(l<<4)+12>>2]=0.0;i=o[e+16>>2]|0;d=i+(l<<4)|0;A=+c[d>>2];m=i+(l<<4)+4|0;u=+c[m>>2];i=i+(l<<4)+8|0;_=+c[i>>2];r=1.0/+v(+(A*A+u*u+_*_));c[d>>2]=A*r;c[m>>2]=u*r;c[i>>2]=_*r;i=o[e+116>>2]|0;m=o[e+36>>2]|0;r=+c[m+(l<<4)>>2];_=+c[m+(l<<4)+4>>2];u=+c[m+(l<<4)+8>>2];if(r*r+_*_+u*u>1.100000023841858)r=0.0;else{O=+c[s+(l*284|0)+16>>2];D=O-+c[i+52>>2];x=+c[s+(l*284|0)+20>>2];L=x-+c[i+56>>2];F=+c[s+(l*284|0)+24>>2];B=F-+c[i+60>>2];O=O-+c[a+52>>2];x=x-+c[a+56>>2];F=F-+c[a+60>>2];P=+c[i+332>>2];k=+c[i+336>>2];w=+c[i+328>>2];M=+c[a+332>>2];N=+c[a+336>>2];I=+c[a+328>>2];R=(u*L-_*B)*+c[i+4>>2]+(r*B-u*D)*+c[i+20>>2]+(_*D-r*L)*+c[i+36>>2];A=(u*L-_*B)*+c[i+8>>2]+(r*B-u*D)*+c[i+24>>2]+(_*D-r*L)*+c[i+40>>2];g=(u*L-_*B)*+c[i+12>>2]+(r*B-u*D)*+c[i+28>>2]+(_*D-r*L)*+c[i+44>>2];y=(x*-u-F*-_)*+c[a+4>>2]+(F*-r-O*-u)*+c[a+20>>2]+(O*-_-x*-r)*+c[a+36>>2];C=(x*-u-F*-_)*+c[a+8>>2]+(F*-r-O*-u)*+c[a+24>>2]+(O*-_-x*-r)*+c[a+40>>2];T=(x*-u-F*-_)*+c[a+12>>2]+(F*-r-O*-u)*+c[a+28>>2]+(O*-_-x*-r)*+c[a+44>>2];r=(r*(B*P-L*k+ +c[i+312>>2]-(F*M-x*N+ +c[a+312>>2]))+_*(+c[i+316>>2]+(D*k-B*w)-(+c[a+316>>2]+(O*N-F*I)))+u*(L*w-D*P+ +c[i+320>>2]-(x*I-O*M+ +c[a+320>>2])))*-.20000000298023224*(1.0/(+c[a+344>>2]+(+c[i+344>>2]+(R*(R*+c[i+396>>2])+A*(A*+c[i+400>>2])+g*(g*+c[i+404>>2])))+(y*(y*+c[a+396>>2])+C*(C*+c[a+400>>2])+T*(T*+c[a+404>>2]))))}c[(o[e+76>>2]|0)+(l<<2)>>2]=r;i=o[e+136>>2]|0}l=l+1|0}while((l|0)<(i|0));if((i|0)<=0){ae=b;return}a=o[e+144>>2]|0;s=0;f=0;while(1){i=o[a+(f*284|0)+88>>2]|0;if(i){r=+c[a+(f*284|0)+252>>2];if(r!=0.0){i=a;r=r*t}else{k=+c[a+(f*284|0)+256>>2];k=k==0.0?0.0:k;S=o[e+116>>2]|0;E=o[e+16>>2]|0;D=+c[a+(f*284|0)+16>>2];x=+c[a+(f*284|0)+20>>2];R=+c[a+(f*284|0)+24>>2];C=+c[E+(f<<4)>>2];I=+c[E+(f<<4)+4>>2];r=+c[E+(f<<4)+8>>2];H=D-+c[S+52>>2];j=x-+c[S+56>>2];_=R-+c[S+60>>2];u=+c[S+264>>2]*(j*r-_*I)+ +c[S+280>>2]*(_*C-H*r)+(H*I-j*C)*+c[S+296>>2];V=(j*r-_*I)*+c[S+268>>2]+(_*C-H*r)*+c[S+284>>2]+(H*I-j*C)*+c[S+300>>2];U=(j*r-_*I)*+c[S+272>>2]+(_*C-H*r)*+c[S+288>>2]+(H*I-j*C)*+c[S+304>>2];N=D-+c[i+52>>2];L=x-+c[i+56>>2];O=R-+c[i+60>>2];y=(I*N-C*L)*+c[i+296>>2]+(+c[i+264>>2]*(r*L-I*O)+ +c[i+280>>2]*(C*O-r*N));A=(r*L-I*O)*+c[i+268>>2]+(C*O-r*N)*+c[i+284>>2]+(I*N-C*L)*+c[i+300>>2];g=(r*L-I*O)*+c[i+272>>2]+(C*O-r*N)*+c[i+288>>2]+(I*N-C*L)*+c[i+304>>2];D=D-+c[S+52>>2];x=x-+c[S+56>>2];R=R-+c[S+60>>2];w=+c[S+332>>2];T=+c[S+336>>2];P=+c[S+328>>2];B=+c[i+332>>2];M=+c[i+336>>2];F=+c[i+328>>2];r=-(1.0/(+c[S+344>>2]+(r*(j*u-H*V)+(C*(_*V-j*U)+I*(H*U-_*u)))+(+c[i+344>>2]+(r*(L*y-N*A)+(C*(O*A-L*g)+I*(N*g-O*y)))))*((R*w-x*T+ +c[S+312>>2]-(O*B-L*M+ +c[i+312>>2]))*C+(+c[S+316>>2]+(D*T-R*P)-(+c[i+316>>2]+(N*M-O*F)))*I+(x*P-D*w+ +c[S+320>>2]-(L*F-N*B+ +c[i+320>>2]))*r));r=k<r?k:r;i=o[e+144>>2]|0;r=r<-k?-k:r}S=(o[e+56>>2]|0)+(f<<2)|0;c[S>>2]=0.0;l=i+(f*284|0)+280|0;c[l>>2]=1.0;u=+c[a+(f*284|0)+276>>2]*t*+c[a+(f*284|0)+228>>2];c[S>>2]=r;_=r*.5;r=+c[(o[e+76>>2]|0)+(f<<2)>>2];if(_*_+r*r>u*u){V=u/+v(+(_*_+r*r));c[l>>2]=V*+c[l>>2];s=1}}else{c[(o[e+56>>2]|0)+(f<<2)>>2]=0.0;c[a+(f*284|0)+280>>2]=1.0;i=a}f=f+1|0;l=o[e+136>>2]|0;if((f|0)>=(l|0))break;else a=i}if(s&(l|0)>0){i=o[e+76>>2]|0;a=0;do{s=i+(a<<2)|0;if(+c[s>>2]!=0.0?(p=(o[e+144>>2]|0)+(a*284|0)+280|0,h=+c[p>>2],h<1.0):0){S=(o[e+56>>2]|0)+(a<<2)|0;c[S>>2]=h*+c[S>>2];c[s>>2]=+c[p>>2]*+c[s>>2]}a=a+1|0}while((a|0)!=(l|0))}if((l|0)<=0){ae=b;return}d=0;do{s=o[e+144>>2]|0;i=o[e+116>>2]|0;a=s+(d*284|0)+16|0;_=+c[a>>2]-+c[i+52>>2];f=s+(d*284|0)+20|0;t=+c[f>>2]-+c[i+56>>2];l=s+(d*284|0)+24|0;u=+c[l>>2]-+c[i+60>>2];c[b+48>>2]=_;c[b+48+4>>2]=t;c[b+48+8>>2]=u;c[b+48+12>>2]=0.0;r=+c[(o[e+56>>2]|0)+(d<<2)>>2];if(r!=0.0){S=o[e+16>>2]|0;j=r*+c[S+(d<<4)+4>>2];V=r*+c[S+(d<<4)+8>>2];c[b+32>>2]=r*+c[S+(d<<4)>>2];c[b+32+4>>2]=j;c[b+32+8>>2]=V;c[b+32+12>>2]=0.0;El(i,b+32|0,b+48|0)}r=+c[(o[e+76>>2]|0)+(d<<2)>>2];if(r!=0.0){S=o[(o[e+144>>2]|0)+(d*284|0)+88>>2]|0;j=+c[f>>2]-+c[S+56>>2];H=+c[l>>2]-+c[S+60>>2];c[b+32>>2]=+c[a>>2]-+c[S+52>>2];c[b+32+4>>2]=j;c[b+32+8>>2]=H;c[b+32+12>>2]=0.0;E=o[e+36>>2]|0;H=+c[E+(d<<4)>>2]*r;j=r*+c[E+(d<<4)+4>>2];V=r*+c[E+(d<<4)+8>>2];c[b+16>>2]=H;c[b+16+4>>2]=j;c[b+16+8>>2]=V;c[b+16+12>>2]=0.0;E=o[e+116>>2]|0;m=o[e+124>>2]|0;N=+c[E+4+(m<<2)>>2];B=+c[E+20+(m<<2)>>2];k=+c[E+36+(m<<2)>>2];U=(N*_+B*t+k*u)*(1.0-+c[s+(d*284|0)+244>>2]);c[b+48>>2]=_-N*U;c[b+48+4>>2]=t-B*U;c[b+48+8>>2]=u-k*U;El(E,b+16|0,b+48|0);c[b>>2]=-H;c[b+4>>2]=-j;c[b+8>>2]=-V;c[b+12>>2]=0.0;El(S,b,b+32|0)}d=d+1|0}while((d|0)<(o[e+136>>2]|0));ae=b;return}function Ko(e,t,i,r,a,l,_){e=e|0;t=t|0;i=i|0;r=r|0;a=a|0;l=l|0;_=_|0;var u=0.0,f=0.0,d=0.0,h=0,p=0,b=0.0,m=0.0,A=0,g=0,y=0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0;y=ae;ae=ae+9824|0;h=l;p=h+36|0;do{o[h>>2]=0;h=h+4|0}while((h|0)<(p|0));o[y+9680>>2]=e;o[y+9680+4>>2]=i;P=+c[r>>2];B=+c[t>>2];x=+c[r+16>>2];N=+c[t+16>>2];I=+c[r+32>>2];F=+c[t+32>>2];L=+c[t+4>>2];w=+c[t+20>>2];D=+c[t+36>>2];T=+c[t+8>>2];E=+c[t+24>>2];u=+c[t+40>>2];O=+c[r+4>>2];M=+c[r+20>>2];R=+c[r+36>>2];S=+c[r+8>>2];C=+c[r+24>>2];f=+c[r+40>>2];c[y+9680+8>>2]=P*B+x*N+I*F;c[y+9680+12>>2]=P*L+x*w+I*D;c[y+9680+16>>2]=P*T+x*E+I*u;c[y+9680+20>>2]=0.0;c[y+9680+24>>2]=B*O+N*M+F*R;c[y+9680+28>>2]=L*O+w*M+D*R;c[y+9680+32>>2]=T*O+E*M+u*R;c[y+9680+36>>2]=0.0;c[y+9680+40>>2]=B*S+N*C+F*f;c[y+9680+44>>2]=L*S+w*C+D*f;c[y+9680+48>>2]=T*S+E*C+u*f;c[y+9680+52>>2]=0.0;U=+c[r+48>>2]-+c[t+48>>2];k=+c[r+52>>2]-+c[t+52>>2];b=+c[r+56>>2]-+c[t+56>>2];d=U*+c[t>>2]+k*+c[t+16>>2]+b*+c[t+32>>2];m=U*+c[t+4>>2]+k*+c[t+20>>2]+b*+c[t+36>>2];b=U*+c[t+8>>2]+k*+c[t+24>>2]+b*+c[t+40>>2];c[y+9680+56>>2]=P*B+x*N+I*F;c[y+9680+60>>2]=B*O+N*M+F*R;c[y+9680+64>>2]=B*S+N*C+F*f;c[y+9680+68>>2]=0.0;c[y+9680+72>>2]=P*L+x*w+I*D;c[y+9680+76>>2]=L*O+w*M+D*R;c[y+9680+80>>2]=L*S+w*C+D*f;c[y+9680+84>>2]=0.0;c[y+9680+88>>2]=P*T+x*E+I*u;c[y+9680+92>>2]=T*O+E*M+u*R;c[y+9680+96>>2]=T*S+E*C+u*f;c[y+9680+100>>2]=0.0;c[y+9680+104>>2]=d;c[y+9680+108>>2]=m;c[y+9680+112>>2]=b;c[y+9680+116>>2]=0.0;o[y+9680+120>>2]=_?83:82;o[y+9680+124>>2]=0;o[y+9296+364>>2]=0;o[y+9296+128>>2]=0;o[y+9296+128+4>>2]=0;o[y+9296+128+8>>2]=0;o[y+9296+128+12>>2]=0;o[y+9296+376>>2]=2;o[y+9296+368>>2]=0;c[y+9296+144>>2]=0.0;b=-+c[a+4>>2];m=-+c[a+8>>2];c[y+9808>>2]=-+c[a>>2];c[y+9808+4>>2]=b;c[y+9808+8>>2]=m;c[y+9808+12>>2]=0.0;switch(Jo(y+9296|0,y+9680|0,y+9808|0)|0){case 1:{o[y+9280>>2]=0;o[y+9280+4>>2]=0;o[y+9280+8>>2]=0;o[y+9280+12>>2]=0;o[y>>2]=9;o[y+9276>>2]=0;o[y+40>>2]=0;o[y+40+4>>2]=0;o[y+40+8>>2]=0;o[y+40+12>>2]=0;o[y+40+16>>2]=0;i=0;do{_=128-i+-1|0;o[y+2108+(_*56|0)+44>>2]=0;e=o[y+9288>>2]|0;o[y+2108+(_*56|0)+48>>2]=e;if(e|0)o[e+44>>2]=y+2108+(_*56|0);o[y+9288>>2]=y+2108+(_*56|0);i=i+1|0}while((i|0)!=128);o[y+9292>>2]=128;d=+c[a>>2];b=+c[a+4>>2];f=+c[a+8>>2];A=o[y+9296+372>>2]|0;do{if((o[A+32>>2]|0)>>>0>1?us(y+9296|0)|0:0){e=o[y+9280>>2]|0;if(e|0){h=o[y+9284>>2]|0;p=o[y+9292>>2]|0;do{_=e+44|0;r=e+48|0;i=o[r>>2]|0;if(i|0)o[i+44>>2]=o[_>>2];i=o[_>>2]|0;if(i|0)o[i+48>>2]=o[r>>2];if((o[y+9280>>2]|0)==(e|0))o[y+9280>>2]=o[r>>2];h=h+-1|0;o[e+44>>2]=0;o[r>>2]=o[y+9288>>2];i=o[y+9288>>2]|0;if(i|0)o[i+44>>2]=e;o[y+9288>>2]=e;p=p+1|0;e=o[y+9280>>2]|0}while((e|0)!=0);o[y+9284>>2]=h;o[y+9292>>2]=p}o[y>>2]=0;o[y+9276>>2]=0;e=o[A>>2]|0;i=o[A+12>>2]|0;U=+c[i+16>>2];P=+c[e+16>>2]-U;w=+c[i+20>>2];L=+c[e+20>>2]-w;N=+c[i+24>>2];B=+c[e+24>>2]-N;i=o[A+4>>2]|0;F=+c[i+16>>2]-U;k=+c[i+20>>2]-w;D=+c[i+24>>2]-N;_=o[A+8>>2]|0;U=+c[_+16>>2]-U;w=+c[_+20>>2]-w;N=+c[_+24>>2]-N;if(P*k*N+(L*D*U+B*F*w-P*D*w-L*F*N)-B*k*U<0.0){o[A>>2]=i;o[A+4>>2]=e;r=o[A+16>>2]|0;o[A+16>>2]=o[A+20>>2];o[A+20>>2]=r;r=i}else{r=e;e=i}r=bo(y,r,e,_,1)|0;h=bo(y,o[A+4>>2]|0,o[A>>2]|0,o[A+12>>2]|0,1)|0;p=bo(y,o[A+8>>2]|0,o[A+4>>2]|0,o[A+12>>2]|0,1)|0;a=bo(y,o[A>>2]|0,o[A+8>>2]|0,o[A+12>>2]|0,1)|0;if((o[y+9284>>2]|0)==4){i=o[y+9280>>2]|0;u=+c[i+16>>2];e=o[i+48>>2]|0;if(e){f=u*u;_=i;while(1){u=+c[e+16>>2];i=u*u<f;_=i?e:_;e=o[e+48>>2]|0;if(!e)break;else f=i?u*u:f}i=_;u=+c[_+16>>2]}m=+c[i>>2];b=+c[i+4>>2];d=+c[i+8>>2];f=+c[i+12>>2];e=o[i+20>>2]|0;_=o[i+24>>2]|0;A=o[i+28>>2]|0;n[r+52>>0]=0;o[r+32>>2]=h;n[h+52>>0]=0;o[h+32>>2]=r;n[r+53>>0]=0;o[r+36>>2]=p;n[p+52>>0]=1;o[p+32>>2]=r;n[r+54>>0]=0;o[r+40>>2]=a;n[a+52>>0]=2;o[a+32>>2]=r;n[h+53>>0]=2;o[h+36>>2]=a;n[a+54>>0]=1;o[a+40>>2]=h;n[h+54>>0]=1;o[h+40>>2]=p;n[p+53>>0]=2;o[p+36>>2]=h;n[p+54>>0]=1;o[p+40>>2]=a;n[a+53>>0]=2;o[a+36>>2]=p;o[y>>2]=0;a=i;h=e;r=_;p=A;A=0;while(1){e=o[y+9276>>2]|0;if(e>>>0>=64){g=45;break}o[y+9808>>2]=0;o[y+9808+4>>2]=0;o[y+9808+8>>2]=0;o[y+9276>>2]=e+1;A=A+1|0;n[a+55>>0]=A;i=a+4|0;_=a+8|0;Gi(y+9296|0,+c[a>>2],+c[i>>2],+c[_>>2],y+60+(e<<5)|0);if(!(+c[a>>2]*+c[y+60+(e<<5)+16>>2]+ +c[i>>2]*+c[y+60+(e<<5)+20>>2]+ +c[_>>2]*+c[y+60+(e<<5)+24>>2]-+c[a+16>>2]>9.999999747378752e-05)){e=7;g=44;break}_=0;do{i=Ri(y,A,y+60+(e<<5)|0,o[a+32+(_<<2)>>2]|0,s[a+52+_>>0]|0,y+9808|0)|0;_=_+1|0}while(i&_>>>0<3);if(!(i&(o[y+9808+8>>2]|0)>>>0>2)){e=4;g=44;break}_=o[y+9808>>2]|0;i=o[y+9808+4>>2]|0;n[_+53>>0]=2;o[_+36>>2]=i;n[i+54>>0]=1;o[i+40>>2]=_;i=a+44|0;_=a+48|0;e=o[_>>2]|0;if(e|0)o[e+44>>2]=o[i>>2];e=o[i>>2]|0;if(e|0)o[e+48>>2]=o[_>>2];if((o[y+9280>>2]|0)==(a|0))o[y+9280>>2]=o[_>>2];o[y+9284>>2]=(o[y+9284>>2]|0)+-1;o[a+44>>2]=0;o[_>>2]=o[y+9288>>2];e=o[y+9288>>2]|0;if(e|0)o[e+44>>2]=a;o[y+9288>>2]=a;o[y+9292>>2]=(o[y+9292>>2]|0)+1;i=o[y+9280>>2]|0;u=+c[i+16>>2];e=o[i+48>>2]|0;if(e){f=u*u;_=i;while(1){u=+c[e+16>>2];i=u*u<f;_=i?e:_;e=o[e+48>>2]|0;if(!e)break;else f=i?u*u:f}i=_;u=+c[_+16>>2]}m=+c[i>>2];b=+c[i+4>>2];d=+c[i+8>>2];f=+c[i+12>>2];_=o[i+20>>2]|0;r=o[i+24>>2]|0;e=o[i+28>>2]|0;if(A>>>0>=255){i=r;break}else{a=i;h=_;p=e}}if((g|0)==44){o[y>>2]=e;_=h;i=r;e=p}else if((g|0)==45){o[y>>2]=6;_=h;i=r;e=p}F=m*u;w=b*u;U=d*u;c[y+40>>2]=m;c[y+44>>2]=b;c[y+48>>2]=d;c[y+52>>2]=f;c[y+56>>2]=u;o[y+36>>2]=3;o[y+4>>2]=_;o[y+8>>2]=i;o[y+12>>2]=e;A=i;N=+c[A+16>>2]-F;P=+c[A+20>>2]-w;L=+c[A+24>>2]-U;a=e;x=+c[a+16>>2]-F;D=+c[a+20>>2]-w;B=+c[a+24>>2]-U;B=+v(+((N*D-P*x)*(N*D-P*x)+((P*B-L*D)*(P*B-L*D)+(L*x-N*B)*(L*x-N*B))));c[y+20>>2]=B;N=+c[a+16>>2]-F;x=+c[a+20>>2]-w;L=+c[a+24>>2]-U;a=_;D=+c[a+16>>2]-F;P=+c[a+20>>2]-w;k=+c[a+24>>2]-U;k=+v(+((N*P-x*D)*(N*P-x*D)+((x*k-L*P)*(x*k-L*P)+(L*D-N*k)*(L*D-N*k))));c[y+24>>2]=k;N=+c[a+16>>2]-F;D=+c[a+20>>2]-w;L=+c[a+24>>2]-U;F=+c[A+16>>2]-F;w=+c[A+20>>2]-w;U=+c[A+24>>2]-U;U=+v(+((N*w-D*F)*(N*w-D*F)+((D*U-L*w)*(D*U-L*w)+(L*F-N*U)*(L*F-N*U))));c[y+20>>2]=B/(B+k+U);c[y+24>>2]=k/(B+k+U);c[y+28>>2]=U/(B+k+U);if((o[y>>2]|0)!=9)if(!(o[y+36>>2]|0)){d=0.0;f=0.0;u=0.0;break}else{r=y+36|0;g=54;break}o[l>>2]=3;t=0;ae=y;return t|0}else g=48}else g=48}while(0);if((g|0)==48){o[y>>2]=8;c[y+40>>2]=d;c[y+44>>2]=b;c[y+48>>2]=f;c[y+52>>2]=0.0;u=+v(+(d*d+b*b+f*f));if(u>0.0){c[y+40>>2]=1.0/u*d;c[y+44>>2]=1.0/u*b;c[y+48>>2]=1.0/u*f}else{o[y+40>>2]=1065353216;o[y+44>>2]=0;o[y+48>>2]=0}c[y+52>>2]=0.0;c[y+56>>2]=0.0;o[y+36>>2]=1;o[y+4>>2]=o[A>>2];c[y+20>>2]=1.0;r=y+36|0;g=54}if((g|0)==54){u=0.0;f=0.0;d=0.0;_=0;do{e=o[y+9680+120>>2]|0;g=o[y+9680+124>>2]|0;i=(o[y+9680>>2]|0)+(1?g>>1:g)|0;if(g&1)e=o[(o[i>>2]|0)+e>>2]|0;LF[e&127](y+9808|0,i,o[y+4+(_<<2)>>2]|0);U=+c[y+20+(_<<2)>>2];u=u+ +c[y+9808>>2]*U;f=f+U*+c[y+9808+4>>2];d=d+U*+c[y+9808+8>>2];_=_+1|0}while(_>>>0<(o[r>>2]|0)>>>0)}o[l>>2]=1;U=u*+c[t+16>>2]+f*+c[t+20>>2]+d*+c[t+24>>2]+ +c[t+52>>2];N=u*+c[t+32>>2]+f*+c[t+36>>2]+d*+c[t+40>>2]+ +c[t+56>>2];c[l+4>>2]=u*+c[t>>2]+f*+c[t+4>>2]+d*+c[t+8>>2]+ +c[t+48>>2];c[l+8>>2]=U;c[l+12>>2]=N;c[l+16>>2]=0.0;N=+c[y+40>>2];U=+c[y+56>>2];B=+c[y+44>>2];k=+c[y+48>>2];P=u-N*U;D=f-U*B;w=d-U*k;L=P*+c[t+16>>2]+D*+c[t+20>>2]+w*+c[t+24>>2]+ +c[t+52>>2];F=P*+c[t+32>>2]+D*+c[t+36>>2]+w*+c[t+40>>2]+ +c[t+56>>2];c[l+20>>2]=P*+c[t>>2]+D*+c[t+4>>2]+w*+c[t+8>>2]+ +c[t+48>>2];c[l+24>>2]=L;c[l+28>>2]=F;c[l+32>>2]=0.0;c[l+36>>2]=-N;c[l+40>>2]=-B;c[l+44>>2]=-k;c[l+48>>2]=0.0;c[l+52>>2]=-U;t=1;ae=y;return t|0}case 2:{o[l>>2]=2;t=0;ae=y;return t|0}default:{t=0;ae=y;return t|0}}return 0}function Zo(e){e=e|0;var t=0.0,i=0,r=0,s=0.0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,E=0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0;E=ae;ae=ae+176|0;if(!(n[e+738>>0]|0)){ae=E;return}c[e+36>>2]=0.0;c[e+744>>2]=0.0;if(!(n[e+736>>0]|0)){i=o[e+28>>2]|0;u=+c[e+600>>2];f=+c[e+604>>2];m=+c[e+608>>2];g=u*+c[i+20>>2]+f*+c[i+24>>2]+m*+c[i+28>>2]+ +c[i+56>>2];r=o[e+32>>2]|0;d=+c[e+664>>2];h=+c[e+668>>2];b=+c[e+672>>2];C=d*+c[r+20>>2]+h*+c[r+24>>2]+b*+c[r+28>>2]+ +c[r+56>>2];A=d*+c[r+36>>2]+h*+c[r+40>>2]+b*+c[r+44>>2]+ +c[r+60>>2];p=u*+c[i+4>>2]+f*+c[i+8>>2]+m*+c[i+12>>2]+ +c[i+52>>2];m=u*+c[i+36>>2]+f*+c[i+40>>2]+m*+c[i+44>>2]+ +c[i+60>>2];b=d*+c[r+4>>2]+h*+c[r+8>>2]+b*+c[r+12>>2]+ +c[r+52>>2];if((b-p)*(b-p)+(C-g)*(C-g)+(A-m)*(A-m)>1.1920928955078125e-07){l=1.0/+v(+((b-p)*(b-p)+(C-g)*(C-g)+(A-m)*(A-m)));c[E>>2]=(b-p)*l;c[E+4>>2]=(C-g)*l;c[E+8>>2]=(A-m)*l;o[E+12>>2]=0;a=(A-m)*l;t=(C-g)*l;l=(b-p)*l}else{o[E>>2]=1065353216;o[E+4>>2]=0;o[E+8>>2]=0;c[E+12>>2]=0.0;a=0.0;t=0.0;l=1.0}if(+y(+a)>.7071067690849304){S=a*a+t*t;h=1.0/+v(+S);d=-(a*h);t=t*h;s=t;u=l*d;f=0.0;h=S*h;t=-(l*t)}else{f=l*l+t*t;u=1.0/+v(+f);t=-(t*u);h=l*u;s=0.0;u=f*u;f=t;d=h;h=-(a*h);t=a*t}c[E+16>>2]=f;c[E+20>>2]=d;c[E+24>>2]=s;c[E+32>>2]=h;c[E+36>>2]=t;c[E+40>>2]=u;i=o[e+28>>2]|0;o[E+128>>2]=o[i+4>>2];o[E+128+4>>2]=o[i+20>>2];o[E+128+8>>2]=o[i+36>>2];c[E+128+12>>2]=0.0;o[E+128+16>>2]=o[i+8>>2];o[E+128+20>>2]=o[i+24>>2];o[E+128+24>>2]=o[i+40>>2];c[E+128+28>>2]=0.0;o[E+128+32>>2]=o[i+12>>2];o[E+128+36>>2]=o[i+28>>2];o[E+128+40>>2]=o[i+44>>2];c[E+128+44>>2]=0.0;r=o[e+32>>2]|0;o[E+80>>2]=o[r+4>>2];o[E+80+4>>2]=o[r+20>>2];o[E+80+8>>2]=o[r+36>>2];c[E+80+12>>2]=0.0;o[E+80+16>>2]=o[r+8>>2];o[E+80+20>>2]=o[r+24>>2];o[E+80+24>>2]=o[r+40>>2];c[E+80+28>>2]=0.0;o[E+80+32>>2]=o[r+12>>2];o[E+80+36>>2]=o[r+28>>2];o[E+80+40>>2]=o[r+44>>2];c[E+80+44>>2]=0.0;S=g-+c[i+56>>2];h=m-+c[i+60>>2];c[E+64>>2]=p-+c[i+52>>2];c[E+64+4>>2]=S;c[E+64+8>>2]=h;c[E+64+12>>2]=0.0;h=C-+c[r+56>>2];S=A-+c[r+60>>2];c[E+48>>2]=b-+c[r+52>>2];c[E+48+4>>2]=h;c[E+48+8>>2]=S;c[E+48+12>>2]=0.0;ti(e+48|0,E+128|0,E+80|0,E+64|0,E+48|0,E,i+396|0,+c[i+344>>2],r+396|0,+c[r+344>>2]);r=o[e+28>>2]|0;o[E+128>>2]=o[r+4>>2];o[E+128+4>>2]=o[r+20>>2];o[E+128+8>>2]=o[r+36>>2];c[E+128+12>>2]=0.0;o[E+128+16>>2]=o[r+8>>2];o[E+128+20>>2]=o[r+24>>2];o[E+128+24>>2]=o[r+40>>2];c[E+128+28>>2]=0.0;o[E+128+32>>2]=o[r+12>>2];o[E+128+36>>2]=o[r+28>>2];o[E+128+40>>2]=o[r+44>>2];c[E+128+44>>2]=0.0;i=o[e+32>>2]|0;o[E+80>>2]=o[i+4>>2];o[E+80+4>>2]=o[i+20>>2];o[E+80+8>>2]=o[i+36>>2];c[E+80+12>>2]=0.0;o[E+80+16>>2]=o[i+8>>2];o[E+80+20>>2]=o[i+24>>2];o[E+80+24>>2]=o[i+40>>2];c[E+80+28>>2]=0.0;o[E+80+32>>2]=o[i+12>>2];o[E+80+36>>2]=o[i+28>>2];o[E+80+40>>2]=o[i+44>>2];c[E+80+44>>2]=0.0;S=g-+c[r+56>>2];h=m-+c[r+60>>2];c[E+64>>2]=p-+c[r+52>>2];c[E+64+4>>2]=S;c[E+64+8>>2]=h;c[E+64+12>>2]=0.0;h=C-+c[i+56>>2];S=A-+c[i+60>>2];c[E+48>>2]=b-+c[i+52>>2];c[E+48+4>>2]=h;c[E+48+8>>2]=S;c[E+48+12>>2]=0.0;ti(e+132|0,E+128|0,E+80|0,E+64|0,E+48|0,E+16|0,r+396|0,+c[r+344>>2],i+396|0,+c[i+344>>2]);i=o[e+28>>2]|0;o[E+128>>2]=o[i+4>>2];o[E+128+4>>2]=o[i+20>>2];o[E+128+8>>2]=o[i+36>>2];c[E+128+12>>2]=0.0;o[E+128+16>>2]=o[i+8>>2];o[E+128+20>>2]=o[i+24>>2];o[E+128+24>>2]=o[i+40>>2];c[E+128+28>>2]=0.0;o[E+128+32>>2]=o[i+12>>2];o[E+128+36>>2]=o[i+28>>2];o[E+128+40>>2]=o[i+44>>2];c[E+128+44>>2]=0.0;r=o[e+32>>2]|0;o[E+80>>2]=o[r+4>>2];o[E+80+4>>2]=o[r+20>>2];o[E+80+8>>2]=o[r+36>>2];c[E+80+12>>2]=0.0;o[E+80+16>>2]=o[r+8>>2];o[E+80+20>>2]=o[r+24>>2];o[E+80+24>>2]=o[r+40>>2];c[E+80+28>>2]=0.0;o[E+80+32>>2]=o[r+12>>2];o[E+80+36>>2]=o[r+28>>2];o[E+80+40>>2]=o[r+44>>2];c[E+80+44>>2]=0.0;g=g-+c[i+56>>2];S=m-+c[i+60>>2];c[E+64>>2]=p-+c[i+52>>2];c[E+64+4>>2]=g;c[E+64+8>>2]=S;c[E+64+12>>2]=0.0;C=C-+c[r+56>>2];S=A-+c[r+60>>2];c[E+48>>2]=b-+c[r+52>>2];c[E+48+4>>2]=C;c[E+48+8>>2]=S;c[E+48+12>>2]=0.0;ti(e+216|0,E+128|0,E+80|0,E+64|0,E+48|0,E+32|0,i+396|0,+c[i+344>>2],r+396|0,+c[r+344>>2])}i=o[e+560>>2]|0;r=o[e+576>>2]|0;p=+c[e+592>>2];if(+y(+p)>.7071067690849304){d=(o[_>>2]=r,+c[_>>2]);h=1.0/+v(+(p*p+d*d));S=(o[_>>2]=i,+c[_>>2]);t=d;s=S;a=0.0;l=h*d;u=-(p*h);f=(p*p+d*d)*h;d=-(h*d*S);h=S*-(p*h)}else{C=(o[_>>2]=i,+c[_>>2]);S=(o[_>>2]=r,+c[_>>2]);h=1.0/+v(+(C*C+S*S));t=S;s=C;a=-(h*S);l=0.0;u=h*C;f=-(p*(h*C));d=p*-(h*S);h=(C*C+S*S)*h}i=o[e+28>>2]|0;V=+c[i+4>>2];N=+c[i+8>>2];I=+c[i+12>>2];T=a*V+u*N+l*I;j=+c[i+20>>2];M=+c[i+24>>2];L=+c[i+28>>2];b=a*j+u*M+l*L;H=+c[i+36>>2];m=+c[i+40>>2];P=+c[i+44>>2];k=a*H+u*m+l*P;x=f*V+d*N+h*I;D=f*j+d*M+h*L;F=f*H+d*m+h*P;A=V*s+N*t+p*I;C=j*s+M*t+p*L;s=H*s+m*t+p*P;r=o[e+32>>2]|0;R=+c[r+4>>2];a=+c[r+20>>2];l=+c[r+36>>2];h=+c[r+8>>2];p=+c[r+24>>2];g=+c[r+40>>2];w=+c[r+12>>2];f=+c[r+28>>2];B=+c[r+44>>2];o[e+300>>2]=0;o[e+300+4>>2]=0;o[e+300+8>>2]=0;o[e+300+12>>2]=0;c[e+316>>2]=T*V+b*j+k*H;c[e+320>>2]=T*N+b*M+k*m;c[e+324>>2]=T*I+b*L+k*P;c[e+328>>2]=0.0;c[e+332>>2]=R*-T+a*-b+l*-k;c[e+336>>2]=h*-T+p*-b+g*-k;c[e+340>>2]=w*-T+f*-b+B*-k;c[e+344>>2]=0.0;u=(T*V+b*j+k*H)*+c[i+396>>2];t=(T*N+b*M+k*m)*+c[i+400>>2];O=(T*I+b*L+k*P)*+c[i+404>>2];c[e+348>>2]=u;c[e+352>>2]=t;c[e+356>>2]=O;c[e+360>>2]=0.0;d=(R*-T+a*-b+l*-k)*+c[r+396>>2];S=(h*-T+p*-b+g*-k)*+c[r+400>>2];U=(w*-T+f*-b+B*-k)*+c[r+404>>2];c[e+364>>2]=d;c[e+368>>2]=S;c[e+372>>2]=U;c[e+376>>2]=0.0;c[e+380>>2]=(T*V+b*j+k*H)*u+(T*N+b*M+k*m)*t+(T*I+b*L+k*P)*O+((R*-T+a*-b+l*-k)*d+(h*-T+p*-b+g*-k)*S+(w*-T+f*-b+B*-k)*U);U=+c[i+4>>2];k=+c[i+20>>2];B=+c[i+36>>2];b=+c[i+8>>2];f=+c[i+24>>2];T=+c[i+40>>2];w=+c[i+12>>2];S=+c[i+28>>2];g=+c[i+44>>2];p=+c[r+4>>2];h=+c[r+20>>2];d=+c[r+36>>2];l=+c[r+8>>2];a=+c[r+24>>2];R=+c[r+40>>2];O=+c[r+12>>2];P=+c[r+28>>2];L=+c[r+44>>2];o[e+384>>2]=0;o[e+384+4>>2]=0;o[e+384+8>>2]=0;o[e+384+12>>2]=0;c[e+400>>2]=x*U+D*k+F*B;c[e+404>>2]=x*b+D*f+F*T;c[e+408>>2]=x*w+D*S+F*g;c[e+412>>2]=0.0;c[e+416>>2]=p*-x+h*-D+d*-F;c[e+420>>2]=l*-x+a*-D+R*-F;c[e+424>>2]=O*-x+P*-D+L*-F;c[e+428>>2]=0.0;t=(x*U+D*k+F*B)*+c[i+396>>2];I=(x*b+D*f+F*T)*+c[i+400>>2];m=(x*w+D*S+F*g)*+c[i+404>>2];c[e+432>>2]=t;c[e+436>>2]=I;c[e+440>>2]=m;c[e+444>>2]=0.0;u=(p*-x+h*-D+d*-F)*+c[r+396>>2];M=(l*-x+a*-D+R*-F)*+c[r+400>>2];N=(O*-x+P*-D+L*-F)*+c[r+404>>2];c[e+448>>2]=u;c[e+452>>2]=M;c[e+456>>2]=N;c[e+460>>2]=0.0;c[e+464>>2]=(x*U+D*k+F*B)*t+(x*b+D*f+F*T)*I+(x*w+D*S+F*g)*m+((p*-x+h*-D+d*-F)*u+(l*-x+a*-D+R*-F)*M+(O*-x+P*-D+L*-F)*N);N=+c[i+4>>2];F=+c[i+20>>2];L=+c[i+36>>2];D=+c[i+8>>2];P=+c[i+24>>2];x=+c[i+40>>2];O=+c[i+12>>2];M=+c[i+28>>2];R=+c[i+44>>2];a=+c[r+4>>2];l=+c[r+20>>2];u=+c[r+36>>2];d=+c[r+8>>2];h=+c[r+24>>2];p=+c[r+40>>2];m=+c[r+12>>2];g=+c[r+28>>2];S=+c[r+44>>2];o[e+468>>2]=0;o[e+468+4>>2]=0;o[e+468+8>>2]=0;o[e+468+12>>2]=0;c[e+484>>2]=A*N+C*F+s*L;c[e+488>>2]=A*D+C*P+s*x;c[e+492>>2]=A*O+C*M+s*R;c[e+496>>2]=0.0;c[e+500>>2]=a*-A+l*-C+u*-s;c[e+504>>2]=d*-A+h*-C+p*-s;c[e+508>>2]=m*-A+g*-C+S*-s;c[e+512>>2]=0.0;w=(A*N+C*F+s*L)*+c[i+396>>2];I=(A*D+C*P+s*x)*+c[i+400>>2];T=(A*O+C*M+s*R)*+c[i+404>>2];c[e+516>>2]=w;c[e+520>>2]=I;c[e+524>>2]=T;c[e+528>>2]=0.0;f=(a*-A+l*-C+u*-s)*+c[r+396>>2];b=(d*-A+h*-C+p*-s)*+c[r+400>>2];t=(m*-A+g*-C+S*-s)*+c[r+404>>2];c[e+532>>2]=f;c[e+536>>2]=b;c[e+540>>2]=t;c[e+544>>2]=0.0;c[e+548>>2]=(A*N+C*F+s*L)*w+(A*D+C*P+s*x)*I+(A*O+C*M+s*R)*T+((a*-A+l*-C+u*-s)*f+(d*-A+h*-C+p*-s)*b+(m*-A+g*-C+S*-s)*t);c[e+724>>2]=0.0;t=+Aa(e,i+4|0,r+4|0);c[e+728>>2]=t;c[e+708>>2]=0.0;c[e+712>>2]=0.0;n[e+716>>0]=0;s=+c[e+692>>2];do{if(s>=0.0){t=(t-+c[e+688>>2])%6.2831854820251465;if(!(t<-3.1415927410125732)){if(t>3.1415927410125732)t=t+-6.2831854820251465}else t=t+6.2831854820251465;if(t<-s){n[e+716>>0]=1;c[e+708>>2]=-(s+t);c[e+712>>2]=1.0;break}if(t>s){n[e+716>>0]=1;c[e+708>>2]=s-t;c[e+712>>2]=-1.0}}}while(0);i=o[e+28>>2]|0;k=+c[e+560>>2];U=+c[e+576>>2];V=+c[e+592>>2];H=k*+c[i+4>>2]+U*+c[i+8>>2]+V*+c[i+12>>2];j=k*+c[i+20>>2]+U*+c[i+24>>2]+V*+c[i+28>>2];V=k*+c[i+36>>2]+U*+c[i+40>>2]+V*+c[i+44>>2];r=o[e+32>>2]|0;c[e+720>>2]=1.0/(H*(H*+c[i+264>>2]+j*+c[i+280>>2]+V*+c[i+296>>2])+j*(H*+c[i+268>>2]+j*+c[i+284>>2]+V*+c[i+300>>2])+V*(H*+c[i+272>>2]+j*+c[i+288>>2]+V*+c[i+304>>2])+(H*(H*+c[r+264>>2]+j*+c[r+280>>2]+V*+c[r+296>>2])+j*(H*+c[r+268>>2]+j*+c[r+284>>2]+V*+c[r+300>>2])+V*(H*+c[r+272>>2]+j*+c[r+288>>2]+V*+c[r+304>>2])));ae=E;return}function Jo(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0.0,x=0,P=0,D=0.0,w=0.0,L=0,F=0,N=0;F=ae;ae=ae+112|0;o[e+348>>2]=e+220;o[e+352>>2]=e+252;o[e+356>>2]=e+284;o[e+360>>2]=e+316;o[e+364>>2]=4;o[e+368>>2]=0;o[e+376>>2]=0;P=o[t+4>>2]|0;o[e>>2]=o[t>>2];o[e+4>>2]=P;o[e+8>>2]=o[t+8>>2];o[e+8+4>>2]=o[t+8+4>>2];o[e+8+8>>2]=o[t+8+8>>2];o[e+8+12>>2]=o[t+8+12>>2];o[e+24>>2]=o[t+24>>2];o[e+24+4>>2]=o[t+24+4>>2];o[e+24+8>>2]=o[t+24+8>>2];o[e+24+12>>2]=o[t+24+12>>2];o[e+40>>2]=o[t+40>>2];o[e+40+4>>2]=o[t+40+4>>2];o[e+40+8>>2]=o[t+40+8>>2];o[e+40+12>>2]=o[t+40+12>>2];o[e+56>>2]=o[t+56>>2];o[e+56+4>>2]=o[t+56+4>>2];o[e+56+8>>2]=o[t+56+8>>2];o[e+56+12>>2]=o[t+56+12>>2];o[e+72>>2]=o[t+72>>2];o[e+72+4>>2]=o[t+72+4>>2];o[e+72+8>>2]=o[t+72+8>>2];o[e+72+12>>2]=o[t+72+12>>2];o[e+88>>2]=o[t+88>>2];o[e+88+4>>2]=o[t+88+4>>2];o[e+88+8>>2]=o[t+88+8>>2];o[e+88+12>>2]=o[t+88+12>>2];o[e+104>>2]=o[t+104>>2];o[e+104+4>>2]=o[t+104+4>>2];o[e+104+8>>2]=o[t+104+8>>2];o[e+104+12>>2]=o[t+104+12>>2];P=o[t+124>>2]|0;o[e+120>>2]=o[t+120>>2];o[e+124>>2]=P;c[e+144>>2]=0.0;o[e+180>>2]=0;o[e+128>>2]=o[i>>2];o[e+128+4>>2]=o[i+4>>2];o[e+128+8>>2]=o[i+8>>2];o[e+128+12>>2]=o[i+12>>2];n=+c[e+128>>2];l=+c[e+132>>2];u=+c[e+136>>2];if(n*n+l*l+u*u>0.0){c[e+164>>2]=0.0;o[e+364>>2]=3;o[e+148>>2]=e+316;o[e+180>>2]=1;Gi(e,-n,-l,-u,e+316|0);i=e+164|0;t=e+148|0}else{c[e+164>>2]=0.0;o[e+364>>2]=3;o[e+148>>2]=e+316;o[e+180>>2]=1;Gi(e,1.0,0.0,0.0,e+316|0);i=e+164|0;t=e+148|0}c[i>>2]=1.0;O=(o[t>>2]|0)+16|0;o[e+128>>2]=o[O>>2];o[e+128+4>>2]=o[O+4>>2];o[e+128+8>>2]=o[O+8>>2];o[e+128+12>>2]=o[O+12>>2];o[F+16+48>>2]=o[O>>2];o[F+16+48+4>>2]=o[O+4>>2];o[F+16+48+8>>2]=o[O+8>>2];o[F+16+48+12>>2]=o[O+12>>2];o[F+16+32>>2]=o[O>>2];o[F+16+32+4>>2]=o[O+4>>2];o[F+16+32+8>>2]=o[O+8>>2];o[F+16+32+12>>2]=o[O+12>>2];o[F+16+16>>2]=o[O>>2];o[F+16+16+4>>2]=o[O+4>>2];o[F+16+16+8>>2]=o[O+8>>2];o[F+16+16+12>>2]=o[O+12>>2];o[F+16>>2]=o[O>>2];o[F+16+4>>2]=o[O+4>>2];o[F+16+8>>2]=o[O+8>>2];o[F+16+12>>2]=o[O+12>>2];O=o[e+368>>2]|0;s=+c[e+128>>2];f=+c[e+132>>2];a=+c[e+136>>2];I=0.0;x=0;P=0;n=n*n+l*l+u*u;e:while(1){i=1-O|0;h=e+148+(O*36|0)|0;u=+v(+(s*s+f*f+a*a));if(u<9.999999747378752e-05){L=6;break}b=e+148+(O*36|0)+32|0;r=o[b>>2]|0;c[e+148+(O*36|0)+16+(r<<2)>>2]=0.0;t=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=t;t=o[e+348+(t<<2)>>2]|0;o[e+148+(O*36|0)+(r<<2)>>2]=t;o[b>>2]=r+1;Gi(e,-s,-f,-a,t);t=o[b>>2]|0;r=o[e+148+(O*36|0)+(t+-1<<2)>>2]|0;s=+c[r+16>>2];a=+c[r+20>>2];l=+c[r+24>>2];T=s-+c[F+16>>2];R=a-+c[F+16+4>>2];M=l-+c[F+16+8>>2];if(T*T+R*R+M*M<9.999999747378752e-05){L=9;break}T=s-+c[F+16+16>>2];R=a-+c[F+16+20>>2];M=l-+c[F+16+24>>2];if(T*T+R*R+M*M<9.999999747378752e-05){L=9;break}T=s-+c[F+16+32>>2];R=a-+c[F+16+36>>2];M=l-+c[F+16+40>>2];if(T*T+R*R+M*M<9.999999747378752e-05){L=9;break}T=s-+c[F+16+48>>2];R=a-+c[F+16+52>>2];M=l-+c[F+16+56>>2];if(T*T+R*R+M*M<9.999999747378752e-05){L=9;break}x=x+1&3;p=F+16+(x<<4)|0;o[p>>2]=o[r+16>>2];o[p+4>>2]=o[r+16+4>>2];o[p+8>>2]=o[r+16+8>>2];o[p+12>>2]=o[r+16+12>>2];M=(+c[e+128>>2]*s+ +c[e+132>>2]*a+ +c[e+136>>2]*l)/u;I=M>I?M:I;if(u-I-u*9.999999747378752e-05<=0.0){L=10;break}o[F+80>>2]=0;t:do{switch(t|0){case 2:{p=o[h>>2]|0;h=o[e+148+(O*36|0)+4>>2]|0;n=+c[h+16>>2];s=+c[p+16>>2];a=+c[h+20>>2];l=+c[p+20>>2];u=+c[h+24>>2];f=+c[p+24>>2];if(!((n-s)*(n-s)+(a-l)*(a-l)+(u-f)*(u-f)>0.0)){L=46;break e}d=-(s*(n-s)+l*(a-l)+f*(u-f))/((n-s)*(n-s)+(a-l)*(a-l)+(u-f)*(u-f));if(d>=1.0){c[F>>2]=0.0;c[F+4>>2]=1.0;o[F+80>>2]=2;n=n*n+a*a+u*u;break t}if(!(d<=0.0)){c[F+4>>2]=d;c[F>>2]=1.0-d;o[F+80>>2]=3;n=(f+(u-f)*d)*(f+(u-f)*d)+((s+(n-s)*d)*(s+(n-s)*d)+(l+(a-l)*d)*(l+(a-l)*d));break t}else{c[F>>2]=1.0;c[F+4>>2]=0.0;o[F+80>>2]=1;n=s*s+l*l+f*f;break t}}case 3:{n=+Sr((o[h>>2]|0)+16|0,(o[e+148+(O*36|0)+4>>2]|0)+16|0,(o[e+148+(O*36|0)+8>>2]|0)+16|0,F,F+80|0);break}case 4:{t=o[h>>2]|0;r=o[e+148+(O*36|0)+4>>2]|0;h=o[e+148+(O*36|0)+8>>2]|0;p=o[e+148+(O*36|0)+12>>2]|0;m=+c[t+16>>2];A=+c[p+16>>2];g=+c[t+20>>2];y=+c[p+20>>2];C=+c[t+24>>2];E=+c[p+24>>2];s=+c[r+16>>2];a=+c[r+20>>2];l=+c[r+24>>2];S=+c[h+16>>2];T=+c[h+20>>2];R=+c[h+24>>2];M=(m-A)*(a-y)*(R-E)+((g-y)*(l-E)*(S-A)+(C-E)*(s-A)*(T-y)-(m-A)*(l-E)*(T-y)-(g-y)*(s-A)*(R-E))-(C-E)*(a-y)*(S-A);if(!(M==M&0.0==0.0&M!=0.0&M*(C*((g-a)*(s-S)-(m-s)*(a-T))+(m*((C-l)*(a-T)-(g-a)*(l-R))+g*((m-s)*(l-R)-(C-l)*(s-S))))<=0.0)){L=46;break e}o[F+88>>2]=0;o[F+88+4>>2]=0;o[F+88+8>>2]=0;o[F+84>>2]=0;if(M*(((g-y)*(l-E)-(C-E)*(a-y))*A+y*((C-E)*(s-A)-(m-A)*(l-E))+((m-A)*(a-y)-(g-y)*(s-A))*E)>0.0){n=+Sr(t+16|0,r+16|0,p+16|0,F+88|0,F+84|0);N=o[F+84>>2]|0;o[F+80>>2]=N&2|N<<1&8|N&1;o[F>>2]=o[F+88>>2];o[F+4>>2]=o[F+88+4>>2];c[F+8>>2]=0.0;o[F+12>>2]=o[F+88+8>>2];u=+c[p+16>>2];f=+c[p+20>>2];d=+c[p+24>>2]}else{u=A;f=y;d=E;n=-1.0}if(M*(((a-y)*(R-E)-(l-E)*(T-y))*u+f*((l-E)*(S-A)-(R-E)*(s-A))+((T-y)*(s-A)-(a-y)*(S-A))*d)>0.0?(D=+Sr(r+16|0,h+16|0,p+16|0,F+88|0,F+84|0),n<0.0|D<n):0){o[F+80>>2]=o[F+84>>2]<<1&14;o[F+4>>2]=o[F+88>>2];o[F+8>>2]=o[F+88+4>>2];c[F>>2]=0.0;o[F+12>>2]=o[F+88+8>>2];n=D}if(M*(((T-y)*(C-E)-(R-E)*(g-y))*+c[p+16>>2]+ +c[p+20>>2]*((R-E)*(m-A)-(C-E)*(S-A))+((g-y)*(S-A)-(T-y)*(m-A))*+c[p+24>>2])>0.0?(w=+Sr(h+16|0,t+16|0,p+16|0,F+88|0,F+84|0),n<0.0|w<n):0){N=o[F+84>>2]|0;o[F+80>>2]=(1?N>>>1:N)&1|N<<1&8|N<<2&4;o[F+8>>2]=o[F+88>>2];o[F>>2]=o[F+88+4>>2];c[F+4>>2]=0.0;o[F+12>>2]=o[F+88+8>>2];n=w}if(n<0.0){o[F+80>>2]=15;m=+c[h+20>>2];R=+c[r+24>>2];T=+c[p+16>>2];f=+c[h+24>>2];S=+c[r+16>>2];A=+c[p+20>>2];d=+c[h+16>>2];E=+c[p+24>>2];y=+c[r+20>>2];c[F>>2]=(m*R*T+f*S*A-A*(R*d)-m*S*E+E*(d*y)-T*(f*y))/M;n=+c[t+20>>2];g=+c[t+24>>2];C=+c[t+16>>2];c[F+4>>2]=(n*f*T+g*d*A-A*(f*C)-n*d*E+E*(C*m)-T*(g*m))/M;c[F+8>>2]=(y*g*T+R*C*A-A*(g*S)-y*C*E+E*(S*n)-T*(R*n))/M;c[F+12>>2]=1.0-((m*R*T+f*S*A-A*(R*d)-m*S*E+E*(d*y)-T*(f*y))/M+(n*f*T+g*d*A-A*(f*C)-n*d*E+E*(C*m)-T*(g*m))/M+(y*g*T+R*C*A-A*(g*S)-y*C*E+E*(S*n)-T*(R*n))/M);n=0.0}break}default:{}}}while(0);if(!(n>=0.0)){L=46;break}o[e+148+(i*36|0)+32>>2]=0;o[e+128>>2]=0;o[e+128+4>>2]=0;o[e+128+8>>2]=0;o[e+128+12>>2]=0;o[e+368>>2]=i;p=o[b>>2]|0;b=o[F+80>>2]|0;if(p){r=e+148+(O*36|0)|0;t=o[r>>2]|0;if(!(b&1)){N=o[e+364>>2]|0;o[e+364>>2]=N+1;o[e+348+(N<<2)>>2]=t;a=0.0;l=0.0;s=0.0}else{N=o[e+148+(i*36|0)+32>>2]|0;o[e+148+(i*36|0)+(N<<2)>>2]=t;h=o[F>>2]|0;o[e+148+(i*36|0)+32>>2]=N+1;o[e+148+(i*36|0)+16+(N<<2)>>2]=h;N=o[r>>2]|0;s=(o[_>>2]=h,+c[_>>2]);l=+c[N+20>>2]*s;a=+c[N+24>>2]*s;s=+c[N+16>>2]*s+ +c[e+128>>2];c[e+128>>2]=s;l=l+ +c[e+132>>2];c[e+132>>2]=l;a=a+ +c[e+136>>2];c[e+136>>2]=a}if((p|0)!=1){h=1;do{r=e+148+(O*36|0)+(h<<2)|0;t=o[r>>2]|0;if(!(b&1<<h)){N=o[e+364>>2]|0;o[e+364>>2]=N+1;o[e+348+(N<<2)>>2]=t}else{N=o[e+148+(i*36|0)+32>>2]|0;o[e+148+(i*36|0)+(N<<2)>>2]=t;t=o[F+(h<<2)>>2]|0;o[e+148+(i*36|0)+32>>2]=N+1;o[e+148+(i*36|0)+16+(N<<2)>>2]=t;N=o[r>>2]|0;s=(o[_>>2]=t,+c[_>>2]);l=+c[N+20>>2]*s;a=+c[N+24>>2]*s;s=+c[N+16>>2]*s+ +c[e+128>>2];c[e+128>>2]=s;l=l+ +c[e+132>>2];c[e+132>>2]=l;a=a+ +c[e+136>>2];c[e+136>>2]=a}h=h+1|0}while((h|0)!=(p|0))}}else{a=0.0;l=0.0;s=0.0}if((b|0)==15)o[e+376>>2]=1;P=P+1|0;if(P>>>0>=128){L=45;break}t=o[e+376>>2]|0;if(t|0)break;else{O=i;f=l}}if((L|0)==6){o[e+376>>2]=1;i=O;L=48}else if((L|0)==9){i=o[e+368>>2]|0;P=(o[e+148+(i*36|0)+32>>2]|0)+-1|0;o[e+148+(i*36|0)+32>>2]=P;P=o[e+148+(i*36|0)+(P<<2)>>2]|0;N=o[e+364>>2]|0;o[e+364>>2]=N+1;o[e+348+(N<<2)>>2]=P;L=48}else if((L|0)==10){i=o[e+368>>2]|0;P=(o[e+148+(i*36|0)+32>>2]|0)+-1|0;o[e+148+(i*36|0)+32>>2]=P;P=o[e+148+(i*36|0)+(P<<2)>>2]|0;N=o[e+364>>2]|0;o[e+364>>2]=N+1;o[e+348+(N<<2)>>2]=P;L=48}else if((L|0)==45){o[e+376>>2]=2;o[e+372>>2]=e+148+(i*36|0);N=2;ae=F;return N|0}else if((L|0)==46){i=o[e+368>>2]|0;P=(o[e+148+(i*36|0)+32>>2]|0)+-1|0;o[e+148+(i*36|0)+32>>2]=P;P=o[e+148+(i*36|0)+(P<<2)>>2]|0;N=o[e+364>>2]|0;o[e+364>>2]=N+1;o[e+348+(N<<2)>>2]=P;L=48}if((L|0)==48)t=o[e+376>>2]|0;o[e+372>>2]=e+148+(i*36|0);switch(t|0){case 0:{I=+c[e+128>>2];D=+c[e+132>>2];w=+c[e+136>>2];c[e+144>>2]=+v(+(I*I+D*D+w*w));N=0;ae=F;return N|0}case 1:{c[e+144>>2]=0.0;N=1;ae=F;return N|0}default:{N=t;ae=F;return N|0}}return 0}function qo(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0;g=ae;ae=ae+16|0;La(14706);l=o[e+212>>2]|0;a=o[e+180>>2]|0;if((a|0)<(l|0)){if((o[e+184>>2]|0)<(l|0)){if(!l){r=a;s=0}else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+180>>2]|0;s=i}if((r|0)>0){i=0;do{o[s+(i<<2)>>2]=o[(o[e+188>>2]|0)+(i<<2)>>2];i=i+1|0}while((i|0)!=(r|0))}i=o[e+188>>2]|0;if(i|0){if(n[e+192>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+188>>2]=0}n[e+192>>0]=1;o[e+188>>2]=s;o[e+184>>2]=l;r=e+188|0}else r=e+188|0;i=a;do{o[(o[r>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=(l|0))}else r=e+188|0;o[e+180>>2]=l;i=0;while(1){if((i|0)>=(dF[o[(o[e>>2]|0)+104>>2]&127](e)|0))break;o[(o[r>>2]|0)+(i<<2)>>2]=o[(o[e+220>>2]|0)+(i<<2)>>2];i=i+1|0}i=o[e+180>>2]|0;if((i|0)>1)ei(e+176|0,0,i+-1|0);if(!(dF[o[(o[e>>2]|0)+104>>2]&127](e)|0))i=0;else i=o[r>>2]|0;s=o[e+196>>2]|0;m=o[e+180>>2]|0;A=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;o[s+4>>2]=t;o[s+12>>2]=i;o[s+16>>2]=m;o[s+20>>2]=A;i=o[s+32>>2]|0;if((i|0)<0){if((o[s+36>>2]|0)<0){r=o[s+40>>2]|0;if(r|0){if(n[s+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[s+40>>2]=0}n[s+44>>0]=1;o[s+40>>2]=0;o[s+36>>2]=0}do{o[(o[s+40>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[s+32>>2]=0;i=o[s+52>>2]|0;if((i|0)<0){if((o[s+56>>2]|0)<0){r=o[s+60>>2]|0;if(r|0){if(n[s+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[s+60>>2]=0}n[s+64>>0]=1;o[s+60>>2]=0;o[s+56>>2]=0}do{o[(o[s+60>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[s+52>>2]=0;i=o[s+72>>2]|0;if((i|0)<0){if((o[s+76>>2]|0)<0){r=o[s+80>>2]|0;if(r|0){if(n[s+84>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[s+80>>2]=0}n[s+84>>0]=1;o[s+80>>2]=0;o[s+76>>2]=0}do{o[(o[s+80>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[s+72>>2]=0;A=o[e+200>>2]|0;i=o[(o[A>>2]|0)+8>>2]|0;p=o[e+8>>2]|0;m=o[e+24>>2]|0;m=dF[o[(o[m>>2]|0)+36>>2]&127](m)|0;LF[i&127](A,p,m);m=o[e+204>>2]|0;p=o[e+24>>2]|0;A=o[e+196>>2]|0;La(16538);i=o[m+28>>2]|0;if((i|0)<0){if((o[m+32>>2]|0)<0){r=o[m+36>>2]|0;if(r|0){if(n[m+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[m+36>>2]=0}n[m+40>>0]=1;o[m+36>>2]=0;o[m+32>>2]=0}do{o[(o[m+36>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[m+28>>2]=0;a=o[m+8>>2]|0;if((a|0)>0){l=o[m+16>>2]|0;_=0;do{u=l+(_<<3)|0;i=o[u>>2]|0;if((i|0)!=(_|0)){o[u>>2]=o[l+(i<<3)>>2];i=o[l+(i<<3)>>2]|0;r=o[l+(i<<3)>>2]|0;if((i|0)!=(r|0)){s=l+(i<<3)|0;do{i=l+(r<<3)|0;o[s>>2]=o[i>>2];i=o[i>>2]|0;s=l+(i<<3)|0;r=o[s>>2]|0}while((i|0)!=(r|0))}}else i=_;o[u>>2]=i;_=_+1|0}while((_|0)!=(a|0));if((a|0)>1){ka(m+4|0,0,a+-1|0);f=o[m+8>>2]|0}else f=a;if((f|0)>0){d=o[m+16>>2]|0;a=0;while(1){h=o[d+(a<<3)>>2]|0;i=a+1|0;e:do{if((i|0)<(f|0)){r=a;s=i;while(1){if((o[d+(s<<3)>>2]|0)!=(h|0)){i=s;break e}i=s+1|0;if((i|0)<(f|0)){r=s;s=i}else{r=s;break}}}else r=a}while(0);e:do{if((a|0)<=(r|0)){u=o[e+16>>2]|0;s=1;_=a;while(1){l=o[u+(o[d+(_<<3)+4>>2]<<2)>>2]|0;if((o[l+208>>2]|0)==(h|0)){l=o[l+216>>2]|0;s=(l|0)!=4&(s&(l|0)!=1)}if((_|0)<(r|0))_=_+1|0;else break}if(s)while(1){s=o[u+(o[d+(a<<3)+4>>2]<<2)>>2]|0;do{if((o[s+208>>2]|0)==(h|0)){if((o[s+216>>2]&-2|0)==4)break;o[s+216>>2]=2}}while(0);if((a|0)>=(r|0))break e;a=a+1|0}else while(1){s=o[u+(o[d+(a<<3)+4>>2]<<2)>>2]|0;do{if((o[s+208>>2]|0)==(h|0)){if((o[s+216>>2]|0)!=2)break;o[s+216>>2]=3;c[s+220>>2]=0.0}}while(0);if((a|0)>=(r|0))break e;a=a+1|0}}}while(0);if((i|0)<(f|0))a=i;else break}}}l=dF[o[(o[p>>2]|0)+36>>2]&127](p)|0;if((l|0)>0){u=0;do{_=pF[o[(o[p>>2]|0)+40>>2]&31](p,u)|0;s=o[_+740>>2]|0;a=o[_+744>>2]|0;if((s|0)!=0?(o[s+216>>2]|0)!=2:0){i=o[s+204>>2]|0;if(!(i&2))r=111;else r=106}else r=101;if(((r|0)==101?(r=0,a|0):0)?(o[a+216>>2]|0)!=2:0){i=o[s+204>>2]|0;if((i&2|0)!=0?(o[s+216>>2]|0)!=2:0)r=106;else r=111}if((r|0)==106)if((i&4|0)==0?(o[a+204>>2]&3|0)==0:0){if((o[a+216>>2]&-2|0)!=4)o[a+216>>2]=1;c[a+220>>2]=0.0;r=111}else r=111;if((r|0)==111){h=o[a+204>>2]|0;if(h&2|0?(h&4|i&3|0)==0?(o[a+216>>2]|0)!=2:0:0){if((o[s+216>>2]&-2|0)!=4)o[s+216>>2]=1;c[s+220>>2]=0.0}if(n[m+64>>0]|0?mF[o[(o[p>>2]|0)+28>>2]&63](p,s,a)|0:0){i=o[m+28>>2]|0;if((i|0)==(o[m+32>>2]|0)?(b=(i|0)==0?1:i<<1,(i|0)<(b|0)):0){if(!b)r=0;else{o[6747]=(o[6747]|0)+1;i=Do((b<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[m+28>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[m+36>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[m+36>>2]|0;if(s){if(n[m+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[m+28>>2]|0}o[m+36>>2]=0}n[m+40>>0]=1;o[m+36>>2]=r;o[m+32>>2]=b}o[(o[m+36>>2]|0)+(i<<2)>>2]=_;o[m+28>>2]=i+1}}u=u+1|0}while((u|0)<(l|0))}i=o[2685]|0;b=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=b;do{if(!b){if(o[i+4>>2]|0){$(g|0,0)|0;b=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[g+4>>2]|0)-(o[b+4>>2]|0)+(((o[g>>2]|0)-(o[b>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);b=o[m+8>>2]|0;La(16566);if(n[m+64>>0]|0){h=o[m+28>>2]|0;if((h|0)>1)qt(m+24|0,0,h+-1|0);if((b|0)>0){f=1;r=0;p=0;while(1){i=o[m+16>>2]|0;d=o[i+(r<<3)>>2]|0;e:do{if((r|0)<(b|0)){l=o[m+48>>2]|0;a=o[m+52>>2]|0;u=1;while(1){_=o[(o[e+16>>2]|0)+(o[i+(r<<3)+4>>2]<<2)>>2]|0;do{if((l|0)==(a|0)){l=(a|0)==0?1:a<<1;if((a|0)>=(l|0)){i=a;break}if(!l){i=a;s=0}else{o[6747]=(o[6747]|0)+1;i=Do((l<<2|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[m+48>>2]|0}if((i|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[m+56>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(i|0))}a=o[m+56>>2]|0;if(a){if(n[m+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);i=o[m+48>>2]|0}o[m+56>>2]=0}n[m+60>>0]=1;o[m+56>>2]=s;o[m+52>>2]=l;a=l}else i=l}while(0);o[(o[m+56>>2]|0)+(i<<2)>>2]=_;l=i+1|0;o[m+48>>2]=l;s=o[_+216>>2]|0;s=u&((s|0)==5|(s|0)==2);r=r+1|0;if((r|0)>=(b|0)){u=r;_=s;break e}i=o[m+16>>2]|0;if((o[i+(r<<3)>>2]|0)!=(d|0)){u=r;_=s;break}else u=s}}else{u=r;_=1}}while(0);if((p|0)<(h|0)){a=o[m+36>>2]|0;l=a+(p<<2)|0;r=o[l>>2]|0;i=o[(o[r+740>>2]|0)+208>>2]|0;if((i|0)<=-1)i=o[(o[r+744>>2]|0)+208>>2]|0;if((i|0)==(d|0)){i=p+1|0;e:do{if((i|0)<(h|0))do{s=o[a+(i<<2)>>2]|0;r=o[(o[s+740>>2]|0)+208>>2]|0;if((r|0)<=-1)r=o[(o[s+744>>2]|0)+208>>2]|0;if((d|0)!=(r|0))break e;i=i+1|0}while((i|0)<(h|0))}while(0);s=i;r=i-p|0;i=l}else{s=f;r=0;i=0}}else{s=f;r=0;i=0}if(!_)GF[o[(o[A>>2]|0)+8>>2]&7](A,o[m+56>>2]|0,o[m+48>>2]|0,i,r,d);p=(r|0)==0?p:s;i=o[m+48>>2]|0;if((i|0)<0){if((o[m+52>>2]|0)<0){r=o[m+56>>2]|0;if(r|0){if(n[m+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[m+56>>2]=0}n[m+60>>0]=1;o[m+56>>2]=0;o[m+52>>2]=0}do{o[(o[m+56>>2]|0)+(i<<2)>>2]=0;i=i+1|0}while((i|0)!=0)}o[m+48>>2]=0;if((u|0)>=(b|0))break;else{f=s;r=u}}}}else{b=dF[o[(o[p>>2]|0)+44>>2]&127](p)|0;m=dF[o[(o[p>>2]|0)+36>>2]&127](p)|0;GF[o[(o[A>>2]|0)+8>>2]&7](A,o[e+16>>2]|0,o[e+8>>2]|0,b,m,-1)}i=o[2685]|0;A=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=A;do{if(!A){if(o[i+4>>2]|0){$(g|0,0)|0;A=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[g+4>>2]|0)-(o[A+4>>2]|0)+(((o[g>>2]|0)-(o[A>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);mi(o[e+196>>2]|0);i=o[e+200>>2]|0;LF[o[(o[i>>2]|0)+16>>2]&127](i,t,o[e+72>>2]|0);i=o[2685]|0;e=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=e;if(e|0){ae=g;return}do{if(o[i+4>>2]|0){$(g|0,0)|0;e=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[g+4>>2]|0)-(o[e+4>>2]|0)+(((o[g>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=g;return}}}while(0);o[2685]=o[i+20>>2];ae=g;return}function $o(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0,w=0;m=ae;ae=ae+144|0;f=o[e+48>>2]|0;s=o[e+52>>2]|0;if((s|0?(l=o[s+20>>2]|0,l|0):0)?(dF[o[(o[l>>2]|0)+48>>2]&127](l)|0)&1|0:0){o[m>>2]=1065353216;o[m+4>>2]=1065353216;o[m+8>>2]=0;c[m+12>>2]=0.0;_=o[e+8>>2]|0;b=o[(o[e+52>>2]|0)+20>>2]|0;p=o[(o[b>>2]|0)+8>>2]|0;A=+c[t>>2];M=+c[t+4>>2];g=+c[t+8>>2];T=+c[_+20>>2];y=+c[_+24>>2];O=+c[_+28>>2];C=+c[_+36>>2];x=+c[_+40>>2];E=+c[_+44>>2];S=+c[_+52>>2];I=+c[_+56>>2];R=+c[_+60>>2];c[m+120>>2]=A*+c[_+4>>2]+M*+c[_+8>>2]+g*+c[_+12>>2]+S;c[m+120+4>>2]=A*T+M*y+g*O+I;c[m+120+8>>2]=A*C+M*x+g*E+R;c[m+120+12>>2]=0.0;g=+c[t+16>>2];M=+c[t+20>>2];A=+c[t+24>>2];c[m+96>>2]=S+(g*+c[_+4>>2]+M*+c[_+8>>2]+A*+c[_+12>>2]);c[m+96+4>>2]=I+(T*g+y*M+O*A);c[m+96+8>>2]=R+(C*g+x*M+E*A);c[m+96+12>>2]=0.0;BF[p&127](b,m+120|0,m+96|0,m);b=o[(o[e+52>>2]|0)+20>>2]|0;p=o[(o[b>>2]|0)+8>>2]|0;A=+c[t+16>>2];E=+c[t+20>>2];M=+c[t+24>>2];x=+c[_+20>>2];g=+c[_+24>>2];C=+c[_+28>>2];R=+c[_+36>>2];O=+c[_+40>>2];y=+c[_+44>>2];T=+c[_+52>>2];I=+c[_+56>>2];S=+c[_+60>>2];c[m+120>>2]=A*+c[_+4>>2]+E*+c[_+8>>2]+M*+c[_+12>>2]+T;c[m+120+4>>2]=A*x+E*g+M*C+I;c[m+120+8>>2]=A*R+E*O+M*y+S;c[m+120+12>>2]=0.0;M=+c[t+32>>2];E=+c[t+36>>2];A=+c[t+40>>2];c[m+96>>2]=T+(M*+c[_+4>>2]+E*+c[_+8>>2]+A*+c[_+12>>2]);c[m+96+4>>2]=I+(x*M+g*E+C*A);c[m+96+8>>2]=S+(R*M+O*E+y*A);c[m+96+12>>2]=0.0;BF[p&127](b,m+120|0,m+96|0,m);b=o[(o[e+52>>2]|0)+20>>2]|0;p=o[(o[b>>2]|0)+8>>2]|0;A=+c[t+32>>2];y=+c[t+36>>2];E=+c[t+40>>2];O=+c[_+20>>2];M=+c[_+24>>2];R=+c[_+28>>2];S=+c[_+36>>2];C=+c[_+40>>2];g=+c[_+44>>2];x=+c[_+52>>2];I=+c[_+56>>2];T=+c[_+60>>2];c[m+120>>2]=A*+c[_+4>>2]+y*+c[_+8>>2]+E*+c[_+12>>2]+x;c[m+120+4>>2]=A*O+y*M+E*R+I;c[m+120+8>>2]=A*S+y*C+E*g+T;c[m+120+12>>2]=0.0;E=+c[t>>2];y=+c[t+4>>2];A=+c[t+8>>2];c[m+96>>2]=x+(E*+c[_+4>>2]+y*+c[_+8>>2]+A*+c[_+12>>2]);c[m+96+4>>2]=I+(O*E+M*y+R*A);c[m+96+8>>2]=T+(S*E+C*y+g*A);c[m+96+12>>2]=0.0;BF[p&127](b,m+120|0,m+96|0,m)}s=((10?(i<<21|r)+~(r<<15)>>10:(i<<21|r)+~(r<<15)|0)^(i<<21|r)+~(r<<15))*9|0;s=(6?s>>6:s)^s;s=(o[e+108>>2]|0)+-1&((16?s+~(s<<11)>>16:s+~(s<<11)|0)^s+~(s<<11));e:do{if(s>>>0<(o[e+64>>2]|0)>>>0?(u=o[(o[e+72>>2]|0)+(s<<2)>>2]|0,(u|0)!=-1):0){_=o[e+132>>2]|0;l=u;while(1){if((i<<21|r|0)==(o[_+(l<<2)>>2]|0))break;s=o[(o[e+92>>2]|0)+(l<<2)>>2]|0;if((s|0)==-1)break e;else l=s}s=o[e+112>>2]|0;if(s+(l<<3)|0){p=o[s+(l<<3)+4>>2]|0;b=o[e+8>>2]|0;o[p+8>>2]=o[(o[b+192>>2]|0)+8>>2];h=o[e+4>>2]|0;d=o[h+192>>2]|0;o[m>>2]=0;o[m+4>>2]=d;o[m+8>>2]=h;o[m+12>>2]=h+4;o[m+16>>2]=-1;o[m+20>>2]=-1;o[m+120>>2]=0;o[m+120+4>>2]=p;o[m+120+8>>2]=b;o[m+120+12>>2]=b+4;o[m+120+16>>2]=i;o[m+120+20>>2]=r;b=AF[o[(o[f>>2]|0)+8>>2]&31](f,m,m+120|0,0)|0;jF[o[(o[b>>2]|0)+8>>2]&31](b,m,m+120|0,o[e+52>>2]|0,o[e+44>>2]|0);SF[o[o[b>>2]>>2]&511](b);xF[o[(o[f>>2]|0)+60>>2]&127](f,b);ae=m;return}}}while(0);y=+c[t+16>>2];P=+c[t>>2];C=+c[t+20>>2];A=+c[t+4>>2];E=+c[t+24>>2];g=+c[t+8>>2];S=+c[t+32>>2];R=+c[t+36>>2];O=+c[t+40>>2];T=(C-A)*(O-g)-(E-g)*(R-A);M=(E-g)*(S-P)-(y-P)*(O-g);I=(y-P)*(R-A)-(C-A)*(S-P);x=1.0/+v(+(I*I+(T*T+M*M)));c[m>>2]=P+T*x*.05999999865889549;c[m+4>>2]=A+M*x*.05999999865889549;c[m+8>>2]=g+I*x*.05999999865889549;c[m+12>>2]=0.0;c[m+16>>2]=y+T*x*.05999999865889549;c[m+20>>2]=C+M*x*.05999999865889549;c[m+24>>2]=E+I*x*.05999999865889549;c[m+28>>2]=0.0;c[m+32>>2]=S+T*x*.05999999865889549;c[m+36>>2]=R+M*x*.05999999865889549;c[m+40>>2]=O+I*x*.05999999865889549;c[m+44>>2]=0.0;c[m+48>>2]=P-T*x*.05999999865889549;c[m+52>>2]=A-M*x*.05999999865889549;c[m+56>>2]=g-I*x*.05999999865889549;c[m+60>>2]=0.0;c[m+64>>2]=y-T*x*.05999999865889549;c[m+68>>2]=C-M*x*.05999999865889549;c[m+72>>2]=E-I*x*.05999999865889549;c[m+76>>2]=0.0;c[m+80>>2]=S-T*x*.05999999865889549;c[m+84>>2]=R-M*x*.05999999865889549;c[m+88>>2]=O-I*x*.05999999865889549;c[m+92>>2]=0.0;o[6747]=(o[6747]|0)+1;s=Do(131)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}mt(s,m,6,16);b=o[e+8>>2]|0;o[s+8>>2]=o[(o[b+192>>2]|0)+8>>2];t=o[e+4>>2]|0;p=o[t+192>>2]|0;o[m+120>>2]=0;o[m+120+4>>2]=p;o[m+120+8>>2]=t;o[m+120+12>>2]=t+4;o[m+120+16>>2]=-1;o[m+120+20>>2]=-1;o[m+96>>2]=0;o[m+96+4>>2]=s;o[m+96+8>>2]=b;o[m+96+12>>2]=b+4;o[m+96+16>>2]=i;o[m+96+20>>2]=r;b=AF[o[(o[f>>2]|0)+8>>2]&31](f,m+120|0,m+96|0,0)|0;jF[o[(o[b>>2]|0)+8>>2]&31](b,m+120|0,m+96|0,o[e+52>>2]|0,o[e+44>>2]|0);SF[o[o[b>>2]>>2]&511](b);xF[o[(o[f>>2]|0)+60>>2]&127](f,b);b=((10?(i<<21|r)+~(r<<15)>>10:(i<<21|r)+~(r<<15)|0)^(i<<21|r)+~(r<<15))*9|0;b=(6?b>>6:b)^b;b=(16?b+~(b<<11)>>16:b+~(b<<11)|0)^b+~(b<<11);t=o[e+108>>2]|0;e:do{if((b&t+-1)>>>0<(o[e+64>>2]|0)>>>0?(a=o[(o[e+72>>2]|0)+((b&t+-1)<<2)>>2]|0,(a|0)!=-1):0){l=o[e+132>>2]|0;while(1){if((i<<21|r|0)==(o[l+(a<<2)>>2]|0))break;a=o[(o[e+92>>2]|0)+(a<<2)>>2]|0;if((a|0)==-1){d=20;break e}}e=o[e+112>>2]|0;o[e+(a<<3)>>2]=i<<21|r;o[e+(a<<3)+4>>2]=s}else d=20}while(0);if((d|0)==20){p=o[e+104>>2]|0;if((p|0)==(t|0)){u=(t|0)==0?1:t<<1;if((t|0)<(u|0)){if(!u){l=t;_=0}else{o[6747]=(o[6747]|0)+1;a=Do((u<<3|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}l=o[e+104>>2]|0;_=a}if((l|0)>0){a=0;do{w=(o[e+112>>2]|0)+(a<<3)|0;D=o[w+4>>2]|0;f=_+(a<<3)|0;o[f>>2]=o[w>>2];o[f+4>>2]=D;a=a+1|0}while((a|0)!=(l|0))}a=o[e+112>>2]|0;if(a|0){if(n[e+116>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+112>>2]=0}n[e+116>>0]=1;o[e+112>>2]=_;o[e+108>>2]=u;a=o[e+104>>2]|0}else a=t}else a=p;w=o[e+112>>2]|0;o[w+(a<<3)>>2]=i<<21|r;o[w+(a<<3)+4>>2]=s;o[e+104>>2]=(o[e+104>>2]|0)+1;s=o[e+124>>2]|0;if((s|0)==(o[e+128>>2]|0)?(h=(s|0)==0?1:s<<1,(s|0)<(h|0)):0){if(!h)a=0;else{o[6747]=(o[6747]|0)+1;s=Do((h<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[e+124>>2]|0}_=o[e+132>>2]|0;if((s|0)<=0){if(!_)l=e+136|0;else d=45}else{l=0;do{o[a+(l<<2)>>2]=o[_+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0));d=45}if((d|0)==45){if(n[e+136>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}o[e+132>>2]=0;s=o[e+124>>2]|0;l=e+136|0}n[l>>0]=1;o[e+132>>2]=a;o[e+128>>2]=h}o[(o[e+132>>2]|0)+(s<<2)>>2]=i<<21|r;o[e+124>>2]=(o[e+124>>2]|0)+1;f=o[e+108>>2]|0;if((t|0)<(f|0)){d=o[e+64>>2]|0;if((d|0)<(f|0)){do{if((o[e+68>>2]|0)<(f|0)){if(!f){_=d;s=0}else{o[6747]=(o[6747]|0)+1;s=Do((f<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_=o[e+64>>2]|0}a=o[e+72>>2]|0;if((_|0)<=0){if(!a){n[e+76>>0]=1;o[e+72>>2]=s;o[e+68>>2]=f;t=e+72|0;break}}else{l=0;do{o[s+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(_|0))}if(n[e+76>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[e+76>>0]=1;o[e+72>>2]=s;o[e+68>>2]=f;t=e+72|0}else{s=o[e+72>>2]|0;t=e+72|0}}while(0);_l(s+(d<<2)|0,0,(f<<2)-(d<<2)|0)|0;o[e+64>>2]=f;u=o[e+84>>2]|0;if((u|0)<(f|0)){do{if((o[e+88>>2]|0)<(f|0)){if(!f){_=u;s=0}else{o[6747]=(o[6747]|0)+1;s=Do((f<<2|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_=o[e+84>>2]|0}a=o[e+92>>2]|0;if((_|0)<=0){if(!a){n[e+96>>0]=1;o[e+92>>2]=s;o[e+88>>2]=f;break}}else{l=0;do{o[s+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(_|0))}if(n[e+96>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[e+96>>0]=1;o[e+92>>2]=s;o[e+88>>2]=f}else s=o[e+92>>2]|0}while(0);_l(s+(u<<2)|0,0,(f<<2)-(u<<2)|0)|0}o[e+84>>2]=f;if((f|0)>0){_l(o[t>>2]|0,-1,f<<2|0)|0;_l(o[e+92>>2]|0,-1,f<<2|0)|0}if((d|0)>0){_=o[e+132>>2]|0;s=o[t>>2]|0;a=o[e+92>>2]|0;l=0;do{w=o[_+(l<<2)>>2]|0;w=((10?w+~(w<<15)>>10:w+~(w<<15)|0)^w+~(w<<15))*9|0;w=(6?w>>6:w)^w;w=s+((((16?w+~(w<<11)>>16:w+~(w<<11)|0)^w+~(w<<11))&(o[e+108>>2]|0)+-1)<<2)|0;o[a+(l<<2)>>2]=o[w>>2];o[w>>2]=l;l=l+1|0}while((l|0)!=(d|0))}}s=b&(o[e+108>>2]|0)+-1}else s=b&t+-1;w=(o[e+72>>2]|0)+(s<<2)|0;o[(o[e+92>>2]|0)+(p<<2)>>2]=o[w>>2];o[w>>2]=p}ae=m;return}function es(e,t,i,r,s,a,l){e=e|0;t=t|0;i=i|0;r=r|0;s=+s;a=+a;l=l|0;var _=0,u=0,f=0.0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,y=0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0,L=0.0,F=0.0,N=0.0,B=0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0,q=0.0,$=0,ee=0;J=ae;ae=ae+48|0;n[J+16+16>>0]=1;Z=J+16+12|0;o[Z>>2]=0;o[J+16+4>>2]=0;o[J+16+8>>2]=0;h=o[r+4>>2]|0;if((h|0)>0){o[6747]=(o[6747]|0)+1;_=Do((h<<4|3)+16|0)|0;if(!_)d=0;else{o[(_+4+15&-16)+-4>>2]=_;d=_+4+15&-16}_=o[J+16+4>>2]|0;if((_|0)>0){u=0;do{K=d+(u<<4)|0;Q=(o[Z>>2]|0)+(u<<4)|0;o[K>>2]=o[Q>>2];o[K+4>>2]=o[Q+4>>2];o[K+8>>2]=o[Q+8>>2];o[K+12>>2]=o[Q+12>>2];u=u+1|0}while((u|0)!=(_|0))}_=o[Z>>2]|0;if(_|0){if(n[J+16+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}o[Z>>2]=0}n[J+16+16>>0]=1;o[Z>>2]=d;o[J+16+8>>2]=h}_=o[t+28>>2]|0;if((_|0)>0){Q=o[t+36>>2]|0;O=+c[i>>2];I=+c[i+4>>2];x=+c[i+8>>2];P=+c[i+16>>2];D=+c[i+20>>2];b=+c[i+24>>2];v=+c[i+32>>2];p=+c[i+36>>2];f=+c[i+40>>2];m=+c[e>>2];A=+c[e+4>>2];C=+c[e+8>>2];K=-1;R=3402823466385288598117041.0e14;d=0;while(1){E=+c[Q+(d*36|0)+20>>2];S=+c[Q+(d*36|0)+24>>2];T=+c[Q+(d*36|0)+28>>2];u=(E*O+S*I+T*x)*m+(E*P+S*D+T*b)*A+(E*v+S*p+T*f)*C<R;K=u?d:K;d=d+1|0;if((d|0)==(_|0))break;else R=u?(E*O+S*I+T*x)*m+(E*P+S*D+T*b)*A+(E*v+S*p+T*f)*C:R}if((K|0)>=0){H=o[Q+(K*36|0)+4>>2]|0;if((H|0)>0){j=Q+(K*36|0)+12|0;d=Q+(K*36|0)+20|0;V=Q+(K*36|0)+24|0;G=Q+(K*36|0)+28|0;A=P;m=D;_=0;k=r;U=J+16|0;while(1){w=o[j>>2]|0;M=o[w+(_<<2)>>2]|0;r=o[t+16>>2]|0;B=_+1|0;w=o[w+(((B|0)==(H|0)?0:B)<<2)>>2]|0;E=+c[r+(M<<4)>>2];C=E-+c[r+(w<<4)>>2];S=+c[r+(M<<4)+4>>2];q=S-+c[r+(w<<4)+4>>2];T=+c[r+(M<<4)+8>>2];P=T-+c[r+(w<<4)+8>>2];N=C*O+q*I+P*x;L=C*A+q*m+P*b;P=C*v+q*p+P*f;q=+c[d>>2];C=+c[V>>2];R=+c[G>>2];F=O*q+I*C+x*R;D=A*q+m*C+b*R;R=v*q+p*C+f*R;v=(E*O+S*I+T*x+ +c[i+48>>2])*-(L*R-P*D)+(E*A+S*m+T*b+ +c[i+52>>2])*-(P*F-N*R)+(E*v+S*p+T*f+ +c[i+56>>2])*-(N*D-L*F);w=k;r=U;_=o[w+4>>2]|0;if((_|0)>=2){h=o[w+12>>2]|0;p=+c[h+(_+-1<<4)>>2];b=+c[h+(_+-1<<4)+4>>2];m=+c[h+(_+-1<<4)+8>>2];f=p*-(L*R-P*D)+b*-(P*F-N*R)+m*-(N*D-L*F)-v;M=0;while(1){E=+c[h+(M<<4)>>2];S=+c[h+(M<<4)+4>>2];T=+c[h+(M<<4)+8>>2];y=o[h+(M<<4)+12>>2]|0;C=E*-(L*R-P*D)+S*-(P*F-N*R)+T*-(N*D-L*F)-v;do{if(f<0.0){if(C<0.0){u=o[r+4>>2]|0;if((u|0)==(o[r+8>>2]|0)?(X=(u|0)==0?1:u<<1,(u|0)<(X|0)):0){if(!X)h=0;else{o[6747]=(o[6747]|0)+1;u=Do((X<<4|3)+16|0)|0;if(!u)h=0;else{o[(u+4+15&-16)+-4>>2]=u;h=u+4+15&-16}u=o[r+4>>2]|0}if((u|0)>0){g=0;do{$=h+(g<<4)|0;ee=(o[r+12>>2]|0)+(g<<4)|0;o[$>>2]=o[ee>>2];o[$+4>>2]=o[ee+4>>2];o[$+8>>2]=o[ee+8>>2];o[$+12>>2]=o[ee+12>>2];g=g+1|0}while((g|0)!=(u|0))}u=o[r+12>>2]|0;if(u|0){if(n[r+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[r+12>>2]=0}n[r+16>>0]=1;o[r+12>>2]=h;o[r+8>>2]=X;u=o[r+4>>2]|0}g=o[r+12>>2]|0;c[g+(u<<4)>>2]=E;c[g+(u<<4)+4>>2]=S;c[g+(u<<4)+8>>2]=T;o[g+(u<<4)+12>>2]=y;g=83;break}else{f=f/(f-C);A=p+(E-p)*f;p=b+(S-b)*f;f=m+(T-m)*f;u=o[r+4>>2]|0;if((u|0)==(o[r+8>>2]|0)?(Y=(u|0)==0?1:u<<1,(u|0)<(Y|0)):0){if(!Y)h=0;else{o[6747]=(o[6747]|0)+1;u=Do((Y<<4|3)+16|0)|0;if(!u)h=0;else{o[(u+4+15&-16)+-4>>2]=u;h=u+4+15&-16}u=o[r+4>>2]|0}if((u|0)>0){g=0;do{ee=h+(g<<4)|0;$=(o[r+12>>2]|0)+(g<<4)|0;o[ee>>2]=o[$>>2];o[ee+4>>2]=o[$+4>>2];o[ee+8>>2]=o[$+8>>2];o[ee+12>>2]=o[$+12>>2];g=g+1|0}while((g|0)!=(u|0))}u=o[r+12>>2]|0;if(u|0){if(n[r+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[r+12>>2]=0}n[r+16>>0]=1;o[r+12>>2]=h;o[r+8>>2]=Y;u=o[r+4>>2]|0}g=o[r+12>>2]|0;c[g+(u<<4)>>2]=A;c[g+(u<<4)+4>>2]=p;c[g+(u<<4)+8>>2]=f;c[g+(u<<4)+12>>2]=0.0;g=83;break}}else if(C<0.0){f=f/(f-C);A=p+(E-p)*f;p=b+(S-b)*f;f=m+(T-m)*f;u=o[r+4>>2]|0;if((u|0)==(o[r+8>>2]|0)?(z=(u|0)==0?1:u<<1,(u|0)<(z|0)):0){if(!z)h=0;else{o[6747]=(o[6747]|0)+1;u=Do((z<<4|3)+16|0)|0;if(!u)h=0;else{o[(u+4+15&-16)+-4>>2]=u;h=u+4+15&-16}u=o[r+4>>2]|0}if((u|0)>0){g=0;do{ee=h+(g<<4)|0;$=(o[r+12>>2]|0)+(g<<4)|0;o[ee>>2]=o[$>>2];o[ee+4>>2]=o[$+4>>2];o[ee+8>>2]=o[$+8>>2];o[ee+12>>2]=o[$+12>>2];g=g+1|0}while((g|0)!=(u|0))}u=o[r+12>>2]|0;if(u|0){if(n[r+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[r+12>>2]=0}n[r+16>>0]=1;o[r+12>>2]=h;o[r+8>>2]=z;u=o[r+4>>2]|0}ee=o[r+12>>2]|0;c[ee+(u<<4)>>2]=A;c[ee+(u<<4)+4>>2]=p;c[ee+(u<<4)+8>>2]=f;c[ee+(u<<4)+12>>2]=0.0;u=(o[r+4>>2]|0)+1|0;o[r+4>>2]=u;if((u|0)==(o[r+8>>2]|0)?(W=(u|0)==0?1:u<<1,(u|0)<(W|0)):0){if(!W)h=0;else{o[6747]=(o[6747]|0)+1;u=Do((W<<4|3)+16|0)|0;if(!u)h=0;else{o[(u+4+15&-16)+-4>>2]=u;h=u+4+15&-16}u=o[r+4>>2]|0}if((u|0)>0){g=0;do{ee=h+(g<<4)|0;$=(o[r+12>>2]|0)+(g<<4)|0;o[ee>>2]=o[$>>2];o[ee+4>>2]=o[$+4>>2];o[ee+8>>2]=o[$+8>>2];o[ee+12>>2]=o[$+12>>2];g=g+1|0}while((g|0)!=(u|0))}u=o[r+12>>2]|0;if(u|0){if(n[r+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[r+12>>2]=0}n[r+16>>0]=1;o[r+12>>2]=h;o[r+8>>2]=W;u=o[r+4>>2]|0}g=o[r+12>>2]|0;c[g+(u<<4)>>2]=E;c[g+(u<<4)+4>>2]=S;c[g+(u<<4)+8>>2]=T;o[g+(u<<4)+12>>2]=y;g=83}}while(0);if((g|0)==83){g=0;o[r+4>>2]=(o[r+4>>2]|0)+1}u=M+1|0;if((u|0)==(_|0))break;h=o[w+12>>2]|0;f=C;p=E;m=T;b=S;M=u}_=o[w+4>>2]|0}if((_|0)<0){if((o[w+8>>2]|0)<0){u=o[w+12>>2]|0;if(u|0){if(n[w+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[w+12>>2]=0}n[w+16>>0]=1;o[w+12>>2]=0;o[w+8>>2]=0}do{ee=(o[w+12>>2]|0)+(_<<4)|0;o[ee>>2]=o[J>>2];o[ee+4>>2]=o[J+4>>2];o[ee+8>>2]=o[J+8>>2];o[ee+12>>2]=o[J+12>>2];_=_+1|0}while((_|0)!=0)}o[w+4>>2]=0;if((B|0)>=(H|0))break;ee=U;O=+c[i>>2];I=+c[i+4>>2];x=+c[i+8>>2];A=+c[i+16>>2];m=+c[i+20>>2];b=+c[i+24>>2];v=+c[i+32>>2];p=+c[i+36>>2];f=+c[i+40>>2];_=B;U=k;k=ee}S=+c[i>>2];E=+c[i+4>>2];A=+c[i+8>>2];C=+c[i+16>>2];m=+c[i+20>>2];b=+c[i+24>>2];v=+c[i+32>>2];p=+c[i+36>>2];f=+c[i+40>>2];u=V;_=G;g=i+56|0;y=i+48|0;h=i+52|0;M=r+4|0}else{S=O;E=I;A=x;C=P;m=D;d=Q+(K*36|0)+20|0;u=Q+(K*36|0)+24|0;_=Q+(K*36|0)+28|0;g=i+56|0;y=i+48|0;h=i+52|0;M=r+4|0}F=+c[d>>2];N=+c[u>>2];q=+c[_>>2];A=F*S+N*E+q*A;m=F*C+N*m+q*b;b=F*v+N*p+q*f;p=+c[Q+(K*36|0)+32>>2]-(A*+c[y>>2]+m*+c[h>>2]+b*+c[g>>2]);_=o[M>>2]|0;if((_|0)>0){h=r+12|0;d=0;do{ee=o[h>>2]|0;u=ee+(d<<4)|0;f=p+(A*+c[u>>2]+m*+c[ee+(d<<4)+4>>2]+b*+c[ee+(d<<4)+8>>2]);f=f<=s?s:f;if(f<=a){o[J>>2]=o[u>>2];o[J+4>>2]=o[u+4>>2];o[J+8>>2]=o[u+8>>2];o[J+12>>2]=o[u+12>>2];FF[o[(o[l>>2]|0)+16>>2]&15](l,e,J,f);_=o[M>>2]|0}d=d+1|0}while((d|0)<(_|0))}}}_=o[Z>>2]|0;if(!_){ae=J;return}if(n[J+16+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}o[Z>>2]=0;ae=J;return}function ts(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0,M=0,O=0,I=0,x=0,P=0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0,U=0,H=0,j=0.0,V=0.0,G=0.0,W=0;H=ae;ae=ae+208|0;c[e+56>>2]=0.0;k=H+192+4|0;U=H+192+8|0;o[H+192>>2]=0;o[H+192+4>>2]=0;o[H+192+8>>2]=0;o[H+192+12>>2]=0;o[H+128>>2]=o[t>>2];o[H+128+4>>2]=o[t+4>>2];o[H+128+8>>2]=o[t+8>>2];o[H+128+12>>2]=o[t+12>>2];o[H+128+16>>2]=o[t+16>>2];o[H+128+16+4>>2]=o[t+16+4>>2];o[H+128+16+8>>2]=o[t+16+8>>2];o[H+128+16+12>>2]=o[t+16+12>>2];o[H+128+32>>2]=o[t+32>>2];o[H+128+32+4>>2]=o[t+32+4>>2];o[H+128+32+8>>2]=o[t+32+8>>2];o[H+128+32+12>>2]=o[t+32+12>>2];I=H+128+48|0;o[I>>2]=o[t+48>>2];o[I+4>>2]=o[t+48+4>>2];o[I+8>>2]=o[t+48+8>>2];o[I+12>>2]=o[t+48+12>>2];o[H+64>>2]=o[t+64>>2];o[H+64+4>>2]=o[t+64+4>>2];o[H+64+8>>2]=o[t+64+8>>2];o[H+64+12>>2]=o[t+64+12>>2];o[H+64+16>>2]=o[t+80>>2];o[H+64+16+4>>2]=o[t+80+4>>2];o[H+64+16+8>>2]=o[t+80+8>>2];o[H+64+16+12>>2]=o[t+80+12>>2];o[H+64+32>>2]=o[t+96>>2];o[H+64+32+4>>2]=o[t+96+4>>2];o[H+64+32+8>>2]=o[t+96+8>>2];o[H+64+32+12>>2]=o[t+96+12>>2];x=H+64+48|0;o[x>>2]=o[t+112>>2];o[x+4>>2]=o[t+112+4>>2];o[x+8>>2]=o[t+112+8>>2];o[x+12>>2]=o[t+112+12>>2];D=+c[I>>2];w=+c[x>>2];L=+c[H+128+52>>2];F=+c[H+64+52>>2];N=+c[H+128+56>>2];B=+c[H+64+56>>2];c[I>>2]=D-(D+w)*.5;c[H+128+52>>2]=L-(L+F)*.5;c[H+128+56>>2]=N-(N+B)*.5;c[x>>2]=w-(D+w)*.5;c[H+64+52>>2]=F-(L+F)*.5;c[H+64+56>>2]=B-(N+B)*.5;if(((o[(o[e+28>>2]|0)+4>>2]|0)+-17|0)>>>0<2)I=((o[(o[e+32>>2]|0)+4>>2]|0)+-17|0)>>>0<2;else I=0;y=+c[e+44>>2];g=+c[e+48>>2];o[6732]=(o[6732]|0)+1;x=n[e+52>>0]|0;o[e+64>>2]=0;o[e+4>>2]=0;o[e+8>>2]=1065353216;o[e+12>>2]=0;c[e+16>>2]=0.0;o[e+68>>2]=0;o[e+60>>2]=-1;b=o[e+24>>2]|0;n[b+312>>0]=0;o[b>>2]=0;n[b+356>>0]=1;o[b+292>>2]=1566444395;o[b+296>>2]=1566444395;o[b+300>>2]=1566444395;c[b+304>>2]=0.0;o[b+336>>2]=0;o[b+336+4>>2]=0;o[b+336+8>>2]=0;o[b+336+12>>2]=0;n[b+336+16>>0]=0;n[b+332>>0]=n[b+332>>0]&-16;b=0;u=999999984306749440.0;do{h=+c[e+4>>2];f=+c[e+8>>2];l=+c[e+12>>2];p=+c[t+4>>2]*-h+ +c[t+20>>2]*-f+ +c[t+36>>2]*-l;m=+c[t+8>>2]*-h+ +c[t+24>>2]*-f+ +c[t+40>>2]*-l;c[H+48>>2]=+c[t>>2]*-h+ +c[t+16>>2]*-f+ +c[t+32>>2]*-l;c[H+48+4>>2]=p;c[H+48+8>>2]=m;c[H+48+12>>2]=0.0;m=h*+c[t+68>>2]+f*+c[t+84>>2]+l*+c[t+100>>2];p=h*+c[t+72>>2]+f*+c[t+88>>2]+l*+c[t+104>>2];c[H+32>>2]=h*+c[t+64>>2]+f*+c[t+80>>2]+l*+c[t+96>>2];c[H+32+4>>2]=m;c[H+32+8>>2]=p;c[H+32+12>>2]=0.0;Kn(H+16|0,o[e+28>>2]|0,H+48|0);Kn(H,o[e+32>>2]|0,H+32|0);p=+c[H+16>>2];m=+c[H+16+4>>2];l=+c[H+16+8>>2];f=p*+c[H+128>>2]+m*+c[H+128+4>>2]+l*+c[H+128+8>>2]+ +c[H+128+48>>2];h=p*+c[H+128+16>>2]+m*+c[H+128+20>>2]+l*+c[H+128+24>>2]+ +c[H+128+52>>2];l=p*+c[H+128+32>>2]+m*+c[H+128+36>>2]+l*+c[H+128+40>>2]+ +c[H+128+56>>2];m=+c[H>>2];p=+c[H+4>>2];A=+c[H+8>>2];_=m*+c[H+64>>2]+p*+c[H+64+4>>2]+A*+c[H+64+8>>2]+ +c[H+64+48>>2];d=m*+c[H+64+16>>2]+p*+c[H+64+20>>2]+A*+c[H+64+24>>2]+ +c[H+64+52>>2];A=m*+c[H+64+32>>2]+p*+c[H+64+36>>2]+A*+c[H+64+40>>2]+ +c[H+64+56>>2];p=I?0.0:A;m=I?0.0:l;A=I?0.0:l-A;l=(f-_)*+c[e+4>>2]+(h-d)*+c[e+8>>2]+A*+c[e+12>>2];if(l>0.0?l*l>u*+c[t+128>>2]:0){o[e+68>>2]=10;b=1;s=0}else W=7;do{if((W|0)==7){W=0;M=o[e+24>>2]|0;O=o[M>>2]|0;if((O|0)>0){a=+c[M+308>>2];s=0;R=0;do{E=f-_-+c[M+4+(R<<4)>>2];S=h-d-+c[M+4+(R<<4)+4>>2];T=A-+c[M+4+(R<<4)+8>>2];s=s|E*E+S*S+T*T<=a;R=R+1|0}while((R|0)!=(O|0))}else s=0;if((+c[M+304>>2]==0.0?A==+c[M+300>>2]:0)?h-d==+c[M+296>>2]:0){if(f-_==+c[M+292>>2]|s)W=15}else W=14;if((W|0)==14?(W=0,s):0)W=15;if((W|0)==15){W=0;o[e+68>>2]=1;b=1;s=0;break}a=u-l;if(a<=u*9.999999974752427e-07){o[e+68>>2]=!(a<=0.0)?11:2;b=1;s=0;break}c[M+292>>2]=f-_;c[M+296>>2]=h-d;c[M+300>>2]=A;c[M+304>>2]=0.0;n[M+356>>0]=1;c[M+4+(O<<4)>>2]=f-_;c[M+4+(O<<4)+4>>2]=h-d;c[M+4+(O<<4)+8>>2]=A;c[M+4+(O<<4)+12>>2]=0.0;s=o[M>>2]|0;c[M+84+(s<<4)>>2]=f;c[M+84+(s<<4)+4>>2]=h;c[M+84+(s<<4)+8>>2]=m;c[M+84+(s<<4)+12>>2]=0.0;s=o[M>>2]|0;c[M+164+(s<<4)>>2]=_;c[M+164+(s<<4)+4>>2]=d;c[M+164+(s<<4)+8>>2]=p;c[M+164+(s<<4)+12>>2]=0.0;o[M>>2]=(o[M>>2]|0)+1;s=o[e+24>>2]|0;O=Fo(s)|0;a=+c[s+276>>2];l=+c[s+280>>2];_=+c[s+284>>2];s=o[s+288>>2]|0;if(!O){o[e+68>>2]=3;b=1;s=0;break}if(a*a+l*l+_*_<9.999999974752427e-07){c[e+4>>2]=a;c[e+8>>2]=l;c[e+12>>2]=_;o[e+16>>2]=s;o[e+68>>2]=6;b=1;s=0;break}if(u-(a*a+l*l+_*_)<=u*1.1920928955078125e-07){o[e+68>>2]=12;b=1;s=0;u=a*a+l*l+_*_;break}c[e+4>>2]=a;c[e+8>>2]=l;c[e+12>>2]=_;o[e+16>>2]=s;O=o[e+64>>2]|0;o[e+64>>2]=O+1;if((O|0)<=1e3){if((o[o[e+24>>2]>>2]|0)==4){o[e+68>>2]=13;s=0;u=a*a+l*l+_*_}else{s=1;u=a*a+l*l+_*_}}else{s=0;u=a*a+l*l+_*_}}}while(0)}while(s);A=x<<24>>24==0?g:0.0;m=(x<<24>>24==0?y:0.0)+A;if(b){x=o[e+24>>2]|0;Fo(x)|0;_=+c[x+260>>2];l=+c[x+264>>2];a=+c[x+268>>2];o[H+192>>2]=o[e+4>>2];o[H+192+4>>2]=o[e+4+4>>2];o[H+192+8>>2]=o[e+4+8>>2];o[H+192+12>>2]=o[e+4+12>>2];f=+c[e+4>>2];d=+c[e+8>>2];h=+c[e+12>>2];if(f*f+d*d+h*h<.0001)o[e+68>>2]=5;if(f*f+d*d+h*h>1.4210854715202004e-14){S=1.0/+v(+(f*f+d*d+h*h));c[H+192>>2]=S*+c[H+192>>2];c[k>>2]=S*+c[k>>2];c[U>>2]=S*+c[U>>2];T=A/+v(+u);s=1;u=1.0/S-m;b=1;_=T*f+_;l=T*d+l;a=T*h+a}else{s=2;u=0.0;b=0}o[e+60>>2]=s}else{u=0.0;b=0;_=0.0;l=0.0;a=0.0}if((o[e+72>>2]|0)!=0?(o[e+20>>2]|0)!=0:0)s=m+u<.01&(o[e+68>>2]|0)!=0;else s=0;R=b^1;do{if(s|R?(P=o[e+20>>2]|0,(P|0)!=0):0){o[6731]=(o[6731]|0)+1;o[e+4>>2]=0;o[e+4+4>>2]=0;o[e+4+8>>2]=0;o[e+4+12>>2]=0;if(CF[o[(o[P>>2]|0)+8>>2]&3](P,o[e+24>>2]|0,o[e+28>>2]|0,o[e+32>>2]|0,H+128|0,H+64|0,e+4|0,H+48|0,H+32|0,r)|0){d=+c[H+32>>2];h=+c[H+48>>2];p=+c[H+32+4>>2];m=+c[H+48+4>>2];A=+c[H+32+8>>2];g=+c[H+48+8>>2];if(!((d-h)*(d-h)+(p-m)*(p-m)+(A-g)*(A-g)<=1.4210854715202004e-14)){f=(d-h)*(d-h)+(p-m)*(p-m)+(A-g)*(A-g);C=d-h;E=A-g;S=0.0;T=p-m}else{C=+c[e+4>>2];T=+c[e+8>>2];E=+c[e+12>>2];f=C*C+T*T+E*E;S=+c[e+16>>2]}if(f>1.4210854715202004e-14){y=1.0/+v(+f);f=-+v(+((h-d)*(h-d)+(m-p)*(m-p)+(g-A)*(g-A)));if(u>f|R){_=+c[H+32>>2];l=+c[H+32+4>>2];a=+c[H+32+8>>2];c[H+192>>2]=C*y;c[k>>2]=T*y;c[U>>2]=E*y;c[H+192+12>>2]=S;o[e+60>>2]=3;u=f;break}else s=8}else s=9;o[e+60>>2]=s;if(b)break;ae=H;return}else{d=+c[e+4>>2];h=+c[e+8>>2];p=+c[e+12>>2];if(!(d*d+h*h+p*p>0.0)){if(b)break;ae=H;return}S=+c[H+48>>2]-+c[H+32>>2];T=+c[H+48+4>>2]-+c[H+32+4>>2];f=+c[H+48+8>>2]-+c[H+32+8>>2];f=+v(+(S*S+T*T+f*f))-m;if(f<u|R){_=A*d+ +c[H+32>>2];l=A*h+ +c[H+32+4>>2];a=A*p+ +c[H+32+8>>2];o[H+192>>2]=o[e+4>>2];o[H+192+4>>2]=o[e+4+4>>2];o[H+192+8>>2]=o[e+4+8>>2];o[H+192+12>>2]=o[e+4+12>>2];E=+c[H+192>>2];S=+c[k>>2];T=+c[U>>2];u=1.0/+v(+(E*E+S*S+T*T));c[H+192>>2]=E*u;c[k>>2]=S*u;c[U>>2]=T*u;o[e+60>>2]=6;u=f;break}o[e+60>>2]=5;if(b)break;ae=H;return}}else W=51}while(0);if((W|0)==51)if(!b){ae=H;return}if(!(u<0.0)?!(u*u<+c[t+128>>2]):0){ae=H;return}if(o[e+76>>2]|0?(W=o[e+28>>2]|0,BF[o[(o[W>>2]|0)+8>>2]&127](W,H+128|0,H+48|0,H+32|0),E=(+c[H+32>>2]+ +c[H+48>>2])*.5,S=(+c[H+32+4>>2]+ +c[H+48+4>>2])*.5,T=(+c[H+32+8>>2]+ +c[H+48+8>>2])*.5,W=o[e+32>>2]|0,BF[o[(o[W>>2]|0)+8>>2]&127](W,H+64|0,H+48|0,H+32|0),j=+c[H+192>>2],V=+c[k>>2],G=+c[U>>2],(E-(+c[H+48>>2]+ +c[H+32>>2])*.5)*j+(S-(+c[H+48+4>>2]+ +c[H+32+4>>2])*.5)*V+(T-(+c[H+48+8>>2]+ +c[H+32+8>>2])*.5)*G<0.0):0){c[H+192>>2]=-j;c[k>>2]=-V;c[U>>2]=-G}o[e+4>>2]=o[H+192>>2];o[e+4+4>>2]=o[H+192+4>>2];o[e+4+8>>2]=o[H+192+8>>2];o[e+4+12>>2]=o[H+192+12>>2];c[e+56>>2]=u;W=o[(o[i>>2]|0)+16>>2]|0;c[H+48>>2]=(D+w)*.5+_;c[H+48+4>>2]=(L+F)*.5+l;c[H+48+8>>2]=(N+B)*.5+a;c[H+48+12>>2]=0.0;FF[W&15](i,H+192|0,H+48|0,u);ae=H;return}function is(e,t,i,s){e=e|0;t=t|0;i=i|0;s=s|0;var a=0,l=0,_=0,u=0,f=0,d=0;o[e+168>>2]=o[e+152>>2];o[t>>2]=10324;o[t+52>>2]=282;n[t+60>>0]=0;n[t+80>>0]=1;o[t+76>>2]=0;o[t+68>>2]=0;o[t+72>>2]=0;n[t+100>>0]=1;o[t+96>>2]=0;o[t+88>>2]=0;o[t+92>>2]=0;n[t+120>>0]=1;o[t+116>>2]=0;o[t+108>>2]=0;o[t+112>>2]=0;n[t+140>>0]=1;o[t+136>>2]=0;o[t+128>>2]=0;o[t+132>>2]=0;o[t+144>>2]=0;n[t+164>>0]=1;o[t+160>>2]=0;o[t+152>>2]=0;o[t+156>>2]=0;o[t+168>>2]=0;o[t+4>>2]=-8388609;o[t+8>>2]=-8388609;o[t+12>>2]=-8388609;c[t+16>>2]=0.0;o[t+20>>2]=2139095039;o[t+24>>2]=2139095039;o[t+28>>2]=2139095039;c[t+32>>2]=0.0;i=o[e+56>>2]|0;if(s){o[t+56>>2]=tM(i|0)|0;n[t+4>>0]=n[e+4+3>>0]|0;n[t+5>>0]=n[e+4+2>>0]|0;n[t+6>>0]=n[e+4+1>>0]|0;n[t+7>>0]=n[e+4>>0]|0;n[t+8>>0]=n[e+8+3>>0]|0;n[t+9>>0]=n[e+8+2>>0]|0;n[t+10>>0]=n[e+8+1>>0]|0;n[t+11>>0]=n[e+8>>0]|0;n[t+12>>0]=n[e+12+3>>0]|0;n[t+13>>0]=n[e+12+2>>0]|0;n[t+14>>0]=n[e+12+1>>0]|0;n[t+15>>0]=n[e+12>>0]|0;n[t+16>>0]=n[e+16+3>>0]|0;n[t+17>>0]=n[e+16+2>>0]|0;n[t+18>>0]=n[e+16+1>>0]|0;n[t+19>>0]=n[e+16>>0]|0;n[t+20>>0]=n[e+20+3>>0]|0;n[t+21>>0]=n[e+20+2>>0]|0;n[t+22>>0]=n[e+20+1>>0]|0;n[t+23>>0]=n[e+20>>0]|0;n[t+24>>0]=n[e+24+3>>0]|0;n[t+25>>0]=n[e+24+2>>0]|0;n[t+26>>0]=n[e+24+1>>0]|0;n[t+27>>0]=n[e+24>>0]|0;n[t+28>>0]=n[e+28+3>>0]|0;n[t+29>>0]=n[e+28+2>>0]|0;n[t+30>>0]=n[e+28+1>>0]|0;n[t+31>>0]=n[e+28>>0]|0;n[t+32>>0]=n[e+32+3>>0]|0;n[t+33>>0]=n[e+32+2>>0]|0;n[t+34>>0]=n[e+32+1>>0]|0;n[t+35>>0]=n[e+32>>0]|0;n[t+36>>0]=n[e+36+3>>0]|0;n[t+37>>0]=n[e+36+2>>0]|0;n[t+38>>0]=n[e+36+1>>0]|0;n[t+39>>0]=n[e+36>>0]|0;n[t+40>>0]=n[e+40+3>>0]|0;n[t+41>>0]=n[e+40+2>>0]|0;n[t+42>>0]=n[e+40+1>>0]|0;n[t+43>>0]=n[e+40>>0]|0;n[t+44>>0]=n[e+44+3>>0]|0;n[t+45>>0]=n[e+44+2>>0]|0;n[t+46>>0]=n[e+44+1>>0]|0;n[t+47>>0]=n[e+44>>0]|0;n[t+48>>0]=n[e+48+3>>0]|0;n[t+49>>0]=n[e+48+2>>0]|0;n[t+50>>0]=n[e+48+1>>0]|0;n[t+51>>0]=n[e+48>>0]|0;o[t+144>>2]=tM(o[e+144>>2]|0)|0;i=tM(o[e+168>>2]|0)|0}else{o[t+56>>2]=i;o[t+4>>2]=o[e+4>>2];o[t+4+4>>2]=o[e+4+4>>2];o[t+4+8>>2]=o[e+4+8>>2];o[t+4+12>>2]=o[e+4+12>>2];o[t+20>>2]=o[e+20>>2];o[t+20+4>>2]=o[e+20+4>>2];o[t+20+8>>2]=o[e+20+8>>2];o[t+20+12>>2]=o[e+20+12>>2];o[t+36>>2]=o[e+36>>2];o[t+36+4>>2]=o[e+36+4>>2];o[t+36+8>>2]=o[e+36+8>>2];o[t+36+12>>2]=o[e+36+12>>2];o[t+144>>2]=o[e+144>>2];i=o[e+168>>2]|0}o[t+168>>2]=i;n[t+60>>0]=n[e+60>>0]|0;_=o[e+56>>2]|0;if(!(n[e+60>>0]|0)){i=o[t+96>>2]|0;if(i|0){if(n[t+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[t+96>>2]=0}n[t+100>>0]=0;o[t+96>>2]=t+172;o[t+88>>2]=_;o[t+92>>2]=_;if(s){if((_|0)>0){a=o[e+96>>2]|0;i=t+172|0;l=0;do{u=a+(l<<6)|0;d=i+(l<<6)|0;n[d>>0]=n[u+3>>0]|0;n[d+1>>0]=n[u+2>>0]|0;n[d+2>>0]=n[u+1>>0]|0;n[d+3>>0]=n[u>>0]|0;d=a+(l<<6)+4|0;u=i+(l<<6)+4|0;n[u>>0]=n[d+3>>0]|0;n[u+1>>0]=n[d+2>>0]|0;n[u+2>>0]=n[d+1>>0]|0;n[u+3>>0]=n[d>>0]|0;u=a+(l<<6)+8|0;d=i+(l<<6)+8|0;n[d>>0]=n[u+3>>0]|0;n[d+1>>0]=n[u+2>>0]|0;n[d+2>>0]=n[u+1>>0]|0;n[d+3>>0]=n[u>>0]|0;d=a+(l<<6)+12|0;i=i+(l<<6)+12|0;n[i>>0]=n[d+3>>0]|0;n[i+1>>0]=n[d+2>>0]|0;n[i+2>>0]=n[d+1>>0]|0;n[i+3>>0]=n[d>>0]|0;i=o[e+96>>2]|0;d=i+(l<<6)+16|0;u=o[t+96>>2]|0;f=u+(l<<6)+16|0;n[f>>0]=n[d+3>>0]|0;n[f+1>>0]=n[d+2>>0]|0;n[f+2>>0]=n[d+1>>0]|0;n[f+3>>0]=n[d>>0]|0;f=i+(l<<6)+20|0;d=u+(l<<6)+20|0;n[d>>0]=n[f+3>>0]|0;n[d+1>>0]=n[f+2>>0]|0;n[d+2>>0]=n[f+1>>0]|0;n[d+3>>0]=n[f>>0]|0;d=i+(l<<6)+24|0;f=u+(l<<6)+24|0;n[f>>0]=n[d+3>>0]|0;n[f+1>>0]=n[d+2>>0]|0;n[f+2>>0]=n[d+1>>0]|0;n[f+3>>0]=n[d>>0]|0;i=i+(l<<6)+28|0;u=u+(l<<6)+28|0;n[u>>0]=n[i+3>>0]|0;n[u+1>>0]=n[i+2>>0]|0;n[u+2>>0]=n[i+1>>0]|0;n[u+3>>0]=n[i>>0]|0;a=o[e+96>>2]|0;u=tM(o[a+(l<<6)+32>>2]|0)|0;i=o[t+96>>2]|0;o[i+(l<<6)+32>>2]=u;o[i+(l<<6)+36>>2]=tM(o[a+(l<<6)+36>>2]|0)|0;o[i+(l<<6)+40>>2]=tM(o[a+(l<<6)+40>>2]|0)|0;l=l+1|0}while((l|0)!=(_|0));a=29}else a=28}else if((_|0)>0){a=o[e+96>>2]|0;i=t+172|0;l=0;do{f=a+(l<<6)|0;d=i+(l<<6)|0;o[d>>2]=o[f>>2];o[d+4>>2]=o[f+4>>2];o[d+8>>2]=o[f+8>>2];o[d+12>>2]=o[f+12>>2];d=(o[e+96>>2]|0)+(l<<6)+16|0;i=(o[t+96>>2]|0)+(l<<6)+16|0;o[i>>2]=o[d>>2];o[i+4>>2]=o[d+4>>2];o[i+8>>2]=o[d+8>>2];o[i+12>>2]=o[d+12>>2];a=o[e+96>>2]|0;i=o[t+96>>2]|0;o[i+(l<<6)+32>>2]=o[a+(l<<6)+32>>2];o[i+(l<<6)+36>>2]=o[a+(l<<6)+36>>2];o[i+(l<<6)+40>>2]=o[a+(l<<6)+40>>2];l=l+1|0}while((l|0)!=(_|0));a=29}else a=28;if((a|0)==28){i=_<<6;a=32}else if((a|0)==29)if(i){if((n[t+100>>0]|0)==0|(i|0)==0){i=_<<6;a=32}else{o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);i=_<<6;a=32}}else i=_<<6;if((a|0)==32)o[t+96>>2]=0;o[t+88>>2]=0;o[t+88+4>>2]=0;o[t+88+8>>2]=0;n[t+88+12>>0]=0}else{i=o[t+136>>2]|0;if(i|0){if(n[t+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[t+136>>2]=0}n[t+140>>0]=0;o[t+136>>2]=t+172;o[t+128>>2]=_;o[t+132>>2]=_;if(s){if((_|0)>0){i=o[e+136>>2]|0;a=0;do{r[t+172+(a<<4)>>1]=vw(r[i+(a<<4)>>1]|0)|0;r[t+172+(a<<4)+2>>1]=vw(r[i+(a<<4)+2>>1]|0)|0;r[t+172+(a<<4)+4>>1]=vw(r[i+(a<<4)+4>>1]|0)|0;r[t+172+(a<<4)+6>>1]=vw(r[i+(a<<4)+6>>1]|0)|0;r[t+172+(a<<4)+8>>1]=vw(r[i+(a<<4)+8>>1]|0)|0;r[t+172+(a<<4)+10>>1]=vw(r[i+(a<<4)+10>>1]|0)|0;o[t+172+(a<<4)+12>>2]=tM(o[i+(a<<4)+12>>2]|0)|0;a=a+1|0}while((a|0)!=(_|0))}}else if((_|0)>0){i=o[e+136>>2]|0;a=0;do{r[t+172+(a<<4)>>1]=r[i+(a<<4)>>1]|0;r[t+172+(a<<4)+2>>1]=r[i+(a<<4)+2>>1]|0;r[t+172+(a<<4)+4>>1]=r[i+(a<<4)+4>>1]|0;r[t+172+(a<<4)+6>>1]=r[i+(a<<4)+6>>1]|0;r[t+172+(a<<4)+8>>1]=r[i+(a<<4)+8>>1]|0;r[t+172+(a<<4)+10>>1]=r[i+(a<<4)+10>>1]|0;o[t+172+(a<<4)+12>>2]=o[i+(a<<4)+12>>2];a=a+1|0}while((a|0)!=(_|0))}o[t+128>>2]=0;o[t+128+4>>2]=0;o[t+128+8>>2]=0;n[t+128+12>>0]=0;i=_<<4}_=t+172+i|0;i=o[e+168>>2]|0;a=o[t+160>>2]|0;if(a|0){if(n[t+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[t+160>>2]=0}n[t+164>>0]=0;o[t+160>>2]=_;o[t+152>>2]=i;o[t+156>>2]=i;l=o[e+168>>2]|0;if(s){if((l|0)<=0){o[t>>2]=0;o[t+152>>2]=0;o[t+152+4>>2]=0;o[t+152+8>>2]=0;n[t+152+12>>0]=0;return 1}i=o[e+160>>2]|0;a=0;do{r[_+(a<<5)>>1]=vw(r[i+(a<<5)>>1]|0)|0;r[_+(a<<5)+2>>1]=vw(r[i+(a<<5)+2>>1]|0)|0;r[_+(a<<5)+4>>1]=vw(r[i+(a<<5)+4>>1]|0)|0;r[_+(a<<5)+6>>1]=vw(r[i+(a<<5)+6>>1]|0)|0;r[_+(a<<5)+8>>1]=vw(r[i+(a<<5)+8>>1]|0)|0;r[_+(a<<5)+10>>1]=vw(r[i+(a<<5)+10>>1]|0)|0;o[_+(a<<5)+12>>2]=tM(o[i+(a<<5)+12>>2]|0)|0;o[_+(a<<5)+16>>2]=tM(o[i+(a<<5)+16>>2]|0)|0;a=a+1|0}while((a|0)!=(l|0));o[t>>2]=0;o[t+152>>2]=0;o[t+152+4>>2]=0;o[t+152+8>>2]=0;n[t+152+12>>0]=0;return 1}else{if((l|0)<=0){o[t>>2]=0;o[t+152>>2]=0;o[t+152+4>>2]=0;o[t+152+8>>2]=0;n[t+152+12>>0]=0;return 1}i=o[e+160>>2]|0;a=0;do{r[_+(a<<5)>>1]=r[i+(a<<5)>>1]|0;r[_+(a<<5)+2>>1]=r[i+(a<<5)+2>>1]|0;r[_+(a<<5)+4>>1]=r[i+(a<<5)+4>>1]|0;r[_+(a<<5)+6>>1]=r[i+(a<<5)+6>>1]|0;r[_+(a<<5)+8>>1]=r[i+(a<<5)+8>>1]|0;r[_+(a<<5)+10>>1]=r[i+(a<<5)+10>>1]|0;o[_+(a<<5)+12>>2]=o[i+(a<<5)+12>>2];o[_+(a<<5)+16>>2]=o[i+(a<<5)+16>>2];o[_+(a<<5)+20>>2]=0;o[_+(a<<5)+24>>2]=0;o[_+(a<<5)+28>>2]=0;a=a+1|0}while((a|0)<(o[e+168>>2]|0));o[t>>2]=0;o[t+152>>2]=0;o[t+152+4>>2]=0;o[t+152+8>>2]=0;n[t+152+12>>0]=0;return 1}return 0}function ns(e,t,i,r,s,a,l,_,u,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;f=f|0;var d=0.0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0,R=0.0,M=0,O=0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0;M=ae;ae=ae+4224|0;if(((o[i+4>>2]|0)+-17|0)>>>0<2)T=((o[r+4>>2]|0)+-17|0)>>>0<2;else T=0;e=0;do{uo();y=+c[23792+(e<<4)>>2];v=+c[23792+(e<<4)+4>>2];C=+c[23792+(e<<4)+8>>2];S=+c[s+4>>2]*-y+ +c[s+20>>2]*-v+ +c[s+36>>2]*-C;E=+c[s+8>>2]*-y+ +c[s+24>>2]*-v+ +c[s+40>>2]*-C;c[M+992+(e<<4)>>2]=+c[s>>2]*-y+ +c[s+16>>2]*-v+ +c[s+32>>2]*-C;c[M+992+(e<<4)+4>>2]=S;c[M+992+(e<<4)+8>>2]=E;c[M+992+(e<<4)+12>>2]=0.0;E=y*+c[a+4>>2]+v*+c[a+20>>2]+C*+c[a+36>>2];S=y*+c[a+8>>2]+v*+c[a+24>>2]+C*+c[a+40>>2];c[M+(e<<4)>>2]=y*+c[a>>2]+v*+c[a+16>>2]+C*+c[a+32>>2];c[M+(e<<4)+4>>2]=E;c[M+(e<<4)+8>>2]=S;c[M+(e<<4)+12>>2]=0.0;e=e+1|0}while((e|0)!=42);e=dF[o[(o[i>>2]|0)+84>>2]&127](i)|0;if((e|0)>0){h=0;p=42;while(1){LF[o[(o[i>>2]|0)+88>>2]&127](i,h,M+4144|0);E=+c[M+4144>>2];S=+c[M+4144+4>>2];C=+c[M+4144+8>>2];v=E*+c[s+16>>2]+S*+c[s+20>>2]+C*+c[s+24>>2];y=E*+c[s+32>>2]+S*+c[s+36>>2]+C*+c[s+40>>2];c[M+4144>>2]=+c[s>>2]*E+ +c[s+4>>2]*S+ +c[s+8>>2]*C;c[M+4144+4>>2]=v;c[M+4144+8>>2]=y;c[M+4144+12>>2]=0.0;uo();b=23792+(p<<4)|0;o[b>>2]=o[M+4144>>2];o[b+4>>2]=o[M+4144+4>>2];o[b+8>>2]=o[M+4144+8>>2];o[b+12>>2]=o[M+4144+12>>2];y=+c[M+4144>>2];v=+c[M+4144+4>>2];C=+c[M+4144+8>>2];S=+c[s+4>>2]*-y+ +c[s+20>>2]*-v+ +c[s+36>>2]*-C;E=+c[s+8>>2]*-y+ +c[s+24>>2]*-v+ +c[s+40>>2]*-C;c[M+992+(p<<4)>>2]=+c[s>>2]*-y+ +c[s+16>>2]*-v+ +c[s+32>>2]*-C;c[M+992+(p<<4)+4>>2]=S;c[M+992+(p<<4)+8>>2]=E;c[M+992+(p<<4)+12>>2]=0.0;E=y*+c[a+4>>2]+v*+c[a+20>>2]+C*+c[a+36>>2];S=y*+c[a+8>>2]+v*+c[a+24>>2]+C*+c[a+40>>2];c[M+(p<<4)>>2]=y*+c[a>>2]+v*+c[a+16>>2]+C*+c[a+32>>2];c[M+(p<<4)+4>>2]=E;c[M+(p<<4)+8>>2]=S;c[M+(p<<4)+12>>2]=0.0;h=h+1|0;if((h|0)==(e|0))break;else p=p+1|0}p=e+42|0}else p=42;e=dF[o[(o[r>>2]|0)+84>>2]&127](r)|0;if((e|0)>0){h=0;b=p;while(1){LF[o[(o[r>>2]|0)+88>>2]&127](r,h,M+4144|0);E=+c[M+4144>>2];S=+c[M+4144+4>>2];C=+c[M+4144+8>>2];v=E*+c[a+16>>2]+S*+c[a+20>>2]+C*+c[a+24>>2];y=E*+c[a+32>>2]+S*+c[a+36>>2]+C*+c[a+40>>2];c[M+4144>>2]=+c[a>>2]*E+ +c[a+4>>2]*S+ +c[a+8>>2]*C;c[M+4144+4>>2]=v;c[M+4144+8>>2]=y;c[M+4144+12>>2]=0.0;uo();O=23792+(b<<4)|0;o[O>>2]=o[M+4144>>2];o[O+4>>2]=o[M+4144+4>>2];o[O+8>>2]=o[M+4144+8>>2];o[O+12>>2]=o[M+4144+12>>2];y=+c[M+4144>>2];v=+c[M+4144+4>>2];C=+c[M+4144+8>>2];S=+c[s+4>>2]*-y+ +c[s+20>>2]*-v+ +c[s+36>>2]*-C;E=+c[s+8>>2]*-y+ +c[s+24>>2]*-v+ +c[s+40>>2]*-C;c[M+992+(b<<4)>>2]=+c[s>>2]*-y+ +c[s+16>>2]*-v+ +c[s+32>>2]*-C;c[M+992+(b<<4)+4>>2]=S;c[M+992+(b<<4)+8>>2]=E;c[M+992+(b<<4)+12>>2]=0.0;E=y*+c[a+4>>2]+v*+c[a+20>>2]+C*+c[a+36>>2];S=y*+c[a+8>>2]+v*+c[a+24>>2]+C*+c[a+40>>2];c[M+(b<<4)>>2]=y*+c[a>>2]+v*+c[a+16>>2]+C*+c[a+32>>2];c[M+(b<<4)+4>>2]=E;c[M+(b<<4)+8>>2]=S;c[M+(b<<4)+12>>2]=0.0;h=h+1|0;if((h|0)==(e|0))break;else b=b+1|0}p=e+p|0}BF[o[(o[i>>2]|0)+76>>2]&127](i,M+992|0,M+2976|0,p);BF[o[(o[r>>2]|0)+76>>2]&127](r,M,M+1984|0,p);if((p|0)>0){d=0.0;v=0.0;y=0.0;e=0;g=0.0;m=999999984306749440.0;do{uo();A=+c[23792+(e<<4)>>2];C=+c[23792+(e<<4)+4>>2];S=+c[23792+(e<<4)+12>>2];E=T?0.0:+c[23792+(e<<4)+8>>2];if(A*A+C*C+E*E>.01?(x=+c[M+2976+(e<<4)>>2],I=+c[M+2976+(e<<4)+4>>2],R=+c[M+2976+(e<<4)+8>>2],w=+c[M+1984+(e<<4)>>2],D=+c[M+1984+(e<<4)+4>>2],P=+c[M+1984+(e<<4)+8>>2],R=A*(w*+c[a>>2]+D*+c[a+4>>2]+P*+c[a+8>>2]+ +c[a+48>>2]-(x*+c[s>>2]+I*+c[s+4>>2]+R*+c[s+8>>2]+ +c[s+48>>2]))+C*(w*+c[a+16>>2]+D*+c[a+20>>2]+P*+c[a+24>>2]+ +c[a+52>>2]-(x*+c[s+16>>2]+I*+c[s+20>>2]+R*+c[s+24>>2]+ +c[s+52>>2]))+E*(T?0.0:w*+c[a+32>>2]+D*+c[a+36>>2]+P*+c[a+40>>2]+ +c[a+56>>2]-(x*+c[s+32>>2]+I*+c[s+36>>2]+R*+c[s+40>>2]+ +c[s+56>>2])),R<m):0){y=A;v=C;d=E;g=S;m=R}e=e+1|0}while((e|0)!=(p|0));C=d}else{C=0.0;v=0.0;y=0.0;g=0.0;m=999999984306749440.0}switch(o[i+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+nF[o[(o[i>>2]|0)+48>>2]&15](i)}switch(o[r+4>>2]|0){case 4:case 5:case 10:case 11:case 13:case 1:case 0:case 8:break;default:+nF[o[(o[r>>2]|0)+48>>2]&15](r)}if(m<0.0){O=0;ae=M;return O|0}switch(o[i+4>>2]|0){case 8:{A=+c[i+28>>2]*+c[i+12>>2];break}case 0:{A=+c[i+44>>2];break}case 1:{A=+c[i+44>>2];break}case 13:{A=+c[i+44>>2];break}case 11:{A=+c[i+44>>2];break}case 10:{A=+c[i+44>>2];break}case 4:case 5:{A=+c[i+44>>2];break}default:A=+nF[o[(o[i>>2]|0)+48>>2]&15](i)}e=o[r+4>>2]|0;switch(e|0){case 8:{e=8;d=+c[r+28>>2]*+c[r+12>>2];break}case 0:{e=0;d=+c[r+44>>2];break}case 1:{e=1;d=+c[r+44>>2];break}case 13:{e=13;d=+c[r+44>>2];break}case 11:{e=11;d=+c[r+44>>2];break}case 10:{e=10;d=+c[r+44>>2];break}case 4:case 5:{d=+c[r+44>>2];break}default:{d=+nF[o[(o[r>>2]|0)+48>>2]&15](r);e=o[r+4>>2]|0}}d=m+(A+d+.5);o[M+4144>>2]=10520;o[M+4144+4>>2]=0;o[M+4144+8>>2]=1065353216;o[M+4144+12>>2]=0;c[M+4144+16>>2]=0.0;o[M+4144+20>>2]=0;o[M+4144+24>>2]=t;o[M+4144+28>>2]=i;o[M+4144+32>>2]=r;o[M+4144+36>>2]=o[i+4>>2];o[M+4144+40>>2]=e;c[M+4144+44>>2]=+nF[o[(o[i>>2]|0)+48>>2]&15](i);c[M+4144+48>>2]=+nF[o[(o[r>>2]|0)+48>>2]&15](r);n[M+4144+52>>0]=0;o[M+4144+60>>2]=-1;o[M+4144+72>>2]=1;o[M+4144+76>>2]=1;P=y*d+ +c[s+48>>2];D=v*d+ +c[s+52>>2];w=C*d+ +c[s+56>>2];o[M+4012>>2]=o[s>>2];o[M+4012+4>>2]=o[s+4>>2];o[M+4012+8>>2]=o[s+8>>2];o[M+4012+12>>2]=o[s+12>>2];o[M+4012+16>>2]=o[s+16>>2];o[M+4012+16+4>>2]=o[s+16+4>>2];o[M+4012+16+8>>2]=o[s+16+8>>2];o[M+4012+16+12>>2]=o[s+16+12>>2];o[M+4012+32>>2]=o[s+32>>2];o[M+4012+32+4>>2]=o[s+32+4>>2];o[M+4012+32+8>>2]=o[s+32+8>>2];o[M+4012+32+12>>2]=o[s+32+12>>2];c[M+4012+48>>2]=P;c[M+4012+52>>2]=D;c[M+4012+56>>2]=w;c[M+4012+60>>2]=0.0;o[M+4012+64>>2]=o[a>>2];o[M+4012+64+4>>2]=o[a+4>>2];o[M+4012+64+8>>2]=o[a+8>>2];o[M+4012+64+12>>2]=o[a+12>>2];o[M+4012+80>>2]=o[a+16>>2];o[M+4012+80+4>>2]=o[a+16+4>>2];o[M+4012+80+8>>2]=o[a+16+8>>2];o[M+4012+80+12>>2]=o[a+16+12>>2];o[M+4012+96>>2]=o[a+32>>2];o[M+4012+96+4>>2]=o[a+32+4>>2];o[M+4012+96+8>>2]=o[a+32+8>>2];o[M+4012+96+12>>2]=o[a+32+12>>2];o[M+4012+112>>2]=o[a+48>>2];o[M+4012+112+4>>2]=o[a+48+4>>2];o[M+4012+112+8>>2]=o[a+48+8>>2];o[M+4012+112+12>>2]=o[a+48+12>>2];c[M+4012+128>>2]=999999984306749440.0;o[M+3968>>2]=10404;n[M+3968+40>>0]=0;c[M+4144+4>>2]=-y;c[M+4144+8>>2]=-v;c[M+4144+12>>2]=-C;c[M+4144+16>>2]=0.0;ts(M+4144|0,M+4012|0,M+3968|0,f,0);d=d-+c[M+3968+36>>2];e=n[M+3968+40>>0]|0;if(e<<24>>24){O=M+3968+20|0;D=+c[M+3968+24>>2]-v*d;w=+c[M+3968+28>>2]-C*d;c[_>>2]=+c[O>>2]-y*d;c[_+4>>2]=D;c[_+8>>2]=w;c[_+12>>2]=0.0;o[u>>2]=o[O>>2];o[u+4>>2]=o[O+4>>2];o[u+8>>2]=o[O+8>>2];o[u+12>>2]=o[O+12>>2];c[l>>2]=y;c[l+4>>2]=v;c[l+8>>2]=C;c[l+12>>2]=g}O=e<<24>>24!=0;ae=M;return O|0}function rs(e){e=e|0;var t=0,i=0.0,r=0.0,s=0.0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0,x=0,P=0,D=0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0;D=ae;ae=ae+192|0;La(13654);t=o[e+1112>>2]|0;if((t|0)>0){P=0;do{x=o[(o[e+1120>>2]|0)+(P<<2)>>2]|0;I=o[x+24>>2]|0;if(I){a=D+144+4|0;l=a+44|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(l|0));c[D+144>>2]=9.999999747378752e-05;c[D+144+20>>2]=1.9999999494757503e-04;c[D+144+40>>2]=2.9999998514540493e-04;if((I|0)>0){t=o[x+32>>2]|0;a=o[x+12>>2]|0;i=0.0;r=0.0;s=0.0;l=0;do{O=o[t+(l<<2)>>2]|0;M=+c[a+(l<<2)>>2];i=i+ +c[O+8>>2]*M;r=r+M*+c[O+12>>2];s=s+M*+c[O+16>>2];l=l+1|0}while((l|0)!=(I|0))}else{s=0.0;r=0.0;i=0.0}b=+c[x+128>>2];A=i*b;m=r*b;b=s*b;c[x+228>>2]=A;c[x+232>>2]=m;c[x+236>>2]=b;c[x+240>>2]=0.0;if((I|0)>0){t=o[x+32>>2]|0;a=o[x+52>>2]|0;i=9.999999747378752e-05;r=0.0;s=0.0;_=1.9999999494757503e-04;u=0.0;f=0.0;d=0.0;h=2.9999998514540493e-04;p=0.0;l=0;do{O=o[t+(l<<2)>>2]|0;C=+c[O+8>>2]-A;E=+c[O+12>>2]-m;R=+c[O+16>>2]-b;S=+c[a+(l<<4)>>2];T=+c[a+(l<<4)+4>>2];M=+c[a+(l<<4)+8>>2];i=C*S+i;r=C*T+r;s=C*M+s;p=E*S+p;_=E*T+_;u=E*M+u;f=R*S+f;d=R*T+d;h=R*M+h;l=l+1|0}while((l|0)!=(I|0));c[D+144>>2]=i;c[D+144+4>>2]=r;c[D+144+8>>2]=s;c[D+144+16>>2]=p;c[D+144+20>>2]=_;c[D+144+24>>2]=u;c[D+144+32>>2]=f;c[D+144+36>>2]=d;c[D+144+40>>2]=h}if((n[24920]|0)==0?PM(24920)|0:0){c[6392]=9.999999747378752e-05;o[6393]=16;GR(24920)}Es(D+144|0,D+96|0,D+48|0);o[x+108>>2]=o[x+228>>2];o[x+108+4>>2]=o[x+228+4>>2];o[x+108+8>>2]=o[x+228+8>>2];o[x+108+12>>2]=o[x+228+12>>2];o[x+60>>2]=o[D+96>>2];o[x+60+4>>2]=o[D+96+4>>2];o[x+60+8>>2]=o[D+96+8>>2];o[x+60+12>>2]=o[D+96+12>>2];o[x+76>>2]=o[D+96+16>>2];o[x+76+4>>2]=o[D+96+16+4>>2];o[x+76+8>>2]=o[D+96+16+8>>2];o[x+76+12>>2]=o[D+96+16+12>>2];o[x+92>>2]=o[D+96+32>>2];o[x+92+4>>2]=o[D+96+32+4>>2];o[x+92+8>>2]=o[D+96+32+8>>2];o[x+92+12>>2]=o[D+96+32+12>>2];u=+c[x+132>>2];F=+c[x+60>>2];f=+c[x+148>>2];L=+c[x+64>>2];d=+c[x+164>>2];E=+c[x+68>>2];h=+c[x+136>>2];p=+c[x+152>>2];b=+c[x+168>>2];m=+c[x+140>>2];A=+c[x+156>>2];g=+c[x+172>>2];w=+c[x+76>>2];i=+c[x+80>>2];C=+c[x+84>>2];_=+c[x+92>>2];s=+c[x+96>>2];r=+c[x+100>>2];v=(u*F+f*L+d*E)*F+(F*h+L*p+E*b)*L+(F*m+L*A+E*g)*E;y=(u*F+f*L+d*E)*w+(F*h+L*p+E*b)*i+(F*m+L*A+E*g)*C;M=(u*F+f*L+d*E)*_+(F*h+L*p+E*b)*s+(F*m+L*A+E*g)*r;R=(u*w+f*i+d*C)*F+(h*w+p*i+b*C)*L+(m*w+A*i+g*C)*E;T=(u*w+f*i+d*C)*w+(h*w+p*i+b*C)*i+(m*w+A*i+g*C)*C;S=(u*w+f*i+d*C)*_+(h*w+p*i+b*C)*s+(m*w+A*i+g*C)*r;E=F*(u*_+f*s+d*r)+(h*_+p*s+b*r)*L+(m*_+A*s+g*r)*E;C=w*(u*_+f*s+d*r)+(h*_+p*s+b*r)*i+(m*_+A*s+g*r)*C;g=(u*_+f*s+d*r)*_+(h*_+p*s+b*r)*s+(m*_+A*s+g*r)*r;c[x+180>>2]=v;c[x+184>>2]=y;c[x+188>>2]=M;c[x+192>>2]=0.0;c[x+196>>2]=R;c[x+200>>2]=T;c[x+204>>2]=S;c[x+208>>2]=0.0;c[x+212>>2]=E;c[x+216>>2]=C;c[x+220>>2]=g;c[x+224>>2]=0.0;o[x+316>>2]=0;o[x+316+4>>2]=0;o[x+316+8>>2]=0;o[x+316+12>>2]=0;o[x+316+16>>2]=0;o[x+316+20>>2]=0;o[x+316+24>>2]=0;o[x+316+28>>2]=0;if((I|0)>0){t=o[x+32>>2]|0;a=o[x+12>>2]|0;b=+c[x+228>>2];m=+c[x+232>>2];A=+c[x+236>>2];p=0.0;h=0.0;d=0.0;f=0.0;u=0.0;i=0.0;l=0;do{O=o[t+(l<<2)>>2]|0;B=+c[a+(l<<2)>>2];L=+c[O+40>>2]*B;N=B*+c[O+44>>2];B=B*+c[O+48>>2];p=L+p;c[x+316>>2]=p;h=N+h;c[x+320>>2]=h;d=B+d;c[x+324>>2]=d;w=+c[O+8>>2]-b;F=+c[O+12>>2]-m;k=+c[O+16>>2]-A;f=f+(B*F-N*k);c[x+332>>2]=f;u=L*k-B*w+u;c[x+336>>2]=u;i=N*w-L*F+i;c[x+340>>2]=i;l=l+1|0}while((l|0)!=(I|0));O=x+316|0;t=x+332|0}else{p=0.0;h=0.0;d=0.0;f=0.0;u=0.0;i=0.0;O=x+316|0;t=x+332|0}B=+c[x+128>>2];k=1.0-+c[x+356>>2];c[x+316>>2]=p*B*k;c[x+320>>2]=B*h*k;c[x+324>>2]=B*d*k;c[x+328>>2]=0.0;k=1.0-+c[x+360>>2];c[t>>2]=(v*f+y*u+M*i)*k;c[x+336>>2]=(f*R+u*T+i*S)*k;c[x+340>>2]=k*(f*E+u*C+i*g);c[x+344>>2]=0.0;a=x+244|0;l=a+72|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(l|0));i=+c[x+364>>2];e:do{if(i>0.0?(o[x+24>>2]|0)>0:0){t=0;while(1){l=o[(o[x+32>>2]|0)+(t<<2)>>2]|0;a=o[x+52>>2]|0;w=+c[a+(t<<4)>>2];L=+c[a+(t<<4)+4>>2];F=+c[a+(t<<4)+8>>2];N=+c[l+8>>2];B=+c[l+12>>2];k=+c[l+16>>2];B=B+i*(w*+c[x+76>>2]+L*+c[x+80>>2]+F*+c[x+84>>2]+ +c[x+112>>2]-B);k=k+i*(w*_+L*s+F*r+ +c[x+116>>2]-k);c[l+8>>2]=N+i*(w*+c[x+60>>2]+L*+c[x+64>>2]+F*+c[x+68>>2]+ +c[x+108>>2]-N);c[l+12>>2]=B;c[l+16>>2]=k;c[l+20>>2]=0.0;t=t+1|0;if((t|0)>=(o[x+24>>2]|0))break e;_=+c[x+92>>2];s=+c[x+96>>2];r=+c[x+100>>2];i=+c[x+364>>2]}}}while(0);if(n[x+377>>0]|0){t=o[x+32>>2]|0;l=o[t>>2]|0;i=+c[l+8>>2];p=+c[l+12>>2];b=+c[l+16>>2];r=+c[l+20>>2];if((I|0)>1){a=1;d=i;h=b;f=r;u=p;_=i;s=r;r=p;i=b;do{l=o[t+(a<<2)>>2]|0;F=+c[l+8>>2];d=F<d?F:d;N=+c[l+12>>2];u=N<u?N:u;B=+c[l+16>>2];h=B<h?B:h;k=+c[l+20>>2];f=k<f?k:f;_=_<F?F:_;r=r<N?N:r;i=i<B?B:i;s=s<k?k:s;a=a+1|0}while((a|0)!=(I|0))}else{d=i;h=b;f=r;u=p;_=i;s=r;r=p;i=b}c[D+16>>2]=d;c[D+16+4>>2]=u;c[D+16+8>>2]=h;c[D+16+12>>2]=f;c[D+16+16>>2]=_;c[D+16+20>>2]=r;c[D+16+24>>2]=i;c[D+16+28>>2]=s;t=o[x+348>>2]|0;if(!t){t=o[e+1052>>2]|0;if(!t){o[6747]=(o[6747]|0)+1;t=Do(63)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}a=t;l=a+44|0;do{o[a>>2]=0;a=a+4|0}while((a|0)<(l|0))}else o[e+1052>>2]=0;o[t+32>>2]=0;o[t+36>>2]=x;o[t+40>>2]=0;o[t>>2]=o[D+16>>2];o[t+4>>2]=o[D+16+4>>2];o[t+8>>2]=o[D+16+8>>2];o[t+12>>2]=o[D+16+12>>2];o[t+16>>2]=o[D+16+16>>2];o[t+20>>2]=o[D+16+20>>2];o[t+24>>2]=o[D+16+24>>2];o[t+28>>2]=o[D+16+28>>2];de(e+1048|0,o[e+1048>>2]|0,t);o[e+1060>>2]=(o[e+1060>>2]|0)+1;o[x+348>>2]=t}else{N=+c[e+452>>2];B=N*+c[x+320>>2]*3.0;k=N*+c[x+324>>2]*3.0;c[D>>2]=+c[O>>2]*N*3.0;c[D+4>>2]=B;c[D+8>>2]=k;c[D+12>>2]=0.0;yi(e+1048|0,t,D+16|0,D,+c[e+464>>2])|0}}t=o[e+1112>>2]|0}P=P+1|0}while((P|0)<(t|0))}t=o[2685]|0;e=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=e;if(e|0){ae=D;return}do{if(o[t+4>>2]|0){$(D+144|0,0)|0;e=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[D+144+4>>2]|0)-(o[e+4>>2]|0)+(((o[D+144>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=D;return}}}while(0);o[2685]=o[t+20>>2];ae=D;return}function os(e,t){e=e|0;t=+t;var i=0,s=0,a=0,l=0,_=0.0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0,A=0.0,g=0.0,y=0.0,v=0.0,C=0,E=0.0,S=0.0,T=0.0,R=0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0;R=ae;ae=ae+464|0;La(14515);i=o[e+84>>2]|0;if(i|0)TF[i&31](e,t);TF[o[(o[e>>2]|0)+140>>2]&31](e,t);c[e+28>>2]=t;o[e+32>>2]=0;o[e+48>>2]=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;La(14558);La(14583);i=o[e+316>>2]|0;if((o[e+308>>2]|0)>0){s=0;do{m=o[e+24>>2]|0;xF[o[(o[m>>2]|0)+16>>2]&127](m,o[i+(s<<2)>>2]|0);s=s+1|0;i=o[e+316>>2]|0}while((s|0)<(o[e+308>>2]|0))}if(i|0){if(n[e+320>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+316>>2]=0}n[e+320>>0]=1;o[e+316>>2]=0;o[e+308>>2]=0;o[e+312>>2]=0;i=o[2685]|0;m=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=m;do{if(!m){if(o[i+4>>2]|0){$(R+368|0,0)|0;m=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[R+368+4>>2]|0)-(o[m+4>>2]|0)+(((o[R+368>>2]|0)-(o[m>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);e:do{if((o[e+232>>2]|0)>0){m=R+304+48|0;b=R+368+44|0;p=0;while(1){l=o[(o[e+240>>2]|0)+(p<<2)>>2]|0;c[l+244>>2]=1.0;t:do{switch(o[l+216>>2]|0){case 2:case 5:break;default:if(((o[l+204>>2]&3|0)==0?(ni(l+4|0,+c[l+312>>2],+c[l+316>>2],+c[l+320>>2],l+328|0,t,R+304|0),A=+c[m>>2],E=A-+c[l+52>>2],g=+c[R+304+52>>2],T=g-+c[l+56>>2],y=+c[R+304+56>>2],S=y-+c[l+60>>2],n[e+44>>0]|0):0)?(h=+c[l+252>>2],h*h!=0.0?h*h<E*E+T*T+S*S:0):0){La(14620);if((o[(o[l+192>>2]|0)+4>>2]|0)<20?(o[6409]=(o[6409]|0)+1,a=o[e+68>>2]|0,a=dF[o[(o[a>>2]|0)+36>>2]&127](a)|0,u=o[e+24>>2]|0,c[R+368+4>>2]=1.0,o[R+368+12>>2]=o[l+52>>2],o[R+368+12+4>>2]=o[l+52+4>>2],o[R+368+12+8>>2]=o[l+52+8>>2],o[R+368+12+12>>2]=o[l+52+12>>2],o[R+368+28>>2]=o[m>>2],o[R+368+28+4>>2]=o[m+4>>2],o[R+368+28+8>>2]=o[m+8>>2],o[R+368+28+12>>2]=o[m+12>>2],o[R+368+76>>2]=0,o[R+368>>2]=5396,o[R+368+80>>2]=l,o[R+368+88>>2]=a,o[R+368+92>>2]=u,u=o[l+248>>2]|0,o[R+248+8>>2]=0,o[R+248+12>>2]=1065353216,o[R+248+16>>2]=1065353216,o[R+248+20>>2]=1065353216,c[R+248+24>>2]=0.0,o[R+248>>2]=7884,o[R+248+4>>2]=8,o[R+248+28>>2]=u,o[R+248+44>>2]=u,o[R+368+84>>2]=o[e+56>>2],u=o[l+188>>2]|0,r[R+368+8>>1]=r[u+4>>1]|0,r[R+368+10>>1]=r[u+6>>1]|0,o[R+184+48>>2]=o[m>>2],o[R+184+48+4>>2]=o[m+4>>2],o[R+184+48+8>>2]=o[m+8>>2],o[R+184+48+12>>2]=o[m+12>>2],o[R+184>>2]=o[l+4>>2],o[R+184+4>>2]=o[l+4+4>>2],o[R+184+8>>2]=o[l+4+8>>2],o[R+184+12>>2]=o[l+4+12>>2],o[R+184+16>>2]=o[l+20>>2],o[R+184+16+4>>2]=o[l+20+4>>2],o[R+184+16+8>>2]=o[l+20+8>>2],o[R+184+16+12>>2]=o[l+20+12>>2],o[R+184+32>>2]=o[l+36>>2],o[R+184+32+4>>2]=o[l+36+4>>2],o[R+184+32+8>>2]=o[l+36+8>>2],o[R+184+32+12>>2]=o[l+36+12>>2],tr(e,R+248|0,l+4|0,R+184|0,R+368|0,0.0),v=+c[R+368+4>>2],v<1.0):0){f=v*(A-+c[l+52>>2]);d=v*(g-+c[l+56>>2]);h=v*(y-+c[l+60>>2]);_=-(d*+c[R+368+48>>2])-f*+c[b>>2]-h*+c[R+368+52>>2];u=o[e+24>>2]|0;u=mF[o[(o[u>>2]|0)+12>>2]&63](u,l,o[R+368+76>>2]|0)|0;i=o[e+308>>2]|0;if((i|0)==(o[e+312>>2]|0)?(C=(i|0)==0?1:i<<1,(i|0)<(C|0)):0){if(!C)s=0;else{o[6747]=(o[6747]|0)+1;i=Do((C<<2|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=o[e+308>>2]|0}if((i|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[e+316>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(i|0))}a=o[e+316>>2]|0;if(a){if(n[e+320>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);i=o[e+308>>2]|0}o[e+316>>2]=0}n[e+320>>0]=1;o[e+316>>2]=s;o[e+312>>2]=C}o[(o[e+316>>2]|0)+(i<<2)>>2]=u;o[e+308>>2]=i+1;f=f+ +c[l+52>>2];d=d+ +c[l+56>>2];h=h+ +c[l+60>>2];a=o[R+368+76>>2]|0;k=+c[a+4>>2];B=+c[a+20>>2];N=+c[a+36>>2];F=+c[a+8>>2];L=+c[a+24>>2];w=+c[a+40>>2];D=+c[a+12>>2];x=+c[a+28>>2];O=+c[a+44>>2];P=-+c[a+52>>2];I=-+c[a+56>>2];M=-+c[a+60>>2];o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;c[R+16>>2]=f*k+d*B+h*N+(k*P+B*I+N*M);c[R+20>>2]=f*F+d*L+h*w+(F*P+L*I+w*M);c[R+24>>2]=f*D+d*x+h*O+(D*P+x*I+O*M);c[R+28>>2]=0.0;o[R+64>>2]=o[b>>2];o[R+64+4>>2]=o[b+4>>2];o[R+64+8>>2]=o[b+8>>2];o[R+64+12>>2]=o[b+12>>2];c[R+80>>2]=_;c[R+84>>2]=0.0;c[R+88>>2]=0.0;c[R+92>>2]=0.0;o[R+112>>2]=0;n[R+116>>0]=0;o[R+120>>2]=0;o[R+120+4>>2]=0;o[R+120+8>>2]=0;o[R+120+12>>2]=0;o[R+120+16>>2]=0;o[R+120+20>>2]=0;o[R+120+24>>2]=0;o[R+120+28>>2]=0;a=fo(u,R)|0;c[u+4+(a*184|0)+92>>2]=0.0;_=+c[l+224>>2]*+c[(o[R+368+76>>2]|0)+224>>2];_=_<-10.0?-10.0:_;c[u+4+(a*184|0)+84>>2]=_>10.0?10.0:_;o[u+4+(a*184|0)+48>>2]=o[l+52>>2];o[u+4+(a*184|0)+48+4>>2]=o[l+52+4>>2];o[u+4+(a*184|0)+48+8>>2]=o[l+52+8>>2];o[u+4+(a*184|0)+48+12>>2]=o[l+52+12>>2];c[u+4+(a*184|0)+32>>2]=f;c[u+4+(a*184|0)+36>>2]=d;c[u+4+(a*184|0)+40>>2]=h;c[u+4+(a*184|0)+44>>2]=0.0}i=o[2685]|0;u=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=u;if(!u){if(o[i+4>>2]|0){$(R+368|0,0)|0;u=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[R+368+4>>2]|0)-(o[u+4>>2]|0)+(((o[R+368>>2]|0)-(o[u>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break t;i=o[2685]|0}o[2685]=o[i+20>>2]}}}}while(0);p=p+1|0;if((p|0)>=(o[e+232>>2]|0))break e}}}while(0);i=o[2685]|0;C=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=C;do{if(!C){if(o[i+4>>2]|0){$(R+368|0,0)|0;C=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[R+368+4>>2]|0)-(o[C+4>>2]|0)+(((o[R+368>>2]|0)-(o[C>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);SF[o[(o[e>>2]|0)+44>>2]&511](e);SF[o[(o[e>>2]|0)+148>>2]&511](e);c[e+104>>2]=t;xF[o[(o[e>>2]|0)+152>>2]&127](e,e+92|0);TF[o[(o[e>>2]|0)+144>>2]&31](e,t);La(14544);if((o[e+280>>2]|0)>0){i=0;do{C=o[(o[e+288>>2]|0)+(i<<2)>>2]|0;PF[o[(o[C>>2]|0)+8>>2]&7](C,e,t);i=i+1|0}while((i|0)<(o[e+280>>2]|0))}i=o[2685]|0;C=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=C;do{if(!C){if(o[i+4>>2]|0){$(R+368|0,0)|0;C=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[R+368+4>>2]|0)-(o[C+4>>2]|0)+(((o[R+368>>2]|0)-(o[C>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);TF[o[(o[e>>2]|0)+156>>2]&31](e,t);i=o[e+80>>2]|0;if(i|0)TF[i&31](e,t);i=o[2685]|0;e=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=e;if(e|0){ae=R;return}do{if(o[i+4>>2]|0){$(R+368|0,0)|0;e=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[R+368+4>>2]|0)-(o[e+4>>2]|0)+(((o[R+368>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=R;return}}}while(0);o[2685]=o[i+20>>2];ae=R;return}function ss(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0,B=0,k=0,U=0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0,ee=0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0.0,_e=0.0,ue=0.0,fe=0.0,de=0.0,he=0.0;B=ae;ae=ae+64|0;if(!(o[e+12>>2]|0)){ae=B;return}U=(n[e+16>>0]|0)!=0;a=U?i:t;U=U?t:i;r=o[a+4>>2]|0;N=o[U+4>>2]|0;a=o[a+12>>2]|0;q=+c[a>>2];J=+c[a+16>>2];Z=+c[a+32>>2];K=+c[a+4>>2];Q=+c[a+20>>2];O=+c[a+36>>2];l=+c[a+8>>2];x=+c[a+24>>2];A=+c[a+40>>2];G=+c[a+48>>2];V=+c[a+52>>2];j=+c[a+56>>2];$=o[U+12>>2]|0;Y=+c[$>>2];z=+c[$+16>>2];I=+c[$+32>>2];X=+c[$+4>>2];W=+c[$+20>>2];P=+c[$+36>>2];m=+c[$+8>>2];p=+c[$+24>>2];d=+c[$+40>>2];H=-+c[$+48>>2];D=-+c[$+52>>2];w=-+c[$+56>>2];L=+c[a>>2];F=+c[a+16>>2];M=+c[a+32>>2];T=+c[a+4>>2];C=+c[a+20>>2];g=+c[a+36>>2];b=+c[a+8>>2];h=+c[a+24>>2];f=+c[a+40>>2];a=o[(o[r>>2]|0)+64>>2]|0;u=-+c[N+48>>2];_=-+c[N+52>>2];R=-+c[N+56>>2];c[B+48>>2]=(q*Y+J*z+Z*I)*u+(q*X+J*W+Z*P)*_+(q*m+J*p+Z*d)*R;c[B+48+4>>2]=(K*Y+Q*z+O*I)*u+(K*X+Q*W+O*P)*_+(K*m+Q*p+O*d)*R;c[B+48+8>>2]=(l*Y+x*z+A*I)*u+(l*X+x*W+A*P)*_+(l*m+x*p+A*d)*R;c[B+48+12>>2]=0.0;LF[a&127](B,r,B+48|0);R=+c[B>>2];A=+c[B+4>>2];x=+c[B+8>>2];l=+c[N+48>>2];_=+c[N+52>>2];u=+c[N+56>>2];O=u*(G*m+V*p+j*d+(m*H+p*D+d*w)+((m*L+p*F+d*M)*R+(m*T+p*C+d*g)*A+(m*b+p*h+d*f)*x))+(l*(G*Y+V*z+j*I+(Y*H+z*D+I*w)+((Y*L+z*F+I*M)*R+(Y*T+z*C+I*g)*A+(Y*b+z*h+I*f)*x))+_*(G*X+V*W+j*P+(X*H+W*D+P*w)+((X*L+W*F+P*M)*R+(X*T+W*C+P*g)*A+(X*b+W*h+P*f)*x)))-+c[N+64>>2];I=G*Y+V*z+j*I+(Y*H+z*D+I*w)+((Y*L+z*F+I*M)*R+(Y*T+z*C+I*g)*A+(Y*b+z*h+I*f)*x)-l*O;P=G*X+V*W+j*P+(X*H+W*D+P*w)+((X*L+W*F+P*M)*R+(X*T+W*C+P*g)*A+(X*b+W*h+P*f)*x)-_*O;x=G*m+V*p+j*d+(m*H+p*D+d*w)+((m*L+p*F+d*M)*R+(m*T+p*C+d*g)*A+(m*b+p*h+d*f)*x)-u*O;U=o[U+12>>2]|0;f=+c[U>>2];d=+c[U+4>>2];h=+c[U+8>>2];p=+c[U+16>>2];b=+c[U+20>>2];m=+c[U+24>>2];A=+c[U+32>>2];g=+c[U+36>>2];C=+c[U+40>>2];T=+c[U+48>>2];R=+c[U+52>>2];M=+c[U+56>>2];U=o[e+12>>2]|0;a=O<+c[U+752>>2];o[s+4>>2]=U;if(a){c[B+48>>2]=f*l+d*_+h*u;c[B+48+4>>2]=l*p+_*b+u*m;c[B+48+8>>2]=l*A+_*g+u*C;c[B+48+12>>2]=0.0;c[B+32>>2]=h*x+(f*I+d*P)+T;c[B+32+4>>2]=I*p+P*b+x*m+R;c[B+32+8>>2]=I*A+P*g+x*C+M;c[B+32+12>>2]=0.0;FF[o[(o[s>>2]|0)+16>>2]&15](s,B+48|0,B+32|0,O)}if((o[r+4>>2]|0)<7?(o[(o[s+4>>2]|0)+748>>2]|0)<(o[e+24>>2]|0):0){l=+c[N+56>>2];if(+y(+l)>.7071067690849304){u=+c[N+52>>2];q=1.0/+v(+(l*l+u*u));_=0.0;u=u*q;l=-(l*q)}else{q=+c[N+48>>2];_=+c[N+52>>2];l=1.0/+v(+(q*q+_*_));_=-(_*l);u=0.0;l=q*l}D=.019999999552965164/+nF[o[(o[r>>2]|0)+16>>2]&15](r);D=(D>.39269909262657166?.39269909262657166:D)*.5;w=+S(+D)/+v(+(_*_+l*l+u*u));F=_*w;L=l*w;w=u*w;D=+E(+D);r=o[e+20>>2]|0;if((r|0)>0){a=0;do{p=+c[N+48>>2];q=+c[N+52>>2];T=+c[N+56>>2];g=6.2831854820251465/+(r|0)*+(a|0)*.5;J=+S(+g)/+v(+(p*p+q*q+T*T));g=+E(+g);C=w*-(q*J)+(F*g+D*-(p*J))-L*-(T*J);m=F*-(T*J)+(L*g+D*-(q*J))-w*-(p*J);ie=L*-(p*J)+(w*g+D*-(T*J))-F*-(q*J);M=D*g-F*-(p*J)-L*-(q*J)-w*-(T*J);ce=T*J*m+(p*J*M+g*C)-q*J*ie;se=p*J*ie+(g*m+q*J*M)-T*J*C;ue=q*J*C+(T*J*M+g*ie)-p*J*m;ie=g*M-p*J*C-q*J*m-T*J*ie;U=(n[e+16>>0]|0)!=0;ee=U?i:t;U=U?t:i;r=o[ee+4>>2]|0;$=o[U+4>>2]|0;ee=o[ee+12>>2]|0;J=+c[ee>>2];T=+c[ee+4>>2];m=+c[ee+8>>2];q=+c[ee+16>>2];C=+c[ee+20>>2];p=+c[ee+24>>2];M=+c[ee+32>>2];g=+c[ee+36>>2];d=+c[ee+40>>2];X=+c[ee+48>>2];z=+c[ee+52>>2];Y=+c[ee+56>>2];ee=o[U+12>>2]|0;j=+c[ee>>2];V=+c[ee+16>>2];O=+c[ee+32>>2];G=+c[ee+4>>2];W=+c[ee+20>>2];P=+c[ee+36>>2];b=+c[ee+8>>2];h=+c[ee+24>>2];f=+c[ee+40>>2];Q=-+c[ee+48>>2];K=-+c[ee+52>>2];Z=-+c[ee+56>>2];oe=ce*(2.0/(ce*ce+se*se+ue*ue+ie*ie));u=se*(2.0/(ce*ce+se*se+ue*ue+ie*ie));te=ue*(2.0/(ce*ce+se*se+ue*ue+ie*ie));de=m*(ce*te-ie*u)+(T*(ce*u+ie*te)+J*(1.0-(se*u+ue*te)));_e=m*(se*te+ie*oe)+(J*(ce*u-ie*te)+T*(1.0-(ce*oe+ue*te)));l=J*(ce*te+ie*u)+T*(se*te-ie*oe)+m*(1.0-(ce*oe+se*u));fe=p*(ce*te-ie*u)+(C*(ce*u+ie*te)+q*(1.0-(se*u+ue*te)));le=p*(se*te+ie*oe)+(q*(ce*u-ie*te)+C*(1.0-(ce*oe+ue*te)));A=q*(ce*te+ie*u)+C*(se*te-ie*oe)+p*(1.0-(ce*oe+se*u));he=d*(ce*te-ie*u)+(g*(ce*u+ie*te)+M*(1.0-(se*u+ue*te)));ue=d*(se*te+ie*oe)+(M*(ce*u-ie*te)+g*(1.0-(ce*oe+ue*te)));u=M*(ce*te+ie*u)+g*(se*te-ie*oe)+d*(1.0-(ce*oe+se*u));se=+c[ee>>2];oe=+c[ee+16>>2];ce=+c[ee+32>>2];ie=+c[ee+4>>2];te=+c[ee+20>>2];ne=+c[ee+36>>2];_=+c[ee+8>>2];x=+c[ee+24>>2];I=+c[ee+40>>2];ee=o[(o[r>>2]|0)+64>>2]|0;re=-+c[$+48>>2];H=-+c[$+52>>2];R=-+c[$+56>>2];c[B+32>>2]=(ce*he+(se*de+oe*fe))*re+(ne*he+(ie*de+te*fe))*H+(I*he+(_*de+x*fe))*R;c[B+32+4>>2]=(ce*ue+(se*_e+oe*le))*re+(ne*ue+(ie*_e+te*le))*H+(I*ue+(_*_e+x*le))*R;c[B+32+8>>2]=(ce*u+(se*l+oe*A))*re+(ne*u+(ie*l+te*A))*H+(I*u+(_*l+x*A))*R;c[B+32+12>>2]=0.0;LF[ee&127](B+48|0,r,B+32|0);R=+c[B+48>>2];A=+c[B+48+4>>2];x=+c[B+48+8>>2];l=+c[$+48>>2];_=+c[$+52>>2];u=+c[$+56>>2];I=u*(X*b+z*h+Y*f+(b*Q+h*K+f*Z)+((J*b+q*h+M*f)*R+(T*b+C*h+g*f)*A+(m*b+p*h+d*f)*x))+(l*(X*j+z*V+Y*O+(j*Q+V*K+O*Z)+((J*j+q*V+M*O)*R+(T*j+C*V+g*O)*A+(m*j+p*V+d*O)*x))+_*(X*G+z*W+Y*P+(G*Q+W*K+P*Z)+((J*G+q*W+M*P)*R+(T*G+C*W+g*P)*A+(m*G+p*W+d*P)*x)))-+c[$+64>>2];O=X*j+z*V+Y*O+(j*Q+V*K+O*Z)+((J*j+q*V+M*O)*R+(T*j+C*V+g*O)*A+(m*j+p*V+d*O)*x)-l*I;P=X*G+z*W+Y*P+(G*Q+W*K+P*Z)+((J*G+q*W+M*P)*R+(T*G+C*W+g*P)*A+(m*G+p*W+d*P)*x)-_*I;x=X*b+z*h+Y*f+(b*Q+h*K+f*Z)+((J*b+q*h+M*f)*R+(T*b+C*h+g*f)*A+(m*b+p*h+d*f)*x)-u*I;U=o[U+12>>2]|0;f=+c[U>>2];d=+c[U+4>>2];h=+c[U+8>>2];p=+c[U+16>>2];b=+c[U+20>>2];m=+c[U+24>>2];A=+c[U+32>>2];g=+c[U+36>>2];C=+c[U+40>>2];T=+c[U+48>>2];R=+c[U+52>>2];M=+c[U+56>>2];U=o[e+12>>2]|0;$=I<+c[U+752>>2];o[s+4>>2]=U;if($){c[B+32>>2]=f*l+d*_+h*u;c[B+32+4>>2]=l*p+_*b+u*m;c[B+32+8>>2]=l*A+_*g+u*C;c[B+32+12>>2]=0.0;c[B+16>>2]=h*x+(f*O+d*P)+T;c[B+16+4>>2]=O*p+P*b+x*m+R;c[B+16+8>>2]=O*A+P*g+x*C+M;c[B+16+12>>2]=0.0;FF[o[(o[s>>2]|0)+16>>2]&15](s,B+32|0,B+16|0,I)}a=a+1|0;r=o[e+20>>2]|0}while((a|0)<(r|0))}}do{if((n[e+8>>0]|0?o[(o[e+12>>2]|0)+748>>2]|0:0)?(k=o[s+4>>2]|0,o[k+748>>2]|0):0){r=o[k+740>>2]|0;a=o[(o[s+8>>2]|0)+8>>2]|0;if((r|0)==(a|0)){io(k,r+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(k,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,a+4|0);break}}}while(0);ae=B;return}function as(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0,P=0,D=0;D=ae;ae=ae+784|0;o[D+168+8>>2]=0;o[D+168+12>>2]=1065353216;o[D+168+16>>2]=1065353216;o[D+168+20>>2]=1065353216;c[D+168+24>>2]=0.0;o[D+168>>2]=7884;o[D+168+4>>2]=8;c[D+168+28>>2]=0.0;c[D+168+44>>2]=0.0;x=o[i+4>>2]|0;P=o[i+12>>2]|0;S=o[x+4>>2]|0;if((S|0)<20){o[D+600>>2]=4752;o[D+600+168>>2]=0;c[D+600+172>>2]=0.0;o[D+600+164>>2]=o[r+4>>2];c[D+240+308>>2]=9.999999747378752e-05;n[D+240+332>>0]=0;o[D+224>>2]=6076;o[D+224+4>>2]=D+240;o[D+224+8>>2]=D+168;o[D+224+12>>2]=x;o[D+152>>2]=10452;o[D+152+4>>2]=D+240;o[D+152+8>>2]=D+168;o[D+152+12>>2]=x;x=(o[r+16>>2]&8|0)==0?D+224|0:D+152|0;if((gF[o[(o[x>>2]|0)+8>>2]&3](x,e,t,P,P,D+600|0)|0?(s=D+600+132|0,l=+c[s>>2],_=+c[D+600+136>>2],u=+c[D+600+140>>2],l*l+_*_+u*u>9.999999747378752e-05):0)?(a=+c[D+600+164>>2],a<+c[r+4>>2]):0){I=1.0/+v(+(l*l+_*_+u*u));c[s>>2]=l*I;c[D+600+136>>2]=_*I;c[D+600+140>>2]=u*I;o[D+120>>2]=o[i+8>>2];o[D+120+4>>2]=0;o[D+120+8>>2]=o[s>>2];o[D+120+8+4>>2]=o[s+4>>2];o[D+120+8+8>>2]=o[s+8>>2];o[D+120+8+12>>2]=o[s+12>>2];c[D+120+24>>2]=a;+sF[o[(o[r>>2]|0)+12>>2]&15](r,D+120|0,1)}ae=D;return}if((S+-21|0)>>>0>=9){if((S|0)!=31){ae=D;return}s=o[x+64>>2]|0;i=o[i+8>>2]|0;o[D+600>>2]=6872;o[D+600+4>>2]=i;o[D+600+8>>2]=x;o[D+600+12>>2]=P;o[D+600+16>>2]=e;o[D+600+20>>2]=t;o[D+600+24>>2]=r;if(!s){s=o[x+16>>2]|0;if((s|0)>0){e=0;do{Je(D+600|0,e);e=e+1|0}while((e|0)<(s|0))}}else{O=+c[P+48>>2];d=+c[e+48>>2]-O;M=+c[P+52>>2];h=+c[e+52>>2]-M;T=+c[P+56>>2];p=+c[e+56>>2]-T;A=+c[P>>2];m=+c[P+16>>2];b=+c[P+32>>2];C=+c[P+4>>2];y=+c[P+20>>2];g=+c[P+36>>2];I=+c[P+8>>2];R=+c[P+24>>2];E=+c[P+40>>2];c[D+240>>2]=d*A+h*m+p*b;c[D+240+4>>2]=d*C+h*y+p*g;c[D+240+8>>2]=d*I+h*R+p*E;c[D+240+12>>2]=0.0;O=+c[t+48>>2]-O;M=+c[t+52>>2]-M;T=+c[t+56>>2]-T;c[D+224>>2]=b*T+(m*M+O*A);c[D+224+4>>2]=g*T+(y*M+O*C);c[D+224+8>>2]=E*T+(R*M+O*I);c[D+224+12>>2]=0.0;qr(o[s>>2]|0,D+240|0,D+224|0,D+600|0)}ae=D;return}a=+c[P>>2];b=+c[P+16>>2];m=+c[P+32>>2];_=+c[P+4>>2];g=+c[P+20>>2];y=+c[P+36>>2];l=+c[P+8>>2];T=+c[P+24>>2];R=+c[P+40>>2];M=-+c[P+48>>2];O=-+c[P+52>>2];I=-+c[P+56>>2];h=+c[e+48>>2];p=+c[e+52>>2];u=+c[e+56>>2];c[D+152>>2]=a*M+b*O+m*I+(a*h+b*p+m*u);c[D+152+4>>2]=_*M+g*O+y*I+(_*h+g*p+y*u);c[D+152+8>>2]=l*M+T*O+R*I+(l*h+T*p+R*u);c[D+152+12>>2]=0.0;C=+c[t+48>>2];E=+c[t+52>>2];A=+c[t+56>>2];a=a*M+b*O+m*I+(a*C+b*E+m*A);_=_*M+g*O+y*I+(_*C+g*E+y*A);l=l*M+T*O+R*I+(l*C+T*E+R*A);c[D+120>>2]=a;c[D+120+4>>2]=_;c[D+120+8>>2]=l;c[D+120+12>>2]=0.0;switch(S|0){case 21:{s=o[i+8>>2]|0;i=o[r+16>>2]|0;o[D+4>>2]=o[D+152>>2];o[D+4+4>>2]=o[D+152+4>>2];o[D+4+8>>2]=o[D+152+8>>2];o[D+4+12>>2]=o[D+152+12>>2];o[D+20>>2]=o[D+120>>2];o[D+20+4>>2]=o[D+120+4>>2];o[D+20+8>>2]=o[D+120+8>>2];o[D+20+12>>2]=o[D+120+12>>2];o[D+36>>2]=i;c[D+40>>2]=1.0;o[D>>2]=6824;o[D+44>>2]=r;o[D+48>>2]=s;o[D+52>>2]=x;o[D+56>>2]=o[P>>2];o[D+56+4>>2]=o[P+4>>2];o[D+56+8>>2]=o[P+8>>2];o[D+56+12>>2]=o[P+12>>2];o[D+72>>2]=o[P+16>>2];o[D+72+4>>2]=o[P+16+4>>2];o[D+72+8>>2]=o[P+16+8>>2];o[D+72+12>>2]=o[P+16+12>>2];o[D+88>>2]=o[P+32>>2];o[D+88+4>>2]=o[P+32+4>>2];o[D+88+8>>2]=o[P+32+8>>2];o[D+88+12>>2]=o[P+32+12>>2];o[D+104>>2]=o[P+48>>2];o[D+104+4>>2]=o[P+48+4>>2];o[D+104+8>>2]=o[P+48+8>>2];o[D+104+12>>2]=o[P+48+12>>2];o[D+40>>2]=o[r+4>>2];s=o[x+48>>2]|0;o[D+224>>2]=8096;o[D+224+4>>2]=s;o[D+224+8>>2]=D;s=o[x+52>>2]|0;o[D+600>>2]=0;o[D+600+4>>2]=0;o[D+600+8>>2]=0;o[D+600+12>>2]=0;o[D+240>>2]=0;o[D+240+4>>2]=0;o[D+240+8>>2]=0;o[D+240+12>>2]=0;if(!(n[s+60>>0]|0))so(s,D+224|0,D+152|0,a,_,l,D+600|0,D+240|0);else kr(s,D+224|0,D+152|0,a,_,l,D+600|0,D+240|0,o[s+56>>2]|0);break}case 25:{i=o[i+8>>2]|0;S=o[r+16>>2]|0;o[D+600+4>>2]=o[D+152>>2];o[D+600+4+4>>2]=o[D+152+4>>2];o[D+600+4+8>>2]=o[D+152+8>>2];o[D+600+4+12>>2]=o[D+152+12>>2];o[D+600+20>>2]=o[D+120>>2];o[D+600+20+4>>2]=o[D+120+4>>2];o[D+600+20+8>>2]=o[D+120+8>>2];o[D+600+20+12>>2]=o[D+120+12>>2];o[D+600+36>>2]=S;c[D+600+40>>2]=1.0;o[D+600>>2]=6824;o[D+600+44>>2]=r;o[D+600+48>>2]=i;o[D+600+52>>2]=x;o[D+600+56>>2]=o[P>>2];o[D+600+56+4>>2]=o[P+4>>2];o[D+600+56+8>>2]=o[P+8>>2];o[D+600+56+12>>2]=o[P+12>>2];o[D+600+72>>2]=o[P+16>>2];o[D+600+72+4>>2]=o[P+16+4>>2];o[D+600+72+8>>2]=o[P+16+8>>2];o[D+600+72+12>>2]=o[P+16+12>>2];o[D+600+88>>2]=o[P+32>>2];o[D+600+88+4>>2]=o[P+32+4>>2];o[D+600+88+8>>2]=o[P+32+8>>2];o[D+600+88+12>>2]=o[P+32+12>>2];o[D+600+104>>2]=o[P+48>>2];o[D+600+104+4>>2]=o[P+48+4>>2];o[D+600+104+8>>2]=o[P+48+8>>2];o[D+600+104+12>>2]=o[P+48+12>>2];o[D+600+40>>2]=o[r+4>>2];BF[o[(o[x>>2]|0)+144>>2]&127](x,D+600|0,D+152|0,D+120|0);break}default:{_=+c[P>>2];l=+c[P+4>>2];a=+c[P+8>>2];f=m*u+(b*p+h*_)+(m*I+(b*O+_*M));d=y*u+(g*p+h*l)+(y*I+(g*O+l*M));u=R*u+(T*p+h*a)+(R*I+(T*O+a*M));_=m*A+(b*E+C*_)+(m*I+(b*O+_*M));l=y*A+(g*E+C*l)+(y*I+(g*O+l*M));a=R*A+(T*E+C*a)+(R*I+(T*O+a*M));i=o[i+8>>2]|0;S=o[r+16>>2]|0;c[D+600+4>>2]=f;c[D+600+8>>2]=d;c[D+600+12>>2]=u;c[D+600+16>>2]=0.0;c[D+600+20>>2]=_;c[D+600+24>>2]=l;c[D+600+28>>2]=a;c[D+600+32>>2]=0.0;o[D+600+36>>2]=S;c[D+600+40>>2]=1.0;o[D+600>>2]=6848;o[D+600+44>>2]=r;o[D+600+48>>2]=i;o[D+600+52>>2]=x;o[D+600+56>>2]=o[P>>2];o[D+600+56+4>>2]=o[P+4>>2];o[D+600+56+8>>2]=o[P+8>>2];o[D+600+56+12>>2]=o[P+12>>2];o[D+600+72>>2]=o[P+16>>2];o[D+600+72+4>>2]=o[P+16+4>>2];o[D+600+72+8>>2]=o[P+16+8>>2];o[D+600+72+12>>2]=o[P+16+12>>2];o[D+600+88>>2]=o[P+32>>2];o[D+600+88+4>>2]=o[P+32+4>>2];o[D+600+88+8>>2]=o[P+32+8>>2];o[D+600+88+12>>2]=o[P+32+12>>2];o[D+600+104>>2]=o[P+48>>2];o[D+600+104+4>>2]=o[P+48+4>>2];o[D+600+104+8>>2]=o[P+48+8>>2];o[D+600+104+12>>2]=o[P+48+12>>2];o[D+600+40>>2]=o[r+4>>2];c[D+240>>2]=f;c[D+240+4>>2]=d;c[D+240+8>>2]=u;c[D+240+12>>2]=0.0;if(_<f)c[D+240>>2]=_;if(l<d)c[D+240+4>>2]=l;if(a<u)c[D+240+8>>2]=a;c[D+224>>2]=f;c[D+224+4>>2]=d;c[D+224+8>>2]=u;c[D+224+12>>2]=0.0;if(f<_)c[D+224>>2]=_;if(d<l)c[D+224+4>>2]=l;if(u<a)c[D+224+8>>2]=a;BF[o[(o[x>>2]|0)+64>>2]&127](x,D+600|0,D+240|0,D+224|0)}}ae=D;return}function cs(e,t,i,r,s,a,l,_,u,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;f=f|0;var d=0.0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0.0;s=o[e+48>>2]|0;b=o[e+28>>2]|0;m=o[e+68>>2]|0;if(o[u+64>>2]&1|0){if((s|0)>0){a=o[e+136>>2]|0;f=o[e+192>>2]|0;p=0;do{h=a+(p<<2)|0;r=o[h>>2]|0;p=p+1|0;f=(O(f,1664525)|0)+1013904223|0;if(p>>>0<65537){i=(16?f>>>16:f)^f;if(p>>>0<257){i=(8?i>>>8:i)^i;if(p>>>0<17){i=(4?i>>>4:i)^i;y=(2?i>>>2:i)^i;i=p>>>0<5?(p>>>0<3?1?y>>>1:y:0)^y:i}}}else i=f;y=a+(((i>>>0)%(p>>>0)|0)<<2)|0;o[h>>2]=o[y>>2];o[y>>2]=r}while((p|0)!=(s|0));o[e+192>>2]=f}if((o[u+20>>2]|0)>(t|0)){if((b|0)>0){r=o[e+116>>2]|0;a=o[e+192>>2]|0;h=0;do{f=r+(h<<2)|0;s=o[f>>2]|0;h=h+1|0;a=(O(a,1664525)|0)+1013904223|0;if(h>>>0<65537){i=(16?a>>>16:a)^a;if(h>>>0<257){i=(8?i>>>8:i)^i;if(h>>>0<17){i=(4?i>>>4:i)^i;y=(2?i>>>2:i)^i;i=h>>>0<5?(h>>>0<3?1?y>>>1:y:0)^y:i}}}else i=a;y=r+(((i>>>0)%(h>>>0)|0)<<2)|0;o[f>>2]=o[y>>2];o[y>>2]=s}while((h|0)!=(b|0));o[e+192>>2]=a}if((m|0)>0){r=o[e+156>>2]|0;a=o[e+192>>2]|0;h=0;do{f=r+(h<<2)|0;s=o[f>>2]|0;h=h+1|0;a=(O(a,1664525)|0)+1013904223|0;if(h>>>0<65537){i=(16?a>>>16:a)^a;if(h>>>0<257){i=(8?i>>>8:i)^i;if(h>>>0<17){i=(4?i>>>4:i)^i;y=(2?i>>>2:i)^i;i=h>>>0<5?(h>>>0<3?1?y>>>1:y:0)^y:i}}}else i=a;y=r+(((i>>>0)%(h>>>0)|0)<<2)|0;o[f>>2]=o[y>>2];o[y>>2]=s}while((h|0)!=(m|0));o[e+192>>2]=a}}}i=o[e+48>>2]|0;if(!(o[u+64>>2]&256)){if((i|0)>0){a=0;do{r=o[(o[e+136>>2]|0)+(a<<2)>>2]|0;s=o[e+56>>2]|0;if((o[s+(r*152|0)+136>>2]|0)>(t|0)){i=o[e+16>>2]|0;Lt(i+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,i+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0);i=o[e+48>>2]|0}a=a+1|0}while((a|0)<(i|0))}if((o[u+20>>2]|0)<=(t|0))return 0.0;if((_|0)>0){s=0;do{r=l+(s<<2)|0;i=o[r>>2]|0;if(n[i+20>>0]|0){A=or(e,o[i+28>>2]|0,+c[u+12>>2])|0;y=or(e,o[(o[r>>2]|0)+32>>2]|0,+c[u+12>>2])|0;g=o[e+16>>2]|0;t=o[r>>2]|0;FF[o[(o[t>>2]|0)+24>>2]&15](t,g+(A*244|0)|0,g+(y*244|0)|0,+c[u+12>>2])}s=s+1|0}while((s|0)!=(_|0))}i=o[e+28>>2]|0;if((i|0)>0){r=0;do{y=o[(o[e+116>>2]|0)+(r<<2)>>2]|0;u=o[e+36>>2]|0;_=o[e+16>>2]|0;Xt(_+((o[u+(y*152|0)+144>>2]|0)*244|0)|0,_+((o[u+(y*152|0)+148>>2]|0)*244|0)|0,u+(y*152|0)|0);r=r+1|0}while((r|0)!=(i|0))}i=o[e+68>>2]|0;if((i|0)>0){a=0;do{r=o[(o[e+156>>2]|0)+(a<<2)>>2]|0;s=o[e+76>>2]|0;d=+c[(o[e+36>>2]|0)+((o[s+(r*152|0)+140>>2]|0)*152|0)+100>>2];if(d>0.0){d=d*+c[s+(r*152|0)+104>>2];c[s+(r*152|0)+120>>2]=-d;c[s+(r*152|0)+124>>2]=d;y=o[e+16>>2]|0;Lt(y+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,y+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0)}a=a+1|0}while((a|0)!=(i|0))}i=o[e+88>>2]|0;if((i|0)<=0)return 0.0;s=0;do{r=o[e+96>>2]|0;d=+c[(o[e+36>>2]|0)+((o[r+(s*152|0)+140>>2]|0)*152|0)+100>>2];if(d>0.0){v=+c[r+(s*152|0)+104>>2];d=d*v>v?v:d*v;c[r+(s*152|0)+120>>2]=-d;c[r+(s*152|0)+124>>2]=d;y=o[e+16>>2]|0;Lt(y+((o[r+(s*152|0)+144>>2]|0)*244|0)|0,y+((o[r+(s*152|0)+148>>2]|0)*244|0)|0,r+(s*152|0)|0)}s=s+1|0}while((s|0)!=(i|0));return 0.0}if((i|0)>0){a=0;do{r=o[(o[e+136>>2]|0)+(a<<2)>>2]|0;s=o[e+56>>2]|0;if((o[s+(r*152|0)+136>>2]|0)>(t|0)){i=o[e+16>>2]|0;Lt(i+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,i+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0);i=o[e+48>>2]|0}a=a+1|0}while((a|0)<(i|0))}if((o[u+20>>2]|0)<=(t|0))return 0.0;if((_|0)>0){s=0;do{r=l+(s<<2)|0;i=o[r>>2]|0;if(n[i+20>>0]|0){m=or(e,o[i+28>>2]|0,+c[u+12>>2])|0;y=or(e,o[(o[r>>2]|0)+32>>2]|0,+c[u+12>>2])|0;t=o[e+16>>2]|0;b=o[r>>2]|0;FF[o[(o[b>>2]|0)+24>>2]&15](b,t+(m*244|0)|0,t+(y*244|0)|0,+c[u+12>>2])}s=s+1|0}while((s|0)!=(_|0))}i=o[u+64>>2]|0;h=o[e+28>>2]|0;if(i&512|0){i=((4?i>>>4:i)&1)+1|0;if((h|0)<=0)return 0.0;a=0;do{f=o[(o[e+116>>2]|0)+(a<<2)>>2]|0;r=o[e+36>>2]|0;s=o[e+16>>2]|0;Xt(s+((o[r+(f*152|0)+144>>2]|0)*244|0)|0,s+((o[r+(f*152|0)+148>>2]|0)*244|0)|0,r+(f*152|0)|0);d=+c[r+(f*152|0)+100>>2];f=O(a,i)|0;r=o[(o[e+156>>2]|0)+(f<<2)>>2]|0;s=o[e+76>>2]|0;if(d>0.0){v=d*+c[s+(r*152|0)+104>>2];c[s+(r*152|0)+120>>2]=-v;c[s+(r*152|0)+124>>2]=v;y=o[e+16>>2]|0;Lt(y+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,y+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0)}if(o[u+64>>2]&16|0?(A=o[(o[e+156>>2]|0)+(f+1<<2)>>2]|0,g=o[e+76>>2]|0,d>0.0):0){v=d*+c[g+(A*152|0)+104>>2];c[g+(A*152|0)+120>>2]=-v;c[g+(A*152|0)+124>>2]=v;y=o[e+16>>2]|0;Lt(y+((o[g+(A*152|0)+144>>2]|0)*244|0)|0,y+((o[g+(A*152|0)+148>>2]|0)*244|0)|0,g+(A*152|0)|0)}a=a+1|0}while((a|0)!=(h|0));return 0.0}if((h|0)>0){i=0;do{y=o[(o[e+116>>2]|0)+(i<<2)>>2]|0;u=o[e+36>>2]|0;_=o[e+16>>2]|0;Xt(_+((o[u+(y*152|0)+144>>2]|0)*244|0)|0,_+((o[u+(y*152|0)+148>>2]|0)*244|0)|0,u+(y*152|0)|0);i=i+1|0}while((i|0)!=(h|0))}i=o[e+68>>2]|0;if((i|0)>0){a=0;do{r=o[(o[e+156>>2]|0)+(a<<2)>>2]|0;s=o[e+76>>2]|0;d=+c[(o[e+36>>2]|0)+((o[s+(r*152|0)+140>>2]|0)*152|0)+100>>2];if(d>0.0){v=d*+c[s+(r*152|0)+104>>2];c[s+(r*152|0)+120>>2]=-v;c[s+(r*152|0)+124>>2]=v;y=o[e+16>>2]|0;Lt(y+((o[s+(r*152|0)+144>>2]|0)*244|0)|0,y+((o[s+(r*152|0)+148>>2]|0)*244|0)|0,s+(r*152|0)|0)}a=a+1|0}while((a|0)!=(i|0))}i=o[e+88>>2]|0;if((i|0)<=0)return 0.0;s=0;do{r=o[e+96>>2]|0;d=+c[(o[e+36>>2]|0)+((o[r+(s*152|0)+140>>2]|0)*152|0)+100>>2];if(d>0.0){v=+c[r+(s*152|0)+104>>2];v=d*v>v?v:d*v;c[r+(s*152|0)+120>>2]=-v;c[r+(s*152|0)+124>>2]=v;y=o[e+16>>2]|0;Lt(y+((o[r+(s*152|0)+144>>2]|0)*244|0)|0,y+((o[r+(s*152|0)+148>>2]|0)*244|0)|0,r+(s*152|0)|0)}s=s+1|0}while((s|0)!=(i|0));return 0.0}function ls(e,t,i,r,a,c){e=e|0;t=+t;i=i|0;r=r|0;a=a|0;c=c|0;var l=0,_=0,u=0,f=0,d=0,h=0.0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0;T=ae;ae=ae+560|0;o[T+536>>2]=0;S=T+540+12|0;wy(t)|0;l=D()|0;if((l|0)<0){wy(-t)|0;l=D()|0;C=1;v=22179;t=-t}else{C=(a&2049|0)!=0&1;v=(a&2048|0)==0?(a&1|0)==0?22180:22185:22182}do{if(0==0&(l&2146435072|0)==2146435072){l=C+3|0;Tu(e,32,i,l,a&-65537);OT(e,v,C);OT(e,t!=t|0.0!=0.0?c&32|0?22206:22210:c&32|0?22198:22202,3);Tu(e,32,i,l,a^8192)}else{h=+P_(t,T+536|0)*2.0;if(h!=0.0)o[T+536>>2]=(o[T+536>>2]|0)+-1;if((c|32|0)==97){p=(c&32|0)==0?v:v+9|0;d=C|2;do{if(!(r>>>0>11|(12-r|0)==0)){l=12-r|0;t=8.0;do{l=l+-1|0;t=t*16.0}while((l|0)!=0);if((n[p>>0]|0)==45){t=-(t+(-h-t));break}else{t=h+t-t;break}}else t=h}while(0);_=o[T+536>>2]|0;l=(_|0)<0?0-_|0:_;l=y_(l,((l|0)<0)<<31>>31,S)|0;if((l|0)==(S|0)){n[T+540+11>>0]=48;l=T+540+11|0}n[l+-1>>0]=((31?_>>31:_)&2)+43;f=l+-2|0;n[f>>0]=c+15;_=T;while(1){E=~~t;l=_+1|0;n[_>>0]=c&32|s[480+E>>0];t=(t-+(E|0))*16.0;if((l-T|0)==1?!((a&8|0)==0&((r|0)<1&t==0.0)):0){n[l>>0]=46;l=_+2|0}if(!(t!=0.0))break;else _=l}u=l;if((r|0)!=0?(-2-T+u|0)<(r|0):0){r=r+2+S-f|0;l=S;_=f}else{r=S-T-f+u|0;l=S;_=f}S=r+d|0;Tu(e,32,i,S,a);OT(e,p,d);Tu(e,48,i,S,a^65536);OT(e,T,u-T|0);l=l-_|0;Tu(e,48,r-(u-T+l)|0,0,0);OT(e,f,l);Tu(e,32,i,S,a^8192);l=S;break}_=(r|0)<0?6:r;if(h!=0.0){r=(o[T+536>>2]|0)+-28|0;o[T+536>>2]=r;t=h*268435456.0}else{r=o[T+536>>2]|0;t=h}E=(r|0)<0?T+32|0:T+32+288|0;u=E;do{g=~~t>>>0;o[u>>2]=g;u=u+4|0;t=(t-+(g>>>0))*1.0e9}while(t!=0.0);if((r|0)>0){l=E;do{d=(r|0)<29?r:29;r=u+-4|0;if(r>>>0>=l>>>0){f=0;do{m=mA(o[r>>2]|0,0,d|0)|0;m=Uy(m|0,D()|0,f|0,0)|0;A=D()|0;f=LR(m|0,A|0,1e9,0)|0;g=qb(f|0,D()|0,-1e9,-1)|0;g=Uy(m|0,A|0,g|0,D()|0)|0;D()|0;o[r>>2]=g;r=r+-4|0}while(r>>>0>=l>>>0);if(f){l=l+-4|0;o[l>>2]=f}}e:do{if(u>>>0>l>>>0)while(1){r=u+-4|0;if(o[r>>2]|0)break e;if(r>>>0>l>>>0)u=r;else{u=r;break}}}while(0);r=(o[T+536>>2]|0)-d|0;o[T+536>>2]=r}while((r|0)>0)}else l=E;if((r|0)<0)do{p=0-r|0;p=(p|0)<9?p:9;if(l>>>0<u>>>0){f=p?1e9>>>p:1e9;d=0;r=l;do{g=o[r>>2]|0;o[r>>2]=(p?g>>>p:g)+d;d=O(g&(1<<p)+-1,f)|0;r=r+4|0}while(r>>>0<u>>>0);l=(o[l>>2]|0)==0?l+4|0:l;if(!d)r=u;else{o[u>>2]=d;r=u+4|0}}else{l=(o[l>>2]|0)==0?l+4|0:l;r=u}u=(c|32|0)==102?E:l;g=r-u|0;u=((2?g>>2:g)|0)>(((_+25|0)/9|0)+1|0)?u+(((_+25|0)/9|0)+1<<2)|0:r;r=(o[T+536>>2]|0)+p|0;o[T+536>>2]=r}while((r|0)<0);if(l>>>0<u>>>0){r=E-l|0;r=(2?r>>2:r)*9|0;d=o[l>>2]|0;if(d>>>0<10)f=r;else{f=10;do{f=f*10|0;r=r+1|0}while(d>>>0>=f>>>0);f=r}}else f=0;d=_-((c|32|0)==102?0:f)+(((_|0)!=0&(c|32|0)==103)<<31>>31)|0;g=u-E|0;if((d|0)<(((2?g>>2:g)*9|0)+-9|0)){r=E+4+(((d+9216|0)/9|0)+-1024<<2)|0;d=d+9216+(O((d+9216|0)/9|0,-9)|0)|0;if((d|0)<8){p=10;while(1){p=p*10|0;if((d|0)<7)d=d+1|0;else break}}else p=10;b=o[r>>2]|0;d=(b>>>0)/(p>>>0)|0;A=O(d,p)|0;m=(r+4|0)==(u|0);if(!(m&(b-A|0)==0)){h=(d&1|0)==0?9007199254740992.0:9007199254740994.0;g=1?p>>>1:p;t=(b-A|0)>>>0<g>>>0?.5:m&(b-A|0)==(g|0)?1.0:1.5;if(C){g=(n[v>>0]|0)==45;h=g?-h:h;t=g?-t:t}o[r>>2]=A;if(h+t!=h){g=A+p|0;o[r>>2]=g;if(g>>>0>999999999)while(1){f=r+-4|0;o[r>>2]=0;if(f>>>0<l>>>0){l=l+-4|0;o[l>>2]=0}g=(o[f>>2]|0)+1|0;o[f>>2]=g;if(g>>>0>999999999)r=f;else{r=f;break}}f=E-l|0;f=(2?f>>2:f)*9|0;p=o[l>>2]|0;if(p>>>0>=10){d=10;do{d=d*10|0;f=f+1|0}while(p>>>0>=d>>>0)}}}A=r+4|0;g=l;u=u>>>0>A>>>0?A:u}else g=l;p=0-f|0;e:do{if(u>>>0>g>>>0)while(1){l=u+-4|0;if(o[l>>2]|0){m=1;A=u;break e}if(l>>>0>g>>>0)u=l;else{m=0;A=l;break}}else{m=0;A=u}}while(0);do{if((c|32|0)==103){if((f|0)>-5?(_+(((_|0)!=0^1)&1)|0)>(f|0):0){_=_+(((_|0)!=0^1)&1)+-1-f|0;u=c+-1|0}else{_=_+(((_|0)!=0^1)&1)+-1|0;u=c+-2|0}if(!(a&8)){if(m?(y=o[A+-4>>2]|0,(y|0)!=0):0){if(!((y>>>0)%10|0)){r=10;l=0;do{r=r*10|0;l=l+1|0}while(!((y>>>0)%(r>>>0)|0|0))}else l=0}else l=9;r=A-E|0;r=((2?r>>2:r)*9|0)+-9|0;if((u|32|0)==102){c=r-l|0;c=(c|0)>0?c:0;_=(_|0)<(c|0)?_:c;break}else{c=r+f-l|0;c=(c|0)>0?c:0;_=(_|0)<(c|0)?_:c;break}}}else u=c}while(0);b=(_|0)!=0;r=b?1:(3?a>>>3:a)&1;d=(u|32|0)==102;if(d){p=0;l=(f|0)>0?f:0}else{l=(f|0)<0?p:f;l=y_(l,((l|0)<0)<<31>>31,S)|0;if((S-l|0)<2)do{l=l+-1|0;n[l>>0]=48}while((S-l|0)<2);n[l+-1>>0]=((31?f>>31:f)&2)+43;l=l+-2|0;n[l>>0]=u;p=l;l=S-l|0}l=C+1+_+r+l|0;Tu(e,32,i,l,a);OT(e,v,C);Tu(e,48,i,l,a^65536);if(d){f=g>>>0>E>>>0?E:g;u=f;do{r=y_(o[u>>2]|0,0,T+9|0)|0;if((u|0)==(f|0)){if((r|0)==(T+9|0)){n[T+8>>0]=48;r=T+8|0}}else if(r>>>0>T>>>0){_l(T|0,48,r-T|0)|0;do{r=r+-1|0}while(r>>>0>T>>>0)}OT(e,r,T+9-r|0);u=u+4|0}while(u>>>0<=E>>>0);if(!((a&8|0)==0&(b^1)))OT(e,22393,1);if(u>>>0<A>>>0&(_|0)>0)while(1){r=y_(o[u>>2]|0,0,T+9|0)|0;if(r>>>0>T>>>0){_l(T|0,48,r-T|0)|0;do{r=r+-1|0}while(r>>>0>T>>>0)}OT(e,r,(_|0)<9?_:9);u=u+4|0;r=_+-9|0;if(!(u>>>0<A>>>0&(_|0)>9)){_=r;break}else _=r}Tu(e,48,_+9|0,9,0)}else{d=m?A:g+4|0;if(g>>>0<d>>>0&(_|0)>-1){f=g;do{r=y_(o[f>>2]|0,0,T+9|0)|0;if((r|0)==(T+9|0)){n[T+8>>0]=48;r=T+8|0}do{if((f|0)==(g|0)){u=r+1|0;OT(e,r,1);if((a&8|0)==0&(_|0)<1){r=u;break}OT(e,22393,1);r=u}else{if(r>>>0<=T>>>0)break;_l(T|0,48,r+(0-T)|0)|0;do{r=r+-1|0}while(r>>>0>T>>>0)}}while(0);E=T+9-r|0;OT(e,r,(_|0)>(E|0)?E:_);_=_-E|0;f=f+4|0}while(f>>>0<d>>>0&(_|0)>-1)}Tu(e,48,_+18|0,18,0);OT(e,p,S-p|0)}Tu(e,32,i,l,a^8192)}}while(0);ae=T;return((l|0)<(i|0)?i:l)|0}function _s(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0,m=0,A=0.0;h=ae;ae=ae+80|0;a=o[e+28>>2]|0;t=o[r+64>>2]|0;if((t&4|0)!=0&(a|0)>0){i=o[e+36>>2]|0;s=o[e+76>>2]|0;if(!(t&16)){t=0;do{_=o[i+(t*152|0)+132>>2]|0;o[_+120>>2]=o[i+(t*152|0)+100>>2];o[_+124>>2]=o[s+((o[i+(t*152|0)+140>>2]|0)*152|0)+100>>2];t=t+1|0}while((t|0)!=(a|0))}else{t=0;do{_=o[i+(t*152|0)+132>>2]|0;o[_+120>>2]=o[i+(t*152|0)+100>>2];l=o[i+(t*152|0)+140>>2]|0;o[_+124>>2]=o[s+(l*152|0)+100>>2];o[_+128>>2]=o[s+((l+1|0)*152|0)+100>>2];t=t+1|0}while((t|0)!=(a|0))}}i=o[e+48>>2]|0;if((i|0)>0){_=0;do{s=o[e+56>>2]|0;a=o[s+(_*152|0)+132>>2]|0;l=o[a+44>>2]|0;t=s+(_*152|0)+100|0;if(l|0){d=+c[t>>2];m=o[a+28>>2]|0;f=1.0/+c[r+12>>2];u=d*+c[s+(_*152|0)+20>>2]*+c[m+352>>2]*f;p=d*+c[s+(_*152|0)+24>>2]*+c[m+356>>2]*f;c[l>>2]=+c[l>>2]+ +c[s+(_*152|0)+16>>2]*d*+c[m+348>>2]*f;c[l+4>>2]=u+ +c[l+4>>2];c[l+8>>2]=p+ +c[l+8>>2];p=+c[t>>2];b=o[a+32>>2]|0;u=1.0/+c[r+12>>2];f=p*+c[s+(_*152|0)+52>>2]*+c[b+352>>2]*u;d=p*+c[s+(_*152|0)+56>>2]*+c[b+356>>2]*u;c[l+32>>2]=+c[l+32>>2]+ +c[s+(_*152|0)+48>>2]*p*+c[b+348>>2]*u;c[l+36>>2]=f+ +c[l+36>>2];c[l+40>>2]=d+ +c[l+40>>2];d=+c[t>>2];f=1.0/+c[r+12>>2];u=+c[s+(_*152|0)+4>>2]*+c[m+548>>2]*d*f;p=d*(+c[s+(_*152|0)+8>>2]*+c[m+552>>2])*f;c[l+16>>2]=+c[l+16>>2]+ +c[s+(_*152|0)>>2]*+c[m+544>>2]*d*f;c[l+20>>2]=u+ +c[l+20>>2];c[l+24>>2]=p+ +c[l+24>>2];p=+c[t>>2];u=1.0/+c[r+12>>2];f=+c[s+(_*152|0)+36>>2]*+c[b+548>>2]*p*u;d=p*(+c[s+(_*152|0)+40>>2]*+c[b+552>>2])*u;c[l+48>>2]=+c[l+48>>2]+ +c[s+(_*152|0)+32>>2]*+c[b+544>>2]*p*u;c[l+52>>2]=f+ +c[l+52>>2];c[l+56>>2]=d+ +c[l+56>>2]}p=+c[t>>2];c[a+36>>2]=p;p=+y(+p);if(p>=+c[a+16>>2])n[a+20>>0]=0;_=_+1|0}while((_|0)!=(i|0))}t=o[e+8>>2]|0;if((t|0)>0){i=o[e+16>>2]|0;l=0;do{s=i+(l*244|0)|0;a=o[i+(l*244|0)+240>>2]|0;if(a){if(!(o[r+44>>2]|0)){s=i+(l*244|0)+176|0;f=+c[i+(l*244|0)+64>>2]+ +c[s>>2];c[s>>2]=f;s=i+(l*244|0)+180|0;d=+c[i+(l*244|0)+68>>2]+ +c[s>>2];c[s>>2]=d;s=i+(l*244|0)+184|0;u=+c[i+(l*244|0)+72>>2]+ +c[s>>2];c[s>>2]=u;s=i+(l*244|0)+192|0;c[s>>2]=+c[i+(l*244|0)+80>>2]+ +c[s>>2];s=i+(l*244|0)+196|0;c[s>>2]=+c[i+(l*244|0)+84>>2]+ +c[s>>2];s=i+(l*244|0)+200|0;c[s>>2]=+c[i+(l*244|0)+88>>2]+ +c[s>>2];s=i;t=a}else{u=+c[r+12>>2];f=+c[r+52>>2];t=i+(l*244|0)+176|0;c[t>>2]=+c[i+(l*244|0)+64>>2]+ +c[t>>2];t=i+(l*244|0)+180|0;c[t>>2]=+c[i+(l*244|0)+68>>2]+ +c[t>>2];t=i+(l*244|0)+184|0;c[t>>2]=+c[i+(l*244|0)+72>>2]+ +c[t>>2];t=i+(l*244|0)+192|0;c[t>>2]=+c[i+(l*244|0)+80>>2]+ +c[t>>2];t=i+(l*244|0)+196|0;c[t>>2]=+c[i+(l*244|0)+84>>2]+ +c[t>>2];t=i+(l*244|0)+200|0;c[t>>2]=+c[i+(l*244|0)+88>>2]+ +c[t>>2];d=+c[i+(l*244|0)+144>>2];t=i+(l*244|0)+148|0;if(((((!(d!=0.0)?!(+c[t>>2]!=0.0):0)?!(+c[i+(l*244|0)+152>>2]!=0.0):0)?!(+c[i+(l*244|0)+160>>2]!=0.0):0)?!(+c[i+(l*244|0)+164>>2]!=0.0):0)?!(+c[i+(l*244|0)+168>>2]!=0.0):0)t=a;else{A=+c[i+(l*244|0)+164>>2]*f;p=+c[i+(l*244|0)+168>>2]*f;c[h>>2]=+c[i+(l*244|0)+160>>2]*f;c[h+4>>2]=A;c[h+8>>2]=p;c[h+12>>2]=0.0;ni(s,d,+c[t>>2],+c[i+(l*244|0)+152>>2],h,u,h+16|0);o[s>>2]=o[h+16>>2];o[s+4>>2]=o[h+16+4>>2];o[s+8>>2]=o[h+16+8>>2];o[s+12>>2]=o[h+16+12>>2];t=i+(l*244|0)+16|0;o[t>>2]=o[h+16+16>>2];o[t+4>>2]=o[h+16+16+4>>2];o[t+8>>2]=o[h+16+16+8>>2];o[t+12>>2]=o[h+16+16+12>>2];t=i+(l*244|0)+32|0;o[t>>2]=o[h+16+32>>2];o[t+4>>2]=o[h+16+32+4>>2];o[t+8>>2]=o[h+16+32+8>>2];o[t+12>>2]=o[h+16+32+12>>2];t=i+(l*244|0)+48|0;o[t>>2]=o[h+16+48>>2];o[t+4>>2]=o[h+16+48+4>>2];o[t+8>>2]=o[h+16+48+8>>2];o[t+12>>2]=o[h+16+48+12>>2];t=o[e+16>>2]|0;i=t;t=o[t+(l*244|0)+240>>2]|0}s=i;f=+c[i+(l*244|0)+176>>2];d=+c[i+(l*244|0)+180>>2];u=+c[i+(l*244|0)+184>>2]}A=f+ +c[s+(l*244|0)+208>>2];p=d+ +c[s+(l*244|0)+212>>2];d=u+ +c[s+(l*244|0)+216>>2];b=t+260|0;o[b>>2]=(o[b>>2]|0)+1;c[t+312>>2]=A;c[t+316>>2]=p;c[t+320>>2]=d;c[t+324>>2]=0.0;b=o[e+16>>2]|0;m=o[b+(l*244|0)+240>>2]|0;d=+c[b+(l*244|0)+192>>2]+ +c[b+(l*244|0)+224>>2];p=+c[b+(l*244|0)+196>>2]+ +c[b+(l*244|0)+228>>2];A=+c[b+(l*244|0)+200>>2]+ +c[b+(l*244|0)+232>>2];o[m+260>>2]=(o[m+260>>2]|0)+1;c[m+328>>2]=d;c[m+332>>2]=p;c[m+336>>2]=A;c[m+340>>2]=0.0;if(o[r+44>>2]|0){b=o[e+16>>2]|0;m=o[b+(l*244|0)+240>>2]|0;_=b+(l*244|0)|0;o[m+260>>2]=(o[m+260>>2]|0)+1;o[m+4>>2]=o[_>>2];o[m+4+4>>2]=o[_+4>>2];o[m+4+8>>2]=o[_+8>>2];o[m+4+12>>2]=o[_+12>>2];_=b+(l*244|0)+16|0;o[m+20>>2]=o[_>>2];o[m+20+4>>2]=o[_+4>>2];o[m+20+8>>2]=o[_+8>>2];o[m+20+12>>2]=o[_+12>>2];_=b+(l*244|0)+32|0;o[m+36>>2]=o[_>>2];o[m+36+4>>2]=o[_+4>>2];o[m+36+8>>2]=o[_+8>>2];o[m+36+12>>2]=o[_+12>>2];b=b+(l*244|0)+48|0;o[m+52>>2]=o[b>>2];o[m+52+4>>2]=o[b+4>>2];o[m+52+8>>2]=o[b+8>>2];o[m+52+12>>2]=o[b+12>>2]}i=o[e+16>>2]|0;o[(o[i+(l*244|0)+240>>2]|0)+212>>2]=-1;t=o[e+8>>2]|0}l=l+1|0}while((l|0)<(t|0))}if((o[e+28>>2]|0)<0?(o[e+32>>2]|0)<0:0){t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+32>>2]=0}o[e+28>>2]=0;if((o[e+48>>2]|0)<0?(o[e+52>>2]|0)<0:0){t=o[e+56>>2]|0;if(t|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=0;o[e+52>>2]=0}o[e+48>>2]=0;if((o[e+68>>2]|0)<0?(o[e+72>>2]|0)<0:0){t=o[e+76>>2]|0;if(t|0){if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+76>>2]=0}n[e+80>>0]=1;o[e+76>>2]=0;o[e+72>>2]=0}o[e+68>>2]=0;if((o[e+88>>2]|0)<0?(o[e+92>>2]|0)<0:0){t=o[e+96>>2]|0;if(t|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=0;o[e+92>>2]=0}o[e+88>>2]=0;if((o[e+8>>2]|0)>=0){o[e+8>>2]=0;ae=h;return 0.0}if((o[e+12>>2]|0)>=0){o[e+8>>2]=0;ae=h;return 0.0}t=o[e+16>>2]|0;if(t|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=0;o[e+12>>2]=0;o[e+8>>2]=0;ae=h;return 0.0}function us(e){e=e|0;var t=0.0,i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0;l=o[e+372>>2]|0;e:do{switch(o[l+32>>2]|0){case 1:{c[l+20>>2]=0.0;_=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=_;_=o[e+348+(_<<2)>>2]|0;o[l+4>>2]=_;o[l+32>>2]=2;Gi(e,1.0,0.0,0.0,_);if(us(e)|0){_=1;return _|0}l=o[e+372>>2]|0;_=(o[l+32>>2]|0)+-1|0;o[l+32>>2]=_;_=o[l+(_<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=_;l=o[e+372>>2]|0;u=o[l+32>>2]|0;c[l+16+(u<<2)>>2]=0.0;o[l+(u<<2)>>2]=_;o[l+32>>2]=u+1;Gi(e,-1.0,-0.0,-0.0,_);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,0.0,1.0,0.0,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-0.0,-1.0,-0.0,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,0.0,0.0,1.0,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-0.0,-0.0,-1.0,u);if(us(e)|0){u=1;return u|0}else{u=o[e+372>>2]|0;_=(o[u+32>>2]|0)+-1|0;o[u+32>>2]=_;_=o[u+(_<<2)>>2]|0;u=o[e+364>>2]|0;o[e+364>>2]=u+1;o[e+348+(u<<2)>>2]=_;break e}}case 2:{_=o[l+4>>2]|0;u=o[l>>2]|0;i=+c[_+16>>2]-+c[u+16>>2];r=+c[_+20>>2]-+c[u+20>>2];n=+c[_+24>>2]-+c[u+24>>2];t=r*0.0-n*0.0;do{if((i*0.0-r)*(i*0.0-r)+(t*t+(n-i*0.0)*(n-i*0.0))>0.0){c[l+24>>2]=0.0;u=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=u;u=o[e+348+(u<<2)>>2]|0;o[l+8>>2]=u;o[l+32>>2]=3;Gi(e,t,n-i*0.0,i*0.0-r,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-t,-(n-i*0.0),-(i*0.0-r),u);if(us(e)|0){u=1;return u|0}else{u=o[e+372>>2]|0;_=(o[u+32>>2]|0)+-1|0;o[u+32>>2]=_;_=o[u+(_<<2)>>2]|0;u=o[e+364>>2]|0;o[e+364>>2]=u+1;o[e+348+(u<<2)>>2]=_;break}}}while(0);t=n*0.0-i*0.0;do{if((i-r*0.0)*(i-r*0.0)+((r*0.0-n)*(r*0.0-n)+t*t)>0.0){_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;u=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=u;u=o[e+348+(u<<2)>>2]|0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,r*0.0-n,t,i-r*0.0,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-(r*0.0-n),-t,-(i-r*0.0),u);if(us(e)|0){u=1;return u|0}else{u=o[e+372>>2]|0;_=(o[u+32>>2]|0)+-1|0;o[u+32>>2]=_;_=o[u+(_<<2)>>2]|0;u=o[e+364>>2]|0;o[e+364>>2]=u+1;o[e+348+(u<<2)>>2]=_;break}}}while(0);t=i*0.0-r*0.0;if(t*t+((r-n*0.0)*(r-n*0.0)+(n*0.0-i)*(n*0.0-i))>0.0){_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;u=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=u;u=o[e+348+(u<<2)>>2]|0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,r-n*0.0,n*0.0-i,t,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-(r-n*0.0),-(n*0.0-i),-t,u);if(us(e)|0){u=1;return u|0}else{u=o[e+372>>2]|0;_=(o[u+32>>2]|0)+-1|0;o[u+32>>2]=_;_=o[u+(_<<2)>>2]|0;u=o[e+364>>2]|0;o[e+364>>2]=u+1;o[e+348+(u<<2)>>2]=_;break e}}break}case 3:{u=o[l+4>>2]|0;_=o[l>>2]|0;t=+c[_+16>>2];i=+c[u+16>>2]-t;s=+c[_+20>>2];a=+c[u+20>>2]-s;n=+c[_+24>>2];r=+c[u+24>>2]-n;u=o[l+8>>2]|0;t=+c[u+16>>2]-t;s=+c[u+20>>2]-s;n=+c[u+24>>2]-n;if((i*s-a*t)*(i*s-a*t)+((a*n-r*s)*(a*n-r*s)+(r*t-i*n)*(r*t-i*n))>0.0){c[l+28>>2]=0.0;u=(o[e+364>>2]|0)+-1|0;o[e+364>>2]=u;u=o[e+348+(u<<2)>>2]|0;o[l+12>>2]=u;o[l+32>>2]=4;Gi(e,a*n-r*s,r*t-i*n,i*s-a*t,u);if(us(e)|0){u=1;return u|0}_=o[e+372>>2]|0;u=(o[_+32>>2]|0)+-1|0;o[_+32>>2]=u;u=o[_+(u<<2)>>2]|0;o[e+348+(o[e+364>>2]<<2)>>2]=u;_=o[e+372>>2]|0;l=o[_+32>>2]|0;c[_+16+(l<<2)>>2]=0.0;o[_+(l<<2)>>2]=u;o[_+32>>2]=l+1;Gi(e,-(a*n-r*s),-(r*t-i*n),-(i*s-a*t),u);if(us(e)|0){u=1;return u|0}else{u=o[e+372>>2]|0;_=(o[u+32>>2]|0)+-1|0;o[u+32>>2]=_;_=o[u+(_<<2)>>2]|0;u=o[e+364>>2]|0;o[e+364>>2]=u+1;o[e+348+(u<<2)>>2]=_;break e}}break}case 4:{u=o[l>>2]|0;_=o[l+12>>2]|0;a=+c[_+16>>2];h=+c[u+16>>2]-a;f=+c[_+20>>2];t=+c[u+20>>2]-f;n=+c[_+24>>2];r=+c[u+24>>2]-n;u=o[l+4>>2]|0;i=+c[u+16>>2]-a;s=+c[u+20>>2]-f;d=+c[u+24>>2]-n;u=o[l+8>>2]|0;a=+c[u+16>>2]-a;f=+c[u+20>>2]-f;n=+c[u+24>>2]-n;if(!((0.0!=0.0?1:h*s*n+(t*d*a+r*i*f-h*d*f-t*i*n)-r*s*a!=h*s*n+(t*d*a+r*i*f-h*d*f-t*i*n)-r*s*a)|h*s*n+(t*d*a+r*i*f-h*d*f-t*i*n)-r*s*a==0.0)){u=1;return u|0}break}default:{}}}while(0);u=0;return u|0}function fs(e,t,i,s,a){e=e|0;t=t|0;i=i|0;s=s|0;a=a|0;var c=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0;C=ae;ae=ae+64|0;o[C+56>>2]=t;v=C+40|0;t=0;c=0;f=0;e:while(1){do{if((t|0)>-1)t=(c|0)>(2147483647-t|0)?-1:c+t|0;m=o[C+56>>2]|0;c=n[m>>0]|0;if(!(c<<24>>24)){y=89;break e}_=m;t:while(1){switch(c<<24>>24){case 37:{y=8;break t}case 0:{c=_;break t}default:{}}g=_+1|0;o[C+56>>2]=g;c=n[g>>0]|0;_=g}t:do{if((y|0)==8){y=0;u=_;c=_;do{if((n[u+1>>0]|0)!=37)break t;c=c+1|0;u=u+2|0;o[C+56>>2]=u}while((n[u>>0]|0)==37)}}while(0);c=c-m|0;if(e|0)OT(e,m,c)}while((c|0)!=0);u=o[C+56>>2]|0;c=n[u+1>>0]|0;if(!(oL(c)|0)){_=1;b=-1;h=f}else{h=(n[u+2>>0]|0)==36;_=h?3:1;b=h?c+-48|0:-1;h=h?1:f}_=u+_|0;o[C+56>>2]=_;c=n[_>>0]|0;if(((c<<24>>24)+-32|0)>>>0>31|(1<<(c<<24>>24)+-32&75913|0)==0)d=0;else{u=0;f=(c<<24>>24)+-32|0;do{u=1<<f|u;_=_+1|0;o[C+56>>2]=_;c=n[_>>0]|0;f=(c<<24>>24)+-32|0}while(!(f>>>0>31|(1<<f&75913|0)==0));d=u}if(c<<24>>24==42){u=_+1|0;c=n[u>>0]|0;if((oL(c)|0)!=0?(n[_+2>>0]|0)==36:0){o[a+(c+-48<<2)>>2]=10;f=1;c=_+3|0;_=o[s+((n[u>>0]|0)+-48<<3)>>2]|0}else{if(h|0){t=-1;break}if(e|0){f=(o[i>>2]|0)+(4-1)&~(4-1);_=o[f>>2]|0;o[i>>2]=f+4;f=0;c=u}else{f=0;c=u;_=0}}o[C+56>>2]=c;A=(_|0)<0;u=c;d=A?d|8192:d;g=f;A=A?0-_|0:_}else{c=Md(C+56|0)|0;if((c|0)<0){t=-1;break}u=o[C+56>>2]|0;g=h;A=c}do{if((n[u>>0]|0)==46){c=u+1|0;if((n[c>>0]|0)!=42){o[C+56>>2]=c;f=Md(C+56|0)|0;c=o[C+56>>2]|0;break}c=u+2|0;_=n[c>>0]|0;if(oL(_)|0?(n[u+3>>0]|0)==36:0){o[a+(_+-48<<2)>>2]=10;f=o[s+((n[c>>0]|0)+-48<<3)>>2]|0;c=u+4|0;o[C+56>>2]=c;break}if(g|0){t=-1;break e}if(e|0){p=(o[i>>2]|0)+(4-1)&~(4-1);_=o[p>>2]|0;o[i>>2]=p+4}else _=0;o[C+56>>2]=c;f=_}else{c=u;f=-1}}while(0);p=0;while(1){if(((n[c>>0]|0)+-65|0)>>>0>57){t=-1;break e}_=c+1|0;o[C+56>>2]=_;u=n[(n[c>>0]|0)+-65+(16+(p*58|0))>>0]|0;if(((u&255)+-1|0)>>>0<8){c=_;p=u&255}else break}if(!(u<<24>>24)){t=-1;break}_=(b|0)>-1;do{if(u<<24>>24==19){if(_){t=-1;break e}else y=50}else{if(_){o[a+(b<<2)>>2]=u&255;b=s+(b<<3)|0;y=o[b+4>>2]|0;o[C+40>>2]=o[b>>2];o[C+40+4>>2]=y;y=50;break}if(!e){t=0;break e}li(C+40|0,u&255,i);y=51}}while(0);if((y|0)==50){y=0;if(e|0)y=51;else c=0}t:do{if((y|0)==51){y=0;u=n[c>>0]|0;u=(p|0)!=0&(u&15|0)==3?u&-33:u;c=d&-65537;h=(d&8192|0)==0?d:c;i:do{switch(u|0){case 110:switch((p&255)<<24>>24){case 0:{o[o[C+40>>2]>>2]=t;c=0;break t}case 1:{o[o[C+40>>2]>>2]=t;c=0;break t}case 2:{c=o[C+40>>2]|0;o[c>>2]=t;o[c+4>>2]=((t|0)<0)<<31>>31;c=0;break t}case 3:{r[o[C+40>>2]>>1]=t;c=0;break t}case 4:{n[o[C+40>>2]>>0]=t;c=0;break t}case 6:{o[o[C+40>>2]>>2]=t;c=0;break t}case 7:{c=o[C+40>>2]|0;o[c>>2]=t;o[c+4>>2]=((t|0)<0)<<31>>31;c=0;break t}default:{c=0;break t}}case 112:{c=h|8;_=f>>>0>8?f:8;d=120;y=63;break}case 88:case 120:{c=h;_=f;d=u;y=63;break}case 111:{b=o[C+40>>2]|0;m=o[C+40+4>>2]|0;u=Mp(b,m,C+40|0)|0;p=u;c=h;f=(h&8|0)==0|(f|0)>(v-u|0)?f:v-u+1|0;u=0;_=22162;y=69;break}case 105:case 100:{c=o[C+40>>2]|0;_=o[C+40+4>>2]|0;if((_|0)<0){c=vy(0,0,c|0,_|0)|0;_=D()|0;o[C+40>>2]=c;o[C+40+4>>2]=_;u=1;d=22162;y=68;break i}else{u=(h&2049|0)!=0&1;d=(h&2048|0)==0?(h&1|0)==0?22162:22164:22163;y=68;break i}}case 117:{c=o[C+40>>2]|0;_=o[C+40+4>>2]|0;u=0;d=22162;y=68;break}case 99:{n[C+39>>0]=o[C+40>>2];p=C+39|0;h=c;d=1;u=0;_=22162;c=v;break}case 115:{b=o[C+40>>2]|0;b=(b|0)==0?22172:b;m=Ya(b,f)|0;p=b;h=c;d=(m|0)==0?f:m-b|0;u=0;_=22162;c=(m|0)==0?b+f|0:m;break}case 67:{o[C+48>>2]=o[C+40>>2];o[C+48+4>>2]=0;o[C+40>>2]=C+48;u=C+48|0;f=-1;y=76;break}case 83:if(!f){Tu(e,32,A,0,h);c=0;y=86;break i}else{u=o[C+40>>2]|0;y=76;break i}case 65:case 71:case 70:case 69:case 97:case 103:case 102:case 101:{c=ls(e,+l[C+40>>3],A,f,h,u)|0;break t}default:{p=m;d=f;u=0;_=22162;c=v}}}while(0);i:do{if((y|0)==63){b=o[C+40>>2]|0;m=o[C+40+4>>2]|0;p=Rh(b,m,C+40|0,d&32)|0;h=(c&8|0)==0|(b|0)==0&(m|0)==0;f=_;u=h?0:2;_=h?22162:22162+(4?d>>>4:d)|0;y=69}else if((y|0)==68){b=c;m=_;p=y_(c,_,C+40|0)|0;c=h;_=d;y=69}else if((y|0)==76){y=0;c=0;d=u;while(1){_=o[d>>2]|0;if(!_)break;_=JT(C+60|0,_)|0;if((_|0)<0|_>>>0>(f-c|0)>>>0){y=80;break}c=_+c|0;if(f>>>0>c>>>0)d=d+4|0;else break}if((y|0)==80){y=0;if((_|0)<0){t=-1;break e}}Tu(e,32,A,c,h);if(!c){c=0;y=86}else{f=0;while(1){_=o[u>>2]|0;if(!_){y=86;break i}_=JT(C+60|0,_)|0;f=_+f|0;if((f|0)>(c|0)){y=86;break i}OT(e,C+60|0,_);if(f>>>0>=c>>>0){y=86;break}else u=u+4|0}}}}while(0);if((y|0)==69){y=0;d=(b|0)!=0|(m|0)!=0;m=(f|0)!=0|d;d=v-p+((d^1)&1)|0;p=m?p:C+40|0;h=(f|0)>-1?c&-65537:c;d=m?(f|0)>(d|0)?f:d:0;c=v}else if((y|0)==86){y=0;Tu(e,32,A,c,h^8192);c=(A|0)>(c|0)?A:c;break}b=c-p|0;d=(d|0)<(b|0)?b:d;m=d+u|0;c=(A|0)<(m|0)?m:A;Tu(e,32,c,m,h);OT(e,_,u);Tu(e,48,c,m,h^65536);Tu(e,48,d,b,0);OT(e,p,b);Tu(e,32,c,m,h^8192)}}while(0);f=g}e:do{if((y|0)==89)if(!e)if(!f)t=0;else{t=1;while(1){c=o[a+(t<<2)>>2]|0;if(!c)break;li(s+(t<<3)|0,c,i);t=t+1|0;if(t>>>0>=10){t=1;break e}}c=0;while(1){t=t+1|0;if(c|0){t=-1;break e}if(t>>>0>=10){t=1;break e}c=o[a+(t<<2)>>2]|0}}}while(0);ae=C;return t|0}function ds(e,t){e=e|0;t=+t;var i=0,n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0,A=0.0,g=0.0,y=0.0,v=0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0;d=ae;ae=ae+48|0;i=o[e+24>>2]|0;if((i|0)<=0){ae=d;return}f=0;e:while(1){u=o[(o[e+32>>2]|0)+(f<<2)>>2]|0;switch(o[u+216>>2]|0){case 2:case 5:break;default:{ur(u,0);i=o[u+732>>2]|0;if((i|0)>0){n=0;do{_=o[u+740>>2]|0;a=o[_+(n*52|0)+12>>2]|0;l=o[_+(n*52|0)+8>>2]|0;E=+c[a+24>>2]-+c[l+24>>2];C=+c[a+28>>2]-+c[l+28>>2];t=+c[a+32>>2]-+c[l+32>>2];c[_+(n*52|0)+36>>2]=E;c[_+(n*52|0)+40>>2]=C;c[_+(n*52|0)+44>>2]=t;c[_+(n*52|0)+48>>2]=0.0;c[_+(n*52|0)+32>>2]=1.0/(+c[_+(n*52|0)+24>>2]*(E*E+C*C+t*t));n=n+1|0}while((n|0)!=(i|0))}i=o[u+792>>2]|0;if((i|0)>0){t=+c[u+452>>2];r=0;do{_=o[u+800>>2]|0;n=_+(r*96|0)+20|0;a=o[n>>2]|0;R=+c[_+(r*96|0)+4>>2];T=+c[_+(r*96|0)+8>>2];E=+c[_+(r*96|0)+12>>2];S=+c[a+4>>2]*R+ +c[a+8>>2]*T+ +c[a+12>>2]*E;C=R*+c[a+20>>2]+T*+c[a+24>>2]+E*+c[a+28>>2];E=R*+c[a+36>>2]+T*+c[a+40>>2]+E*+c[a+44>>2];l=_+(r*96|0)|0;Ve(d,t,+c[(o[l>>2]|0)+88>>2],+c[a+344>>2],a+264|0,S,C,E);a=_+(r*96|0)+28|0;o[a>>2]=o[d>>2];o[a+4>>2]=o[d+4>>2];o[a+8>>2]=o[d+8>>2];o[a+12>>2]=o[d+12>>2];a=_+(r*96|0)+44|0;o[a>>2]=o[d+16>>2];o[a+4>>2]=o[d+16+4>>2];o[a+8>>2]=o[d+16+8>>2];o[a+12>>2]=o[d+16+12>>2];a=_+(r*96|0)+60|0;o[a>>2]=o[d+32>>2];o[a+4>>2]=o[d+32+4>>2];o[a+8>>2]=o[d+32+8>>2];o[a+12>>2]=o[d+32+12>>2];c[_+(r*96|0)+76>>2]=S;c[_+(r*96|0)+80>>2]=C;c[_+(r*96|0)+84>>2]=E;c[_+(r*96|0)+88>>2]=0.0;t=+c[u+452>>2];c[_+(r*96|0)+92>>2]=t*+c[(o[l>>2]|0)+88>>2];n=o[n>>2]|0;if(!(o[n+204>>2]&3)){if((o[n+216>>2]&-2|0)!=4)o[n+216>>2]=1;c[n+220>>2]=0.0}r=r+1|0}while((r|0)!=(i|0))}i=o[u+372>>2]|0;if((i|0)>0){n=o[u+396>>2]|0;r=0;do{if((n|0)>0){i=0;do{TF[((o[(o[u+404>>2]|0)+(i<<2)>>2]|0)==0?23:0)&31](u,1.0);i=i+1|0;n=o[u+396>>2]|0}while((i|0)<(n|0));i=o[u+372>>2]|0}r=r+1|0}while((r|0)<(i|0));i=o[u+712>>2]|0;if((i|0)>0){n=0;do{_=o[u+720>>2]|0;S=+c[u+452>>2];T=S*+c[_+(n*104|0)+44>>2]+ +c[_+(n*104|0)+28>>2];R=S*+c[_+(n*104|0)+48>>2]+ +c[_+(n*104|0)+32>>2];c[_+(n*104|0)+8>>2]=+c[_+(n*104|0)+40>>2]*S+ +c[_+(n*104|0)+24>>2];c[_+(n*104|0)+12>>2]=T;c[_+(n*104|0)+16>>2]=R;c[_+(n*104|0)+20>>2]=0.0;n=n+1|0}while((n|0)!=(i|0))}}i=o[u+376>>2]|0;if((i|0)>0){n=o[u+416>>2]|0;s=0;do{t=+(s|0)/+(i|0);if((n|0)>0){r=0;do{switch(o[(o[u+424>>2]|0)+(r<<2)>>2]|0){case 1:{i=2;break}case 0:{i=3;break}case 2:{i=4;break}case 3:{i=5;break}default:{v=37;break e}}RF[i&7](u,1.0,t);r=r+1|0;n=o[u+416>>2]|0}while((r|0)<(n|0));i=o[u+376>>2]|0}s=s+1|0}while((s|0)<(i|0));t=+c[u+456>>2]*(1.0-+c[u+296>>2]);i=o[u+712>>2]|0;if((i|0)>0){n=0;do{_=o[u+720>>2]|0;T=t*(+c[_+(n*104|0)+12>>2]-+c[_+(n*104|0)+28>>2]);R=t*(+c[_+(n*104|0)+16>>2]-+c[_+(n*104|0)+32>>2]);c[_+(n*104|0)+40>>2]=t*(+c[_+(n*104|0)+8>>2]-+c[_+(n*104|0)+24>>2]);c[_+(n*104|0)+44>>2]=T;c[_+(n*104|0)+48>>2]=R;_=_+(n*104|0)+52|0;n=n+1|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0}while((n|0)!=(i|0))}}i=o[u+380>>2]|0;if((i|0)>0){t=+c[u+292>>2]*+c[u+456>>2];n=o[u+712>>2]|0;if((n|0)>0){i=0;do{_=o[u+720>>2]|0;l=_+(i*104|0)+8|0;_=_+(i*104|0)+24|0;o[_>>2]=o[l>>2];o[_+4>>2]=o[l+4>>2];o[_+8>>2]=o[l+8>>2];o[_+12>>2]=o[l+12>>2];i=i+1|0}while((i|0)!=(n|0));i=o[u+380>>2]|0;if((i|0)>0)v=45}else v=45;if((v|0)==45){v=0;n=o[u+436>>2]|0;s=0;do{if((n|0)>0){r=0;do{switch(o[(o[u+444>>2]|0)+(r<<2)>>2]|0){case 1:{i=2;break}case 0:{i=3;break}case 2:{i=4;break}case 3:{i=5;break}default:{v=56;break e}}RF[i&7](u,1.0,0.0);r=r+1|0;n=o[u+436>>2]|0}while((r|0)<(n|0));i=o[u+380>>2]|0}s=s+1|0}while((s|0)<(i|0))}i=o[u+712>>2]|0;if((i|0)>0){n=o[u+720>>2]|0;r=0;do{T=t*(+c[n+(r*104|0)+12>>2]-+c[n+(r*104|0)+28>>2]);R=t*(+c[n+(r*104|0)+16>>2]-+c[n+(r*104|0)+32>>2]);_=n+(r*104|0)+40|0;c[_>>2]=t*(+c[n+(r*104|0)+8>>2]-+c[n+(r*104|0)+24>>2])+ +c[_>>2];_=n+(r*104|0)+44|0;c[_>>2]=T+ +c[_>>2];_=n+(r*104|0)+48|0;c[_>>2]=R+ +c[_>>2];r=r+1|0}while((r|0)!=(i|0))}}r=o[u+1112>>2]|0;if((r|0)>0){s=o[u+1120>>2]|0;l=0;do{a=o[s+(l<<2)>>2]|0;if(+c[a+352>>2]>0.0?(m=o[a+24>>2]|0,(m|0)>0):0){i=o[a+32>>2]|0;_=0;do{n=o[i+(_<<2)>>2]|0;if(+c[n+88>>2]>0.0?(h=+c[n+24>>2]-+c[a+228>>2],b=+c[n+28>>2]-+c[a+232>>2],y=+c[n+32>>2]-+c[a+236>>2],g=+c[a+336>>2],R=+c[a+340>>2],p=+c[a+332>>2],A=+c[a+316>>2]+(g*y-b*R),y=+c[a+320>>2]+(h*R-y*p),g=b*p-h*g+ +c[a+324>>2],h=+c[n+40>>2],p=+c[n+44>>2],b=+c[n+48>>2],A*A+y*y+g*g<=h*h+p*p+b*b):0){R=+c[a+352>>2];c[n+40>>2]=h+(A-h)*R;c[n+44>>2]=p+(y-p)*R;c[n+48>>2]=b+(g-b)*R}_=_+1|0}while((_|0)!=(m|0))}l=l+1|0}while((l|0)!=(r|0))}ur(u,1);i=o[e+24>>2]|0}}f=f+1|0;if((f|0)>=(i|0)){v=3;break}}if((v|0)==3){ae=d;return}}function hs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,C=0,E=0,S=0,T=0.0,R=0.0,M=0.0;if((t|0)<=1){S=0;return S|0}E=o[e+712>>2]|0;S=O(E,E)|0;S=WL(S>>>0>1073741823?-1:S<<2)|0;if((E|0)>0){l=0;do{_=O(l,E)|0;s=S+(l+_<<2)|0;a=0;do{r=S+((O(a,E)|0)+l<<2)|0;if((a|0)==(l|0)){o[r>>2]=0;o[s>>2]=0}else{o[r>>2]=2147483647;o[S+(a+_<<2)>>2]=2147483647}a=a+1|0}while((a|0)!=(E|0));l=l+1|0}while((l|0)!=(E|0))}r=o[e+732>>2]|0;if((r|0)>0){s=o[e+740>>2]|0;a=o[e+720>>2]|0;l=0;do{p=((o[s+(l*52|0)+8>>2]|0)-a|0)/104|0;g=((o[s+(l*52|0)+12>>2]|0)-a|0)/104|0;o[S+((O(g,E)|0)+p<<2)>>2]=1;o[S+((O(p,E)|0)+g<<2)>>2]=1;l=l+1|0}while((l|0)!=(r|0))}do{if((t|0)!=2){if((E|0)>0){f=0;do{d=O(f,E)|0;_=0;do{u=_;_=_+1|0;if((_|0)<(E|0)){h=O(u,E)|0;s=S+(h+f<<2)|0;l=_;do{r=(o[s>>2]|0)+(o[S+(l+d<<2)>>2]|0)|0;a=S+(l+h<<2)|0;if((o[a>>2]|0)>>>0>r>>>0){o[S+((O(l,E)|0)+u<<2)>>2]=r;o[a>>2]=r}l=l+1|0}while((l|0)!=(E|0))}}while((_|0)!=(E|0));f=f+1|0}while((f|0)!=(E|0));b=97}else r=0}else{if((E|0)<0)ee();if((E|0)>0){o[6747]=(o[6747]|0)+1;r=Do((E*20|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=0;do{n[s+(r*20|0)+16>>0]=1;o[s+(r*20|0)+12>>2]=0;g=s+(r*20|0)+4|0;o[g>>2]=0;o[s+(r*20|0)+8>>2]=0;o[g>>2]=0;r=r+1|0}while((r|0)!=(E|0));g=s}else g=0;if((o[e+732>>2]|0)>0){d=0;do{f=o[e+740>>2]|0;p=o[e+720>>2]|0;h=((o[f+(d*52|0)+8>>2]|0)-p|0)/104|0;p=((o[f+(d*52|0)+12>>2]|0)-p|0)/104|0;f=g+(h*20|0)+4|0;r=o[f>>2]|0;e:do{if((r|0)>0){a=o[g+(h*20|0)+12>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(p|0))break;s=s+1|0;if((s|0)>=(r|0)){b=28;break e}}if((s|0)==(r|0))b=28}else b=28}while(0);if((b|0)==28){b=0;u=g+(h*20|0)+8|0;if((r|0)==(o[u>>2]|0)?(A=(r|0)==0?1:r<<1,(r|0)<(A|0)):0){if(!A)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((A<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[f>>2]|0}_=g+(h*20|0)+12|0;l=o[_>>2]|0;if((r|0)<=0){if(!l)a=g+(h*20|0)+16|0;else b=39}else{a=0;do{o[s+(a<<2)>>2]=o[l+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0));b=39}if((b|0)==39){b=0;a=g+(h*20|0)+16|0;if(n[a>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[_>>2]=0;r=o[f>>2]|0}n[a>>0]=1;o[_>>2]=s;o[u>>2]=A}o[(o[g+(h*20|0)+12>>2]|0)+(r<<2)>>2]=p;o[f>>2]=(o[f>>2]|0)+1}f=g+(p*20|0)+4|0;r=o[f>>2]|0;e:do{if((r|0)>0){a=o[g+(p*20|0)+12>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(h|0))break;s=s+1|0;if((s|0)>=(r|0)){b=49;break e}}if((s|0)==(r|0))b=49}else b=49}while(0);if((b|0)==49){b=0;u=g+(p*20|0)+8|0;if((r|0)==(o[u>>2]|0)?(m=(r|0)==0?1:r<<1,(r|0)<(m|0)):0){if(!m)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((m<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[f>>2]|0}_=g+(p*20|0)+12|0;l=o[_>>2]|0;if((r|0)<=0){if(!l)a=g+(p*20|0)+16|0;else b=60}else{a=0;do{o[s+(a<<2)>>2]=o[l+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0));b=60}if((b|0)==60){b=0;a=g+(p*20|0)+16|0;if(n[a>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[_>>2]=0;r=o[f>>2]|0}n[a>>0]=1;o[_>>2]=s;o[u>>2]=m}o[(o[g+(p*20|0)+12>>2]|0)+(r<<2)>>2]=h;o[f>>2]=(o[f>>2]|0)+1}d=d+1|0}while((d|0)<(o[e+732>>2]|0))}if((E|0)<=0){if(!g){r=0;break}}else{p=0;do{b=g+(p*20|0)+4|0;r=o[b>>2]|0;if((r|0)>0){m=O(p,E)|0;h=o[g+(p*20|0)+12>>2]|0;d=0;do{u=o[h+(d<<2)>>2]|0;f=g+(u*20|0)+4|0;s=o[f>>2]|0;if((s|0)>0){l=o[g+(u*20|0)+12>>2]|0;_=S+((O(u,E)|0)+p<<2)|0;a=0;do{r=o[l+(a<<2)>>2]|0;if((p|0)!=(r|0)?(C=O(r,E)|0,y=(o[S+(C+u<<2)>>2]|0)+(o[_>>2]|0)|0,C=S+(C+p<<2)|0,(o[C>>2]|0)>>>0>y>>>0):0){o[S+(r+m<<2)>>2]=y;o[C>>2]=y;s=o[f>>2]|0}a=a+1|0}while((a|0)<(s|0));r=o[b>>2]|0}d=d+1|0}while((d|0)<(r|0))}p=p+1|0}while((p|0)!=(E|0));a=0;do{_=g+(a*20|0)+4|0;l=g+(a*20|0)+12|0;s=o[l>>2]|0;r=g+(a*20|0)+16|0;if(s|0){if(n[r>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[l>>2]=0}n[r>>0]=1;o[l>>2]=0;o[_>>2]=0;o[g+(a*20|0)+8>>2]=0;a=a+1|0}while((a|0)!=(E|0))}o[6748]=(o[6748]|0)+1;Vs(o[g+-4>>2]|0);b=97}}while(0);if((b|0)==97)if((E|0)>0){_=0;r=0;do{a=_;_=_+1|0;if((_|0)<(E|0)){l=O(a,E)|0;s=_;do{if((o[S+(s+l<<2)>>2]|0)==(t|0)){g=o[e+720>>2]|0;bn(e,i);C=(o[e+732>>2]|0)+-1|0;y=o[e+740>>2]|0;o[y+(C*52|0)+8>>2]=g+(s*104|0);o[y+(C*52|0)+12>>2]=g+(a*104|0);M=+c[g+(s*104|0)+8>>2]-+c[g+(a*104|0)+8>>2];R=+c[g+(s*104|0)+12>>2]-+c[g+(a*104|0)+12>>2];T=+c[g+(s*104|0)+16>>2]-+c[g+(a*104|0)+16>>2];c[y+(C*52|0)+16>>2]=+v(+(M*M+R*R+T*T));n[e+924>>0]=1;C=(o[e+740>>2]|0)+(C*52|0)+20|0;n[C>>0]=n[C>>0]|1;r=r+1|0}s=s+1|0}while((s|0)!=(E|0))}}while((_|0)!=(E|0))}else r=0;XL(S);S=r;return S|0}function ps(e,t){e=e|0;t=+t;var i=0,s=0.0,a=0,l=0.0,_=0.0,u=0,f=0,d=0,h=0,p=0.0,b=0.0,m=0,A=0.0,g=0;m=ae;ae=ae+304|0;La(14750);e:do{if((o[e+232>>2]|0)>0){d=m+136+48|0;f=0;while(1){u=o[(o[e+240>>2]|0)+(f<<2)>>2]|0;c[u+244>>2]=1.0;t:do{switch(o[u+216>>2]|0){case 2:case 5:break;default:if(!(o[u+204>>2]&3)){ni(u+4|0,+c[u+312>>2],+c[u+316>>2],+c[u+320>>2],u+328|0,t,m+136|0);s=+c[d>>2]-+c[u+52>>2];_=+c[m+136+52>>2]-+c[u+56>>2];l=+c[m+136+56>>2]-+c[u+60>>2];if(n[e+44>>0]|0?(A=+c[u+252>>2],A*A!=0.0?A*A<s*s+_*_+l*l:0):0){La(14770);if((o[(o[u+192>>2]|0)+4>>2]|0)<20){o[6409]=(o[6409]|0)+1;i=o[e+68>>2]|0;i=dF[o[(o[i>>2]|0)+36>>2]&127](i)|0;a=o[e+24>>2]|0;c[m+200+4>>2]=1.0;o[m+200+12>>2]=o[u+52>>2];o[m+200+12+4>>2]=o[u+52+4>>2];o[m+200+12+8>>2]=o[u+52+8>>2];o[m+200+12+12>>2]=o[u+52+12>>2];o[m+200+28>>2]=o[d>>2];o[m+200+28+4>>2]=o[d+4>>2];o[m+200+28+8>>2]=o[d+8>>2];o[m+200+28+12>>2]=o[d+12>>2];o[m+200+76>>2]=0;o[m+200>>2]=5396;o[m+200+80>>2]=u;o[m+200+88>>2]=i;o[m+200+92>>2]=a;a=o[u+248>>2]|0;o[m+80+8>>2]=0;o[m+80+12>>2]=1065353216;o[m+80+16>>2]=1065353216;o[m+80+20>>2]=1065353216;c[m+80+24>>2]=0.0;o[m+80>>2]=7884;o[m+80+4>>2]=8;o[m+80+28>>2]=a;o[m+80+44>>2]=a;o[m+200+84>>2]=o[e+56>>2];a=o[u+188>>2]|0;r[m+200+8>>1]=r[a+4>>1]|0;r[m+200+10>>1]=r[a+6>>1]|0;o[m+16+48>>2]=o[d>>2];o[m+16+48+4>>2]=o[d+4>>2];o[m+16+48+8>>2]=o[d+8>>2];o[m+16+48+12>>2]=o[d+12>>2];o[m+16>>2]=o[u+4>>2];o[m+16+4>>2]=o[u+4+4>>2];o[m+16+8>>2]=o[u+4+8>>2];o[m+16+12>>2]=o[u+4+12>>2];o[m+16+16>>2]=o[u+20>>2];o[m+16+16+4>>2]=o[u+20+4>>2];o[m+16+16+8>>2]=o[u+20+8>>2];o[m+16+16+12>>2]=o[u+20+12>>2];o[m+16+32>>2]=o[u+36>>2];o[m+16+32+4>>2]=o[u+36+4>>2];o[m+16+32+8>>2]=o[u+36+8>>2];o[m+16+32+12>>2]=o[u+36+12>>2];tr(e,m+80|0,u+4|0,m+16|0,m+200|0,0.0);s=+c[m+200+4>>2];if(s<1.0){c[u+244>>2]=s;ni(u+4|0,+c[u+312>>2],+c[u+316>>2],+c[u+320>>2],u+328|0,s*t,m+136|0);c[u+244>>2]=0.0;ao(u,m+136|0);i=4}else i=0;if(!i)h=12}else h=12;if((h|0)==12){h=0;i=0}a=o[2685]|0;g=(o[a+16>>2]|0)+-1|0;o[a+16>>2]=g;do{if(!g){if(o[a+4>>2]|0){$(m+200|0,0)|0;g=o[6746]|0;c[a+8>>2]=+c[a+8>>2]+ +(((o[m+200+4>>2]|0)-(o[g+4>>2]|0)+(((o[m+200>>2]|0)-(o[g>>2]|0)|0)*1e6|0)-(o[a+12>>2]|0)|0)>>>0)/1.0e3;if(o[a+16>>2]|0)break;a=o[2685]|0}o[2685]=o[a+20>>2]}}while(0);if(i|0)break t}ao(u,m+136|0)}}}while(0);f=f+1|0;if((f|0)>=(o[e+232>>2]|0))break e}}}while(0);do{if(n[e+275>>0]|0){La(14790);if((o[e+308>>2]|0)>0){d=0;do{f=o[(o[e+316>>2]|0)+(d<<2)>>2]|0;u=o[f+740>>2]|0;u=(o[u+236>>2]&2|0)==0?0:u;h=o[f+744>>2]|0;h=(o[h+236>>2]&2|0)==0?0:h;i=o[f+748>>2]|0;if((i|0)>0)if(!u){a=0;do{s=+c[57]*+c[h+228>>2];if(s>0.0?(p=+c[f+4+(a*184|0)+120>>2],p!=0.0):0){_=s*(p*+c[f+4+(a*184|0)+64>>2]);t=s*(p*+c[f+4+(a*184|0)+68>>2]);A=s*(p*+c[f+4+(a*184|0)+72>>2]);s=+c[f+4+(a*184|0)+36>>2]-+c[h+56>>2];l=+c[f+4+(a*184|0)+40>>2]-+c[h+60>>2];c[m+16>>2]=+c[f+4+(a*184|0)+32>>2]-+c[h+52>>2];c[m+16+4>>2]=s;c[m+16+8>>2]=l;c[m+16+12>>2]=0.0;c[m>>2]=_;c[m+4>>2]=t;c[m+8>>2]=A;c[m+12>>2]=0.0;El(h,m,m+16|0);i=o[f+748>>2]|0}a=a+1|0}while((a|0)<(i|0))}else{a=0;do{s=+c[u+228>>2]*+c[h+228>>2];if(s>0.0?(b=+c[f+4+(a*184|0)+120>>2],b!=0.0):0){_=s*(b*+c[f+4+(a*184|0)+64>>2]);t=s*(b*+c[f+4+(a*184|0)+68>>2]);A=s*(b*+c[f+4+(a*184|0)+72>>2]);c[m+200>>2]=-_;c[m+200+4>>2]=-t;c[m+200+8>>2]=-A;c[m+200+12>>2]=0.0;l=+c[f+4+(a*184|0)+52>>2]-+c[u+56>>2];s=+c[f+4+(a*184|0)+56>>2]-+c[u+60>>2];c[m+80>>2]=+c[f+4+(a*184|0)+48>>2]-+c[u+52>>2];c[m+80+4>>2]=l;c[m+80+8>>2]=s;c[m+80+12>>2]=0.0;s=+c[f+4+(a*184|0)+36>>2]-+c[h+56>>2];l=+c[f+4+(a*184|0)+40>>2]-+c[h+60>>2];c[m+16>>2]=+c[f+4+(a*184|0)+32>>2]-+c[h+52>>2];c[m+16+4>>2]=s;c[m+16+8>>2]=l;c[m+16+12>>2]=0.0;El(u,m+200|0,m+80|0);c[m>>2]=_;c[m+4>>2]=t;c[m+8>>2]=A;c[m+12>>2]=0.0;El(h,m,m+16|0);i=o[f+748>>2]|0}a=a+1|0}while((a|0)<(i|0))}d=d+1|0}while((d|0)<(o[e+308>>2]|0))}i=o[2685]|0;g=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=g;if(!g){if(o[i+4>>2]|0){$(m+200|0,0)|0;g=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[m+200+4>>2]|0)-(o[g+4>>2]|0)+(((o[m+200>>2]|0)-(o[g>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}}while(0);i=o[2685]|0;g=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=g;if(g|0){ae=m;return}do{if(o[i+4>>2]|0){$(m+200|0,0)|0;g=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[m+200+4>>2]|0)-(o[g+4>>2]|0)+(((o[m+200>>2]|0)-(o[g>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=m;return}}}while(0);o[2685]=o[i+20>>2];ae=m;return}function bs(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0,u=0,f=0.0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0,g=0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0,D=0,w=0,L=0,F=0,N=0;w=ae;ae=ae+96|0;i=o[e+216>>2]|0;if(+c[i+4>>2]==0.0){D=0;ae=w;return D|0}D=o[t>>2]|0;if(!(pF[o[(o[i>>2]|0)+8>>2]&31](i,o[D+188>>2]|0)|0)){D=1;ae=w;return D|0}t=o[D+192>>2]|0;P=o[e+216>>2]|0;if((o[t+4>>2]|0)!=32){o[w+32>>2]=0;o[w+32+4>>2]=t;o[w+32+8>>2]=D;o[w+32+12>>2]=D+4;o[w+32+16>>2]=-1;o[w+32+20>>2]=-1;as(e+68|0,e+132|0,w+32|0,P);D=1;ae=w;return D|0}if((D|0)==0?1:(o[D+236>>2]|0)!=8){D=1;ae=w;return D|0}t=o[D+752>>2]|0;if(t){if(!(o[D+988>>2]|0)){t=o[D+988+4>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[D+988+4>>2]=0;o[D+988+8>>2]=-1;t=o[D+988+32>>2]|0;if(t|0){if(n[D+988+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[D+988+32>>2]=0}n[D+988+36>>0]=1;o[D+988+32>>2]=0;o[D+988+24>>2]=0;o[D+988+28>>2]=0;o[D+988+16>>2]=0;t=o[D+752>>2]|0;if((t|0)>0){A=0;do{u=o[D+760>>2]|0;d=u+(A*44|0)|0;l=o[u+(A*44|0)+8>>2]|0;g=o[u+(A*44|0)+12>>2]|0;t=o[u+(A*44|0)+16>>2]|0;r=+c[l+8>>2];a=+c[l+12>>2];s=+c[l+16>>2];b=+c[l+20>>2];M=+c[g+8>>2];f=M<r?M:r;x=+c[g+12>>2];m=x<a?x:a;I=+c[g+16>>2];h=I<s?I:s;O=+c[g+20>>2];p=O<b?O:b;r=r<M?M:r;a=a<x?x:a;s=s<I?I:s;b=b<O?O:b;O=+c[t+8>>2];f=O<f?O:f;I=+c[t+12>>2];m=I<m?I:m;x=+c[t+16>>2];h=x<h?x:h;M=+c[t+20>>2];p=M<p?M:p;b=b<M?M:b;r=(r<O?O:r)+0.0;a=(a<I?I:a)+0.0;s=(s<x?x:s)+0.0;t=o[D+988+4>>2]|0;if(!t){o[6747]=(o[6747]|0)+1;t=Do(63)|0;if(!t)t=0;else{o[(t+4+15&-16)+-4>>2]=t;t=t+4+15&-16}i=t;l=i+44|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(l|0))}else o[D+988+4>>2]=0;o[t+32>>2]=0;o[t+36>>2]=d;o[t+40>>2]=0;c[t>>2]=f;c[t+4>>2]=m;c[t+8>>2]=h;c[t+12>>2]=p;c[t+16>>2]=r;c[t+20>>2]=a;c[t+24>>2]=s;c[t+28>>2]=b;de(D+988|0,o[D+988>>2]|0,t);o[D+988+12>>2]=(o[D+988+12>>2]|0)+1;o[u+(A*44|0)+40>>2]=t;A=A+1|0;t=o[D+752>>2]|0}while((A|0)<(t|0));i=D+988|0}else i=D+988|0}else i=D+988|0}else{i=D+988|0;t=0}O=+c[e+180>>2]-+c[e+116>>2];x=+c[e+184>>2]-+c[e+120>>2];I=+c[e+188>>2]-+c[e+124>>2];i=o[i>>2]|0;if(!i){if((t|0)>0){A=o[D+760>>2]|0;s=1.0;r=1.0;l=0;g=0;u=-1;d=1065353216;i=0;do{N=o[A+(g*44|0)+8>>2]|0;F=o[A+(g*44|0)+12>>2]|0;L=o[A+(g*44|0)+16>>2]|0;a=+Wi(e+116|0,O,x,I,+c[N+8>>2],+c[N+12>>2],+c[N+16>>2],+c[F+8>>2],+c[F+12>>2],+c[F+16>>2],+c[L+8>>2],+c[L+12>>2],+c[L+16>>2],s);if(a>0.0){r=a;s=a;l=l+1|0;u=g;d=(c[_>>2]=a,o[_>>2]|0);i=3}g=g+1|0}while((g|0)!=(t|0));t=l}else{r=1.0;t=0;u=-1;d=1065353216;i=0}}else{o[w+32>>2]=4284;o[w+32+4>>2]=o[e+116>>2];o[w+32+4+4>>2]=o[e+116+4>>2];o[w+32+4+8>>2]=o[e+116+8>>2];o[w+32+4+12>>2]=o[e+116+12>>2];c[w+32+36>>2]=O;c[w+32+40>>2]=x;c[w+32+44>>2]=I;c[w+32+48>>2]=0.0;o[w+32+20>>2]=o[e+180>>2];o[w+32+20+4>>2]=o[e+180+4>>2];o[w+32+20+8>>2]=o[e+180+8>>2];o[w+32+20+12>>2]=o[e+180+12>>2];o[w+32+52>>2]=1065353216;o[w+32+56>>2]=0;o[w+32+60>>2]=0;qr(i,e+116|0,e+180|0,w+32|0);t=o[w+32+56>>2]|0;if(!t){r=1.0;l=0;u=-1;d=1065353216;i=0}else{d=o[w+32+52>>2]|0;r=(o[_>>2]=d,+c[_>>2]);l=1;u=(t-(o[D+760>>2]|0)|0)/44|0;i=3}t=l}A=o[D+772>>2]|0;if((A|0)>0){g=o[D+780>>2]|0;l=0;do{N=o[g+(l*104|0)+8>>2]|0;C=+c[N+8>>2];E=+c[N+12>>2];S=+c[N+16>>2];N=o[g+(l*104|0)+12>>2]|0;f=+c[N+8>>2];h=+c[N+12>>2];p=+c[N+16>>2];N=o[g+(l*104|0)+16>>2]|0;T=+c[N+8>>2];R=+c[N+12>>2];M=+c[N+16>>2];s=(o[_>>2]=d,+c[_>>2]);a=+Wi(e+116|0,O,x,I,C,E,S,f,h,p,T,R,M,s);if(a>0.0){s=a;r=a;t=t+1|0;u=l;d=(c[_>>2]=a,o[_>>2]|0);i=4}N=o[g+(l*104|0)+20>>2]|0;b=+c[N+8>>2];m=+c[N+12>>2];y=+c[N+16>>2];s=+Wi(e+116|0,O,x,I,C,E,S,f,h,p,b,m,y,s);if(s>0.0){a=s;r=s;t=t+1|0;u=l;d=(c[_>>2]=s,o[_>>2]|0);i=4}else a=(o[_>>2]=d,+c[_>>2]);s=+Wi(e+116|0,O,x,I,f,h,p,T,R,M,b,m,y,a);if(s>0.0){a=s;r=s;t=t+1|0;u=l;d=(c[_>>2]=s,o[_>>2]|0);i=4}else a=(o[_>>2]=d,+c[_>>2]);s=+Wi(e+116|0,O,x,I,C,E,S,T,R,M,b,m,y,a);if(s>0.0){r=s;t=t+1|0;u=l;d=(c[_>>2]=s,o[_>>2]|0);i=4}l=l+1|0}while((l|0)!=(A|0));b=r}else b=r;if(!t){N=1;ae=w;return N|0}if(!(b<=+c[P+4>>2])){N=1;ae=w;return N|0}o[w+32>>2]=0;o[w+32+4>>2]=u;f=+c[e+180>>2]-+c[e+116>>2];p=+c[e+184>>2]-+c[e+120>>2];h=+c[e+188>>2]-+c[e+124>>2];r=1.0/+v(+(f*f+p*p+h*h));if((i|0)==3){t=o[D+748+12>>2]|0;r=+c[t+(u*44|0)+20>>2];a=+c[t+(u*44|0)+24>>2];s=+c[t+(u*44|0)+28>>2];if(f*r+p*a+h*s>0.0){f=-r;a=-a;s=-s;r=0.0}else{f=r;r=+c[t+(u*44|0)+32>>2]}}else{f=-(f*r);a=-(p*r);s=-(h*r);r=0.0}o[w>>2]=D;o[w+4>>2]=w+32;c[w+8>>2]=f;c[w+12>>2]=a;c[w+16>>2]=s;c[w+20>>2]=r;c[w+24>>2]=b;+sF[o[(o[P>>2]|0)+12>>2]&15](P,w,1);N=1;ae=w;return N|0}function ms(e,t,i){e=e|0;t=t|0;i=+i;var r=0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0,h=0,p=0.0,b=0,m=0;m=ae;ae=ae+112|0;l=o[e+716>>2]|0;if((l|0)==(o[e+712>>2]|0)){e:do{if(l){_=o[e+720>>2]|0;if((l|0)>0){s=_;a=0;while(1){r=o[s+(a*104|0)+96>>2]|0;if(r|0)o[r+36>>2]=a;r=a+1|0;if((r|0)==(l|0))break e;s=o[e+720>>2]|0;a=r}}}else _=0}while(0);r=o[e+732>>2]|0;if((r|0)>0){s=0;do{h=(o[e+740>>2]|0)+(s*52|0)+8|0;o[h>>2]=((o[h>>2]|0)-_|0)/104|0;h=(o[e+740>>2]|0)+(s*52|0)+12|0;o[h>>2]=((o[h>>2]|0)-_|0)/104|0;s=s+1|0}while((s|0)!=(r|0))}r=o[e+752>>2]|0;if((r|0)>0){a=0;do{s=(o[e+760>>2]|0)+(a*44|0)+8|0;o[s>>2]=((o[s>>2]|0)-_|0)/104|0;s=(o[e+760>>2]|0)+(a*44|0)+12|0;o[s>>2]=((o[s>>2]|0)-_|0)/104|0;s=(o[e+760>>2]|0)+(a*44|0)+16|0;o[s>>2]=((o[s>>2]|0)-_|0)/104|0;s=o[(o[e+760>>2]|0)+(a*44|0)+40>>2]|0;if(s|0)o[s+36>>2]=a;a=a+1|0}while((a|0)!=(r|0))}r=o[e+792>>2]|0;if((r|0)>0){s=o[e+800>>2]|0;a=0;do{h=s+(a*96|0)|0;o[h>>2]=((o[h>>2]|0)-_|0)/104|0;a=a+1|0}while((a|0)!=(r|0))}a=o[e+692>>2]|0;if((a|0)>0){r=o[e+700>>2]|0;l=0;do{if((o[r+(l*60|0)+24>>2]|0)>0){s=0;do{r=r+(l*60|0)+28+(s<<2)|0;o[r>>2]=((o[r>>2]|0)-_|0)/104|0;s=s+1|0;r=o[e+700>>2]|0}while((s|0)<(o[r+(l*60|0)+24>>2]|0))}l=l+1|0}while((l|0)!=(a|0))}a=o[e+712>>2]|0;if((o[e+716>>2]|0)<(a<<1|1|0)){o[6747]=(o[6747]|0)+1;r=Do(((a<<1|1)*104|3)+16|0)|0;if(!r)l=0;else{o[(r+4+15&-16)+-4>>2]=r;l=r+4+15&-16}r=o[e+712>>2]|0;if((r|0)>0){s=0;do{d=l+(s*104|0)|0;_=(o[e+720>>2]|0)+(s*104|0)|0;h=d+104|0;do{o[d>>2]=o[_>>2];d=d+4|0;_=_+4|0}while((d|0)<(h|0));s=s+1|0}while((s|0)!=(r|0))}r=o[e+720>>2]|0;if(r|0){if(n[e+724>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+720>>2]=0}n[e+724>>0]=1;o[e+720>>2]=l;o[e+716>>2]=a<<1|1;a=o[e+712>>2]|0}e:do{if(a){l=o[e+720>>2]|0;if((a|0)>0){_=l;r=0;while(1){s=o[_+(r*104|0)+96>>2]|0;if(s|0)o[s+36>>2]=_+(r*104|0);r=r+1|0;if((r|0)==(a|0)){_=l;break e}_=o[e+720>>2]|0}}else _=l}else _=0}while(0);r=o[e+732>>2]|0;if((r|0)>0){s=0;do{h=(o[e+740>>2]|0)+(s*52|0)+8|0;o[h>>2]=_+((o[h>>2]|0)*104|0);h=(o[e+740>>2]|0)+(s*52|0)+12|0;o[h>>2]=_+((o[h>>2]|0)*104|0);s=s+1|0}while((s|0)!=(r|0))}r=o[e+752>>2]|0;if((r|0)>0){l=0;do{s=(o[e+760>>2]|0)+(l*44|0)+8|0;o[s>>2]=_+((o[s>>2]|0)*104|0);s=(o[e+760>>2]|0)+(l*44|0)+12|0;o[s>>2]=_+((o[s>>2]|0)*104|0);s=(o[e+760>>2]|0)+(l*44|0)+16|0;o[s>>2]=_+((o[s>>2]|0)*104|0);s=o[e+760>>2]|0;a=o[s+(l*44|0)+40>>2]|0;if(a|0)o[a+36>>2]=s+(l*44|0);l=l+1|0}while((l|0)!=(r|0))}s=o[e+792>>2]|0;if((s|0)>0){r=o[e+800>>2]|0;a=0;do{h=r+(a*96|0)|0;o[h>>2]=_+((o[h>>2]|0)*104|0);a=a+1|0}while((a|0)!=(s|0))}a=o[e+692>>2]|0;if((a|0)>0){r=o[e+700>>2]|0;l=0;do{if((o[r+(l*60|0)+24>>2]|0)>0){s=0;do{r=r+(l*60|0)+28+(s<<2)|0;o[r>>2]=_+((o[r>>2]|0)*104|0);s=s+1|0;r=o[e+700>>2]|0}while((s|0)<(o[r+(l*60|0)+24>>2]|0))}l=l+1|0}while((l|0)!=(a|0))}}d=o[e+192>>2]|0;p=+nF[o[(o[d>>2]|0)+48>>2]&15](d);d=m;h=d+100|0;do{o[d>>2]=0;d=d+4|0}while((d|0)<(h|0));r=o[e+712>>2]|0;if((r|0)==(o[e+716>>2]|0)?(b=(r|0)==0?1:r<<1,(r|0)<(b|0)):0){if(!b)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((b*104|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+712>>2]|0}if((r|0)>0){a=0;do{d=s+(a*104|0)|0;_=(o[e+720>>2]|0)+(a*104|0)|0;h=d+104|0;do{o[d>>2]=o[_>>2];d=d+4|0;_=_+4|0}while((d|0)<(h|0));a=a+1|0}while((a|0)!=(r|0))}r=o[e+720>>2]|0;if(r|0){if(n[e+724>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[e+720>>2]=0}n[e+724>>0]=1;o[e+720>>2]=s;o[e+716>>2]=b;r=o[e+712>>2]|0}d=o[e+720>>2]|0;o[d+(r*104|0)>>2]=0;d=d+(r*104|0)+4|0;_=m;h=d+100|0;do{o[d>>2]=o[_>>2];d=d+4|0;_=_+4|0}while((d|0)<(h|0));s=o[e+712>>2]|0;o[e+712>>2]=s+1;a=o[e+720>>2]|0;d=a+(s*104|0)|0;h=d+104|0;do{o[d>>2]=0;d=d+4|0}while((d|0)<(h|0));o[a+(s*104|0)+8>>2]=o[t>>2];o[a+(s*104|0)+8+4>>2]=o[t+4>>2];o[a+(s*104|0)+8+8>>2]=o[t+8>>2];o[a+(s*104|0)+8+12>>2]=o[t+12>>2];hh(a+(s*104|0)+24|0,t|0,16)|0;c[a+(s*104|0)+88>>2]=i>0.0?1.0/i:0.0;o[a+(s*104|0)+4>>2]=o[o[e+880>>2]>>2];i=+c[a+(s*104|0)+8>>2];u=+c[a+(s*104|0)+12>>2];f=+c[a+(s*104|0)+16>>2];r=o[e+932>>2]|0;if(r|0){o[e+932>>2]=0;t=r;b=t+32|0;o[b>>2]=0;b=t+36|0;o[b>>2]=a+(s*104|0);b=t+40|0;o[b>>2]=0;c[t>>2]=i-p;b=t+4|0;c[b>>2]=u-p;b=t+8|0;c[b>>2]=f-p;b=t+12|0;c[b>>2]=0.0;b=t+16|0;c[b>>2]=p+i;b=t+20|0;c[b>>2]=p+u;b=t+24|0;c[b>>2]=p+f;b=t+28|0;c[b>>2]=0.0;b=o[e+928>>2]|0;de(e+928|0,b,t);e=e+940|0;b=o[e>>2]|0;b=b+1|0;o[e>>2]=b;e=a+(s*104|0)+96|0;o[e>>2]=t;ae=m;return}o[6747]=(o[6747]|0)+1;r=Do(63)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}d=r;h=d+44|0;do{o[d>>2]=0;d=d+4|0}while((d|0)<(h|0));t=r;b=t+32|0;o[b>>2]=0;b=t+36|0;o[b>>2]=a+(s*104|0);b=t+40|0;o[b>>2]=0;c[t>>2]=i-p;b=t+4|0;c[b>>2]=u-p;b=t+8|0;c[b>>2]=f-p;b=t+12|0;c[b>>2]=0.0;b=t+16|0;c[b>>2]=p+i;b=t+20|0;c[b>>2]=p+u;b=t+24|0;c[b>>2]=p+f;b=t+28|0;c[b>>2]=0.0;b=o[e+928>>2]|0;de(e+928|0,b,t);e=e+940|0;b=o[e>>2]|0;b=b+1|0;o[e>>2]=b;e=a+(s*104|0)+96|0;o[e>>2]=t;ae=m;return}function As(e,t,i,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;var f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0,w=0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0;w=ae;ae=ae+32|0;o[w+12>>2]=a;o[w+12+4>>2]=l;o[w+12+8>>2]=_;o[w>>2]=i;o[w+4>>2]=r;o[w+8>>2]=s;if(!(+c[t+52>>2]<+c[e+12>>2])){u=0;ae=w;return u|0}E=+c[t+36>>2];T=+c[t+40>>2];S=+c[t+44>>2];s=o[t+48>>2]|0;C=1.0/+v(+(E*E+T*T+S*S));_=Rn(w)|0;R=+c[t+4>>2]-+c[_+48>>2];x=+c[t+8>>2]-+c[_+52>>2];O=+c[t+12>>2]-+c[_+56>>2];_=Rn(w+12|0)|0;M=+c[t+20>>2]-+c[_+48>>2];P=+c[t+24>>2]-+c[_+52>>2];I=+c[t+28>>2]-+c[_+56>>2];if(!r){if(!i){h=0.0;m=0.0;p=0.0;f=0.0;d=0.0;b=0.0}else{b=+c[i+336>>2];d=+c[i+340>>2];y=+c[i+332>>2];h=+c[i+316>>2];m=+c[i+320>>2];p=+c[i+324>>2];f=O*b-x*d;d=R*d-O*y;b=x*y-R*b}}else{b=+c[r+332>>2];d=+c[r+336>>2];y=+c[r+328>>2];h=+c[r+312>>2];m=+c[r+316>>2];p=+c[r+320>>2];f=O*b-x*d;d=R*d-O*y;b=x*y-R*b}y=h+f;g=m+d;b=p+b;if(!l){if(!a){m=0.0;A=0.0;f=0.0;d=0.0;h=0.0;p=0.0}else{p=+c[a+336>>2];h=+c[a+340>>2];L=+c[a+332>>2];m=+c[a+316>>2];A=+c[a+320>>2];f=+c[a+324>>2];d=I*p-P*h;h=M*h-I*L;p=P*L-M*p}}else{p=+c[l+332>>2];h=+c[l+336>>2];L=+c[l+328>>2];m=+c[l+312>>2];A=+c[l+316>>2];f=+c[l+320>>2];d=I*p-P*h;h=M*h-I*L;p=P*L-M*p}m=y-(m+d);g=g-(A+h);A=b-(f+p);y=S*C*A+(T*C*g+E*C*m);L=+c[t+52>>2]-+c[e+12>>2];o[u+4>>2]=o[w>>2];o[u+4+4>>2]=o[w+4>>2];o[u+4+8>>2]=o[w+8>>2];o[u+16>>2]=o[w+12>>2];o[u+16+4>>2]=o[w+12+4>>2];o[u+16+8>>2]=o[w+12+8>>2];t=Rn(w)|0;b=R*+c[t+4>>2]+x*+c[t+20>>2]+O*+c[t+36>>2];p=R*+c[t+8>>2]+x*+c[t+24>>2]+O*+c[t+40>>2];c[u+28>>2]=R*+c[t>>2]+x*+c[t+16>>2]+O*+c[t+32>>2];c[u+32>>2]=b;c[u+36>>2]=p;c[u+40>>2]=0.0;t=Rn(w+12|0)|0;p=M*+c[t+4>>2]+P*+c[t+20>>2]+I*+c[t+36>>2];b=M*+c[t+8>>2]+P*+c[t+24>>2]+I*+c[t+40>>2];c[u+44>>2]=M*+c[t>>2]+P*+c[t+16>>2]+I*+c[t+32>>2];c[u+48>>2]=p;c[u+52>>2]=b;c[u+56>>2]=0.0;c[u+164>>2]=R;c[u+168>>2]=x;c[u+172>>2]=O;c[u+176>>2]=0.0;c[u+180>>2]=M;c[u+184>>2]=P;c[u+188>>2]=I;c[u+192>>2]=0.0;c[u+60>>2]=1.0;c[u+64>>2]=1.0;o[u+156>>2]=0;o[u+160>>2]=0;c[u+68>>2]=1.0;c[u+72>>2]=E*C*L;c[u+76>>2]=T*C*L;c[u+80>>2]=S*C*L;c[u+84>>2]=0.0;c[u+196>>2]=E*C;c[u+200>>2]=T*C;c[u+204>>2]=S*C;o[u+208>>2]=s;n[u+152>>0]=0;L=+c[e+16>>2];c[u+212>>2]=(A-S*C*y)*(A-S*C*y)+((m-E*C*y)*(m-E*C*y)+(g-T*C*y)*(g-T*C*y))<L*(y*(y*L))?1.0:L;s=o[w+4>>2]|0;if(!s){s=o[w>>2]|0;if(!s)d=0.0;else{s=s+128|0;D=14}}else{s=s+344|0;D=14}if((D|0)==14)d=+c[s>>2];if((n[24896]|0)==0?PM(24896)|0:0){s=25440;_=s+48|0;do{o[s>>2]=0;s=s+4|0}while((s|0)<(_|0));GR(24896)}s=o[w+4>>2]|0;if(!s){i=o[w>>2]|0;i=(i|0)==0?25440:i+180|0}else i=s+264|0;s=o[w+12+4>>2]|0;if(!s){s=o[w+12>>2]|0;if(!s)f=0.0;else{s=s+128|0;D=25}}else{s=s+344|0;D=25}if((D|0)==25)f=+c[s>>2];if((n[24896]|0)==0?PM(24896)|0:0){s=25440;_=s+48|0;do{o[s>>2]=0;s=s+4|0}while((s|0)<(_|0));GR(24896)}s=o[w+12+4>>2]|0;if(!s){s=o[w+12>>2]|0;s=(s|0)==0?25440:s+180|0}else s=s+264|0;Y=+c[u+172>>2];U=+c[u+168>>2];k=+c[u+164>>2];z=+c[i>>2];X=+c[i+16>>2];W=+c[i+32>>2];G=+c[i+4>>2];V=+c[i+20>>2];j=+c[i+36>>2];H=+c[i+8>>2];B=+c[i+24>>2];N=+c[i+40>>2];M=+c[u+188>>2];y=+c[u+184>>2];C=+c[u+180>>2];F=+c[s>>2];h=+c[s+16>>2];p=+c[s+32>>2];b=+c[s+4>>2];m=+c[s+20>>2];A=+c[s+36>>2];g=+c[s+8>>2];L=+c[s+24>>2];E=+c[s+40>>2];I=d-((z*0.0+X*-Y+U*W)*0.0+Y*(G*0.0+V*-Y+U*j)+(H*0.0+B*-Y+U*N)*-U)+(f-((F*0.0+h*-M+y*p)*0.0+M*(b*0.0+m*-M+y*A)+(g*0.0+L*-M+y*E)*-y));P=0.0-((z*0.0+X*-Y+U*W)*-Y+(G*0.0+V*-Y+U*j)*0.0+k*(H*0.0+B*-Y+U*N))+(0.0-((F*0.0+h*-M+y*p)*-M+(b*0.0+m*-M+y*A)*0.0+C*(g*0.0+L*-M+y*E)));S=0.0-(U*(z*0.0+X*-Y+U*W)+(G*0.0+V*-Y+U*j)*-k+(H*0.0+B*-Y+U*N)*0.0)+(0.0-(y*(F*0.0+h*-M+y*p)+(b*0.0+m*-M+y*A)*-C+(g*0.0+L*-M+y*E)*0.0));x=0.0-((Y*z+X*0.0+W*-k)*0.0+Y*(Y*G+V*0.0+j*-k)+(Y*H+B*0.0+N*-k)*-U)+(0.0-((M*F+h*0.0+p*-C)*0.0+M*(M*b+m*0.0+A*-C)+(M*g+L*0.0+E*-C)*-y));O=d-((Y*z+X*0.0+W*-k)*-Y+(Y*G+V*0.0+j*-k)*0.0+k*(Y*H+B*0.0+N*-k))+(f-((M*F+h*0.0+p*-C)*-M+(M*b+m*0.0+A*-C)*0.0+C*(M*g+L*0.0+E*-C)));T=0.0-(U*(Y*z+X*0.0+W*-k)+(Y*G+V*0.0+j*-k)*-k+(Y*H+B*0.0+N*-k)*0.0)+(0.0-(y*(M*F+h*0.0+p*-C)+(M*b+m*0.0+A*-C)*-C+(M*g+L*0.0+E*-C)*0.0));R=0.0-((z*-U+k*X+W*0.0)*0.0+Y*(G*-U+k*V+j*0.0)+(H*-U+k*B+N*0.0)*-U)+(0.0-((F*-y+C*h+p*0.0)*0.0+M*(b*-y+C*m+A*0.0)+(g*-y+C*L+E*0.0)*-y));M=0.0-((z*-U+k*X+W*0.0)*-Y+(G*-U+k*V+j*0.0)*0.0+k*(H*-U+k*B+N*0.0))+(0.0-((F*-y+C*h+p*0.0)*-M+(b*-y+C*m+A*0.0)*0.0+C*(g*-y+C*L+E*0.0)));E=d-(U*(z*-U+k*X+W*0.0)+(G*-U+k*V+j*0.0)*-k+(H*-U+k*B+N*0.0)*0.0)+(f-(y*(F*-y+C*h+p*0.0)+(b*-y+C*m+A*0.0)*-C+(g*-y+C*L+E*0.0)*0.0));L=1.0/(S*(M*x-O*R)+(I*(O*E-T*M)+P*(T*R-E*x)));c[u+104>>2]=(O*E-T*M)*L;c[u+108>>2]=(M*S-E*P)*L;c[u+112>>2]=(T*P-O*S)*L;c[u+116>>2]=0.0;c[u+120>>2]=(T*R-E*x)*L;c[u+124>>2]=(E*I-R*S)*L;c[u+128>>2]=(x*S-T*I)*L;c[u+132>>2]=0.0;c[u+136>>2]=(M*x-O*R)*L;c[u+140>>2]=(R*P-M*I)*L;c[u+144>>2]=(O*I-x*P)*L;c[u+148>>2]=0.0;u=1;ae=w;return u|0}function gs(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,s=0.0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,y=0,v=0.0,C=0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0;C=(n[e+180>>0]|0)==0;if(C?(n[e+48>>0]|0)!=0:0){A=+c[e+116>>2];v=+c[i>>2];T=+c[e+132>>2];S=+c[i+4>>2];M=+c[e+148>>2];R=+c[i+8>>2];b=+c[e+120>>2];x=+c[e+136>>2];P=+c[e+152>>2];h=+c[e+124>>2];F=+c[e+140>>2];p=+c[e+156>>2];E=+c[i+16>>2];f=+c[i+20>>2];d=+c[i+24>>2];L=+c[i+32>>2];m=+c[i+36>>2];O=+c[i+40>>2];s=+c[e+164>>2];r=+c[e+168>>2];w=+c[e+172>>2];D=+c[i+48>>2]+(v*s+S*r+R*w);I=E*s+f*r+d*w+ +c[i+52>>2];w=L*s+m*r+O*w+ +c[i+56>>2];c[e+824>>2]=A*v+T*S+M*R;c[e+828>>2]=v*b+S*x+R*P;c[e+832>>2]=v*h+S*F+R*p;c[e+836>>2]=0.0;c[e+840>>2]=A*E+T*f+M*d;c[e+844>>2]=b*E+x*f+P*d;c[e+848>>2]=h*E+F*f+p*d;c[e+852>>2]=0.0;c[e+856>>2]=A*L+T*m+M*O;c[e+860>>2]=b*L+x*m+P*O;c[e+864>>2]=h*L+F*m+p*O;c[e+868>>2]=0.0;c[e+872>>2]=D;c[e+876>>2]=I;c[e+880>>2]=w;c[e+884>>2]=0.0;w=+c[e+52>>2];I=+c[t>>2];D=+c[e+68>>2];O=+c[t+4>>2];p=+c[e+84>>2];m=+c[t+8>>2];F=+c[e+56>>2];L=+c[e+72>>2];h=+c[e+88>>2];P=+c[e+60>>2];x=+c[e+76>>2];b=+c[e+92>>2];M=+c[t+16>>2];T=+c[t+20>>2];A=+c[t+24>>2];d=+c[t+32>>2];f=+c[t+36>>2];E=+c[t+40>>2];R=+c[e+100>>2];S=+c[e+104>>2];v=+c[e+108>>2];r=d*R+f*S;s=P*d+x*f+b*E;a=I*F+O*L+m*h;l=w*I+D*O+p*m;u=F*d+L*f+h*E;f=w*d+D*f+p*E;d=P*M+x*T+b*A;h=F*M+L*T+h*A;p=w*M+D*T+p*A;b=I*P+O*x+m*b;m=I*R+O*S+m*v;A=M*R+T*S+A*v;g=e+856|0;y=e+840|0;v=E*v}else{A=+c[e+52>>2];v=+c[t>>2];w=+c[e+68>>2];L=+c[t+4>>2];P=+c[e+84>>2];D=+c[t+8>>2];b=+c[e+56>>2];O=+c[e+72>>2];M=+c[e+88>>2];h=+c[e+60>>2];E=+c[e+76>>2];p=+c[e+92>>2];F=+c[t+16>>2];f=+c[t+20>>2];d=+c[t+24>>2];S=+c[t+32>>2];m=+c[t+36>>2];x=+c[t+40>>2];s=+c[e+100>>2];r=+c[e+104>>2];T=+c[e+108>>2];R=+c[t+48>>2]+(v*s+L*r+D*T);I=F*s+f*r+d*T+ +c[t+52>>2];T=S*s+m*r+x*T+ +c[t+56>>2];c[e+824>>2]=A*v+w*L+P*D;c[e+828>>2]=v*b+L*O+D*M;c[e+832>>2]=v*h+L*E+D*p;c[e+836>>2]=0.0;c[e+840>>2]=A*F+w*f+P*d;c[e+844>>2]=b*F+O*f+M*d;c[e+848>>2]=h*F+E*f+p*d;c[e+852>>2]=0.0;c[e+856>>2]=A*S+w*m+P*x;c[e+860>>2]=b*S+O*m+M*x;c[e+864>>2]=h*S+E*m+p*x;c[e+868>>2]=0.0;c[e+872>>2]=R;c[e+876>>2]=I;c[e+880>>2]=T;c[e+884>>2]=0.0;T=+c[e+116>>2];I=+c[i>>2];R=+c[e+132>>2];x=+c[i+4>>2];p=+c[e+148>>2];m=+c[i+8>>2];E=+c[e+120>>2];S=+c[e+136>>2];h=+c[e+152>>2];M=+c[e+124>>2];O=+c[e+140>>2];b=+c[e+156>>2];P=+c[i+16>>2];w=+c[i+20>>2];A=+c[i+24>>2];d=+c[i+32>>2];f=+c[i+36>>2];F=+c[i+40>>2];D=+c[e+164>>2];L=+c[e+168>>2];v=+c[e+172>>2];r=d*D+f*L;s=M*d+O*f+b*F;a=I*E+x*S+m*h;l=T*I+R*x+p*m;u=E*d+S*f+h*F;f=T*d+R*f+p*F;d=M*P+O*w+b*A;h=E*P+S*w+h*A;p=T*P+R*w+p*A;b=I*M+x*O+m*b;m=I*D+x*L+m*v;A=P*D+w*L+A*v;g=e+856|0;y=e+840|0;v=F*v;t=i}L=+c[t+48>>2]+m;F=A+ +c[t+52>>2];r=r+v+ +c[t+56>>2];c[e+888>>2]=l;c[e+892>>2]=a;c[e+896>>2]=b;c[e+900>>2]=0.0;c[e+904>>2]=p;c[e+908>>2]=h;c[e+912>>2]=d;c[e+916>>2]=0.0;c[e+920>>2]=f;c[e+924>>2]=u;c[e+928>>2]=s;c[e+932>>2]=0.0;c[e+936>>2]=L;c[e+940>>2]=F;c[e+944>>2]=r;c[e+948>>2]=0.0;o[e+968>>2]=o[e+872>>2];o[e+968+4>>2]=o[e+872+4>>2];o[e+968+8>>2]=o[e+872+8>>2];o[e+968+12>>2]=o[e+872+12>>2];o[e+984>>2]=o[e+936>>2];o[e+984+4>>2]=o[e+936+4>>2];o[e+984+8>>2]=o[e+936+8>>2];o[e+984+12>>2]=o[e+936+12>>2];t=o[e+824>>2]|0;i=o[y>>2]|0;y=o[g>>2]|0;o[e+952>>2]=t;o[e+956>>2]=i;o[e+960>>2]=y;c[e+964>>2]=0.0;s=(o[_>>2]=t,+c[_>>2]);a=(o[_>>2]=i,+c[_>>2]);r=(o[_>>2]=y,+c[_>>2]);if(C?(n[e+48>>0]|0)==0:0){x=+c[e+968>>2];P=+c[e+972>>2];w=+c[e+976>>2];R=x;M=P;O=w;x=x-+c[e+984>>2];w=w-+c[e+992>>2];P=P-+c[e+988>>2];C=e+1016|0;c[C>>2]=x;C=e+1020|0;c[C>>2]=P;C=e+1024|0;c[C>>2]=w;C=e+1028|0;c[C>>2]=0.0;F=x*s;I=P*a;I=F+I;F=w*r;F=I+F;I=F*s;D=F*a;L=F*r;I=R+I;D=M+D;L=O+L;C=e+1e3|0;c[C>>2]=I;C=e+1004|0;c[C>>2]=D;C=e+1008|0;c[C>>2]=L;C=e+1012|0;c[C>>2]=0.0;C=e+1032|0;c[C>>2]=F;C=e+828|0;y=e+844|0;g=e+860|0;F=+c[C>>2];L=+c[y>>2];D=+c[g>>2];F=x*F;L=P*L;L=F+L;D=w*D;D=L+D;g=e+1036|0;c[g>>2]=D;g=e+832|0;y=e+848|0;C=e+864|0;D=+c[g>>2];L=+c[y>>2];F=+c[C>>2];D=x*D;L=P*L;L=D+L;F=w*F;F=L+F;C=e+1040|0;c[C>>2]=F;return}x=+c[e+968>>2];P=+c[e+972>>2];w=+c[e+976>>2];R=x;M=P;O=w;x=+c[e+984>>2]-x;w=+c[e+992>>2]-w;P=+c[e+988>>2]-P;C=e+1016|0;c[C>>2]=x;C=e+1020|0;c[C>>2]=P;C=e+1024|0;c[C>>2]=w;C=e+1028|0;c[C>>2]=0.0;F=x*s;I=P*a;I=F+I;F=w*r;F=I+F;I=F*s;D=F*a;L=F*r;I=R+I;D=M+D;L=O+L;C=e+1e3|0;c[C>>2]=I;C=e+1004|0;c[C>>2]=D;C=e+1008|0;c[C>>2]=L;C=e+1012|0;c[C>>2]=0.0;C=e+1032|0;c[C>>2]=F;C=e+828|0;y=e+844|0;g=e+860|0;F=+c[C>>2];L=+c[y>>2];D=+c[g>>2];F=x*F;L=P*L;L=F+L;D=w*D;D=L+D;g=e+1036|0;c[g>>2]=D;g=e+832|0;y=e+848|0;C=e+864|0;D=+c[g>>2];L=+c[y>>2];F=+c[C>>2];D=x*D;L=P*L;L=D+L;F=w*F;F=L+F;C=e+1040|0;c[C>>2]=F;return}function ys(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0,p=0.0,b=0.0,m=0.0,A=0,g=0,y=0.0,C=0.0,E=0;g=ae;ae=ae+672|0;o[g+448+8>>2]=0;o[g+448+12>>2]=1065353216;o[g+448+16>>2]=1065353216;o[g+448+20>>2]=1065353216;c[g+448+24>>2]=0.0;o[g+448>>2]=7884;o[g+448+4>>2]=8;c[g+448+28>>2]=0.0;c[g+448+44>>2]=0.0;c[g+384>>2]=1.0;o[g+384+4>>2]=0;o[g+384+4+4>>2]=0;o[g+384+4+8>>2]=0;o[g+384+4+12>>2]=0;c[g+384+20>>2]=1.0;o[g+384+24>>2]=0;o[g+384+24+4>>2]=0;o[g+384+24+8>>2]=0;o[g+384+24+12>>2]=0;c[g+384+40>>2]=1.0;c[g+384+44>>2]=0.0;o[g+384+48>>2]=o[e>>2];o[g+384+48+4>>2]=o[e+4>>2];o[g+384+48+8>>2]=o[e+8>>2];o[g+384+48+12>>2]=o[e+12>>2];e=n;_=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(_|0));o[g+504>>2]=t;o[g+504+4>>2]=g+448;C=+c[i>>2];y=+c[i+16>>2];r=+c[i+32>>2];s=+c[i+4>>2];a=+c[i+20>>2];l=+c[i+36>>2];f=+c[i+8>>2];p=+c[i+24>>2];m=+c[i+40>>2];c[g+504+8>>2]=C+y*0.0+r*0.0;c[g+504+12>>2]=s+a*0.0+l*0.0;c[g+504+16>>2]=f+p*0.0+m*0.0;c[g+504+20>>2]=0.0;c[g+504+24>>2]=C*0.0+y+r*0.0;c[g+504+28>>2]=s*0.0+a+l*0.0;c[g+504+32>>2]=f*0.0+p+m*0.0;c[g+504+36>>2]=0.0;c[g+504+40>>2]=C*0.0+y*0.0+r;c[g+504+44>>2]=s*0.0+a*0.0+l;c[g+504+48>>2]=f*0.0+p*0.0+m;c[g+504+52>>2]=0.0;u=+c[g+384+48>>2]-+c[i+48>>2];d=+c[g+384+52>>2]-+c[i+52>>2];b=+c[g+384+56>>2]-+c[i+56>>2];c[g+504+56>>2]=C+y*0.0+r*0.0;c[g+504+60>>2]=C*0.0+y+r*0.0;c[g+504+64>>2]=C*0.0+y*0.0+r;c[g+504+68>>2]=0.0;c[g+504+72>>2]=s+a*0.0+l*0.0;c[g+504+76>>2]=s*0.0+a+l*0.0;c[g+504+80>>2]=s*0.0+a*0.0+l;c[g+504+84>>2]=0.0;c[g+504+88>>2]=f+p*0.0+m*0.0;c[g+504+92>>2]=f*0.0+p+m*0.0;c[g+504+96>>2]=f*0.0+p*0.0+m;c[g+504+100>>2]=0.0;c[g+504+104>>2]=u*C+d*y+b*r;c[g+504+108>>2]=u*s+d*a+b*l;c[g+504+112>>2]=u*f+d*p+b*m;c[g+504+116>>2]=0.0;o[g+504+120>>2]=82;o[g+504+124>>2]=0;o[g+364>>2]=0;o[g+128>>2]=0;o[g+128+4>>2]=0;o[g+128+8>>2]=0;o[g+128+12>>2]=0;o[g+376>>2]=2;o[g+368>>2]=0;c[g+144>>2]=0.0;o[g+648>>2]=1065353216;o[g+648+4>>2]=1065353216;o[g+648+8>>2]=1065353216;c[g+648+12>>2]=0.0;switch(Jo(g,g+504|0,g+648|0)|0){case 0:{e=o[g+372>>2]|0;if(!(o[e+32>>2]|0)){l=0.0;a=0.0;r=0.0;p=0.0;d=0.0;s=0.0}else{r=0.0;a=0.0;l=0.0;s=0.0;d=0.0;p=0.0;A=0;do{m=+c[e+16+(A<<2)>>2];_=o[g+504+120>>2]|0;E=o[g+504+124>>2]|0;h=(o[g+504>>2]|0)+(1?E>>1:E)|0;if(E&1)_=o[(o[h>>2]|0)+_>>2]|0;LF[_&127](g+648|0,h,o[e+(A<<2)>>2]|0);r=r+m*+c[g+648>>2];a=a+m*+c[g+648+4>>2];l=l+m*+c[g+648+8>>2];e=o[(o[g+372>>2]|0)+(A<<2)>>2]|0;u=-+c[e>>2];f=-+c[e+4>>2];b=-+c[e+8>>2];e=o[g+504+120>>2]|0;E=o[g+504+124>>2]|0;_=(o[g+504+4>>2]|0)+(1?E>>1:E)|0;if(E&1)e=o[(o[_>>2]|0)+e>>2]|0;C=+c[g+504+24>>2]*u+ +c[g+504+28>>2]*f+ +c[g+504+32>>2]*b;y=+c[g+504+40>>2]*u+ +c[g+504+44>>2]*f+ +c[g+504+48>>2]*b;c[g+632>>2]=+c[g+504+8>>2]*u+ +c[g+504+12>>2]*f+ +c[g+504+16>>2]*b;c[g+632+4>>2]=C;c[g+632+8>>2]=y;c[g+632+12>>2]=0.0;LF[e&127](g+648|0,_,g+632|0);b=+c[g+648>>2];y=+c[g+648+4>>2];C=+c[g+648+8>>2];s=s+m*(b*+c[g+504+56>>2]+y*+c[g+504+60>>2]+C*+c[g+504+64>>2]+ +c[g+504+104>>2]);d=d+m*(b*+c[g+504+72>>2]+y*+c[g+504+76>>2]+C*+c[g+504+80>>2]+ +c[g+504+108>>2]);p=p+m*(b*+c[g+504+88>>2]+y*+c[g+504+92>>2]+C*+c[g+504+96>>2]+ +c[g+504+112>>2]);A=A+1|0;e=o[g+372>>2]|0}while(A>>>0<(o[e+32>>2]|0)>>>0)}b=r*+c[i>>2]+a*+c[i+4>>2]+l*+c[i+8>>2]+ +c[i+48>>2];m=r*+c[i+16>>2]+a*+c[i+20>>2]+l*+c[i+24>>2]+ +c[i+52>>2];u=r*+c[i+32>>2]+a*+c[i+36>>2]+l*+c[i+40>>2]+ +c[i+56>>2];c[n+4>>2]=b;c[n+8>>2]=m;c[n+12>>2]=u;c[n+16>>2]=0.0;l=s*+c[i>>2]+d*+c[i+4>>2]+p*+c[i+8>>2]+ +c[i+48>>2];f=s*+c[i+16>>2]+d*+c[i+20>>2]+p*+c[i+24>>2]+ +c[i+52>>2];a=s*+c[i+32>>2]+d*+c[i+36>>2]+p*+c[i+40>>2]+ +c[i+56>>2];c[n+20>>2]=l;c[n+24>>2]=f;c[n+28>>2]=a;c[n+32>>2]=0.0;switch(o[t+4>>2]|0){case 8:{r=+c[t+28>>2]*+c[t+12>>2];break}case 0:{r=+c[t+44>>2];break}case 1:{r=+c[t+44>>2];break}case 13:{r=+c[t+44>>2];break}case 11:{r=+c[t+44>>2];break}case 10:{r=+c[t+44>>2];break}case 4:case 5:{r=+c[t+44>>2];break}default:r=+nF[o[(o[t>>2]|0)+48>>2]&15](t)}switch(o[g+448+4>>2]|0){case 8:{s=+c[g+448+28>>2]*+c[g+448+12>>2];break}case 0:{s=+c[g+448+44>>2];break}case 1:{s=+c[g+448+44>>2];break}case 13:{s=+c[g+448+44>>2];break}case 11:{s=+c[g+448+44>>2];break}case 10:{s=+c[g+448+44>>2];break}case 4:case 5:{s=+c[g+448+44>>2];break}default:s=+nF[o[(o[g+448>>2]|0)+48>>2]&15](g+448|0)}C=r+s;y=+v(+((l-b)*(l-b)+(f-m)*(f-m)+(a-u)*(a-u)));c[n+36>>2]=(l-b)*(1.0/y);c[n+40>>2]=(f-m)*(1.0/y);c[n+44>>2]=(a-u)*(1.0/y);c[n+48>>2]=0.0;c[n+4>>2]=C*((l-b)*(1.0/y))+ +c[n+4>>2];c[n+8>>2]=C*((f-m)*(1.0/y))+ +c[n+8>>2];c[n+12>>2]=C*((a-u)*(1.0/y))+ +c[n+12>>2];C=y-C;ae=g;return+C}case 1:{if(!(Ko(t,i,g+448|0,g+384|0,g+128|0,n,1)|0)){C=3402823466385288598117041.0e14;ae=g;return+C}s=+c[n+4>>2]-+c[n+20>>2];l=+c[n+8>>2]-+c[n+24>>2];a=+c[n+12>>2]-+c[n+28>>2];r=+v(+(s*s+l*l+a*a));if(r>=1.1920928955078125e-07){c[n+36>>2]=s*(1.0/r);c[n+40>>2]=l*(1.0/r);c[n+44>>2]=a*(1.0/r);c[n+48>>2]=0.0}C=-r;ae=g;return+C}default:{C=3402823466385288598117041.0e14;ae=g;return+C}}return 0.0}function vs(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0;b=ae;ae=ae+224|0;p=(n[e+28>>0]|0)!=0;h=p?i:t;p=p?t:i;d=o[h+4>>2]|0;if((o[d+68>>2]|0)!=(o[e+40>>2]|0)){a=o[e+12>>2]|0;if((a|0)>0){_=0;do{l=o[(o[e+20>>2]|0)+(_<<2)>>2]|0;if(l|0){SF[o[o[l>>2]>>2]&511](l);u=o[e+4>>2]|0;xF[o[(o[u>>2]|0)+60>>2]&127](u,o[(o[e+20>>2]|0)+(_<<2)>>2]|0)}_=_+1|0}while((_|0)!=(a|0))}pi(e,t,i)}u=o[d+64>>2]|0;_=o[e+4>>2]|0;l=o[e+20>>2]|0;a=o[e+32>>2]|0;o[b+192>>2]=7304;o[b+192+4>>2]=h;o[b+192+8>>2]=p;o[b+192+12>>2]=_;o[b+192+16>>2]=r;o[b+192+20>>2]=s;o[b+192+24>>2]=l;o[b+192+28>>2]=a;n[b+128+16>>0]=1;r=b+128+12|0;o[r>>2]=0;o[b+128+4>>2]=0;o[b+128+8>>2]=0;a=o[e+12>>2]|0;if((a|0)>0){t=0;while(1){l=o[l+(t<<2)>>2]|0;if(l){xF[o[(o[l>>2]|0)+16>>2]&127](l,b+128|0);a=o[b+128+4>>2]|0;if((a|0)>0){_=0;do{i=o[(o[r>>2]|0)+(_<<2)>>2]|0;if(o[i+748>>2]|0){o[s+4>>2]=i;a=o[i+740>>2]|0;l=o[(o[s+8>>2]|0)+8>>2]|0;if((a|0)==(l|0))io(i,a+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);else io(i,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,l+4|0);o[s+4>>2]=0;a=o[b+128+4>>2]|0}_=_+1|0}while((_|0)<(a|0))}if((a|0)<0){if((o[b+128+8>>2]|0)<0){l=o[r>>2]|0;if(l|0){if(n[b+128+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[r>>2]=0}n[b+128+16>>0]=1;o[r>>2]=0;o[b+128+8>>2]=0}do{o[(o[r>>2]|0)+(a<<2)>>2]=0;a=a+1|0}while((a|0)!=0)}o[b+128+4>>2]=0;a=o[e+12>>2]|0}t=t+1|0;if((t|0)>=(a|0))break;l=o[e+20>>2]|0}a=o[r>>2]|0;if(a|0){if(n[b+128+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[r>>2]=0}}if(!u){l=o[e+12>>2]|0;if((l|0)>0){a=0;do{_o(b+192|0,o[(o[d+24>>2]|0)+(a*80|0)+64>>2]|0,a);a=a+1|0}while((a|0)<(l|0));f=40}}else{f=o[h+12>>2]|0;P=+c[f>>2];x=+c[f+16>>2];I=+c[f+32>>2];O=+c[f+4>>2];M=+c[f+20>>2];R=+c[f+36>>2];C=+c[f+8>>2];y=+c[f+24>>2];A=+c[f+40>>2];T=-+c[f+48>>2];S=-+c[f+52>>2];E=-+c[f+56>>2];f=o[p+12>>2]|0;H=+c[f>>2];U=+c[f+16>>2];k=+c[f+32>>2];B=+c[f+4>>2];N=+c[f+20>>2];F=+c[f+36>>2];L=+c[f+8>>2];w=+c[f+24>>2];D=+c[f+40>>2];v=+c[f+48>>2];g=+c[f+52>>2];m=+c[f+56>>2];c[b+48>>2]=P*H+x*U+I*k;c[b+48+4>>2]=P*B+x*N+I*F;c[b+48+8>>2]=P*L+x*w+I*D;c[b+48+12>>2]=0.0;c[b+48+16>>2]=O*H+M*U+R*k;c[b+48+20>>2]=O*B+M*N+R*F;c[b+48+24>>2]=O*L+M*w+R*D;c[b+48+28>>2]=0.0;c[b+48+32>>2]=C*H+y*U+A*k;c[b+48+36>>2]=C*B+y*N+A*F;c[b+48+40>>2]=C*L+y*w+A*D;c[b+48+44>>2]=0.0;c[b+48+48>>2]=P*T+x*S+I*E+(P*v+x*g+I*m);c[b+48+52>>2]=O*T+M*S+R*E+(O*v+M*g+R*m);c[b+48+56>>2]=C*T+y*S+A*E+(C*v+y*g+A*m);c[b+48+60>>2]=0.0;f=o[p+4>>2]|0;BF[o[(o[f>>2]|0)+8>>2]&127](f,b+48|0,b+128|0,b+112|0);o[b+16>>2]=o[b+128>>2];o[b+16+4>>2]=o[b+128+4>>2];o[b+16+8>>2]=o[b+128+8>>2];o[b+16+12>>2]=o[b+128+12>>2];o[b+16+16>>2]=o[b+112>>2];o[b+16+16+4>>2]=o[b+112+4>>2];o[b+16+16+8>>2]=o[b+112+8>>2];o[b+16+16+12>>2]=o[b+112+12>>2];vo(o[u>>2]|0,b+16|0,b+192|0);f=40}if((f|0)==40)l=o[e+12>>2]|0;if((l|0)<=0){ae=b;return}t=0;do{do{if(o[(o[e+20>>2]|0)+(t<<2)>>2]|0){u=o[d+24>>2]|0;f=o[u+(t*80|0)+64>>2]|0;s=o[h+12>>2]|0;y=+c[s>>2];v=+c[s+4>>2];C=+c[s+8>>2];E=+c[s+16>>2];S=+c[s+20>>2];T=+c[s+24>>2];D=+c[s+32>>2];L=+c[s+36>>2];N=+c[s+40>>2];R=+c[u+(t*80|0)>>2];M=+c[u+(t*80|0)+16>>2];O=+c[u+(t*80|0)+32>>2];I=+c[u+(t*80|0)+4>>2];x=+c[u+(t*80|0)+20>>2];P=+c[u+(t*80|0)+36>>2];w=+c[u+(t*80|0)+8>>2];F=+c[u+(t*80|0)+24>>2];B=+c[u+(t*80|0)+40>>2];A=+c[u+(t*80|0)+48>>2];g=+c[u+(t*80|0)+52>>2];H=+c[u+(t*80|0)+56>>2];k=+c[s+48>>2]+(y*A+v*g+C*H);U=+c[s+52>>2]+(E*A+S*g+T*H);H=+c[s+56>>2]+(D*A+L*g+N*H);c[b+128>>2]=y*R+v*M+C*O;c[b+128+4>>2]=y*I+v*x+C*P;c[b+128+8>>2]=y*w+v*F+C*B;c[b+128+12>>2]=0.0;c[b+128+16>>2]=E*R+S*M+T*O;c[b+128+20>>2]=E*I+S*x+T*P;c[b+128+24>>2]=E*w+S*F+T*B;c[b+128+28>>2]=0.0;c[b+128+32>>2]=D*R+L*M+N*O;c[b+128+36>>2]=D*I+L*x+N*P;c[b+128+40>>2]=D*w+L*F+N*B;c[b+128+44>>2]=0.0;c[b+128+48>>2]=k;c[b+128+52>>2]=U;c[b+128+56>>2]=H;c[b+128+60>>2]=0.0;BF[o[(o[f>>2]|0)+8>>2]&127](f,b+128|0,b+112|0,b+48|0);f=o[p+4>>2]|0;BF[o[(o[f>>2]|0)+8>>2]&127](f,o[p+12>>2]|0,b+16|0,b);if(!(+c[b+112>>2]>+c[b>>2])?!(+c[b+48>>2]<+c[b+16>>2]):0)a=1;else a=0;if(!(!(+c[b+112+8>>2]>+c[b+8>>2])?!(+c[b+48+8>>2]<+c[b+16+8>>2]):0))a=0;if(!(+c[b+112+4>>2]>+c[b+4>>2])?!(+c[b+48+4>>2]<+c[b+16+4>>2]|a^1):0)break;f=o[(o[e+20>>2]|0)+(t<<2)>>2]|0;SF[o[o[f>>2]>>2]&511](f);f=o[e+4>>2]|0;xF[o[(o[f>>2]|0)+60>>2]&127](f,o[(o[e+20>>2]|0)+(t<<2)>>2]|0);o[(o[e+20>>2]|0)+(t<<2)>>2]=0}}while(0);t=t+1|0}while((t|0)<(l|0));ae=b;return}function Cs(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,_=0.0,u=0.0,f=0,d=0,h=0.0,p=0.0,b=0,m=0,A=0,g=0;d=ae;ae=ae+80|0;i=dF[o[(o[e>>2]|0)+28>>2]&127](e)|0;r=+c[e+4>>2];_=+c[e+8>>2];u=+c[e+12>>2];if((i|0)<=0){ae=d;return}f=0;do{YF[o[(o[e>>2]|0)+16>>2]&3](e,d+76|0,d+52|0,d+64|0,d+56|0,d+72|0,d+68|0,d+48|0,d+60|0,f);e:do{switch(o[d+64>>2]|0){case 0:{switch(o[d+60>>2]|0){case 2:{if((o[d+48>>2]|0)<=0)break e;n=0;do{m=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;A=o[d+76>>2]|0;b=o[d+56>>2]|0;g=A+(O(b,o[m>>2]|0)|0)|0;p=_*+c[g+4>>2];h=u*+c[g+8>>2];c[d>>2]=r*+c[g>>2];c[d+4>>2]=p;c[d+8>>2]=h;c[d+12>>2]=0.0;g=A+(O(o[m+4>>2]|0,b)|0)|0;h=_*+c[g+4>>2];p=u*+c[g+8>>2];c[d+16>>2]=r*+c[g>>2];c[d+20>>2]=h;c[d+24>>2]=p;c[d+28>>2]=0.0;b=A+(O(o[m+8>>2]|0,b)|0)|0;p=_*+c[b+4>>2];h=u*+c[b+8>>2];c[d+32>>2]=r*+c[b>>2];c[d+36>>2]=p;c[d+40>>2]=h;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}case 3:{if((o[d+48>>2]|0)<=0)break e;n=0;do{g=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;m=o[d+76>>2]|0;A=o[d+56>>2]|0;b=m+(O(A,a[g>>1]|0)|0)|0;h=_*+c[b+4>>2];p=u*+c[b+8>>2];c[d>>2]=r*+c[b>>2];c[d+4>>2]=h;c[d+8>>2]=p;c[d+12>>2]=0.0;b=m+(O(A,a[g+2>>1]|0)|0)|0;p=_*+c[b+4>>2];h=u*+c[b+8>>2];c[d+16>>2]=r*+c[b>>2];c[d+20>>2]=p;c[d+24>>2]=h;c[d+28>>2]=0.0;g=m+(O(A,a[g+4>>1]|0)|0)|0;h=_*+c[g+4>>2];p=u*+c[g+8>>2];c[d+32>>2]=r*+c[g>>2];c[d+36>>2]=h;c[d+40>>2]=p;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}case 5:{if((o[d+48>>2]|0)<=0)break e;n=0;do{g=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;m=o[d+76>>2]|0;A=o[d+56>>2]|0;b=m+(O(A,s[g>>0]|0)|0)|0;h=_*+c[b+4>>2];p=u*+c[b+8>>2];c[d>>2]=r*+c[b>>2];c[d+4>>2]=h;c[d+8>>2]=p;c[d+12>>2]=0.0;b=m+(O(A,s[g+1>>0]|0)|0)|0;p=_*+c[b+4>>2];h=u*+c[b+8>>2];c[d+16>>2]=r*+c[b>>2];c[d+20>>2]=p;c[d+24>>2]=h;c[d+28>>2]=0.0;g=m+(O(A,s[g+2>>0]|0)|0)|0;h=_*+c[g+4>>2];p=u*+c[g+8>>2];c[d+32>>2]=r*+c[g>>2];c[d+36>>2]=h;c[d+40>>2]=p;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}default:break e}break}case 1:{switch(o[d+60>>2]|0){case 2:{if((o[d+48>>2]|0)<=0)break e;n=0;do{A=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;m=o[d+76>>2]|0;g=o[d+56>>2]|0;b=m+(O(g,o[A>>2]|0)|0)|0;h=_*+l[b+8>>3];p=u*+l[b+16>>3];c[d>>2]=r*+l[b>>3];c[d+4>>2]=h;c[d+8>>2]=p;c[d+12>>2]=0.0;b=m+(O(o[A+4>>2]|0,g)|0)|0;p=_*+l[b+8>>3];h=u*+l[b+16>>3];c[d+16>>2]=r*+l[b>>3];c[d+20>>2]=p;c[d+24>>2]=h;c[d+28>>2]=0.0;g=m+(O(o[A+8>>2]|0,g)|0)|0;h=_*+l[g+8>>3];p=u*+l[g+16>>3];c[d+32>>2]=r*+l[g>>3];c[d+36>>2]=h;c[d+40>>2]=p;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}case 3:{if((o[d+48>>2]|0)<=0)break e;n=0;do{g=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;m=o[d+76>>2]|0;A=o[d+56>>2]|0;b=m+(O(A,a[g>>1]|0)|0)|0;h=_*+l[b+8>>3];p=u*+l[b+16>>3];c[d>>2]=r*+l[b>>3];c[d+4>>2]=h;c[d+8>>2]=p;c[d+12>>2]=0.0;b=m+(O(A,a[g+2>>1]|0)|0)|0;p=_*+l[b+8>>3];h=u*+l[b+16>>3];c[d+16>>2]=r*+l[b>>3];c[d+20>>2]=p;c[d+24>>2]=h;c[d+28>>2]=0.0;g=m+(O(A,a[g+4>>1]|0)|0)|0;h=_*+l[g+8>>3];p=u*+l[g+16>>3];c[d+32>>2]=r*+l[g>>3];c[d+36>>2]=h;c[d+40>>2]=p;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}case 5:{if((o[d+48>>2]|0)<=0)break e;n=0;do{g=(o[d+72>>2]|0)+(O(o[d+68>>2]|0,n)|0)|0;m=o[d+76>>2]|0;A=o[d+56>>2]|0;b=m+(O(A,s[g>>0]|0)|0)|0;h=_*+l[b+8>>3];p=u*+l[b+16>>3];c[d>>2]=r*+l[b>>3];c[d+4>>2]=h;c[d+8>>2]=p;c[d+12>>2]=0.0;b=m+(O(A,s[g+1>>0]|0)|0)|0;p=_*+l[b+8>>3];h=u*+l[b+16>>3];c[d+16>>2]=r*+l[b>>3];c[d+20>>2]=p;c[d+24>>2]=h;c[d+28>>2]=0.0;g=m+(O(A,s[g+2>>0]|0)|0)|0;h=_*+l[g+8>>3];p=u*+l[g+16>>3];c[d+32>>2]=r*+l[g>>3];c[d+36>>2]=h;c[d+40>>2]=p;c[d+44>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,d,f,n);n=n+1|0}while((n|0)<(o[d+48>>2]|0));break}default:break e}break}default:{}}}while(0);xF[o[(o[e>>2]|0)+24>>2]&127](e,f);f=f+1|0}while((f|0)!=(i|0));ae=d;return}function Es(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0;o[t>>2]=o[e>>2];o[t+4>>2]=o[e+4>>2];o[t+8>>2]=o[e+8>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+16+4>>2]=o[e+16+4>>2];o[t+16+8>>2]=o[e+16+8>>2];o[t+16+12>>2]=o[e+16+12>>2];o[t+32>>2]=o[e+32>>2];o[t+32+4>>2]=o[e+32+4>>2];o[t+32+8>>2]=o[e+32+8>>2];o[t+32+12>>2]=o[e+32+12>>2];m=+c[e+20>>2];f=+c[e+40>>2];p=+c[e+24>>2];d=+c[e+36>>2];h=+c[e+32>>2];A=+c[e+16>>2];g=+c[e>>2];v=+c[e+4>>2];b=+c[e+8>>2];E=1.0/((m*f-p*d)*g+v*(p*h-f*A)+(d*A-m*h)*b);c[i>>2]=(m*f-p*d)*E;c[i+4>>2]=(d*b-f*v)*E;c[i+8>>2]=(p*v-m*b)*E;c[i+12>>2]=0.0;c[i+16>>2]=(p*h-f*A)*E;c[i+20>>2]=(f*g-h*b)*E;c[i+24>>2]=(A*b-p*g)*E;c[i+28>>2]=0.0;c[i+32>>2]=(d*A-m*h)*E;c[i+36>>2]=(h*v-d*g)*E;c[i+40>>2]=(m*g-A*v)*E;c[i+44>>2]=0.0;e:do{if(!(o[6393]|0)){n=t;r=t+40|0;s=t+24|0;a=t+8|0;l=t+36|0;_=t+20|0;u=t+4|0}else{P=(m*f-p*d)*E;D=(p*h-f*A)*E;w=(d*A-m*h)*E;L=(d*b-f*v)*E;x=(f*g-h*b)*E;O=(h*v-d*g)*E;I=(p*v-m*b)*E;M=(A*b-p*g)*E;d=(m*g-A*v)*E;n=0;while(1){p=+y(+P);h=+y(+D);U=+y(+w);Q=+y(+L);H=+y(+x);k=+y(+O);V=+y(+I);j=+y(+M);T=+y(+d);G=p+h+U>Q+H+k?p+h+U:Q+H+k;H=p+Q+V>h+H+j?p+Q+V:h+H+j;h=+c[t>>2];Q=+y(+h);p=+c[t+16>>2];X=+y(+p);b=+c[t+32>>2];N=+y(+b);m=+c[t+4>>2];Y=+y(+m);A=+c[t+20>>2];W=+y(+A);g=+c[t+36>>2];F=+y(+g);v=+c[t+8>>2];z=+y(+v);E=+c[t+24>>2];B=+y(+E);S=+c[t+40>>2];R=+y(+S);f=Q+X+N>Y+W+F?Q+X+N:Y+W+F;f=f>z+B+R?f:z+B+R;B=Q+Y+z>X+W+B?Q+Y+z:X+W+B;T=(G>V+j+T?G:V+j+T)*(H>U+k+T?H:U+k+T);R=f*(B>N+F+R?B:N+F+R);if(T<1.1920928955078125e-07|R<1.1920928955078125e-07){n=t;r=t+40|0;s=t+24|0;a=t+8|0;l=t+36|0;_=t+20|0;u=t+4|0;break e}Q=+C(+(T/R),.25);H=(h*(Q+-2.0)+1.0/Q*P)*.5;V=(m*(Q+-2.0)+1.0/Q*D)*.5;W=(v*(Q+-2.0)+1.0/Q*w)*.5;j=(p*(Q+-2.0)+1.0/Q*L)*.5;G=(A*(Q+-2.0)+1.0/Q*x)*.5;X=(E*(Q+-2.0)+1.0/Q*O)*.5;z=(b*(Q+-2.0)+1.0/Q*I)*.5;Y=(g*(Q+-2.0)+1.0/Q*M)*.5;Q=(S*(Q+-2.0)+1.0/Q*d)*.5;c[t>>2]=h+H;c[t+4>>2]=m+V;c[t+8>>2]=v+W;c[t+12>>2]=0.0;c[t+16>>2]=p+j;c[t+20>>2]=A+G;c[t+24>>2]=E+X;c[t+28>>2]=0.0;c[t+32>>2]=b+z;c[t+36>>2]=g+Y;c[t+40>>2]=S+Q;c[t+44>>2]=0.0;U=1.0/((v+W)*((p+j)*(g+Y)-(A+G)*(b+z))+((h+H)*((A+G)*(S+Q)-(E+X)*(g+Y))+(m+V)*((E+X)*(b+z)-(p+j)*(S+Q))));P=((A+G)*(S+Q)-(E+X)*(g+Y))*U;L=((v+W)*(g+Y)-(m+V)*(S+Q))*U;I=((m+V)*(E+X)-(v+W)*(A+G))*U;D=((E+X)*(b+z)-(p+j)*(S+Q))*U;x=((h+H)*(S+Q)-(v+W)*(b+z))*U;M=((v+W)*(p+j)-(h+H)*(E+X))*U;w=((p+j)*(g+Y)-(A+G)*(b+z))*U;O=((m+V)*(b+z)-(h+H)*(g+Y))*U;d=((h+H)*(A+G)-(m+V)*(p+j))*U;c[i>>2]=P;c[i+4>>2]=L;c[i+8>>2]=I;c[i+12>>2]=0.0;c[i+16>>2]=D;c[i+20>>2]=x;c[i+24>>2]=M;c[i+28>>2]=0.0;c[i+32>>2]=w;c[i+36>>2]=O;c[i+40>>2]=d;c[i+44>>2]=0.0;z=+y(+H)+ +y(+j)+ +y(+z);Y=+y(+V)+ +y(+G)+ +y(+Y);Q=+y(+W)+ +y(+X)+ +y(+Q);Y=z>Y?z:Y;if((Y>Q?Y:Q)<=f*+c[6392])break;n=n+1|0;if(n>>>0>=(o[6393]|0)>>>0){n=t;r=t+40|0;s=t+24|0;a=t+8|0;l=t+36|0;_=t+20|0;u=t+4|0;break e}}k=+c[t>>2];H=+c[t+16>>2];V=+c[t+32>>2];N=+c[t+4>>2];B=+c[t+20>>2];W=+c[t+36>>2];P=+c[t+8>>2];D=+c[t+24>>2];z=+c[t+40>>2];U=+c[e>>2];j=+c[e+16>>2];G=+c[e+32>>2];w=+c[e+4>>2];L=+c[e+20>>2];F=+c[e+36>>2];O=+c[e+8>>2];I=+c[e+24>>2];x=+c[e+40>>2];Q=P*O+D*I+z*x+(P*O+D*I+z*x);Y=N*O+B*I+W*x+(P*w+D*L+z*F);X=N*w+B*L+W*F+(N*w+B*L+W*F);z=k*O+H*I+V*x+(P*U+D*j+z*G);W=k*w+H*L+V*F+(N*U+B*j+W*G);G=k*U+H*j+V*G+(k*U+H*j+V*G);Y=Y*.5;z=z*.5;W=W*.5;G=G*.5;c[i>>2]=G;c[i+4>>2]=W;c[i+8>>2]=z;c[i+12>>2]=0.0;c[i+16>>2]=W;X=X*.5;c[i+20>>2]=X;c[i+24>>2]=Y;c[i+28>>2]=0.0;c[i+32>>2]=z;c[i+36>>2]=Y;Q=Q*.5;c[i+40>>2]=Q;c[i+44>>2]=0.0;return}}while(0);k=+c[n>>2];H=+c[t+16>>2];V=+c[t+32>>2];N=+c[u>>2];B=+c[_>>2];W=+c[l>>2];P=+c[a>>2];D=+c[s>>2];z=+c[r>>2];U=+c[e>>2];j=+c[e+16>>2];G=+c[e+32>>2];w=+c[e+4>>2];L=+c[e+20>>2];F=+c[e+36>>2];O=+c[e+8>>2];I=+c[e+24>>2];x=+c[e+40>>2];Q=P*O+D*I+z*x+(P*O+D*I+z*x);Y=N*O+B*I+W*x+(P*w+D*L+z*F);X=N*w+B*L+W*F+(N*w+B*L+W*F);z=k*O+H*I+V*x+(P*U+D*j+z*G);W=k*w+H*L+V*F+(N*U+B*j+W*G);G=k*U+H*j+V*G+(k*U+H*j+V*G);Y=Y*.5;z=z*.5;W=W*.5;G=G*.5;c[i>>2]=G;c[i+4>>2]=W;c[i+8>>2]=z;c[i+12>>2]=0.0;c[i+16>>2]=W;X=X*.5;c[i+20>>2]=X;c[i+24>>2]=Y;c[i+28>>2]=0.0;c[i+32>>2]=z;c[i+36>>2]=Y;Q=Q*.5;c[i+40>>2]=Q;c[i+44>>2]=0.0;return}function Ss(e,t,i,s,a){e=e|0;t=t|0;i=i|0;s=s|0;a=a|0;var l=0.0,_=0,u=0.0,f=0,d=0,h=0.0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0;T=ae;ae=ae+128|0;n[e+60>>0]=i&1;if(i){b=+c[s>>2]+-1.0;g=+c[s+4>>2]+-1.0;A=+c[s+8>>2]+-1.0;c[e+4>>2]=b;c[e+8>>2]=g;c[e+12>>2]=A;c[e+16>>2]=0.0;v=+c[a>>2]+1.0;S=+c[a+4>>2]+1.0;E=+c[a+8>>2]+1.0;c[e+20>>2]=v;c[e+24>>2]=S;c[e+28>>2]=E;c[e+32>>2]=0.0;c[e+36>>2]=65533.0/(v-b);c[e+40>>2]=65533.0/(S-g);c[e+44>>2]=65533.0/(E-A);c[e+48>>2]=0.0;n[e+60>>0]=1;l=b+ +(~~((b-b)*(65533.0/(v-b)))&65535&-2&65535)/(65533.0/(v-b))+-1.0;u=g+ +(~~((g-g)*(65533.0/(S-g)))&65535&-2&65535)/(65533.0/(S-g))+-1.0;h=A+ +(~~((A-A)*(65533.0/(E-A)))&65535&-2&65535)/(65533.0/(E-A))+-1.0;if(l<b){c[e+4>>2]=l;C=l}else C=b;if(u<g){c[e+8>>2]=u;y=u}else y=g;if(h<A){c[e+12>>2]=h;m=h;l=E-h}else{m=A;l=E-A}h=C+ +((~~(65533.0/(v-b)*(v-C)+1.0)&65535|1)&65535)/(65533.0/(v-b))+1.0;u=y+ +((~~(65533.0/(S-g)*(S-y)+1.0)&65535|1)&65535)/(65533.0/(S-g))+1.0;b=m+ +((~~(65533.0/(E-A)*l+1.0)&65535|1)&65535)/(65533.0/(E-A))+1.0;if(v<h)c[e+20>>2]=h;else h=v;if(S<u)c[e+24>>2]=u;else u=S;if(E<b){c[e+28>>2]=b;l=b-m}c[e+36>>2]=65533.0/(h-C);c[e+40>>2]=65533.0/(u-y);c[e+44>>2]=65533.0/l;c[e+48>>2]=0.0;o[T+96>>2]=9332;o[T+96+4>>2]=e+104;o[T+96+8>>2]=e;BF[o[(o[t>>2]|0)+8>>2]&127](t,T+96|0,e+4|0,e+20|0);i=o[e+108>>2]|0;o[T+80>>2]=0;o[T+80+4>>2]=0;o[T+80+8>>2]=0;o[T+80+12>>2]=0;_=o[e+128>>2]|0;if((_|0)<(i<<1|0)){if((o[e+132>>2]|0)<(i<<1|0)){if(!i){a=_;t=0}else{o[6747]=(o[6747]|0)+1;s=Do(i<<5|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[e+128>>2]|0;t=s}if((a|0)>0){s=0;do{p=t+(s<<4)|0;d=(o[e+136>>2]|0)+(s<<4)|0;o[p>>2]=o[d>>2];o[p+4>>2]=o[d+4>>2];o[p+8>>2]=o[d+8>>2];o[p+12>>2]=o[d+12>>2];s=s+1|0}while((s|0)!=(a|0))}s=o[e+136>>2]|0;if(s|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=t;o[e+132>>2]=i<<1;a=e+136|0}else a=e+136|0;s=_;do{p=(o[a>>2]|0)+(s<<4)|0;o[p>>2]=o[T+80>>2];o[p+4>>2]=o[T+80+4>>2];o[p+8>>2]=o[T+80+8>>2];o[p+12>>2]=o[T+80+12>>2];s=s+1|0}while((s|0)!=(i<<1|0))}o[e+128>>2]=i<<1}else{o[T+96>>2]=9352;o[T+96+4>>2]=e+64;o[T+80>>2]=-581039253;o[T+80+4>>2]=-581039253;o[T+80+8>>2]=-581039253;c[T+80+12>>2]=0.0;o[T+64>>2]=1566444395;o[T+64+4>>2]=1566444395;o[T+64+8>>2]=1566444395;c[T+64+12>>2]=0.0;BF[o[(o[t>>2]|0)+8>>2]&127](t,T+96|0,T+80|0,T+64|0);i=o[e+68>>2]|0;_=T;d=_+64|0;do{o[_>>2]=0;_=_+4|0}while((_|0)<(d|0));p=o[e+88>>2]|0;if((p|0)<(i<<1|0)){if((o[e+92>>2]|0)<(i<<1|0)){if(!i){a=p;t=0}else{o[6747]=(o[6747]|0)+1;s=Do(i<<7|19)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[e+88>>2]|0;t=s}if((a|0)>0){s=0;do{_=t+(s<<6)|0;f=(o[e+96>>2]|0)+(s<<6)|0;d=_+64|0;do{o[_>>2]=o[f>>2];_=_+4|0;f=f+4|0}while((_|0)<(d|0));s=s+1|0}while((s|0)!=(a|0))}s=o[e+96>>2]|0;if(s|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=t;o[e+92>>2]=i<<1;a=e+96|0}else a=e+96|0;s=p;do{_=(o[a>>2]|0)+(s<<6)|0;f=T;d=_+64|0;do{o[_>>2]=o[f>>2];_=_+4|0;f=f+4|0}while((_|0)<(d|0));s=s+1|0}while((s|0)!=(i<<1|0))}o[e+88>>2]=i<<1}o[e+56>>2]=0;Go(e,0,i);if(n[e+60>>0]|0?(o[e+152>>2]|0)==0:0){if(!(o[e+156>>2]|0)){o[6747]=(o[6747]|0)+1;i=Do(51)|0;if(!i)t=0;else{o[(i+4+15&-16)+-4>>2]=i;t=i+4+15&-16}i=o[e+152>>2]|0;if((i|0)>0){s=0;do{p=t+(s<<5)|0;d=(o[e+160>>2]|0)+(s<<5)|0;o[p>>2]=o[d>>2];o[p+4>>2]=o[d+4>>2];o[p+8>>2]=o[d+8>>2];o[p+12>>2]=o[d+12>>2];o[p+16>>2]=o[d+16>>2];o[p+20>>2]=o[d+20>>2];o[p+24>>2]=o[d+24>>2];o[p+28>>2]=o[d+28>>2];s=s+1|0}while((s|0)!=(i|0))}i=o[e+160>>2]|0;if(i|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=t;o[e+156>>2]=1;a=(o[e+152>>2]|0)+1|0;i=t;s=e+160|0}else{a=1;i=o[e+160>>2]|0;s=e+160|0}o[e+152>>2]=a;o[i>>2]=o[T+96>>2];o[i+4>>2]=o[T+96+4>>2];o[i+8>>2]=o[T+96+8>>2];o[i+12>>2]=o[T+96+12>>2];o[i+16>>2]=o[T+96+16>>2];o[i+20>>2]=o[T+96+20>>2];o[i+24>>2]=o[T+96+24>>2];o[i+28>>2]=o[T+96+28>>2];p=o[s>>2]|0;d=o[e+136>>2]|0;r[p>>1]=r[d>>1]|0;r[p+2>>1]=r[d+2>>1]|0;r[p+4>>1]=r[d+4>>1]|0;r[p+6>>1]=r[d+6>>1]|0;r[p+8>>1]=r[d+8>>1]|0;r[p+10>>1]=r[d+10>>1]|0;o[p+12>>2]=0;d=o[d+12>>2]|0;o[p+16>>2]=(d|0)>-1?1:0-d|0}o[e+168>>2]=o[e+152>>2];i=o[e+116>>2]|0;if(i|0){if(n[e+120>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+116>>2]=0}n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;i=o[e+76>>2]|0;if(!i){n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;e=e+72|0;o[e>>2]=0;ae=T;return}if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+76>>2]=0;n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;e=e+72|0;o[e>>2]=0;ae=T;return}function Ts(e,t,i,r,s,a){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;var l=0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,y=0.0,C=0.0,E=0.0,S=0,T=0,R=0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0,te=0.0,ie=0.0,ne=0.0,re=0,oe=0.0;re=ae;ae=ae+32|0;F=o[e+4>>2]|0;n[F+312>>0]=0;o[F>>2]=0;n[F+356>>0]=1;o[F+292>>2]=1566444395;o[F+296>>2]=1566444395;o[F+300>>2]=1566444395;c[F+304>>2]=0.0;o[F+336>>2]=0;o[F+336+4>>2]=0;o[F+336+8>>2]=0;o[F+336+12>>2]=0;n[F+336+16>>0]=0;n[F+332>>0]=n[F+332>>0]&-16;_=+c[t+48>>2];h=+c[t+52>>2];p=+c[t+56>>2];b=+c[r+48>>2];m=+c[r+52>>2];A=+c[r+56>>2];N=+c[t>>2];V=+c[t+4>>2];G=+c[t+8>>2];W=+c[t+16>>2];B=+c[t+20>>2];k=+c[t+24>>2];U=+c[t+32>>2];H=+c[t+36>>2];j=+c[t+40>>2];X=+c[r>>2];J=+c[r+4>>2];q=+c[r+8>>2];$=+c[r+16>>2];z=+c[r+20>>2];Y=+c[r+24>>2];Q=+c[r+32>>2];K=+c[r+36>>2];Z=+c[r+40>>2];te=+c[i+48>>2]-_-(+c[s+48>>2]-b);ne=+c[i+52>>2]-h-(+c[s+52>>2]-m);ie=+c[i+56>>2]-p-(+c[s+56>>2]-A);F=o[e+8>>2]|0;R=o[(o[F>>2]|0)+64>>2]|0;c[re>>2]=N*-te+W*-ne+U*-ie;c[re+4>>2]=V*-te+B*-ne+H*-ie;c[re+8>>2]=G*-te+k*-ne+j*-ie;c[re+12>>2]=0.0;LF[R&127](re+16|0,F,re);w=+c[re+16>>2];L=+c[re+16+4>>2];D=+c[re+16+8>>2];y=w*+c[t>>2]+L*+c[t+4>>2]+D*+c[t+8>>2]+ +c[t+48>>2];E=w*+c[t+16>>2]+L*+c[t+20>>2]+D*+c[t+24>>2]+ +c[t+52>>2];D=w*+c[t+32>>2]+L*+c[t+36>>2]+D*+c[t+40>>2]+ +c[t+56>>2];F=o[e+12>>2]|0;R=o[(o[F>>2]|0)+64>>2]|0;L=te*+c[r+4>>2]+ne*+c[r+20>>2]+ie*+c[r+36>>2];w=te*+c[r+8>>2]+ne*+c[r+24>>2]+ie*+c[r+40>>2];c[re>>2]=te*+c[r>>2]+ne*+c[r+16>>2]+ie*+c[r+32>>2];c[re+4>>2]=L;c[re+8>>2]=w;c[re+12>>2]=0.0;LF[R&127](re+16|0,F,re);w=+c[re+16>>2];L=+c[re+16+4>>2];C=+c[re+16+8>>2];y=y-(w*+c[r>>2]+L*+c[r+4>>2]+C*+c[r+8>>2]+ +c[r+48>>2]);E=E-(w*+c[r+16>>2]+L*+c[r+20>>2]+C*+c[r+24>>2]+ +c[r+52>>2]);C=D-(w*+c[r+32>>2]+L*+c[r+36>>2]+C*+c[r+40>>2]+ +c[r+56>>2]);e:do{if(y*y+E*E+C*C>9.999999747378752e-05){f=0.0;u=0.0;d=0.0;L=_;_=0.0;F=32;l=0;g=0;M=E;while(1){if(!F)break e;F=F+-1|0;R=o[e+8>>2]|0;T=o[(o[R>>2]|0)+64>>2]|0;P=-y;oe=-M;E=-C;c[re>>2]=N*P+W*oe+U*E;c[re+4>>2]=V*P+B*oe+H*E;c[re+8>>2]=G*P+k*oe+j*E;c[re+12>>2]=0.0;LF[T&127](re+16|0,R,re);E=+c[re+16>>2];oe=+c[re+16+4>>2];P=+c[re+16+8>>2];I=L+(N*E+V*oe+G*P);w=h+(W*E+B*oe+k*P);P=p+(U*E+H*oe+j*P);R=o[e+12>>2]|0;T=o[(o[R>>2]|0)+64>>2]|0;c[re>>2]=X*y+$*M+Q*C;c[re+4>>2]=J*y+z*M+K*C;c[re+8>>2]=q*y+Y*M+Z*C;c[re+12>>2]=0.0;LF[T&127](re+16|0,R,re);oe=+c[re+16>>2];E=+c[re+16+4>>2];x=+c[re+16+8>>2];O=b+(X*oe+J*E+q*x);D=m+($*oe+z*E+Y*x);x=A+(Q*oe+K*E+Z*x);E=(I-O)*y+(w-D)*M+(P-x)*C;if(_>1.0){l=0;ee=24;break}if(E>0.0){u=te*y+ne*M+ie*C;if(u>=-1.4210854715202004e-14){l=0;ee=24;break}_=_-E/u;u=y;f=M;d=C;E=(1.0-_)*+c[t+48>>2]+_*+c[i+48>>2];h=(1.0-_)*+c[t+52>>2]+_*+c[i+52>>2];p=(1.0-_)*+c[t+56>>2]+_*+c[i+56>>2];b=(1.0-_)*+c[r+48>>2]+_*+c[s+48>>2];m=(1.0-_)*+c[r+52>>2]+_*+c[s+52>>2];A=(1.0-_)*+c[r+56>>2]+_*+c[s+56>>2];l=g}else E=L;T=o[e+4>>2]|0;R=o[T>>2]|0;if((R|0)>0){y=+c[T+308>>2];g=0;S=0;do{M=I-O-+c[T+4+(S<<4)>>2];L=w-D-+c[T+4+(S<<4)+4>>2];oe=P-x-+c[T+4+(S<<4)+8>>2];g=g|M*M+L*L+oe*oe<=y;S=S+1|0}while((S|0)!=(R|0))}else g=0;if((+c[T+304>>2]==0.0?P-x==+c[T+300>>2]:0)?w-D==+c[T+296>>2]:0){if(!(I-O==+c[T+292>>2]|g))ee=16}else if(!g)ee=16;if((ee|0)==16){ee=0;c[T+292>>2]=I-O;c[T+296>>2]=w-D;c[T+300>>2]=P-x;c[T+304>>2]=0.0;n[T+356>>0]=1;c[T+4+(R<<4)>>2]=I-O;c[T+4+(R<<4)+4>>2]=w-D;c[T+4+(R<<4)+8>>2]=P-x;c[T+4+(R<<4)+12>>2]=0.0;R=o[T>>2]|0;c[T+84+(R<<4)>>2]=I;c[T+84+(R<<4)+4>>2]=w;c[T+84+(R<<4)+8>>2]=P;c[T+84+(R<<4)+12>>2]=0.0;R=o[T>>2]|0;c[T+164+(R<<4)>>2]=O;c[T+164+(R<<4)+4>>2]=D;c[T+164+(R<<4)+8>>2]=x;c[T+164+(R<<4)+12>>2]=0.0;o[T>>2]=(o[T>>2]|0)+1;T=o[e+4>>2]|0}R=Fo(T)|0;y=+c[T+276>>2];M=+c[T+280>>2];C=+c[T+284>>2];if(!R)break e;if(!(y*y+M*M+C*C>9.999999747378752e-05))break e;else{L=E;g=o[T+288>>2]|0}}if((ee|0)==24){ae=re;return l|0}}else{d=0.0;f=0.0;u=0.0;_=0.0;l=0}}while(0);c[a+164>>2]=_;_=u*u+f*f+d*d;if(!(_>=1.4210854715202004e-14)){o[a+132>>2]=0;o[a+132+4>>2]=0;o[a+132+8>>2]=0;o[a+132+12>>2]=0;_=0.0;u=0.0;f=0.0}else{oe=1.0/+v(+_);_=u*oe;u=f*oe;f=d*oe;c[a+132>>2]=_;c[a+136>>2]=u;c[a+140>>2]=f;o[a+144>>2]=l}if(te*_+ne*u+ie*f>=-+c[a+172>>2]){e=0;ae=re;return e|0}e=o[e+4>>2]|0;Fo(e)|0;hh(a+148|0,e+260|0,16)|0;e=1;ae=re;return e|0}function Rs(e,t,i,r,s,a,l,u,f,d,h){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;u=u|0;f=+f;d=+d;h=+h;var p=0,b=0,m=0.0,A=0,g=0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0,U=0,H=0.0,j=0.0,V=0.0;U=o[e+68>>2]|0;if((U|0)==(o[e+72>>2]|0)?(g=(U|0)==0?1:U<<1,(U|0)<(g|0)):0){if(!g){b=U;A=0}else{o[6747]=(o[6747]|0)+1;p=Do((g*152|3)+16|0)|0;if(!p)p=0;else{o[(p+4+15&-16)+-4>>2]=p;p=p+4+15&-16}b=o[e+68>>2]|0;A=p}if((b|0)>0){p=0;do{Tn(A+(p*152|0)|0,(o[e+76>>2]|0)+(p*152|0)|0,152)|0;p=p+1|0}while((p|0)!=(b|0))}p=o[e+76>>2]|0;if(p|0){if(n[e+80>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[p+-4>>2]|0)}o[e+76>>2]=0}n[e+80>>0]=1;o[e+76>>2]=A;o[e+72>>2]=g;p=o[e+68>>2]|0}else p=U;o[e+68>>2]=p+1;k=o[e+76>>2]|0;o[k+(U*152|0)+140>>2]=s;A=o[e+16>>2]|0;p=o[A+(i*244|0)+240>>2]|0;g=o[A+(r*244|0)+240>>2]|0;o[k+(U*152|0)+144>>2]=i;o[k+(U*152|0)+148>>2]=r;b=o[a+84>>2]|0;o[k+(U*152|0)+104>>2]=b;o[k+(U*152|0)+132>>2]=0;c[k+(U*152|0)+100>>2]=0.0;c[k+(U*152|0)+96>>2]=0.0;L=(o[_>>2]=b,+c[_>>2]);if(p|0){o[k+(U*152|0)+16>>2]=o[t>>2];o[k+(U*152|0)+16+4>>2]=o[t+4>>2];o[k+(U*152|0)+16+8>>2]=o[t+8>>2];o[k+(U*152|0)+16+12>>2]=o[t+12>>2];B=+c[l+4>>2];I=+c[k+(U*152|0)+24>>2];w=+c[l+8>>2];F=+c[k+(U*152|0)+20>>2];x=+c[k+(U*152|0)+16>>2];N=+c[l>>2];c[k+(U*152|0)>>2]=B*I-w*F;c[k+(U*152|0)+4>>2]=w*x-I*N;c[k+(U*152|0)+8>>2]=F*N-B*x;c[k+(U*152|0)+12>>2]=0.0;v=((B*I-w*F)*+c[p+264>>2]+(w*x-I*N)*+c[p+268>>2]+(F*N-B*x)*+c[p+272>>2])*+c[p+544>>2];m=((B*I-w*F)*+c[p+280>>2]+(w*x-I*N)*+c[p+284>>2]+(F*N-B*x)*+c[p+288>>2])*+c[p+548>>2];y=((B*I-w*F)*+c[p+296>>2]+(w*x-I*N)*+c[p+300>>2]+(F*N-B*x)*+c[p+304>>2])*+c[p+552>>2];c[k+(U*152|0)+64>>2]=v;c[k+(U*152|0)+68>>2]=m;c[k+(U*152|0)+72>>2]=y;c[k+(U*152|0)+76>>2]=0.0;T=x;R=F;M=I;O=B*I-w*F;I=w*x-I*N;x=F*N-B*x}else{o[k+(U*152|0)+64>>2]=0;o[k+(U*152|0)+64+4>>2]=0;o[k+(U*152|0)+64+8>>2]=0;o[k+(U*152|0)+64+12>>2]=0;o[k+(U*152|0)>>2]=0;o[k+(U*152|0)+4>>2]=0;o[k+(U*152|0)+8>>2]=0;o[k+(U*152|0)+12>>2]=0;o[k+(U*152|0)+16>>2]=0;o[k+(U*152|0)+20>>2]=0;o[k+(U*152|0)+24>>2]=0;o[k+(U*152|0)+28>>2]=0;m=0.0;y=0.0;v=0.0;T=0.0;R=0.0;M=0.0;O=0.0;I=0.0;x=0.0}if(g|0){F=-+c[t>>2];N=-+c[t+4>>2];B=-+c[t+8>>2];c[k+(U*152|0)+48>>2]=F;c[k+(U*152|0)+52>>2]=N;c[k+(U*152|0)+56>>2]=B;c[k+(U*152|0)+60>>2]=0.0;w=+c[u+4>>2];D=+c[u+8>>2];H=+c[u>>2];c[k+(U*152|0)+32>>2]=w*B-D*N;c[k+(U*152|0)+36>>2]=D*F-H*B;c[k+(U*152|0)+40>>2]=H*N-w*F;c[k+(U*152|0)+44>>2]=0.0;C=((w*B-D*N)*+c[g+264>>2]+(D*F-H*B)*+c[g+268>>2]+(H*N-w*F)*+c[g+272>>2])*+c[g+544>>2];E=((w*B-D*N)*+c[g+280>>2]+(D*F-H*B)*+c[g+284>>2]+(H*N-w*F)*+c[g+288>>2])*+c[g+548>>2];S=((w*B-D*N)*+c[g+296>>2]+(D*F-H*B)*+c[g+300>>2]+(H*N-w*F)*+c[g+304>>2])*+c[g+552>>2];c[k+(U*152|0)+80>>2]=C;c[k+(U*152|0)+84>>2]=E;c[k+(U*152|0)+88>>2]=S;c[k+(U*152|0)+92>>2]=0.0;P=w*B-D*N;D=D*F-H*B;w=H*N-w*F}else{o[k+(U*152|0)+80>>2]=0;o[k+(U*152|0)+80+4>>2]=0;o[k+(U*152|0)+80+8>>2]=0;o[k+(U*152|0)+80+12>>2]=0;o[k+(U*152|0)+32>>2]=0;o[k+(U*152|0)+32+4>>2]=0;o[k+(U*152|0)+32+8>>2]=0;o[k+(U*152|0)+32+12>>2]=0;o[k+(U*152|0)+32+16>>2]=0;o[k+(U*152|0)+32+20>>2]=0;o[k+(U*152|0)+32+24>>2]=0;o[k+(U*152|0)+32+28>>2]=0;P=0.0;D=0.0;w=0.0;C=0.0;E=0.0;S=0.0;F=0.0;N=0.0;B=0.0}if(p|0){V=+c[l+8>>2];j=+c[l+4>>2];H=+c[l>>2];y=+c[p+344>>2]+((m*V-y*j)*+c[t>>2]+(y*H-V*v)*+c[t+4>>2]+(j*v-m*H)*+c[t+8>>2])}else y=0.0;if(g|0){j=-C;m=-E;E=-S;S=+c[u+8>>2];H=+c[u+4>>2];V=+c[u>>2];m=+c[g+344>>2]+((S*m-H*E)*+c[t>>2]+(V*E-S*j)*+c[t+4>>2]+(H*j-V*m)*+c[t+8>>2])}else m=0.0;E=f/(y+m);c[k+(U*152|0)+108>>2]=E;if(p|0){y=+c[A+(i*244|0)+192>>2];v=+c[A+(i*244|0)+196>>2];C=+c[A+(i*244|0)+200>>2];m=(+c[A+(i*244|0)+176>>2]+ +c[A+(i*244|0)+208>>2])*T+(+c[A+(i*244|0)+180>>2]+ +c[A+(i*244|0)+212>>2])*R+(+c[A+(i*244|0)+184>>2]+ +c[A+(i*244|0)+216>>2])*M}else{y=0.0;v=0.0;C=0.0;m=T*0.0+R*0.0+M*0.0}m=m+(y*O+v*I+C*x);if(g|0){f=+c[A+(r*244|0)+192>>2];H=+c[A+(r*244|0)+196>>2];V=+c[A+(r*244|0)+200>>2];j=(+c[A+(r*244|0)+176>>2]+ +c[A+(r*244|0)+208>>2])*F+(+c[A+(r*244|0)+180>>2]+ +c[A+(r*244|0)+212>>2])*N+(+c[A+(r*244|0)+184>>2]+ +c[A+(r*244|0)+216>>2])*B;f=f*P;H=H*D;H=f+H;V=V*w;V=H+V;V=j+V;V=m+V;V=d-V;V=E*V;r=k+(U*152|0)+112|0;c[r>>2]=V;r=k+(U*152|0)+116|0;c[r>>2]=h;V=-L;r=k+(U*152|0)+120|0;c[r>>2]=V;r=k+(U*152|0)+124|0;o[r>>2]=b;return}else{f=0.0;H=0.0;V=0.0;j=F*0.0+N*0.0+B*0.0;f=f*P;H=H*D;H=f+H;V=V*w;V=H+V;V=j+V;V=m+V;V=d-V;V=E*V;r=k+(U*152|0)+112|0;c[r>>2]=V;r=k+(U*152|0)+116|0;c[r>>2]=h;V=-L;r=k+(U*152|0)+120|0;c[r>>2]=V;r=k+(U*152|0)+124|0;o[r>>2]=b;return}}function Ms(e,t,i,r,s,a,l,_,u,f,d){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;f=f|0;d=d|0;var h=0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0,S=0,T=0,R=0,M=0,I=0.0,x=0,P=0;if((l|0)<2|(_|0)<2){d=0;return d|0}E=O(_,l)|0;o[6747]=(o[6747]|0)+1;e=Do(E>>>0>268435455?18:(E<<4|3)+16|0)|0;if(!e)T=0;else{o[(e+4+15&-16)+-4>>2]=e;T=e+4+15&-16}S=WL(E>>>0>1073741823?-1:E<<2)|0;h=0;do{I=+(h|0)/+(_+-1|0);b=+c[i>>2];b=b+I*(+c[s>>2]-b);m=+c[i+4>>2];m=m+I*(+c[s+4>>2]-m);A=+c[i+8>>2];A=A+I*(+c[s+8>>2]-A);g=+c[r>>2];y=+c[r+4>>2];C=+c[r+8>>2];g=g+I*(+c[a>>2]-g)-b;y=y+I*(+c[a+4>>2]-y)-m;C=C+I*(+c[a+8>>2]-C)-A;p=O(h,l)|0;e=0;do{I=+(e|0)/+(l+-1|0);M=e+p|0;c[T+(M<<4)>>2]=b+g*I;c[T+(M<<4)+4>>2]=m+y*I;c[T+(M<<4)+8>>2]=A+C*I;c[T+(M<<4)+12>>2]=0.0;c[S+(M<<2)>>2]=1.0;e=e+1|0}while((e|0)!=(l|0));h=h+1|0}while((h|0)!=(_|0));o[6747]=(o[6747]|0)+1;e=Do(1271)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}Vo(e,t,E,T,S);if(u&1|0){c[(o[e+720>>2]|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&2|0){c[(o[e+720>>2]|0)+((l+-1|0)*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&4|0){M=O(_+-1|0,l)|0;c[(o[e+720>>2]|0)+(M*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&8|0){M=l+-1+(O(_+-1|0,l)|0)|0;c[(o[e+720>>2]|0)+(M*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&16|0){c[(o[e+720>>2]|0)+(((l+-1|0)/2|0)*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&32|0){M=O((_+-1|0)/2|0,l)|0;c[(o[e+720>>2]|0)+(M*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&64|0){M=l+-1+(O((_+-1|0)/2|0,l)|0)|0;c[(o[e+720>>2]|0)+(M*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&128|0){M=(O(_+-1|0,l)|0)+((l+-1|0)/2|0)|0;c[(o[e+720>>2]|0)+(M*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(!(u&256)){R=e+924|0;M=e+720|0}else{R=(O((_+-1|0)/2|0,l)|0)+((l+-1|0)/2|0)|0;M=e+720|0;c[(o[M>>2]|0)+(R*104|0)+88>>2]=0.0;R=e+924|0;n[R>>0]=1}o[6748]=(o[6748]|0)+1;Vs(o[T+-4>>2]|0);XL(S);t=e+732|0;T=e+740|0;u=0;h=0;do{p=u;u=u+1|0;e:do{if((l|0)>0){S=O(p,l)|0;E=O(u,l)|0;m=1.0/+(_+-1|0)*+(_+-1-p|0);b=1.0/+(_+-1|0)*+(_+-2-p|0);if((u|0)>=(_|0)){p=0;while(1){i=p;p=p+1|0;if((p|0)<(l|0)){r=p+S|0;s=o[M>>2]|0;bn(e,0);E=(o[t>>2]|0)+-1|0;a=o[T>>2]|0;o[a+(E*52|0)+8>>2]=s+((i+S|0)*104|0);o[a+(E*52|0)+12>>2]=s+(r*104|0);y=+c[s+((i+S|0)*104|0)+8>>2]-+c[s+(r*104|0)+8>>2];C=+c[s+((i+S|0)*104|0)+12>>2]-+c[s+(r*104|0)+12>>2];I=+c[s+((i+S|0)*104|0)+16>>2]-+c[s+(r*104|0)+16>>2];c[a+(E*52|0)+16>>2]=+v(+(y*y+C*C+I*I));n[R>>0]=1}if((p|0)==(l|0))break e}}a=0;do{r=a;a=a+1|0;i=a+S|0;s=a+E|0;p=o[M>>2]|0;if((a|0)<(l|0)){bn(e,0);P=(o[t>>2]|0)+-1|0;x=o[T>>2]|0;o[x+(P*52|0)+8>>2]=p+((r+S|0)*104|0);o[x+(P*52|0)+12>>2]=p+(i*104|0);I=+c[p+((r+S|0)*104|0)+8>>2]-+c[p+(i*104|0)+8>>2];C=+c[p+((r+S|0)*104|0)+12>>2]-+c[p+(i*104|0)+12>>2];y=+c[p+((r+S|0)*104|0)+16>>2]-+c[p+(i*104|0)+16>>2];c[x+(P*52|0)+16>>2]=+v(+(I*I+C*C+y*y));n[R>>0]=1;P=o[M>>2]|0;bn(e,0);p=(o[t>>2]|0)+-1|0;x=o[T>>2]|0;o[x+(p*52|0)+8>>2]=P+((r+S|0)*104|0);o[x+(p*52|0)+12>>2]=P+((r+E|0)*104|0);y=+c[P+((r+S|0)*104|0)+8>>2]-+c[P+((r+E|0)*104|0)+8>>2];C=+c[P+((r+S|0)*104|0)+12>>2]-+c[P+((r+E|0)*104|0)+12>>2];I=+c[P+((r+S|0)*104|0)+16>>2]-+c[P+((r+E|0)*104|0)+16>>2];c[x+(p*52|0)+16>>2]=+v(+(y*y+C*C+I*I));n[R>>0]=1;rt(e,r+S|0,r+E|0,s,0);if(!d)rt(e,s,i,r+S|0,0);else{I=1.0/+(l+-1|0)*+(r|0);c[d+(h<<2)>>2]=I;c[d+(h+1<<2)>>2]=m;c[d+(h+2<<2)>>2]=I;c[d+(h+3<<2)>>2]=b;C=1.0/+(l+-1|0)*+(a|0);c[d+(h+4<<2)>>2]=C;c[d+(h+5<<2)>>2]=b;rt(e,s,i,r+S|0,0);c[d+(h+6<<2)>>2]=C;c[d+(h+7<<2)>>2]=b;c[d+(h+8<<2)>>2]=C;c[d+(h+9<<2)>>2]=m;c[d+(h+10<<2)>>2]=I;c[d+(h+11<<2)>>2]=m}if(f){i=o[M>>2]|0;bn(e,0);P=(o[t>>2]|0)+-1|0;x=o[T>>2]|0;o[x+(P*52|0)+8>>2]=i+((r+S|0)*104|0);o[x+(P*52|0)+12>>2]=i+(s*104|0);y=+c[i+((r+S|0)*104|0)+8>>2]-+c[i+(s*104|0)+8>>2];C=+c[i+((r+S|0)*104|0)+12>>2]-+c[i+(s*104|0)+12>>2];I=+c[i+((r+S|0)*104|0)+16>>2]-+c[i+(s*104|0)+16>>2];c[x+(P*52|0)+16>>2]=+v(+(y*y+C*C+I*I));n[R>>0]=1}h=h+12|0}else{bn(e,0);P=(o[t>>2]|0)+-1|0;x=o[T>>2]|0;o[x+(P*52|0)+8>>2]=p+((r+S|0)*104|0);o[x+(P*52|0)+12>>2]=p+((r+E|0)*104|0);y=+c[p+((r+S|0)*104|0)+8>>2]-+c[p+((r+E|0)*104|0)+8>>2];C=+c[p+((r+S|0)*104|0)+12>>2]-+c[p+((r+E|0)*104|0)+12>>2];I=+c[p+((r+S|0)*104|0)+16>>2]-+c[p+((r+E|0)*104|0)+16>>2];c[x+(P*52|0)+16>>2]=+v(+(y*y+C*C+I*I));n[R>>0]=1}}while((a|0)!=(l|0))}}while(0)}while((u|0)!=(_|0));return e|0}function Os(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0;I=+c[e+48>>2];s=+c[t>>2];x=+c[e+64>>2];l=+c[t+4>>2];F=+c[e+80>>2];p=+c[t+8>>2];A=+c[e+52>>2];m=+c[e+68>>2];b=+c[e+84>>2];E=+c[e+56>>2];L=+c[e+72>>2];S=+c[e+88>>2];C=+c[t+16>>2];y=+c[t+20>>2];g=+c[t+24>>2];w=+c[t+32>>2];P=+c[t+36>>2];D=+c[t+40>>2];_=+c[e+96>>2];r=+c[e+100>>2];O=+c[e+104>>2];T=+c[t+48>>2]+(s*_+l*r+p*O);a=C*_+y*r+g*O+ +c[t+52>>2];O=w*_+P*r+D*O+ +c[t+56>>2];c[e+1064>>2]=I*s+x*l+F*p;c[e+1068>>2]=s*A+l*m+p*b;c[e+1072>>2]=s*E+l*L+p*S;c[e+1076>>2]=0.0;c[e+1080>>2]=I*C+x*y+F*g;c[e+1084>>2]=A*C+m*y+b*g;c[e+1088>>2]=E*C+L*y+S*g;c[e+1092>>2]=0.0;c[e+1096>>2]=I*w+x*P+F*D;c[e+1100>>2]=A*w+m*P+b*D;c[e+1104>>2]=E*w+L*P+S*D;c[e+1108>>2]=0.0;c[e+1112>>2]=T;c[e+1116>>2]=a;c[e+1120>>2]=O;c[e+1124>>2]=0.0;O=+c[e+112>>2];a=+c[i>>2];T=+c[e+128>>2];D=+c[i+4>>2];S=+c[e+144>>2];P=+c[i+8>>2];L=+c[e+116>>2];w=+c[e+132>>2];E=+c[e+148>>2];b=+c[e+120>>2];m=+c[e+136>>2];A=+c[e+152>>2];F=+c[i+16>>2];x=+c[i+20>>2];I=+c[i+24>>2];g=+c[i+32>>2];y=+c[i+36>>2];C=+c[i+40>>2];p=+c[e+160>>2];l=+c[e+164>>2];s=+c[e+168>>2];r=+c[i+48>>2]+(a*p+D*l+P*s);_=F*p+x*l+I*s+ +c[i+52>>2];s=g*p+y*l+C*s+ +c[i+56>>2];c[e+1128>>2]=O*a+T*D+S*P;c[e+1132>>2]=a*L+D*w+P*E;c[e+1136>>2]=a*b+D*m+P*A;c[e+1140>>2]=0.0;c[e+1144>>2]=O*F+T*x+S*I;c[e+1148>>2]=L*F+w*x+E*I;c[e+1152>>2]=b*F+m*x+A*I;c[e+1156>>2]=0.0;c[e+1160>>2]=O*g+T*y+S*C;c[e+1164>>2]=L*g+w*y+E*C;c[e+1168>>2]=b*g+m*y+A*C;c[e+1172>>2]=0.0;c[e+1176>>2]=r;c[e+1180>>2]=_;c[e+1184>>2]=s;c[e+1188>>2]=0.0;r=r-+c[e+1112>>2];_=_-+c[e+1116>>2];s=s-+c[e+1120>>2];E=+c[e+1084>>2];w=+c[e+1104>>2];L=+c[e+1088>>2];S=+c[e+1100>>2];T=+c[e+1096>>2];O=+c[e+1080>>2];I=+c[e+1064>>2];x=+c[e+1068>>2];F=+c[e+1072>>2];P=1.0/((E*w-L*S)*I+x*(L*T-w*O)+(S*O-E*T)*F);D=(S*O-E*T)*P;a=s*((L*x-E*F)*P)+(r*((E*w-L*S)*P)+_*((S*F-w*x)*P));l=s*((O*F-L*I)*P)+(r*((L*T-w*O)*P)+_*((w*I-T*F)*P));_=s*((E*I-O*x)*P)+(r*D+_*((T*x-S*I)*P));c[e+1256>>2]=a;c[e+1260>>2]=l;c[e+1264>>2]=_;c[e+1268>>2]=0.0;c[e+840>>2]=a;r=+c[e+680>>2];s=+c[e+696>>2];do{if(!(r>s)){if(r>a){o[e+856>>2]=2;r=a-r;break}if(s<a){o[e+856>>2]=1;r=a-s;break}else{o[e+856>>2]=0;r=0.0;break}}else{o[e+856>>2]=0;r=0.0}}while(0);c[e+824>>2]=r;c[e+844>>2]=l;r=+c[e+684>>2];s=+c[e+700>>2];do{if(!(r>s)){if(r>l){o[e+860>>2]=2;r=l-r;break}if(s<l){o[e+860>>2]=1;r=l-s;break}else{o[e+860>>2]=0;r=0.0;break}}else{o[e+860>>2]=0;r=0.0}}while(0);c[e+828>>2]=r;c[e+848>>2]=_;r=+c[e+688>>2];s=+c[e+704>>2];do{if(!(r>s)){if(r>_){o[e+864>>2]=2;r=_-r;break}if(s<_){o[e+864>>2]=1;r=_-s;break}else{o[e+864>>2]=0;r=0.0;break}}else{o[e+864>>2]=0;r=0.0}}while(0);c[e+832>>2]=r;d=+c[e+1128>>2];h=+c[e+1144>>2];p=+c[e+1160>>2];s=+c[e+1132>>2];a=+c[e+1148>>2];l=+c[e+1164>>2];_=(E*w-L*S)*P*s+(S*F-w*x)*P*a+(L*x-E*F)*P*l;f=s*((L*T-w*O)*P)+(w*I-T*F)*P*a+(O*F-L*I)*P*l;u=p*((E*I-O*x)*P)+(d*D+h*((T*x-S*I)*P));r=D*+c[e+1136>>2]+(T*x-S*I)*P*+c[e+1152>>2]+(E*I-O*x)*P*(b*g+m*y+A*C);do{if(u<1.0){if(u>-1.0){c[e+1192>>2]=+M(+-(s*D+(T*x-S*I)*P*a+(E*I-O*x)*P*l),+r);r=u<-1.0?-1.0:u;c[e+1196>>2]=+R(+(r>1.0?1.0:r));r=+M(+-(p*((O*F-L*I)*P)+(d*((L*T-w*O)*P)+h*((w*I-T*F)*P))),+(p*((L*x-E*F)*P)+(d*((E*w-L*S)*P)+h*((S*F-w*x)*P))));break}else{c[e+1192>>2]=-+M(+_,+f);c[e+1196>>2]=-1.5707963705062866;r=0.0;break}}else{c[e+1192>>2]=+M(+_,+f);c[e+1196>>2]=1.5707963705062866;r=0.0}}while(0);c[e+1200>>2]=r;c[e+1236>>2]=0.0;S=w*(d*w-p*F)-L*(h*F-d*L);T=F*(h*F-d*L)-w*(p*L-h*w);O=L*(p*L-h*w)-F*(d*w-p*F);c[e+1220>>2]=0.0;x=h*(h*F-d*L)-p*(d*w-p*F);P=p*(p*L-h*w)-d*(h*F-d*L);D=d*(d*w-p*F)-h*(p*L-h*w);c[e+1252>>2]=0.0;I=1.0/+v(+(S*S+T*T+O*O));c[e+1208>>2]=S*I;c[e+1212>>2]=T*I;c[e+1216>>2]=O*I;I=1.0/+v(+((h*F-d*L)*(h*F-d*L)+((d*w-p*F)*(d*w-p*F)+(p*L-h*w)*(p*L-h*w))));c[e+1224>>2]=(p*L-h*w)*I;c[e+1228>>2]=(d*w-p*F)*I;c[e+1232>>2]=(h*F-d*L)*I;F=1.0/+v(+(x*x+P*P+D*D));c[e+1240>>2]=x*F;c[e+1244>>2]=P*F;c[e+1248>>2]=D*F;if(!(n[e+1301>>0]|0))return;L=+c[(o[e+28>>2]|0)+344>>2];F=+c[(o[e+32>>2]|0)+344>>2];n[e+1280>>0]=(L<1.1920928955078125e-07|F<1.1920928955078125e-07)&1;F=L+F>0.0?F/(L+F):.5;c[e+1272>>2]=F;c[e+1276>>2]=1.0-F;return}function Is(e,t){e=e|0;t=t|0;var i=0,r=0,s=0.0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0;b=ae;ae=ae+32|0;ht(e+4|0,((O(o[e+152>>2]|0,o[e+16>>2]|0)|0)/100|0)+1|0);if(o[e+164>>2]|0){h=((O(o[e+148>>2]|0,o[e+76>>2]|0)|0)/100|0)+1|0;ht(e+64|0,h);h=(o[e+164>>2]|0)-h|0;o[e+164>>2]=(h|0)>0?h:0}i=((o[e+144>>2]|0)+1|0)%2|0;o[e+144>>2]=i;i=o[e+124+(i<<2)>>2]|0;if(i|0){do{l=i+56|0;u=i;i=o[l>>2]|0;a=o[u+52>>2]|0;if(!a)a=e+124+(o[u+60>>2]<<2)|0;else a=a+56|0;o[a>>2]=i;a=o[l>>2]|0;if(a|0)o[a+52>>2]=o[u+52>>2];o[u+52>>2]=0;o[l>>2]=o[e+132>>2];a=o[e+132>>2]|0;if(a|0)o[a+52>>2]=u;o[e+132>>2]=u;a=o[u+48>>2]|0;fi(e+4|0,a)|0;l=o[e+8>>2]|0;if(l|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[e+8>>2]=a;o[e+16>>2]=(o[e+16>>2]|0)+-1;o[b>>2]=o[u+16>>2];o[b+4>>2]=o[u+16+4>>2];o[b+8>>2]=o[u+16+8>>2];o[b+12>>2]=o[u+16+12>>2];o[b+16>>2]=o[u+32>>2];o[b+16+4>>2]=o[u+32+4>>2];o[b+16+8>>2]=o[u+32+8>>2];o[b+16+12>>2]=o[u+32+12>>2];a=o[e+68>>2]|0;if(!a){o[6747]=(o[6747]|0)+1;a=Do(63)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}l=a;_=l+44|0;do{o[l>>2]=0;l=l+4|0}while((l|0)<(_|0))}else o[e+68>>2]=0;o[a+32>>2]=0;o[a+36>>2]=u;o[a+40>>2]=0;o[a>>2]=o[b>>2];o[a+4>>2]=o[b+4>>2];o[a+8>>2]=o[b+8>>2];o[a+12>>2]=o[b+12>>2];o[a+16>>2]=o[b+16>>2];o[a+20>>2]=o[b+20>>2];o[a+24>>2]=o[b+24>>2];o[a+28>>2]=o[b+28>>2];de(e+64|0,o[e+64>>2]|0,a);l=(o[e+76>>2]|0)+1|0;o[e+76>>2]=l;o[u+48>>2]=a;o[u+60>>2]=2}while((i|0)!=0);o[e+164>>2]=l;n[e+194>>0]=1}o[b>>2]=10216;o[b+4>>2]=e;if(n[e+193>>0]|0?(Fr(e+4|0,o[e+4>>2]|0,o[e+64>>2]|0,b),n[e+193>>0]|0):0){h=o[e+4>>2]|0;Fr(e+4|0,h,h,b)}if(n[e+194>>0]|0?(f=o[e+136>>2]|0,f=dF[o[(o[f>>2]|0)+28>>2]&127](f)|0,r=o[f+4>>2]|0,(r|0)>0):0){i=(O(o[e+156>>2]|0,r)|0)/100|0;h=o[e+160>>2]|0;i=(h|0)>(i|0)?h:i;i=(r|0)<(i|0)?r:i;if((i|0)>0){a=0;do{_=((o[e+184>>2]|0)+a|0)%(r|0)|0;d=o[f+12>>2]|0;l=o[d+(_<<4)>>2]|0;_=o[d+(_<<4)+4>>2]|0;d=o[l+48>>2]|0;h=o[_+48>>2]|0;if(!(((((+c[d>>2]<=+c[h+16>>2]?+c[d+16>>2]>=+c[h>>2]:0)?+c[d+4>>2]<=+c[h+20>>2]:0)?+c[d+20>>2]>=+c[h+4>>2]:0)?+c[d+8>>2]<=+c[h+24>>2]:0)?+c[d+24>>2]>=+c[h+8>>2]:0)){r=o[e+136>>2]|0;AF[o[(o[r>>2]|0)+12>>2]&31](r,l,_,t)|0;r=o[f+4>>2]|0;a=a+-1|0;i=i+-1|0}a=a+1|0}while((a|0)<(i|0));if((r|0)>0)p=37;else i=0}else p=37;if((p|0)==37)i=((o[e+184>>2]|0)+i|0)%(r|0)|0;o[e+184>>2]=i}o[e+180>>2]=(o[e+180>>2]|0)+1;o[e+160>>2]=1;n[e+194>>0]=0;r=o[e+168>>2]|0;i=o[e+172>>2]|0;if(!r)s=0.0;else s=+(i>>>0)/+(r>>>0);c[e+176>>2]=s;o[e+172>>2]=1?i>>>1:i;o[e+168>>2]=1?r>>>1:r;h=o[e+136>>2]|0;if(!(dF[o[(o[h>>2]|0)+56>>2]&127](h)|0)){ae=b;return}h=o[e+136>>2]|0;h=dF[o[(o[h>>2]|0)+28>>2]&127](h)|0;i=o[h+4>>2]|0;if((i|0)>1){Ur(h,0,i+-1|0);i=o[h+4>>2]|0}if((i|0)>0){f=0;u=0;d=0;a=0;while(1){_=o[h+12>>2]|0;l=_+(f<<4)|0;m=d;d=o[l>>2]|0;_=_+(f<<4)+4|0;r=o[_>>2]|0;if(!((d|0)==(m|0)&(r|0)==(a|0))){a=o[d+48>>2]|0;m=o[r+48>>2]|0;if(((((+c[a>>2]<=+c[m+16>>2]?+c[a+16>>2]>=+c[m>>2]:0)?+c[a+4>>2]<=+c[m+20>>2]:0)?+c[a+20>>2]>=+c[m+4>>2]:0)?+c[a+8>>2]<=+c[m+24>>2]:0)?+c[a+24>>2]>=+c[m+8>>2]:0)a=u;else p=53}else{r=a;p=53}if((p|0)==53){p=0;i=o[e+136>>2]|0;LF[o[(o[i>>2]|0)+32>>2]&127](i,l,t);o[l>>2]=0;o[_>>2]=0;i=o[h+4>>2]|0;a=u+1|0}f=f+1|0;if((f|0)>=(i|0))break;else{u=a;a=r}}if((i|0)>1){Ur(h,0,i+-1|0);i=o[h+4>>2]|0}_=i-a|0;if((a|0)<0){if((o[h+8>>2]|0)<(_|0)){if(!_){a=i;l=0}else{o[6747]=(o[6747]|0)+1;r=Do((_<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}a=o[h+4>>2]|0;l=r}if((a|0)>0){r=0;do{m=o[h+12>>2]|0;o[l+(r<<4)>>2]=o[m+(r<<4)>>2];o[l+(r<<4)+4>>2]=o[m+(r<<4)+4>>2];o[l+(r<<4)+8>>2]=o[m+(r<<4)+8>>2];o[l+(r<<4)+12>>2]=o[m+(r<<4)+12>>2];r=r+1|0}while((r|0)!=(a|0))}r=o[h+12>>2]|0;if(r|0){if(n[h+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[h+12>>2]=0}n[h+16>>0]=1;o[h+12>>2]=l;o[h+8>>2]=_}do{m=(o[h+12>>2]|0)+(i<<4)|0;i=i+1|0;o[m>>2]=0;o[m+4>>2]=0;o[m+8>>2]=0;o[m+12>>2]=0}while((i|0)!=(_|0));i=_}else i=_}o[h+4>>2]=i;ae=b;return}function xs(e){e=e|0;var t=0,i=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,C=0,E=0.0,S=0;g=ae;ae=ae+176|0;if(!(n[e+527>>0]|0)){ae=g;return}c[e+36>>2]=0.0;c[e+520>>2]=0.0;c[e+516>>2]=0.0;o[e+576>>2]=0;o[e+576+4>>2]=0;o[e+576+8>>2]=0;o[e+576+12>>2]=0;if(!(n[e+524>>0]|0)){C=o[e+28>>2]|0;l=+c[e+348>>2];_=+c[e+352>>2];b=+c[e+356>>2];A=l*+c[C+20>>2]+_*+c[C+24>>2]+b*+c[C+28>>2]+ +c[C+56>>2];t=o[e+32>>2]|0;u=+c[e+412>>2];f=+c[e+416>>2];d=+c[e+420>>2];m=u*+c[t+20>>2]+f*+c[t+24>>2]+d*+c[t+28>>2]+ +c[t+56>>2];p=u*+c[t+36>>2]+f*+c[t+40>>2]+d*+c[t+44>>2]+ +c[t+60>>2];h=l*+c[C+4>>2]+_*+c[C+8>>2]+b*+c[C+12>>2]+ +c[C+52>>2];b=l*+c[C+36>>2]+_*+c[C+40>>2]+b*+c[C+44>>2]+ +c[C+60>>2];d=u*+c[t+4>>2]+f*+c[t+8>>2]+d*+c[t+12>>2]+ +c[t+52>>2];if((d-h)*(d-h)+(m-A)*(m-A)+(p-b)*(p-b)>1.1920928955078125e-07){a=1.0/+v(+((d-h)*(d-h)+(m-A)*(m-A)+(p-b)*(p-b)));c[g>>2]=(d-h)*a;c[g+4>>2]=(m-A)*a;c[g+8>>2]=(p-b)*a;o[g+12>>2]=0;s=(p-b)*a;i=(m-A)*a;a=(d-h)*a}else{o[g>>2]=1065353216;o[g+4>>2]=0;o[g+8>>2]=0;c[g+12>>2]=0.0;s=0.0;i=0.0;a=1.0}if(+y(+s)>.7071067690849304){E=s*s+i*i;f=1.0/+v(+E);u=-(s*f);i=i*f;r=i;l=a*u;_=0.0;f=E*f;i=-(a*i)}else{_=a*a+i*i;l=1.0/+v(+_);i=-(i*l);f=a*l;r=0.0;l=_*l;_=i;u=f;f=-(s*f);i=s*i}c[g+16>>2]=_;c[g+20>>2]=u;c[g+24>>2]=r;c[g+32>>2]=f;c[g+36>>2]=i;c[g+40>>2]=l;C=o[e+28>>2]|0;o[g+128>>2]=o[C+4>>2];o[g+128+4>>2]=o[C+20>>2];o[g+128+8>>2]=o[C+36>>2];c[g+128+12>>2]=0.0;o[g+128+16>>2]=o[C+8>>2];o[g+128+20>>2]=o[C+24>>2];o[g+128+24>>2]=o[C+40>>2];c[g+128+28>>2]=0.0;o[g+128+32>>2]=o[C+12>>2];o[g+128+36>>2]=o[C+28>>2];o[g+128+40>>2]=o[C+44>>2];c[g+128+44>>2]=0.0;t=o[e+32>>2]|0;o[g+80>>2]=o[t+4>>2];o[g+80+4>>2]=o[t+20>>2];o[g+80+8>>2]=o[t+36>>2];c[g+80+12>>2]=0.0;o[g+80+16>>2]=o[t+8>>2];o[g+80+20>>2]=o[t+24>>2];o[g+80+24>>2]=o[t+40>>2];c[g+80+28>>2]=0.0;o[g+80+32>>2]=o[t+12>>2];o[g+80+36>>2]=o[t+28>>2];o[g+80+40>>2]=o[t+44>>2];c[g+80+44>>2]=0.0;E=A-+c[C+56>>2];f=b-+c[C+60>>2];c[g+64>>2]=h-+c[C+52>>2];c[g+64+4>>2]=E;c[g+64+8>>2]=f;c[g+64+12>>2]=0.0;f=m-+c[t+56>>2];E=p-+c[t+60>>2];c[g+48>>2]=d-+c[t+52>>2];c[g+48+4>>2]=f;c[g+48+8>>2]=E;c[g+48+12>>2]=0.0;ti(e+48|0,g+128|0,g+80|0,g+64|0,g+48|0,g,C+396|0,+c[C+344>>2],t+396|0,+c[t+344>>2]);t=o[e+28>>2]|0;o[g+128>>2]=o[t+4>>2];o[g+128+4>>2]=o[t+20>>2];o[g+128+8>>2]=o[t+36>>2];c[g+128+12>>2]=0.0;o[g+128+16>>2]=o[t+8>>2];o[g+128+20>>2]=o[t+24>>2];o[g+128+24>>2]=o[t+40>>2];c[g+128+28>>2]=0.0;o[g+128+32>>2]=o[t+12>>2];o[g+128+36>>2]=o[t+28>>2];o[g+128+40>>2]=o[t+44>>2];c[g+128+44>>2]=0.0;C=o[e+32>>2]|0;o[g+80>>2]=o[C+4>>2];o[g+80+4>>2]=o[C+20>>2];o[g+80+8>>2]=o[C+36>>2];c[g+80+12>>2]=0.0;o[g+80+16>>2]=o[C+8>>2];o[g+80+20>>2]=o[C+24>>2];o[g+80+24>>2]=o[C+40>>2];c[g+80+28>>2]=0.0;o[g+80+32>>2]=o[C+12>>2];o[g+80+36>>2]=o[C+28>>2];o[g+80+40>>2]=o[C+44>>2];c[g+80+44>>2]=0.0;E=A-+c[t+56>>2];f=b-+c[t+60>>2];c[g+64>>2]=h-+c[t+52>>2];c[g+64+4>>2]=E;c[g+64+8>>2]=f;c[g+64+12>>2]=0.0;f=m-+c[C+56>>2];E=p-+c[C+60>>2];c[g+48>>2]=d-+c[C+52>>2];c[g+48+4>>2]=f;c[g+48+8>>2]=E;c[g+48+12>>2]=0.0;ti(e+132|0,g+128|0,g+80|0,g+64|0,g+48|0,g+16|0,t+396|0,+c[t+344>>2],C+396|0,+c[C+344>>2]);C=o[e+28>>2]|0;o[g+128>>2]=o[C+4>>2];o[g+128+4>>2]=o[C+20>>2];o[g+128+8>>2]=o[C+36>>2];c[g+128+12>>2]=0.0;o[g+128+16>>2]=o[C+8>>2];o[g+128+20>>2]=o[C+24>>2];o[g+128+24>>2]=o[C+40>>2];c[g+128+28>>2]=0.0;o[g+128+32>>2]=o[C+12>>2];o[g+128+36>>2]=o[C+28>>2];o[g+128+40>>2]=o[C+44>>2];c[g+128+44>>2]=0.0;t=o[e+32>>2]|0;o[g+80>>2]=o[t+4>>2];o[g+80+4>>2]=o[t+20>>2];o[g+80+8>>2]=o[t+36>>2];c[g+80+12>>2]=0.0;o[g+80+16>>2]=o[t+8>>2];o[g+80+20>>2]=o[t+24>>2];o[g+80+24>>2]=o[t+40>>2];c[g+80+28>>2]=0.0;o[g+80+32>>2]=o[t+12>>2];o[g+80+36>>2]=o[t+28>>2];o[g+80+40>>2]=o[t+44>>2];c[g+80+44>>2]=0.0;E=A-+c[C+56>>2];A=b-+c[C+60>>2];c[g+64>>2]=h-+c[C+52>>2];c[g+64+4>>2]=E;c[g+64+8>>2]=A;c[g+64+12>>2]=0.0;A=m-+c[t+56>>2];E=p-+c[t+60>>2];c[g+48>>2]=d-+c[t+52>>2];c[g+48+4>>2]=A;c[g+48+8>>2]=E;c[g+48+12>>2]=0.0;ti(e+216|0,g+128|0,g+80|0,g+64|0,g+48|0,g+32|0,C+396|0,+c[C+344>>2],t+396|0,+c[t+344>>2]);t=e+32|0}else t=e+32|0;S=o[e+28>>2]|0;C=o[t>>2]|0;Bo(e,S+4|0,C+4|0,S+264|0,C+264|0);ae=g;return}function Ps(e,t,i,n,s,l,_,u,f){e=e|0;t=t|0;i=i|0;n=n|0;s=s|0;l=l|0;_=_|0;u=u|0;f=f|0;var d=0,h=0,p=0,b=0,m=0.0,A=0,g=0.0,y=0.0,v=0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0,x=0,P=0,D=0;C=+c[e+8>>2];S=+c[e+12>>2];R=+c[e+16>>2];E=+c[e+40>>2];m=(+c[t>>2]-C)*E;T=+c[e+44>>2];g=(+c[t+4>>2]-S)*T;M=+c[e+48>>2];y=(+c[t+8>>2]-R)*M;if(!(m<=0.0)){v=r[e+6>>1]|0;v=r[e+4>>1]&(!(m>=+(v&65535))?~~m&65535:v)}else v=0;if(!(g<=0.0)){A=r[e+6>>1]|0;A=r[e+4>>1]&(!(g>=+(A&65535))?~~g&65535:A)}else A=0;if(!(y<=0.0)){b=r[e+6>>1]|0;b=r[e+4>>1]&(!(y>=+(b&65535))?~~y&65535:b)}else b=0;y=(+c[i>>2]-C)*E;g=(+c[i+4>>2]-S)*T;m=(+c[i+8>>2]-R)*M;if(!(y<=0.0)){p=r[e+6>>1]|0;p=r[e+4>>1]&(!(y>=+(p&65535))?~~y&65535:p)|1}else p=1;if(!(g<=0.0)){h=r[e+6>>1]|0;h=r[e+4>>1]&(!(g>=+(h&65535))?~~g&65535:h)|1}else h=1;if(!(m<=0.0)){d=r[e+6>>1]|0;d=r[e+4>>1]&(!(m>=+(d&65535))?~~m&65535:d)|1}else d=1;I=r[e+64>>1]|0;O=o[e+60>>2]|0;r[e+64>>1]=r[O+((I&65535)<<6)+48>>1]|0;x=(r[e+56>>1]|0)+1<<16>>16;r[e+56>>1]=x;o[O+((I&65535)<<6)+12>>2]=I&65535;o[O+((I&65535)<<6)>>2]=s;r[O+((I&65535)<<6)+4>>1]=l;r[O+((I&65535)<<6)+6>>1]=_;o[O+((I&65535)<<6)+8>>2]=f;f=(x&65535)<<1&65534;r[O+54>>1]=(a[O+54>>1]|0)+2;P=o[e+68>>2]|0;D=a[P+(f+-1<<2)>>1]|a[P+(f+-1<<2)+2>>1]<<16;r[P+((f|1)<<2)>>1]=D;r[P+((f|1)<<2)+2>>1]=D>>>16;P=o[e+68>>2]|0;r[P+(f+-1<<2)>>1]=v;r[P+(f+-1<<2)+2>>1]=I;r[P+(f<<2)>>1]=p;r[P+(f<<2)+2>>1]=I;r[O+((I&65535)<<6)+48>>1]=f+-1;r[O+((I&65535)<<6)+54>>1]=(x&65535)<<1;p=(o[e+60>>2]|0)+56|0;r[p>>1]=(a[p>>1]|0)+2;p=o[e+72>>2]|0;v=a[p+(f+-1<<2)>>1]|a[p+(f+-1<<2)+2>>1]<<16;r[p+((f|1)<<2)>>1]=v;r[p+((f|1)<<2)+2>>1]=v>>>16;p=o[e+72>>2]|0;r[p+(f+-1<<2)>>1]=A;r[p+(f+-1<<2)+2>>1]=I;r[p+(f<<2)>>1]=h;r[p+(f<<2)+2>>1]=I;r[O+((I&65535)<<6)+50>>1]=f+-1;r[O+((I&65535)<<6)+56>>1]=(x&65535)<<1;p=(o[e+60>>2]|0)+58|0;r[p>>1]=(a[p>>1]|0)+2;p=o[e+76>>2]|0;A=a[p+(f+-1<<2)>>1]|a[p+(f+-1<<2)+2>>1]<<16;r[p+((f|1)<<2)>>1]=A;r[p+((f|1)<<2)+2>>1]=A>>>16;p=o[e+76>>2]|0;r[p+(f+-1<<2)>>1]=b;r[p+(f+-1<<2)+2>>1]=I;r[p+(f<<2)>>1]=d;r[p+(f<<2)+2>>1]=I;r[O+((I&65535)<<6)+52>>1]=f+-1;r[O+((I&65535)<<6)+58>>1]=(x&65535)<<1;p=o[e+68>>2]|0;A=a[O+((I&65535)<<6)+48>>1]|0;h=o[e+60>>2]|0;d=r[p+(A<<2)+-4>>1]|0;if((a[p+(A<<2)>>1]|0)<(d&65535)){v=h+((a[p+(A<<2)+2>>1]|0)<<6)+48|0;b=p+(A<<2)|0;p=p+(A<<2)+-4|0;while(1){D=a[b+-2>>1]|0;d=(d&1)==0?h+(D<<6)+48|0:h+(D<<6)+54|0;r[d>>1]=(r[d>>1]|0)+1<<16>>16;r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[b>>1]|a[b+2>>1]<<16;D=a[p>>1]|a[p+2>>1]<<16;r[b>>1]=D;r[b+2>>1]=D>>>16;r[p>>1]=d;r[p+2>>1]=d>>>16;b=b+-4|0;p=p+-4|0;d=r[p>>1]|0;if((a[b>>1]|0)>=(d&65535))break;h=o[e+60>>2]|0}d=o[e+68>>2]|0}else d=p;h=a[O+((I&65535)<<6)+54>>1]|0;A=d+(h<<2)|0;p=r[A+-4>>1]|0;e:do{if((a[A>>1]|0)<(p&65535)){b=o[e+60>>2]|0;v=b+((a[d+(h<<2)+2>>1]|0)<<6)+54|0;d=p;p=A;h=A+-4|0;while(1){D=a[p+-2>>1]|0;d=(d&1)==0?b+(D<<6)+48|0:b+(D<<6)+54|0;r[d>>1]=(r[d>>1]|0)+1<<16>>16;r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[p>>1]|a[p+2>>1]<<16;D=a[h>>1]|a[h+2>>1]<<16;r[p>>1]=D;r[p+2>>1]=D>>>16;r[h>>1]=d;r[h+2>>1]=d>>>16;p=p+-4|0;h=h+-4|0;d=r[h>>1]|0;if((a[p>>1]|0)>=(d&65535))break e;b=o[e+60>>2]|0}}}while(0);h=o[e+72>>2]|0;A=a[O+((I&65535)<<6)+50>>1]|0;p=o[e+60>>2]|0;d=r[h+(A<<2)+-4>>1]|0;if((a[h+(A<<2)>>1]|0)<(d&65535)){v=p+((a[h+(A<<2)+2>>1]|0)<<6)+50|0;b=h+(A<<2)|0;h=h+(A<<2)+-4|0;while(1){D=a[b+-2>>1]|0;d=(d&1)==0?p+(D<<6)+50|0:p+(D<<6)+56|0;r[d>>1]=(r[d>>1]|0)+1<<16>>16;r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[b>>1]|a[b+2>>1]<<16;D=a[h>>1]|a[h+2>>1]<<16;r[b>>1]=D;r[b+2>>1]=D>>>16;r[h>>1]=d;r[h+2>>1]=d>>>16;b=b+-4|0;h=h+-4|0;d=r[h>>1]|0;if((a[b>>1]|0)>=(d&65535))break;p=o[e+60>>2]|0}h=o[e+72>>2]|0}p=a[O+((I&65535)<<6)+56>>1]|0;A=h+(p<<2)|0;d=r[A+-4>>1]|0;e:do{if((a[A>>1]|0)<(d&65535)){b=o[e+60>>2]|0;v=b+((a[h+(p<<2)+2>>1]|0)<<6)+56|0;p=A;h=A+-4|0;while(1){D=a[p+-2>>1]|0;d=(d&1)==0?b+(D<<6)+50|0:b+(D<<6)+56|0;r[d>>1]=(r[d>>1]|0)+1<<16>>16;r[v>>1]=(r[v>>1]|0)+-1<<16>>16;d=a[p>>1]|a[p+2>>1]<<16;D=a[h>>1]|a[h+2>>1]<<16;r[p>>1]=D;r[p+2>>1]=D>>>16;r[h>>1]=d;r[h+2>>1]=d>>>16;p=p+-4|0;h=h+-4|0;d=r[h>>1]|0;if((a[p>>1]|0)>=(d&65535))break e;b=o[e+60>>2]|0}}}while(0);Li(e,2,r[O+((I&65535)<<6)+52>>1]|0);Oi(e,2,r[O+((I&65535)<<6)+58>>1]|0,u);h=o[e+60>>2]|0;d=o[e+108>>2]|0;if(!d){D=h+((I&65535)<<6)|0;return D|0}o[h+((I&65535)<<6)+60>>2]=vF[o[(o[d>>2]|0)+8>>2]&3](d,t,i,n,s,l,_,u,0)|0;D=h+((I&65535)<<6)|0;return D|0}function Ds(e,t){e=e|0;t=t|0;var i=0.0,r=0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0,A=0,g=0.0,y=0.0,v=0.0,C=0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0;s=o[e+28>>2]|0;_=o[e+32>>2]|0;Bo(e,s+4|0,_+4|0,s+264|0,_+264|0);b=o[t+8>>2]|0;c[b>>2]=1.0;p=o[t+24>>2]|0;c[b+(p+1<<2)>>2]=1.0;c[b+((p<<1)+2<<2)>>2]=1.0;h=+c[e+348>>2];v=+c[e+352>>2];u=+c[e+356>>2];g=+c[s+4>>2]*h+ +c[s+8>>2]*v+ +c[s+12>>2]*u;d=h*+c[s+20>>2]+v*+c[s+24>>2]+u*+c[s+28>>2];u=h*+c[s+36>>2]+v*+c[s+40>>2]+u*+c[s+44>>2];b=o[t+12>>2]|0;o[b>>2]=0;c[b+4>>2]=u;c[b+8>>2]=-d;c[b+12>>2]=0.0;c[b+(p<<2)>>2]=-u;o[b+(p<<2)+4>>2]=0;c[b+(p<<2)+8>>2]=g;c[b+(p<<2)+12>>2]=0.0;c[b+(p<<1<<2)>>2]=d;c[b+(p<<1<<2)+4>>2]=-g;o[b+(p<<1<<2)+8>>2]=0;c[b+(p<<1<<2)+12>>2]=0.0;m=o[t+16>>2]|0;c[m>>2]=-1.0;c[m+(p+1<<2)>>2]=-1.0;c[m+((p<<1)+2<<2)>>2]=-1.0;v=+c[e+412>>2];h=+c[e+416>>2];i=+c[e+420>>2];y=+c[_+4>>2]*v+ +c[_+8>>2]*h+ +c[_+12>>2]*i;f=v*+c[_+20>>2]+h*+c[_+24>>2]+i*+c[_+28>>2];i=v*+c[_+36>>2]+h*+c[_+40>>2]+i*+c[_+44>>2];m=o[t+20>>2]|0;o[m>>2]=0;c[m+4>>2]=-i;c[m+8>>2]=f;c[m+12>>2]=0.0;c[m+(p<<2)>>2]=i;o[m+(p<<2)+4>>2]=0;c[m+(p<<2)+8>>2]=-y;c[m+(p<<2)+12>>2]=0.0;c[m+(p<<1<<2)>>2]=-f;c[m+(p<<1<<2)+4>>2]=y;o[m+(p<<1<<2)+8>>2]=0;c[m+(p<<1<<2)+12>>2]=0.0;A=o[e+592>>2]|0;h=+c[((A&2|0)==0?t+4|0:e+600|0)>>2]*+c[t>>2];a=o[t+28>>2]|0;r=o[t+36>>2]|0;l=o[t+40>>2]|0;c[a>>2]=h*(y+ +c[_+52>>2]-g-+c[s+52>>2]);c[r>>2]=-3402823466385288598117041.0e14;c[l>>2]=3402823466385288598117041.0e14;if(!(A&1)){c[a+(p<<2)>>2]=h*(f+ +c[_+56>>2]-d-+c[s+56>>2]);c[r+(p<<2)>>2]=-3402823466385288598117041.0e14;c[l+(p<<2)>>2]=3402823466385288598117041.0e14;c[a+(p<<1<<2)>>2]=h*(i+ +c[_+60>>2]-u-+c[s+60>>2]);c[r+(p<<1<<2)>>2]=-3402823466385288598117041.0e14;c[l+(p<<1<<2)>>2]=3402823466385288598117041.0e14}else{C=o[t+32>>2]|0;o[C>>2]=o[e+596>>2];c[a+(p<<2)>>2]=h*(f+ +c[_+56>>2]-d-+c[s+56>>2]);c[r+(p<<2)>>2]=-3402823466385288598117041.0e14;c[l+(p<<2)>>2]=3402823466385288598117041.0e14;o[C+(p<<2)>>2]=o[e+596>>2];c[a+(p<<1<<2)>>2]=h*(i+ +c[_+60>>2]-u-+c[s+60>>2]);c[r+(p<<1<<2)>>2]=-3402823466385288598117041.0e14;c[l+(p<<1<<2)>>2]=3402823466385288598117041.0e14;o[C+(p<<1<<2)>>2]=o[e+596>>2]}do{if(!(n[e+526>>0]|0))s=p*3|0;else{v=+c[e+456>>2];if(+c[e+444>>2]<v?+c[e+448>>2]<v:0){R=+c[s+4>>2];T=+c[s+8>>2];S=+c[s+12>>2];x=+c[e+304>>2];I=+c[e+320>>2];O=+c[e+336>>2];f=+c[e+308>>2];h=+c[e+324>>2];y=+c[e+340>>2];E=+c[s+20>>2];i=+c[s+24>>2];u=+c[s+28>>2];d=+c[s+36>>2];g=+c[s+40>>2];v=+c[s+44>>2];c[b+(p*3<<2)>>2]=R*x+T*I+S*O;c[b+((p*3|0)+1<<2)>>2]=x*E+I*i+O*u;c[b+((p*3|0)+2<<2)>>2]=x*d+I*g+O*v;c[b+(p<<2<<2)>>2]=R*f+T*h+S*y;c[b+((p<<2|1)<<2)>>2]=f*E+h*i+y*u;c[b+((p<<2|2)<<2)>>2]=f*d+h*g+y*v;c[m+(p*3<<2)>>2]=-(R*x+T*I+S*O);c[m+((p*3|0)+1<<2)>>2]=-(x*E+I*i+O*u);c[m+((p*3|0)+2<<2)>>2]=-(x*d+I*g+O*v);c[m+(p<<2<<2)>>2]=-(R*f+T*h+S*y);c[m+((p<<2|1)<<2)>>2]=-(f*E+h*i+y*u);c[m+((p<<2|2)<<2)>>2]=-(f*d+h*g+y*v);M=+c[t>>2]*+c[e+436>>2];a=o[t+28>>2]|0;c[a+(p*3<<2)>>2]=M*((R*x+T*I+S*O)*+c[e+460>>2]+(x*E+I*i+O*u)*+c[e+464>>2]+(x*d+I*g+O*v)*+c[e+468>>2]);c[a+(p<<2<<2)>>2]=M*((R*f+T*h+S*y)*+c[e+460>>2]+(f*E+h*i+y*u)*+c[e+464>>2]+(f*d+h*g+y*v)*+c[e+468>>2]);r=o[t+36>>2]|0;c[r+(p*3<<2)>>2]=-3402823466385288598117041.0e14;l=o[t+40>>2]|0;c[l+(p*3<<2)>>2]=3402823466385288598117041.0e14;c[r+(p<<2<<2)>>2]=-3402823466385288598117041.0e14;c[l+(p<<2<<2)>>2]=3402823466385288598117041.0e14;s=p*5|0;break}x=+c[e+436>>2];O=x*(+c[e+460>>2]*x);I=x*(x*+c[e+464>>2]);x=x*(x*+c[e+468>>2]);c[b+(p*3<<2)>>2]=O;c[b+((p*3|0)+1<<2)>>2]=I;c[b+((p*3|0)+2<<2)>>2]=x;c[m+(p*3<<2)>>2]=-O;c[m+((p*3|0)+1<<2)>>2]=-I;c[m+((p*3|0)+2<<2)>>2]=-x;c[a+(p*3<<2)>>2]=+c[t>>2]*+c[e+432>>2]*+c[e+504>>2];if(A&4|0)o[(o[t+32>>2]|0)+(p*3<<2)>>2]=o[e+604>>2];c[r+(p*3<<2)>>2]=0.0;c[l+(p*3<<2)>>2]=3402823466385288598117041.0e14;s=p<<2}}while(0);if(!(n[e+525>>0]|0))return;x=+c[e+436>>2];O=x*(+c[e+476>>2]*x);I=x*(x*+c[e+480>>2]);x=x*(x*+c[e+484>>2]);c[b+(s<<2)>>2]=O;p=s+1|0;c[b+(p<<2)>>2]=I;C=s+2|0;c[b+(C<<2)>>2]=x;c[m+(s<<2)>>2]=-O;c[m+(p<<2)>>2]=-I;c[m+(C<<2)>>2]=-x;c[a+(s<<2)>>2]=+c[t>>2]*+c[e+432>>2]*+c[e+508>>2];if(A&4|0)o[(o[t+32>>2]|0)+(s<<2)>>2]=o[e+604>>2];do{if(+c[e+452>>2]>0.0){r=r+(s<<2)|0;if(+c[e+508>>2]>0.0){c[r>>2]=0.0;i=3402823466385288598117041.0e14;break}else{c[r>>2]=-3402823466385288598117041.0e14;i=0.0;break}}else{c[r+(s<<2)>>2]=-3402823466385288598117041.0e14;i=3402823466385288598117041.0e14}}while(0);c[l+(s<<2)>>2]=i;return}function ws(e,t,i,r,s,a,l,_,u,f){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;f=f|0;var d=0,h=0,p=0,b=0,m=0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0,R=0,M=0.0,I=0,x=0;if((l|0)<2|(_|0)<2){_=0;return _|0}p=O(_,l)|0;o[6747]=(o[6747]|0)+1;e=Do(p>>>0>268435455?18:(p<<4|3)+16|0)|0;if(!e)m=0;else{o[(e+4+15&-16)+-4>>2]=e;m=e+4+15&-16}b=WL(p>>>0>1073741823?-1:p<<2)|0;d=0;do{M=+(d|0)/+(_+-1|0);A=+c[i>>2];A=A+M*(+c[s>>2]-A);g=+c[i+4>>2];g=g+M*(+c[s+4>>2]-g);y=+c[i+8>>2];y=y+M*(+c[s+8>>2]-y);C=+c[r>>2];E=+c[r+4>>2];S=+c[r+8>>2];C=C+M*(+c[a>>2]-C)-A;E=E+M*(+c[a+4>>2]-E)-g;S=S+M*(+c[a+8>>2]-S)-y;h=O(d,l)|0;e=0;do{M=+(e|0)/+(l+-1|0);R=e+h|0;c[m+(R<<4)>>2]=A+C*M;c[m+(R<<4)+4>>2]=g+E*M;c[m+(R<<4)+8>>2]=y+S*M;c[m+(R<<4)+12>>2]=0.0;c[b+(R<<2)>>2]=1.0;e=e+1|0}while((e|0)!=(l|0));d=d+1|0}while((d|0)!=(_|0));o[6747]=(o[6747]|0)+1;e=Do(1271)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}Vo(e,t,p,m,b);if(u&1|0){c[(o[e+720>>2]|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&2|0){c[(o[e+720>>2]|0)+((l+-1|0)*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(u&4|0){R=O(_+-1|0,l)|0;c[(o[e+720>>2]|0)+(R*104|0)+88>>2]=0.0;n[e+924>>0]=1}if(!(u&8)){T=e+924|0;R=e+720|0}else{T=l+-1+(O(_+-1|0,l)|0)|0;R=e+720|0;c[(o[R>>2]|0)+(T*104|0)+88>>2]=0.0;T=e+924|0;n[T>>0]=1}o[6748]=(o[6748]|0)+1;Vs(o[m+-4>>2]|0);XL(b);t=e+732|0;m=e+740|0;p=0;while(1){e:do{if((l|0)>0){u=O(p,l)|0;d=p+1|0;b=O(d,l)|0;if((d|0)>=(_|0)){h=0;while(1){i=h;h=h+1|0;if((h|0)<(l|0)){a=h+u|0;r=o[R>>2]|0;bn(e,0);b=(o[t>>2]|0)+-1|0;p=o[m>>2]|0;o[p+(b*52|0)+8>>2]=r+((i+u|0)*104|0);o[p+(b*52|0)+12>>2]=r+(a*104|0);E=+c[r+((i+u|0)*104|0)+8>>2]-+c[r+(a*104|0)+8>>2];S=+c[r+((i+u|0)*104|0)+12>>2]-+c[r+(a*104|0)+12>>2];M=+c[r+((i+u|0)*104|0)+16>>2]-+c[r+(a*104|0)+16>>2];c[p+(b*52|0)+16>>2]=+v(+(E*E+S*S+M*M));n[T>>0]=1}if((h|0)==(l|0))break e}}r=0;do{h=r+u|0;a=r;r=r+1|0;do{if((r|0)<(l|0)){i=r+u|0;I=o[R>>2]|0;bn(e,0);x=(o[t>>2]|0)+-1|0;s=o[m>>2]|0;o[s+(x*52|0)+8>>2]=I+(h*104|0);o[s+(x*52|0)+12>>2]=I+(i*104|0);M=+c[I+(h*104|0)+8>>2]-+c[I+(i*104|0)+8>>2];S=+c[I+(h*104|0)+12>>2]-+c[I+(i*104|0)+12>>2];E=+c[I+(h*104|0)+16>>2]-+c[I+(i*104|0)+16>>2];c[s+(x*52|0)+16>>2]=+v(+(M*M+S*S+E*E));n[T>>0]=1;x=o[R>>2]|0;bn(e,0);s=(o[t>>2]|0)+-1|0;I=o[m>>2]|0;o[I+(s*52|0)+8>>2]=x+(h*104|0);o[I+(s*52|0)+12>>2]=x+((a+b|0)*104|0);E=+c[x+(h*104|0)+8>>2]-+c[x+((a+b|0)*104|0)+8>>2];S=+c[x+(h*104|0)+12>>2]-+c[x+((a+b|0)*104|0)+12>>2];M=+c[x+(h*104|0)+16>>2]-+c[x+((a+b|0)*104|0)+16>>2];c[I+(s*52|0)+16>>2]=+v(+(E*E+S*S+M*M));n[T>>0]=1;if(!(a+p&1)){rt(e,a+b|0,h,i,0);rt(e,a+b|0,i,r+b|0,0);if(!f)break;s=o[R>>2]|0;bn(e,0);x=(o[t>>2]|0)+-1|0;I=o[m>>2]|0;o[I+(x*52|0)+8>>2]=s+(i*104|0);o[I+(x*52|0)+12>>2]=s+((a+b|0)*104|0);E=+c[s+(i*104|0)+8>>2]-+c[s+((a+b|0)*104|0)+8>>2];S=+c[s+(i*104|0)+12>>2]-+c[s+((a+b|0)*104|0)+12>>2];M=+c[s+(i*104|0)+16>>2]-+c[s+((a+b|0)*104|0)+16>>2];c[I+(x*52|0)+16>>2]=+v(+(E*E+S*S+M*M));n[T>>0]=1;break}else{s=r+b|0;rt(e,h,i,s,0);rt(e,h,s,a+b|0,0);if(!f)break;a=o[R>>2]|0;bn(e,0);x=(o[t>>2]|0)+-1|0;I=o[m>>2]|0;o[I+(x*52|0)+8>>2]=a+(h*104|0);o[I+(x*52|0)+12>>2]=a+(s*104|0);E=+c[a+(h*104|0)+8>>2]-+c[a+(s*104|0)+8>>2];S=+c[a+(h*104|0)+12>>2]-+c[a+(s*104|0)+12>>2];M=+c[a+(h*104|0)+16>>2]-+c[a+(s*104|0)+16>>2];c[I+(x*52|0)+16>>2]=+v(+(E*E+S*S+M*M));n[T>>0]=1;break}}else{s=o[R>>2]|0;bn(e,0);x=(o[t>>2]|0)+-1|0;I=o[m>>2]|0;o[I+(x*52|0)+8>>2]=s+(h*104|0);o[I+(x*52|0)+12>>2]=s+((a+b|0)*104|0);E=+c[s+(h*104|0)+8>>2]-+c[s+((a+b|0)*104|0)+8>>2];S=+c[s+(h*104|0)+12>>2]-+c[s+((a+b|0)*104|0)+12>>2];M=+c[s+(h*104|0)+16>>2]-+c[s+((a+b|0)*104|0)+16>>2];c[I+(x*52|0)+16>>2]=+v(+(E*E+S*S+M*M));n[T>>0]=1}}while(0)}while((r|0)!=(l|0))}else d=p+1|0}while(0);if((d|0)==(_|0))break;else p=d}return e|0}function Ls(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=+s;var a=0.0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0,A=0,g=0,y=0.0,v=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0;R=ae;ae=ae+272|0;o[R+128>>2]=o[i>>2];o[R+128+4>>2]=o[i+4>>2];o[R+128+8>>2]=o[i+8>>2];o[R+128+12>>2]=o[i+12>>2];o[R+128+16>>2]=o[i+16>>2];o[R+128+16+4>>2]=o[i+16+4>>2];o[R+128+16+8>>2]=o[i+16+8>>2];o[R+128+16+12>>2]=o[i+16+12>>2];o[R+128+32>>2]=o[i+32>>2];o[R+128+32+4>>2]=o[i+32+4>>2];o[R+128+32+8>>2]=o[i+32+8>>2];o[R+128+32+12>>2]=o[i+32+12>>2];o[R+128+48>>2]=o[i+48>>2];o[R+128+48+4>>2]=o[i+48+4>>2];o[R+128+48+8>>2]=o[i+48+8>>2];o[R+128+48+12>>2]=o[i+48+12>>2];o[R+64>>2]=o[n>>2];o[R+64+4>>2]=o[n+4>>2];o[R+64+8>>2]=o[n+8>>2];o[R+64+12>>2]=o[n+12>>2];o[R+64+16>>2]=o[n+16>>2];o[R+64+16+4>>2]=o[n+16+4>>2];o[R+64+16+8>>2]=o[n+16+8>>2];o[R+64+16+12>>2]=o[n+16+12>>2];o[R+64+32>>2]=o[n+32>>2];o[R+64+32+4>>2]=o[n+32+4>>2];o[R+64+32+8>>2]=o[n+32+8>>2];o[R+64+32+12>>2]=o[n+32+12>>2];o[R+64+48>>2]=o[n+48>>2];o[R+64+48+4>>2]=o[n+48+4>>2];o[R+64+48+8>>2]=o[n+48+8>>2];o[R+64+48+12>>2]=o[n+48+12>>2];a=+c[R+64+52>>2]-+c[R+128+52>>2];P=+c[R+64+56>>2]-+c[R+128+56>>2];c[R+16>>2]=+c[R+64+48>>2]-+c[R+128+48>>2];c[R+16+4>>2]=a;c[R+16+8>>2]=P;c[R+16+12>>2]=0.0;Le(R+128|0,R+64|0,R+208|0,R+192|0);P=+c[R+192>>2];a=P*+c[R+208+4>>2];O=P*+c[R+208+8>>2];c[R>>2]=+c[R+208>>2]*P;c[R+4>>2]=a;c[R+8>>2]=O;c[R+12>>2]=0.0;o[R+208+48>>2]=0;o[R+208+48+4>>2]=0;o[R+208+48+8>>2]=0;o[R+208+48+12>>2]=0;Fi(R+128|0,R+192|0);O=+c[R+192>>2];a=+c[R+192+4>>2];P=+c[R+192+8>>2];I=+c[R+192+12>>2];M=O*(2.0/(O*O+a*a+P*P+I*I));l=a*(2.0/(O*O+a*a+P*P+I*I));x=P*(2.0/(O*O+a*a+P*P+I*I));c[R+208>>2]=1.0-(a*l+P*x);c[R+208+4>>2]=O*l-I*x;c[R+208+8>>2]=O*x+I*l;c[R+208+12>>2]=0.0;c[R+208+16>>2]=O*l+I*x;c[R+208+20>>2]=1.0-(O*M+P*x);c[R+208+24>>2]=a*x-I*M;c[R+208+28>>2]=0.0;c[R+208+32>>2]=O*x-I*l;c[R+208+36>>2]=a*x+I*M;c[R+208+40>>2]=1.0-(O*M+a*l);c[R+208+44>>2]=0.0;vi(t,R+208|0,R+16|0,R,R+48|0,R+32|0);if((o[e+268>>2]|0)<=0){ae=R;return}m=0;do{_=o[(o[e+276>>2]|0)+(m<<2)>>2]|0;if(pF[o[(o[r>>2]|0)+8>>2]&31](r,o[_+188>>2]|0)|0?(g=o[_+192>>2]|0,BF[o[(o[g>>2]|0)+8>>2]&127](g,_+4|0,R+192|0,R+16|0),u=+c[R+192>>2]+ +c[R+48>>2],p=+c[R+192+4>>2]+ +c[R+48+4>>2],d=+c[R+192+8>>2]+ +c[R+48+8>>2],c[R+192>>2]=u,c[R+192+4>>2]=p,c[R+192+8>>2]=d,c[R+192+12>>2]=0.0,f=+c[R+16>>2]+ +c[R+32>>2],b=+c[R+16+4>>2]+ +c[R+32+4>>2],h=+c[R+16+8>>2]+ +c[R+32+8>>2],c[R+16>>2]=f,c[R+16+4>>2]=b,c[R+16+8>>2]=h,c[R+16+12>>2]=0.0,v=+c[i+48>>2]-(f+u)*.5,S=+c[i+52>>2]-(b+p)*.5,C=+c[i+56>>2]-(h+d)*.5,y=+c[n+48>>2]-(f+u)*.5,T=+c[n+52>>2]-(b+p)*.5,E=+c[n+56>>2]-(h+d)*.5,g=(v>(f-u)*.5?8:0)|v<-((f-u)*.5)|(S<-((b-p)*.5)?2:0)|(S>(b-p)*.5?16:0)|(C<-((h-d)*.5)?4:0)|(C>(h-d)*.5?32:0),A=(y>(f-u)*.5?8:0)|y<-((f-u)*.5)|(T<-((b-p)*.5)?2:0)|(T>(b-p)*.5?16:0)|(E<-((h-d)*.5)?4:0)|(E>(h-d)*.5?32:0),(A&g|0)==0):0){if(v<-((f-u)*.5)){if(!((-v-(f-u)*.5)/(y-v)>=0.0)){a=1.0;l=0.0}else{a=1.0;l=(-v-(f-u)*.5)/(y-v)}}else if(y<-((f-u)*.5)?(-v-(f-u)*.5)/(y-v)<1.0:0){a=(-v-(f-u)*.5)/(y-v);l=0.0}else{a=1.0;l=0.0}if(S<-((b-p)*.5)){if(l<=(-S-(b-p)*.5)/(T-S))l=(-S-(b-p)*.5)/(T-S)}else if(T<-((b-p)*.5)?(-S-(b-p)*.5)/(T-S)<a:0)a=(-S-(b-p)*.5)/(T-S);if(C<-((h-d)*.5)){if(l<=(-C-(h-d)*.5)/(E-C))l=(-C-(h-d)*.5)/(E-C)}else if(E<-((h-d)*.5)?(-C-(h-d)*.5)/(E-C)<a:0)a=(-C-(h-d)*.5)/(E-C);if(v>(f-u)*.5){if(l<=((f-u)*.5-v)/(y-v))l=((f-u)*.5-v)/(y-v)}else if(y>(f-u)*.5?((f-u)*.5-v)/(y-v)<a:0)a=((f-u)*.5-v)/(y-v);if(S>(b-p)*.5){if(l<=((b-p)*.5-S)/(T-S))l=((b-p)*.5-S)/(T-S)}else if(T>(b-p)*.5?((b-p)*.5-S)/(T-S)<a:0)a=((b-p)*.5-S)/(T-S);if(!(g&32)){if((A&32|0)!=0?((h-d)*.5-C)/(E-C)<a:0)a=((h-d)*.5-C)/(E-C)}else if(l<=((h-d)*.5-C)/(E-C))l=((h-d)*.5-C)/(E-C);if(l<=a){D=o[_+192>>2]|0;o[R+208>>2]=0;o[R+208+4>>2]=D;o[R+208+8>>2]=_;o[R+208+12>>2]=_+4;o[R+208+16>>2]=-1;o[R+208+20>>2]=-1;Uo(t,R+128|0,R+64|0,R+208|0,r,s)}}m=m+1|0}while((m|0)<(o[e+268>>2]|0));ae=R;return}function Fs(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,O=0,I=0,x=0,P=0,D=0,w=0;i=o[e+8>>2]|0;if((i|0)<=0)return;r=0;do{n=o[(o[e+16>>2]|0)+(r<<2)>>2]|0;if((o[n+236>>2]|0)==1){xF[o[(o[n>>2]|0)+24>>2]&127](n,t);i=o[e+8>>2]|0}r=r+1|0}while((r|0)<(i|0));if((i|0)<=0)return;g=0;u=0;_=i;T=0;f=0;m=0;b=0;s=0;r=0;p=0;C=0;l=0;n=0;S=0;y=0;i=0;while(1){E=o[(o[(o[e+16>>2]|0)+(T<<2)>>2]|0)+192>>2]|0;A=((10?~(E<<15)+E>>10:~(E<<15)+E|0)^~(E<<15)+E)*9|0;A=(6?A>>6:A)^A;A=(16?A+~(A<<11)>>16:A+~(A<<11)|0)^A+~(A<<11);a=A&y+-1;e:do{if(a>>>0<p>>>0?(I=o[r+(a<<2)>>2]|0,(I|0)!=-1):0){a=I;while(1){if((o[s+(a<<3)>>2]|0)==(E|0))break;a=o[n+(a<<2)>>2]|0;if((a|0)==-1){P=14;break e}}if(i+(a<<2)|0){A=_;_=g;c=C;h=S;d=y}else P=14}else P=14}while(0);if((P|0)==14){P=0;d=A&y+-1;e:do{if(d>>>0<p>>>0?(x=o[r+(d<<2)>>2]|0,(x|0)!=-1):0){a=x;while(1){if((o[s+(a<<3)>>2]|0)==(E|0))break;a=o[n+(a<<2)>>2]|0;if((a|0)==-1){P=20;break e}}o[i+(a<<2)>>2]=E;_=g;a=p;c=C;h=S;d=y}else P=20}while(0);if((P|0)==20){P=0;do{if((S|0)==(y|0)){c=(y|0)==0?1:y<<1;if((y|0)<(c|0)){if((c|0)!=0?(o[6747]=(o[6747]|0)+1,R=Do((c<<2|3)+16|0)|0,(R|0)!=0):0){o[(R+4+15&-16)+-4>>2]=R;_=R+4+15&-16}else _=0;if((y|0)<=0){if(!i){a=y;v=c;i=_;break}}else{a=0;do{o[_+(a<<2)>>2]=o[i+(a<<2)>>2];a=a+1|0}while((a|0)!=(y|0))}o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);a=y;v=c;i=_}else{a=y;v=y}}else{a=S;v=y}}while(0);o[i+(a<<2)>>2]=E;h=a+1|0;do{if((m|0)==(b|0)){a=(m|0)==0?1:m<<1;if((m|0)<(a|0)){if((a|0)!=0?(o[6747]=(o[6747]|0)+1,O=Do((a<<3|3)+16|0)|0,(O|0)!=0):0){o[(O+4+15&-16)+-4>>2]=O;_=O+4+15&-16}else _=0;if((m|0)<=0){if(!s){b=a;s=_;break}}else{c=0;do{w=s+(c<<3)|0;D=o[w+4>>2]|0;b=_+(c<<3)|0;o[b>>2]=o[w>>2];o[b+4>>2]=D;c=c+1|0}while((c|0)!=(m|0))}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);b=a;s=_}else b=m}}while(0);w=s+(m<<3)|0;o[w>>2]=E;o[w+4>>2]=0;m=m+1|0;if((y|0)<(v|0)){if((p|0)<(v|0)){do{if((f|0)<(v|0)){if((v|0)!=0?(o[6747]=(o[6747]|0)+1,M=Do((v<<2|3)+16|0)|0,(M|0)!=0):0){o[(M+4+15&-16)+-4>>2]=M;c=M+4+15&-16}else c=0;if((p|0)<=0){if(!r){d=c;f=v;r=c;break}}else{a=0;do{o[c+(a<<2)>>2]=o[r+(a<<2)>>2];a=a+1|0}while((a|0)!=(p|0))}o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);d=c;f=v;r=c}else d=u}while(0);u=v<<2;_l(r+(p<<2)|0,0,u-(p<<2)|0)|0;if((C|0)<(v|0)){do{if((l|0)<(v|0)){do{if(!v)c=0;else{o[6747]=(o[6747]|0)+1;a=Do((u|3)+16|0)|0;if(!a){c=0;break}o[(a+4+15&-16)+-4>>2]=a;c=a+4+15&-16}}while(0);if((C|0)<=0){if(!n){a=c;l=v;n=c;break}}else{a=0;do{o[c+(a<<2)>>2]=o[n+(a<<2)>>2];a=a+1|0}while((a|0)!=(C|0))}o[6748]=(o[6748]|0)+1;Vs(o[n+-4>>2]|0);a=c;l=v;n=c}else a=g}while(0);_l(n+(C<<2)|0,0,u-(C<<2)|0)|0;_=a}else _=g;if((v|0)>0){_l(d|0,-1,u|0)|0;_l(_|0,-1,u|0)|0}if((p|0)>0){c=v+-1|0;a=0;do{w=o[s+(a<<3)>>2]|0;w=((10?w+~(w<<15)>>10:w+~(w<<15)|0)^w+~(w<<15))*9|0;w=(6?w>>6:w)^w;w=r+((((16?w+~(w<<11)>>16:w+~(w<<11)|0)^w+~(w<<11))&c)<<2)|0;o[n+(a<<2)>>2]=o[w>>2];o[w>>2]=a;a=a+1|0}while((a|0)!=(p|0));u=d;a=v;c=v}else{u=d;a=v;c=v}}else{_=g;a=p;c=C}d=A&v+-1}else{_=g;a=p;c=C}d=r+(d<<2)|0;o[n+(S<<2)>>2]=o[d>>2];o[d>>2]=S;d=v}xF[o[(o[E>>2]|0)+60>>2]&127](E,t);A=o[e+8>>2]|0;p=a}a=T+1|0;if((a|0)>=(A|0))break;g=_;_=A;T=a;C=c;S=h;y=d}if(s|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}if(n|0){o[6748]=(o[6748]|0)+1;Vs(o[n+-4>>2]|0)}if(!r)return;o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);return}function Ns(e,t){e=e|0;t=t|0;var i=0,s=0,a=0,_=0,u=0,f=0,d=0,h=0,p=0;p=ae;ae=ae+64|0;c[e+20>>2]=+l[t+32>>3];c[e+24>>2]=+l[t+40>>3];c[e+28>>2]=+l[t+48>>3];c[e+32>>2]=+l[t+56>>3];c[e+4>>2]=+l[t>>3];c[e+8>>2]=+l[t+8>>3];c[e+12>>2]=+l[t+16>>3];c[e+16>>2]=+l[t+24>>3];c[e+36>>2]=+l[t+64>>3];c[e+40>>2]=+l[t+72>>3];c[e+44>>2]=+l[t+80>>3];c[e+48>>2]=+l[t+88>>3];o[e+56>>2]=o[t+96>>2];n[e+60>>0]=(o[t+100>>2]|0)!=0&1;h=o[t+104>>2]|0;_=p;f=_+64|0;do{o[_>>2]=0;_=_+4|0}while((_|0)<(f|0));d=o[e+88>>2]|0;if((d|0)<(h|0)){if((o[e+92>>2]|0)<(h|0)){if(!h){s=d;a=0}else{o[6747]=(o[6747]|0)+1;i=Do(h<<6|19)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+88>>2]|0;a=i}if((s|0)>0){i=0;do{_=a+(i<<6)|0;u=(o[e+96>>2]|0)+(i<<6)|0;f=_+64|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(f|0));i=i+1|0}while((i|0)!=(s|0))}i=o[e+96>>2]|0;if(i|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=a;o[e+92>>2]=h;s=e+96|0}else s=e+96|0;i=d;do{_=(o[s>>2]|0)+(i<<6)|0;u=p;f=_+64|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(f|0));i=i+1|0}while((i|0)!=(h|0))}o[e+88>>2]=h;if((h|0)>0){i=o[e+96>>2]|0;s=0;a=o[t+112>>2]|0;while(1){c[i+(s<<6)+16>>2]=+l[a+32>>3];c[i+(s<<6)+20>>2]=+l[a+40>>3];c[i+(s<<6)+24>>2]=+l[a+48>>3];c[i+(s<<6)+28>>2]=+l[a+56>>3];c[i+(s<<6)>>2]=+l[a>>3];c[i+(s<<6)+4>>2]=+l[a+8>>3];c[i+(s<<6)+8>>2]=+l[a+16>>3];c[i+(s<<6)+12>>2]=+l[a+24>>3];o[i+(s<<6)+32>>2]=o[a+64>>2];o[i+(s<<6)+36>>2]=o[a+68>>2];o[i+(s<<6)+40>>2]=o[a+72>>2];s=s+1|0;if((s|0)==(h|0))break;else a=a+80|0}}u=o[t+108>>2]|0;o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;_=o[e+128>>2]|0;if((_|0)<(u|0)){if((o[e+132>>2]|0)<(u|0)){if(!u){s=_;a=0}else{o[6747]=(o[6747]|0)+1;i=Do((u<<4|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+128>>2]|0;a=i}if((s|0)>0){i=0;do{h=a+(i<<4)|0;d=(o[e+136>>2]|0)+(i<<4)|0;o[h>>2]=o[d>>2];o[h+4>>2]=o[d+4>>2];o[h+8>>2]=o[d+8>>2];o[h+12>>2]=o[d+12>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+136>>2]|0;if(i|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=a;o[e+132>>2]=u;s=e+136|0}else s=e+136|0;i=_;do{h=(o[s>>2]|0)+(i<<4)|0;o[h>>2]=o[p>>2];o[h+4>>2]=o[p+4>>2];o[h+8>>2]=o[p+8>>2];o[h+12>>2]=o[p+12>>2];i=i+1|0}while((i|0)!=(u|0))}o[e+128>>2]=u;if((u|0)>0){i=o[e+136>>2]|0;s=0;a=o[t+116>>2]|0;while(1){o[i+(s<<4)+12>>2]=o[a+12>>2];r[i+(s<<4)+6>>1]=r[a+6>>1]|0;r[i+(s<<4)+8>>1]=r[a+8>>1]|0;r[i+(s<<4)+10>>1]=r[a+10>>1]|0;r[i+(s<<4)>>1]=r[a>>1]|0;r[i+(s<<4)+2>>1]=r[a+2>>1]|0;r[i+(s<<4)+4>>1]=r[a+4>>1]|0;s=s+1|0;if((s|0)==(u|0))break;else a=a+16|0}}o[e+144>>2]=o[t+120>>2];u=o[t+124>>2]|0;_=o[e+152>>2]|0;if((_|0)<(u|0)){if((o[e+156>>2]|0)<(u|0)){if(!u){s=_;a=0}else{o[6747]=(o[6747]|0)+1;i=Do(u<<5|19)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+152>>2]|0;a=i}if((s|0)>0){i=0;do{h=a+(i<<5)|0;d=(o[e+160>>2]|0)+(i<<5)|0;o[h>>2]=o[d>>2];o[h+4>>2]=o[d+4>>2];o[h+8>>2]=o[d+8>>2];o[h+12>>2]=o[d+12>>2];o[h+16>>2]=o[d+16>>2];o[h+20>>2]=o[d+20>>2];o[h+24>>2]=o[d+24>>2];o[h+28>>2]=o[d+28>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+160>>2]|0;if(i|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=a;o[e+156>>2]=u;s=e+160|0}else s=e+160|0;i=_;do{h=(o[s>>2]|0)+(i<<5)|0;o[h>>2]=o[p>>2];o[h+4>>2]=o[p+4>>2];o[h+8>>2]=o[p+8>>2];o[h+12>>2]=o[p+12>>2];o[h+16>>2]=o[p+16>>2];o[h+20>>2]=o[p+20>>2];o[h+24>>2]=o[p+24>>2];o[h+28>>2]=o[p+28>>2];i=i+1|0}while((i|0)!=(u|0))}o[e+152>>2]=u;if((u|0)<=0){ae=p;return}s=o[e+160>>2]|0;a=0;i=o[t+128>>2]|0;while(1){r[s+(a<<5)+6>>1]=r[i+14>>1]|0;r[s+(a<<5)+8>>1]=r[i+16>>1]|0;r[s+(a<<5)+10>>1]=r[i+18>>1]|0;r[s+(a<<5)>>1]=r[i+8>>1]|0;r[s+(a<<5)+2>>1]=r[i+10>>1]|0;r[s+(a<<5)+4>>1]=r[i+12>>1]|0;o[s+(a<<5)+12>>2]=o[i>>2];o[s+(a<<5)+16>>2]=o[i+4>>2];a=a+1|0;if((a|0)==(u|0))break;else i=i+20|0}ae=p;return}function Bs(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,s=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0;n=o[e+108>>2]|0;if(n|0)LF[o[(o[n>>2]|0)+12>>2]&127](n,o[t+60>>2]|0,i);h=o[t+12>>2]|0;f=o[e+60>>2]|0;d=o[e+92>>2]|0;if(!(dF[o[(o[d>>2]|0)+56>>2]&127](d)|0)){d=o[e+92>>2]|0;LF[o[(o[d>>2]|0)+16>>2]&127](d,f+((h&65535)<<6)|0,i)}d=a[e+56>>1]|0;n=o[e+60>>2]|0;r[n+54>>1]=(a[n+54>>1]|0)+65534;r[n+56>>1]=(a[n+56>>1]|0)+65534;r[n+58>>1]=(a[n+58>>1]|0)+65534;u=o[e+68>>2]|0;t=r[e+6>>1]|0;s=a[f+((h&65535)<<6)+54>>1]|0;r[u+(s<<2)>>1]=t;i=r[u+(s<<2)+6>>1]|0;if(!(i<<16>>16)){n=t;t=u}else{l=n+((a[u+(s<<2)+2>>1]|0)<<6)+54|0;s=u+(s<<2)|0;while(1){c=s;s=s+4|0;n=r[s>>1]|0;if((t&65535)<(n&65535))break;t=o[e+60>>2]|0;_=i&65535;n=(n&1)==0?t+(_<<6)+48|0:t+(_<<6)+54|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[l>>1]=(r[l>>1]|0)+1<<16>>16;n=a[c>>1]|a[c+2>>1]<<16;_=a[s>>1]|a[s+2>>1]<<16;r[c>>1]=_;r[c+2>>1]=_>>>16;r[s>>1]=n;r[s+2>>1]=n>>>16;i=r[c+10>>1]|0;if(!(i<<16>>16))break;else t=n&65535}n=r[e+6>>1]|0;t=o[e+68>>2]|0}i=a[f+((h&65535)<<6)+48>>1]|0;r[u+(i<<2)>>1]=n;l=t+(i<<2)|0;s=r[l+6>>1]|0;if(s<<16>>16){_=(o[e+60>>2]|0)+((a[t+(i<<2)+2>>1]|0)<<6)+48|0;c=r[l>>1]|0;t=l;while(1){i=t;t=t+4|0;n=r[t>>1]|0;if((c&65535)<(n&65535))break;c=o[e+60>>2]|0;l=s&65535;n=(n&1)==0?c+(l<<6)+48|0:c+(l<<6)+54|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[_>>1]=(r[_>>1]|0)+1<<16>>16;n=a[i>>1]|a[i+2>>1]<<16;l=a[t>>1]|a[t+2>>1]<<16;r[i>>1]=l;r[i+2>>1]=l>>>16;r[t>>1]=n;r[t+2>>1]=n>>>16;s=r[i+10>>1]|0;if(!(s<<16>>16))break;else c=n&65535}n=r[e+6>>1]|0}r[u+((d<<1)+-1<<2)+2>>1]=0;r[u+((d<<1)+-1<<2)>>1]=n;u=o[e+72>>2]|0;i=a[f+((h&65535)<<6)+56>>1]|0;r[u+(i<<2)>>1]=n;t=r[u+(i<<2)+6>>1]|0;if(!(t<<16>>16))t=u;else{l=(o[e+60>>2]|0)+((a[u+(i<<2)+2>>1]|0)<<6)+56|0;s=u+(i<<2)|0;while(1){c=s;s=s+4|0;i=r[s>>1]|0;if((n&65535)<(i&65535))break;_=o[e+60>>2]|0;n=t&65535;n=(i&1)==0?_+(n<<6)+50|0:_+(n<<6)+56|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[l>>1]=(r[l>>1]|0)+1<<16>>16;n=a[c>>1]|a[c+2>>1]<<16;_=a[s>>1]|a[s+2>>1]<<16;r[c>>1]=_;r[c+2>>1]=_>>>16;r[s>>1]=n;r[s+2>>1]=n>>>16;t=r[c+10>>1]|0;if(!(t<<16>>16))break;else n=n&65535}n=r[e+6>>1]|0;t=o[e+72>>2]|0}i=a[f+((h&65535)<<6)+50>>1]|0;r[u+(i<<2)>>1]=n;l=t+(i<<2)|0;s=r[l+6>>1]|0;if(s<<16>>16){_=(o[e+60>>2]|0)+((a[t+(i<<2)+2>>1]|0)<<6)+50|0;c=r[l>>1]|0;t=l;while(1){i=t;t=t+4|0;n=r[t>>1]|0;if((c&65535)<(n&65535))break;c=o[e+60>>2]|0;l=s&65535;n=(n&1)==0?c+(l<<6)+50|0:c+(l<<6)+56|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[_>>1]=(r[_>>1]|0)+1<<16>>16;n=a[i>>1]|a[i+2>>1]<<16;l=a[t>>1]|a[t+2>>1]<<16;r[i>>1]=l;r[i+2>>1]=l>>>16;r[t>>1]=n;r[t+2>>1]=n>>>16;s=r[i+10>>1]|0;if(!(s<<16>>16))break;else c=n&65535}n=r[e+6>>1]|0}r[u+((d<<1)+-1<<2)+2>>1]=0;r[u+((d<<1)+-1<<2)>>1]=n;u=o[e+76>>2]|0;i=a[f+((h&65535)<<6)+58>>1]|0;r[u+(i<<2)>>1]=n;t=r[u+(i<<2)+6>>1]|0;if(!(t<<16>>16)){t=n;i=u}else{l=(o[e+60>>2]|0)+((a[u+(i<<2)+2>>1]|0)<<6)+58|0;s=u+(i<<2)|0;while(1){c=s;s=s+4|0;i=r[s>>1]|0;if((n&65535)<(i&65535))break;_=o[e+60>>2]|0;n=t&65535;n=(i&1)==0?_+(n<<6)+52|0:_+(n<<6)+58|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[l>>1]=(r[l>>1]|0)+1<<16>>16;n=a[c>>1]|a[c+2>>1]<<16;_=a[s>>1]|a[s+2>>1]<<16;r[c>>1]=_;r[c+2>>1]=_>>>16;r[s>>1]=n;r[s+2>>1]=n>>>16;t=r[c+10>>1]|0;if(!(t<<16>>16))break;else n=n&65535}t=r[e+6>>1]|0;i=o[e+76>>2]|0}n=a[f+((h&65535)<<6)+52>>1]|0;r[u+(n<<2)>>1]=t;l=i+(n<<2)|0;s=r[l+6>>1]|0;if(!(s<<16>>16)){_=t;f=u+((d<<1)+-1<<2)+2|0;r[f>>1]=0;f=u+((d<<1)+-1<<2)|0;r[f>>1]=_;f=o[e+60>>2]|0;d=e+64|0;u=r[d>>1]|0;f=f+((h&65535)<<6)+48|0;r[f>>1]=u;r[d>>1]=h;h=r[e+56>>1]|0;h=h+-1<<16>>16;r[e+56>>1]=h;return}_=(o[e+60>>2]|0)+((a[i+(n<<2)+2>>1]|0)<<6)+52|0;c=r[l>>1]|0;t=l;while(1){i=t;t=t+4|0;n=r[t>>1]|0;if((c&65535)<(n&65535))break;l=o[e+60>>2]|0;f=s&65535;n=(n&1)==0?l+(f<<6)+52|0:l+(f<<6)+58|0;r[n>>1]=(r[n>>1]|0)+-1<<16>>16;r[_>>1]=(r[_>>1]|0)+1<<16>>16;n=a[i>>1]|a[i+2>>1]<<16;f=a[t>>1]|a[t+2>>1]<<16;r[i>>1]=f;r[i+2>>1]=f>>>16;r[t>>1]=n;r[t+2>>1]=n>>>16;s=r[i+10>>1]|0;if(!(s<<16>>16))break;else c=n&65535}_=r[e+6>>1]|0;f=u+((d<<1)+-1<<2)+2|0;r[f>>1]=0;f=u+((d<<1)+-1<<2)|0;r[f>>1]=_;f=o[e+60>>2]|0;d=e+64|0;u=r[d>>1]|0;f=f+((h&65535)<<6)+48|0;r[f>>1]=u;r[d>>1]=h;h=r[e+56>>1]|0;h=h+-1<<16>>16;r[e+56>>1]=h;return}function ks(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0.0,a=0,l=0,_=0.0,u=0.0,f=0.0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0.0,X=0.0,z=0.0,Y=0.0,Q=0,K=0,Z=0;K=o[t+36>>2]|0;Q=o[i+36>>2]|0;N=+c[K+8>>2];k=+c[K+12>>2];B=+c[K+16>>2];i=o[Q+8>>2]|0;X=+c[i+8>>2];z=+c[i+12>>2];Y=+c[i+16>>2];r=o[Q+12>>2]|0;j=+c[r+8>>2];U=+c[r+12>>2];H=+c[r+16>>2];t=o[Q+16>>2]|0;V=+c[t+8>>2];G=+c[t+12>>2];W=+c[t+16>>2];E=j-N-(X-N);x=U-k-(z-k);T=H-B-(Y-B);C=x*(W-B-(Y-B))-T*(G-k-(z-k));I=T*(V-N-(X-N))-E*(W-B-(Y-B));M=E*(G-k-(z-k))-x*(V-N-(X-N));do{if(M*M+(C*C+I*I)>1.1920928955078125e-07?(w=1.0/+v(+(M*M+(C*C+I*I))),P=(Y-B)*(M*w)+((X-N)*(C*w)+(z-k)*(I*w)),P*P<3402823466385288598117041.0e14):0){b=X-N-C*w*P;y=z-k-I*w*P;A=Y-B-M*w*P;s=j-N-C*w*P;g=U-k-I*w*P;m=H-B-M*w*P;if((M*(g*b-y*s)+(C*(y*m-A*g)+I*(A*s-m*b))>0.0?(S=V-N-C*w*P,O=G-k-I*w*P,R=W-B-M*w*P,M*(O*s-g*S)+(C*(g*R-m*O)+I*(m*S-R*s))>0.0):0)?M*(y*S-O*b)+(C*(O*A-R*y)+I*(R*b-A*S))>0.0:0){p=P*P;h=C*w*P;f=M*w*P;u=I*w*P;break}if(E*E+x*x+T*T>1.1920928955078125e-07?(D=-((X-N)*E+(z-k)*x+(Y-B)*T)/(E*E+x*x+T*T),D=D<0.0?0.0:D>1.0?1.0:D,p=(Y-B+T*D)*(Y-B+T*D)+((X-N+E*D)*(X-N+E*D)+(z-k+x*D)*(z-k+x*D)),p<3402823466385288598117041.0e14):0){m=X-N+E*D;A=Y-B+T*D;b=z-k+x*D}else{p=3402823466385288598117041.0e14;m=0.0;A=0.0;b=0.0}s=(V-N-(j-N))*(V-N-(j-N))+(G-k-(U-k))*(G-k-(U-k))+(W-B-(H-B))*(W-B-(H-B));if(s>1.1920928955078125e-07?(f=-((j-N)*(V-N-(j-N))+(U-k)*(G-k-(U-k))+(H-B)*(W-B-(H-B)))/s,f=f<0.0?0.0:f>1.0?1.0:f,h=j-N+(V-N-(j-N))*f,_=U-k+(G-k-(U-k))*f,f=H-B+(W-B-(H-B))*f,f*f+(h*h+_*_)<p):0)p=f*f+(h*h+_*_);else{h=m;f=A;_=b}s=(X-N-(V-N))*(X-N-(V-N))+(z-k-(G-k))*(z-k-(G-k))+(Y-B-(W-B))*(Y-B-(W-B));if(s>1.1920928955078125e-07?(F=-((V-N)*(X-N-(V-N))+(G-k)*(z-k-(G-k))+(W-B)*(Y-B-(W-B)))/s,F=F<0.0?0.0:F>1.0?1.0:F,L=V-N+(X-N-(V-N))*F,u=G-k+(z-k-(G-k))*F,F=W-B+(Y-B-(W-B))*F,F*F+(L*L+u*u)<p):0){p=F*F+(L*L+u*u);h=L;f=F}else u=_}else{p=3402823466385288598117041.0e14;h=0.0;f=0.0;u=0.0}}while(0);L=N-+c[K+24>>2];F=k-+c[K+28>>2];y=B-+c[K+32>>2];y=+c[e+12>>2]+ +v(+(L*L+F*F+y*y))*2.0;if(!(p<y*y))return;m=N+h;s=k+u;_=B+f;g=+v(+(((X-m)*(U-s)-(z-s)*(j-m))*((X-m)*(U-s)-(z-s)*(j-m))+(((z-s)*(H-_)-(Y-_)*(U-s))*((z-s)*(H-_)-(Y-_)*(U-s))+((Y-_)*(j-m)-(X-m)*(H-_))*((Y-_)*(j-m)-(X-m)*(H-_)))));A=+v(+(((j-m)*(G-s)-(U-s)*(V-m))*((j-m)*(G-s)-(U-s)*(V-m))+(((U-s)*(W-_)-(H-_)*(G-s))*((U-s)*(W-_)-(H-_)*(G-s))+((H-_)*(V-m)-(j-m)*(W-_))*((H-_)*(V-m)-(j-m)*(W-_)))));m=+v(+(((z-s)*(V-m)-(X-m)*(G-s))*((z-s)*(V-m)-(X-m)*(G-s))+(((Y-_)*(G-s)-(z-s)*(W-_))*((Y-_)*(G-s)-(z-s)*(W-_))+((X-m)*(W-_)-(Y-_)*(V-m))*((X-m)*(W-_)-(Y-_)*(V-m)))));_=+c[K+88>>2];Y=+c[i+88>>2];s=+c[r+88>>2];z=+c[t+88>>2];s=!(Y<=0.0)&!(s<=0.0)&!(z<=0.0)?z*(g*(1.0/(m+(g+A))))+(Y*(A*(1.0/(m+(g+A))))+s*(m*(1.0/(m+(g+A))))):0.0;if(!(_+s>0.0))return;Y=1.0/-+v(+p);b=h*Y;p=Y*u;h=Y*f;d=o[e+4>>2]|0;t=o[e+8>>2]|0;f=+c[d+316>>2];u=+c[t+316>>2];u=f>u?f:u;f=_/(_+s)*+c[d+332>>2];s=s/(_+s)*+c[t+332>>2];t=o[d+832>>2]|0;if((t|0)==(o[d+836>>2]|0)?(Z=(t|0)==0?1:t<<1,(t|0)<(Z|0)):0){if(!Z)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((Z*56|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[d+832>>2]|0}if((t|0)>0){r=0;do{e=i+(r*56|0)|0;a=(o[d+840>>2]|0)+(r*56|0)|0;l=e+56|0;do{o[e>>2]=o[a>>2];e=e+4|0;a=a+4|0}while((e|0)<(l|0));r=r+1|0}while((r|0)!=(t|0))}t=o[d+840>>2]|0;if(t|0){if(n[d+844>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[d+840>>2]=0}n[d+844>>0]=1;o[d+840>>2]=i;o[d+836>>2]=Z;t=o[d+832>>2]|0}Z=o[d+840>>2]|0;o[Z+(t*56|0)>>2]=K;o[Z+(t*56|0)+4>>2]=Q;c[Z+(t*56|0)+8>>2]=A*(1.0/(m+(g+A)));c[Z+(t*56|0)+12>>2]=m*(1.0/(m+(g+A)));c[Z+(t*56|0)+16>>2]=g*(1.0/(m+(g+A)));c[Z+(t*56|0)+20>>2]=0.0;c[Z+(t*56|0)+24>>2]=b;c[Z+(t*56|0)+28>>2]=p;c[Z+(t*56|0)+32>>2]=h;c[Z+(t*56|0)+36>>2]=0.0;c[Z+(t*56|0)+40>>2]=y;c[Z+(t*56|0)+44>>2]=u;c[Z+(t*56|0)+48>>2]=f;c[Z+(t*56|0)+52>>2]=s;o[d+832>>2]=(o[d+832>>2]|0)+1;return}function Us(e,t){e=e|0;t=+t;var i=0,r=0,s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0;b=ae;ae=ae+1136|0;i=o[e+44>>2]|0;i=dF[o[(o[i>>2]|0)+84>>2]&127](i)|0;if((i|0)>0){r=0;s=42;while(1){h=o[e+44>>2]|0;LF[o[(o[h>>2]|0)+88>>2]&127](h,r,b);ho();h=22608+(s<<4)|0;o[h>>2]=o[b>>2];o[h+4>>2]=o[b+4>>2];o[h+8>>2]=o[b+8>>2];o[h+12>>2]=o[b+12>>2];r=r+1|0;if((r|0)==(i|0))break;else s=s+1|0}r=i+42|0}else r=42;i=0;do{h=o[e+44>>2]|0;d=o[(o[h>>2]|0)+64>>2]|0;ho();LF[d&127](b+1104|0,h,22608+(i<<4)|0);h=b+(i<<4)|0;o[h>>2]=o[b+1104>>2];o[h+4>>2]=o[b+1104+4>>2];o[h+8>>2]=o[b+1104+8>>2];o[h+12>>2]=o[b+1104+12>>2];i=i+1|0}while(i>>>0<r>>>0);c[b+1104+16>>2]=1.0000000474974513e-03;o[b+1104+20>>2]=4096;o[b+1104+24>>2]=4096;o[b+1104>>2]=1;o[b+1104+4>>2]=r;o[b+1104+8>>2]=b;o[b+1104+12>>2]=16;n[b+1064+16>>0]=1;o[b+1064+12>>2]=0;o[b+1064+4>>2]=0;o[b+1064+8>>2]=0;n[b+1064+36>>0]=1;o[b+1064+32>>2]=0;o[b+1064+24>>2]=0;o[b+1064+28>>2]=0;n[b+1008+24>>0]=1;h=b+1008+20|0;o[h>>2]=0;o[b+1008+12>>2]=0;o[b+1008+16>>2]=0;d=b+1008+52|0;n[d>>0]=1;f=b+1008+48|0;o[f>>2]=0;o[b+1008+40>>2]=0;o[b+1008+44>>2]=0;n[b+1008>>0]=1;u=b+1008+4|0;o[u>>2]=0;o[b+1008+28>>2]=0;o[b+1008+32>>2]=0;if((_D(b+1064|0,b+1104|0,b+1008|0)|0)!=1){l=o[u>>2]|0;a=o[e+4>>2]|0;if((a|0)<(l|0)){if((o[e+8>>2]|0)<(l|0)){if(!l){r=a;s=0}else{o[6747]=(o[6747]|0)+1;i=Do((l<<4|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}r=o[e+4>>2]|0;s=i}if((r|0)>0){i=0;do{_=s+(i<<4)|0;m=(o[e+12>>2]|0)+(i<<4)|0;o[_>>2]=o[m>>2];o[_+4>>2]=o[m+4>>2];o[_+8>>2]=o[m+8>>2];o[_+12>>2]=o[m+12>>2];i=i+1|0}while((i|0)!=(r|0))}i=o[e+12>>2]|0;if(i|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=s;o[e+8>>2]=l;r=e+12|0}else r=e+12|0;i=a;do{m=(o[r>>2]|0)+(i<<4)|0;o[m>>2]=o[b+992>>2];o[m+4>>2]=o[b+992+4>>2];o[m+8>>2]=o[b+992+8>>2];o[m+12>>2]=o[b+992+12>>2];i=i+1|0}while((i|0)!=(l|0));i=o[u>>2]|0}else i=l;o[e+4>>2]=l;if((i|0)>0){i=o[h>>2]|0;r=0;do{_=i+(r<<4)|0;m=(o[e+12>>2]|0)+(r<<4)|0;o[m>>2]=o[_>>2];o[m+4>>2]=o[_+4>>2];o[m+8>>2]=o[_+8>>2];o[m+12>>2]=o[_+12>>2];r=r+1|0}while((r|0)<(o[u>>2]|0))}_=o[b+1008+32>>2]|0;o[e+40>>2]=_;l=o[e+24>>2]|0;if((_|0)>(l|0)){do{if((o[e+28>>2]|0)<(_|0)){if(!_){a=l;i=0}else{o[6747]=(o[6747]|0)+1;i=Do((_<<2|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}a=o[e+24>>2]|0}r=o[e+32>>2]|0;if((a|0)<=0){if(!r){n[e+36>>0]=1;o[e+32>>2]=i;o[e+28>>2]=_;break}}else{s=0;do{o[i+(s<<2)>>2]=o[r+(s<<2)>>2];s=s+1|0}while((s|0)!=(a|0))}if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}n[e+36>>0]=1;o[e+32>>2]=i;o[e+28>>2]=_}else i=o[e+32>>2]|0}while(0);_l(i+(l<<2)|0,0,_-l<<2|0)|0;i=o[e+40>>2]|0}else i=_;o[e+24>>2]=_;if((i|0)>0){i=o[f>>2]|0;r=o[e+32>>2]|0;s=0;do{o[r+(s<<2)>>2]=o[i+(s<<2)>>2];s=s+1|0}while((s|0)<(o[e+40>>2]|0))}if(o[b+1008+12>>2]|0){o[u>>2]=0;i=o[h>>2]|0;if(i|0){if(n[b+1008+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[h>>2]=0}n[b+1008+24>>0]=1;o[h>>2]=0;o[b+1008+12>>2]=0;o[b+1008+16>>2]=0}if(!(o[b+1008+40>>2]|0)){r=1;p=60}else{o[b+1008+32>>2]=0;i=o[f>>2]|0;if(i|0){if(n[d>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[f>>2]=0}n[d>>0]=1;o[f>>2]=0;o[b+1008+40>>2]=0;o[b+1008+44>>2]=0;r=1}}else{r=0;p=60}if((p|0)==60){i=o[f>>2]|0;if(i){if(n[d>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[f>>2]=0}}n[d>>0]=1;o[f>>2]=0;o[b+1008+40>>2]=0;o[b+1008+44>>2]=0;i=o[h>>2]|0;if(i|0){if(n[b+1008+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[h>>2]=0}i=o[b+1064+32>>2]|0;if(i|0){if(n[b+1064+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[b+1064+32>>2]=0}n[b+1064+36>>0]=1;o[b+1064+32>>2]=0;o[b+1064+24>>2]=0;o[b+1064+28>>2]=0;i=o[b+1064+12>>2]|0;if(!i){ae=b;return r|0}if(n[b+1064+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[b+1064+12>>2]=0;ae=b;return r|0}function Hs(e,t){e=e|0;t=t|0;var i=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0;d=ae;ae=ae+64|0;o[e+20>>2]=o[t+16>>2];o[e+24>>2]=o[t+20>>2];o[e+28>>2]=o[t+24>>2];o[e+32>>2]=o[t+28>>2];o[e+4>>2]=o[t>>2];o[e+8>>2]=o[t+4>>2];o[e+12>>2]=o[t+8>>2];o[e+16>>2]=o[t+12>>2];o[e+36>>2]=o[t+32>>2];o[e+40>>2]=o[t+36>>2];o[e+44>>2]=o[t+40>>2];o[e+48>>2]=o[t+44>>2];o[e+56>>2]=o[t+48>>2];n[e+60>>0]=(o[t+52>>2]|0)!=0&1;f=o[t+56>>2]|0;c=d;_=c+64|0;do{o[c>>2]=0;c=c+4|0}while((c|0)<(_|0));u=o[e+88>>2]|0;if((u|0)<(f|0)){if((o[e+92>>2]|0)<(f|0)){if(!f){s=u;a=0}else{o[6747]=(o[6747]|0)+1;i=Do(f<<6|19)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+88>>2]|0;a=i}if((s|0)>0){i=0;do{c=a+(i<<6)|0;l=(o[e+96>>2]|0)+(i<<6)|0;_=c+64|0;do{o[c>>2]=o[l>>2];c=c+4|0;l=l+4|0}while((c|0)<(_|0));i=i+1|0}while((i|0)!=(s|0))}i=o[e+96>>2]|0;if(i|0){if(n[e+100>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+96>>2]=0}n[e+100>>0]=1;o[e+96>>2]=a;o[e+92>>2]=f;s=e+96|0}else s=e+96|0;i=u;do{c=(o[s>>2]|0)+(i<<6)|0;l=d;_=c+64|0;do{o[c>>2]=o[l>>2];c=c+4|0;l=l+4|0}while((c|0)<(_|0));i=i+1|0}while((i|0)!=(f|0))}o[e+88>>2]=f;if((f|0)>0){i=o[e+96>>2]|0;s=0;a=o[t+64>>2]|0;while(1){o[i+(s<<6)+16>>2]=o[a+16>>2];o[i+(s<<6)+20>>2]=o[a+20>>2];o[i+(s<<6)+24>>2]=o[a+24>>2];o[i+(s<<6)+28>>2]=o[a+28>>2];o[i+(s<<6)>>2]=o[a>>2];o[i+(s<<6)+4>>2]=o[a+4>>2];o[i+(s<<6)+8>>2]=o[a+8>>2];o[i+(s<<6)+12>>2]=o[a+12>>2];o[i+(s<<6)+32>>2]=o[a+32>>2];o[i+(s<<6)+36>>2]=o[a+36>>2];o[i+(s<<6)+40>>2]=o[a+40>>2];s=s+1|0;if((s|0)==(f|0))break;else a=a+48|0}}l=o[t+60>>2]|0;o[d>>2]=0;o[d+4>>2]=0;o[d+8>>2]=0;o[d+12>>2]=0;c=o[e+128>>2]|0;if((c|0)<(l|0)){if((o[e+132>>2]|0)<(l|0)){if(!l){s=c;a=0}else{o[6747]=(o[6747]|0)+1;i=Do((l<<4|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+128>>2]|0;a=i}if((s|0)>0){i=0;do{f=a+(i<<4)|0;u=(o[e+136>>2]|0)+(i<<4)|0;o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+136>>2]|0;if(i|0){if(n[e+140>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+136>>2]=0}n[e+140>>0]=1;o[e+136>>2]=a;o[e+132>>2]=l;s=e+136|0}else s=e+136|0;i=c;do{f=(o[s>>2]|0)+(i<<4)|0;o[f>>2]=o[d>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];o[f+12>>2]=o[d+12>>2];i=i+1|0}while((i|0)!=(l|0))}o[e+128>>2]=l;if((l|0)>0){i=o[e+136>>2]|0;s=0;a=o[t+68>>2]|0;while(1){o[i+(s<<4)+12>>2]=o[a+12>>2];r[i+(s<<4)+6>>1]=r[a+6>>1]|0;r[i+(s<<4)+8>>1]=r[a+8>>1]|0;r[i+(s<<4)+10>>1]=r[a+10>>1]|0;r[i+(s<<4)>>1]=r[a>>1]|0;r[i+(s<<4)+2>>1]=r[a+2>>1]|0;r[i+(s<<4)+4>>1]=r[a+4>>1]|0;s=s+1|0;if((s|0)==(l|0))break;else a=a+16|0}}o[e+144>>2]=o[t+76>>2];l=o[t+80>>2]|0;c=o[e+152>>2]|0;if((c|0)<(l|0)){if((o[e+156>>2]|0)<(l|0)){if(!l){s=c;a=0}else{o[6747]=(o[6747]|0)+1;i=Do(l<<5|19)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[e+152>>2]|0;a=i}if((s|0)>0){i=0;do{f=a+(i<<5)|0;u=(o[e+160>>2]|0)+(i<<5)|0;o[f>>2]=o[u>>2];o[f+4>>2]=o[u+4>>2];o[f+8>>2]=o[u+8>>2];o[f+12>>2]=o[u+12>>2];o[f+16>>2]=o[u+16>>2];o[f+20>>2]=o[u+20>>2];o[f+24>>2]=o[u+24>>2];o[f+28>>2]=o[u+28>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[e+160>>2]|0;if(i|0){if(n[e+164>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+160>>2]=0}n[e+164>>0]=1;o[e+160>>2]=a;o[e+156>>2]=l;s=e+160|0}else s=e+160|0;i=c;do{f=(o[s>>2]|0)+(i<<5)|0;o[f>>2]=o[d>>2];o[f+4>>2]=o[d+4>>2];o[f+8>>2]=o[d+8>>2];o[f+12>>2]=o[d+12>>2];o[f+16>>2]=o[d+16>>2];o[f+20>>2]=o[d+20>>2];o[f+24>>2]=o[d+24>>2];o[f+28>>2]=o[d+28>>2];i=i+1|0}while((i|0)!=(l|0))}o[e+152>>2]=l;if((l|0)<=0){ae=d;return}s=o[e+160>>2]|0;a=0;i=o[t+72>>2]|0;while(1){r[s+(a<<5)+6>>1]=r[i+14>>1]|0;r[s+(a<<5)+8>>1]=r[i+16>>1]|0;r[s+(a<<5)+10>>1]=r[i+18>>1]|0;r[s+(a<<5)>>1]=r[i+8>>1]|0;r[s+(a<<5)+2>>1]=r[i+10>>1]|0;r[s+(a<<5)+4>>1]=r[i+12>>1]|0;o[s+(a<<5)+12>>2]=o[i>>2];o[s+(a<<5)+16>>2]=o[i+4>>2];a=a+1|0;if((a|0)==(l|0))break;else i=i+20|0}ae=d;return}function js(e){e=e|0;var t=0,i=0,r=0,s=0,a=0,c=0;o[e>>2]=4244;t=o[e+192>>2]|0;if(t|0)SF[o[(o[t>>2]|0)+4>>2]&511](t);e:do{if((o[e+1112>>2]|0)>0)do{a=o[o[e+1120>>2]>>2]|0;t=o[a+348>>2]|0;if(t|0){fi(e+1048|0,t)|0;i=o[e+1052>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[e+1052>>2]=t;o[e+1060>>2]=(o[e+1060>>2]|0)+-1}t=o[a+52>>2]|0;if(t|0){if(n[a+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[a+52>>2]=0}n[a+56>>0]=1;o[a+52>>2]=0;o[a+44>>2]=0;o[a+48>>2]=0;t=o[a+32>>2]|0;if(t|0){if(n[a+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[a+32>>2]=0}n[a+36>>0]=1;o[a+32>>2]=0;o[a+24>>2]=0;o[a+28>>2]=0;t=o[a+12>>2]|0;if(t|0){if(n[a+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[a+12>>2]=0}n[a+16>>0]=1;o[a+12>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);t=o[e+1112>>2]|0;if((t|0)<=0)break e;s=o[e+1120>>2]|0;i=0;do{r=s+(i<<2)|0;if((o[r>>2]|0)==(a|0)){c=25;break}i=i+1|0}while((i|0)<(t|0));if((c|0)==25){c=0;if((i|0)<(t|0)){o[r>>2]=o[s+(t+-1<<2)>>2];o[(o[e+1120>>2]|0)+(t+-1<<2)>>2]=a;o[e+1112>>2]=t+-1;t=t+-1|0}}}while((t|0)>0)}while(0);t=o[e+872>>2]|0;if((t|0)>0){r=0;do{i=o[(o[e+880>>2]|0)+(r<<2)>>2]|0;if(i){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);t=o[e+872>>2]|0}r=r+1|0}while((r|0)<(t|0))}t=o[e+852>>2]|0;if((t|0)>0){r=0;do{i=o[(o[e+860>>2]|0)+(r<<2)>>2]|0;if(i){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);t=o[e+852>>2]|0}r=r+1|0}while((r|0)<(t|0))}t=o[e+1244>>2]|0;if(t|0){if(n[e+1248>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+1244>>2]=0}n[e+1248>>0]=1;o[e+1244>>2]=0;o[e+1236>>2]=0;o[e+1240>>2]=0;t=o[e+1140>>2]|0;if(t|0){if(n[e+1144>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+1140>>2]=0}n[e+1144>>0]=1;o[e+1140>>2]=0;o[e+1132>>2]=0;o[e+1136>>2]=0;t=o[e+1120>>2]|0;if(t|0){if(n[e+1124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+1120>>2]=0}n[e+1124>>0]=1;o[e+1120>>2]=0;o[e+1112>>2]=0;o[e+1116>>2]=0;En(e+1048|0);En(e+988|0);En(e+928|0);t=o[e+880>>2]|0;if(t|0){if(n[e+884>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+880>>2]=0}n[e+884>>0]=1;o[e+880>>2]=0;o[e+872>>2]=0;o[e+876>>2]=0;t=o[e+860>>2]|0;if(t|0){if(n[e+864>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+860>>2]=0}n[e+864>>0]=1;o[e+860>>2]=0;o[e+852>>2]=0;o[e+856>>2]=0;t=o[e+840>>2]|0;if(t|0){if(n[e+844>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+840>>2]=0}n[e+844>>0]=1;o[e+840>>2]=0;o[e+832>>2]=0;o[e+836>>2]=0;t=o[e+820>>2]|0;if(t|0){if(n[e+824>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+820>>2]=0}n[e+824>>0]=1;o[e+820>>2]=0;o[e+812>>2]=0;o[e+816>>2]=0;t=o[e+800>>2]|0;if(t|0){if(n[e+804>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+800>>2]=0}n[e+804>>0]=1;o[e+800>>2]=0;o[e+792>>2]=0;o[e+796>>2]=0;t=o[e+780>>2]|0;if(t|0){if(n[e+784>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+780>>2]=0}n[e+784>>0]=1;o[e+780>>2]=0;o[e+772>>2]=0;o[e+776>>2]=0;t=o[e+760>>2]|0;if(t|0){if(n[e+764>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+760>>2]=0}n[e+764>>0]=1;o[e+760>>2]=0;o[e+752>>2]=0;o[e+756>>2]=0;t=o[e+740>>2]|0;if(t|0){if(n[e+744>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+740>>2]=0}n[e+744>>0]=1;o[e+740>>2]=0;o[e+732>>2]=0;o[e+736>>2]=0;t=o[e+720>>2]|0;if(t|0){if(n[e+724>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+720>>2]=0}n[e+724>>0]=1;o[e+720>>2]=0;o[e+712>>2]=0;o[e+716>>2]=0;t=o[e+700>>2]|0;if(t|0){if(n[e+704>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+700>>2]=0}n[e+704>>0]=1;o[e+700>>2]=0;o[e+692>>2]=0;o[e+696>>2]=0;t=o[e+512>>2]|0;if(t|0){if(n[e+516>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+512>>2]=0}n[e+516>>0]=1;o[e+512>>2]=0;o[e+504>>2]=0;o[e+508>>2]=0;t=o[e+492>>2]|0;if(t|0){if(n[e+496>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+492>>2]=0}n[e+496>>0]=1;o[e+492>>2]=0;o[e+484>>2]=0;o[e+488>>2]=0;Dg(e+288|0);t=o[e+276>>2]|0;if(!t){n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;c=e+272|0;o[c>>2]=0;o[e>>2]=6120;return}if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+276>>2]=0;n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;c=e+272|0;o[c>>2]=0;o[e>>2]=6120;return}function Vs(e){e=e|0;var t=0,i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0;if(!e)return;t=o[6769]|0;i=o[e+-4>>2]|0;_=e+-8+(i&-8)|0;do{if(!(i&1)){n=o[e+-8>>2]|0;if(!(i&3))return;s=e+-8+(0-n)|0;a=n+(i&-8)|0;if(s>>>0<t>>>0)return;if((o[6770]|0)==(s|0)){e=o[_+4>>2]|0;if((e&3|0)!=3){c=s;l=s;e=a;break}o[6767]=a;o[_+4>>2]=e&-2;o[s+4>>2]=a|1;o[s+a>>2]=a;return}i=3?n>>>3:n;if(n>>>0<256){e=o[s+8>>2]|0;t=o[s+12>>2]|0;if((t|0)==(e|0)){o[6765]=o[6765]&~(1<<i);c=s;l=s;e=a;break}else{o[e+12>>2]=t;o[t+8>>2]=e;c=s;l=s;e=a;break}}r=o[s+24>>2]|0;e=o[s+12>>2]|0;do{if((e|0)==(s|0)){e=o[s+16+4>>2]|0;if(!e){e=o[s+16>>2]|0;if(!e){e=0;break}else t=s+16|0}else t=s+16+4|0;while(1){n=e+20|0;i=o[n>>2]|0;if(!i){n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;t=n}}else{e=i;t=n}}o[t>>2]=0}else{l=o[s+8>>2]|0;o[l+12>>2]=e;o[e+8>>2]=l}}while(0);if(r){t=o[s+28>>2]|0;if((o[27364+(t<<2)>>2]|0)==(s|0)){o[27364+(t<<2)>>2]=e;if(!e){o[6766]=o[6766]&~(1<<t);c=s;l=s;e=a;break}}else{o[((o[r+16>>2]|0)==(s|0)?r+16|0:r+20|0)>>2]=e;if(!e){c=s;l=s;e=a;break}}o[e+24>>2]=r;t=o[s+16>>2]|0;if(t|0){o[e+16>>2]=t;o[t+24>>2]=e}t=o[s+16+4>>2]|0;if(t){o[e+20>>2]=t;o[t+24>>2]=e;c=s;l=s;e=a}else{c=s;l=s;e=a}}else{c=s;l=s;e=a}}else{c=e+-8|0;l=e+-8|0;e=i&-8}}while(0);if(c>>>0>=_>>>0)return;t=o[_+4>>2]|0;if(!(t&1))return;if(!(t&2)){if((o[6771]|0)==(_|0)){_=(o[6768]|0)+e|0;o[6768]=_;o[6771]=l;o[l+4>>2]=_|1;if((l|0)!=(o[6770]|0))return;o[6770]=0;o[6767]=0;return}if((o[6770]|0)==(_|0)){_=(o[6767]|0)+e|0;o[6767]=_;o[6770]=c;o[l+4>>2]=_|1;o[c+_>>2]=_;return}r=(t&-8)+e|0;i=3?t>>>3:t;do{if(t>>>0<256){t=o[_+8>>2]|0;e=o[_+12>>2]|0;if((e|0)==(t|0)){o[6765]=o[6765]&~(1<<i);break}else{o[t+12>>2]=e;o[e+8>>2]=t;break}}else{s=o[_+24>>2]|0;e=o[_+12>>2]|0;do{if((e|0)==(_|0)){e=o[_+16+4>>2]|0;if(!e){e=o[_+16>>2]|0;if(!e){t=0;break}else t=_+16|0}else t=_+16+4|0;while(1){n=e+20|0;i=o[n>>2]|0;if(!i){n=e+16|0;i=o[n>>2]|0;if(!i)break;else{e=i;t=n}}else{e=i;t=n}}o[t>>2]=0;t=e}else{t=o[_+8>>2]|0;o[t+12>>2]=e;o[e+8>>2]=t;t=e}}while(0);if(s|0){e=o[_+28>>2]|0;if((o[27364+(e<<2)>>2]|0)==(_|0)){o[27364+(e<<2)>>2]=t;if(!t){o[6766]=o[6766]&~(1<<e);break}}else{o[((o[s+16>>2]|0)==(_|0)?s+16|0:s+20|0)>>2]=t;if(!t)break}o[t+24>>2]=s;e=o[_+16>>2]|0;if(e|0){o[t+16>>2]=e;o[e+24>>2]=t}e=o[_+16+4>>2]|0;if(e|0){o[t+20>>2]=e;o[e+24>>2]=t}}}}while(0);o[l+4>>2]=r|1;o[c+r>>2]=r;if((l|0)==(o[6770]|0)){o[6767]=r;return}}else{o[_+4>>2]=t&-2;o[l+4>>2]=e|1;o[c+e>>2]=e;r=e}i=3?r>>>3:r;if(r>>>0<256){e=o[6765]|0;if(!(e&1<<i)){o[6765]=e|1<<i;e=27100+(i<<1<<2)+8|0;t=27100+(i<<1<<2)|0}else{e=27100+(i<<1<<2)+8|0;t=o[27100+(i<<1<<2)+8>>2]|0}o[e>>2]=l;o[t+12>>2]=l;o[l+8>>2]=t;o[l+12>>2]=27100+(i<<1<<2);return}e=8?r>>>8:r;if(e){if(r>>>0>16777215)n=31;else{c=(16?(e+1048320|0)>>>16:e+1048320|0)&8;_=(16?((e<<c)+520192|0)>>>16:(e<<c)+520192|0)&4;n=(16?((e<<c<<_)+245760|0)>>>16:(e<<c<<_)+245760|0)&2;n=14-(_|c|n)+(15?e<<c<<_<<n>>>15:e<<c<<_<<n)|0;n=(n+7|0?r>>>(n+7|0):r)&1|n<<1}}else n=0;t=27364+(n<<2)|0;o[l+28>>2]=n;o[l+20>>2]=0;o[l+16>>2]=0;e=o[6766]|0;i=1<<n;e:do{if(!(e&i)){o[6766]=e|i;o[t>>2]=l;o[l+24>>2]=t;o[l+12>>2]=l;o[l+8>>2]=l}else{e=o[t>>2]|0;t:do{if((o[e+4>>2]&-8|0)!=(r|0)){n=r<<((n|0)==31?0:25-(1?n>>>1:n)|0);while(1){i=e+16+((31?n>>>31:n)<<2)|0;t=o[i>>2]|0;if(!t)break;if((o[t+4>>2]&-8|0)==(r|0)){e=t;break t}else{n=n<<1;e=t}}o[i>>2]=l;o[l+24>>2]=e;o[l+12>>2]=l;o[l+8>>2]=l;break e}}while(0);c=e+8|0;_=o[c>>2]|0;o[_+12>>2]=l;o[c>>2]=l;o[l+8>>2]=_;o[l+12>>2]=e;o[l+24>>2]=0}}while(0);_=(o[6773]|0)+-1|0;o[6773]=_;if(_|0)return;e=27516;while(1){e=o[e>>2]|0;if(!e)break;else e=e+8|0}o[6773]=-1;return}function Gs(e,t,i,n,r,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;var c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,I=0,x=0,P=0,w=0,L=0;c=o[i+8>>2]|0;if(!c){e=0;return e|0}l=c;I=c;c=0;do{if((o[I+20>>2]|0)>(o[e+100>>2]|0)){S=o[I+12>>2]|0;C=o[S+88>>2]|0;T=C-(o[i+88>>2]|0)|0;E=o[S+92>>2]|0;R=E-(o[i+92>>2]|0)|0;S=o[S+96>>2]|0;M=S-(o[i+96>>2]|0)|0;_=qb(o[s>>2]|0,o[s+4>>2]|0,T|0,((T|0)<0)<<31>>31|0)|0;d=D()|0;l=qb(o[s+8>>2]|0,o[s+8+4>>2]|0,R|0,((R|0)<0)<<31>>31|0)|0;d=Uy(l|0,D()|0,_|0,d|0)|0;_=D()|0;l=qb(o[s+16>>2]|0,o[s+16+4>>2]|0,M|0,((M|0)<0)<<31>>31|0)|0;l=Uy(d|0,_|0,l|0,D()|0)|0;_=D()|0;d=qb(o[r>>2]|0,o[r+4>>2]|0,T|0,((T|0)<0)<<31>>31|0)|0;v=D()|0;f=qb(o[r+8>>2]|0,o[r+8+4>>2]|0,R|0,((R|0)<0)<<31>>31|0)|0;v=Uy(f|0,D()|0,d|0,v|0)|0;d=D()|0;f=qb(o[r+16>>2]|0,o[r+16+4>>2]|0,M|0,((M|0)<0)<<31>>31|0)|0;f=Uy(v|0,d|0,f|0,D()|0)|0;d=D()|0;if((_|0)>0|(_|0)==0&l>>>0>0){y=l;v=_;h=-1;u=1}else{y=vy(0,0,l|0,_|0)|0;v=D()|0;y=(l|0)!=0|(_|0)!=0?y:0;v=(l|0)!=0|(_|0)!=0?v:0;h=((l|0)!=0|(_|0)!=0)&1;u=((l|0)!=0|(_|0)!=0)<<31>>31}if(!((d|0)>0|(d|0)==0&f>>>0>0)){l=vy(0,0,f|0,d|0)|0;_=D()|0;l=(f|0)!=0|(d|0)!=0?l:0;_=(f|0)!=0|(d|0)!=0?_:0;if(!((((f|0)!=0|(d|0)!=0?h:u)|0)==0&((l|0)==0&(_|0)==0))){g=l;u=(f|0)!=0|(d|0)!=0?h:u;p=8}}else{g=f;_=d;p=8}e:do{if((p|0)==8){p=0;if(!c){o[a>>2]=y;o[a+4>>2]=v;o[a+8>>2]=g;o[a+8+4>>2]=_;o[a+16>>2]=u;c=I;break}l=o[a+16>>2]|0;if((u|0)==(l|0)){if(u|0){d=o[a+8>>2]|0;b=o[a+8+4>>2]|0;f=qb(d|0,0,y|0,0)|0;l=D()|0;m=qb(b|0,0,y|0,0)|0;p=D()|0;d=qb(d|0,0,v|0,0)|0;h=D()|0;b=qb(b|0,0,v|0,0)|0;w=D()|0;d=Uy(m|0,0,d|0,0)|0;m=D()|0;w=Uy(p|0,0,b|0,w|0)|0;h=Uy(w|0,D()|0,h|0,0)|0;m=Uy(h|0,D()|0,m|0,0)|0;h=D()|0;l=Uy(0,d|0,f|0,l|0)|0;f=D()|0;d=Uy(m|0,h|0,(f>>>0<d>>>0|(f|0)==(d|0)&l>>>0<0)&1|0,0)|0;h=D()|0;m=o[a>>2]|0;w=o[a+4>>2]|0;b=qb(m|0,0,g|0,0)|0;p=D()|0;x=qb(w|0,0,g|0,0)|0;L=D()|0;m=qb(m|0,0,_|0,0)|0;A=D()|0;w=qb(w|0,0,_|0,0)|0;P=D()|0;m=Uy(x|0,0,m|0,0)|0;x=D()|0;P=Uy(L|0,0,w|0,P|0)|0;A=Uy(P|0,D()|0,A|0,0)|0;x=Uy(A|0,D()|0,x|0,0)|0;A=D()|0;p=Uy(0,m|0,b|0,p|0)|0;b=D()|0;m=Uy(x|0,A|0,(b>>>0<m>>>0|(b|0)==(m|0)&p>>>0<0)&1|0,0)|0;A=D()|0;if(!(h>>>0<A>>>0|(h|0)==(A|0)&d>>>0<m>>>0)){if(h>>>0>A>>>0|(h|0)==(A|0)&d>>>0>m>>>0)l=1;else l=f>>>0<b>>>0|(f|0)==(b|0)&l>>>0<p>>>0?-1:(f>>>0>b>>>0|(f|0)==(b|0)&l>>>0>p>>>0)&1}else l=-1;l=O(l,u)|0;p=17}}else{l=u-l|0;p=17}do{if((p|0)==17){p=0;if((l|0)>=0){if(!l)break;else break e}else{o[a>>2]=y;o[a+4>>2]=v;o[a+8>>2]=g;o[a+8+4>>2]=_;o[a+16>>2]=u;c=I;break e}}}while(0);l=(o[c+4>>2]|0)==(I|0);if((o[c>>2]|0)==(I|0)){if(l){L=o[n+8>>2]|0;x=O(L,R)|0;y=o[n+4>>2]|0;x=x-(O(y,M)|0)|0;w=o[n>>2]|0;L=(O(w,M)|0)-(O(L,T)|0)|0;w=(O(y,T)|0)-(O(w,R)|0)|0;y=o[c+12>>2]|0;l=o[(o[I+8>>2]|0)+12>>2]|0;M=o[l+88>>2]|0;T=(o[y+88>>2]|0)-M|0;v=o[l+92>>2]|0;R=(o[y+92>>2]|0)-v|0;l=o[l+96>>2]|0;y=(o[y+96>>2]|0)-l|0;P=(O(S-l|0,R)|0)-(O(y,E-v|0)|0)|0;l=(O(y,C-M|0)|0)-(O(S-l|0,T)|0)|0;M=(O(E-v|0,T)|0)-(O(R,C-M|0)|0)|0;x=qb(P|0,((P|0)<0)<<31>>31|0,x|0,((x|0)<0)<<31>>31|0)|0;P=D()|0;L=qb(l|0,((l|0)<0)<<31>>31|0,L|0,((L|0)<0)<<31>>31|0)|0;l=D()|0;w=qb(M|0,((M|0)<0)<<31>>31|0,w|0,((w|0)<0)<<31>>31|0)|0;w=Uy(x|0,P|0,w|0,D()|0)|0;l=Uy(w|0,D()|0,L|0,l|0)|0;L=D()|0;l=(L|0)>0|(L|0)==0&l>>>0>0?2:1}else l=2}else l=l&1;c=(l|0)==2^t?c:I}}while(0);l=o[i+8>>2]|0}I=o[I>>2]|0}while((I|0)!=(l|0));return c|0}function Ws(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0.0,y=0.0,C=0.0,E=0;b=ae;ae=ae+176|0;o[b+96>>2]=1;o[b+96+4>>2]=i;o[b+96+8>>2]=t;o[b+96+12>>2]=16;c[b+96+16>>2]=1.0000000474974513e-03;n[b+40+24>>0]=1;p=b+40+20|0;o[p>>2]=0;o[b+40+12>>2]=0;o[b+40+16>>2]=0;h=b+40+52|0;n[h>>0]=1;d=b+40+48|0;o[d>>2]=0;o[b+40+40>>2]=0;o[b+40+44>>2]=0;n[b+40>>0]=1;o[b+40+4>>2]=0;o[b+40+28>>2]=0;o[b+40+32>>2]=0;n[b+16>>0]=1;o[b+12>>2]=0;o[b+4>>2]=0;o[b+8>>2]=0;n[b+36>>0]=1;o[b+32>>2]=0;o[b+24>>2]=0;o[b+28>>2]=0;o[b+96+20>>2]=i;_D(b,b+96|0,b+40|0)|0;o[6747]=(o[6747]|0)+1;t=Do(1271)|0;if(!t)f=0;else{o[(t+4+15&-16)+-4>>2]=t;f=t+4+15&-16}Vo(f,e,o[b+40+4>>2]|0,o[p>>2]|0,0);if((o[b+40+28>>2]|0)>0){l=f+720|0;u=f+732|0;_=f+740|0;s=f+924|0;a=0;do{e=a*3|0;m=o[d>>2]|0;t=o[m+(e<<2)>>2]|0;i=o[m+(e+1<<2)>>2]|0;e=o[m+(e+2<<2)>>2]|0;if((t|0)<(i|0)){E=o[l>>2]|0;bn(f,0);m=(o[u>>2]|0)+-1|0;A=o[_>>2]|0;o[A+(m*52|0)+8>>2]=E+(t*104|0);o[A+(m*52|0)+12>>2]=E+(i*104|0);C=+c[E+(t*104|0)+8>>2]-+c[E+(i*104|0)+8>>2];y=+c[E+(t*104|0)+12>>2]-+c[E+(i*104|0)+12>>2];g=+c[E+(t*104|0)+16>>2]-+c[E+(i*104|0)+16>>2];c[A+(m*52|0)+16>>2]=+v(+(C*C+y*y+g*g));n[s>>0]=1}if((i|0)<(e|0)){m=o[l>>2]|0;bn(f,0);E=(o[u>>2]|0)+-1|0;A=o[_>>2]|0;o[A+(E*52|0)+8>>2]=m+(i*104|0);o[A+(E*52|0)+12>>2]=m+(e*104|0);g=+c[m+(i*104|0)+8>>2]-+c[m+(e*104|0)+8>>2];y=+c[m+(i*104|0)+12>>2]-+c[m+(e*104|0)+12>>2];C=+c[m+(i*104|0)+16>>2]-+c[m+(e*104|0)+16>>2];c[A+(E*52|0)+16>>2]=+v(+(g*g+y*y+C*C));n[s>>0]=1}if((e|0)<(t|0)){m=o[l>>2]|0;bn(f,0);E=(o[u>>2]|0)+-1|0;A=o[_>>2]|0;o[A+(E*52|0)+8>>2]=m+(e*104|0);o[A+(E*52|0)+12>>2]=m+(t*104|0);g=+c[m+(e*104|0)+8>>2]-+c[m+(t*104|0)+8>>2];y=+c[m+(e*104|0)+12>>2]-+c[m+(t*104|0)+12>>2];C=+c[m+(e*104|0)+16>>2]-+c[m+(t*104|0)+16>>2];c[A+(E*52|0)+16>>2]=+v(+(g*g+y*y+C*C));n[s>>0]=1}rt(f,t,i,e,0);a=a+1|0}while((a|0)<(o[b+40+28>>2]|0))}if(o[b+40+12>>2]|0){o[b+40+4>>2]=0;t=o[p>>2]|0;if(t|0){if(n[b+40+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[p>>2]=0}n[b+40+24>>0]=1;o[p>>2]=0;o[b+40+12>>2]=0;o[b+40+16>>2]=0}if(o[b+40+40>>2]|0){o[b+40+32>>2]=0;t=o[d>>2]|0;if(t|0){if(n[h>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[d>>2]=0}n[h>>0]=1;o[d>>2]=0;o[b+40+40>>2]=0;o[b+40+44>>2]=0}if(r){i=o[f+732>>2]|0;if((i|0)>0){l=f+740|0;a=0;t=243703;do{e=o[l>>2]|0;s=e+(a*52|0)|0;t=(O(t,1664525)|0)+1013904223|0;_=b+124|0;u=s;r=_+52|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));_=s;u=e+(((t>>>0)%(i>>>0)|0)*52|0)|0;r=_+52|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));_=e+(((t>>>0)%(i>>>0)|0)*52|0)|0;u=b+124|0;r=_+52|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));a=a+1|0}while((a|0)!=(i|0))}else t=243703;s=o[f+752>>2]|0;if((s|0)>0){l=f+760|0;a=0;do{i=o[l>>2]|0;e=i+(a*44|0)|0;t=(O(t,1664525)|0)+1013904223|0;i=i+(((t>>>0)%(s>>>0)|0)*44|0)|0;_=b+124|0;u=e;r=_+44|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));_=e;u=i;r=_+44|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));_=i;u=b+124|0;r=_+44|0;do{o[_>>2]=o[u>>2];_=_+4|0;u=u+4|0}while((_|0)<(r|0));a=a+1|0}while((a|0)!=(s|0))}}t=o[b+32>>2]|0;if(t|0){if(n[b+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[b+32>>2]=0}n[b+36>>0]=1;o[b+32>>2]=0;o[b+24>>2]=0;o[b+28>>2]=0;t=o[b+12>>2]|0;if(t|0){if(n[b+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[b+12>>2]=0}t=o[d>>2]|0;if(t|0){if(n[h>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[d>>2]=0}n[h>>0]=1;o[d>>2]=0;o[b+40+40>>2]=0;o[b+40+44>>2]=0;t=o[p>>2]|0;if(!t){ae=b;return f|0}if(n[b+40+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[p>>2]=0;ae=b;return f|0}function Xs(e,t,i){e=e|0;t=t|0;i=i|0;do{if(!((t|0)==32&(i|0)==32)){if((t|0)==32){if((i|0)<20){t=e+96|0;break}if((i+-21|0)>>>0<9){t=e+104|0;break}}else{if((t|0)<20&(i|0)==32){t=e+100|0;break}if((t+-21|0)>>>0<9&(i|0)==32){t=e+108|0;break}if((t|0)==8&(i|0)==8){t=e+60|0;break}if((t|0)==8&(i|0)==1){t=e+76|0;break}if((t|0)==1&(i|0)==8){t=e+80|0;break}}if(!(i|t)){t=e+72|0;break}if((t|0)<20&(i|0)==28){t=e+88|0;break}if((t|0)==28&(i|0)<20){t=e+84|0;break}if((t|0)<20){if((i|0)<20){t=e+32|0;break}if((i+-21|0)>>>0<9){t=e+36|0;break}}else{if((i|0)<20&(t+-21|0)>>>0<9){t=e+40|0;break}if((t|0)==31)if((i|0)==31){t=e+48|0;break}else{t=e+44|0;break}}if((i|0)==31){t=e+52|0;break}else{t=e+56|0;break}}else t=e+92|0}while(0);return o[t>>2]|0}function zs(e){e=e|0;var t=0;t=um(616)|0;o[t+164>>2]=1065353216;o[t+168>>2]=1065353216;o[t+172>>2]=1065353216;c[t+176>>2]=0.0;o[t+180>>2]=0;c[t+184>>2]=999999984306749440.0;o[t+188>>2]=0;o[t+188+4>>2]=0;o[t+188+8>>2]=0;o[t+188+12>>2]=0;o[t+204>>2]=1;o[t+208>>2]=-1;o[t+212>>2]=-1;o[t+216>>2]=1;c[t+220>>2]=0.0;c[t+224>>2]=.5;c[t+228>>2]=0.0;c[t+232>>2]=0.0;o[t+236>>2]=1;o[t+240>>2]=0;c[t+244>>2]=1.0;o[t+248>>2]=0;o[t+248+4>>2]=0;o[t+248+8>>2]=0;o[t+248+12>>2]=0;o[t+4>>2]=1065353216;o[t+8>>2]=0;o[t+8+4>>2]=0;o[t+8+8>>2]=0;o[t+8+12>>2]=0;o[t+24>>2]=1065353216;o[t+28>>2]=0;o[t+28+4>>2]=0;o[t+28+8>>2]=0;o[t+28+12>>2]=0;o[t+44>>2]=1065353216;o[t+48>>2]=0;o[t+48+4>>2]=0;o[t+48+8>>2]=0;o[t+48+12>>2]=0;o[t+48+16>>2]=0;o[t>>2]=5172;n[t+500>>0]=1;o[t+496>>2]=0;o[t+488>>2]=0;o[t+492>>2]=0;Jn(t,e);return t|0}function Ys(e,t,i,n,r,s,a,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;var u=0,f=0,d=0;d=ae;ae=ae+16|0;La(15456);zF[o[(o[e>>2]|0)+32>>2]&1](e,t,i,n,r,s,a,l,_);f=o[e+184>>2]|0;u=o[l+20>>2]|0;u=(f|0)>(u|0)?f:u;if((u|0)>0){f=0;do{+fF[o[(o[e>>2]|0)+40>>2]&3](e,f,t,i,n,r,s,a,l,_);f=f+1|0}while((f|0)<(u|0))}u=o[2685]|0;e=(o[u+16>>2]|0)+-1|0;o[u+16>>2]=e;if(e|0){ae=d;return 0.0}do{if(o[u+4>>2]|0){$(d|0,0)|0;e=o[6746]|0;c[u+8>>2]=+c[u+8>>2]+ +(((o[d+4>>2]|0)-(o[e+4>>2]|0)+(((o[d>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[u+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[u+16>>2]|0)){u=o[2685]|0;break}else{ae=d;return 0.0}}}while(0);o[2685]=o[u+20>>2];ae=d;return 0.0}function Qs(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0,f=0,d=0.0,h=0.0,p=0.0,b=0,m=0,A=0.0,g=0;if((n|0)<=0)return;r=0;do{c[i+(r<<4)+12>>2]=-999999984306749440.0;r=r+1|0}while((r|0)!=(n|0));m=0;do{a=+c[e+12>>2];d=+c[t+(m<<4)>>2]*a;l=+c[e+16>>2];p=+c[t+(m<<4)+4>>2]*l;_=+c[e+20>>2];h=+c[t+(m<<4)+8>>2]*_;r=o[e+96>>2]|0;if((r|0)>0){u=o[e+104>>2]|0;f=0;s=-3402823466385288598117041.0e14;b=-1;do{A=d*+c[u+(f<<4)>>2]+p*+c[u+(f<<4)+4>>2]+h*+c[u+(f<<4)+8>>2];g=A>s;b=g?f:b;s=g?A:s;f=f+1|0}while((f|0)!=(r|0));p=+c[u+(b<<4)+4>>2]*l;A=+c[u+(b<<4)+8>>2]*_;c[i+(m<<4)>>2]=+c[u+(b<<4)>>2]*a;c[i+(m<<4)+4>>2]=p;c[i+(m<<4)+8>>2]=A}else s=-999999984306749440.0;c[i+(m<<4)+12>>2]=s;m=m+1|0}while((m|0)!=(n|0));return}function Ks(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;e:do{if(!(gA(e,o[t+8>>2]|0,s)|0)){if(!(gA(e,o[t>>2]|0,s)|0)){e=o[e+8>>2]|0;jF[o[(o[e>>2]|0)+24>>2]&31](e,t,i,r,s);break}if((o[t+16>>2]|0)!=(i|0)?(o[t+20>>2]|0)!=(i|0):0){o[t+32>>2]=r;do{if((o[t+44>>2]|0)!=4){n[t+52>>0]=0;n[t+53>>0]=0;e=o[e+8>>2]|0;GF[o[(o[e>>2]|0)+20>>2]&7](e,t,i,i,1,s);if(n[t+53>>0]|0){s=(n[t+52>>0]|0)==0;o[t+44>>2]=3;if(s)break;else break e}else{o[t+44>>2]=4;break}}}while(0);o[t+20>>2]=i;o[t+40>>2]=(o[t+40>>2]|0)+1;if((o[t+36>>2]|0)!=1)break;if((o[t+24>>2]|0)!=2)break;n[t+54>>0]=1;break}if((r|0)==1)o[t+32>>2]=1}else Bb(t,i,r)}while(0);return}function Zs(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0;r=o[e+232>>2]|0;e:do{if((r|0)>0){s=o[e+240>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0))break e}if((i|0)<(r|0)){o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+240>>2]|0)+(r+-1<<2)>>2]=t;o[e+232>>2]=r+-1}}}while(0);i=o[t+188>>2]|0;if(i|0){s=o[e+68>>2]|0;s=dF[o[(o[s>>2]|0)+36>>2]&127](s)|0;LF[o[(o[s>>2]|0)+40>>2]&127](s,i,o[e+24>>2]|0);s=o[e+68>>2]|0;LF[o[(o[s>>2]|0)+12>>2]&127](s,i,o[e+24>>2]|0);o[t+188>>2]=0}r=o[e+8>>2]|0;if((r|0)<=0)return;s=o[e+16>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0)){a=15;break}}if((a|0)==15)return;if((i|0)>=(r|0))return;o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+16>>2]|0)+(r+-1<<2)>>2]=t;o[e+8>>2]=r+-1;return}function Js(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0;s=o[t>>2]|0;t=o[e+268>>2]|0;e:do{if((t|0)>0){r=o[e+276>>2]|0;i=0;while(1){if((o[r+(i<<2)>>2]|0)==(s|0))break;i=i+1|0;if((i|0)>=(t|0))break e}if((i|0)!=(t|0))return}}while(0);if((t|0)==(o[e+272>>2]|0)?(a=(t|0)==0?1:t<<1,(t|0)<(a|0)):0){if(!a)i=0;else{o[6747]=(o[6747]|0)+1;t=Do((a<<2|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=o[e+268>>2]|0}if((t|0)>0){r=0;do{o[i+(r<<2)>>2]=o[(o[e+276>>2]|0)+(r<<2)>>2];r=r+1|0}while((r|0)!=(t|0))}r=o[e+276>>2]|0;if(r){if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);t=o[e+268>>2]|0}o[e+276>>2]=0}n[e+280>>0]=1;o[e+276>>2]=i;o[e+272>>2]=a}o[(o[e+276>>2]|0)+(t<<2)>>2]=s;o[e+268>>2]=t+1;return}function qs(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0;r=o[e+328>>2]|0;e:do{if((r|0)>0){s=o[e+336>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0))break e}if((i|0)<(r|0)){o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+336>>2]|0)+(r+-1<<2)>>2]=t;o[e+328>>2]=r+-1}}}while(0);i=o[t+188>>2]|0;if(i|0){s=o[e+68>>2]|0;s=dF[o[(o[s>>2]|0)+36>>2]&127](s)|0;LF[o[(o[s>>2]|0)+40>>2]&127](s,i,o[e+24>>2]|0);s=o[e+68>>2]|0;LF[o[(o[s>>2]|0)+12>>2]&127](s,i,o[e+24>>2]|0);o[t+188>>2]=0}r=o[e+8>>2]|0;if((r|0)<=0)return;s=o[e+16>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0)){a=15;break}}if((a|0)==15)return;if((i|0)>=(r|0))return;o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+16>>2]|0)+(r+-1<<2)>>2]=t;o[e+8>>2]=r+-1;return}function $s(e,t){e=e|0;t=t|0;var i=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;i=Cm()|0;o[i+4>>2]=3;o[i>>2]=5660;o[i+8>>2]=-1;o[i+12>>2]=-1;c[i+16>>2]=3402823466385288598117041.0e14;n[i+20>>0]=1;n[i+21>>0]=0;o[i+24>>2]=-1;o[i+28>>2]=e;kl();o[i+32>>2]=25640;c[i+36>>2]=0.0;c[i+40>>2]=.30000001192092896;o[i+44>>2]=0;o[i>>2]=5608;o[i+300>>2]=o[t>>2];o[i+300+4>>2]=o[t+4>>2];o[i+300+8>>2]=o[t+8>>2];o[i+300+12>>2]=o[t+12>>2];_=+c[t>>2];l=+c[t+4>>2];a=+c[t+8>>2];s=_*+c[e+20>>2]+l*+c[e+24>>2]+a*+c[e+28>>2]+ +c[e+56>>2];r=_*+c[e+36>>2]+l*+c[e+40>>2]+a*+c[e+44>>2]+ +c[e+60>>2];c[i+316>>2]=_*+c[e+4>>2]+l*+c[e+8>>2]+a*+c[e+12>>2]+ +c[e+52>>2];c[i+320>>2]=s;c[i+324>>2]=r;c[i+328>>2]=0.0;o[i+332>>2]=0;n[i+344>>0]=0;c[i+348>>2]=.30000001192092896;c[i+352>>2]=1.0;c[i+356>>2]=0.0;return i|0}function ea(e){e=e|0;var t=0,i=0.0,n=0.0,r=0.0,s=0.0,a=0.0;t=rA()|0;o[t+8>>2]=0;o[t+12>>2]=1065353216;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;c[t+24>>2]=0.0;c[t+44>>2]=.03999999910593033;o[t+52>>2]=0;o[t>>2]=9156;o[t+4>>2]=0;r=+c[e>>2];n=+c[e+4>>2];i=+c[e+8>>2];i=+c[e+((r<n?r<i?0:2:n<i?1:2)<<2)>>2]*.10000000149011612;if(i<.03999999910593033){a=+tD(t);s=+tD(t);r=+tD(t);a=a+ +c[t+28>>2];s=s+ +c[t+32>>2];r=r+ +c[t+36>>2];c[t+44>>2]=i;i=+tD(t);n=+tD(t);r=r-+tD(t);c[t+28>>2]=a-i;c[t+32>>2]=s-n;c[t+36>>2]=r;c[t+40>>2]=0.0}r=+tD(t);s=+tD(t);a=+tD(t);s=+c[e+4>>2]-s;a=+c[e+8>>2]-a;c[t+28>>2]=+c[e>>2]-r;c[t+32>>2]=s;c[t+36>>2]=a;c[t+40>>2]=0.0;return t|0}function ta(e){e=e|0;var t=0,i=0;t=o[e+92>>2]|0;if(t|0){if(n[e+96>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+92>>2]=0}n[e+96>>0]=1;o[e+92>>2]=0;o[e+84>>2]=0;o[e+88>>2]=0;t=o[e+64>>2]|0;if(t|0)do{o[e+64>>2]=o[t+8>>2];i=o[t>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+64>>2]|0}while((t|0)!=0);t=o[e+48>>2]|0;if(t|0)do{o[e+48>>2]=o[t+8>>2];i=o[t>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+48>>2]|0}while((t|0)!=0);t=o[e+32>>2]|0;if(!t)return;do{o[e+32>>2]=o[t+8>>2];i=o[t>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);t=o[e+32>>2]|0}while((t|0)!=0);return}function ia(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0;o[e+4>>2]=35;o[e+8>>2]=0;o[e+12>>2]=1065353216;o[e+16>>2]=1065353216;o[e+20>>2]=1065353216;c[e+24>>2]=0.0;c[e+44>>2]=.03999999910593033;o[e>>2]=9452;o[e+52>>2]=1;r=+c[t>>2];n=+c[t+4>>2];i=+c[t+8>>2];i=+c[t+((r<n?r<i?0:2:n<i?1:2)<<2)>>2]*.10000000149011612;if(i<.03999999910593033){a=+tD(e);s=+tD(e);r=+tD(e);a=a+ +c[e+28>>2];s=s+ +c[e+32>>2];r=r+ +c[e+36>>2];c[e+44>>2]=i;i=+tD(e);n=+tD(e);r=r-+tD(e);c[e+28>>2]=a-i;c[e+32>>2]=s-n;c[e+36>>2]=r;c[e+40>>2]=0.0}r=+tD(e);s=+tD(e);a=+tD(e);s=+c[t+4>>2]-s;a=+c[t+8>>2]-a;c[e+28>>2]=+c[t>>2]-r;c[e+32>>2]=s;c[e+36>>2]=a;c[e+40>>2]=0.0;o[e+4>>2]=13;return}function na(e,t,i){e=e|0;t=+t;i=+i;var n=0.0,r=0.0,s=0.0;n=+c[e+692>>2];do{if(n>0.0){r=+c[e+688>>2];if(!((t-r)%6.2831854820251465<-3.1415927410125732)){if((t-r)%6.2831854820251465>3.1415927410125732)s=(t-r)%6.2831854820251465+-6.2831854820251465;else s=(t-r)%6.2831854820251465}else s=(t-r)%6.2831854820251465+6.2831854820251465;if(!(!(s<-n)&s<=n))if(s>0.0){if((n+r)%6.2831854820251465<-3.1415927410125732){t=(n+r)%6.2831854820251465+6.2831854820251465;break}if(!((n+r)%6.2831854820251465>3.1415927410125732)){t=(n+r)%6.2831854820251465;break}t=(n+r)%6.2831854820251465+-6.2831854820251465;break}else{if((r-n)%6.2831854820251465<-3.1415927410125732){t=(r-n)%6.2831854820251465+6.2831854820251465;break}if(!((r-n)%6.2831854820251465>3.1415927410125732)){t=(r-n)%6.2831854820251465;break}t=(r-n)%6.2831854820251465+-6.2831854820251465;break}}}while(0);c[e+680>>2]=(t-+Aa(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0))/i;return}function ra(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0;c=o[t>>2]|0;c=pF[o[(o[c>>2]|0)+56>>2]&31](c,28)|0;l=(n[e+4>>0]|0)==0;a=o[e+8>>2]|0;s=o[e+12>>2]|0;e=o[t>>2]|0;o[c+4>>2]=e;o[c>>2]=6592;n[c+8>>0]=0;o[c+12>>2]=0;if(l){n[c+16>>0]=0;o[c+20>>2]=a;o[c+24>>2]=s;if(!(mF[o[(o[e>>2]|0)+24>>2]&63](e,o[i+8>>2]|0,o[r+8>>2]|0)|0))return c|0;l=o[c+4>>2]|0;o[c+12>>2]=mF[o[(o[l>>2]|0)+12>>2]&63](l,o[i+8>>2]|0,o[r+8>>2]|0)|0;n[c+8>>0]=1;return c|0}else{n[c+16>>0]=1;o[c+20>>2]=a;o[c+24>>2]=s;if(!(mF[o[(o[e>>2]|0)+24>>2]&63](e,o[r+8>>2]|0,o[i+8>>2]|0)|0))return c|0;l=o[c+4>>2]|0;o[c+12>>2]=mF[o[(o[l>>2]|0)+12>>2]&63](l,o[r+8>>2]|0,o[i+8>>2]|0)|0;n[c+8>>0]=1;return c|0}return 0}function oa(e,t,i){e=e|0;t=+t;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0;n=ae;ae=ae+96|0;o[n+32>>2]=1065353216;o[n+32+4>>2]=0;o[n+32+4+4>>2]=0;o[n+32+4+8>>2]=0;o[n+32+4+12>>2]=0;o[n+32+20>>2]=1065353216;o[n+32+24>>2]=0;o[n+32+24+4>>2]=0;o[n+32+24+8>>2]=0;o[n+32+24+12>>2]=0;o[n+32+40>>2]=1065353216;_=n+32+44|0;o[_>>2]=0;o[_+4>>2]=0;o[_+8>>2]=0;o[_+12>>2]=0;o[_+16>>2]=0;BF[o[(o[e>>2]|0)+8>>2]&127](e,n+32|0,n+16|0,n);a=(+c[n>>2]-+c[n+16>>2])*.5;s=(+c[n+4>>2]-+c[n+16+4>>2])*.5;l=(+c[n+8>>2]-+c[n+16+8>>2])*.5;r=+nF[o[(o[e>>2]|0)+48>>2]&15](e);c[i>>2]=t*.0833333283662796*((s+r)*2.0*((s+r)*2.0)+(l+r)*2.0*((l+r)*2.0));c[i+4>>2]=t*.0833333283662796*((a+r)*2.0*((a+r)*2.0)+(l+r)*2.0*((l+r)*2.0));c[i+8>>2]=t*.0833333283662796*((a+r)*2.0*((a+r)*2.0)+(s+r)*2.0*((s+r)*2.0));c[i+12>>2]=0.0;ae=n;return}function sa(){var e=0;e=um(284)|0;o[e+164>>2]=1065353216;o[e+168>>2]=1065353216;o[e+172>>2]=1065353216;c[e+176>>2]=0.0;o[e+180>>2]=0;c[e+184>>2]=999999984306749440.0;o[e+188>>2]=0;o[e+188+4>>2]=0;o[e+188+8>>2]=0;o[e+188+12>>2]=0;o[e+204>>2]=1;o[e+208>>2]=-1;o[e+212>>2]=-1;o[e+216>>2]=1;c[e+220>>2]=0.0;c[e+224>>2]=.5;c[e+228>>2]=0.0;c[e+232>>2]=0.0;o[e+240>>2]=0;c[e+244>>2]=1.0;o[e+248>>2]=0;o[e+248+4>>2]=0;o[e+248+8>>2]=0;o[e+248+12>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+48+4>>2]=0;o[e+48+8>>2]=0;o[e+48+12>>2]=0;o[e+48+16>>2]=0;o[e>>2]=6156;n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e+236>>2]=4;return e|0}function aa(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0.0,l=0.0,_=0,u=0;r=ae;ae=ae+48|0;if((o[e+136>>2]|0)<=0){ae=r;return}i=0;do{u=o[e+144>>2]|0;o[r+32>>2]=(n[u+(i*284|0)+84>>0]|0)==0?1065353216:0;o[r+32+4>>2]=0;o[r+32+8>>2]=1065353216;c[r+32+12>>2]=0.0;_=u+(i*284|0)+140|0;o[r+16>>2]=o[_>>2];o[r+16+4>>2]=o[_+4>>2];o[r+16+8>>2]=o[_+8>>2];o[r+16+12>>2]=o[_+12>>2];_=o[e+120>>2]|0;s=o[(o[t>>2]|0)+8>>2]|0;l=+c[u+(i*284|0)+108+(_<<2)>>2]+ +c[r+16+4>>2];a=+c[u+(i*284|0)+124+(_<<2)>>2]+ +c[r+16+8>>2];c[r>>2]=+c[u+(i*284|0)+92+(_<<2)>>2]+ +c[r+16>>2];c[r+4>>2]=l;c[r+8>>2]=a;c[r+12>>2]=0.0;BF[s&127](t,r+16|0,r,r+32|0);BF[o[(o[t>>2]|0)+8>>2]&127](t,r+16|0,(o[e+144>>2]|0)+(i*284|0)+16|0,r+32|0);i=i+1|0}while((i|0)<(o[e+136>>2]|0));ae=r;return}function ca(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;switch(t|0){case 2:{if((n|0)<1){c[e+232>>2]=i;o[e+300>>2]=o[e+300>>2]|512;return}if((n|0)<3){c[e+264>>2]=i;o[e+300>>2]=o[e+300>>2]|32;return}if((n|0)==3){c[e+248>>2]=i;o[e+300>>2]=o[e+300>>2]|2048;return}if((n|0)>=6)return;c[e+280>>2]=i;o[e+300>>2]=o[e+300>>2]|128;return}case 3:{if((n|0)<1){c[e+212>>2]=i;o[e+300>>2]=o[e+300>>2]|1;return}if((n|0)!=3)return;c[e+228>>2]=i;o[e+300>>2]=o[e+300>>2]|4;return}case 4:{if((n|0)<1){c[e+244>>2]=i;o[e+300>>2]=o[e+300>>2]|256;return}if((n|0)<3){c[e+276>>2]=i;o[e+300>>2]=o[e+300>>2]|16;return}if((n|0)==3){c[e+260>>2]=i;o[e+300>>2]=o[e+300>>2]|1024;return}if((n|0)>=6)return;c[e+292>>2]=i;o[e+300>>2]=o[e+300>>2]|64;return}default:return}}function la(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0,f=0.0,d=0.0,h=0.0;u=o[e+720>>2]|0;e:do{if(s?(_=o[e+732>>2]|0,(_|0)>0):0){s=o[e+740>>2]|0;l=0;while(1){a=o[s+(l*52|0)+8>>2]|0;if((a|0)==(u+(t*104|0)|0)?(o[s+(l*52|0)+12>>2]|0)==(u+(i*104|0)|0):0){s=10;break}if((a|0)==(u+(i*104|0)|0)?(o[s+(l*52|0)+12>>2]|0)==(u+(t*104|0)|0):0){s=10;break}l=l+1|0;if((l|0)>=(_|0))break e}if((s|0)==10)return}}while(0);bn(e,r);r=(o[e+732>>2]|0)+-1|0;_=o[e+740>>2]|0;o[_+(r*52|0)+8>>2]=u+(t*104|0);o[_+(r*52|0)+12>>2]=u+(i*104|0);h=+c[u+(t*104|0)+8>>2]-+c[u+(i*104|0)+8>>2];d=+c[u+(t*104|0)+12>>2]-+c[u+(i*104|0)+12>>2];f=+c[u+(t*104|0)+16>>2]-+c[u+(i*104|0)+16>>2];c[_+(r*52|0)+16>>2]=+v(+(h*h+d*d+f*f));n[e+924>>0]=1;return}function _a(){var e=0;e=Mm()|0;o[e>>2]=1025;o[e+116>>2]=0;n[e+120>>0]=0;o[e+124>>2]=0;o[e+124+4>>2]=0;o[e+124+8>>2]=0;o[e+124+12>>2]=0;o[e+124+16>>2]=0;o[e+124+20>>2]=0;o[e+124+24>>2]=0;o[e+124+28>>2]=0;o[e+300>>2]=0;n[e+304>>0]=0;o[e+308>>2]=0;o[e+308+4>>2]=0;o[e+308+8>>2]=0;o[e+308+12>>2]=0;o[e+308+16>>2]=0;o[e+308+20>>2]=0;o[e+308+24>>2]=0;o[e+308+28>>2]=0;o[e+484>>2]=0;n[e+488>>0]=0;o[e+492>>2]=0;o[e+492+4>>2]=0;o[e+492+8>>2]=0;o[e+492+12>>2]=0;o[e+492+16>>2]=0;o[e+492+20>>2]=0;o[e+492+24>>2]=0;o[e+492+28>>2]=0;o[e+668>>2]=0;n[e+672>>0]=0;o[e+676>>2]=0;o[e+676+4>>2]=0;o[e+676+8>>2]=0;o[e+676+12>>2]=0;o[e+676+16>>2]=0;o[e+676+20>>2]=0;o[e+676+24>>2]=0;o[e+676+28>>2]=0;o[e+740>>2]=0;o[e+744>>2]=0;o[e+748>>2]=0;o[e+768>>2]=0;return e|0}function ua(e){e=e|0;var t=0,i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0;o[e>>2]=4916;if((o[e+104>>2]|0)<=0){e=e+60|0;Sa(e);Ta(e);return}_=0;do{c=o[(o[e+4>>2]|0)+684>>2]|0;l=(o[e+112>>2]|0)+(_<<3)+4|0;t=o[l>>2]|0;i=o[c+60>>2]|0;if((i|0)>0){a=0;do{s=(o[c+68>>2]|0)+(a<<2)|0;n=o[s>>2]|0;if(n){r=0;while(1){i=n;n=o[n+280>>2]|0;if((o[i+276>>2]|0)==(t|0)){o[((r|0)==0?s:r+280|0)>>2]=n;KL(i);i=r}if(!n)break;else r=i}i=o[c+60>>2]|0}a=a+1|0}while((a|0)<(i|0));t=o[l>>2]|0}if(t|0)SF[o[(o[t>>2]|0)+4>>2]&511](t);_=_+1|0}while((_|0)<(o[e+104>>2]|0));e=e+60|0;Sa(e);Ta(e);return}function fa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0;if(!(n[e+84>>0]|0)){o[e+32>>2]=o[e+204>>2];c[e+272>>2]=0.0;h=-+c[e+56>>2];p=-+c[e+60>>2];c[e>>2]=-+c[e+52>>2];c[e+4>>2]=h;c[e+8>>2]=p;c[e+12>>2]=0.0;p=1.0;e=e+268|0;c[e>>2]=p;return}r=+c[e>>2];_=+c[e+4>>2];u=+c[e+8>>2];f=r*+c[e+52>>2]+_*+c[e+56>>2]+u*+c[e+60>>2];d=+c[e+16>>2]-+c[t+52>>2];p=+c[e+20>>2]-+c[t+56>>2];h=+c[e+24>>2]-+c[t+60>>2];s=+c[t+332>>2];a=+c[t+336>>2];l=+c[t+328>>2];if(!(f>=-.10000000149011612)){c[e+272>>2]=-1.0/f*(r*(s*h-p*a+ +c[t+312>>2])+_*(d*a-h*l+ +c[t+316>>2])+u*(p*l-d*s+ +c[t+320>>2]));p=-1.0/f;e=e+268|0;c[e>>2]=p;return}else{c[e+272>>2]=0.0;p=10.0;e=e+268|0;c[e>>2]=p;return}}function da(e,t){e=e|0;t=t|0;var i=0,r=0;if(n[e+1308>>0]|0){o[t>>2]=0;o[t+4>>2]=0;return}Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);o[t>>2]=0;o[t+4>>2]=6;if((o[e+856>>2]|0)==0?(n[e+788>>0]|0)==0:0){i=0;r=6}else{o[t>>2]=1;o[t+4>>2]=5;i=1;r=5}if(!((o[e+860>>2]|0)==0?(n[e+789>>0]|0)==0:0)){i=i+1|0;o[t>>2]=i;r=r+-1|0;o[t+4>>2]=r}if(!((o[e+864>>2]|0)==0?!(n[e+790>>0]|0):0)){o[t>>2]=i+1;o[t+4>>2]=r+-1}if(at(e,0)|0){o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1}if(at(e,1)|0){o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1}if(!(at(e,2)|0))return;o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1;return}function ha(e,t,i,n,r,s,a,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;l=l|0;_=_|0;u=u|0;var f=0;f=ae;ae=ae+16|0;La(15519);+uF[o[(o[e>>2]|0)+44>>2]&3](e,t,i,n,r,s,a,l,_);+uF[o[(o[e>>2]|0)+48>>2]&3](e,t,i,n,r,s,a,l,_);+cF[o[(o[e>>2]|0)+36>>2]&1](e,t,i,l);u=o[2685]|0;e=(o[u+16>>2]|0)+-1|0;o[u+16>>2]=e;if(e|0){ae=f;return 0.0}do{if(o[u+4>>2]|0){$(f|0,0)|0;e=o[6746]|0;c[u+8>>2]=+c[u+8>>2]+ +(((o[f+4>>2]|0)-(o[e+4>>2]|0)+(((o[f>>2]|0)-(o[e>>2]|0)|0)*1e6|0)-(o[u+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[u+16>>2]|0)){u=o[2685]|0;break}else{ae=f;return 0.0}}}while(0);o[2685]=o[u+20>>2];ae=f;return 0.0}function pa(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;var r=0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0;r=ae;ae=ae+96|0;l=+c[i>>2];_=+c[i+4>>2];u=+c[i+8>>2];ep(r+80|0,l,_,u,+RE(l,_,u,+c[t>>2],+c[t+4>>2],+c[t+8>>2]));u=+c[r+80>>2];_=+c[r+80+4>>2];l=+c[r+80+8>>2];Th(r+64|0,+c[t>>2],+c[t+4>>2],+c[t+8>>2],u,_,l);kd(r+48|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[t>>2],+c[t+4>>2],+c[t+8>>2]);a=+c[r+48>>2];s=+c[r+48+4>>2];o=+c[r+48+8>>2];f=+jL(n);ep(r+16|0,+c[r+64>>2],+c[r+64+4>>2],+c[r+64+8>>2],f);Eh(r+32|0,u,_,l,+c[r+16>>2],+c[r+16+4>>2],+c[r+16+8>>2]);ep(r,a,s,o,+HL(n));Eh(e,+c[r+32>>2],+c[r+32+4>>2],+c[r+32+8>>2],+c[r>>2],+c[r+4>>2],+c[r+8>>2]);ae=r;return}function ba(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,c=0;r=o[e+212>>2]|0;if((r|0)==(o[e+216>>2]|0)?(c=(r|0)==0?1:r<<1,(r|0)<(c|0)):0){if(!c)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((c<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+212>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[e+220>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[e+220>>2]|0;if(a){if(n[e+224>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[e+212>>2]|0}o[e+220>>2]=0}n[e+224>>0]=1;o[e+220>>2]=s;o[e+216>>2]=c}o[(o[e+220>>2]|0)+(r<<2)>>2]=t;o[e+212>>2]=r+1;if(!i)return;Xn(o[t+28>>2]|0,t);Xn(o[t+32>>2]|0,t);return}function ma(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0;n=o[e+4>>2]|0;if(n|0)El(n,t,i);n=o[e>>2]|0;if(!n)return;f=+c[t>>2];_=+c[n+128>>2];u=+c[t+4>>2];l=+c[t+8>>2];r=+c[i+4>>2];h=+c[i+8>>2];d=+c[i>>2];a=+c[n+180>>2]*(l*r-u*h)+ +c[n+184>>2]*(f*h-l*d)+(u*d-f*r)*+c[n+188>>2];s=(l*r-u*h)*+c[n+196>>2]+(f*h-l*d)*+c[n+200>>2]+(u*d-f*r)*+c[n+204>>2];r=(l*r-u*h)*+c[n+212>>2]+(f*h-l*d)*+c[n+216>>2]+(u*d-f*r)*+c[n+220>>2];c[n+276>>2]=f*_+ +c[n+276>>2];c[n+280>>2]=_*u+ +c[n+280>>2];c[n+284>>2]=_*l+ +c[n+284>>2];c[n+292>>2]=a+ +c[n+292>>2];c[n+296>>2]=s+ +c[n+296>>2];c[n+300>>2]=r+ +c[n+300>>2];o[n+312>>2]=(o[n+312>>2]|0)+1;return}function Aa(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,E=0.0;v=+c[e+552>>2];y=+c[e+568>>2];g=+c[e+584>>2];A=+c[t>>2];m=+c[t+4>>2];b=+c[t+8>>2];h=+c[t+16>>2];d=+c[t+20>>2];f=+c[t+24>>2];_=+c[t+32>>2];a=+c[t+36>>2];o=+c[t+40>>2];l=+c[e+556>>2];s=+c[e+572>>2];r=+c[e+588>>2];E=+c[e+620>>2];C=+c[e+636>>2];n=+c[e+652>>2];p=E*+c[i>>2]+C*+c[i+4>>2]+n*+c[i+8>>2];u=E*+c[i+16>>2]+C*+c[i+20>>2]+n*+c[i+24>>2];n=E*+c[i+32>>2]+C*+c[i+36>>2]+n*+c[i+40>>2];n=+M(+((v*A+y*m+g*b)*p+(v*h+y*d+g*f)*u+(v*_+y*a+g*o)*n),+((A*l+m*s+b*r)*p+(h*l+d*s+f*r)*u+(_*l+a*s+o*r)*n));return+(n*+c[e+732>>2])}function ga(e){e=e|0;var t=0,i=0,r=0,s=0,a=0;a=ae;ae=ae+16|0;La(17615);t=o[e+8>>2]|0;if((t|0)>0){r=0;do{i=o[(o[e+16>>2]|0)+(r<<2)>>2]|0;if(!(n[e+76>>0]|0))switch(o[i+216>>2]|0){case 2:case 5:break;default:s=11}else s=11;if((s|0)==11){s=0;Te(e,i);t=o[e+8>>2]|0}r=r+1|0}while((r|0)<(t|0))}t=o[2685]|0;s=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=s;if(s|0){ae=a;return}do{if(o[t+4>>2]|0){$(a|0,0)|0;s=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[a+4>>2]|0)-(o[s+4>>2]|0)+(((o[a>>2]|0)-(o[s>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=a;return}}}while(0);o[2685]=o[t+20>>2];ae=a;return}function ya(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;i=o[e+8>>2]|0;if((i|0)>0){r=0;do{n=o[(o[e+16>>2]|0)+(r<<2)>>2]|0;if(o[n+236>>2]&2){s=dF[o[(o[n>>2]|0)+16>>2]&127](n)|0;s=mF[o[(o[t>>2]|0)+16>>2]&63](t,s,1)|0;i=mF[o[(o[n>>2]|0)+20>>2]&63](n,o[s+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,s,i,1497645650,n);i=o[e+8>>2]|0}r=r+1|0}while((r|0)<(i|0))}if((o[e+212>>2]|0)<=0)return;i=0;do{s=o[(o[e+220>>2]|0)+(i<<2)>>2]|0;n=dF[o[(o[s>>2]|0)+36>>2]&127](s)|0;n=mF[o[(o[t>>2]|0)+16>>2]&63](t,n,1)|0;r=mF[o[(o[s>>2]|0)+40>>2]&63](s,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,r,1397641027,s);i=i+1|0}while((i|0)<(o[e+212>>2]|0));return}function va(e){e=e|0;var t=0.0,i=0,n=0,r=0,s=0;n=ae;ae=ae+32|0;o[e+32>>2]=1566444395;o[e+36>>2]=1566444395;o[e+40>>2]=1566444395;c[e+44>>2]=0.0;o[e+48>>2]=-581039253;o[e+52>>2]=-581039253;o[e+56>>2]=-581039253;c[e+60>>2]=0.0;if((o[e+16>>2]|0)<=0){ae=n;return}i=0;do{r=o[e+24>>2]|0;s=o[r+(i*80|0)+64>>2]|0;BF[o[(o[s>>2]|0)+8>>2]&127](s,r+(i*80|0)|0,n+16|0,n);t=+c[n+16>>2];if(+c[e+32>>2]>t)c[e+32>>2]=t;t=+c[n>>2];if(+c[e+48>>2]<t)c[e+48>>2]=t;t=+c[n+16+4>>2];if(+c[e+36>>2]>t)c[e+36>>2]=t;t=+c[n+4>>2];if(+c[e+52>>2]<t)c[e+52>>2]=t;t=+c[n+16+8>>2];if(+c[e+40>>2]>t)c[e+40>>2]=t;t=+c[n+8>>2];if(+c[e+56>>2]<t)c[e+56>>2]=t;i=i+1|0}while((i|0)<(o[e+16>>2]|0));ae=n;return}function Ca(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0;i=o[e+12>>2]|0;if(!i)return;if(!(n[e+8>>0]|0))return;r=o[t+4>>2]|0;if((r|0)==(o[t+8>>2]|0)?(a=(r|0)==0?1:r<<1,(r|0)<(a|0)):0){if(!a){i=r;r=0}else{o[6747]=(o[6747]|0)+1;i=Do((a<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[t+4>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[t+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[t+12>>2]|0;if(s){if(n[t+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[t+4>>2]|0}o[t+12>>2]=0}n[t+16>>0]=1;o[t+12>>2]=r;o[t+8>>2]=a;r=i;i=o[e+12>>2]|0}o[(o[t+12>>2]|0)+(r<<2)>>2]=i;o[t+4>>2]=r+1;return}function Ea(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0;i=o[e+20>>2]|0;if(!i)return;if(!(n[e+16>>0]|0))return;r=o[t+4>>2]|0;if((r|0)==(o[t+8>>2]|0)?(a=(r|0)==0?1:r<<1,(r|0)<(a|0)):0){if(!a){i=r;r=0}else{o[6747]=(o[6747]|0)+1;i=Do((a<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[t+4>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[t+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[t+12>>2]|0;if(s){if(n[t+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[t+4>>2]|0}o[t+12>>2]=0}n[t+16>>0]=1;o[t+12>>2]=r;o[t+8>>2]=a;r=i;i=o[e+20>>2]|0}o[(o[t+12>>2]|0)+(r<<2)>>2]=i;o[t+4>>2]=r+1;return}function Sa(e){e=e|0;var t=0;t=o[e+12>>2]|0;if(t|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;t=o[e+52>>2]|0;if(t|0){if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+52>>2]=0}n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;t=o[e+72>>2]|0;if(!t){n[e+76>>0]=1;o[e+72>>2]=0;o[e+64>>2]=0;e=e+68|0;o[e>>2]=0;return}if(n[e+76>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+72>>2]=0;n[e+76>>0]=1;o[e+72>>2]=0;o[e+64>>2]=0;e=e+68|0;o[e>>2]=0;return}function Ta(e){e=e|0;var t=0;t=o[e+72>>2]|0;if(t|0){if(n[e+76>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+72>>2]=0}n[e+76>>0]=1;o[e+72>>2]=0;o[e+64>>2]=0;o[e+68>>2]=0;t=o[e+52>>2]|0;if(t|0){if(n[e+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+52>>2]=0}n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;t=o[e+12>>2]|0;if(!t){n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;e=e+8|0;o[e>>2]=0;return}if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+12>>2]=0;n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;e=e+8|0;o[e>>2]=0;return}function Ra(e,t,i){e=e|0;t=+t;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0;n=ae;ae=ae+96|0;a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);o[n+32>>2]=1065353216;o[n+32+4>>2]=0;o[n+32+4+4>>2]=0;o[n+32+4+8>>2]=0;o[n+32+4+12>>2]=0;o[n+32+20>>2]=1065353216;o[n+32+24>>2]=0;o[n+32+24+4>>2]=0;o[n+32+24+8>>2]=0;o[n+32+24+12>>2]=0;o[n+32+40>>2]=1065353216;l=n+32+44|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;BF[o[(o[e>>2]|0)+8>>2]&127](e,n+32|0,n+16|0,n);s=(a+(+c[n>>2]-+c[n+16>>2])*.5)*2.0;r=(a+(+c[n+4>>2]-+c[n+16+4>>2])*.5)*2.0;a=(a+(+c[n+8>>2]-+c[n+16+8>>2])*.5)*2.0;c[i>>2]=t*.0833333283662796*(r*r+a*a);c[i+4>>2]=t*.0833333283662796*(s*s+a*a);c[i+8>>2]=t*.0833333283662796*(s*s+r*r);c[i+12>>2]=0.0;ae=n;return}function Ma(e,t){e=e|0;t=t|0;var i=0,s=0,a=0,c=0;c=ae;ae=ae+64|0;s=o[e>>2]|0;a=e+(o[s+-8>>2]|0)|0;s=o[s+-4>>2]|0;o[c>>2]=t;o[c+4>>2]=e;o[c+8>>2]=3472;e=c+12|0;i=e+40|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(i|0));r[c+12+40>>1]=0;n[c+12+42>>0]=0;e:do{if(gA(s,t,0)|0){o[c+48>>2]=1;GF[o[(o[s>>2]|0)+20>>2]&7](s,c,a,a,1,0);e=(o[c+24>>2]|0)==1?a:0}else{jF[o[(o[s>>2]|0)+24>>2]&31](s,c,a,1,0);switch(o[c+36>>2]|0){case 0:{e=((o[c+40>>2]|0)==1?(o[c+28>>2]|0)==1:0)&(o[c+32>>2]|0)==1?o[c+20>>2]|0:0;break e}case 1:break;default:{e=0;break e}}if((o[c+24>>2]|0)!=1?!(((o[c+40>>2]|0)==0?(o[c+28>>2]|0)==1:0)&(o[c+32>>2]|0)==1):0){e=0;break}e=o[c+16>>2]|0}}while(0);ae=c;return e|0}function Oa(e,t){e=e|0;t=+t;var i=0,n=0,r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0,d=0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0;n=o[e+732>>2]|0;if((n|0)<=0)return;e=o[e+740>>2]|0;i=0;do{d=o[e+(i*52|0)+8>>2]|0;r=o[e+(i*52|0)+12>>2]|0;A=+c[d+40>>2];b=+c[d+44>>2];h=+c[d+48>>2];_=e+(i*52|0)+36|0;m=+c[_>>2];f=e+(i*52|0)+40|0;p=+c[f>>2];u=e+(i*52|0)+44|0;s=+c[u>>2];l=-(+c[e+(i*52|0)+32>>2]*((A-+c[r+40>>2])*m+(b-+c[r+44>>2])*p+(h-+c[r+48>>2])*s)*t);a=+c[d+88>>2]*l;c[d+40>>2]=A+m*a;c[d+44>>2]=b+p*a;c[d+48>>2]=h+s*a;l=+c[r+88>>2]*l;a=l*+c[f>>2];s=l*+c[u>>2];c[r+40>>2]=+c[r+40>>2]-+c[_>>2]*l;c[r+44>>2]=+c[r+44>>2]-a;c[r+48>>2]=+c[r+48>>2]-s;i=i+1|0}while((i|0)!=(n|0));return}function Ia(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,c=0,l=0;s=o[e+328>>2]|0;if((s|0)==(o[e+332>>2]|0)?(l=(s|0)==0?1:s<<1,(s|0)<(l|0)):0){if(!l)a=0;else{o[6747]=(o[6747]|0)+1;s=Do((l<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[e+328>>2]|0}if((s|0)>0){c=0;do{o[a+(c<<2)>>2]=o[(o[e+336>>2]|0)+(c<<2)>>2];c=c+1|0}while((c|0)!=(s|0))}c=o[e+336>>2]|0;if(c){if(n[e+340>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0);s=o[e+328>>2]|0}o[e+336>>2]=0}n[e+340>>0]=1;o[e+336>>2]=a;o[e+332>>2]=l}o[(o[e+336>>2]|0)+(s<<2)>>2]=t;o[e+328>>2]=s+1;o[t+284>>2]=o[e+452>>2];Qt(e,t,i,r);return}function xa(e){e=e|0;var t=0,i=0,r=0,s=0.0;i=ae;ae=ae+96|0;n[e+88>>0]=1;if((n[24976]|0)==0?PM(24976)|0:0){o[5900]=1065353216;o[5901]=0;o[5902]=0;o[5903]=0;o[5904]=0;o[5905]=1065353216;o[5906]=0;o[5907]=0;o[5908]=0;o[5909]=0;o[5910]=1065353216;c[5911]=0.0;o[5912]=-1082130432;o[5913]=0;o[5914]=0;o[5915]=0;o[5916]=0;o[5917]=-1082130432;o[5918]=0;o[5919]=0;o[5920]=0;o[5921]=0;o[5922]=-1082130432;c[5923]=0.0;GR(24976)}t=i;r=t+96|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(r|0));BF[o[(o[e>>2]|0)+76>>2]&127](e,23600,i,6);s=+c[e+44>>2];c[e+72>>2]=+c[i>>2]+s;c[e+56>>2]=+c[i+48>>2]-s;c[e+76>>2]=+c[i+20>>2]+s;c[e+60>>2]=+c[i+68>>2]-s;c[e+80>>2]=+c[i+40>>2]+s;c[e+64>>2]=+c[i+88>>2]-s;ae=i;return}function Pa(e){e=e|0;var t=0,i=0,r=0,s=0.0;i=ae;ae=ae+96|0;n[e+84>>0]=1;if((n[24984]|0)==0?PM(24984)|0:0){o[5924]=1065353216;o[5925]=0;o[5926]=0;o[5927]=0;o[5928]=0;o[5929]=1065353216;o[5930]=0;o[5931]=0;o[5932]=0;o[5933]=0;o[5934]=1065353216;c[5935]=0.0;o[5936]=-1082130432;o[5937]=0;o[5938]=0;o[5939]=0;o[5940]=0;o[5941]=-1082130432;o[5942]=0;o[5943]=0;o[5944]=0;o[5945]=0;o[5946]=-1082130432;c[5947]=0.0;GR(24984)}t=i;r=t+96|0;do{o[t>>2]=0;t=t+4|0}while((t|0)<(r|0));BF[o[(o[e>>2]|0)+76>>2]&127](e,23696,i,6);s=+c[e+44>>2];c[e+68>>2]=+c[i>>2]+s;c[e+52>>2]=+c[i+48>>2]-s;c[e+72>>2]=+c[i+20>>2]+s;c[e+56>>2]=+c[i+68>>2]-s;c[e+76>>2]=+c[i+40>>2]+s;c[e+60>>2]=+c[i+88>>2]-s;ae=i;return}function Da(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;a=+c[e+24>>2];l=+c[e+28>>2];_=+c[e+32>>2];s=a*+c[t>>2]+l*+c[t+4>>2]+_*+c[t+8>>2];r=+c[e+20>>2];if(s>r){c[e+20>>2]=s;o[e+4>>2]=o[t>>2];o[e+4+4>>2]=o[t+4>>2];o[e+4+8>>2]=o[t+8>>2];o[e+4+12>>2]=o[t+12>>2];r=s}s=a*+c[t+16>>2]+l*+c[t+20>>2]+_*+c[t+24>>2];if(s>r){c[e+20>>2]=s;o[e+4>>2]=o[t+16>>2];o[e+4+4>>2]=o[t+16+4>>2];o[e+4+8>>2]=o[t+16+8>>2];o[e+4+12>>2]=o[t+16+12>>2]}else s=r;r=a*+c[t+32>>2]+l*+c[t+36>>2]+_*+c[t+40>>2];if(!(r>s))return;c[e+20>>2]=r;o[e+4>>2]=o[t+32>>2];o[e+4+4>>2]=o[t+32+4>>2];o[e+4+8>>2]=o[t+32+8>>2];o[e+4+12>>2]=o[t+32+12>>2];return}function wa(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0;i=o[e+76>>2]|0;if(!i)return;r=o[t+4>>2]|0;if((r|0)==(o[t+8>>2]|0)?(a=(r|0)==0?1:r<<1,(r|0)<(a|0)):0){if(!a){i=r;r=0}else{o[6747]=(o[6747]|0)+1;i=Do((a<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[t+4>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[t+12>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[t+12>>2]|0;if(s){if(n[t+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[t+4>>2]|0}o[t+12>>2]=0}n[t+16>>0]=1;o[t+12>>2]=r;o[t+8>>2]=a;r=i;i=o[e+76>>2]|0}o[(o[t+12>>2]|0)+(r<<2)>>2]=i;o[t+4>>2]=r+1;return}function La(e){e=e|0;var t=0,i=0,n=0,r=0;r=ae;ae=ae+16|0;t=o[2685]|0;if((o[t>>2]|0)!=(e|0)){i=o[t+24>>2]|0;e:do{if(!i)n=6;else while(1){if((o[i>>2]|0)==(e|0)){t=i;break e}i=o[i+28>>2]|0;if(!i){n=6;break}}}while(0);if((n|0)==6){n=Ww(36)|0;o[n>>2]=e;o[n+4>>2]=0;o[n+4+4>>2]=0;o[n+4+8>>2]=0;o[n+4+12>>2]=0;o[n+20>>2]=t;o[n+24>>2]=0;o[n+28>>2]=0;o[n+32>>2]=0;hb(n);o[n+28>>2]=o[t+24>>2];o[t+24>>2]=n;t=n}o[2685]=t}e=t+4|0;o[e>>2]=(o[e>>2]|0)+1;e=t+16|0;n=o[e>>2]|0;o[e>>2]=n+1;if(n|0){ae=r;return}$(r|0,0)|0;n=o[6746]|0;o[t+12>>2]=(o[r+4>>2]|0)-(o[n+4>>2]|0)+(((o[r>>2]|0)-(o[n>>2]|0)|0)*1e6|0);ae=r;return}function Fa(e){e=e|0;var t=0;t=Um()|0;o[t+8>>2]=0;o[t>>2]=7404;n[t+28>>0]=1;o[t+24>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+32>>2]=1566444395;o[t+36>>2]=1566444395;o[t+40>>2]=1566444395;c[t+44>>2]=0.0;o[t+48>>2]=-581039253;o[t+52>>2]=-581039253;o[t+56>>2]=-581039253;c[t+60>>2]=0.0;o[t+64>>2]=0;o[t+68>>2]=1;c[t+72>>2]=0.0;o[t+76>>2]=1065353216;o[t+80>>2]=1065353216;o[t+84>>2]=1065353216;c[t+88>>2]=0.0;o[t+4>>2]=31;if(!e)return t|0;o[6747]=(o[6747]|0)+1;e=Do(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=-1;o[e+12>>2]=0;o[e+16>>2]=0;o[t+64>>2]=e;return t|0}function Na(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,v=0.0;s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);u=s+ +c[e+28>>2];l=s+ +c[e+32>>2];s=s+ +c[e+36>>2];v=+y(+ +c[t>>2]);g=+y(+ +c[t+4>>2]);A=+y(+ +c[t+8>>2]);b=+y(+ +c[t+16>>2]);p=+y(+ +c[t+20>>2]);h=+y(+ +c[t+24>>2]);_=+y(+ +c[t+32>>2]);a=+y(+ +c[t+36>>2]);r=+y(+ +c[t+40>>2]);m=+c[t+48>>2];d=+c[t+52>>2];f=+c[t+56>>2];c[i>>2]=m-(u*v+l*g+s*A);c[i+4>>2]=d-(u*b+l*p+s*h);c[i+8>>2]=f-(u*_+l*a+s*r);c[i+12>>2]=0.0;c[n>>2]=u*v+l*g+s*A+m;c[n+4>>2]=u*b+l*p+s*h+d;c[n+8>>2]=f+(u*_+l*a+s*r);c[n+12>>2]=0.0;return}function Ba(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;a=+c[e+88>>2];l=+c[e+92>>2];_=+c[e+96>>2];s=a*+c[t>>2]+l*+c[t+4>>2]+_*+c[t+8>>2];r=+c[e+84>>2];if(s>r){c[e+84>>2]=s;o[e+4>>2]=o[t>>2];o[e+4+4>>2]=o[t+4>>2];o[e+4+8>>2]=o[t+8>>2];o[e+4+12>>2]=o[t+12>>2];r=s}s=a*+c[t+16>>2]+l*+c[t+20>>2]+_*+c[t+24>>2];if(s>r){c[e+84>>2]=s;o[e+4>>2]=o[t+16>>2];o[e+4+4>>2]=o[t+16+4>>2];o[e+4+8>>2]=o[t+16+8>>2];o[e+4+12>>2]=o[t+16+12>>2]}else s=r;r=a*+c[t+32>>2]+l*+c[t+36>>2]+_*+c[t+40>>2];if(!(r>s))return;c[e+84>>2]=r;o[e+4>>2]=o[t+32>>2];o[e+4+4>>2]=o[t+32+4>>2];o[e+4+8>>2]=o[t+32+8>>2];o[e+4+12>>2]=o[t+32+12>>2];return}function ka(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0;while(1){u=o[e+12>>2]|0;_=o[u+(((t+i|0)/2|0)<<3)>>2]|0;n=t;r=i;while(1){while(1){a=u+(n<<3)|0;c=n+1|0;if((o[a>>2]|0)<(_|0))n=c;else break}l=r;while(1){s=u+(l<<3)|0;r=l+-1|0;if((o[s>>2]|0)>(_|0))l=r;else break}if((n|0)>(l|0))r=l;else{f=o[a>>2]|0;u=o[a+4>>2]|0;n=o[s+4>>2]|0;o[a>>2]=o[s>>2];o[a+4>>2]=n;n=(o[e+12>>2]|0)+(l<<3)|0;o[n>>2]=f;o[n+4>>2]=u;n=c}if((n|0)>(r|0))break;u=o[e+12>>2]|0}if((r|0)>(t|0))ka(e,t,r);if((n|0)<(i|0))t=n;else break}return}function Ua(e){e=e|0;var t=0;o[e>>2]=9896;if(o[e+108>>2]|0){t=o[e+112>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+112>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+108>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+108>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}}t=o[e+88>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+84>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+80>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+60>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}if(!(n[e+100>>0]|0))return;t=o[e+92>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+92>>2]|0;if(!t)return;o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function Ha(e,t,i){e=e|0;t=+t;i=+i;var n=0,r=0,s=0.0,a=0.0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0;r=o[e+732>>2]|0;if((r|0)<=0)return;e=o[e+740>>2]|0;n=0;do{i=+c[e+(n*52|0)+24>>2];if(i>0.0?(l=o[e+(n*52|0)+8>>2]|0,_=o[e+(n*52|0)+12>>2]|0,u=+c[l+8>>2],d=+c[_+8>>2]-u,f=+c[l+12>>2],p=+c[_+12>>2]-f,s=+c[l+16>>2],h=+c[_+16>>2]-s,a=+c[e+(n*52|0)+28>>2],a+(d*d+p*p+h*h)>1.1920928955078125e-07):0){i=(a-(d*d+p*p+h*h))/(i*(a+(d*d+p*p+h*h)))*t;b=i*+c[l+88>>2];c[l+8>>2]=u-d*b;c[l+12>>2]=f-p*b;c[l+16>>2]=s-h*b;i=i*+c[_+88>>2];c[_+8>>2]=+c[_+8>>2]+d*i;c[_+12>>2]=p*i+ +c[_+12>>2];c[_+16>>2]=h*i+ +c[_+16>>2]}n=n+1|0}while((n|0)!=(r|0));return}function ja(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0;n=ae;ae=ae+96|0;o[n+32>>2]=1065353216;o[n+32+4>>2]=0;o[n+32+4+4>>2]=0;o[n+32+4+8>>2]=0;o[n+32+4+12>>2]=0;o[n+32+20>>2]=1065353216;o[n+32+24>>2]=0;o[n+32+24+4>>2]=0;o[n+32+24+8>>2]=0;o[n+32+24+12>>2]=0;o[n+32+40>>2]=1065353216;f=n+32+44|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;o[f+16>>2]=0;BF[o[(o[e>>2]|0)+8>>2]&127](e,n+32|0,n+16|0,n);u=+c[n>>2];_=+c[n+16>>2];l=+c[n+4>>2];a=+c[n+16+4>>2];s=+c[n+8>>2];r=+c[n+16+8>>2];c[i>>2]=+v(+((u-_)*(u-_)+(l-a)*(l-a)+(s-r)*(s-r)))*.5;c[t>>2]=(u+_)*.5;c[t+4>>2]=(l+a)*.5;c[t+8>>2]=(s+r)*.5;c[t+12>>2]=0.0;ae=n;return}function Va(){var e=0,t=0;t=Um()|0;o[t+8>>2]=0;o[t>>2]=7404;n[t+28>>0]=1;o[t+24>>2]=0;o[t+16>>2]=0;o[t+20>>2]=0;o[t+32>>2]=1566444395;o[t+36>>2]=1566444395;o[t+40>>2]=1566444395;c[t+44>>2]=0.0;o[t+48>>2]=-581039253;o[t+52>>2]=-581039253;o[t+56>>2]=-581039253;c[t+60>>2]=0.0;o[t+64>>2]=0;o[t+68>>2]=1;c[t+72>>2]=0.0;o[t+76>>2]=1065353216;o[t+80>>2]=1065353216;o[t+84>>2]=1065353216;c[t+88>>2]=0.0;o[t+4>>2]=31;o[6747]=(o[6747]|0)+1;e=Do(79)|0;if(!e)e=0;else{o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;n[e+56>>0]=1;o[e+52>>2]=0;o[e+44>>2]=0;o[e+48>>2]=0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=-1;o[e+12>>2]=0;o[e+16>>2]=0;o[t+64>>2]=e;return t|0}function Ga(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var s=0,l=0,_=0,u=0,f=0;s=o[e+108>>2]|0;if(s|0){BF[o[(o[s>>2]|0)+28>>2]&127](s,t,i,n);return}s=r[e+56>>1]|0;if(!(s<<16>>16))return;_=1;f=1;do{l=o[e+68>>2]|0;if(r[l+(_<<2)>>1]&1){u=o[e+60>>2]|0;_=a[l+(_<<2)+2>>1]|0;if(!(+c[t>>2]>+c[u+(_<<6)+32>>2])?!(+c[i>>2]<+c[u+(_<<6)+16>>2]):0)l=1;else l=0;if(!(!(+c[t+8>>2]>+c[u+(_<<6)+40>>2])?!(+c[i+8>>2]<+c[u+(_<<6)+24>>2]):0))l=0;if(!(+c[t+4>>2]>+c[u+(_<<6)+36>>2])?!(+c[i+4>>2]<+c[u+(_<<6)+20>>2]|l^1):0){pF[o[(o[n>>2]|0)+8>>2]&31](n,u+(_<<6)|0)|0;s=r[e+56>>1]|0}}f=f+1<<16>>16;_=f&65535}while(((s&65535)<<1|1)>>>0>_>>>0);return}function Wa(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0;r=+c[t>>2];s=+c[t+16>>2];l=r<s?r:s;a=+c[t+32>>2];if((l<a?l:a)>+c[e+24>>2])return;_=r>s?t:t+16|0;if(+c[(+c[_>>2]>a?_:t+32|0)>>2]<+c[e+8>>2])return;a=+c[t+8>>2];r=+c[t+24>>2];l=a<r?a:r;s=+c[t+40>>2];if((l<s?l:s)>+c[e+32>>2])return;_=a>r?t+8|0:t+24|0;if(+c[(+c[_>>2]>s?_:t+40|0)>>2]<+c[e+16>>2])return;r=+c[t+4>>2];s=+c[t+20>>2];l=r<s?r:s;a=+c[t+36>>2];if((l<a?l:a)>+c[e+28>>2])return;_=r>s?t+4|0:t+20|0;if(+c[(+c[_>>2]>a?_:t+36|0)>>2]<+c[e+12>>2])return;_=o[e+4>>2]|0;BF[o[(o[_>>2]|0)+8>>2]&127](_,t,i,n);return}function Xa(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;var s=0,a=0.0,l=0.0,_=0.0;s=ae;ae=ae+16|0;c[e+32>>2]=r;o[e+8>>2]=o[t>>2];o[e+8+4>>2]=o[t+4>>2];o[e+8+8>>2]=o[t+8>>2];o[e+8+12>>2]=o[t+12>>2];a=+c[e+28>>2];_=+c[i+4>>2]-a*+c[t+4>>2];l=+c[i+8>>2]-a*+c[t+8>>2];c[s>>2]=+c[i>>2]-+c[t>>2]*a;c[s+4>>2]=_;c[s+8>>2]=l;c[s+12>>2]=0.0;r=a+ +c[e+24>>2]+r;c[e+32>>2]=r;if(!(r<0.0)){e=e+4|0;e=o[e>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;FF[i&15](e,t,s,r);ae=s;return}n[e+36>>0]=1;e=e+4|0;e=o[e>>2]|0;i=o[e>>2]|0;i=i+16|0;i=o[i>>2]|0;FF[i&15](e,t,s,r);ae=s;return}function za(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0.0;r=ae;ae=ae+16|0;o[e+4>>2]=o[t+24>>2];n=o[t>>2]|0;o[e+8>>2]=n;if(i){o[e+52>>2]=o[t+8>>2];o[e+52+4>>2]=o[t+8+4>>2];o[e+52+8>>2]=o[t+8+8>>2];o[e+52+12>>2]=o[t+8+12>>2];n=e+68|0;i=e+20|0;e=e+36|0;s=+c[t+24>>2];Ch(n,i,e,s);s=+c[t+24>>2];ae=r;return+s}else{n=JL(xL(n)|0)|0;g_(r,n,+c[t+8>>2],+c[t+12>>2],+c[t+16>>2]);o[e+52>>2]=o[r>>2];o[e+52+4>>2]=o[r+4>>2];o[e+52+8>>2]=o[r+8>>2];o[e+52+12>>2]=o[r+12>>2];n=e+68|0;i=e+20|0;e=e+36|0;s=+c[t+24>>2];Ch(n,i,e,s);s=+c[t+24>>2];ae=r;return+s}return 0.0}function Ya(e,t){e=e|0;t=t|0;var i=0,r=0;e:do{if((t|0)!=0&(e&3|0)!=0)while(1){if(!(n[e>>0]|0))break e;e=e+1|0;t=t+-1|0;if(!((t|0)!=0&(e&3|0)!=0)){i=t;t=(t|0)!=0;r=5;break}}else{i=t;t=(t|0)!=0;r=5}}while(0);e:do{if((r|0)==5){do{if(t){if(!(n[e>>0]|0))if(!i)break;else break e;t:do{if(i>>>0>3)while(1){t=o[e>>2]|0;if((t&-2139062144^-2139062144)&t+-16843009|0)break t;e=e+4|0;i=i+-4|0;if(i>>>0<=3){r=11;break}}else r=11}while(0);if((r|0)==11)if(!i)break;while(1){if(!(n[e>>0]|0))break e;i=i+-1|0;if(!i)break;else e=e+1|0}}}while(0);e=0}}while(0);return e|0}function Qa(e){e=e|0;var t=0,i=0,r=0,s=0,a=0;o[e>>2]=7340;t=o[e+8>>2]|0;i=o[t+8>>2]|0;if((i|0)>0){s=0;do{r=o[(o[t+16>>2]|0)+(s*12|0)+8>>2]|0;if(r|0){SF[o[o[r>>2]>>2]&511](r);a=o[e+4>>2]|0;xF[o[(o[a>>2]|0)+60>>2]&127](a,r)}s=s+1|0}while((s|0)!=(i|0));t=o[e+8>>2]|0}nn(t);t=o[e+8>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+8>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+24>>2]|0;if(!t){n[e+28>>0]=1;o[e+24>>2]=0;o[e+16>>2]=0;a=e+20|0;o[a>>2]=0;return}if(n[e+28>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+24>>2]=0;n[e+28>>0]=1;o[e+24>>2]=0;o[e+16>>2]=0;a=e+20|0;o[a>>2]=0;return}function Ka(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0;a=ae;ae=ae+224|0;r=a+160|0;s=r+40|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));o[a+208>>2]=o[i>>2];if((fs(0,t,a+208|0,a+80|0,a+160|0)|0)<0)i=-1;else{s=o[e>>2]|0;if((n[e+74>>0]|0)<1)o[e>>2]=s&-33;if(!(o[e+48>>2]|0)){r=o[e+44>>2]|0;o[e+44>>2]=a;o[e+28>>2]=a;o[e+20>>2]=a;o[e+48>>2]=80;o[e+16>>2]=a+80;i=fs(e,t,a+208|0,a+80|0,a+160|0)|0;if(r){mF[o[e+36>>2]&63](e,0,0)|0;i=(o[e+20>>2]|0)==0?-1:i;o[e+44>>2]=r;o[e+48>>2]=0;o[e+16>>2]=0;o[e+28>>2]=0;o[e+20>>2]=0}}else i=fs(e,t,a+208|0,a+80|0,a+160|0)|0;t=o[e>>2]|0;o[e>>2]=t|s&32;i=(t&32|0)==0?i:-1}ae=a;return i|0}function Za(e,t){e=e|0;t=t|0;o[e+204>>2]=o[t+48>>2];o[e+208>>2]=o[t+52>>2];o[e+212>>2]=o[t+56>>2];o[e+216>>2]=o[t+60>>2];o[e+220>>2]=o[t+64>>2];o[e+224>>2]=o[t+68>>2];o[e+156>>2]=o[t>>2];o[e+156+4>>2]=o[t+4>>2];o[e+156+8>>2]=o[t+8>>2];o[e+156+12>>2]=o[t+12>>2];o[e+172>>2]=o[t+16>>2];o[e+172+4>>2]=o[t+16+4>>2];o[e+172+8>>2]=o[t+16+8>>2];o[e+172+12>>2]=o[t+16+12>>2];o[e+188>>2]=o[t+32>>2];o[e+188+4>>2]=o[t+32+4>>2];o[e+188+8>>2]=o[t+32+8>>2];o[e+188+12>>2]=o[t+32+12>>2];o[e+228>>2]=o[t+72>>2];c[e+232>>2]=0.0;c[e+252>>2]=0.0;c[e+236>>2]=0.0;c[e+240>>2]=0.0;c[e+256>>2]=0.0;c[e+244>>2]=.10000000149011612;n[e+260>>0]=n[t+80>>0]&1;o[e+248>>2]=o[t+76>>2];return}function Ja(e){e=e|0;var t=0;o[e>>2]=4132;t=o[e+92>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+92>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+96>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+96>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+100>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+100>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+104>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+104>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+108>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+108>>2]|0;if(!t){_e(e);return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);_e(e);return}function qa(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0;if((o[t+60>>2]|0)==2){r=o[t+48>>2]|0;fi(e+64|0,r)|0;s=o[e+68>>2]|0;if(s|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+68>>2]=r;o[e+76>>2]=(o[e+76>>2]|0)+-1}else{r=o[t+48>>2]|0;fi(e+4|0,r)|0;s=o[e+8>>2]|0;if(s|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+8>>2]=r;o[e+16>>2]=(o[e+16>>2]|0)+-1}r=o[t+52>>2]|0;if(!r)r=e+124+(o[t+60>>2]<<2)|0;else r=r+56|0;o[r>>2]=o[t+56>>2];r=o[t+56>>2]|0;if(r|0)o[r+52>>2]=o[t+52>>2];s=o[e+136>>2]|0;LF[o[(o[s>>2]|0)+16>>2]&127](s,t,i);o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);n[e+194>>0]=1;return}function $a(e){e=e|0;var t=0.0,i=0.0,n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0;d=+c[e+4>>2];s=+c[e+396>>2];f=+c[e+8>>2];r=+c[e+400>>2];u=+c[e+12>>2];i=+c[e+404>>2];_=+c[e+20>>2];l=+c[e+24>>2];a=+c[e+28>>2];o=+c[e+36>>2];n=+c[e+40>>2];t=+c[e+44>>2];c[e+264>>2]=d*s*d+f*r*f+u*i*u;c[e+268>>2]=d*s*_+f*r*l+u*i*a;c[e+272>>2]=d*s*o+f*r*n+u*i*t;c[e+276>>2]=0.0;c[e+280>>2]=s*_*d+r*l*f+i*a*u;c[e+284>>2]=s*_*_+r*l*l+i*a*a;c[e+288>>2]=s*_*o+r*l*n+i*a*t;c[e+292>>2]=0.0;c[e+296>>2]=s*o*d+r*n*f+i*t*u;c[e+300>>2]=s*o*_+r*n*l+i*t*a;c[e+304>>2]=s*o*o+r*n*n+i*t*t;c[e+308>>2]=0.0;return}function ec(e){e=e|0;var t=0,i=0,r=0,s=0,a=0;o[e>>2]=6744;i=o[e+8>>2]|0;t=o[e+16>>2]|0;if((i|0)>0){a=0;do{s=(o[t+(a<<2)>>2]|0)+188|0;r=o[s>>2]|0;if(r){i=o[e+68>>2]|0;i=dF[o[(o[i>>2]|0)+36>>2]&127](i)|0;LF[o[(o[i>>2]|0)+40>>2]&127](i,r,o[e+24>>2]|0);i=o[e+68>>2]|0;LF[o[(o[i>>2]|0)+12>>2]&127](i,r,o[e+24>>2]|0);o[s>>2]=0;i=o[e+8>>2]|0;t=o[e+16>>2]|0}a=a+1|0}while((a|0)<(i|0))}if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function tc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0,a=0.0,l=0,_=0,u=0.0,f=0.0;l=o[t+52>>2]|0;_=o[l+32>>2]|0;t=o[_>>2]|0;u=+c[i>>2];f=+c[i+4>>2];a=+c[i+8>>2];l=o[l+24>>2]|0;if((l|0)<=1){_=t;_=_+8|0;o[e>>2]=o[_>>2];o[e+4>>2]=o[_+4>>2];o[e+8>>2]=o[_+8>>2];o[e+12>>2]=o[_+12>>2];return}r=u*+c[t+8>>2]+f*+c[t+12>>2]+a*+c[t+16>>2];i=1;s=0;while(1){t=o[_+(i<<2)>>2]|0;n=u*+c[t+8>>2]+f*+c[t+12>>2]+a*+c[t+16>>2];t=n>r;s=t?i:s;i=i+1|0;if((i|0)==(l|0))break;else r=t?n:r}_=o[_+(s<<2)>>2]|0;_=_+8|0;o[e>>2]=o[_>>2];o[e+4>>2]=o[_+4>>2];o[e+8>>2]=o[_+8>>2];o[e+12>>2]=o[_+12>>2];return}function ic(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0,s=0,a=0.0,l=0.0;o[e+248>>2]=o[t>>2];o[e+248+4>>2]=o[t+4>>2];o[e+248+8>>2]=o[t+8>>2];o[e+248+12>>2]=o[t+12>>2];i=o[e+232>>2]|0;if((i|0)<=0)return;s=0;do{r=o[(o[e+240>>2]|0)+(s<<2)>>2]|0;switch(o[r+216>>2]|0){case 2:case 5:break;default:if(!(o[r+504>>2]&1)){n=+c[r+344>>2];if(n!=0.0){l=1.0/n*+c[t+4>>2];a=1.0/n*+c[t+8>>2];c[r+364>>2]=1.0/n*+c[t>>2];c[r+368>>2]=l;c[r+372>>2]=a;c[r+376>>2]=0.0}o[r+380>>2]=o[t>>2];o[r+380+4>>2]=o[t+4>>2];o[r+380+8>>2]=o[t+8>>2];o[r+380+12>>2]=o[t+12>>2];i=o[e+232>>2]|0}}s=s+1|0}while((s|0)<(i|0));return}function nc(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0;if(n[e+738>>0]|0){o[t>>2]=0;o[t+4>>2]=0;return}o[t>>2]=5;o[t+4>>2]=1;i=+Aa(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);c[e+728>>2]=i;c[e+708>>2]=0.0;c[e+712>>2]=0.0;n[e+716>>0]=0;r=+c[e+692>>2];do{if(r>=0.0){i=(i-+c[e+688>>2])%6.2831854820251465;if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;if(i<-r){n[e+716>>0]=1;c[e+708>>2]=-(r+i);c[e+712>>2]=1.0;break}if(i>r){n[e+716>>0]=1;c[e+708>>2]=r-i;c[e+712>>2]=-1.0}else s=12}else s=12}while(0);if((s|0)==12?(n[e+737>>0]|0)==0:0)return;o[t>>2]=6;o[t+4>>2]=0;return}function rc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0;r=ae;ae=ae+96|0;s=o[t+192>>2]|0;o[r+64>>2]=0;o[r+64+4>>2]=s;o[r+64+8>>2]=t;o[r+64+12>>2]=t+4;o[r+64+16>>2]=-1;o[r+64+20>>2]=-1;t=o[i+192>>2]|0;o[r+40>>2]=0;o[r+40+4>>2]=t;o[r+40+8>>2]=i;o[r+40+12>>2]=i+4;o[r+40+16>>2]=-1;o[r+40+20>>2]=-1;t=o[e+24>>2]|0;t=AF[o[(o[t>>2]|0)+8>>2]&31](t,r+64|0,r+40|0,0)|0;if(!t){ae=r;return}o[r+4>>2]=0;o[r+8>>2]=r+64;o[r+12>>2]=r+40;o[r>>2]=7088;o[r+32>>2]=n;jF[o[(o[t>>2]|0)+8>>2]&31](t,r+64|0,r+40|0,e+28|0,r);SF[o[o[t>>2]>>2]&511](t);s=o[e+24>>2]|0;xF[o[(o[s>>2]|0)+60>>2]&127](s,t);ae=r;return}function oc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0,c=0,l=0,_=0;_=o[t+8>>2]|0;if((_|0)<=0)return;c=o[t+16>>2]|0;l=0;t=0;do{s=o[c+(l<<2)>>2]|0;if(!(o[s+204>>2]&3)){a=o[e+16>>2]|0;n=a+(t<<3)|0;i=o[n>>2]|0;if((i|0)!=(t|0)){o[n>>2]=o[a+(i<<3)>>2];i=o[a+(i<<3)>>2]|0;n=o[a+(i<<3)>>2]|0;if((i|0)!=(n|0)){r=a+(i<<3)|0;do{i=a+(n<<3)|0;o[r>>2]=o[i>>2];i=o[i>>2]|0;r=a+(i<<3)|0;n=o[r>>2]|0}while((i|0)!=(n|0))}}else i=t;o[s+208>>2]=i;o[a+(t<<3)+4>>2]=l;o[s+212>>2]=-1;t=t+1|0}else{o[s+208>>2]=-1;o[s+212>>2]=-2}l=l+1|0}while((l|0)!=(_|0));return}function sc(e,t,i){e=e|0;t=+t;i=i|0;var n=0,r=0,s=0.0,a=0.0,l=0.0;n=o[e+204>>2]|0;if(t==0.0){o[e+204>>2]=n|1;s=0.0}else{o[e+204>>2]=n&-2;s=1.0/t}c[e+344>>2]=s;l=+c[e+384>>2]*t;a=+c[e+388>>2]*t;c[e+364>>2]=+c[e+380>>2]*t;c[e+368>>2]=l;c[e+372>>2]=a;c[e+376>>2]=0.0;t=+c[i>>2];r=t!=0.0?(c[_>>2]=1.0/t,o[_>>2]|0):0;t=+c[i+4>>2];n=t!=0.0?(c[_>>2]=1.0/t,o[_>>2]|0):0;t=+c[i+8>>2];i=t!=0.0?(c[_>>2]=1.0/t,o[_>>2]|0):0;o[e+396>>2]=r;o[e+400>>2]=n;o[e+404>>2]=i;c[e+408>>2]=0.0;a=s*+c[e+352>>2];l=s*+c[e+356>>2];c[e+560>>2]=+c[e+348>>2]*s;c[e+564>>2]=a;c[e+568>>2]=l;c[e+572>>2]=0.0;return}function ac(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0,a=0.0,l=0,_=0,u=0.0;u=+c[t+60>>2]*.5;s=o[t+68>>2]|0;n=+c[i>>2];r=+c[i+4>>2];a=+c[i+8>>2];a=+v(+(n*n+r*r+a*a));_=o[t+64>>2]|0;if(+c[i+(s<<2)>>2]>+c[t+52>>2]*a){c[e+(_<<2)>>2]=0.0;c[e+(s<<2)>>2]=u;u=0.0;t=o[t+72>>2]|0;t=e+(t<<2)|0;c[t>>2]=u;return}a=+c[i+(_<<2)>>2];l=o[t+72>>2]|0;n=+c[i+(l<<2)>>2];r=+v(+(a*a+n*n));if(r>1.1920928955078125e-07){r=+c[t+56>>2]/r;c[e+(_<<2)>>2]=a*r;c[e+(s<<2)>>2]=-u;u=n*r;t=l;t=e+(t<<2)|0;c[t>>2]=u;return}else{c[e+(_<<2)>>2]=0.0;c[e+(s<<2)>>2]=-u;u=0.0;t=l;t=e+(t<<2)|0;c[t>>2]=u;return}}function cc(e,t,i){e=e|0;t=+t;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0;n=ae;ae=ae+96|0;o[n+32>>2]=1065353216;o[n+32+4>>2]=0;o[n+32+4+4>>2]=0;o[n+32+4+8>>2]=0;o[n+32+4+12>>2]=0;o[n+32+20>>2]=1065353216;o[n+32+24>>2]=0;o[n+32+24+4>>2]=0;o[n+32+24+8>>2]=0;o[n+32+24+12>>2]=0;o[n+32+40>>2]=1065353216;l=n+32+44|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[l+16>>2]=0;BF[o[(o[e>>2]|0)+8>>2]&127](e,n+32|0,n+16|0,n);s=(+c[n>>2]-+c[n+16>>2])*.5*2.0;r=(+c[n+4>>2]-+c[n+16+4>>2])*.5*2.0;a=(+c[n+8>>2]-+c[n+16+8>>2])*.5*2.0;c[i>>2]=t/12.0*(r*r+a*a);c[i+4>>2]=t/12.0*(s*s+a*a);c[i+8>>2]=t/12.0*(s*s+r*r);ae=n;return}function lc(e,t){e=e|0;t=t|0;var i=0,r=0,s=0,a=0;i=o[e+280>>2]|0;if((i|0)==(o[e+284>>2]|0)?(a=(i|0)==0?1:i<<1,(i|0)<(a|0)):0){if(!a)r=0;else{o[6747]=(o[6747]|0)+1;i=Do((a<<2|3)+16|0)|0;if(!i)r=0;else{o[(i+4+15&-16)+-4>>2]=i;r=i+4+15&-16}i=o[e+280>>2]|0}if((i|0)>0){s=0;do{o[r+(s<<2)>>2]=o[(o[e+288>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(i|0))}s=o[e+288>>2]|0;if(s){if(n[e+292>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);i=o[e+280>>2]|0}o[e+288>>2]=0}n[e+292>>0]=1;o[e+288>>2]=r;o[e+284>>2]=a}o[(o[e+288>>2]|0)+(i<<2)>>2]=t;o[e+280>>2]=i+1;return}function _c(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;n=ae;ae=ae+16|0;LF[o[(o[t>>2]|0)+68>>2]&127](n,t,i);o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];if(!(+nF[o[(o[t>>2]|0)+48>>2]&15](t)!=0.0)){ae=n;return}a=+c[i>>2];r=+c[i+4>>2];s=+c[i+8>>2];_=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:a;l=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:r;s=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:s;r=1.0/+v(+(s*s+(_*_+l*l)));a=+nF[o[(o[t>>2]|0)+48>>2]&15](t);c[e>>2]=+c[e>>2]+a*(_*r);c[e+4>>2]=+c[e+4>>2]+a*(l*r);c[e+8>>2]=+c[e+8>>2]+a*(s*r);ae=n;return}function uc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0,l=0.0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0;_=o[t+96>>2]|0;if((_|0)<=0){o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}u=+c[t+12>>2];h=+c[i>>2]*u;f=+c[t+16>>2];p=+c[i+4>>2]*f;d=+c[t+20>>2];l=+c[i+8>>2]*d;i=o[t+104>>2]|0;r=0;s=-3402823466385288598117041.0e14;a=-1;while(1){n=h*+c[i+(r<<4)>>2]+p*+c[i+(r<<4)+4>>2]+l*+c[i+(r<<4)+8>>2];t=n>s;a=t?r:a;r=r+1|0;if((r|0)==(_|0))break;else s=t?n:s}h=f*+c[i+(a<<4)+4>>2];p=d*+c[i+(a<<4)+8>>2];c[e>>2]=u*+c[i+(a<<4)>>2];c[e+4>>2]=h;c[e+8>>2]=p;c[e+12>>2]=0.0;return}function fc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;e:do{switch(t|0){case 2:{if((i|0)<1){n=+c[e+232>>2];break e}if((i|0)<3){n=+c[e+264>>2];break e}if((i|0)==3){n=+c[e+248>>2];break e}if((i|0)<6)n=+c[e+280>>2];else n=3402823466385288598117041.0e14;break}case 3:{if((i|0)<1){n=+c[e+212>>2];break e}if((i|0)==3)n=+c[e+228>>2];else n=3402823466385288598117041.0e14;break}case 4:{if((i|0)<1){n=+c[e+244>>2];break e}if((i|0)<3){n=+c[e+276>>2];break e}if((i|0)==3){n=+c[e+260>>2];break e}if((i|0)<6)n=+c[e+292>>2];else n=3402823466385288598117041.0e14;break}default:n=3402823466385288598117041.0e14}}while(0);return+n}function dc(e,t,i){e=e|0;t=+t;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;_=+c[e+28>>2];r=+c[e+32>>2];a=+c[e+36>>2];l=+nF[o[(o[e>>2]|0)+48>>2]&15](e);n=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+nF[o[(o[e>>2]|0)+48>>2]&15](e)+a;switch(o[e+52>>2]|0){case 0:{_=t*.25*((n+r)*(n+r))+t/12.0*((l+_)*((l+_)*4.0));s=_;r=t*.5*((n+r)*(n+r));n=_;break}case 2:{s=t*.5*((l+_)*(l+_));r=t*.25*((l+_)*(l+_))+t/12.0*(a*(a*4.0));n=t*.25*((l+_)*(l+_))+t/12.0*(a*(a*4.0));break}default:{r=t*.25*((l+_)*(l+_))+t/12.0*((n+r)*((n+r)*4.0));s=r;n=t*.5*((l+_)*(l+_))}}c[i>>2]=r;c[i+4>>2]=n;c[i+8>>2]=s;c[i+12>>2]=0.0;return}function hc(){var e=0;e=im()|0;o[e>>2]=5872;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;o[e+72>>2]=0;n[e+100>>0]=1;o[e+96>>2]=0;o[e+88>>2]=0;o[e+92>>2]=0;n[e+120>>0]=1;o[e+116>>2]=0;o[e+108>>2]=0;o[e+112>>2]=0;n[e+140>>0]=1;o[e+136>>2]=0;o[e+128>>2]=0;o[e+132>>2]=0;n[e+160>>0]=1;o[e+156>>2]=0;o[e+148>>2]=0;o[e+152>>2]=0;n[e+180>>0]=1;o[e+176>>2]=0;o[e+168>>2]=0;o[e+172>>2]=0;o[e+192>>2]=0;return e|0}function pc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0;o[6726]=(o[6726]|0)+1;r=(o[t+12>>2]|0)>(o[i+12>>2]|0);s=o[(r?i:t)+12>>2]|0;r=o[(r?t:i)+12>>2]|0;t=(r<<16|s)+~((r<<16|s)<<15)|0;t=((10?t>>10:t)^t)*9|0;t=(6?t>>6:t)^t;t=((16?t+~(t<<11)>>16:t+~(t<<11)|0)^t+~(t<<11))&(o[e+12>>2]|0)+-1;if((t|0)>=(o[e+36>>2]|0)){e=0;return e|0}t=o[(o[e+44>>2]|0)+(t<<2)>>2]|0;if((t|0)==-1){e=0;return e|0}n=o[e+16>>2]|0;i=t;while(1){t=n+(i<<4)|0;if((o[(o[t>>2]|0)+12>>2]|0)==(s|0)?(o[(o[n+(i<<4)+4>>2]|0)+12>>2]|0)==(r|0):0){i=7;break}i=o[(o[e+64>>2]|0)+(i<<2)>>2]|0;if((i|0)==-1){t=0;i=7;break}}if((i|0)==7)return t|0;return 0}function bc(e){e=e|0;var t=0;o[e>>2]=4936;if(n[e+456>>0]|0?(t=o[e+452>>2]|0,SF[o[o[t>>2]>>2]&511](t),t=o[e+452>>2]|0,t|0):0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}t=o[e+420>>2]|0;if(t|0){if(n[e+424>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+420>>2]=0}n[e+424>>0]=1;o[e+420>>2]=0;o[e+412>>2]=0;o[e+416>>2]=0;t=o[e+336>>2]|0;if(!t){n[e+340>>0]=1;o[e+336>>2]=0;o[e+328>>2]=0;t=e+332|0;o[t>>2]=0;Zt(e);return}if(n[e+340>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+336>>2]=0;n[e+340>>0]=1;o[e+336>>2]=0;o[e+328>>2]=0;t=e+332|0;o[t>>2]=0;Zt(e);return}function mc(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;i=ae;ae=ae+64|0;o[i+48>>2]=0;o[i+48+4>>2]=0;o[i+48+8>>2]=0;o[i+48+12>>2]=0;a=+c[t>>2];r=+c[t+4>>2];u=+c[t+8>>2];l=+c[t+12>>2];s=a*(2.0/(a*a+r*r+u*u+l*l));n=r*(2.0/(a*a+r*r+u*u+l*l));_=u*(2.0/(a*a+r*r+u*u+l*l));c[i>>2]=1.0-(r*n+u*_);c[i+4>>2]=a*n-l*_;c[i+8>>2]=a*_+l*n;c[i+12>>2]=0.0;c[i+16>>2]=a*n+l*_;c[i+20>>2]=1.0-(a*s+u*_);c[i+24>>2]=r*_-l*s;c[i+28>>2]=0.0;c[i+32>>2]=a*_-l*n;c[i+36>>2]=r*_+l*s;c[i+40>>2]=1.0-(a*s+r*n);c[i+44>>2]=0.0;nr(e,i);ae=i;return}function Ac(e,t){e=e|0;t=+t;var i=0,n=0,r=0;n=ae;ae=ae+16|0;La(14544);if((o[e+280>>2]|0)>0){i=0;do{r=o[(o[e+288>>2]|0)+(i<<2)>>2]|0;PF[o[(o[r>>2]|0)+8>>2]&7](r,e,t);i=i+1|0}while((i|0)<(o[e+280>>2]|0))}i=o[2685]|0;r=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=r;if(r|0){ae=n;return}do{if(o[i+4>>2]|0){$(n|0,0)|0;r=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[n+4>>2]|0)-(o[r+4>>2]|0)+(((o[n>>2]|0)-(o[r>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[i+16>>2]|0)){i=o[2685]|0;break}else{ae=n;return}}}while(0);o[2685]=o[i+20>>2];ae=n;return}function gc(e,t,i,r){e=e|0;t=t|0;i=+i;r=r|0;var s=0;s=am()|0;o[s>>2]=5988;n[s+144>>0]=1;o[s+140>>2]=0;o[s+132>>2]=0;o[s+136>>2]=0;o[s+176>>2]=r;c[s+56>>2]=.019999999552965164;o[s+60>>2]=0;o[s+60+4>>2]=0;o[s+60+8>>2]=0;o[s+60+12>>2]=0;n[s+170>>0]=1;o[s+8>>2]=e;c[s+52>>2]=i;c[s+48>>2]=0.0;o[s+12>>2]=t;n[s+171>>0]=1;c[s+172>>2]=0.0;c[s+16>>2]=0.0;c[s+20>>2]=0.0;c[s+44>>2]=29.399999618530273;c[s+24>>2]=55.0;c[s+28>>2]=10.0;n[s+168>>0]=0;n[s+169>>0]=0;n[s+180>>0]=1;c[s+36>>2]=.7853981852531433;c[s+40>>2]=.7071067690849304;c[s+108>>2]=0.0;n[s+181>>0]=0;n[s+182>>0]=0;return s|0}function yc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0;e=JL(e)|0;n=+c[e+8>>2];if(+UL(n)>.7071067690849304){o=+c[e+4>>2];r=1.0/+kL(o*o+n*n);t=JL(t)|0;c[t>>2]=0.0;c[t+4>>2]=-(+c[e+8>>2]*r);c[t+8>>2]=+c[e+4>>2]*r;i=JL(i)|0;c[i>>2]=(o*o+n*n)*r;c[i+4>>2]=-(+c[e>>2]*+c[t+8>>2]);c[i+8>>2]=+c[e>>2]*+c[t+4>>2];return}else{n=+c[e>>2];r=+c[e+4>>2];o=1.0/+kL(n*n+r*r);t=JL(t)|0;c[t>>2]=-(r*o);s=+c[e>>2]*o;c[t+4>>2]=s;c[t+8>>2]=0.0;s=-(+c[e+8>>2]*s);i=JL(i)|0;c[i>>2]=s;c[i+4>>2]=+c[e+8>>2]*+c[t>>2];c[i+8>>2]=(n*n+r*r)*o;return}}function vc(e,t){e=e|0;t=t|0;var i=0,r=0;i=o[e+28>>2]|0;r=o[e+32>>2]|0;if(!(n[e+1301>>0]|0)){At(e,t,qe(e,t,0,i+4|0,r+4|0,i+312|0,r+312|0,i+328|0,r+328|0)|0,i+4|0,r+4|0,i+312|0,r+312|0,i+328|0,r+328|0)|0;return}else{qe(e,t,At(e,t,0,i+4|0,r+4|0,i+312|0,r+312|0,i+328|0,r+328|0)|0,i+4|0,r+4|0,i+312|0,r+312|0,i+328|0,r+328|0)|0;return}}function Cc(e,t,i){e=e|0;t=t|0;i=i|0;do{if(!((t|0)==8&(i|0)==8)){if((t|0)==8&(i|0)==1){t=e+76|0;break}if((t|0)==1&(i|0)==8){t=e+80|0;break}if(!(i|t)){t=e+72|0;break}if((t|0)<20&(i|0)==28){t=e+88|0;break}if((t|0)==28&(i|0)<20){t=e+84|0;break}if((t|0)<20){if((i|0)<20){t=e+32|0;break}if((i+-21|0)>>>0<9){t=e+36|0;break}}else{if((i|0)<20&(t+-21|0)>>>0<9){t=e+40|0;break}if((t|0)==31)if((i|0)==31){t=e+48|0;break}else{t=e+44|0;break}}if((i|0)==31){t=e+52|0;break}else{t=e+56|0;break}}else t=e+60|0}while(0);return o[t>>2]|0}function Ec(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=ae;ae=ae+16|0;o[e+4>>2]=o[t+40>>2];n=o[t>>2]|0;o[e+76>>2]=n;if(i){o[e+44>>2]=o[t+8>>2];o[e+44+4>>2]=o[t+8+4>>2];o[e+44+8>>2]=o[t+8+8>>2];o[e+44+12>>2]=o[t+8+12>>2]}else{i=JL(xL(n)|0)|0;g_(r,i,+c[t+8>>2],+c[t+12>>2],+c[t+16>>2]);o[e+44>>2]=o[r>>2];o[e+44+4>>2]=o[r+4>>2];o[e+44+8>>2]=o[r+8>>2];o[e+44+12>>2]=o[r+12>>2]}o[e+60>>2]=o[t+24>>2];o[e+60+4>>2]=o[t+24+4>>2];o[e+60+8>>2]=o[t+24+8>>2];o[e+60+12>>2]=o[t+24+12>>2];ae=r;return+ +c[t+40>>2]}function Sc(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=r|0;var s=0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0;s=ae;ae=ae+48|0;o[s+32>>2]=n;o[s+32+4>>2]=r;f=+c[t>>2];u=+c[t+4>>2];a=+c[t+8>>2];_=+c[e+56>>2]*f+ +c[e+60>>2]*u+ +c[e+64>>2]*a;l=f*+c[e+72>>2]+u*+c[e+76>>2]+a*+c[e+80>>2];a=f*+c[e+88>>2]+u*+c[e+92>>2]+a*+c[e+96>>2];o[s>>2]=o[e+48>>2];o[s+4>>2]=s+32;c[s+8>>2]=_;c[s+12>>2]=l;c[s+16>>2]=a;c[s+20>>2]=0.0;c[s+24>>2]=i;r=o[e+44>>2]|0;i=+sF[o[(o[r>>2]|0)+12>>2]&15](r,s,1);ae=s;return+i}function Tc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0.0,a=0.0,l=0.0,u=0,f=0;r=ae;ae=ae+48|0;LF[o[(o[e>>2]|0)+124>>2]&127](e,r+32|0,n);f=o[r+32>>2]|0;u=o[r+32+4>>2]|0;n=o[r+32+8>>2]|0;o[t>>2]=f;o[t+4>>2]=u;o[t+8>>2]=n;c[t+12>>2]=0.0;t=o[(o[e>>2]|0)+64>>2]|0;l=-(o[_>>2]=f,+c[_>>2]);a=-(o[_>>2]=u,+c[_>>2]);s=-(o[_>>2]=n,+c[_>>2]);c[r>>2]=l;c[r+4>>2]=a;c[r+8>>2]=s;c[r+12>>2]=0.0;LF[t&127](r+16|0,e,r);o[i>>2]=o[r+16>>2];o[i+4>>2]=o[r+16+4>>2];o[i+8>>2]=o[r+16+8>>2];o[i+12>>2]=o[r+16+12>>2];ae=r;return}function Rc(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;if(n>>>0<3)switch(t|0){case 2:{c[e+756+(n<<2)>>2]=i;o[e+1304>>2]=o[e+1304>>2]|4<<n*3;return}case 4:{c[e+772+(n<<2)>>2]=i;o[e+1304>>2]=o[e+1304>>2]|2<<n*3;return}case 3:{c[e+740+(n<<2)>>2]=i;o[e+1304>>2]=o[e+1304>>2]|1<<n*3;return}default:return}if((n+-3|0)>>>0>=3)return;switch(t|0){case 2:{c[e+868+(n+-3<<6)+32>>2]=i;o[e+1304>>2]=o[e+1304>>2]|4<<n*3;return}case 4:{c[e+868+(n+-3<<6)+36>>2]=i;o[e+1304>>2]=o[e+1304>>2]|2<<n*3;return}case 3:{c[e+868+(n+-3<<6)+28>>2]=i;o[e+1304>>2]=o[e+1304>>2]|1<<n*3;return}default:return}}function Mc(e,t,i){e=e|0;t=t|0;i=+i;var r=0;r=am()|0;o[r>>2]=5988;n[r+144>>0]=1;o[r+140>>2]=0;o[r+132>>2]=0;o[r+136>>2]=0;o[r+176>>2]=1;c[r+56>>2]=.019999999552965164;o[r+60>>2]=0;o[r+60+4>>2]=0;o[r+60+8>>2]=0;o[r+60+12>>2]=0;n[r+170>>0]=1;o[r+8>>2]=e;c[r+52>>2]=i;c[r+48>>2]=0.0;o[r+12>>2]=t;n[r+171>>0]=1;c[r+172>>2]=0.0;c[r+16>>2]=0.0;c[r+20>>2]=0.0;c[r+44>>2]=29.399999618530273;c[r+24>>2]=55.0;c[r+28>>2]=10.0;n[r+168>>0]=0;n[r+169>>0]=0;n[r+180>>0]=1;c[r+36>>2]=.7853981852531433;c[r+40>>2]=.7071067690849304;c[r+108>>2]=0.0;n[r+181>>0]=0;n[r+182>>0]=0;return r|0}function Oc(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0.0,o=0.0,s=0.0,a=0.0;i=ae;ae=ae+48|0;n=2.0/+rP(t);o=+c[(JL(t)|0)>>2];r=+c[(xL(t)|0)>>2];a=+c[(IL(t)|0)>>2];s=+c[(OL(t)|0)>>2];c[i+32>>2]=1.0-(r*(r*n)+a*(a*n));c[i+28>>2]=o*(r*n)-s*(a*n);c[i+24>>2]=o*(a*n)+s*(r*n);c[i+20>>2]=o*(r*n)+s*(a*n);c[i+16>>2]=1.0-(o*(o*n)+a*(a*n));c[i+12>>2]=r*(a*n)-s*(o*n);c[i+8>>2]=o*(a*n)-s*(r*n);c[i+4>>2]=r*(a*n)+s*(o*n);c[i>>2]=1.0-(o*(o*n)+r*(r*n));Vd(e,i+32|0,i+28|0,i+24|0,i+20|0,i+16|0,i+12|0,i+8|0,i+4|0,i);ae=i;return}function Ic(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0;s=Cm()|0;o[s+4>>2]=3;o[s+8>>2]=-1;o[s+12>>2]=-1;c[s+16>>2]=3402823466385288598117041.0e14;n[s+20>>0]=1;n[s+21>>0]=0;o[s+24>>2]=-1;o[s+28>>2]=e;o[s+32>>2]=t;c[s+36>>2]=0.0;c[s+40>>2]=.30000001192092896;o[s+44>>2]=0;o[s>>2]=5608;o[s+300>>2]=o[i>>2];o[s+300+4>>2]=o[i+4>>2];o[s+300+8>>2]=o[i+8>>2];o[s+300+12>>2]=o[i+12>>2];o[s+316>>2]=o[r>>2];o[s+316+4>>2]=o[r+4>>2];o[s+316+8>>2]=o[r+8>>2];o[s+316+12>>2]=o[r+12>>2];o[s+332>>2]=0;n[s+344>>0]=0;c[s+348>>2]=.30000001192092896;c[s+352>>2]=1.0;c[s+356>>2]=0.0;return s|0}function xc(e){e=e|0;var t=0;o[e>>2]=10036;t=o[e+64>>2]|0;if(t|0){if(n[e+68>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+64>>2]=0}n[e+68>>0]=1;o[e+64>>2]=0;o[e+56>>2]=0;o[e+60>>2]=0;t=o[e+44>>2]|0;if(t|0){if(n[e+48>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+44>>2]=0}n[e+48>>0]=1;o[e+44>>2]=0;o[e+36>>2]=0;o[e+40>>2]=0;t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function Pc(e){e=e|0;var t=0;o[e>>2]=5420;t=o[e+80>>2]|0;if(t|0){if(n[e+84>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+80>>2]=0}n[e+84>>0]=1;o[e+80>>2]=0;o[e+72>>2]=0;o[e+76>>2]=0;t=o[e+60>>2]|0;if(t|0){if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+60>>2]=0}n[e+64>>0]=1;o[e+60>>2]=0;o[e+52>>2]=0;o[e+56>>2]=0;t=o[e+40>>2]|0;if(!t){n[e+44>>0]=1;o[e+40>>2]=0;o[e+32>>2]=0;e=e+36|0;o[e>>2]=0;return}if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+40>>2]=0;n[e+44>>0]=1;o[e+40>>2]=0;o[e+32>>2]=0;e=e+36|0;o[e>>2]=0;return}function Dc(e){e=e|0;var t=0;o[e>>2]=6568;t=o[e+56>>2]|0;if(t|0){if(n[e+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+56>>2]=0}n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;t=o[e+36>>2]|0;if(t|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;t=o[e+16>>2]|0;if(!t){t=e+12|0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[t>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;t=e+12|0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[t>>2]=0;return}function wc(e){e=e|0;var t=0;o[e>>2]=10636;t=o[e+60>>2]|0;if(t|0){if(n[e+64>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+60>>2]=0}n[e+64>>0]=1;o[e+60>>2]=0;o[e+52>>2]=0;o[e+56>>2]=0;t=o[e+40>>2]|0;if(t|0){if(n[e+44>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+40>>2]=0}n[e+44>>0]=1;o[e+40>>2]=0;o[e+32>>2]=0;o[e+36>>2]=0;t=o[e+16>>2]|0;if(!t){n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;e=e+12|0;o[e>>2]=0;return}function Lc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,156)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=4704;n[e+8>>0]=1;o[e+12>>2]=4916;o[e+60>>2]=t;o[e+64>>2]=0;n[e+88>>0]=1;o[e+84>>2]=0;o[e+76>>2]=0;o[e+80>>2]=0;n[e+108>>0]=1;o[e+104>>2]=0;o[e+96>>2]=0;o[e+100>>2]=0;n[e+128>>0]=1;o[e+124>>2]=0;o[e+116>>2]=0;o[e+120>>2]=0;n[e+148>>0]=1;o[e+144>>2]=0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+16>>2]=o[r+8>>2];o[e+20>>2]=o[i+8>>2];Sa(e+72|0);return e|0}function Fc(e,t,i,n){e=e|0;t=+t;i=i|0;n=n|0;var r=0,s=0;r=ae;ae=ae+64|0;s=Zw(i)|0;o[r+48>>2]=o[s>>2];o[r+48+4>>2]=o[s+4>>2];o[r+48+8>>2]=o[s+8>>2];o[r+48+12>>2]=o[s+12>>2];i=JL(i)|0;_b(r+32|0,i,1);_b(r+16|0,i,0);UF[o[(o[e>>2]|0)+64>>2]&1](e,r+48|0,r+32|0,r+16|0,t,-1.5707963705062866,1.5707963705062866,-1.5707963705062866,1.5707963705062866,n,30.0,0);i=o[(o[e>>2]|0)+64>>2]|0;zp(r,+c[r+16>>2],+c[r+16+4>>2],+c[r+16+8>>2]);UF[i&1](e,r+48|0,r+32|0,r,t,-1.5707963705062866,1.5707963705062866,-1.5707963705062866,1.5707963705062866,n,30.0,0);ae=r;return}function Nc(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,156)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=4704;n[e+8>>0]=0;o[e+12>>2]=4916;o[e+60>>2]=t;o[e+64>>2]=0;n[e+88>>0]=1;o[e+84>>2]=0;o[e+76>>2]=0;o[e+80>>2]=0;n[e+108>>0]=1;o[e+104>>2]=0;o[e+96>>2]=0;o[e+100>>2]=0;n[e+128>>0]=1;o[e+124>>2]=0;o[e+116>>2]=0;o[e+120>>2]=0;n[e+148>>0]=1;o[e+144>>2]=0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+16>>2]=o[i+8>>2];o[e+20>>2]=o[r+8>>2];Sa(e+72|0);return e|0}function Bc(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;s=s|0;var a=0;a=ae;ae=ae+64|0;o[a+48>>2]=r;o[a+48+4>>2]=s;r=o[e+212>>2]|0;if(!(+c[r+4>>2]>=n)){ae=a;return+n}o[a>>2]=o[e+216>>2];o[a+4>>2]=a+48;o[a+8>>2]=o[t>>2];o[a+8+4>>2]=o[t+4>>2];o[a+8+8>>2]=o[t+8>>2];o[a+8+12>>2]=o[t+12>>2];o[a+24>>2]=o[i>>2];o[a+24+4>>2]=o[i+4>>2];o[a+24+8>>2]=o[i+8>>2];o[a+24+12>>2]=o[i+12>>2];c[a+40>>2]=n;n=+sF[o[(o[r>>2]|0)+12>>2]&15](r,a,0);ae=a;return+n}function kc(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;s=s|0;var a=0;a=ae;ae=ae+64|0;o[a+48>>2]=r;o[a+48+4>>2]=s;r=o[e+212>>2]|0;if(!(+c[r+4>>2]>=n)){ae=a;return+n}o[a>>2]=o[e+216>>2];o[a+4>>2]=a+48;o[a+8>>2]=o[t>>2];o[a+8+4>>2]=o[t+4>>2];o[a+8+8>>2]=o[t+8>>2];o[a+8+12>>2]=o[t+12>>2];o[a+24>>2]=o[i>>2];o[a+24+4>>2]=o[i+4>>2];o[a+24+8>>2]=o[i+8>>2];o[a+24+12>>2]=o[i+12>>2];c[a+40>>2]=n;n=+sF[o[(o[r>>2]|0)+12>>2]&15](r,a,1);ae=a;return+n}function Uc(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0;r=o[i+16>>2]|0;if(!r){if(!(ld(i)|0)){r=o[i+16>>2]|0;s=5}}else s=5;e:do{if((s|0)==5){s=o[i+20>>2]|0;if((r-s|0)>>>0<t>>>0){mF[o[i+36>>2]&63](i,e,t)|0;break}t:do{if((n[i+75>>0]|0)<0|(t|0)==0)r=t;else{a=t;while(1){r=a+-1|0;if((n[e+r>>0]|0)==10)break;if(!r){r=t;break t}else a=r}if((mF[o[i+36>>2]&63](i,e,a)|0)>>>0<a>>>0)break e;s=o[i+20>>2]|0;r=t-a|0;e=e+a|0}}while(0);Tn(s|0,e|0,r|0)|0;o[i+20>>2]=(o[i+20>>2]|0)+r}}while(0);return}function Hc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+32|0;o[e+8>>2]=o[t>>2];Gf(e+20|0,t);if(i){o[n+16>>2]=o[t+8>>2];o[n+16+4>>2]=o[t+8+4>>2];o[n+16+8>>2]=o[t+8+8>>2];o[n+16+12>>2]=o[t+8+12>>2]}else{i=JL(xL(o[e+8>>2]|0)|0)|0;g_(n+16|0,i,+c[t+8>>2],+c[t+12>>2],+c[t+16>>2])}Q_(e+72|0,n+16|0);Ch(n,e+40|0,e+56|0,+c[t+24>>2]);Q_(e+92|0,n);Gf(e+112|0,t+24|0);ae=n;return+ +c[e+4>>2]}function jc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;n=ae;ae=ae+16|0;LF[o[(o[t>>2]|0)+68>>2]&127](n,t,i);o[e>>2]=o[n>>2];o[e+4>>2]=o[n+4>>2];o[e+8>>2]=o[n+8>>2];o[e+12>>2]=o[n+12>>2];a=+c[i>>2];r=+c[i+4>>2];s=+c[i+8>>2];_=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:a;l=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:r;s=a*a+r*r+s*s<1.4210854715202004e-14?-1.0:s;r=1.0/+v(+(s*s+(_*_+l*l)));a=+nF[o[(o[t>>2]|0)+48>>2]&15](t);c[e>>2]=+c[e>>2]+a*(_*r);c[e+4>>2]=+c[e+4>>2]+a*(l*r);c[e+8>>2]=+c[e+8>>2]+a*(s*r);ae=n;return}function Vc(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=ae;ae=ae+48|0;r=LD(t,0)|0;c[n+32>>2]=+Cd(i,r);c[n+28>>2]=+cd(i,r);c[n+24>>2]=+ad(i,r);r=LD(t,1)|0;c[n+20>>2]=+Cd(i,r);c[n+16>>2]=+cd(i,r);c[n+12>>2]=+ad(i,r);t=LD(t,2)|0;c[n+8>>2]=+Cd(i,t);c[n+4>>2]=+cd(i,t);c[n>>2]=+ad(i,t);np(e,n+32|0,n+28|0,n+24|0,n+20|0,n+16|0,n+12|0,n+8|0,n+4|0,n);ae=n;return}function Gc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0;i=o[t+188>>2]|0;if(i|0){s=o[e+68>>2]|0;s=dF[o[(o[s>>2]|0)+36>>2]&127](s)|0;LF[o[(o[s>>2]|0)+40>>2]&127](s,i,o[e+24>>2]|0);s=o[e+68>>2]|0;LF[o[(o[s>>2]|0)+12>>2]&127](s,i,o[e+24>>2]|0);o[t+188>>2]=0}r=o[e+8>>2]|0;if((r|0)<=0)return;s=o[e+16>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0)){a=9;break}}if((a|0)==9)return;if((i|0)>=(r|0))return;o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+16>>2]|0)+(r+-1<<2)>>2]=t;o[e+8>>2]=r+-1;return}function Wc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,c=0;while(1){r=o[e+12>>2]|0;if(!(((a[n>>1]|0)>=(a[e>>1]|0)?(a[i>>1]|0)<=(a[e+6>>1]|0):0)&(a[i+4>>1]|0)<=(a[e+10>>1]|0)&(a[n+4>>1]|0)>=(a[e+4>>1]|0)&(a[i+2>>1]|0)<=(a[e+8>>1]|0)&(a[n+2>>1]|0)>=(a[e+2>>1]|0))){s=6;break}if((r|0)>-1)break;c=e+16|0;Wc(c,t,i,n);r=o[e+28>>2]|0;e=(r|0)>-1?e+32|0:c+(0-r<<4)|0}if((s|0)==6)return;LF[o[(o[t>>2]|0)+8>>2]&127](t,21?r>>>21:r,r&2097151);return}function Xc(e,t,i,n){e=e|0;t=t|0;i=+i;n=+n;var r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0;a=+E(+i);s=+S(+i);i=+c[t+444>>2];if(+y(+a)>1.1920928955078125e-07){r=+c[t+448>>2];i=+v(+((s*s/(a*a)+1.0)/(1.0/(r*r)+s*s/(a*a)/(i*i))));r=s*s;o=a*a}else{r=s*s;o=a*a}l=i*.5;o=+S(+l)/+v(+(r+(o+0.0)));l=+E(+l);_=l*n+a*o*0.0-s*o*-0.0;r=l*0.0-s*o*n-o*0.0*0.0;i=l*0.0+o*0.0*0.0-a*o*n;n=-(o*0.0*n)-a*o*0.0-s*o*-0.0;c[e>>2]=s*o*r+(l*_+n*-(o*0.0))-i*-(a*o);c[e+4>>2]=i*-(o*0.0)+(l*r+n*-(a*o))-s*o*_;c[e+8>>2]=_*-(a*o)+(s*o*n+l*i)-r*-(o*0.0);c[e+12>>2]=0.0;return}function zc(e,t){e=e|0;t=t|0;var i=0,r=0,s=0;c[e+16>>2]=0.0;c[e+20>>2]=0.0;n[e+168>>0]=0;n[e+169>>0]=0;c[e+172>>2]=0.0;o[e+60>>2]=0;o[e+60+4>>2]=0;o[e+60+8>>2]=0;o[e+60+12>>2]=0;e=o[(o[e+8>>2]|0)+284>>2]|0;if((o[(dF[o[(o[e>>2]|0)+28>>2]&127](e)|0)+4>>2]|0)<=0)return;do{r=o[e>>2]|0;s=o[r+12>>2]|0;r=o[o[(dF[o[r+28>>2]&127](e)|0)+12>>2]>>2]|0;i=o[(o[(dF[o[(o[e>>2]|0)+28>>2]&127](e)|0)+12>>2]|0)+4>>2]|0;AF[s&31](e,r,i,o[t+24>>2]|0)|0}while((o[(dF[o[(o[e>>2]|0)+28>>2]&127](e)|0)+4>>2]|0)>0);return}function Yc(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;o[6721]=(o[6721]|0)+-1;xF[o[(o[e>>2]|0)+20>>2]&127](e,t);n=o[t+768>>2]|0;i=(o[e+12>>2]|0)+-1|0;s=o[e+20>>2]|0;r=o[s+(n<<2)>>2]|0;o[s+(n<<2)>>2]=o[s+(i<<2)>>2];o[(o[e+20>>2]|0)+(i<<2)>>2]=r;o[(o[(o[e+20>>2]|0)+(n<<2)>>2]|0)+768>>2]=n;o[e+12>>2]=i;e=o[e+68>>2]|0;if(!t)return;s=o[e+16>>2]|0;if(s>>>0<=t>>>0?(s+(O(o[e>>2]|0,o[e+4>>2]|0)|0)|0)>>>0>t>>>0:0){o[t>>2]=o[e+12>>2];o[e+12>>2]=t;o[e+8>>2]=(o[e+8>>2]|0)+1;return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function Qc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,l=0.0,_=0.0,u=0.0,f=0.0,d=0.0;if((n|0)<=0)return;r=0;do{d=+c[t+(r<<4)>>2];f=+c[t+(r<<4)+4>>2];l=+c[t+(r<<4)+8>>2];_=d*+c[e+56>>2]+f*+c[e+60>>2]+l*+c[e+64>>2];u=d*+c[e+72>>2]+f*+c[e+76>>2]+l*+c[e+80>>2];l=d*+c[e+88>>2]+f*+c[e+92>>2]+l*+c[e+96>>2];a=e+56+((_<u?u<l?2:1:_<l?2:0)<<4)|0;s=i+(r<<4)|0;o[s>>2]=o[a>>2];o[s+4>>2]=o[a+4>>2];o[s+8>>2]=o[a+8>>2];o[s+12>>2]=o[a+12>>2];r=r+1|0}while((r|0)!=(n|0));return}function Kc(e,t){e=e|0;t=+t;var i=0,n=0;i=ae;ae=ae+16|0;ue(e,t);La(14301);e=o[e+452>>2]|0;TF[o[(o[e>>2]|0)+24>>2]&31](e,t);e=o[2685]|0;n=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=n;if(n|0){ae=i;return}do{if(o[e+4>>2]|0){$(i|0,0)|0;n=o[6746]|0;c[e+8>>2]=+c[e+8>>2]+ +(((o[i+4>>2]|0)-(o[n+4>>2]|0)+(((o[i>>2]|0)-(o[n>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2685]|0;break}else{ae=i;return}}}while(0);o[2685]=o[e+20>>2];ae=i;return}function Zc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;do{switch(t|0){case 0:{t=0;r=1;break}case 1:{t=0;r=2;break}case 2:{t=1;r=3;break}case 3:{t=2;r=3;break}case 4:{t=0;r=4;break}case 5:{t=1;r=5;break}case 6:{t=2;r=6;break}case 7:{t=3;r=7;break}case 8:{t=4;r=5;break}case 9:{t=4;r=6;break}case 10:{t=5;r=7;break}case 11:{t=6;r=7;break}default:{t=0;r=0}}}while(0);LF[o[(o[e>>2]|0)+108>>2]&127](e,t,i);LF[o[(o[e>>2]|0)+108>>2]&127](e,r,n);return}function Jc(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0;s=+c[e+56>>2];_=+c[e+72>>2]-s;l=+c[e+60>>2];a=+c[e+76>>2]-l;u=+c[e+64>>2];f=+c[e+80>>2]-u;s=+c[e+88>>2]-s;l=+c[e+92>>2]-l;u=+c[e+96>>2]-u;c[i+12>>2]=0.0;r=1.0/+v(+((_*l-a*s)*(_*l-a*s)+((a*u-f*l)*(a*u-f*l)+(f*s-_*u)*(f*s-_*u))));c[i>>2]=(a*u-f*l)*r;c[i+4>>2]=(f*s-_*u)*r;c[i+8>>2]=(_*l-a*s)*r;o[n>>2]=o[e+56>>2];o[n+4>>2]=o[e+56+4>>2];o[n+8>>2]=o[e+56+8>>2];o[n+12>>2]=o[e+56+12>>2];return}function qc(e){e=e|0;var t=0,i=0,r=0;o[e>>2]=7276;t=o[e+12>>2]|0;if((t|0)>0){r=0;do{i=o[(o[e+20>>2]|0)+(r<<2)>>2]|0;if(i|0){SF[o[o[i>>2]>>2]&511](i);i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+60>>2]&127](i,o[(o[e+20>>2]|0)+(r<<2)>>2]|0)}r=r+1|0}while((r|0)!=(t|0))}t=o[e+20>>2]|0;if(!t){n[e+24>>0]=1;o[e+20>>2]=0;o[e+12>>2]=0;e=e+16|0;o[e>>2]=0;return}if(n[e+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+20>>2]=0;n[e+24>>0]=1;o[e+20>>2]=0;o[e+12>>2]=0;e=e+16|0;o[e>>2]=0;return}function $c(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0;s=+c[e+56>>2];o=+c[e+72>>2]-s;_=+c[e+60>>2];l=+c[e+76>>2]-_;r=+c[e+64>>2];a=+c[e+80>>2]-r;s=+c[e+88>>2]-s;_=+c[e+92>>2]-_;r=+c[e+96>>2]-r;c[i+12>>2]=0.0;n=1.0/+v(+((o*_-l*s)*(o*_-l*s)+((l*r-a*_)*(l*r-a*_)+(a*s-o*r)*(a*s-o*r))));c[i>>2]=(l*r-a*_)*n;c[i+4>>2]=(a*s-o*r)*n;c[i+8>>2]=(o*_-l*s)*n;if(!t)return;c[i>>2]=-((l*r-a*_)*n);c[i+4>>2]=-((a*s-o*r)*n);c[i+8>>2]=-((o*_-l*s)*n);return}function el(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0;s=o[e+720>>2]|0;a=o[e+752>>2]|0;if((a|0)<=0){n=0;return n|0}e=o[e+760>>2]|0;r=0;while(1){c=o[e+(r*44|0)+8>>2]|0;if(((c|0)==(s+(n*104|0)|0)|((c|0)==(s+(t*104|0)|0)|(c|0)==(s+(i*104|0)|0))?(c=o[e+(r*44|0)+12>>2]|0,(c|0)==(s+(n*104|0)|0)|((c|0)==(s+(t*104|0)|0)|(c|0)==(s+(i*104|0)|0))):0)?(c=o[e+(r*44|0)+16>>2]|0,(c|0)==(s+(n*104|0)|0)|((c|0)==(s+(t*104|0)|0)|(c|0)==(s+(i*104|0)|0))):0){e=1;r=7;break}r=r+1|0;if((r|0)>=(a|0)){e=0;r=7;break}}if((r|0)==7)return e|0;return 0}function tl(e,t){e=e|0;t=t|0;do{if(e){if(t>>>0<128){n[e>>0]=t;e=1;break}if(!(o[6759]|0)){if((t&-128|0)!=57216){e=-1;break}n[e>>0]=t;e=1;break}if(t>>>0<2048){n[e>>0]=(6?t>>>6:t)|192;n[e+1>>0]=t&63|128;e=2;break}if(t>>>0<55296|(t&-8192|0)==57344){n[e>>0]=(12?t>>>12:t)|224;n[e+1>>0]=(6?t>>>6:t)&63|128;n[e+2>>0]=t&63|128;e=3;break}if((t+-65536|0)>>>0<1048576){n[e>>0]=(18?t>>>18:t)|240;n[e+1>>0]=(12?t>>>12:t)&63|128;n[e+2>>0]=(6?t>>>6:t)&63|128;n[e+3>>0]=t&63|128;e=4}else e=-1}else e=1}while(0);return e|0}function il(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+48|0;c[i+32>>2]=+Cd(t,e);c[i+28>>2]=+cd(t,e);c[i+24>>2]=+ad(t,e);c[i+20>>2]=+Cd(t,e+16|0);c[i+16>>2]=+cd(t,e+16|0);c[i+12>>2]=+ad(t,e+16|0);c[i+8>>2]=+Cd(t,e+32|0);c[i+4>>2]=+cd(t,e+32|0);c[i>>2]=+ad(t,e+32|0);Vd(e,i+32|0,i+28|0,i+24|0,i+20|0,i+16|0,i+12|0,i+8|0,i+4|0,i);ae=i;return}function nl(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0,l=0;a=o[e+96>>2]|0;l=o[e+104>>2]|0;r=+c[l+(((t|0)%(a|0)|0)<<4)+4>>2]*+c[e+16>>2];s=+c[l+(((t|0)%(a|0)|0)<<4)+8>>2]*+c[e+20>>2];c[i>>2]=+c[l+(((t|0)%(a|0)|0)<<4)>>2]*+c[e+12>>2];c[i+4>>2]=r;c[i+8>>2]=s;c[i+12>>2]=0.0;i=o[e+104>>2]|0;s=+c[i+(((t+1|0)%(a|0)|0)<<4)+4>>2]*+c[e+16>>2];r=+c[i+(((t+1|0)%(a|0)|0)<<4)+8>>2]*+c[e+20>>2];c[n>>2]=+c[i+(((t+1|0)%(a|0)|0)<<4)>>2]*+c[e+12>>2];c[n+4>>2]=s;c[n+8>>2]=r;c[n+12>>2]=0.0;return}function rl(e,t){e=e|0;t=t|0;var i=0,n=0,r=0.0,s=0,a=0;n=ae;ae=ae+32|0;i=o[e+184>>2]|0;if(+c[i+4>>2]==0.0){e=0;ae=n;return e|0}t=o[t>>2]|0;if(!(pF[o[(o[i>>2]|0)+8>>2]&31](i,o[t+188>>2]|0)|0)){e=1;ae=n;return e|0}s=o[e+192>>2]|0;a=o[t+192>>2]|0;i=o[e+184>>2]|0;r=+c[e+188>>2];o[n>>2]=0;o[n+4>>2]=a;o[n+8>>2]=t;o[n+12>>2]=t+4;o[n+16>>2]=-1;o[n+20>>2]=-1;Uo(s,e+36|0,e+100|0,n,i,r);e=1;ae=n;return e|0}function ol(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;o[i>>2]=o[t>>2];o[i+4>>2]=o[t+4>>2];o[i+8>>2]=o[t+8>>2];o[i+12>>2]=o[t+12>>2];e=o[e+8>>2]|0;o[e+260>>2]=(o[e+260>>2]|0)+1;o[e+4>>2]=1065353216;o[e+8>>2]=0;o[e+8+4>>2]=0;o[e+8+8>>2]=0;o[e+8+12>>2]=0;o[e+24>>2]=1065353216;o[e+28>>2]=0;o[e+28+4>>2]=0;o[e+28+8>>2]=0;o[e+28+12>>2]=0;o[e+44>>2]=1065353216;o[e+48>>2]=0;o[e+52>>2]=o[i>>2];o[e+52+4>>2]=o[i+4>>2];o[e+52+8>>2]=o[i+8>>2];o[e+52+12>>2]=o[i+12>>2];ae=i;return}function sl(e){e=e|0;var t=0,i=0;t=ae;ae=ae+16|0;La(17589);i=o[e+68>>2]|0;xF[o[(o[i>>2]|0)+32>>2]&127](i,o[e+24>>2]|0);e=o[2685]|0;i=(o[e+16>>2]|0)+-1|0;o[e+16>>2]=i;if(i|0){ae=t;return}do{if(o[e+4>>2]|0){$(t|0,0)|0;i=o[6746]|0;c[e+8>>2]=+c[e+8>>2]+ +(((o[t+4>>2]|0)-(o[i+4>>2]|0)+(((o[t>>2]|0)-(o[i>>2]|0)|0)*1e6|0)-(o[e+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[e+16>>2]|0)){e=o[2685]|0;break}else{ae=t;return}}}while(0);o[2685]=o[e+20>>2];ae=t;return}function al(e,t,i){e=e|0;t=t|0;i=i|0;var s=0,a=0;a=ae;ae=ae+64|0;if(!(gA(e,t,0)|0)){if((t|0)!=0?(s=Ma(t,3456)|0,(s|0)!=0):0){o[a>>2]=s;o[a+4>>2]=0;o[a+8>>2]=e;o[a+12>>2]=-1;e=a+16|0;t=e+36|0;do{o[e>>2]=0;e=e+4|0}while((e|0)<(t|0));r[a+16+36>>1]=0;n[a+16+38>>0]=0;o[a+48>>2]=1;BF[o[(o[s>>2]|0)+28>>2]&127](s,a,o[i>>2]|0,1);if((o[a+24>>2]|0)==1){o[i>>2]=o[a+16>>2];e=1}else e=0}else e=0}else e=1;ae=a;return e|0}function cl(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0.0;_=+nF[o[(o[e>>2]|0)+48>>2]&15](e);s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);i=+nF[o[(o[e>>2]|0)+48>>2]&15](e);f=(_+ +c[e+28>>2])/+c[e+12>>2];l=(s+ +c[e+32>>2])/+c[e+16>>2];r=(i+ +c[e+36>>2])/+c[e+20>>2];u=+y(+ +c[t>>2]);a=+y(+ +c[t+4>>2]);n=+y(+ +c[t+8>>2]);c[e+12>>2]=u;c[e+16>>2]=a;c[e+20>>2]=n;c[e+24>>2]=0.0;c[e+28>>2]=f*u-_;c[e+32>>2]=l*a-s;c[e+36>>2]=r*n-i;c[e+40>>2]=0.0;return}function ll(e,t){e=e|0;t=t|0;var i=0,r=0,s=0.0,a=0,l=0;if(n[e+527>>0]|0){o[t>>2]=0;o[t+4>>2]=0;return}o[t>>2]=3;o[t+4>>2]=3;l=o[e+28>>2]|0;a=o[e+32>>2]|0;Bo(e,l+4|0,a+4|0,l+264|0,a+264|0);if((n[e+526>>0]|0?(i=o[t>>2]|0,o[t>>2]=i+1,r=o[t+4>>2]|0,o[t+4>>2]=r+-1,s=+c[e+456>>2],+c[e+444>>2]<s):0)?+c[e+448>>2]<s:0){o[t>>2]=i+2;o[t+4>>2]=r+-2}if(!(n[e+525>>0]|0))return;o[t>>2]=(o[t>>2]|0)+1;o[t+4>>2]=(o[t+4>>2]|0)+-1;return}function _l(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0;r=e+i|0;t=t&255;if((i|0)>=67){while(e&3){n[e>>0]=t;e=e+1|0}s=t|t<<8|t<<16|t<<24;while((e|0)<=((r&-4)-64|0)){o[e>>2]=s;o[e+4>>2]=s;o[e+8>>2]=s;o[e+12>>2]=s;o[e+16>>2]=s;o[e+20>>2]=s;o[e+24>>2]=s;o[e+28>>2]=s;o[e+32>>2]=s;o[e+36>>2]=s;o[e+40>>2]=s;o[e+44>>2]=s;o[e+48>>2]=s;o[e+52>>2]=s;o[e+56>>2]=s;o[e+60>>2]=s;e=e+64|0}while((e|0)<(r&-4|0)){o[e>>2]=s;e=e+4|0}}while((e|0)<(r|0)){n[e>>0]=t;e=e+1|0}return r-i|0}function ul(e,t,i,n,r,o,s,a,l,_){e=+e;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;a=+a;l=+l;_=_|0;if(!(((s-n)*t-(a-r)*e)*o+(((a-r)*i-(l-o)*t)*n+((l-o)*e-(s-n)*i)*r)<0.0)){_=0;return _|0}do{if(!((s-n)*n+(a-r)*r+(l-o)*o>0.0)){if((s-n)*s+(a-r)*a+(l-o)*l<0.0){n=s*s+a*a+l*l;break}else{n=((s*s+a*a+l*l)*(n*n+r*r+o*o)-(s*n+a*r+l*o)*(s*n+a*r+l*o))/((s-n)*(s-n)+(a-r)*(a-r)+(l-o)*(l-o));n=n>0.0?n:0.0;break}}else n=n*n+r*r+o*o}while(0);c[_>>2]=+v(+n);_=1;return _|0}function fl(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0,s=0,a=0;t=o[t+36>>2]|0;a=o[t+8>>2]|0;s=o[t+12>>2]|0;r=o[t+16>>2]|0;n=+c[e+52>>2];i=+Wi(e+4|0,+c[e+36>>2],+c[e+40>>2],+c[e+44>>2],+c[a+8>>2],+c[a+12>>2],+c[a+16>>2],+c[s+8>>2],+c[s+12>>2],+c[s+16>>2],+c[r+8>>2],+c[r+12>>2],+c[r+16>>2],n);if(!(i>0.0&i<n)){a=e+60|0;s=o[a>>2]|0;s=s+1|0;o[a>>2]=s;return}c[e+52>>2]=i;o[e+56>>2]=t;a=e+60|0;s=o[a>>2]|0;s=s+1|0;o[a>>2]=s;return}function dl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0;LF[o[(o[t>>2]|0)+68>>2]&127](e,t,i);if(!(+nF[o[(o[t>>2]|0)+48>>2]&15](t)!=0.0))return;s=+c[i>>2];n=+c[i+4>>2];r=+c[i+8>>2];l=s*s+n*n+r*r<1.4210854715202004e-14?-1.0:s;a=s*s+n*n+r*r<1.4210854715202004e-14?-1.0:n;r=s*s+n*n+r*r<1.4210854715202004e-14?-1.0:r;n=1.0/+v(+(r*r+(l*l+a*a)));s=+nF[o[(o[t>>2]|0)+48>>2]&15](t);c[e>>2]=+c[e>>2]+s*(l*n);c[e+4>>2]=+c[e+4>>2]+s*(a*n);c[e+8>>2]=+c[e+8>>2]+s*(r*n);return}function hl(e,t,i){e=e|0;t=t|0;i=+i;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;n[e+171>>0]=0;o[e+60>>2]=o[t>>2];o[e+60+4>>2]=o[t+4>>2];o[e+60+8>>2]=o[t+8>>2];o[e+60+12>>2]=o[t+12>>2];r=+c[e+60>>2];s=+c[e+64>>2];l=+c[e+68>>2];a=1.0/+v(+(r*r+s*s+l*l));if(+v(+(l*a*(l*a)+(r*a*(r*a)+s*a*(s*a))))<1.1920928955078125e-07){_=0.0;s=0.0;r=0.0;t=0}else{_=r*a;s=s*a;r=l*a;t=o[e+72>>2]|0}c[e+76>>2]=_;c[e+80>>2]=s;c[e+84>>2]=r;o[e+88>>2]=t;c[e+172>>2]=+c[e+172>>2]+i;return}function pl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;e:do{if(i>>>0>=3){if((i+-3|0)>>>0<3)switch(t|0){case 2:{n=+c[e+868+(i+-3<<6)+32>>2];break e}case 4:{n=+c[e+868+(i+-3<<6)+36>>2];break e}case 3:{n=+c[e+868+(i+-3<<6)+28>>2];break e}default:{n=0.0;break e}}else n=0.0}else switch(t|0){case 2:{n=+c[e+756+(i<<2)>>2];break e}case 4:{n=+c[e+772+(i<<2)>>2];break e}case 3:{n=+c[e+740+(i<<2)>>2];break e}default:{n=0.0;break e}}}while(0);return+n}function bl(e){e=e|0;var t=0,i=0,n=0,r=0.0,s=0,a=0,c=0;n=ae;ae=ae+16|0;t=o[e+8>>2]|0;i=o[e+8+4>>2]|0;if((i|0)>-1|(i|0)==-1&t>>>0>4294967295){r=(+(t>>>0)+4294967296.0*+(i>>>0))*18446744073709551616.0+(+((o[e>>2]|0)>>>0)+4294967296.0*+((o[e+4>>2]|0)>>>0));ae=n;return+r}else{c=o[e>>2]|0;e=o[e+4>>2]|0;a=vy(0,0,c|0,e|0)|0;s=D()|0;i=Uy((c|0)==0&(e|0)==0&1|0,0,~t|0,~i|0)|0;e=D()|0;o[n>>2]=a;o[n+4>>2]=s;o[n+8>>2]=i;o[n+8+4>>2]=e;r=-+bl(n);ae=n;return+r}return 0.0}function ml(e,t,i,r,s){e=e|0;t=+t;i=i|0;r=r|0;s=s|0;c[e>>2]=t;o[e+4>>2]=i;o[e+72>>2]=r;o[e+76>>2]=o[s>>2];o[e+76+4>>2]=o[s+4>>2];o[e+76+8>>2]=o[s+8>>2];o[e+76+12>>2]=o[s+12>>2];c[e+92>>2]=0.0;c[e+96>>2]=0.0;c[e+100>>2]=.5;c[e+104>>2]=0.0;c[e+108>>2]=0.0;c[e+112>>2]=.800000011920929;c[e+116>>2]=1.0;n[e+120>>0]=0;c[e+124>>2]=.004999999888241291;c[e+128>>2]=.009999999776482582;c[e+132>>2]=.009999999776482582;c[e+136>>2]=.009999999776482582;Rp(e+8|0);return}function Al(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0;e:do{if(!(gA(e,o[t+8>>2]|0,0)|0)){s=o[e+12>>2]|0;rf(e+16|0,t,i,r);if((s|0)>1){a=e+24|0;do{rf(a,t,i,r);if(n[t+54>>0]|0)break e;a=a+8|0}while(a>>>0<(e+16+(s<<3)|0)>>>0)}}else gu(t,i,r)}while(0);return}function gl(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;do{if(!(gA(e,o[t+8>>2]|0,s)|0)){if(gA(e,o[t>>2]|0,s)|0){if((o[t+16>>2]|0)!=(i|0)?(o[t+20>>2]|0)!=(i|0):0){o[t+32>>2]=r;o[t+20>>2]=i;o[t+40>>2]=(o[t+40>>2]|0)+1;if((o[t+36>>2]|0)==1?(o[t+24>>2]|0)==2:0)n[t+54>>0]=1;o[t+44>>2]=4;break}if((r|0)==1)o[t+32>>2]=1}}else Bb(t,i,r)}while(0);return}function yl(e,t,i){e=e|0;t=t|0;i=i|0;e=Ww(152)|0;o[e>>2]=5932;n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;n[e+40>>0]=1;o[e+36>>2]=0;o[e+28>>2]=0;o[e+32>>2]=0;n[e+60>>0]=1;o[e+56>>2]=0;o[e+48>>2]=0;o[e+52>>2]=0;n[e+80>>0]=1;o[e+76>>2]=0;o[e+68>>2]=0;o[e+72>>2]=0;o[e+100>>2]=i;c[e+104>>2]=0.0;n[e+148>>0]=1;o[e+144>>2]=0;o[e+136>>2]=0;o[e+140>>2]=0;o[e+116>>2]=t;o[e+120>>2]=0;o[e+124>>2]=2;o[e+128>>2]=1;c[e+112>>2]=0.0;c[e+108>>2]=0.0;return e|0}function vl(e){e=e|0;var t=0,i=0,r=0;i=Ww(5260)|0;o[i>>2]=6244;o[i+4>>2]=2;n[i+24>>0]=1;o[i+20>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+28>>2]=6716;o[i+5256>>2]=e;o[i+60>>2]=81;o[i+64>>2]=dF[o[(o[e>>2]|0)+12>>2]&127](e)|0;o[i+68>>2]=dF[o[(o[e>>2]|0)+8>>2]&127](e)|0;e=0;do{t=0;do{r=o[i+5256>>2]|0;o[i+72+(e*144|0)+(t<<2)>>2]=mF[o[(o[r>>2]|0)+16>>2]&63](r,e,t)|0;t=t+1|0}while(t>>>0<36);e=e+1|0}while(e>>>0<36);return i|0}function Cl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];o[t+52>>2]=o[e+52>>2];return 20610}function El(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+32|0;if(!(+c[e+344>>2]!=0.0)){ae=n;return}Ff(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);if(!(JL(e+544|0)|0)){ae=n;return}Sh(n,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[e+348>>2],+c[e+352>>2],+c[e+356>>2]);kd(n+16|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[n>>2],+c[n+4>>2],+c[n+8>>2]);Nf(e,+c[n+16>>2],+c[n+16+4>>2],+c[n+16+8>>2]);ae=n;return}function Sl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];o[t+52>>2]=o[e+52>>2];return 20154}function Tl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];o[t+52>>2]=o[e+68>>2];return 19063}function Rl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;n[e+53>>0]=1;do{if((o[e+4>>2]|0)==(i|0)){n[e+52>>0]=1;i=o[e+16>>2]|0;if(!i){o[e+16>>2]=t;o[e+24>>2]=r;o[e+36>>2]=1;if(!((r|0)==1?(o[e+48>>2]|0)==1:0))break;n[e+54>>0]=1;break}if((i|0)!=(t|0)){o[e+36>>2]=(o[e+36>>2]|0)+1;n[e+54>>0]=1;break}i=o[e+24>>2]|0;if((i|0)==2){o[e+24>>2]=r;i=r}if((i|0)==1?(o[e+48>>2]|0)==1:0)n[e+54>>0]=1}}while(0);return}function Ml(e,t,i){e=e|0;t=+t;i=i|0;var n=0,r=0.0,s=0.0,a=0.0,l=0,_=0;n=ae;ae=ae+16|0;l=o[e+52>>2]|0;_=o[e+28+(((l+2|0)%3|0)<<2)>>2]|0;o[n>>2]=_;o[n+4>>2]=_;o[n+8>>2]=_;c[n+12>>2]=0.0;c[n+(l<<2)>>2]=+c[e+28+(l<<2)>>2]+ +c[n+(l<<2)>>2];s=(+c[n>>2]+.03999999910593033)*2.0;r=(+c[n+4>>2]+.03999999910593033)*2.0;a=(+c[n+8>>2]+.03999999910593033)*2.0;c[i>>2]=t*.0833333283662796*(r*r+a*a);c[i+4>>2]=t*.0833333283662796*(s*s+a*a);c[i+8>>2]=t*.0833333283662796*(s*s+r*r);ae=n;return}function Ol(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,o=0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0,f=0;if((n|0)<=0)return;f=0;do{l=+c[e+32>>2];r=+c[e+28>>2];o=t+(f<<4)|0;s=+c[t+(f<<4)+4>>2];_=+c[t+(f<<4)+8>>2];u=+v(+(s*s+_*_));if(u!=0.0){a=+c[o>>2]<0.0?-r:r;s=s*(l/u);r=_*(l/u)}else{a=+c[o>>2]<0.0?-r:r;s=l;r=0.0}c[i+(f<<4)>>2]=a;c[i+(f<<4)+4>>2]=s;c[i+(f<<4)+8>>2]=r;f=f+1|0}while((f|0)!=(n|0));return}function Il(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0;if((n|0)<=0)return;u=0;do{s=+c[e+28>>2];r=+c[e+36>>2];o=+c[t+(u<<4)>>2];a=+c[t+(u<<4)+4>>2];l=+v(+(o*o+a*a));if(l!=0.0){_=+c[t+(u<<4)+8>>2]<0.0?-r:r;o=o*(s/l);r=a*(s/l)}else{_=+c[t+(u<<4)+8>>2]<0.0?-r:r;o=s;r=0.0}c[i+(u<<4)>>2]=o;c[i+(u<<4)+4>>2]=r;c[i+(u<<4)+8>>2]=_;u=u+1|0}while((u|0)!=(n|0));return}function xl(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,_=0;l=o[t>>2]|0;if(!n)n=o[e+188>>2]|0;a=o[e+268>>2]|0;if((a|0)<=0)return;c=o[e+276>>2]|0;r=0;while(1){s=c+(r<<2)|0;if((o[s>>2]|0)==(l|0))break;r=r+1|0;if((r|0)>=(a|0)){_=9;break}}if((_|0)==9)return;if((r|0)>=(a|0))return;o[s>>2]=o[c+(a+-1<<2)>>2];o[e+268>>2]=a+-1;_=o[e+284>>2]|0;AF[o[(o[_>>2]|0)+12>>2]&31](_,n,t,i)|0;return}function Pl(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0;if((n|0)<=0)return;u=0;do{s=+c[e+28>>2];r=+c[e+32>>2];o=+c[t+(u<<4)>>2];a=+c[t+(u<<4)+8>>2];l=+v(+(o*o+a*a));if(l!=0.0){_=+c[t+(u<<4)+4>>2]<0.0?-r:r;o=o*(s/l);r=a*(s/l)}else{_=+c[t+(u<<4)+4>>2]<0.0?-r:r;o=s;r=0.0}c[i+(u<<4)>>2]=o;c[i+(u<<4)+4>>2]=_;c[i+(u<<4)+8>>2]=r;u=u+1|0}while((u|0)!=(n|0));return}function Dl(e,t){e=e|0;t=t|0;var i=0;i=Lm()|0;o[i+8>>2]=0;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;o[i+52>>2]=0;o[i+56>>2]=1065353216;o[i+60>>2]=1065353216;o[i+64>>2]=1065353216;c[i+68>>2]=0.0;o[i+72>>2]=-1082130432;o[i+76>>2]=-1082130432;o[i+80>>2]=-1082130432;c[i+84>>2]=0.0;n[i+88>>0]=0;o[i>>2]=9004;o[i+92>>2]=e;o[i+4>>2]=3;if(!t)return i|0;xa(i);return i|0}function wl(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;n=ae;ae=ae+32|0;i=o[e+216>>2]|0;if(+c[i+4>>2]==0.0){e=0;ae=n;return e|0}t=o[t>>2]|0;if(!(pF[o[(o[i>>2]|0)+8>>2]&31](i,o[t+188>>2]|0)|0)){e=1;ae=n;return e|0}r=o[t+192>>2]|0;i=o[e+216>>2]|0;o[n>>2]=0;o[n+4>>2]=r;o[n+8>>2]=t;o[n+12>>2]=t+4;o[n+16>>2]=-1;o[n+20>>2]=-1;as(e+68|0,e+132|0,n,i);e=1;ae=n;return e|0}function Ll(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0;a=cm()|0;$r(a,e,t,i,r,s);o[a>>2]=5548;o[a+4>>2]=9;n[a+1309>>0]=0;n[a+1309+1>>0]=0;n[a+1309+2>>0]=0;n[a+1309+3>>0]=0;n[a+1309+4>>0]=0;n[a+1309+5>>0]=0;i=a+1316|0;r=i+48|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(r|0));c[a+1364>>2]=1.0;c[a+1368>>2]=1.0;c[a+1372>>2]=1.0;c[a+1376>>2]=1.0;c[a+1380>>2]=1.0;c[a+1384>>2]=1.0;return a|0}function Fl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+28>>2]=o[e+28>>2];o[t+32>>2]=o[e+32>>2];o[t+36>>2]=o[e+36>>2];o[t+40>>2]=o[e+40>>2];o[t+12>>2]=o[e+12>>2];o[t+16>>2]=o[e+16>>2];o[t+20>>2]=o[e+20>>2];o[t+24>>2]=o[e+24>>2];o[t+44>>2]=o[e+44>>2];return 13704}function Nl(e,t){e=e|0;t=t|0;var i=0.0,r=0.0,s=0.0,a=0.0,l=0.0;n[e+171>>0]=1;o[e+60>>2]=o[t>>2];o[e+60+4>>2]=o[t+4>>2];o[e+60+8>>2]=o[t+8>>2];o[e+60+12>>2]=o[t+12>>2];i=+c[e+60>>2];r=+c[e+64>>2];a=+c[e+68>>2];s=1.0/+v(+(i*i+r*r+a*a));if(+v(+(a*s*(a*s)+(i*s*(i*s)+r*s*(r*s))))<1.1920928955078125e-07){l=0.0;r=0.0;i=0.0;t=0}else{l=i*s;r=r*s;i=a*s;t=o[e+72>>2]|0}c[e+76>>2]=l;c[e+80>>2]=r;c[e+84>>2]=i;o[e+88>>2]=t;return}function Bl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];o[t+12>>2]=o[e+68>>2];o[t+16>>2]=o[e+72>>2];o[t+20>>2]=o[e+76>>2];o[t+24>>2]=o[e+80>>2];o[t+28>>2]=o[e+48>>2];o[t+32>>2]=o[e+52>>2];o[t+36>>2]=o[e+56>>2];o[t+40>>2]=o[e+60>>2];o[t+44>>2]=o[e+64>>2];return 19816}function kl(){var e=0,t=0.0,i=0.0;e=ae;ae=ae+16|0;if((n[24944]|0)==0?PM(24944)|0:0){o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;vt(25640,0.0,0,0,e);GR(24944)}o[6461]=o[6461]|1;c[6496]=0.0;t=+c[6506]*0.0;i=+c[6507]*0.0;c[6501]=+c[6505]*0.0;c[6502]=t;c[6503]=i;c[6504]=0.0;o[6509]=0;o[6510]=0;o[6511]=0;o[6512]=0;i=+c[6498]*0.0;t=+c[6499]*0.0;c[6550]=+c[6497]*0.0;c[6551]=i;c[6552]=t;c[6553]=0.0;ae=e;return}function Ul(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0,s=0,a=0,l=0;l=o[e+68>>2]|0;a=o[e+64>>2]|0;s=o[e+72>>2]|0;n=+c[e+60>>2]*(+c[t+(l<<2)>>2]/+c[e+12+(l<<2)>>2]);c[e+60>>2]=n;r=+c[e+56>>2]*((+c[t+(a<<2)>>2]/+c[e+12+(a<<2)>>2]+ +c[t+(s<<2)>>2]/+c[e+12+(s<<2)>>2])*.5);c[e+56>>2]=r;c[e+52>>2]=r/+v(+(n*n+r*r));r=+y(+ +c[t>>2]);n=+y(+ +c[t+4>>2]);i=+y(+ +c[t+8>>2]);c[e+12>>2]=r;c[e+16>>2]=n;c[e+20>>2]=i;c[e+24>>2]=0.0;return}function Hl(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=ae;ae=ae+48|0;o[r+32>>2]=10252;o[r+32+4>>2]=n;o[r>>2]=o[t>>2];o[r+4>>2]=o[t+4>>2];o[r+8>>2]=o[t+8>>2];o[r+12>>2]=o[t+12>>2];o[r+16>>2]=o[i>>2];o[r+16+4>>2]=o[i+4>>2];o[r+16+8>>2]=o[i+8>>2];o[r+16+12>>2]=o[i+12>>2];vo(o[e+4>>2]|0,r,r+32|0);vo(o[e+64>>2]|0,r,r+32|0);ae=r;return}function jl(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0,o=0.0,s=0.0,a=0.0;r=ae;ae=ae+48|0;o=+jL(t);s=+jL(i);a=+jL(n);t=+HL(t);i=+HL(i);n=+HL(n);c[r+32>>2]=s*a;c[r+28>>2]=i*(t*a)-o*n;c[r+24>>2]=i*(o*a)+t*n;c[r+20>>2]=s*n;c[r+16>>2]=i*(t*n)+o*a;c[r+12>>2]=i*(o*n)-t*a;c[r+8>>2]=-i;c[r+4>>2]=s*t;c[r>>2]=s*o;Vd(e,r+32|0,r+28|0,r+24|0,r+20|0,r+16|0,r+12|0,r+8|0,r+4|0,r);ae=r;return}function Vl(e,t){e=e|0;t=+t;var i=0,r=0.0,s=0;t=1.0/+c[(o[e+116>>2]|0)+344>>2];if((o[e+136>>2]|0)<=0)return;s=0;do{i=o[e+144>>2]|0;if(!(n[i+(s*284|0)+84>>0]|0))r=0.0;else{r=+c[i+(s*284|0)+272>>2];r=t*(+c[i+(s*284|0)+216>>2]*(+c[i+(s*284|0)+204>>2]-+c[i+(s*284|0)+32>>2])*+c[i+(s*284|0)+268>>2]-r*+c[(r<0.0?i+(s*284|0)+220|0:i+(s*284|0)+224|0)>>2]);r=r<0.0?0.0:r}c[i+(s*284|0)+276>>2]=r;s=s+1|0}while((s|0)<(o[e+136>>2]|0));return}function Gl(e,t,i,n,s,c){e=e|0;t=t|0;i=i|0;n=n|0;s=s|0;c=c|0;var l=0;l=o[e+108>>2]|0;if(l|0){GF[o[(o[l>>2]|0)+24>>2]&7](l,t,i,n,s,c);return}l=r[e+56>>1]|0;if(!(l<<16>>16))return;s=1;t=1;do{c=o[e+68>>2]|0;if(r[c+(s<<2)>>1]&1){pF[o[(o[n>>2]|0)+8>>2]&31](n,(o[e+60>>2]|0)+((a[c+(s<<2)+2>>1]|0)<<6)|0)|0;l=r[e+56>>1]|0}t=t+1<<16>>16;s=t&65535}while(((l&65535)<<1|1)>>>0>s>>>0);return}function Wl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,80)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=6620;n[e+8>>0]=1;o[e+12>>2]=6668;o[e+60>>2]=t;o[e+64>>2]=0;o[e+16>>2]=r;o[e+20>>2]=i;t=mF[o[(o[t>>2]|0)+12>>2]&63](t,o[r+8>>2]|0,o[i+8>>2]|0)|0;o[e+76>>2]=t;r=o[e+60>>2]|0;xF[o[(o[r>>2]|0)+20>>2]&127](r,t);return e|0}function Xl(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0.0;n=+c[e+28>>2];a=+c[e+32>>2];s=+c[e+36>>2];switch(i|0){case 0:{e=0;i=0;r=1065353216;break}case 1:{e=0;i=0;r=-1082130432;break}case 2:{e=0;i=1065353216;r=0;n=a;break}case 3:{e=0;i=-1082130432;r=0;n=a;break}case 4:{e=1065353216;i=0;r=0;n=s;break}case 5:{e=-1082130432;i=0;r=0;n=s;break}default:return}o[t>>2]=r;o[t+4>>2]=i;o[t+8>>2]=e;c[t+12>>2]=-n;return}function zl(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,80)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=6620;n[e+8>>0]=0;o[e+12>>2]=6668;o[e+60>>2]=t;o[e+64>>2]=0;o[e+16>>2]=i;o[e+20>>2]=r;t=mF[o[(o[t>>2]|0)+12>>2]&63](t,o[i+8>>2]|0,o[r+8>>2]|0)|0;o[e+76>>2]=t;r=o[e+60>>2]|0;xF[o[(o[r>>2]|0)+20>>2]&127](r,t);return e|0}function Yl(e){e=e|0;var t=0;o[e>>2]=7784;t=o[e+120>>2]|0;if(t|0){if(n[e+124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+120>>2]=0}n[e+124>>0]=1;o[e+120>>2]=0;o[e+112>>2]=0;o[e+116>>2]=0;t=o[e+100>>2]|0;if(!t){n[e+104>>0]=1;o[e+100>>2]=0;o[e+92>>2]=0;e=e+96|0;o[e>>2]=0;return}if(n[e+104>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+100>>2]=0;n[e+104>>0]=1;o[e+100>>2]=0;o[e+92>>2]=0;e=e+96|0;o[e>>2]=0;return}function Ql(e){e=e|0;var t=0;o[e>>2]=6200;t=o[e+284>>2]|0;SF[o[o[t>>2]>>2]&511](t);t=o[e+284>>2]|0;if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e>>2]=6156;t=o[e+276>>2]|0;if(!t){n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;t=e+272|0;o[t>>2]=0;o[e>>2]=6120;return}if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+276>>2]=0;n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;t=e+272|0;o[t>>2]=0;o[e>>2]=6120;return}function Kl(e){e=e|0;var t=0,i=0,n=0,r=0.0,s=0.0;n=o[e+232>>2]|0;if((n|0)<=0)return;e=o[e+240>>2]|0;i=0;do{t=o[e+(i<<2)>>2]|0;switch(o[t+216>>2]|0){case 2:case 5:break;default:if(!(o[t+204>>2]&3)){s=+c[t+368>>2]*+c[t+352>>2];r=+c[t+372>>2]*+c[t+356>>2];c[t+412>>2]=+c[t+364>>2]*+c[t+348>>2]+ +c[t+412>>2];c[t+416>>2]=s+ +c[t+416>>2];c[t+420>>2]=r+ +c[t+420>>2]}}i=i+1|0}while((i|0)!=(n|0));return}function Zl(e,t){e=e|0;t=t|0;var i=0,n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0,_=0.0,u=0.0;i=ae;ae=ae+16|0;u=+c[e+12>>2];a=+c[(JL(t)|0)>>2];l=+c[e>>2];_=+c[t+12>>2];s=+c[e+4>>2];n=+c[(IL(t)|0)>>2];r=+c[e+8>>2];o=+c[(xL(t)|0)>>2];c[i+12>>2]=u*a+l*_+s*n-r*o;c[i+8>>2]=u*o+s*_+r*a-l*n;c[i+4>>2]=u*n+r*_+l*o-s*a;c[i>>2]=u*_-l*a-s*o-r*n;Mb(e,i+12|0,i+8|0,i+4|0,i);ae=i;return e|0}function Jl(e){e=e|0;var t=0;t=Lm()|0;o[t+8>>2]=0;o[t+12>>2]=1065353216;o[t+16>>2]=1065353216;o[t+20>>2]=1065353216;c[t+24>>2]=0.0;c[t+44>>2]=.03999999910593033;o[t+52>>2]=0;o[t+56>>2]=1065353216;o[t+60>>2]=1065353216;o[t+64>>2]=1065353216;c[t+68>>2]=0.0;o[t+72>>2]=-1082130432;o[t+76>>2]=-1082130432;o[t+80>>2]=-1082130432;c[t+84>>2]=0.0;n[t+88>>0]=0;o[t>>2]=9004;o[t+92>>2]=e;o[t+4>>2]=3;xa(t);return t|0}function ql(e,t){e=e|0;t=+t;var i=0.0,n=0.0,r=0.0,s=0.0,a=0.0;s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);n=+nF[o[(o[e>>2]|0)+48>>2]&15](e);a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);s=s+ +c[e+28>>2];n=n+ +c[e+32>>2];a=a+ +c[e+36>>2];c[e+44>>2]=t;r=+nF[o[(o[e>>2]|0)+48>>2]&15](e);i=+nF[o[(o[e>>2]|0)+48>>2]&15](e);t=a-+nF[o[(o[e>>2]|0)+48>>2]&15](e);c[e+28>>2]=s-r;c[e+32>>2]=n-i;c[e+36>>2]=t;c[e+40>>2]=0.0;return}function $l(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;r=cm()|0;Ir(r,e,t,i);o[r>>2]=5548;o[r+4>>2]=9;n[r+1309>>0]=0;n[r+1309+1>>0]=0;n[r+1309+2>>0]=0;n[r+1309+3>>0]=0;n[r+1309+4>>0]=0;n[r+1309+5>>0]=0;i=r+1316|0;e=i+48|0;do{o[i>>2]=0;i=i+4|0}while((i|0)<(e|0));c[r+1364>>2]=1.0;c[r+1368>>2]=1.0;c[r+1372>>2]=1.0;c[r+1376>>2]=1.0;c[r+1380>>2]=1.0;c[r+1384>>2]=1.0;return r|0}function e_(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0;s=(n[e+16>>0]|0)==0;a=o[(s?t:i)+8>>2]|0;i=s?i:t;s=o[i+8>>2]|0;e=o[a+268>>2]|0;e:do{if((e|0)>0){t=o[a+276>>2]|0;r=0;while(1){if((o[t+(r<<2)>>2]|0)==(s|0))break;r=r+1|0;if((r|0)>=(e|0))break e}if((r|0)!=(e|0))return}}while(0);t=o[a+284>>2]|0;LF[o[(o[t>>2]|0)+36>>2]&127](t,a,i);return}function t_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,16)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=6688;n[e+8>>0]=0;o[e+12>>2]=0;if(!(mF[o[(o[t>>2]|0)+24>>2]&63](t,o[i+8>>2]|0,o[r+8>>2]|0)|0))return e|0;t=o[e+4>>2]|0;o[e+12>>2]=mF[o[(o[t>>2]|0)+12>>2]&63](t,o[i+8>>2]|0,o[r+8>>2]|0)|0;n[e+8>>0]=1;return e|0}function i_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0.0,s=0.0,a=0.0,l=0.0,_=0.0;a=+nF[o[(o[e>>2]|0)+48>>2]&15](e);s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);r=+nF[o[(o[e>>2]|0)+48>>2]&15](e);_=+c[t+52>>2]-s;l=+c[t+56>>2]-r;c[i>>2]=+c[t+48>>2]-a;c[i+4>>2]=_;c[i+8>>2]=l;c[i+12>>2]=0.0;s=s+ +c[t+52>>2];r=r+ +c[t+56>>2];c[n>>2]=a+ +c[t+48>>2];c[n+4>>2]=s;c[n+8>>2]=r;c[n+12>>2]=0.0;return}function n_(e,t){e=e|0;t=t|0;var i=0;n[e+148>>0]=0;e:do{if(yr(e,t)|0){i=0;while(1){n[e+148>>0]=1;if(i>>>0>3)break e;if(yr(e,t)|0)i=i+1|0;else break}}}while(0);i=(o[e+8>>2]|0)+52|0;o[e+92>>2]=o[i>>2];o[e+92+4>>2]=o[i+4>>2];o[e+92+8>>2]=o[i+8>>2];o[e+92+12>>2]=o[i+12>>2];hh(e+112|0,i|0,16)|0;return}function r_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0;s=o[e+720>>2]|0;a=o[e+732>>2]|0;if((a|0)<=0){i=0;return i|0}e=o[e+740>>2]|0;r=0;while(1){n=o[e+(r*52|0)+8>>2]|0;if((n|0)==(s+(t*104|0)|0)?(o[e+(r*52|0)+12>>2]|0)==(s+(i*104|0)|0):0){e=1;n=8;break}if((n|0)==(s+(i*104|0)|0)?(o[e+(r*52|0)+12>>2]|0)==(s+(t*104|0)|0):0){e=1;n=8;break}r=r+1|0;if((r|0)>=(a|0)){e=0;n=8;break}}if((n|0)==8)return e|0;return 0}function o_(e){e=e|0;var t=0,i=0,n=0.0,r=0.0;if((o[e+136>>2]|0)<=0)return;t=0;do{i=o[e+144>>2]|0;o[i+(t*284|0)+32>>2]=o[i+(t*284|0)+204>>2];c[i+(t*284|0)+272>>2]=0.0;r=-+c[i+(t*284|0)+56>>2];n=-+c[i+(t*284|0)+60>>2];c[i+(t*284|0)>>2]=-+c[i+(t*284|0)+52>>2];c[i+(t*284|0)+4>>2]=r;c[i+(t*284|0)+8>>2]=n;c[i+(t*284|0)+12>>2]=0.0;c[i+(t*284|0)+268>>2]=1.0;t=t+1|0}while((t|0)<(o[e+136>>2]|0));return}function s_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0;l=+c[i>>2];a=+c[i+4>>2];n=+c[i+8>>2];r=l*+c[t+56>>2]+a*+c[t+60>>2]+n*+c[t+64>>2];s=l*+c[t+72>>2]+a*+c[t+76>>2]+n*+c[t+80>>2];n=l*+c[t+88>>2]+a*+c[t+92>>2]+n*+c[t+96>>2];t=t+56+((r<s?s<n?2:1:r<n?2:0)<<4)|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];return}function a_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0;s=o[t>>2]|0;s=pF[o[(o[s>>2]|0)+56>>2]&31](s,20)|0;a=o[t+4>>2]|0;e=n[e+4>>0]|0;t=o[t>>2]|0;o[s+4>>2]=t;o[s>>2]=7116;n[s+8>>0]=0;o[s+12>>2]=a;n[s+16>>0]=e;if(a|0)return s|0;o[s+12>>2]=mF[o[(o[t>>2]|0)+12>>2]&63](t,o[i+8>>2]|0,o[r+8>>2]|0)|0;n[s+8>>0]=1;return s|0}function c_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,44)|0;o[e+4>>2]=o[t>>2];o[e>>2]=7276;n[e+24>>0]=1;o[e+20>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;n[e+28>>0]=1;o[e+32>>2]=o[t+4>>2];n[e+36>>0]=0;o[e+40>>2]=o[(o[r+4>>2]|0)+68>>2];pi(e,i,r);return e|0}function l_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0,s=0.0,a=0.0,l=0.0,_=0.0;_=+c[e+28>>2];a=+c[e+32>>2];n=+c[e+36>>2];l=+nF[o[(o[e>>2]|0)+48>>2]&15](e);s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);n=n+ +nF[o[(o[e>>2]|0)+48>>2]&15](e);r=(1?t>>>1:t)&1;e=(2?t>>>2:t)&1;c[i>>2]=(_+l)*+(t&1^1|0)-(_+l)*+(t&1|0);c[i+4>>2]=(a+s)*+(r^1|0)-(a+s)*+(r|0);c[i+8>>2]=n*+(e^1|0)-n*+(e|0);c[i+12>>2]=0.0;return}function __(e,t,i){e=e|0;t=+t;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0;a=+c[e+28>>2];r=+c[e+32>>2];l=+c[e+36>>2];s=+nF[o[(o[e>>2]|0)+48>>2]&15](e);n=+nF[o[(o[e>>2]|0)+48>>2]&15](e);l=(l+ +nF[o[(o[e>>2]|0)+48>>2]&15](e))*2.0;c[i>>2]=t/12.0*((r+n)*2.0*((r+n)*2.0)+l*l);c[i+4>>2]=t/12.0*((a+s)*2.0*((a+s)*2.0)+l*l);c[i+8>>2]=t/12.0*((a+s)*2.0*((a+s)*2.0)+(r+n)*2.0*((r+n)*2.0));c[i+12>>2]=0.0;return}function u_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,44)|0;o[e+4>>2]=o[t>>2];o[e>>2]=7276;n[e+24>>0]=1;o[e+20>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;n[e+28>>0]=0;o[e+32>>2]=o[t+4>>2];n[e+36>>0]=0;o[e+40>>2]=o[(o[i+4>>2]|0)+68>>2];pi(e,i,r);return e|0}function f_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=ae;ae=ae+48|0;o[r>>2]=8240;o[r+4>>2]=t;o[r+8>>2]=o[i>>2];o[r+8+4>>2]=o[i+4>>2];o[r+8+8>>2]=o[i+8>>2];o[r+8+12>>2]=o[i+12>>2];o[r+24>>2]=o[n>>2];o[r+24+4>>2]=o[n+4>>2];o[r+24+8>>2]=o[n+8>>2];o[r+24+12>>2]=o[n+12>>2];e=o[e+48>>2]|0;BF[o[(o[e>>2]|0)+8>>2]&127](e,r,i,n);ae=r;return}function d_(e,t,i){e=e|0;t=t|0;i=i|0;lA(e);o[e>>2]=3616;xx(e+20|0);o[e+40>>2]=o[t>>2];o[e+40+4>>2]=o[t+4>>2];o[e+40+8>>2]=o[t+8>>2];o[e+40+12>>2]=o[t+12>>2];o[e+56>>2]=o[i>>2];o[e+56+4>>2]=o[i+4>>2];o[e+56+8>>2]=o[i+8>>2];o[e+56+12>>2]=o[i+12>>2];xx(e+72|0);xx(e+92|0);xx(e+112|0);return}function h_(e,t){e=e|0;t=+t;var i=0,n=0.0,r=0.0,s=0.0,a=0.0;i=Pm()|0;o[i+4>>2]=35;o[i+8>>2]=0;c[i+12>>2]=0.0;o[i>>2]=8260;a=+c[e>>2];s=+c[e+4>>2];r=+c[e+8>>2];e=o[e+12>>2]|0;n=1.0/+v(+(a*a+s*s+r*r));c[i+48>>2]=a*n;c[i+52>>2]=s*n;c[i+56>>2]=r*n;o[i+60>>2]=e;c[i+64>>2]=t;o[i+68>>2]=0;o[i+68+4>>2]=0;o[i+68+8>>2]=0;o[i+68+12>>2]=0;o[i+4>>2]=28;return i|0}function p_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,c=0;r=o[t>>2]|0;r=pF[o[(o[r>>2]|0)+56>>2]&31](r,36)|0;s=o[t+4>>2]|0;c=o[e+12>>2]|0;a=o[e+8>>2]|0;i=o[e+16>>2]|0;e=o[e+20>>2]|0;o[r+4>>2]=o[t>>2];o[r>>2]=7164;o[r+8>>2]=c;o[r+12>>2]=a;n[r+16>>0]=0;o[r+20>>2]=s;n[r+24>>0]=0;o[r+28>>2]=i;o[r+32>>2]=e;return r|0}function b_(e){e=e|0;var t=0;o[e>>2]=7784;t=o[e+120>>2]|0;if(t|0){if(n[e+124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+120>>2]=0}n[e+124>>0]=1;o[e+120>>2]=0;o[e+112>>2]=0;o[e+116>>2]=0;t=o[e+100>>2]|0;if(t|0){if(n[e+104>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+100>>2]=0}n[e+104>>0]=1;o[e+100>>2]=0;o[e+92>>2]=0;o[e+96>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function m_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+32|0;Lh(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);Sh(n,+c[t>>2],+c[t+4>>2],+c[t+8>>2],+c[e+348>>2],+c[e+352>>2],+c[e+356>>2]);kd(n+16|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2],+c[n>>2],+c[n+4>>2],+c[n+8>>2]);Uh(e,+c[n+16>>2],+c[n+16+4>>2],+c[n+16+8>>2]);ae=n;return}function A_(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+64|0;o[i>>2]=1065353216;o[i+4>>2]=0;o[i+4+4>>2]=0;o[i+4+8>>2]=0;o[i+4+12>>2]=0;o[i+20>>2]=1065353216;o[i+24>>2]=0;o[i+24+4>>2]=0;o[i+24+8>>2]=0;o[i+24+12>>2]=0;o[i+40>>2]=1065353216;o[i+44>>2]=0;o[i+48>>2]=o[t>>2];o[i+48+4>>2]=o[t+4>>2];o[i+48+8>>2]=o[t+8>>2];o[i+48+12>>2]=o[t+12>>2];nr(e,i);ae=i;return}function g_(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=+r;var o=0,s=0;o=ae;ae=ae+16|0;s=LD(t,0)|0;c[o+8>>2]=+RE(+c[s>>2],+c[s+4>>2],+c[s+8>>2],i,n,r);s=LD(t,1)|0;c[o+4>>2]=+RE(+c[s>>2],+c[s+4>>2],+c[s+8>>2],i,n,r);t=LD(t,2)|0;c[o>>2]=+RE(+c[t>>2],+c[t+4>>2],+c[t+8>>2],i,n,r);Am(e,o+8|0,o+4|0,o);ae=o;return}function y_(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,o=0,s=0;if(t>>>0>0|(t|0)==0&e>>>0>4294967295)do{r=e;e=LR(e|0,t|0,10,0)|0;o=t;t=D()|0;s=qb(e|0,t|0,-10,-1)|0;s=Uy(r|0,o|0,s|0,D()|0)|0;D()|0;i=i+-1|0;n[i>>0]=s&255|48}while(o>>>0>9|(o|0)==9&r>>>0>4294967295);if(e)do{s=e;e=(e>>>0)/10|0;i=i+-1|0;n[i>>0]=s+(O(e,-10)|0)|48}while(s>>>0>=10);return i|0}function v_(e,t){e=e|0;t=t|0;var i=0,r=0,s=0;if((t|0)==0?1:(o[t+236>>2]&2|0)==0){t=1;return t|0}s=o[e+488>>2]|0;if((s|0)<=0){t=1;return t|0}e=o[e+496>>2]|0;r=0;while(1){i=o[e+(r<<2)>>2]|0;if(n[i+20>>0]|0){if((o[i+28>>2]|0)==(t|0)){e=0;i=8;break}if((o[i+32>>2]|0)==(t|0)){e=0;i=8;break}}r=r+1|0;if((r|0)>=(s|0)){e=1;i=8;break}}if((i|0)==8)return e|0;return 0}function C_(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=+r;var o=0,s=0,a=0,l=0;o=ae;ae=ae+16|0;l=LD(t,0)|0;a=LD(t,1)|0;s=LD(t,2)|0;cu(o,i,n,r,+c[l>>2],+c[l+4>>2],+c[l+8>>2],+c[a>>2],+c[a+4>>2],+c[a+8>>2],+c[s>>2],+c[s+4>>2],+c[s+8>>2]);Eh(e,+c[o>>2],+c[o+4>>2],+c[o+8>>2],+c[t+48>>2],+c[t+52>>2],+c[t+56>>2]);ae=o;return}function E_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0.0,a=0.0,l=0.0;a=+c[t+28>>2];l=+c[t+32>>2];n=+c[t+36>>2];s=+nF[o[(o[t>>2]|0)+48>>2]&15](t);r=+nF[o[(o[t>>2]|0)+48>>2]&15](t);n=n+ +nF[o[(o[t>>2]|0)+48>>2]&15](t);r=+c[i+4>>2]>=0.0?l+r:-(l+r);n=+c[i+8>>2]>=0.0?n:-n;c[e>>2]=+c[i>>2]>=0.0?a+s:-(a+s);c[e+4>>2]=r;c[e+8>>2]=n;c[e+12>>2]=0.0;return}function S_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0.0,s=0.0,a=0.0;if((n|0)<=0)return;r=0;do{a=+c[e+28>>2];s=+c[e+32>>2];s=+c[t+(r<<4)+4>>2]>=0.0?s:-s;o=+c[e+36>>2];o=+c[t+(r<<4)+8>>2]>=0.0?o:-o;c[i+(r<<4)>>2]=+c[t+(r<<4)>>2]>=0.0?a:-a;c[i+(r<<4)+4>>2]=s;c[i+(r<<4)+8>>2]=o;c[i+(r<<4)+12>>2]=0.0;r=r+1|0}while((r|0)!=(n|0));return}function T_(e){e=e|0;var t=0,i=0;o[e>>2]=7404;t=o[e+64>>2]|0;if(t|0?(En(t),i=o[e+64>>2]|0,i|0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}t=o[e+24>>2]|0;if(!t){n[e+28>>0]=1;o[e+24>>2]=0;o[e+16>>2]=0;e=e+20|0;o[e>>2]=0;return}if(n[e+28>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+24>>2]=0;n[e+28>>0]=1;o[e+24>>2]=0;o[e+16>>2]=0;e=e+20|0;o[e>>2]=0;return}function R_(e,t,i,n,r,s,a,c,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;e=o[e+32>>2]|0;o[i>>2]=o[e+(_<<5)+12>>2];o[t>>2]=o[e+(_<<5)+16>>2];o[n>>2]=o[e+(_<<5)+28>>2];o[r>>2]=o[e+(_<<5)+20>>2];o[c>>2]=o[e+(_<<5)>>2];o[s>>2]=o[e+(_<<5)+4>>2];o[a>>2]=o[e+(_<<5)+8>>2];o[l>>2]=o[e+(_<<5)+24>>2];return}function M_(e){e=e|0;var t=0,i=0;o[e>>2]=8568;t=o[e+104>>2]|0;if(t|0){if(n[e+108>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+104>>2]=0}n[e+108>>0]=1;o[e+104>>2]=0;o[e+96>>2]=0;o[e+100>>2]=0;o[e>>2]=8336;t=o[e+52>>2]|0;if(t|0?(SF[o[o[t>>2]>>2]&511](t),i=o[e+52>>2]|0,i|0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function O_(e,t){e=+e;t=+t;var i=0;i=eA()|0;o[i+8>>2]=0;o[i>>2]=8468;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;c[i+56>>2]=e;c[i+60>>2]=t;o[i+4>>2]=11;c[i+52>>2]=e/+v(+(e*e+t*t));o[i>>2]=7584;o[i+64>>2]=0;o[i+68>>2]=2;o[i+72>>2]=1;c[i+28>>2]=e;c[i+36>>2]=t;c[i+32>>2]=e;return i|0}function I_(e,t){e=+e;t=+t;var i=0;i=eA()|0;o[i+8>>2]=0;o[i>>2]=8468;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;c[i+56>>2]=e;c[i+60>>2]=t;o[i+4>>2]=11;c[i+52>>2]=e/+v(+(e*e+t*t));o[i>>2]=7684;o[i+64>>2]=1;o[i+68>>2]=0;o[i+72>>2]=2;c[i+32>>2]=e;c[i+28>>2]=t;c[i+36>>2]=e;return i|0}function x_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;switch(t|0){case 0:{t=0;e=0;n=1065353216;break}case 1:{t=0;e=0;n=-1082130432;break}case 2:{t=0;e=1065353216;n=0;break}case 3:{t=0;e=-1082130432;n=0;break}case 4:{t=1065353216;e=0;n=0;break}case 5:{t=-1082130432;e=0;n=0;break}default:return}o[i>>2]=n;o[i+4>>2]=e;o[i+8>>2]=t;c[i+12>>2]=0.0;return}function P_(e,t){e=+e;t=t|0;var i=0,n=0,r=0;l[_>>3]=e;i=o[_>>2]|0;n=o[_+4>>2]|0;r=wA(i|0,n|0,52)|0;D()|0;switch(r&2047){case 0:{if(e!=0.0){e=+P_(e*18446744073709551616.0,t);i=(o[t>>2]|0)+-64|0}else i=0;o[t>>2]=i;break}case 2047:break;default:{o[t>>2]=(r&2047)+-1022;o[_>>2]=i;o[_+4>>2]=n&-2146435073|1071644672;e=+l[_>>3]}}return+e}function D_(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;o[e+4>>2]=o[t>>2];o[e+4+4>>2]=o[t+4>>2];o[e+4+8>>2]=o[t+8>>2];o[e+4+12>>2]=o[t+12>>2];o[e+20>>2]=o[i>>2];o[e+20+4>>2]=o[i+4>>2];o[e+20+8>>2]=o[i+8>>2];o[e+20+12>>2]=o[i+12>>2];c[e+36>>2]=r;n[e+40>>0]=1;return}function w_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;switch(o[e+96>>2]|0){case 0:{n=+c[(o[e+92>>2]|0)+((O(o[e+64>>2]|0,i)|0)+t<<2)>>2];return+n}case 5:{n=+(s[(o[e+92>>2]|0)+((O(o[e+64>>2]|0,i)|0)+t)>>0]|0)*+c[e+88>>2];return+n}case 3:{n=+(r[(o[e+92>>2]|0)+((O(o[e+64>>2]|0,i)|0)+t<<1)>>1]|0)*+c[e+88>>2];return+n}default:{n=0.0;return+n}}return 0.0}function L_(e,t){e=e|0;t=t|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+20>>2]=o[t+20>>2];o[e+24>>2]=o[t+24>>2];iu(e+28|0,t+28|0);o[e+76>>2]=o[t+76>>2];o[e+76+4>>2]=o[t+76+4>>2];o[e+76+8>>2]=o[t+76+8>>2];o[e+76+12>>2]=o[t+76+12>>2];o[e+76+16>>2]=o[t+76+16>>2];return}function F_(){var e=0;e=ae;ae=ae+48|0;if(n[24888]|0){ae=e;return}if(!(PM(24888)|0)){ae=e;return}c[e+32>>2]=1.0;c[e+28>>2]=0.0;c[e+24>>2]=0.0;c[e+20>>2]=0.0;c[e+16>>2]=1.0;c[e+12>>2]=0.0;c[e+8>>2]=0.0;c[e+4>>2]=0.0;c[e>>2]=1.0;np(25392,e+32|0,e+28|0,e+24|0,e+20|0,e+16|0,e+12|0,e+8|0,e+4|0,e);GR(24888);ae=e;return}function N_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0;if((o[e+8>>2]|0)<=0)return;n=0;do{r=o[e+16>>2]|0;s=r+(n<<4)|0;if(pF[o[(o[t>>2]|0)+8>>2]&31](t,s)|0){AF[o[(o[e>>2]|0)+12>>2]&31](e,o[s>>2]|0,o[r+(n<<4)+4>>2]|0,i)|0;o[6723]=(o[6723]|0)+-1}else n=n+1|0}while((n|0)<(o[e+8>>2]|0));return}function B_(e,t){e=e|0;t=t|0;var i=0.0,n=0;n=ae;ae=ae+32|0;i=+c[t+12>>2];if(1.0-i*i<1.1920928955078125e-06){c[n+20>>2]=1.0;c[n+16>>2]=0.0;c[n+12>>2]=0.0;Am(e,n+20|0,n+16|0,n+12|0);ae=n;return}else{i=1.0/+kL(1.0-i*i);c[n+8>>2]=+c[t>>2]*i;c[n+4>>2]=+c[t+4>>2]*i;c[n>>2]=+c[t+8>>2]*i;Am(e,n+8|0,n+4|0,n);ae=n;return}}function k_(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;i=ae;ae=ae+16|0;o[i>>2]=10288;o[i+4>>2]=n;Hr(e+4|0,o[e+4>>2]|0,t,n+4|0,n+20|0,+c[n+32>>2],r,s,i);Hr(e+64|0,o[e+64>>2]|0,t,n+4|0,n+20|0,+c[n+32>>2],r,s,i);ae=i;return}function U_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=JL(o[e+4>>2]|0)|0;if((r|0)>(t|0)){n=t;while(1){if((n|0)>=(r|0))break;ew((o[e+12>>2]|0)+(n*36|0)|0);n=n+1|0}o[e+4>>2]=t;return}if((r|0)<(t|0))Fu(e,t);n=r;while(1){if((n|0)>=(t|0))break;xp((o[e+12>>2]|0)+(n*36|0)|0,i);n=n+1|0}o[e+4>>2]=t;return}function H_(e){e=e|0;var t=0;o[e>>2]=8568;t=o[e+104>>2]|0;if(t|0){if(n[e+108>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+104>>2]=0}n[e+108>>0]=1;o[e+104>>2]=0;o[e+96>>2]=0;o[e+100>>2]=0;o[e>>2]=8336;t=o[e+52>>2]|0;if(!t)return;SF[o[o[t>>2]>>2]&511](t);t=o[e+52>>2]|0;if(!t)return;o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function j_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=JL(o[e+4>>2]|0)|0;if((n|0)>(t|0)){o[e+4>>2]=t;return}if((n|0)<(t|0))Xf(e,t);while(1){if((n|0)>=(t|0))break;r=JL((o[e+12>>2]|0)+(n<<4)|0)|0;o[r>>2]=o[i>>2];o[r+4>>2]=o[i+4>>2];o[r+8>>2]=o[i+8>>2];o[r+12>>2]=o[i+12>>2];n=n+1|0}o[e+4>>2]=t;return}function V_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0;n=JL(o[e+4>>2]|0)|0;if((n|0)>(t|0)){o[e+4>>2]=t;return}if((n|0)<(t|0))Ef(e,t);while(1){if((n|0)>=(t|0))break;r=(o[e+12>>2]|0)+(n*104|0)|0;s=i;a=r+104|0;do{o[r>>2]=o[s>>2];r=r+4|0;s=s+4|0}while((r|0)<(a|0));n=n+1|0}o[e+4>>2]=t;return}function G_(e,t){e=+e;t=+t;var i=0;i=eA()|0;o[i+8>>2]=0;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;o[i>>2]=7484;c[i+56>>2]=e;c[i+60>>2]=t;o[i+4>>2]=11;o[i+64>>2]=0;o[i+68>>2]=1;o[i+72>>2]=2;c[i+28>>2]=e;c[i+32>>2]=t;c[i+36>>2]=e;c[i+52>>2]=e/+v(+(e*e+t*t));return i|0}function W_(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0;n=ae;ae=ae+16|0;o[n>>2]=-1;o[n+4>>2]=o[e+16>>2];if(!(o[t+4>>2]|0))o[t+4>>2]=n;s=o[e+12>>2]|0;r=+sF[o[(o[s>>2]|0)+12>>2]&15](s,t,i);o[e+4>>2]=o[(o[e+12>>2]|0)+4>>2];ae=n;return+r}function X_(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;o[e+348>>2]=o[t>>2];o[e+348+4>>2]=o[t+4>>2];o[e+348+8>>2]=o[t+8>>2];o[e+348+12>>2]=o[t+12>>2];ep(i,+c[e+348>>2],+c[e+352>>2],+c[e+356>>2],+c[e+344>>2]);o[e+560>>2]=o[i>>2];o[e+560+4>>2]=o[i+4>>2];o[e+560+8>>2]=o[i+8>>2];o[e+560+12>>2]=o[i+12>>2];ae=i;return}function z_(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0;s=o[e+268>>2]|0;if((s|0)<=0)return;t=o[t>>2]|0;r=o[e+276>>2]|0;i=0;while(1){n=r+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(s|0)){a=7;break}}if((a|0)==7)return;if((i|0)>=(s|0))return;o[n>>2]=o[r+(s+-1<<2)>>2];o[e+268>>2]=s+-1;return}function Y_(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0,o=0.0,s=0.0,a=0.0;r=ae;ae=ae+16|0;o=+jL(t*.5);t=+HL(t*.5);s=+jL(i*.5);i=+HL(i*.5);a=+jL(n*.5);n=+HL(n*.5);c[r+12>>2]=n*s*o-a*i*t;c[r+8>>2]=a*i*o+n*s*t;c[r+4>>2]=a*s*t-n*i*o;c[r>>2]=a*s*o+n*i*t;Mb(e,r+12|0,r+8|0,r+4|0,r);ae=r;return}function Q_(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[e+4>>2]|0;n=JL(i)|0;if((n|0)==(JL(o[e+8>>2]|0)|0)){Xf(e,Ux(n)|0);i=o[e+4>>2]|0}n=JL((o[e+12>>2]|0)+(i<<4)|0)|0;o[n>>2]=o[t>>2];o[n+4>>2]=o[t+4>>2];o[n+8>>2]=o[t+8>>2];o[n+12>>2]=o[t+12>>2];o[e+4>>2]=(o[e+4>>2]|0)+1;return}function K_(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=+s;o[e>>2]=t;o[e+4>>2]=i;o[e+8>>2]=o[n>>2];o[e+8+4>>2]=o[n+4>>2];o[e+8+8>>2]=o[n+8>>2];o[e+8+12>>2]=o[n+12>>2];o[e+24>>2]=o[r>>2];o[e+24+4>>2]=o[r+4>>2];o[e+24+8>>2]=o[r+8>>2];o[e+24+12>>2]=o[r+12>>2];c[e+40>>2]=s;return}function Z_(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0,a=0;r=o[e+280>>2]|0;if((r|0)<=0)return;s=o[e+288>>2]|0;i=0;while(1){n=s+(i<<2)|0;if((o[n>>2]|0)==(t|0))break;i=i+1|0;if((i|0)>=(r|0)){a=7;break}}if((a|0)==7)return;if((i|0)>=(r|0))return;o[n>>2]=o[s+(r+-1<<2)>>2];o[(o[e+288>>2]|0)+(r+-1<<2)>>2]=t;o[e+280>>2]=r+-1;return}function J_(e){e=e|0;var t=0;t=ae;ae=ae+32|0;c[e>>2]=1.2000000476837158;c[e+4>>2]=0.0;c[e+8>>2]=0.0;c[e+12>>2]=1.0e3;c[t+20>>2]=0.0;c[t+16>>2]=0.0;c[t+12>>2]=0.0;Am(e+16|0,t+20|0,t+16|0,t+12|0);o[e+32>>2]=0;o[e+36>>2]=0;c[t+8>>2]=0.0;c[t+4>>2]=-10.0;c[t>>2]=0.0;Am(e+40|0,t+8|0,t+4|0,t);tw(e+56|0);ae=t;return}function q_(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;n=o[e+712>>2]|0;if((n|0)<=0)return;e=o[e+720>>2]|0;i=0;do{if(+c[e+(i*104|0)+88>>2]>0.0){r=e+(i*104|0)+56|0;c[r>>2]=+c[t>>2]+ +c[r>>2];r=e+(i*104|0)+60|0;c[r>>2]=+c[t+4>>2]+ +c[r>>2];r=e+(i*104|0)+64|0;c[r>>2]=+c[t+8>>2]+ +c[r>>2]}i=i+1|0}while((i|0)!=(n|0));return}function $_(e,t,i){e=e|0;t=t|0;i=+i;var n=0,r=0.0;n=ae;ae=ae+16|0;r=+KT(+c[t>>2],+c[t+4>>2],+c[t+8>>2]);r=+HL(i*.5)/r;c[n+12>>2]=+c[(JL(t)|0)>>2]*r;c[n+8>>2]=+c[(xL(t)|0)>>2]*r;c[n+4>>2]=+c[(IL(t)|0)>>2]*r;c[n>>2]=+jL(i*.5);Mb(e,n+12|0,n+8|0,n+4|0,n);ae=n;return}function eu(){var e=0,t=0,i=0;i=ae;ae=ae+16|0;n[i>>0]=10;e=o[832]|0;if(!e){if(!(ld(3312)|0)){e=o[832]|0;t=4}else e=-1}else t=4;do{if((t|0)==4){t=o[833]|0;if(!(t>>>0>=e>>>0|(n[3387]|0)==10)){o[833]=t+1;n[t>>0]=10;e=10;break}if((mF[o[3348>>2]&63](3312,i,1)|0)==1)e=s[i>>0]|0;else e=-1}}while(0);ae=i;return e|0}function tu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0.0,s=0;n=ae;ae=ae+16|0;o[n>>2]=-1;o[n+4>>2]=o[e+24>>2];if(!(o[t+4>>2]|0))o[t+4>>2]=n;s=o[e+20>>2]|0;r=+sF[o[(o[s>>2]|0)+12>>2]&15](s,t,i);o[e+4>>2]=o[(o[e+20>>2]|0)+4>>2];ae=n;return+r}function iu(e,t){e=e|0;t=t|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];o[e+16>>2]=o[t+16>>2];o[e+16+4>>2]=o[t+16+4>>2];o[e+16+8>>2]=o[t+16+8>>2];o[e+16+12>>2]=o[t+16+12>>2];o[e+32>>2]=o[t+32>>2];o[e+32+4>>2]=o[t+32+4>>2];o[e+32+8>>2]=o[t+32+8>>2];o[e+32+12>>2]=o[t+32+12>>2];return}function nu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;e:do{switch(t|0){case 2:case 1:{if(i>>>0<3){n=+c[e+600>>2];break e}if((i+-3|0)>>>0<3)n=+c[e+432>>2];else n=0.0;break}case 4:case 3:{if(i>>>0<3){n=+c[e+596>>2];break e}if((i+-3|0)>>>0<3)n=+c[e+604>>2];else n=0.0;break}default:n=0.0}}while(0);return+n}function ru(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,16)|0;t=o[t>>2]|0;o[e+4>>2]=t;o[e>>2]=10568;n[e+8>>0]=0;o[e+12>>2]=0;o[e+12>>2]=mF[o[(o[t>>2]|0)+12>>2]&63](t,o[i+8>>2]|0,o[r+8>>2]|0)|0;n[e+8>>0]=1;return e|0}function ou(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[e+56>>2]|0;if(!i)return;n=dF[o[(o[i>>2]|0)+8>>2]&127](i)|0;n=mF[o[(o[t>>2]|0)+16>>2]&63](t,n,1)|0;i=o[e+56>>2]|0;i=mF[o[(o[i>>2]|0)+12>>2]&63](i,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,i,1346456916,o[e+56>>2]|0);return}function su(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;switch(t|0){case 2:case 1:if(n>>>0<3){c[e+600>>2]=i;o[e+592>>2]=o[e+592>>2]|2;return}else{c[e+432>>2]=i;return}case 4:case 3:if(n>>>0<3){c[e+596>>2]=i;o[e+592>>2]=o[e+592>>2]|1;return}else{c[e+604>>2]=i;o[e+592>>2]=o[e+592>>2]|4;return}default:return}}function au(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[e+52>>2]|0;if(!i)return;n=dF[o[(o[i>>2]|0)+12>>2]&127](i)|0;n=mF[o[(o[t>>2]|0)+16>>2]&63](t,n,1)|0;i=o[e+52>>2]|0;i=mF[o[(o[i>>2]|0)+16>>2]&63](i,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,i,1213612625,o[e+52>>2]|0);return}function cu(e,t,i,n,r,o,s,a,l,_,u,f,d){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;a=+a;l=+l;_=+_;u=+u;f=+f;d=+d;var h=0;h=ae;ae=ae+16|0;c[h+8>>2]=+RE(t,i,n,r,o,s);c[h+4>>2]=+RE(t,i,n,a,l,_);c[h>>2]=+RE(t,i,n,u,f,d);Am(e,h+8|0,h+4|0,h);ae=h;return}function lu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0;l=+c[t+28>>2];n=+c[t+36>>2];r=+c[i>>2];s=+c[i+4>>2];a=+v(+(r*r+s*s));if(a!=0.0){o=+c[i+8>>2]<0.0?-n:n;r=r*(l/a);n=s*(l/a)}else{o=+c[i+8>>2]<0.0?-n:n;r=l;n=0.0}c[e>>2]=r;c[e+8>>2]=o;c[e+4>>2]=n;return}function _u(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0;l=+c[t+28>>2];n=+c[t+32>>2];r=+c[i>>2];s=+c[i+8>>2];a=+v(+(r*r+s*s));if(a!=0.0){o=+c[i+4>>2]<0.0?-n:n;r=r*(l/a);n=s*(l/a)}else{o=+c[i+4>>2]<0.0?-n:n;r=l;n=0.0}c[e>>2]=r;c[e+4>>2]=o;c[e+8>>2]=n;return}function uu(e,t,i){e=e|0;t=t|0;i=+i;var n=0.0,r=0.0,o=0.0,s=0.0;r=+c[e+28>>2];o=+c[e+32>>2];s=+c[e+36>>2];n=+c[t>>2];if(!(n<=r+i)){t=0;return t|0}if(!(n>=-r-i)){t=0;return t|0}n=+c[t+4>>2];if(!(n<=o+i)){t=0;return t|0}if(!(n>=-o-i)){t=0;return t|0}n=+c[t+8>>2];if(!(n<=s+i)){t=0;return t|0}t=n>=-s-i;return t|0}function fu(e,t,i){e=e|0;t=t|0;i=i|0;Qy(e);o[e>>2]=3568;o[e+12>>2]=o[t>>2];o[e+12+4>>2]=o[t+4>>2];o[e+12+8>>2]=o[t+8>>2];o[e+12+12>>2]=o[t+12>>2];o[e+28>>2]=o[i>>2];o[e+28+4>>2]=o[i+4>>2];o[e+28+8>>2]=o[i+8>>2];o[e+28+12>>2]=o[i+12>>2];o[e+76>>2]=0;return}function du(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0,s=0.0,a=0.0,l=0.0;l=+c[t+32>>2];n=+c[t+28>>2];r=+c[i+4>>2];s=+c[i+8>>2];a=+v(+(r*r+s*s));if(a!=0.0){o=+c[i>>2]<0.0?-n:n;r=r*(l/a);n=s*(l/a)}else{o=+c[i>>2]<0.0?-n:n;r=l;n=0.0}c[e+4>>2]=r;c[e>>2]=o;c[e+8>>2]=n;return}function hu(e,t,i,r){e=e|0;t=t|0;i=i|0;r=+r;if(!(+c[e+36>>2]>r))return;n[e+40>>0]=1;o[e+4>>2]=o[t>>2];o[e+4+4>>2]=o[t+4>>2];o[e+4+8>>2]=o[t+8>>2];o[e+4+12>>2]=o[t+12>>2];o[e+20>>2]=o[i>>2];o[e+20+4>>2]=o[i+4>>2];o[e+20+8>>2]=o[i+8>>2];o[e+20+12>>2]=o[i+12>>2];c[e+36>>2]=r;return}function pu(e,t){e=e|0;t=+t;var i=0,n=0.0;i=ae;ae=ae+16|0;if(!(+c[e+68>>2]>0.0)){ae=i;return}n=-+c[e+92>>2];t=-+c[e+96>>2];c[i>>2]=-+c[e+88>>2];c[i+4>>2]=n;c[i+8>>2]=t;c[i+12>>2]=0.0;ma(e+4|0,i,e+164|0);ma(e+16|0,e+88|0,e+180|0);ae=i;return}function bu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;e=o[t+748>>2]|0;if((e|0)<=0){o[t+748>>2]=0;return}r=0;do{n=t+4+(r*184|0)+112|0;i=o[n>>2]|0;if((i|0)!=0?(s=o[6719]|0,(s|0)!=0):0){dF[s&127](i)|0;o[n>>2]=0;e=o[t+748>>2]|0}r=r+1|0}while((r|0)<(e|0));o[t+748>>2]=0;return}function mu(e){e=e|0;var t=0.0,i=0.0,n=0.0;i=+c[(o[e+28>>2]|0)+344>>2];n=+c[(o[e+32>>2]|0)+344>>2];n=n==0.0?1.0:i/(i+n);i=+c[e+1116>>2]*n+(1.0-n)*+c[e+1180>>2];t=n*+c[e+1120>>2]+(1.0-n)*+c[e+1184>>2];c[e+1284>>2]=+c[e+1112>>2]*n+ +c[e+1176>>2]*(1.0-n);c[e+1288>>2]=i;c[e+1292>>2]=t;c[e+1296>>2]=0.0;return}function Au(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0;i=+c[e+344>>2];if(i!=0.0){r=1.0/i*+c[t+4>>2];n=1.0/i*+c[t+8>>2];c[e+364>>2]=1.0/i*+c[t>>2];c[e+368>>2]=r;c[e+372>>2]=n;c[e+376>>2]=0.0}o[e+380>>2]=o[t>>2];o[e+380+4>>2]=o[t+4>>2];o[e+380+8>>2]=o[t+8>>2];o[e+380+12>>2]=o[t+12>>2];return}function gu(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;r=o[e+16>>2]|0;do{if(r){if((r|0)!=(t|0)){o[e+36>>2]=(o[e+36>>2]|0)+1;o[e+24>>2]=2;n[e+54>>0]=1;break}if((o[e+24>>2]|0)==2)o[e+24>>2]=i}else{o[e+16>>2]=t;o[e+24>>2]=i;o[e+36>>2]=1}}while(0);return}function yu(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[t>>2]|0;n=o[e+80>>2]|0;if((i|0)==(n|0)){e=0;return e|0}if(!((r[e+10>>1]&r[t+4>>1])<<16>>16)){e=0;return e|0}if(!((r[t+6>>1]&r[e+8>>1])<<16>>16)){e=0;return e|0}e=o[e+92>>2]|0;e=mF[o[(o[e>>2]|0)+28>>2]&63](e,n,i)|0;return e|0}function vu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;r=o[e+8>>2]|0;e=o[r+8>>2]|0;if((e|0)<=0)return;n=0;do{i=o[(o[r+16>>2]|0)+(n*12|0)+8>>2]|0;if(i){xF[o[(o[i>>2]|0)+16>>2]&127](i,t);e=o[r+8>>2]|0}n=n+1|0}while((n|0)<(e|0));return}function Cu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=ae;ae=ae+32|0;o[r+8>>2]=o[e+60>>2];o[r+8+4>>2]=i;o[r+8+8>>2]=t;o[r+8+12>>2]=r;o[r+8+16>>2]=n;if((bw(H(140,r+8|0)|0)|0)<0){o[r>>2]=-1;o[r+4>>2]=-1;t=-1;i=-1}else{t=o[r+4>>2]|0;i=o[r>>2]|0}P(t|0);ae=r;return i|0}function Eu(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;switch(n|0){case 5:case-1:break;default:return}switch(t|0){case 2:{c[e+760>>2]=i;o[e+748>>2]=o[e+748>>2]|2;return}case 4:{c[e+756>>2]=i;o[e+748>>2]=o[e+748>>2]|1;return}case 3:{c[e+752>>2]=i;o[e+748>>2]=o[e+748>>2]|4;return}default:return}}function Su(e,t,i){e=e|0;t=t|0;i=i|0;lA(e);o[e>>2]=3788;o[e+20>>2]=o[t>>2];o[e+20+4>>2]=o[t+4>>2];o[e+20+8>>2]=o[t+8>>2];o[e+20+12>>2]=o[t+12>>2];o[e+36>>2]=o[i>>2];o[e+36+4>>2]=o[i+4>>2];o[e+36+8>>2]=o[i+8>>2];o[e+36+12>>2]=o[i+12>>2];return}function Tu(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0;o=ae;ae=ae+256|0;if((i|0)>(n|0)&(r&73728|0)==0){_l(o|0,t<<24>>24|0,((i-n|0)>>>0<256?i-n|0:256)|0)|0;if((i-n|0)>>>0>255){t=i-n|0;do{OT(e,o,256);t=t+-256|0}while(t>>>0>255);t=i-n&255}else t=i-n|0;OT(e,o,t)}ae=o;return}function Ru(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=o[i>>2]|0;e=QC(o[t>>2]|0)|0;r=QC(r)|0;if(e|0)BF[o[(o[e>>2]|0)+32>>2]&127](e,i,n,t);if(!r)return 0;BF[o[(o[r>>2]|0)+32>>2]&127](r,t,n,i);return 0}function Mu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=ae;ae=ae+48|0;r=o[t+192>>2]|0;BF[o[(o[r>>2]|0)+8>>2]&127](r,t+4|0,n+32|0,n+16|0);o[n>>2]=7068;o[n+4>>2]=t;o[n+8>>2]=e;o[n+12>>2]=i;e=o[e+68>>2]|0;BF[o[(o[e>>2]|0)+28>>2]&127](e,n+32|0,n+16|0,n);ae=n;return}function Ou(){var e=0,t=0,i=0;do{if((o[847]|0)>=0?(tF()|0)!=0:0){if((n[3387]|0)!=10?(t=o[833]|0,t>>>0<(o[832]|0)>>>0):0){o[833]=t+1;n[t>>0]=10;break}eu()|0}else i=3}while(0);do{if((i|0)==3){if((n[3387]|0)!=10?(e=o[833]|0,e>>>0<(o[832]|0)>>>0):0){o[833]=e+1;n[e>>0]=10;break}eu()|0}}while(0);return}function Iu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;r=ae;ae=ae+112|0;i=JL(o[t+4>>2]|0)|0;n=r;s=n+104|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));ED(r);V_(e,i,r);Qf(t,i,o[e+12>>2]|0);ae=r;return}function xu(e,t,i){e=e|0;t=t|0;i=i|0;e:do{switch(o[t+216>>2]|0){case 2:case 5:{switch(o[i+216>>2]|0){case 2:case 5:{t=0;break}default:break e}return t|0}default:{}}}while(0);if(o[t+256>>2]|0?!(pF[o[o[t>>2]>>2]&31](t,i)|0):0){e=0;return e|0}e=1;return e|0}function Pu(e,t,i){e=e|0;t=t|0;i=i|0;sn(e,t,i)|0;o[t+52>>2]=o[e+300>>2];o[t+56>>2]=o[e+304>>2];o[t+60>>2]=o[e+308>>2];o[t+64>>2]=o[e+312>>2];o[t+68>>2]=o[e+316>>2];o[t+72>>2]=o[e+320>>2];o[t+76>>2]=o[e+324>>2];o[t+80>>2]=o[e+328>>2];return 15193}function Du(e){e=e|0;o[6272]=o[e>>2];o[6273]=o[e+4>>2];o[6274]=o[e+8>>2];o[6275]=o[e+12>>2];o[6276]=o[e+16>>2];o[6277]=o[e+20>>2];o[6278]=o[e+24>>2];iu(25116,e+28|0);o[6291]=o[e+76>>2];o[6292]=o[e+76+4>>2];o[6293]=o[e+76+8>>2];o[6294]=o[e+76+12>>2];o[6295]=o[e+76+16>>2];return}function wu(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0;r=ae;ae=ae+16|0;i=+rP(e);i=+kL(i*+rP(t));n=+Fd(e,t);if(n<0.0){Kf(r,t);n=+uR(+Fd(e,r)/i);n=n*2.0;ae=r;return+n}else{n=+uR(n/i);n=n*2.0;ae=r;return+n}return 0.0}function Lu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,o=0,s=0,a=0,c=0,l=0;l=JL(t)|0;c=JL(t+16|0)|0;a=JL(t+32|0)|0;s=xL(t)|0;o=xL(t+16|0)|0;r=xL(t+32|0)|0;n=IL(t)|0;i=IL(t+16|0)|0;np(e,l,c,a,s,o,r,n,i,IL(t+32|0)|0);return}function Fu(e,t){e=e|0;t=t|0;var i=0;if((JL(o[e+8>>2]|0)|0)>=(t|0))return;i=Fg(t)|0;Kp(e,JL(o[e+4>>2]|0)|0,i);sm(e,JL(o[e+4>>2]|0)|0);Qm(e);n[e+16>>0]=1;o[e+12>>2]=i;o[e+8>>2]=t;return}function Nu(e,t){e=e|0;t=t|0;var i=0;if(o[t+40>>2]|0){Nu(e,o[t+36>>2]|0);Nu(e,o[t+40>>2]|0)}if((o[e>>2]|0)==(t|0))o[e>>2]=0;i=o[e+4>>2]|0;if(!i){o[e+4>>2]=t;return}o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0);o[e+4>>2]=t;return}function Bu(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0;s=o[e+32>>2]|0;o[s>>2]=(o[s>>2]|0)+1;kt(e,sr(e,t,r)|0);kt(e,sr(e,i,r)|0);kt(e,sr(e,n,r)|0);return}function ku(e){e=e|0;var t=0;t=ae;ae=ae+48|0;c[t+32>>2]=1.0;c[t+28>>2]=0.0;c[t+24>>2]=0.0;c[t+20>>2]=0.0;c[t+16>>2]=1.0;c[t+12>>2]=0.0;c[t+8>>2]=0.0;c[t+4>>2]=0.0;c[t>>2]=1.0;Vd(e,t+32|0,t+28|0,t+24|0,t+20|0,t+16|0,t+12|0,t+8|0,t+4|0,t);ae=t;return}function Uu(e,t){e=e|0;t=t|0;var i=0,n=0;o[e+68>>2]=(o[e+68>>2]|0)+1;i=o[e+16>>2]|0;if((i|0)>0)do{n=i;i=i+-1|0;if((o[(o[e+24>>2]|0)+(i*80|0)+64>>2]|0)==(t|0))Br(e,i)}while((n|0)>1);SF[o[(o[e>>2]|0)+68>>2]&511](e);return}function Hu(e,t){e=+e;t=+t;var i=0;i=rA()|0;o[i+8>>2]=0;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;o[i+4>>2]=10;o[i>>2]=8904;o[i+52>>2]=2;c[i+28>>2]=e;c[i+32>>2]=e;c[i+36>>2]=t*.5;c[i+40>>2]=0.0;return i|0}function ju(e,t){e=+e;t=+t;var i=0;i=rA()|0;o[i+8>>2]=0;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;o[i+4>>2]=10;o[i>>2]=8804;o[i+52>>2]=0;c[i+28>>2]=t*.5;c[i+32>>2]=e;c[i+36>>2]=e;c[i+40>>2]=0.0;return i|0}function Vu(e,t){e=+e;t=+t;var i=0;i=rA()|0;o[i+8>>2]=0;o[i+12>>2]=1065353216;o[i+16>>2]=1065353216;o[i+20>>2]=1065353216;c[i+24>>2]=0.0;c[i+44>>2]=.03999999910593033;o[i>>2]=8704;o[i+4>>2]=10;o[i+52>>2]=1;c[i+28>>2]=e;c[i+32>>2]=t*.5;c[i+36>>2]=e;c[i+40>>2]=0.0;return i|0}function Gu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;e:do{switch(i|0){case 5:case-1:switch(t|0){case 2:{n=+c[e+760>>2];break e}case 4:{n=+c[e+756>>2];break e}case 3:{n=+c[e+752>>2];break e}default:{n=0.0;break e}}default:n=0.0}}while(0);return+n}function Wu(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=ae;ae=ae+16|0;o[r>>2]=e;o[r+4>>2]=n;e=o[e+72+((o[(o[t+4>>2]|0)+4>>2]|0)*144|0)+(o[(o[i+4>>2]|0)+4>>2]<<2)>>2]|0;e=AF[o[(o[e>>2]|0)+8>>2]&31](e,r,t,i)|0;ae=r;return e|0}function Xu(e,t,i){e=e|0;t=+t;i=i|0;var n=0.0,r=0.0,o=0.0;r=(+c[e+68>>2]-+c[e+52>>2])*.5*2.0;n=(+c[e+72>>2]-+c[e+56>>2])*.5*2.0;o=(+c[e+76>>2]-+c[e+60>>2])*.5*2.0;c[i>>2]=t/12.0*(n*n+o*o);c[i+4>>2]=t/12.0*(r*r+o*o);c[i+8>>2]=t/12.0*(r*r+n*n);c[i+12>>2]=0.0;return}function zu(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=JL(o[e+4>>2]|0)|0;if((n|0)>(t|0)){o[e+4>>2]=t;return}if((n|0)<(t|0))mf(e,t);while(1){if((n|0)>=(t|0))break;L_((o[e+12>>2]|0)+(n*96|0)|0,i);n=n+1|0}o[e+4>>2]=t;return}function Yu(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;r=ae;ae=ae+48|0;i=JL(o[t+4>>2]|0)|0;n=r;s=n+36|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));tw(r);U_(e,i,r);ew(r);Kp(t,i,o[e+12>>2]|0);ae=r;return}function Qu(e,t){e=e|0;t=t|0;var i=0;e=o[e+64>>2]|0;if(!t)return;i=o[e+16>>2]|0;if(i>>>0<=t>>>0?(i+(O(o[e>>2]|0,o[e+4>>2]|0)|0)|0)>>>0>t>>>0:0){o[t>>2]=o[e+12>>2];o[e+12>>2]=t;o[e+8>>2]=(o[e+8>>2]|0)+1;return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function Ku(e,t){e=e|0;t=t|0;var i=0,n=0,r=0,s=0;r=ae;ae=ae+96|0;i=JL(o[t+4>>2]|0)|0;n=r;s=n+96|0;do{o[n>>2]=0;n=n+4|0}while((n|0)<(s|0));zu(e,i,r);lp(t,i,o[e+12>>2]|0);ae=r;return}function Zu(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;if(gA(e,o[t+8>>2]|0,s)|0)Rl(t,i,n,r);else{e=o[e+8>>2]|0;GF[o[(o[e>>2]|0)+20>>2]&7](e,t,i,n,r,s)}return}function Ju(e){e=e|0;var t=0,i=0;if((o[e+232>>2]|0)<=0)return;t=0;do{i=(o[(o[e+240>>2]|0)+(t<<2)>>2]|0)+412|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;o[i+16>>2]=0;o[i+20>>2]=0;o[i+24>>2]=0;o[i+28>>2]=0;t=t+1|0}while((t|0)<(o[e+232>>2]|0));return}function qu(){var e=0;e=ae;ae=ae+32|0;if(n[24880]|0){ae=e;return}if(!(PM(24880)|0)){ae=e;return}F_();c[e+8>>2]=0.0;c[e+4>>2]=0.0;c[e>>2]=0.0;Am(e+16|0,e+8|0,e+4|0,e);ap(25328,25392,e+16|0);GR(24880);ae=e;return}function $u(e){e=e|0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);o[e+1316>>2]=o[e+1256>>2];o[e+1320>>2]=o[e+1260>>2];o[e+1324>>2]=o[e+1264>>2];o[e+1328>>2]=o[e+1192>>2];o[e+1332>>2]=o[e+1196>>2];o[e+1336>>2]=o[e+1200>>2];return}function ef(e,t){e=e|0;t=t|0;var i=0,n=0;if(r[e+56>>1]|0)return;r[e+64>>1]=1;t=r[e+58>>1]|0;n=o[e+60>>2]|0;if((t&65535)>1){i=1;do{t=i;i=i+1|0;r[n+(t<<6)+48>>1]=i;t=a[e+58>>1]|0}while(i>>>0<t>>>0)}else t=t&65535;r[n+(t+-1<<6)+48>>1]=0;return}function tf(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[e+4>>2]|0;n=JL(i)|0;if((n|0)==(JL(o[e+8>>2]|0)|0)){mf(e,Ux(n)|0);i=o[e+4>>2]|0}L_((o[e+12>>2]|0)+(i*96|0)|0,t);o[e+4>>2]=(o[e+4>>2]|0)+1;return}function nf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;i=o[e+12>>2]|0;if((i|0)<=0)return;r=0;do{n=o[(o[e+20>>2]|0)+(r<<2)>>2]|0;if(n){xF[o[(o[n>>2]|0)+16>>2]&127](n,t);i=o[e+12>>2]|0}r=r+1|0}while((r|0)<(i|0));return}function rf(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0;s=o[e+4>>2]|0;if(i){r=8?s>>8:s;if(s&1)r=o[(o[i>>2]|0)+r>>2]|0}else r=0;e=o[e>>2]|0;BF[o[(o[e>>2]|0)+28>>2]&127](e,t,i+r|0,(s&2|0)==0?2:n);return}function of(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=o[e+32>>2]|0;o[r>>2]=(o[r>>2]|0)+1;kt(e,sr(e,t,0)|0);kt(e,sr(e,i,0)|0);kt(e,sr(e,n,0)|0);return}function sf(e,t,i){e=e|0;t=t|0;i=i|0;o[e+52>>2]=o[t>>2];o[e+52+4>>2]=o[t+4>>2];o[e+52+8>>2]=o[t+8>>2];o[e+52+12>>2]=o[t+12>>2];o[e+68>>2]=o[i>>2];o[e+68+4>>2]=o[i+4>>2];o[e+68+8>>2]=o[i+8>>2];o[e+68+12>>2]=o[i+12>>2];o[e+48>>2]=1;return}function af(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[i>>2]|0;e=QC(o[t>>2]|0)|0;n=QC(n)|0;if(e|0)LF[o[(o[e>>2]|0)+28>>2]&127](e,i,t);if(!n)return 0;LF[o[(o[n>>2]|0)+28>>2]&127](n,t,i);return 0}function cf(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;i=e;n=t;r=i+104|0;do{o[i>>2]=o[n>>2];i=i+4|0;n=n+4|0}while((i|0)<(r|0));cC(e+104|0,t+104|0);lC(e+124|0,t+124|0);lC(e+144|0,t+144|0);return}function lf(e,t,i){e=+e;t=t|0;i=i|0;var n=0,r=0;r=ae;ae=ae+32|0;n=Ww(140)|0;c[r+8>>2]=0.0;c[r+4>>2]=0.0;c[r>>2]=0.0;Am(r+16|0,r+8|0,r+4|0,r);ml(n,e,t,i,r+16|0);ae=r;return n|0}function _f(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;o[i>>2]=o[t+16>>2];o[i+4>>2]=o[t+16+4>>2];o[i+8>>2]=o[t+16+8>>2];o[i+12>>2]=o[t+16+12>>2];o[n>>2]=o[t+32>>2];o[n+4>>2]=o[t+32+4>>2];o[n+8>>2]=o[t+32+8>>2];o[n+12>>2]=o[t+32+12>>2];return}function uf(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;var a=0,c=0;c=o[e+4>>2]|0;a=8?c>>8:c;if(c&1)a=o[(o[n>>2]|0)+a>>2]|0;e=o[e>>2]|0;GF[o[(o[e>>2]|0)+20>>2]&7](e,t,i,n+a|0,(c&2|0)==0?2:r,s);return}function ff(e,t){e=e|0;t=t|0;var i=0;e=o[e+64>>2]|0;i=o[e+8>>2]|0;if(i|0){t=o[e+12>>2]|0;o[e+12>>2]=o[t>>2];o[e+8>>2]=i+-1;return t|0}o[6747]=(o[6747]|0)+1;e=Do(t+19|0)|0;if(!e){t=0;return t|0}o[(e+4+15&-16)+-4>>2]=e;t=e+4+15&-16;return t|0}function df(e,t,i){e=e|0;t=t|0;i=i|0;e=o[e+720>>2]|0;if(!(+c[e+(i*104|0)+88>>2]>0.0))return;c[e+(i*104|0)+56>>2]=+c[t>>2]+ +c[e+(i*104|0)+56>>2];c[e+(i*104|0)+60>>2]=+c[t+4>>2]+ +c[e+(i*104|0)+60>>2];c[e+(i*104|0)+64>>2]=+c[t+8>>2]+ +c[e+(i*104|0)+64>>2];return}function hf(e,t,i){e=e|0;t=+t;i=+i;var n=0;n=ae;ae=ae+16|0;c[n+12>>2]=t;c[n+8>>2]=i;c[n+4>>2]=0.0;c[n>>2]=1.0;o[e+444>>2]=o[(t<0.0?n+4|0:t>1.0?n:n+12|0)>>2];c[n+4>>2]=0.0;c[n>>2]=1.0;o[e+448>>2]=o[(i<0.0?n+4|0:i>1.0?n:n+8|0)>>2];ae=n;return}function pf(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24816]|0)==0?PM(24816)|0:0)GR(24816);vd(t,o[e+116>>2]|0,o[e+128>>2]|0);o[6268]=o[t>>2];o[6269]=o[t+4>>2];o[6270]=o[t+8>>2];o[6271]=o[t+12>>2];ae=t;return 25072}function bf(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[(o[t>>2]|0)+16>>2]|0;n=dF[o[(o[e>>2]|0)+16>>2]&127](e)|0;n=mF[i&63](t,n,1)|0;i=mF[o[(o[e>>2]|0)+20>>2]&63](e,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,i,1497645650,e);return}function mf(e,t){e=e|0;t=t|0;var i=0;if((JL(o[e+8>>2]|0)|0)>=(t|0))return;i=AA(t)|0;lp(e,JL(o[e+4>>2]|0)|0,i);Qm(e);n[e+16>>0]=1;o[e+12>>2]=i;o[e+8>>2]=t;return}function Af(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+32|0;g_(r,JL(e+4|0)|0,t,i,n);Sh(r+16|0,+c[r>>2],+c[r+4>>2],+c[r+8>>2],+c[e+348>>2],+c[e+352>>2],+c[e+356>>2]);Ub(e+412|0,r+16|0)|0;ae=r;return}function gf(e,t,i,n,r,o){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;c[e+692>>2]=(i-t)*.5;i=((i-t)*.5+t)%6.2831854820251465;if(!(i<-3.1415927410125732)){if(i>3.1415927410125732)i=i+-6.2831854820251465}else i=i+6.2831854820251465;c[e+688>>2]=i;c[e+696>>2]=n;c[e+700>>2]=r;c[e+704>>2]=o;return}function yf(e,t,i){e=e|0;t=t|0;i=+i;var n=0;n=ae;ae=ae+16|0;c[n+12>>2]=+c[(JL(t)|0)>>2]*i;c[n+8>>2]=+c[(xL(t)|0)>>2]*i;c[n+4>>2]=+c[(IL(t)|0)>>2]*i;c[n>>2]=+c[t+12>>2]*i;xy(e,n+12|0,n+8|0,n+4|0,n);ae=n;return}function vf(e,t,i){e=e|0;t=t|0;i=i|0;o[t>>2]=o[e+52>>2];o[t+4>>2]=o[e+52+4>>2];o[t+8>>2]=o[e+52+8>>2];o[t+12>>2]=o[e+52+12>>2];o[i>>2]=o[e+68>>2];o[i+4>>2]=o[e+68+4>>2];o[i+8>>2]=o[e+68+8>>2];o[i+12>>2]=o[e+68+12>>2];return}function Cf(e){e=e|0;var t=0,i=0,n=0;t=o[e+24>>2]|0;if((t|0)<=0)return;n=0;do{i=o[(o[e+32>>2]|0)+(n<<2)>>2]|0;switch(o[i+216>>2]|0){case 2:case 5:break;default:{wt(i);t=o[e+24>>2]|0}}n=n+1|0}while((n|0)<(t|0));return}function Ef(e,t){e=e|0;t=t|0;var i=0;if((JL(o[e+8>>2]|0)|0)>=(t|0))return;i=SA(t)|0;Qf(e,JL(o[e+4>>2]|0)|0,i);Qm(e);n[e+16>>0]=1;o[e+12>>2]=i;o[e+8>>2]=t;return}function Sf(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+32|0;g_(r,JL(e+4|0)|0,t,i,n);Sh(r+16|0,+c[r>>2],+c[r+4>>2],+c[r+8>>2],+c[e+544>>2],+c[e+548>>2],+c[e+552>>2]);Ub(e+428|0,r+16|0)|0;ae=r;return}function Tf(e,t){e=e|0;t=t|0;var i=0,n=0;n=dF[o[(o[e>>2]|0)+16>>2]&127](e)|0;n=mF[o[(o[t>>2]|0)+16>>2]&63](t,n,1)|0;i=mF[o[(o[e>>2]|0)+20>>2]&63](e,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,i,1245859651,e);return}function Rf(e,t,i){e=e|0;t=t|0;i=i|0;o[t>>2]=o[e+8>>2];o[t+4>>2]=o[e+8+4>>2];o[t+8>>2]=o[e+8+8>>2];o[t+12>>2]=o[e+8+12>>2];o[i>>2]=o[e+24>>2];o[i+4>>2]=o[e+24+4>>2];o[i+8>>2]=o[e+24+8>>2];o[i+12>>2]=o[e+24+12>>2];return}function Mf(e,t){e=e|0;t=t|0;var i=0,n=0;n=dF[o[(o[e>>2]|0)+52>>2]&127](e)|0;n=mF[o[(o[t>>2]|0)+16>>2]&63](t,n,1)|0;i=mF[o[(o[e>>2]|0)+56>>2]&63](e,o[n+8>>2]|0,t)|0;jF[o[(o[t>>2]|0)+20>>2]&31](t,n,i,1346455635,e);return}function Of(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+80|0;Lu(i+32|0,t);zp(i,+c[t+48>>2],+c[t+52>>2],+c[t+56>>2]);g_(i+16|0,i+32|0,+c[i>>2],+c[i+4>>2],+c[i+8>>2]);ap(e,i+32|0,i+16|0);ae=i;return}function If(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var s=0,a=0;a=o[e+4>>2]|0;s=8?a>>8:a;if(a&1)s=o[(o[i>>2]|0)+s>>2]|0;e=o[e>>2]|0;jF[o[(o[e>>2]|0)+24>>2]&31](e,t,i+s|0,(a&2|0)==0?2:n,r);return}function xf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0;n=0;while(1){if((n|0)>=(t|0))break;r=JL(i+(n<<4)|0)|0;s=(o[e+12>>2]|0)+(n<<4)|0;o[r>>2]=o[s>>2];o[r+4>>2]=o[s+4>>2];o[r+8>>2]=o[s+8>>2];o[r+12>>2]=o[s+12>>2];n=n+1|0}return}function Pf(e,t,i){e=e|0;t=t|0;i=i|0;o[e+164>>2]=o[t>>2];o[e+164+4>>2]=o[t+4>>2];o[e+164+8>>2]=o[t+8>>2];o[e+164+12>>2]=o[t+12>>2];t=JL(t)|0;if((!(+c[t>>2]!=1.0)?!(+c[t+4>>2]!=1.0):0)?!(+c[t+8>>2]!=1.0):0)i=0;o[e+180>>2]=i;return}function Df(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if(gA(e,o[t+8>>2]|0,0)|0)gu(t,i,n);else{e=o[e+8>>2]|0;BF[o[(o[e>>2]|0)+28>>2]&127](e,t,i,n)}return}function wf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=JL(o[e+4>>2]|0)|0;if((n|0)>(t|0)){o[e+4>>2]=t;return}if((n|0)<(t|0))od(e,t);while(1){if((n|0)>=(t|0))break;o[(o[e+12>>2]|0)+(n<<2)>>2]=o[i>>2];n=n+1|0}o[e+4>>2]=t;return}function Lf(e){e=e|0;var t=0;o[e>>2]=6156;t=o[e+276>>2]|0;if(t|0){if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+276>>2]=0}n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e>>2]=6120;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Ff(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+32|0;Sh(r,t,i,n,+c[e+348>>2],+c[e+352>>2],+c[e+356>>2]);ep(r+16|0,+c[r>>2],+c[r+4>>2],+c[r+8>>2],+c[e+344>>2]);Ub(e+312|0,r+16|0)|0;ae=r;return}function Nf(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+32|0;g_(r,e+264|0,t,i,n);Sh(r+16|0,+c[r>>2],+c[r+4>>2],+c[r+8>>2],+c[e+544>>2],+c[e+548>>2],+c[e+552>>2]);Ub(e+328|0,r+16|0)|0;ae=r;return}function Bf(e){e=e|0;var t=0;o[e>>2]=5172;t=o[e+496>>2]|0;if(t|0){if(n[e+500>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+496>>2]=0}n[e+500>>0]=1;o[e+496>>2]=0;o[e+488>>2]=0;o[e+492>>2]=0;o[e>>2]=6120;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function kf(e,t,i){e=e|0;t=t|0;i=i|0;o[t>>2]=o[e+892>>2];o[t+4>>2]=o[e+892+4>>2];o[t+8>>2]=o[e+892+8>>2];o[t+12>>2]=o[e+892+12>>2];o[i>>2]=o[e+908>>2];o[i+4>>2]=o[e+908+4>>2];o[i+8>>2]=o[e+908+8>>2];o[i+12>>2]=o[e+908+12>>2];return}function Uf(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24832]|0)==0?PM(24832)|0:0)GR(24832);xF[o[(o[e>>2]|0)+76>>2]&127](t,e);o[6296]=o[t>>2];o[6297]=o[t+4>>2];o[6298]=o[t+8>>2];o[6299]=o[t+12>>2];ae=t;return 25184}function Hf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0;e:do{if((i|0)==-1)switch(t|0){case 2:case 1:{n=+c[e+336>>2];break e}case 4:case 3:{n=+c[e+340>>2];break e}default:{n=3402823466385288598117041.0e14;break e}}else n=3402823466385288598117041.0e14}while(0);return+n}function jf(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24792]|0)==0?PM(24792)|0:0)GR(24792);xF[o[(o[e>>2]|0)+76>>2]&127](t,e);o[6256]=o[t>>2];o[6257]=o[t+4>>2];o[6258]=o[t+8>>2];o[6259]=o[t+12>>2];ae=t;return 25024}function Vf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,o=0.0;o=+c[t+28>>2];r=+c[t+32>>2];r=+c[i+4>>2]>=0.0?r:-r;n=+c[t+36>>2];n=+c[i+8>>2]>=0.0?n:-n;c[e>>2]=+c[i>>2]>=0.0?o:-o;c[e+4>>2]=r;c[e+8>>2]=n;c[e+12>>2]=0.0;return}function Gf(e,t){e=e|0;t=t|0;var i=0,n=0;i=o[e+4>>2]|0;n=JL(i)|0;if((n|0)==(JL(o[e+8>>2]|0)|0)){od(e,Ux(n)|0);i=o[e+4>>2]|0}o[(o[e+12>>2]|0)+(i<<2)>>2]=o[t>>2];o[e+4>>2]=(o[e+4>>2]|0)+1;return}function Wf(e){e=e|0;var t=0;o[e>>2]=5988;t=o[e+140>>2]|0;if(t|0){if(n[e+144>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+140>>2]=0}n[e+144>>0]=1;o[e+140>>2]=0;o[e+132>>2]=0;o[e+136>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Xf(e,t){e=e|0;t=t|0;var i=0;if((JL(o[e+8>>2]|0)|0)>=(t|0))return;i=Cg(t)|0;xf(e,JL(o[e+4>>2]|0)|0,i);Qm(e);n[e+16>>0]=1;o[e+12>>2]=i;o[e+8>>2]=t;return}function zf(e){e=e|0;var t=0;o[e>>2]=10680;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Yf(e,t){e=e|0;t=t|0;var i=0;i=o[e+4>>2]|0;if((o[t>>2]|0)!=(i|0)?(o[t+4>>2]|0)!=(i|0):0)return 0;i=o[e+8>>2]|0;LF[o[(o[i>>2]|0)+32>>2]&127](i,t,o[e+12>>2]|0);return 0}function Qf(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0,s=0,a=0;n=0;while(1){if((n|0)>=(t|0))break;r=i+(n*104|0)|0;s=(o[e+12>>2]|0)+(n*104|0)|0;a=r+104|0;do{o[r>>2]=o[s>>2];r=r+4|0;s=s+4|0}while((r|0)<(a|0));n=n+1|0}return}function Kf(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;c[i+12>>2]=-+c[(JL(t)|0)>>2];c[i+8>>2]=-+c[(xL(t)|0)>>2];c[i+4>>2]=-+c[(IL(t)|0)>>2];c[i>>2]=-+c[t+12>>2];xy(e,i+12|0,i+8|0,i+4|0,i);ae=i;return}function Zf(e,t,i){e=e|0;t=t|0;i=+i;var r=0;r=ae;ae=ae+16|0;if((n[24808]|0)==0?PM(24808)|0:0)GR(24808);pa(r,e,t,i);o[6264]=o[r>>2];o[6265]=o[r+4>>2];o[6266]=o[r+8>>2];o[6267]=o[r+12>>2];ae=r;return 25056}function Jf(e,t,i){e=e|0;t=t|0;i=+i;var r=0;r=ae;ae=ae+16|0;if((n[24784]|0)==0?PM(24784)|0:0)GR(24784);pa(r,e,t,i);o[6252]=o[r>>2];o[6253]=o[r+4>>2];o[6254]=o[r+8>>2];o[6255]=o[r+12>>2];ae=r;return 25008}function qf(e){e=e|0;var t=0.0,i=0.0;if(o[e+204>>2]&3|0)return;i=+c[e+368>>2]*+c[e+352>>2];t=+c[e+372>>2]*+c[e+356>>2];c[e+412>>2]=+c[e+364>>2]*+c[e+348>>2]+ +c[e+412>>2];c[e+416>>2]=i+ +c[e+416>>2];c[e+420>>2]=t+ +c[e+420>>2];return}function $f(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;n=pF[o[(o[i>>2]|0)+40>>2]&31](i,e)|0;r=pF[o[(o[i>>2]|0)+28>>2]&31](i,n)|0;o[t>>2]=r;if(r|0)xF[o[(o[i>>2]|0)+48>>2]&127](i,n);o[t+4>>2]=o[e+4>>2];return 19935}function ed(e,t,i){e=e|0;t=t|0;i=i|0;var n=0.0,r=0.0,s=0;s=o[e+104>>2]|0;r=+c[s+(t<<4)+4>>2]*+c[e+16>>2];n=+c[s+(t<<4)+8>>2]*+c[e+20>>2];c[i>>2]=+c[s+(t<<4)>>2]*+c[e+12>>2];c[i+4>>2]=r;c[i+8>>2]=n;c[i+12>>2]=0.0;return}function td(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;r=o[t>>2]|0;r=pF[o[(o[r>>2]|0)+56>>2]&31](r,20)|0;e=n[e+4>>0]|0;o[r+4>>2]=o[t>>2];o[r>>2]=4676;n[r+16>>0]=e;return r|0}function id(e,t){e=e|0;t=t|0;var i=0.0;i=+c[(JL(t)|0)>>2];c[e>>2]=+c[e>>2]+i;i=+c[(xL(t)|0)>>2];c[e+4>>2]=+c[e+4>>2]+i;i=+c[(IL(t)|0)>>2];c[e+8>>2]=+c[e+8>>2]+i;c[e+12>>2]=+c[e+12>>2]+ +c[t+12>>2];return e|0}function nd(e,t){e=e|0;t=t|0;var i=0.0;i=+c[(JL(t)|0)>>2];c[e>>2]=+c[e>>2]-i;i=+c[(xL(t)|0)>>2];c[e+4>>2]=+c[e+4>>2]-i;i=+c[(IL(t)|0)>>2];c[e+8>>2]=+c[e+8>>2]-i;c[e+12>>2]=+c[e+12>>2]-+c[t+12>>2];return e|0}function rd(e){e=e|0;var t=0,i=0;i=Z()|0;t=o[u>>2]|0;if((e|0)>0&(t+e|0)<(t|0)|(t+e|0)<0){te(t+e|0)|0;U(12);return-1}if((t+e|0)>(i|0))if(!(q(t+e|0)|0)){U(12);return-1}o[u>>2]=t+e;return t|0}function od(e,t){e=e|0;t=t|0;var i=0;if((JL(o[e+8>>2]|0)|0)>=(t|0))return;i=fy(t)|0;Sb(e,JL(o[e+4>>2]|0)|0,i);Qm(e);n[e+16>>0]=1;o[e+12>>2]=i;o[e+8>>2]=t;return}function sd(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0;r=+y(+ +c[t>>2]);n=+y(+ +c[t+4>>2]);i=+y(+ +c[t+8>>2]);c[e+12>>2]=r;c[e+16>>2]=n;c[e+20>>2]=i;c[e+24>>2]=0.0;Pa(e);return}function ad(e,t){e=e|0;t=t|0;var i=0.0,n=0.0;i=+c[(IL(e)|0)>>2];i=i*+c[(JL(t)|0)>>2];n=+c[(IL(e+16|0)|0)>>2];n=i+n*+c[(xL(t)|0)>>2];i=+c[(IL(e+32|0)|0)>>2];return+(n+i*+c[(IL(t)|0)>>2])}function cd(e,t){e=e|0;t=t|0;var i=0.0,n=0.0;i=+c[(xL(e)|0)>>2];i=i*+c[(JL(t)|0)>>2];n=+c[(xL(e+16|0)|0)>>2];n=i+n*+c[(xL(t)|0)>>2];i=+c[(xL(e+32|0)|0)>>2];return+(n+i*+c[(IL(t)|0)>>2])}function ld(e){e=e|0;var t=0;t=n[e+74>>0]|0;n[e+74>>0]=t+255|t;t=o[e>>2]|0;if(!(t&8)){o[e+8>>2]=0;o[e+4>>2]=0;t=o[e+44>>2]|0;o[e+28>>2]=t;o[e+20>>2]=t;o[e+16>>2]=t+(o[e+48>>2]|0);t=0}else{o[e>>2]=t|32;t=-1}return t|0}function _d(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24840]|0)==0?PM(24840)|0:0)GR(24840);LT(t,e);o[6300]=o[t>>2];o[6301]=o[t+4>>2];o[6302]=o[t+8>>2];o[6303]=o[t+12>>2];ae=t;return 25200}function ud(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24856]|0)==0?PM(24856)|0:0)GR(24856);sS(t,e);o[6320]=o[t>>2];o[6321]=o[t+4>>2];o[6322]=o[t+8>>2];o[6323]=o[t+12>>2];ae=t;return 25280}function fd(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;if((n|0)!=-1)return;switch(t|0){case 2:case 1:{c[e+336>>2]=i;o[e+332>>2]=o[e+332>>2]|1;return}case 4:case 3:{c[e+340>>2]=i;o[e+332>>2]=o[e+332>>2]|2;return}default:return}}function dd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;if((t|0)==(i|0))return;n=o[(o[e+4>>2]|0)+136>>2]|0;mF[o[(o[n>>2]|0)+8>>2]&63](n,o[t+36>>2]|0,o[i+36>>2]|0)|0;e=(o[e+4>>2]|0)+160|0;o[e>>2]=(o[e>>2]|0)+1;return}function hd(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24872]|0)==0?PM(24872)|0:0)GR(24872);Mh(t,e);o[6328]=o[t>>2];o[6329]=o[t+4>>2];o[6330]=o[t+8>>2];o[6331]=o[t+12>>2];ae=t;return 25312}function pd(e){e=e|0;var t=0;t=ae;ae=ae+16|0;if((n[24864]|0)==0?PM(24864)|0:0)GR(24864);B_(t,e);o[6324]=o[t>>2];o[6325]=o[t+4>>2];o[6326]=o[t+8>>2];o[6327]=o[t+12>>2];ae=t;return 25296}function bd(e){e=e|0;var t=0.0,i=0,n=0.0,r=0.0;i=ae;ae=ae+32|0;LF[o[(o[e>>2]|0)+12>>2]&127](e,i+8|0,i);r=+c[i+8>>2];n=+c[i+8+4>>2];t=+c[i+8+8>>2];t=+v(+(r*r+n*n+t*t));ae=i;return+(+c[i>>2]+t)}function md(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=ae;ae=ae+16|0;o[r>>2]=6316;o[r+4>>2]=i;o[r+8>>2]=e;LF[o[(o[t>>2]|0)+48>>2]&127](t,r,n);ae=r;return}function Ad(e,t){e=e|0;t=t|0;var i=0,r=0;i=n[e>>0]|0;r=n[t>>0]|0;if(!(i<<24>>24==0?1:i<<24>>24!=r<<24>>24))do{e=e+1|0;t=t+1|0;i=n[e>>0]|0;r=n[t>>0]|0}while(!(i<<24>>24==0?1:i<<24>>24!=r<<24>>24));return(i&255)-(r&255)|0}function gd(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=+s;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,i,r);BF[o[(o[e>>2]|0)+8>>2]&127](e,i,n,r);BF[o[(o[e>>2]|0)+8>>2]&127](e,n,t,r);return}function yd(e,t,i){e=e|0;t=t|0;i=i|0;e=o[t+8>>2]|0;if(!((i|0)!=0&(e|0)!=0))return;SF[o[o[e>>2]>>2]&511](e);xF[o[(o[i>>2]|0)+60>>2]&127](i,o[t+8>>2]|0);o[t+8>>2]=0;return}function vd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;t=JL(t+4|0)|0;r=(JL(LD(t,0)|0)|0)+(i<<2)|0;n=(JL(LD(t,1)|0)|0)+(i<<2)|0;Am(e,r,n,(JL(LD(t,2)|0)|0)+(i<<2)|0);return}function Cd(e,t){e=e|0;t=t|0;var i=0.0,n=0.0;i=+c[(JL(e)|0)>>2];i=i*+c[(JL(t)|0)>>2];n=+c[(JL(e+16|0)|0)>>2];n=i+n*+c[(xL(t)|0)>>2];i=+c[(JL(e+32|0)|0)>>2];return+(n+i*+c[(IL(t)|0)>>2])}function Ed(e){e=e|0;var t=0;o[e>>2]=6156;t=o[e+276>>2]|0;if(t|0){if(n[e+280>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+276>>2]=0}n[e+280>>0]=1;o[e+276>>2]=0;o[e+268>>2]=0;o[e+272>>2]=0;o[e>>2]=6120;return}function Sd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+16|0;o[n>>2]=10112;o[n+4>>2]=t;o[n+8>>2]=e;o[n+12>>2]=i;LF[o[(o[e>>2]|0)+48>>2]&127](e,n,i);ae=n;return}function Td(e){e=e|0;var t=0;o[e>>2]=7984;if(n[e+61>>0]|0?(t=o[e+52>>2]|0,SF[o[o[t>>2]>>2]&511](t),t=o[e+52>>2]|0,t|0):0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Rd(e){e=e|0;var t=0;o[e>>2]=5172;t=o[e+496>>2]|0;if(t|0){if(n[e+500>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+496>>2]=0}n[e+500>>0]=1;o[e+496>>2]=0;o[e+488>>2]=0;o[e+492>>2]=0;o[e>>2]=6120;return}function Md(e){e=e|0;var t=0,i=0,r=0;i=o[e>>2]|0;t=n[i>>0]|0;if(!(oL(t<<24>>24)|0))t=0;else{r=t;t=0;do{t=(t*10|0)+-48+(r<<24>>24)|0;i=i+1|0;o[e>>2]=i;r=n[i>>0]|0}while((oL(r<<24>>24)|0)!=0)}return t|0}function Od(e,t,i,n){e=+e;t=+t;i=+i;n=+n;var r=0,o=0;o=ae;ae=ae+16|0;c[o+12>>2]=e;c[o+8>>2]=t;c[o+4>>2]=i;c[o>>2]=n;r=oA()|0;ag(r,o+12|0,o+8|0,o+4|0,o);ae=o;return r|0}function Id(e,t,i,n){e=+e;t=+t;i=+i;n=+n;var r=0,o=0;o=ae;ae=ae+16|0;c[o+12>>2]=e;c[o+8>>2]=t;c[o+4>>2]=i;c[o>>2]=n;r=Ww(16)|0;xy(r,o+12|0,o+8|0,o+4|0,o);ae=o;return r|0}function xd(e){e=e|0;var t=0.0,i=0,n=0,r=0.0;n=o[e+712>>2]|0;if((n|0)<=0){t=0.0;return+t}e=o[e+720>>2]|0;i=0;t=0.0;do{r=+c[e+(i*104|0)+88>>2];t=t+(r>0.0?1.0/r:0.0);i=i+1|0}while((i|0)!=(n|0));return+t}function Pd(e){e=e|0;var t=0;o[e>>2]=6620;o[e+12>>2]=6668;t=o[e+60>>2]|0;xF[o[(o[t>>2]|0)+20>>2]&127](t,o[e+76>>2]|0);t=o[e+60>>2]|0;xF[o[(o[t>>2]|0)+16>>2]&127](t,o[e+76>>2]|0);KL(e);return}function Dd(e){e=e|0;var t=0;o[e>>2]=5988;t=o[e+140>>2]|0;if(t|0){if(n[e+144>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+140>>2]=0}n[e+144>>0]=1;o[e+140>>2]=0;o[e+132>>2]=0;o[e+136>>2]=0;return}function wd(e,t){e=e|0;t=t|0;var i=0,n=0;i=ae;ae=ae+16|0;eC(e);n=JL(o[t+4>>2]|0)|0;o[i>>2]=0;wf(e,n,i);Sb(t,n,o[e+12>>2]|0);ae=i;return}function Ld(e,t,i){e=e|0;t=+t;i=i|0;t=t*.4000000059604645*+nF[o[(o[e>>2]|0)+48>>2]&15](e);t=t*+nF[o[(o[e>>2]|0)+48>>2]&15](e);c[i>>2]=t;c[i+4>>2]=t;c[i+8>>2]=t;c[i+12>>2]=0.0;return}function Fd(e,t){e=e|0;t=t|0;var i=0.0,n=0.0;i=+c[e>>2];i=i*+c[(JL(t)|0)>>2];n=+c[e+4>>2];n=i+n*+c[(xL(t)|0)>>2];i=+c[e+8>>2];i=n+i*+c[(IL(t)|0)>>2];return+(i+ +c[e+12>>2]*+c[t+12>>2])}function Nd(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;if(gA(e,o[t+8>>2]|0,s)|0)Rl(t,i,n,r);return}function Bd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,24)|0;o[e+4>>2]=o[t>>2];o[e>>2]=5144;return e|0}function kd(e,t,i,n,r,o,s){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;var a=0;a=ae;ae=ae+16|0;c[a+8>>2]=i*s-n*o;c[a+4>>2]=n*r-t*s;c[a>>2]=t*o-i*r;Am(e,a+8|0,a+4|0,a);ae=a;return}function Ud(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;o[i>>2]=-581039253;o[i+4>>2]=-581039253;o[i+8>>2]=-581039253;c[i+12>>2]=0.0;o[n>>2]=1566444395;o[n+4>>2]=1566444395;o[n+8>>2]=1566444395;c[n+12>>2]=0.0;return}function Hd(e){e=e|0;var t=0;o[e>>2]=10152;if(n[e+192>>0]|0?(t=o[e+136>>2]|0,SF[o[o[t>>2]>>2]&511](t),t=o[e+136>>2]|0,t|0):0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}En(e+64|0);En(e+4|0);return}function jd(e){e=e|0;var t=0;o[e>>2]=10680;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}function Vd(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;Am(e,t,i,n);Am(e+16|0,r,o,s);Am(e+32|0,a,c,l);return}function Gd(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+64|0;Vc(n+16|0,t,i);C_(n,t,+c[i+48>>2],+c[i+52>>2],+c[i+56>>2]);ap(e,n+16|0,n);ae=n;return}function Wd(e){e=e|0;var t=0;o[e>>2]=6620;o[e+12>>2]=6668;t=o[e+60>>2]|0;xF[o[(o[t>>2]|0)+20>>2]&127](t,o[e+76>>2]|0);t=o[e+60>>2]|0;xF[o[(o[t>>2]|0)+16>>2]&127](t,o[e+76>>2]|0);return}function Xd(e){e=e|0;var t=0;o[e>>2]=4060;t=o[e+32>>2]|0;if(t|0){if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+32>>2]=0}n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;return}function zd(e){e=e|0;var t=0,i=0;o[e>>2]=8336;t=o[e+52>>2]|0;if(t|0?(SF[o[o[t>>2]>>2]&511](t),i=o[e+52>>2]|0,i|0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Yd(e,t){e=e|0;t=t|0;var i=0;i=(o[e+92>>2]|0)+4|0;o[i>>2]=o[t>>2];o[i+4>>2]=o[t+4>>2];o[i+8>>2]=o[t+8>>2];o[i+12>>2]=o[t+12>>2];xa(e);return}function Qd(e,t){e=e|0;t=t|0;var i=0;if(n[e+273>>0]|0?(i=o[e+200>>2]|0,i|0):0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}n[e+273>>0]=0;o[e+200>>2]=t;o[(o[e+196>>2]|0)+8>>2]=t;return}function Kd(e){e=e|0;var t=0;o[e>>2]=6244;t=o[e+20>>2]|0;if(t|0){if(n[e+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+20>>2]=0}n[e+24>>0]=1;o[e+20>>2]=0;o[e+12>>2]=0;o[e+16>>2]=0;return}function Zd(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;e=o[t>>2]|0;e=pF[o[(o[e>>2]|0)+56>>2]&31](e,8)|0;o[e+4>>2]=o[t>>2];o[e>>2]=10540;return e|0}function Jd(e,t){e=e|0;t=+t;o[e+8>>2]=0;o[e+12>>2]=1065353216;o[e+16>>2]=1065353216;o[e+20>>2]=1065353216;c[e+24>>2]=0.0;c[e+44>>2]=.03999999910593033;o[e>>2]=7884;o[e+4>>2]=8;gD(e+28|0,t);c[e+44>>2]=t;return}function qd(e){e=e|0;var t=0;t=$m()|0;o[t+44>>2]=e;n[t+16>>0]=1;o[t+12>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;n[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;o[t+40>>2]=0;return t|0}function $d(e,t){e=e|0;t=t|0;var i=0,n=0;i=ae;ae=ae+16|0;n=JL(o[t+4>>2]|0)|0;j_(e,n,i);xf(t,n,o[e+12>>2]|0);ae=i;return}function eh(e,t){e=e|0;t=t|0;Os(e,(o[e+28>>2]|0)+4|0,(o[e+32>>2]|0)+4|0);o[e+1316+(t<<2)>>2]=o[((t|0)<3?e+1256+(t<<2)|0:e+1192+(t+-3<<2)|0)>>2];return}function th(e){e=e|0;var t=0;o[e>>2]=9960;t=o[e+16>>2]|0;if(t|0){if(n[e+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[e+16>>2]=0}n[e+20>>0]=1;o[e+16>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function ih(e,t,i,n,r){e=e|0;t=+t;i=+i;n=+n;r=+r;var o=0;o=ae;ae=ae+16|0;c[o+12>>2]=t;c[o+8>>2]=i;c[o+4>>2]=n;c[o>>2]=r;Mb(e,o+12|0,o+8|0,o+4|0,o);ae=o;return}function nh(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;e=o[t+8>>2]|0;t=o[e+284>>2]|0;LF[o[(o[t>>2]|0)+40>>2]&127](t,e,o[i+8>>2]|0);return}function rh(e){e=e|0;var t=0,i=0;o[e>>2]=7116;if(!(n[e+8>>0]|0)){KL(e);return}t=o[e+12>>2]|0;if(!t){KL(e);return}i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+16>>2]&127](i,t);KL(e);return}function oh(e){e=e|0;var t=0,i=0;o[e>>2]=10568;if(!(n[e+8>>0]|0)){KL(e);return}t=o[e+12>>2]|0;if(!t){KL(e);return}i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+16>>2]&127](i,t);KL(e);return}function sh(e){e=e|0;var t=0,i=0;o[e>>2]=6592;if(!(n[e+8>>0]|0)){KL(e);return}t=o[e+12>>2]|0;if(!t){KL(e);return}i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+16>>2]&127](i,t);KL(e);return}function ah(e,t){e=e|0;t=t|0;var i=0,n=0;i=ae;ae=ae+16|0;n=JL(o[t+4>>2]|0)|0;c[i>>2]=0.0;wf(e,n,i);Sb(t,n,o[e+12>>2]|0);ae=i;return}function ch(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+16|0;o[n>>2]=10132;o[n+4>>2]=t;LF[o[(o[e>>2]|0)+48>>2]&127](e,n,i);ae=n;return}function lh(e){e=e|0;var t=0;o[e>>2]=7984;if(!(n[e+61>>0]|0))return;t=o[e+52>>2]|0;SF[o[o[t>>2]>>2]&511](t);e=o[e+52>>2]|0;if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function _h(e,t){e=e|0;t=t|0;var i=0,n=0;i=ae;ae=ae+16|0;n=JL(o[t+4>>2]|0)|0;o[i>>2]=0;wf(e,n,i);Sb(t,n,o[e+12>>2]|0);ae=i;return}function uh(e,t){e=e|0;t=t|0;if((n[24800]|0)==0?PM(24800)|0:0)GR(24800);t=LD(e,t)|0;o[6260]=o[t>>2];o[6261]=o[t+4>>2];o[6262]=o[t+8>>2];o[6263]=o[t+12>>2];return 25040}function fh(e,t){e=e|0;t=t|0;var i=0,n=0,r=0;i=O(t&65535,e&65535)|0;r=(i>>>16)+(O(t&65535,e>>>16)|0)|0;n=O(t>>>16,e&65535)|0;return(P((r>>>16)+(O(t>>>16,e>>>16)|0)+(((r&65535)+n|0)>>>16)|0),r+n<<16|i&65535|0)|0}function dh(e){e=e|0;var t=0,i=0;o[e>>2]=6688;if(!(n[e+8>>0]|0)){KL(e);return}t=o[e+12>>2]|0;if(!t){KL(e);return}i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+16>>2]&127](i,t);KL(e);return}function hh(e,t,i){e=e|0;t=t|0;i=i|0;var r=0;if((t|0)<(e|0)&(e|0)<(t+i|0)){r=e;t=t+i|0;e=e+i|0;while((i|0)>0){e=e-1|0;t=t-1|0;i=i-1|0;n[e>>0]=n[t>>0]|0}e=r}else Tn(e,t,i)|0;return e|0}function ph(){var e=0,t=0;t=ae;ae=ae+32|0;e=Ww(112)|0;dA(t);Et(e,t);ae=t;return e|0}function bh(e){e=e|0;var t=0,i=0;o[e>>2]=7164;if(!(n[e+16>>0]|0)){KL(e);return}t=o[e+20>>2]|0;if(!t){KL(e);return}i=o[e+4>>2]|0;xF[o[(o[i>>2]|0)+16>>2]&127](i,t);KL(e);return}function mh(e,t){e=e|0;t=t|0;var i=0.0,n=0.0,r=0.0;r=+y(+ +c[t>>2]);n=+y(+ +c[t+4>>2]);i=+y(+ +c[t+8>>2]);c[e+12>>2]=r;c[e+16>>2]=n;c[e+20>>2]=i;c[e+24>>2]=0.0;return}function Ah(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;var r=0;r=ae;ae=ae+64|0;Rp(r);kb(r,t);IF[o[(o[e>>2]|0)+16>>2]&1](e,i,r,n);ae=r;return}function gh(e,t){e=e|0;t=t|0;Je(e,o[t+36>>2]|0);return}function yh(e){e=e|0;var t=0;o[e>>2]=6668;t=o[e+48>>2]|0;xF[o[(o[t>>2]|0)+20>>2]&127](t,o[e+64>>2]|0);t=o[e+48>>2]|0;xF[o[(o[t>>2]|0)+16>>2]&127](t,o[e+64>>2]|0);KL(e);return}function vh(e,t,i,n,r,o,s,a,c,l,_,u,f){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=+o;s=+s;a=+a;c=+c;l=+l;_=_|0;u=+u;f=f|0;UF[e&1](t|0,i|0,n|0,r|0,+o,+s,+a,+c,+l,_|0,+u,f|0)}function Ch(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;c[e>>2]=(1.0-n)*+c[t>>2]+ +c[i>>2]*n;c[e+4>>2]=(1.0-n)*+c[t+4>>2]+ +c[i+4>>2]*n;c[e+8>>2]=(1.0-n)*+c[t+8>>2]+ +c[i+8>>2]*n;return}function Eh(e,t,i,n,r,o,s){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;var a=0;a=ae;ae=ae+16|0;c[a+8>>2]=t+r;c[a+4>>2]=i+o;c[a>>2]=n+s;Am(e,a+8|0,a+4|0,a);ae=a;return}function Sh(e,t,i,n,r,o,s){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;var a=0;a=ae;ae=ae+16|0;c[a+8>>2]=t*r;c[a+4>>2]=i*o;c[a>>2]=n*s;Am(e,a+8|0,a+4|0,a);ae=a;return}function Th(e,t,i,n,r,o,s){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;s=+s;var a=0;a=ae;ae=ae+16|0;c[a+8>>2]=t-r;c[a+4>>2]=i-o;c[a>>2]=n-s;Am(e,a+8|0,a+4|0,a);ae=a;return}function Rh(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;if(!((e|0)==0&(t|0)==0))do{i=i+-1|0;n[i>>0]=s[480+(e&15)>>0]|0|r;e=wA(e|0,t|0,4)|0;t=D()|0}while(!((e|0)==0&(t|0)==0));return i|0}function Mh(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;c[i+8>>2]=-+c[t>>2];c[i+4>>2]=-+c[t+4>>2];c[i>>2]=-+c[t+8>>2];xy(e,i+8|0,i+4|0,i,t+12|0);ae=i;return}function Oh(e){e=e|0;var t=0;o[e>>2]=8336;t=o[e+52>>2]|0;if(!t)return;SF[o[o[t>>2]>>2]&511](t);t=o[e+52>>2]|0;if(!t)return;o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);return}function Ih(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if(gA(e,o[t+8>>2]|0,0)|0)gu(t,i,n);return}function xh(e,t,i,n,r,o,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;return+ +W(0,e|0,t|0,i|0,n|0,r|0,o|0,s|0,a|0)}function Ph(e,t){e=e|0;t=t|0;if((t|0)==0?1:(o[t+236>>2]&2|0)==0){Gc(e,t);return}else{xF[o[(o[e>>2]|0)+92>>2]&127](e,t);return}}function Dh(e){e=e|0;var t=0;o[e>>2]=6668;t=o[e+48>>2]|0;xF[o[(o[t>>2]|0)+20>>2]&127](t,o[e+64>>2]|0);t=o[e+48>>2]|0;xF[o[(o[t>>2]|0)+16>>2]&127](t,o[e+64>>2]|0);return}function wh(){var e=0;e=Ww(40)|0;c[e+12>>2]=1.0;o[e+8>>2]=0;o[e+4>>2]=5;o[e>>2]=4060;n[e+36>>0]=1;o[e+32>>2]=0;o[e+24>>2]=0;o[e+28>>2]=0;n[e+16>>0]=1;return e|0}function Lh(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+16|0;Sh(r,t,i,n,+c[e+348>>2],+c[e+352>>2],+c[e+356>>2]);Ub(e+412|0,r)|0;ae=r;return}function Fh(e,t,i){e=+e;t=+t;i=+i;var n=0,r=0;r=ae;ae=ae+16|0;c[r+8>>2]=e;c[r+4>>2]=t;c[r>>2]=i;n=oA()|0;Am(n,r+8|0,r+4|0,r);ae=r;return n|0}function Nh(e,t){e=e|0;t=t|0;o[e+12>>2]=o[t>>2];o[e+12+4>>2]=o[t+4>>2];o[e+12+8>>2]=o[t+8>>2];o[e+12+12>>2]=o[t+12>>2];xa(e);return}function Bh(e,t,i,n,r,o,s,a,c,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;return CF[e&3](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0,_|0)|0}function kh(e,t){e=e|0;t=t|0;e=o[e+12>>2]|0;return pF[o[(o[e>>2]|0)+8>>2]&31](e,t)|0}function Uh(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+16|0;Sh(r,t,i,n,+c[e+544>>2],+c[e+548>>2],+c[e+552>>2]);Ub(e+428|0,r)|0;ae=r;return}function Hh(e,t,i,n,r,o,s,a,c,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;return+fF[e&3](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0,_|0)}function jh(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;var a=0;a=Fm()|0;Yr(a,e,t,i,n,r,o,s);return a|0}function Vh(e,t,i){e=e|0;t=t|0;i=i|0;lT(e,t);o[e+48>>2]=o[i>>2];o[e+48+4>>2]=o[i+4>>2];o[e+48+8>>2]=o[i+8>>2];o[e+48+12>>2]=o[i+12>>2];return}function Gh(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;g_(i,e,+c[t+48>>2],+c[t+52>>2],+c[t+56>>2]);Ub(e+48|0,i)|0;il(e,t);ae=i;return e|0}function Wh(e,t){e=e|0;t=t|0;o[e+260>>2]=(o[e+260>>2]|0)+1;o[e+328>>2]=o[t>>2];o[e+328+4>>2]=o[t+4>>2];o[e+328+8>>2]=o[t+8>>2];o[e+328+12>>2]=o[t+12>>2];return}function Xh(){var e=0,t=0;t=ae;ae=ae+32|0;e=Ww(92)|0;dA(t);pr(e,t);ae=t;return e|0}function zh(e,t,i){e=e|0;t=t|0;i=i|0;o[i>>2]=o[e+56+(t<<4)>>2];o[i+4>>2]=o[e+56+(t<<4)+4>>2];o[i+8>>2]=o[e+56+(t<<4)+8>>2];o[i+12>>2]=o[e+56+(t<<4)+12>>2];return}function Yh(e,t){e=e|0;t=t|0;o[e+260>>2]=(o[e+260>>2]|0)+1;o[e+312>>2]=o[t>>2];o[e+312+4>>2]=o[t+4>>2];o[e+312+8>>2]=o[t+8>>2];o[e+312+12>>2]=o[t+12>>2];return}function Qh(e,t){e=e|0;t=t|0;o[e+260>>2]=(o[e+260>>2]|0)+1;o[e+544>>2]=o[t>>2];o[e+544+4>>2]=o[t+4>>2];o[e+544+8>>2]=o[t+8>>2];o[e+544+12>>2]=o[t+12>>2];return}function Kh(e,t,i,n,r,o,s,a,c,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=+o;s=+s;a=+a;c=+c;l=l|0;_=_|0;u=+u;HF[e&1](t|0,i|0,n|0,r|0,+o,+s,+a,+c,l|0,_|0,+u)}function Zh(e){e=e|0;var t=0.0,i=0.0;i=+c[e+32>>2];+nF[o[(o[e>>2]|0)+48>>2]&15](e);t=+nF[o[(o[e>>2]|0)+48>>2]&15](e);+nF[o[(o[e>>2]|0)+48>>2]&15](e);return+(i+t)}function Jh(e){e=e|0;var t=0.0,i=0.0;i=+c[e+28>>2];t=+nF[o[(o[e>>2]|0)+48>>2]&15](e);+nF[o[(o[e>>2]|0)+48>>2]&15](e);+nF[o[(o[e>>2]|0)+48>>2]&15](e);return+(i+t)}function qh(e,t,i,n,r,o,s,a,c,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;_=_|0;YF[e&3](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0,_|0)}function $h(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ae;ae=ae+16|0;o[n>>2]=o[i>>2];e=mF[o[(o[e>>2]|0)+16>>2]&63](e,t,n)|0;if(e)o[i>>2]=o[n>>2];ae=n;return e&1|0}function ep(e,t,i,n,r){e=e|0;t=+t;i=+i;n=+n;r=+r;var o=0;o=ae;ae=ae+16|0;c[o+8>>2]=t*r;c[o+4>>2]=i*r;c[o>>2]=n*r;Am(e,o+8|0,o+4|0,o);ae=o;return}function tp(e,t){e=e|0;t=t|0;c[e>>2]=+c[e>>2]*+c[t>>2];c[e+4>>2]=+c[e+4>>2]*+c[t>>2];c[e+8>>2]=+c[e+8>>2]*+c[t>>2];c[e+12>>2]=+c[e+12>>2]*+c[t>>2];return e|0}function ip(){var e=0;e=Ww(8)|0;o[6746]=e;$(e|0,0)|0;o[6736]=22157;o[6737]=0;o[6738]=0;o[6739]=0;o[6740]=0;o[6741]=0;o[6742]=0;o[6743]=0;o[6744]=0;hb(26944);return}function np(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;Vd(e,t,i,n,r,o,s,a,c,l);return}function rp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=um(324)|0;gr(n,e,t,i);return n|0}function op(e){e=e|0;var t=0;o[e>>2]=4060;t=o[e+32>>2]|0;if(!t){KL(e);return}if(!(n[e+36>>0]|0)){KL(e);return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);KL(e);return}function sp(e,t,i){e=e|0;t=t|0;i=i|0;e=o[t+204>>2]|0;if(e&4|0)return 0;t=o[i+204>>2]|0;if(!(t&4))return(e&3|0)==0|(t&3|0)==0|0;else return 0;return 0}function ap(e,t,i){e=e|0;t=t|0;i=i|0;iu(e,t);o[e+48>>2]=o[i>>2];o[e+48+4>>2]=o[i+4>>2];o[e+48+8>>2]=o[i+8>>2];o[e+48+12>>2]=o[i+12>>2];return}function cp(e){e=e|0;var t=0;o[e>>2]=7116;if(!(n[e+8>>0]|0))return;t=o[e+12>>2]|0;if(!t)return;e=o[e+4>>2]|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function lp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=0;while(1){if((n|0)>=(t|0))break;L_(i+(n*96|0)|0,(o[e+12>>2]|0)+(n*96|0)|0);n=n+1|0}return}function _p(e){e=e|0;var t=0;o[e>>2]=10568;if(!(n[e+8>>0]|0))return;t=o[e+12>>2]|0;if(!t)return;e=o[e+4>>2]|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function up(e){e=e|0;var t=0;o[e>>2]=6244;t=o[e+20>>2]|0;if(!t){KL(e);return}if(!(n[e+24>>0]|0)){KL(e);return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);KL(e);return}function fp(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+128|0;Of(i,e+68|0);Gd(i+64|0,i,e+4|0);kp(t,i+64|0);ae=i;return}function dp(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;var s=0;s=Fm()|0;Yr(s,e,t,i,n,r,o,0);return s|0}function hp(e){e=e|0;var t=0;o[e>>2]=6592;if(!(n[e+8>>0]|0))return;t=o[e+12>>2]|0;if(!t)return;e=o[e+4>>2]|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function pp(e){e=e|0;var t=0;t=ae;ae=ae+64|0;if((n[24848]|0)==0?PM(24848)|0:0)GR(24848);Of(t,e);kp(25216,t);ae=t;return 25216}function bp(e,t){e=e|0;t=t|0;e=o[e+4>>2]|0;return((o[t>>2]|0)==(e|0)?1:(o[t+4>>2]|0)==(e|0))|0}function mp(e){e=e|0;if(n[24912]|0)return 25552;if(!(PM(24912)|0))return 25552;o[6388]=1065353216;o[6389]=1065353216;o[6390]=1065353216;c[6391]=0.0;GR(24912);return 25552}function Ap(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0;o=ym()|0;$r(o,e,t,i,n,r);return o|0}function gp(e,t){e=e|0;t=t|0;e=o[e+20>>2]|0;return pF[o[(o[e>>2]|0)+8>>2]&31](e,t)|0}function yp(e){e=e|0;var t=0;o[e>>2]=9960;t=o[e+16>>2]|0;if(!t){KL(e);return}if(!(n[e+20>>0]|0)){KL(e);return}o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);KL(e);return}function vp(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+16|0;c[r+8>>2]=t;c[r+4>>2]=i;c[r>>2]=n;Am(e,r+8|0,r+4|0,r);ae=r;return}function Cp(e){e=e|0;var t=0;o[e>>2]=6688;if(!(n[e+8>>0]|0))return;t=o[e+12>>2]|0;if(!t)return;e=o[e+4>>2]|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function Ep(e,t,i,n,r,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;l=+l;VF[o[(o[e>>2]|0)+28>>2]&1](e,t,i,n,c,l);return}function Sp(e,t,i){e=e|0;t=t|0;i=i|0;xw(e);o[e>>2]=3684;kp(e+4|0,t);kp(e+68|0,i);kp(e+132|0,t);o[e+196>>2]=0;return}function Tp(e){e=e|0;var t=0;o[e>>2]=7164;if(!(n[e+16>>0]|0))return;t=o[e+20>>2]|0;if(!t)return;e=o[e+4>>2]|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function Rp(e){e=e|0;var t=0;t=ae;ae=ae+16|0;ku(e);c[t+8>>2]=0.0;c[t+4>>2]=0.0;c[t>>2]=0.0;Am(e+48|0,t+8|0,t+4|0,t);ae=t;return}function Mp(e,t,i){e=e|0;t=t|0;i=i|0;if(!((e|0)==0&(t|0)==0))do{i=i+-1|0;n[i>>0]=e&7|48;e=wA(e|0,t|0,3)|0;t=D()|0}while(!((e|0)==0&(t|0)==0));return i|0}function Op(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;return vF[e&3](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0)|0}function Ip(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;var o=0;o=Ww(44)|0;K_(o,e,t,i,n,r);return o|0}function xp(e,t){e=e|0;t=t|0;wd(e,t);o[e+20>>2]=o[t+20>>2];o[e+20+4>>2]=o[t+20+4>>2];o[e+20+8>>2]=o[t+20+8>>2];o[e+20+12>>2]=o[t+20+12>>2];return}function Pp(e,t,i){e=e|0;t=t|0;i=+i;switch(t|0){case 3:{c[e+452>>2]=i;return}case 4:{c[e+448>>2]=i;return}case 5:{c[e+444>>2]=i;return}default:return}}function Dp(e,t){e=e|0;t=t|0;var i=0;i=0;while(1){if((i|0)==3)break;c[e+868+(i<<6)+4>>2]=+wm(+c[(JL(t)|0)+(i<<2)>>2]);i=i+1|0}return}function wp(e,t){e=e|0;t=t|0;t=o[t+36>>2]|0;_o(e,o[(o[(o[(o[e+4>>2]|0)+4>>2]|0)+24>>2]|0)+(t*80|0)+64>>2]|0,t);return}function Lp(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;return+uF[e&3](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0)}function Fp(e,t){e=e|0;t=t|0;var i=0;i=0;while(1){if((i|0)==3)break;c[e+868+(i<<6)>>2]=+wm(+c[(JL(t)|0)+(i<<2)>>2]);i=i+1|0}return}function Np(e,t,i,n){e=+e;t=t|0;i=i|0;n=n|0;var r=0;r=Ww(140)|0;ml(r,e,t,i,n);return r|0}function Bp(e,t,i,n,r,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;s=s|0;a=a|0;c=c|0;return+ +_F[o[(o[e>>2]|0)+12>>2]&1](e,t,i,n,r,s,a,c)}function kp(e,t){e=e|0;t=t|0;iu(e,t);o[e+48>>2]=o[t+48>>2];o[e+48+4>>2]=o[t+48+4>>2];o[e+48+8>>2]=o[t+48+8>>2];o[e+48+12>>2]=o[t+48+12>>2];return}function Up(e,t){e=e|0;t=t|0;if((n[24824]|0)==0?PM(24824)|0:0)GR(24824);Du(gM(o[e+12>>2]|0,t)|0);return 25088}function Hp(e,t){e=e|0;t=t|0;Am(e,t,t+16|0,t+32|0);Am(e+16|0,t+4|0,t+20|0,t+36|0);Am(e+32|0,t+8|0,t+24|0,t+40|0);return}function jp(e,t){e=e|0;t=t|0;SF[o[(o[t>>2]|0)+32>>2]&511](t);Fs(e,t);SF[o[(o[t>>2]|0)+36>>2]&511](t);return}function Vp(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;zF[e&1](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,l|0)}function Gp(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;LF[o[(o[e>>2]|0)+108>>2]&127](e,t,i);LF[o[(o[e>>2]|0)+108>>2]&127](e,(t+1|0)%3|0,n);return}function Wp(e){e=e|0;var t=0.0,i=0;i=+Fd(e,e)<0.0;t=+c[e+12>>2];if(i){t=+uR(t);t=t*2.0;return+t}else{t=+uR(-t);t=t*2.0;return+t}return 0.0}function Xp(){var e=0,t=0;t=qb(o[6250]|0,o[6251]|0,1284865837,1481765933)|0;t=Uy(t|0,D()|0,1,0)|0;e=D()|0;o[6250]=t;o[6251]=e;e=wA(t|0,e|0,33)|0;D()|0;return e|0}function zp(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;var r=0;r=ae;ae=ae+16|0;c[r+8>>2]=-t;c[r+4>>2]=-i;c[r>>2]=-n;Am(e,r+8|0,r+4|0,r);ae=r;return}function Yp(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;var o=0;o=Em()|0;Or(o,e,t,i&65535,n,r);return o|0}function Qp(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do((e*104|3)+16|0)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Kp(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=0;while(1){if((n|0)>=(t|0))break;xp(i+(n*36|0)|0,(o[e+12>>2]|0)+(n*36|0)|0);n=n+1|0}return}function Zp(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=+l;XF[e&1](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0,+l)}function Jp(e,t){e=e|0;t=t|0;o[e+12>>2]=o[t>>2];o[e+12+4>>2]=o[t+4>>2];o[e+12+8>>2]=o[t+8>>2];o[e+12+12>>2]=o[t+12>>2];return}function qp(e,t){e=e|0;t=t|0;o[e+44>>2]=o[t>>2];o[e+44+4>>2]=o[t+4>>2];o[e+44+8>>2]=o[t+8>>2];o[e+44+12>>2]=o[t+12>>2];return}function $p(e,t){e=e|0;t=t|0;if(!((r[t+4>>1]&r[e+6>>1])<<16>>16)){e=0;return e|0}e=(r[e+4>>1]&r[t+6>>1])<<16>>16!=0;return e|0}function eb(e,t){e=e|0;t=t|0;if(!((r[t+4>>1]&r[e+10>>1])<<16>>16)){e=0;return e|0}e=(r[e+8>>1]&r[t+6>>1])<<16>>16!=0;return e|0}function tb(e,t){e=e|0;t=t|0;o[e+696>>2]=o[t>>2];o[e+696+4>>2]=o[t+4>>2];o[e+696+8>>2]=o[t+8>>2];o[e+696+12>>2]=o[t+12>>2];return}function ib(e,t){e=e|0;t=t|0;o[e+680>>2]=o[t>>2];o[e+680+4>>2]=o[t+4>>2];o[e+680+8>>2]=o[t+8>>2];o[e+680+12>>2]=o[t+12>>2];return}function nb(e,t){e=e|0;t=t|0;o[e+60>>2]=o[t>>2];o[e+60+4>>2]=o[t+4>>2];o[e+60+8>>2]=o[t+8>>2];o[e+60+12>>2]=o[t+12>>2];return}function rb(e,t){e=e|0;t=t|0;o[e+28>>2]=o[t>>2];o[e+28+4>>2]=o[t+4>>2];o[e+28+8>>2]=o[t+8>>2];o[e+28+12>>2]=o[t+12>>2];return}function ob(e){e=e|0;o[e>>2]=3616;Cx(e+112|0);Cx(e+92|0);Cx(e+72|0);Cx(e+20|0);return}function sb(e,t){e=e|0;t=t|0;o[e+156>>2]=o[t>>2];o[e+156+4>>2]=o[t+4>>2];o[e+156+8>>2]=o[t+8>>2];o[e+156+12>>2]=o[t+12>>2];return}function ab(e,t,i){e=e|0;t=t|0;i=i|0;n[e+1309+t>>0]=i&1;if((t|0)<3){n[e+788+t>>0]=i&1;return}else{n[e+868+(t+-3<<6)+44>>0]=i&1;return}}function cb(e,t){e=e|0;t=t|0;if(!((r[t+4>>1]&r[e+14>>1])<<16>>16)){e=0;return e|0}e=(r[e+12>>1]&r[t+6>>1])<<16>>16!=0;return e|0}function lb(e,t){e=e|0;t=t|0;o[e+108>>2]=o[t>>2];o[e+108+4>>2]=o[t+4>>2];o[e+108+8>>2]=o[t+8>>2];o[e+108+12>>2]=o[t+12>>2];return}function _b(e,t,i){e=e|0;t=t|0;i=i|0;var n=0,r=0;r=(JL(t)|0)+(i<<2)|0;n=(JL(t+16|0)|0)+(i<<2)|0;Am(e,r,n,(JL(t+32|0)|0)+(i<<2)|0);return}function ub(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do(e*96|19)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function fb(e,t){e=e|0;t=t|0;o[e+20>>2]=o[t>>2];o[e+20+4>>2]=o[t+4>>2];o[e+20+8>>2]=o[t+8>>2];o[e+20+12>>2]=o[t+12>>2];return}function db(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do((e<<4|3)+16|0)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function hb(e){e=e|0;var t=0;do{o[e+4>>2]=0;c[e+8>>2]=0.0;t=o[e+24>>2]|0;if(t|0)hb(t);e=o[e+28>>2]|0}while((e|0)!=0);return}function pb(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=+o;tr(e,t,i,n,r,o);return}function bb(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do((e*36|3)+16|0)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function mb(e,t){e=e|0;t=t|0;o[e+172>>2]=o[t>>2];o[e+172+4>>2]=o[t+4>>2];o[e+172+8>>2]=o[t+8>>2];o[e+172+12>>2]=o[t+12>>2];return}function Ab(e,t){e=e|0;t=t|0;o[e+32>>2]=o[t>>2];o[e+32+4>>2]=o[t+4>>2];o[e+32+8>>2]=o[t+8>>2];o[e+32+12>>2]=o[t+12>>2];return}function gb(e){e=e|0;c[e>>2]=5.880000114440918;c[e+4>>2]=.8299999833106995;c[e+8>>2]=.8799999952316284;c[e+12>>2]=500.0;c[e+16>>2]=10.5;c[e+20>>2]=6.0e3;return}function yb(e,t){e=e|0;t=t|0;o[e+316>>2]=o[t>>2];o[e+316+4>>2]=o[t+4>>2];o[e+316+8>>2]=o[t+8>>2];o[e+316+12>>2]=o[t+12>>2];return}function vb(e,t){e=e|0;t=t|0;o[e+300>>2]=o[t>>2];o[e+300+4>>2]=o[t+4>>2];o[e+300+8>>2]=o[t+8>>2];o[e+300+12>>2]=o[t+12>>2];return}function Cb(e,t){e=e|0;t=t|0;o[e+64>>2]=o[t>>2];o[e+64+4>>2]=o[t+4>>2];o[e+64+8>>2]=o[t+8>>2];o[e+64+12>>2]=o[t+12>>2];return}function Eb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=Em()|0;Or(r,e,t,i&65535,n,0);return r|0}function Sb(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=0;while(1){if((n|0)>=(t|0))break;o[i+(n<<2)>>2]=o[(o[e+12>>2]|0)+(n<<2)>>2];n=n+1|0}return}function Tb(e,t){e=e|0;t=t|0;o[e+52>>2]=o[t>>2];o[e+52+4>>2]=o[t+4>>2];o[e+52+8>>2]=o[t+8>>2];o[e+52+12>>2]=o[t+12>>2];return}function Rb(e,t){e=e|0;t=t|0;o[e+188>>2]=o[t>>2];o[e+188+4>>2]=o[t+4>>2];o[e+188+8>>2]=o[t+8>>2];o[e+188+12>>2]=o[t+12>>2];return}function Mb(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[i>>2];o[e+8>>2]=o[n>>2];o[e+12>>2]=o[r>>2];return}function Ob(e,t,i,n,r,o,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;return+_F[e&1](t|0,i|0,n|0,r|0,o|0,s|0,a|0,c|0)}function Ib(e,t){e=e|0;t=t|0;o[e+16>>2]=o[t>>2];o[e+16+4>>2]=o[t+4>>2];o[e+16+8>>2]=o[t+8>>2];o[e+16+12>>2]=o[t+12>>2];return}function xb(e,t,i){e=e|0;t=t|0;i=+i;xF[o[(o[e>>2]|0)+32>>2]&127](e,t);PF[o[(o[e>>2]|0)+36>>2]&7](e,t,i);return}function Pb(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do((e<<2|3)+16|0)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Db(e,t){e=e|0;t=t|0;o[e+68>>2]=o[t>>2];o[e+68+4>>2]=o[t+4>>2];o[e+68+8>>2]=o[t+8>>2];o[e+68+12>>2]=o[t+12>>2];return}function wb(e,t){e=e|0;t=t|0;o[e+36>>2]=o[t>>2];o[e+36+4>>2]=o[t+4>>2];o[e+36+8>>2]=o[t+8>>2];o[e+36+12>>2]=o[t+12>>2];return}function Lb(e,t){e=e|0;t=t|0;o[e>>2]=o[t+248>>2];o[e+4>>2]=o[t+248+4>>2];o[e+8>>2]=o[t+248+8>>2];o[e+12>>2]=o[t+248+12>>2];return}function Fb(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=ym()|0;Ir(n,e,t,i);return n|0}function Nb(){var e=0;e=Om()|0;qu();qu();Sp(e,25328,25328);return e|0}function Bb(e,t,i){e=e|0;t=t|0;i=i|0;if((o[e+4>>2]|0)==(t|0)?(o[e+28>>2]|0)!=1:0)o[e+28>>2]=i;return}function kb(e,t){e=e|0;t=t|0;o[e+48>>2]=o[t>>2];o[e+48+4>>2]=o[t+4>>2];o[e+48+8>>2]=o[t+8>>2];o[e+48+12>>2]=o[t+12>>2];return}function Ub(e,t){e=e|0;t=t|0;c[e>>2]=+c[e>>2]+ +c[t>>2];c[e+4>>2]=+c[e+4>>2]+ +c[t+4>>2];c[e+8>>2]=+c[e+8>>2]+ +c[t+8>>2];return e|0}function Hb(e,t){e=e|0;t=t|0;c[e>>2]=+c[e>>2]-+c[t>>2];c[e+4>>2]=+c[e+4>>2]-+c[t+4>>2];c[e+8>>2]=+c[e+8>>2]-+c[t+8>>2];return e|0}function jb(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+64|0;Gd(i,t,e+68|0);kp(e+4|0,i);ae=i;return}function Vb(e){e=e|0;var t=0;t=Ww(112)|0;Et(t,e);return t|0}function Gb(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=Em()|0;Or(n,e,t,i&65535,0,0);return n|0}function Wb(e,t){e=e|0;t=t|0;o[e+76>>2]=o[t>>2];o[e+76+4>>2]=o[t+4>>2];o[e+76+8>>2]=o[t+8>>2];o[e+76+12>>2]=o[t+12>>2];return}function Xb(e,t){e=e|0;t=t|0;o[e+4>>2]=o[t>>2];o[e+4+4>>2]=o[t+4>>2];o[e+4+8>>2]=o[t+8>>2];o[e+4+12>>2]=o[t+12>>2];return}function zb(e,t){e=e|0;t=t|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[t+4>>2];o[e+8>>2]=o[t+8>>2];o[e+12>>2]=o[t+12>>2];return}function Yb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0;r=um(1252)|0;Vo(r,e,t,i,n);return r|0}function Qb(e,t){e=e|0;t=t|0;o[e+40>>2]=o[t>>2];o[e+40+4>>2]=o[t+4>>2];o[e+40+8>>2]=o[t+8>>2];o[e+40+12>>2]=o[t+12>>2];return}function Kb(e,t){e=e|0;t=t|0;o[e+24>>2]=o[t>>2];o[e+24+4>>2]=o[t+4>>2];o[e+24+8>>2]=o[t+8>>2];o[e+24+12>>2]=o[t+12>>2];return}function Zb(e,t){e=e|0;t=t|0;o[e+72>>2]=o[t>>2];o[e+72+4>>2]=o[t+4>>2];o[e+72+8>>2]=o[t+8>>2];o[e+72+12>>2]=o[t+12>>2];return}function Jb(e,t){e=e|0;t=t|0;o[e+56>>2]=o[t>>2];o[e+56+4>>2]=o[t+4>>2];o[e+56+8>>2]=o[t+8>>2];o[e+56+12>>2]=o[t+12>>2];return}function qb(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,o=0;r=fh(e,i)|0;o=D()|0;return(P((O(t,i)|0)+(O(n,e)|0)+o|o&0|0),r|0|0)|0}function $b(e,t){e=e|0;t=t|0;c[e>>2]=+c[e>>2]*+c[t>>2];c[e+4>>2]=+c[e+4>>2]*+c[t>>2];c[e+8>>2]=+c[e+8>>2]*+c[t>>2];return e|0}function em(e,t){e=e|0;t=t|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;c[e+(o[t+52>>2]<<2)>>2]=1.0;return}function tm(e,t){e=e|0;t=t|0;o[e+8>>2]=o[t>>2];o[e+8+4>>2]=o[t+4>>2];o[e+8+8>>2]=o[t+8>>2];o[e+8+12>>2]=o[t+12>>2];return}function im(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(215)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function nm(e,t,i,n,r,o,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;return yF[e&0](t|0,i|0,n|0,r|0,o|0,s|0,a|0)|0}function rm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=eA()|0;So(n,e,t,i);return n|0}function om(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return Ws(t,i,n,r)|0}function sm(e,t){e=e|0;t=t|0;var i=0;i=0;while(1){if((i|0)>=(t|0))break;ew((o[e+12>>2]|0)+(i*36|0)|0);i=i+1|0}return}function am(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(203)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function cm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(1407)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function lm(e){e=e|0;sm(e,JL(o[e+4>>2]|0)|0);Qm(e);eC(e);return}function _m(e,t,i,n,r,s){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;s=s|0;NF[o[(o[e>>2]|0)+32>>2]&1](e,t,i,n,r,s);return}function um(e){e=e|0;o[6747]=(o[6747]|0)+1;e=Do(e+19|0)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function fm(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;o=o|0;Q(2,e|0,t|0,i|0,+n,r|0,o|0)|0;return}function dm(e){e=e|0;var t=0;t=Om()|0;qu();Sp(t,e,25328);return t|0}function hm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(191)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function pm(e,t){e=e|0;t=t|0;if(!t?o[e+204>>2]&3|0:0)return;if((o[e+216>>2]&-2|0)!=4)o[e+216>>2]=1;c[e+220>>2]=0.0;return}function bm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e+-4>>2]|0)+8>>2]&127](e+-4|0,t,i,n);return}function mm(e,t){e=e|0;t=t|0;var i=0.0;i=+rP(e);i=+kL(i*+rP(t));return+ +uR(+Fd(e,t)/i)}function Am(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;o[e>>2]=o[t>>2];o[e+4>>2]=o[i>>2];o[e+8>>2]=o[n>>2];c[e+12>>2]=0.0;return}function gm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(143)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function ym(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(1331)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function vm(e,t,i,n,r,o,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;WF[e&1](t|0,i|0,n|0,r|0,o|0,s|0,a|0)}function Cm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(379)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Em(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(135)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Sm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;return}function Tm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(627)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Rm(e,t){e=e|0;t=t|0;var i=0;i=Em()|0;Or(i,e,t,16384,0,0);return i|0}function Mm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(791)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Om(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(219)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Im(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(1147)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function xm(e,t){e=e|0;t=t|0;var i=0;i=Ww(80)|0;fu(i,e,t);return i|0}function Pm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(103)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Dm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(147)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function wm(e){e=+e;e=+hL(e);if(e<-3.1415927410125732){e=e+6.2831854820251465;return+e}if(!(e>3.1415927410125732))return+e;e=e+-6.2831854820251465;return+e}function Lm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(115)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Fm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(783)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Nm(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(131)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Bm(e,t){e=e|0;t=t|0;o[e+348>>2]=o[t>>2];o[e+348+4>>2]=o[t+4>>2];o[e+348+8>>2]=o[t+8>>2];return}function km(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;if((n|0)<=0)return;_l(i|0,0,n<<4|0)|0;return}function Um(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(111)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Hm(e,t){e=e|0;t=t|0;o[e+480>>2]=t;if(!t)return;xF[o[(o[t>>2]|0)+8>>2]&127](t,e+4|0);return}function jm(e,t){e=e|0;t=t|0;var i=0;i=eA()|0;So(i,e,t,1);return i|0}function Vm(e,t,i){e=e|0;t=t|0;i=i|0;var n=0;n=o[e+192>>2]|0;BF[o[(o[n>>2]|0)+8>>2]&127](n,e+4|0,t,i);return}function Gm(e){e=e|0;var t=0;t=Ww(92)|0;pr(t,e);return t|0}function Wm(e,t){e=e|0;t=t|0;o[e>>2]=1065353216;o[e+4>>2]=1065353216;o[e+8>>2]=1065353216;c[e+12>>2]=0.0;return}function Xm(e){e=e|0;if(!(dF[o[(o[e>>2]|0)+40>>2]&127](e)|0))return;o[e+16>>2]=o[e+28>>2];n[e+169>>0]=1;return}function zm(e){e=e|0;var t=0;t=ae;ae=ae+16|0;o[t>>2]=JL(o[e+60>>2]|0)|0;e=bw(V(6,t|0)|0)|0;ae=t;return e|0}function Ym(e,t){e=e|0;t=t|0;var i=0;i=o[e+8>>2]|0;LF[o[i+60>>2]&127](t,i,o[e+4>>2]|0);return 0}function Qm(e){e=e|0;var t=0;t=o[e+12>>2]|0;if(!t)return;if(n[e+16>>0]&1)CE(t);o[e+12>>2]=0;return}function Km(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(71)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function Zm(e,t){e=e|0;t=t|0;var i=0;i=e+92|0;do{o[e>>2]=o[t>>2];e=e+4|0;t=t+4|0}while((e|0)<(i|0));return}function Jm(e,t){e=e|0;t=t|0;var i=0;i=Ww(132)|0;d_(i,e,t);return i|0}function qm(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;Qt(e,t,i,n);return}function $m(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(67)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function eA(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(95)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function tA(e,t){e=e|0;t=t|0;return+ +RE(+c[e>>2],+c[e+4>>2],+c[e+8>>2],+c[t>>2],+c[t+4>>2],+c[t+8>>2])}function iA(e,t){e=e|0;t=t|0;var i=0;i=Ww(84)|0;Su(i,e,t);return i|0}function nA(e,t,i){e=e|0;t=t|0;i=i|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;o[e+12>>2]=0;return}function rA(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(75)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function oA(){var e=0;o[6747]=(o[6747]|0)+1;e=Do(35)|0;if(!e){e=0;return e|0}o[(e+4+15&-16)+-4>>2]=e;e=e+4+15&-16;return e|0}function sA(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;return gF[e&3](t|0,i|0,n|0,r|0,o|0,s|0)|0}function aA(e){e=e|0;gt(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function cA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,i,n);return}function lA(e){e=e|0;o[e>>2]=3640;c[e+4>>2]=1.0;o[e+8>>2]=0;r[e+12>>1]=1;r[e+14>>1]=-1;o[e+16>>2]=0;return}function _A(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,i,n);return}function uA(e){e=e|0;var t=0;t=rA()|0;ia(t,e);o[t>>2]=9660;o[t+52>>2]=2;return t|0}function fA(e){e=e|0;var t=0;t=rA()|0;ia(t,e);o[t>>2]=9556;o[t+52>>2]=0;return t|0}function dA(e){e=e|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=4096;o[e+12>>2]=4096;o[e+16>>2]=0;o[e+20>>2]=1;return}function hA(e,t,i){e=e|0;t=t|0;i=i|0;Gr(o[e+116>>2]|0,o[e+144>>2]|0,t,i);return}function pA(e,t){e=e|0;t=+t;var i=0;i=ae;ae=ae+16|0;c[i>>2]=t;e=tp(e,i)|0;ae=i;return e|0}function bA(e,t){e=e|0;t=t|0;var i=0;i=Om()|0;Sp(i,e,t);return i|0}function mA(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){P(t<<i|(e&(1<<i)-1<<32-i)>>>32-i|0);return e<<i}P(e<<i-32|0);return 0}function AA(e){e=e|0;if(!e){e=0;return e|0}e=ub(e)|0;return e|0}function gA(e,t,i){e=e|0;t=t|0;i=i|0;if(i)i=(Ad(o[e+4>>2]|0,o[t+4>>2]|0)|0)==0;else i=(e|0)==(t|0);return i|0}function yA(e,t,i){e=e|0;t=t|0;i=i|0;LF[o[(o[t>>2]|0)+64>>2]&127](e,t,i);return}function vA(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return 0.0}function CA(e,t,i){e=e|0;t=+t;i=i|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;return}function EA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+80>>2]&127](e,t,i,n);return}function SA(e){e=e|0;if(!e){e=0;return e|0}e=Qp(e)|0;return e|0}function TA(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;o=o|0;s=s|0;return+aF[e&3](t|0,i|0,n|0,+r,o|0,s|0)}function RA(e,t){e=e|0;t=+t;var i=0;i=ae;ae=ae+16|0;c[i>>2]=t;e=$b(e,i)|0;ae=i;return e|0}function MA(e){e=e|0;if(o[e+204>>2]&3|0)return;if((o[e+216>>2]&-2|0)!=4)o[e+216>>2]=1;c[e+220>>2]=0.0;return}function OA(e,t){e=e|0;t=t|0;Af(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function IA(){var e=0;e=Ww(8)|0;o[e>>2]=0;o[e+4>>2]=0;ES(e);return e|0}function xA(e,t){e=e|0;t=t|0;e=o[e+4>>2]|0;pF[o[(o[e>>2]|0)+8>>2]&31](e,o[t+36>>2]|0)|0;return}function PA(e,t){e=e|0;t=t|0;Hp(e,t);Am(e+48|0,t+48|0,t+52|0,t+56|0);return}function DA(e,t,i){e=e|0;t=t|0;i=i|0;$t(o[e+116>>2]|0,t,i);return}function wA(e,t,i){e=e|0;t=t|0;i=i|0;if((i|0)<32){P(t>>>i|0);return e>>>i|(t&(1<<i)-1)<<32-i}P(0);return t>>>i-32|0}function LA(e,t){e=e|0;t=t|0;o[e+260>>2]=(o[e+260>>2]|0)+1;o[e+192>>2]=t;o[e+200>>2]=t;return}function FA(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;GF[e&7](t|0,i|0,n|0,r|0,o|0,s|0)}function NA(e,t,i,n,r,o,s,a,c,l,_,u){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;o=+o;s=+s;a=+a;c=+c;l=l|0;_=+_;u=u|0;x(36)}function BA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+24>>2]&127](e,t,i,n);return}function kA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+88>>2]&127](e,t,i,n);return}function UA(e,t,i){e=e|0;t=t|0;i=i|0;LF[o[(o[t>>2]|0)+68>>2]&127](e,t,i);return}function HA(e,t){e=e|0;t=t|0;e=(n[e+344>>0]|0)==0?3:0;o[t>>2]=e;o[t+4>>2]=e;return}function jA(e,t){e=e|0;t=+t;var i=0;i=ae;ae=ae+16|0;c[i>>2]=1.0/t;e=tp(e,i)|0;ae=i;return e|0}function VA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,i,n);return}function GA(e,t,i){e=e|0;t=+t;i=i|0;return hF[o[(o[e>>2]|0)+52>>2]&1](e,t,i,.01666666753590107)|0}function WA(e,t,i){e=e|0;t=+t;i=i|0;o[i>>2]=0;o[i+4>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;return}function XA(e,t){e=e|0;t=t|0;Ff(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function zA(e,t,i,n){e=e|0;t=+t;i=i|0;n=+n;return hF[o[(o[e>>2]|0)+52>>2]&1](e,t,i,n)|0}function YA(e,t){e=e|0;t=t|0;o[e>>2]=0;o[e+4>>2]=0;o[e+8>>2]=1065353216;c[e+12>>2]=0.0;return}function QA(e,t){e=e|0;t=t|0;o[e>>2]=1065353216;o[e+4>>2]=0;o[e+8>>2]=0;c[e+12>>2]=0.0;return}function KA(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+28>>2]&127](e,t,i,n);return}function ZA(e,t){e=e|0;t=t|0;o[e>>2]=0;o[e+4>>2]=1065353216;o[e+8>>2]=0;c[e+12>>2]=0.0;return}function JA(e,t){e=e|0;t=t|0;LF[o[(o[e>>2]|0)+8>>2]&127](e,t,o[(o[e+8>>2]|0)+48>>2]|0);return}function qA(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=+s;VF[e&1](t|0,i|0,n|0,r|0,o|0,+s)}function $A(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;o=o|0;s=s|0;NF[e&1](t|0,i|0,n|0,+r,o|0,s|0)}function eg(e,t){e=e|0;t=t|0;Nf(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function tg(e,t,i){e=e|0;t=t|0;i=+i;c[(o[e+720>>2]|0)+(t*104|0)+88>>2]=i>0.0?1.0/i:0.0;n[e+924>>0]=1;return}function ig(e,t,i){e=e|0;t=t|0;i=+i;PF[o[(o[e>>2]|0)+20>>2]&7](e,t,i);return}function ng(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+124>>2]&127](e,n,t,i);return}function rg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;o[e+120>>2]=t;o[e+124>>2]=i;o[e+128>>2]=n;return}function og(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;AF[o[(o[e>>2]|0)+8>>2]&31](e,t,i,n)|0;return}function sg(e,t){e=e|0;t=t|0;Lh(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function ag(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;Am(e,t,i,n);o[e+12>>2]=o[r>>2];return}function cg(e,t,i,r){e=e|0;t=t|0;i=+i;r=+r;n[e+737>>0]=t&1;c[e+680>>2]=i;c[e+684>>2]=r;return}function lg(e,t){e=e|0;t=t|0;var i=0.0,n=0;n=(o[t>>2]|0)+(8-1)&~(8-1);i=+l[n>>3];o[t>>2]=n+8;l[e>>3]=i;return}function _g(e,t){e=e|0;t=t|0;Sf(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function ug(e,t,i,n,r,o){e=e|0;t=+t;i=+i;n=+n;r=+r;o=+o;gf(e,t,i,n,r,o);return}function fg(e){e=e|0;bc(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function dg(e){e=e|0;Ql(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function hg(e,t,i,n,r,o,s){e=e|0;t=t|0;i=+i;n=+n;r=r|0;o=o|0;s=s|0;MF[e&3](t|0,+i,+n,r|0,o|0,s|0)}function pg(e,t,i){e=e|0;t=t|0;i=i|0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,i,-3);return}function bg(e,t){e=e|0;t=t|0;var i=0;i=Nm()|0;mt(i,e,t,16);return i|0}function mg(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return 1.0}function Ag(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return}function gg(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;x(19);return 0}function yg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+32>>2]&127](e,t,i,n);return}function vg(e){e=e|0;Zt(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Cg(e){e=e|0;if(!e){e=0;return e|0}e=db(e)|0;return e|0}function Eg(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;x(9);return 0.0}function Sg(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;la(e,t,i,n,r);return}function Tg(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;rt(e,t,i,n,r);return}function Rg(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;DF[o[(o[e>>2]|0)+28>>2]&7](e,t,i,n);return}function Mg(e,t){e=e|0;t=t|0;mo(e,t);return}function Og(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;BF[o[(o[e>>2]|0)+8>>2]&127](e,t,i,n);return}function Ig(e,t,i,n,r,o,s,a,c,l,_){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;o=+o;s=+s;a=+a;c=c|0;l=l|0;_=+_;x(37)}function xg(e,t){e=e|0;t=t|0;$t(o[e+116>>2]|0,t,1);return}function Pg(e,t){e=e|0;t=t|0;o[e+260>>2]=(o[e+260>>2]|0)+1;kp(e+4|0,t);return}function Dg(e){e=e|0;Cx(e+144|0);Cx(e+124|0);Cx(e+104|0);return}function wg(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;return+lF[e&15](t|0,i|0,n|0,r|0,o|0)}function Lg(e,t){e=e|0;t=t|0;var i=0;i=hm()|0;dt(i,e,t);return i|0}function Fg(e){e=e|0;if(!e){e=0;return e|0}e=bb(e)|0;return e|0}function Ng(e,t){e=e|0;t=t|0;Uh(e,+c[t>>2],+c[t+4>>2],+c[t+8>>2]);return}function Bg(e,t,i){e=e|0;t=t|0;i=i|0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,i,-1);return}function kg(e,t){e=e|0;t=+t;var i=0;i=ae;ae=ae+16|0;c[i>>2]=1.0/t;$b(e,i)|0;ae=i;return}function Ug(e,t){e=e|0;t=+t;return hF[o[(o[e>>2]|0)+52>>2]&1](e,t,1,.01666666753590107)|0}function Hg(e){e=e|0;var t=0;t=Ww(8)|0;ky(t,e);return t|0}function jg(e,t,i){e=e|0;t=t|0;i=i|0;LF[o[(o[e>>2]|0)+56>>2]&127](e,t,i);return}function Vg(e,t,i){e=e|0;t=t|0;i=+i;PF[o[(o[e>>2]|0)+36>>2]&7](e,t,i);return}function Gg(e){e=e|0;In(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Wg(e,t,i,n,r,o,s,a,c,l){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;l=l|0;x(44)}function Xg(e){e=e|0;Ua(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function zg(e,t,i,n,r){e=e|0;t=+t;i=+i;n=+n;r=+r;gf(e,t,i,n,r,1.0);return}function Yg(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;o=o|0;return+oF[e&3](t|0,i|0,+n,r|0,o|0)}function Qg(e,t,i,n){e=e|0;t=t|0;i=+i;n=+n;cg(e,t,i,n);return}function Kg(e){e=e|0;o[e>>2]=9372;if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function Zg(e,t){e=e|0;t=t|0;return o[(yM(o[e+24>>2]|0,t)|0)+64>>2]|0}function Jg(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;jF[e&31](t|0,i|0,n|0,r|0,o|0)}function qg(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;K(1,e|0,t|0,i|0,n|0)|0;return}function $g(e){e=e|0;if(!(o[e+12>>2]|0)){e=0;return e|0}e=o[e+20>>2]|0;return e|0}function ey(e){e=e|0;T_(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function ty(e,t){e=e|0;t=t|0;var i=0;i=Ww(64)|0;Vh(i,e,t);return i|0}function iy(){var e=0;e=Ww(24)|0;dA(e);return e|0}function ny(e,t,i){e=e|0;t=t|0;i=+i;TF[o[(o[e>>2]|0)+16>>2]&31](e,i);return}function ry(e,t,i){e=e|0;t=t|0;i=i|0;Pf(e,t,i);return}function oy(e,t){e=e|0;t=t|0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,2,-3);return}function sy(e){e=e|0;var t=0;t=Nm()|0;mt(t,e,0,16);return t|0}function ay(e,t,i){e=e|0;t=+t;i=i|0;OF[o[(o[e>>2]|0)+32>>2]&15](e,t,i);return}function cy(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;return}function ly(e){e=e|0;xn(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function _y(e){e=e|0;Pn(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function uy(e,t,i){e=e|0;t=t|0;i=i|0;return+ +sF[o[(o[e>>2]|0)+32>>2]&15](e,t,i)}function fy(e){e=e|0;if(!e){e=0;return e|0}e=Pb(e)|0;return e|0}function dy(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=+o;kF[e&1](t|0,i|0,n|0,r|0,+o)}function hy(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;o=o|0;wF[e&1](t|0,i|0,+n,r|0,o|0)}function py(e,t,i,n,r,o,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;x(18);return 0}function by(e,t){e=e|0;t=t|0;FC(e+20|0,t);return}function my(e){e=e|0;if(!(+c[e+16>>2]==0.0)){e=0;return e|0}e=+c[e+20>>2]==0.0;return e|0}function Ay(e){e=e|0;o[e>>2]=5660;if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function gy(e){e=e|0;o[e>>2]=6120;if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function yy(e,t,i,n,r,o,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;x(8);return 0.0}function vy(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;n=t-n-(i>>>0>e>>>0|0)>>>0;return(P(n|0),e-i>>>0|0)|0}function Cy(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function Ey(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+52>>2]&127](e,t);return}function Sy(e,t){e=e|0;t=t|0;return pF[o[(o[e>>2]|0)+92>>2]&31](e,t)|0}function Ty(e,t,i){e=e|0;t=t|0;i=+i;PF[o[(o[e>>2]|0)+8>>2]&7](e,t,i);return}function Ry(e,t){e=e|0;t=t|0;RT(e,t);return}function My(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;is(e,t,i,n)|0;return 1}function Oy(e){e=e|0;var t=0;t=((o[e+52>>2]|0)+2|0)%3|0;return+ +c[(JL(e+28|0)|0)+(t<<2)>>2]}function Iy(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+68>>2]&127](e,t);return}function xy(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;Mb(e,t,i,n,r);return}function Py(e,t,i){e=e|0;t=t|0;i=i|0;LF[o[(o[e>>2]|0)+40>>2]&127](e,t,i);return}function Dy(e,t){e=e|0;t=t|0;var i=0;i=ae;ae=ae+16|0;o[i>>2]=t;TI(3312,e,i)|0;Ou();G()}function wy(e){e=+e;var t=0;l[_>>3]=e;t=o[_>>2]|0;P(o[_+4>>2]|0);return t|0}function Ly(e){e=e|0;var t=0;t=hm()|0;dt(t,e,1);return t|0}function Fy(e,t,i){e=e|0;t=+t;i=i|0;c[(o[e+144>>2]|0)+(i*284|0)+232>>2]=t;return}function Ny(e,t,i){e=e|0;t=+t;i=i|0;c[(o[e+144>>2]|0)+(i*284|0)+252>>2]=t;return}function By(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return}function ky(e,t){e=e|0;t=t|0;uw(e);o[e>>2]=5968;o[e+4>>2]=t;return}function Uy(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return(P(t+n+(e+i>>>0>>>0<e>>>0|0)>>>0|0),e+i>>>0|0)|0}function Hy(e,t){e=e|0;t=t|0;Dp(e,t);return}function jy(e,t){e=e|0;t=t|0;Fp(e,t);return}function Vy(e,t){e=e|0;t=t|0;BF[o[(o[e>>2]|0)+36>>2]&127](e,t,1,-1);return}function Gy(e,t,i){e=e|0;t=t|0;i=i|0;hn(t,i);return}function Wy(e,t){e=e|0;t=t|0;Ku(e,t);return}function Xy(e){e=e|0;js(e);if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function zy(e,t){e=e|0;t=t|0;XI(t);return}function Yy(e,t){e=e|0;t=t|0;zI(t);return}function Qy(e){e=e|0;o[e>>2]=3592;c[e+4>>2]=1.0;r[e+8>>1]=1;r[e+10>>1]=-1;return}function Ky(e,t){e=e|0;t=t|0;if((o[e+216>>2]&-2|0)==4)return;o[e+216>>2]=t;return}function Zy(e,t){e=e|0;t=t|0;tb(e,t);return}function Jy(e,t){e=e|0;t=t|0;ib(e,t);return}function qy(e,t){e=e|0;t=t|0;LF[o[(o[e>>2]|0)+56>>2]&127](e,t,0);return}function $y(e,t){e=e|0;t=+t;sE(e,t);return}function ev(e,t,i){e=e|0;t=t|0;i=i|0;return sr(e,t,i)|0}function tv(e,t){e=e|0;t=t|0;return pF[o[(o[e>>2]|0)+40>>2]&31](e,t)|0}function iv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+60>>2]&127](e,t);return}function nv(e,t,i){e=e|0;t=t|0;i=+i;xF[o[(o[e>>2]|0)+12>>2]&127](e,t);return}function rv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+92>>2]&127](e,t);return}function ov(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=+n;r=+r;C_(e,t,i,n,r);return}function sv(e,t){e=e|0;t=t|0;Iu(e,t);return}function av(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return AF[e&31](t|0,i|0,n|0,r|0)|0}function cv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+32>>2]&127](e,t);return}function lv(e){e=e|0;var t=0;t=rA()|0;ia(t,e);return t|0}function _v(e,t,i,n,r,o,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=c|0;x(43)}function uv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+40>>2]&127](e,t);return}function fv(e,t){e=e|0;t=t|0;return o[(iP(o[e+276>>2]|0,t)|0)>>2]|0}function dv(e,t,i){e=e|0;t=t|0;i=i|0;ro(e,t,i);return}function hv(e,t,i){e=e|0;t=+t;i=i|0;c[(o[e+144>>2]|0)+(i*284|0)+256>>2]=t;return}function pv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+84>>2]&127](e,t);return}function bv(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;Y_(e,t,i,n);return}function mv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+28>>2]&127](e,t);return}function Av(e,t){e=e|0;t=t|0;YC(e+72|0,t);return}function gv(e,t){e=e|0;t=+t;o[e+260>>2]=(o[e+260>>2]|0)+1;c[e+232>>2]=t;return}function yv(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;return+cF[e&1](t|0,i|0,n|0,r|0)}function vv(e,t,i,n,r,o,s,a,c){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;c=+c;x(42)}function Cv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+72>>2]&127](e,t);return}function Ev(e,t){e=e|0;t=t|0;Ix(t);return}function Sv(){var e=0;e=Nm()|0;mt(e,0,0,16);return e|0}function Tv(e,t){e=e|0;t=t|0;YC(e+92|0,t);return}function Rv(e){e=e|0;var t=0;t=Ww(284)|0;Za(t,e);return t|0}function Mv(e){e=e|0;if(!e)return;SF[o[(o[e>>2]|0)+8>>2]&511](e);return}function Ov(e,t){e=e|0;t=+t;c[e+36>>2]=t;c[e+40>>2]=+E(+t);return}function Iv(e){e=e|0;if(!e)return;SF[o[(o[e>>2]|0)+4>>2]&511](e);return}function xv(e,t){e=e|0;t=+t;return+(+nF[o[(o[e>>2]|0)+16>>2]&15](e)*t)}function Pv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+64>>2]&127](e,t);return}function Dv(e){e=e|0;kg(e,+KT(+c[e>>2],+c[e+4>>2],+c[e+8>>2]));return}function wv(e,t){e=e|0;t=+t;YR(e,t);return}function Lv(e,t){e=e|0;t=t|0;bC(e+868|0,t);return}function Fv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+12>>2]&127](e,t);return}function Nv(e,t,i){e=e|0;t=t|0;i=+i;c[e+1316+(t<<2)>>2]=i;return}function Bv(e,t){e=e|0;t=+t;o[e+260>>2]=(o[e+260>>2]|0)+1;c[e+228>>2]=t;return}function kv(e,t){e=e|0;t=t|0;ao(e,t);return}function Uv(e){e=e|0;return+ +(dF[o[(o[e>>2]|0)+36>>2]&127](e)|0)}function Hv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+8>>2]&127](e,t);return}function jv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+16>>2]&127](e,t);return}function Vv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+36>>2]&127](e,t);return}function Gv(e,t){e=e|0;t=t|0;t=(t|0)<2?t:2;o[e+176>>2]=(t|0)>0?t:0;return}function Wv(e,t,i,n,r,o,s,a){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;a=a|0;x(7);return 0.0}function Xv(e,t){e=e|0;t=t|0;return+ +c[(iP(o[e+12>>2]|0,t)|0)>>2]}function zv(e,t,i){e=e|0;t=t|0;i=i|0;Un(e,t,i);return}function Yv(e){e=e|0;var t=0;t=((JL(o[e+236>>2]|0)|0)&2|0)==0;return(t?0:e)|0}function Qv(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;BF[e&127](t|0,i|0,n|0,r|0)}function Kv(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+12>>2]&127](e,t);return}function Zv(e,t,i){e=e|0;t=t|0;i=i|0;El(e,t,i);return}function Jv(e,t){e=e|0;t=t|0;return dI(o[e+12>>2]|0,t)|0}function qv(e,t){e=e|0;t=t|0;Te(e,t);return}function $v(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+68>>2]&127](e,t);return}function eC(e){e=e|0;n[e+16>>0]=1;o[e+12>>2]=0;o[e+4>>2]=0;o[e+8>>2]=0;return}function tC(e,t){e=e|0;t=+t;o[e+260>>2]=(o[e+260>>2]|0)+1;c[e+224>>2]=t;return}function iC(e,t,i){e=e|0;t=t|0;i=i|0;Y(4,e|0,t|0,i|0)|0;return}function nC(){var e=0;e=hm()|0;dt(e,1,1);return e|0}function rC(e){e=e|0;return kx(o[e+204>>2]|0)|0}function oC(e,t,i){e=e|0;t=+t;i=+i;iE(e,t,i);return}function sC(e,t){e=e|0;t=+t;TF[o[(o[e>>2]|0)+20>>2]&31](e,t);return}function aC(e,t,i,n){e=e|0;t=+t;i=+i;n=+n;jl(e,t,i,n);return}function cC(e,t){e=e|0;t=t|0;_h(e,t);return}function lC(e,t){e=e|0;t=t|0;_h(e,t);return}function _C(e,t){e=e|0;t=t|0;o[t>>2]=6;o[t+4>>2]=6;return}function uC(e,t){e=e|0;t=t|0;Wy(e+788|0,t);return}function fC(e,t){e=e|0;t=+t;TF[o[(o[e>>2]|0)+16>>2]&31](e,t);return}function dC(e,t){e=e|0;t=t|0;return+ +c[(o[e+144>>2]|0)+(t*284|0)+232>>2]}function hC(){var e=0;e=Ww(196)|0;tn(e,0);return e|0}function pC(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+24>>2]&127](e,t);return}function bC(e,t){e=e|0;t=t|0;_h(e,t);return}function mC(e,t,i){e=e|0;t=t|0;i=i|0;o[e+20>>2]=t;o[e+28>>2]=i;return}function AC(e,t,i){e=e|0;t=t|0;i=i|0;o[e+16>>2]=t;o[e+24>>2]=i;return}function gC(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return 0}function yC(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=+r;return hF[e&1](t|0,+i,n|0,+r)|0}function vC(e,t,i){e=e|0;t=t|0;i=+i;$_(e,t,i);return}function CC(e,t){e=e|0;t=t|0;return o[(iP(o[e+12>>2]|0,t)|0)>>2]|0}function EC(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+64>>2]&127](e,t);return}function SC(e,t){e=e|0;t=t|0;WS(e+112|0,t);return}function TC(e,t){e=e|0;t=t|0;return DM(o[e+12>>2]|0,t)|0}function RC(e,t,i){e=e|0;t=t|0;i=i|0;m_(e,t,i);return}function MC(e,t,i){e=e|0;t=t|0;i=+i;c[e+1340+(t<<2)>>2]=i;return}function OC(e){e=e|0;if(!e)return;EO(e);KL(e);return}function IC(e,t){e=e|0;t=t|0;xF[o[(o[e>>2]|0)+44>>2]&127](e,t);return}function xC(e){e=e|0;var t=0;t=JL(e+28|0)|0;return+ +c[t+(o[e+52>>2]<<2)>>2]}function PC(e,t,i){e=e|0;t=t|0;i=i|0;return uD(e,t,i)|0}function DC(e,t){e=e|0;t=t|0;Gv(e,t);return}function wC(e,t,i){e=e|0;t=t|0;i=+i;Pp(e,t,i);return}function LC(e){e=e|0;o[e>>2]=4704;ua(e+12|0);KL(e);return}function FC(e,t){e=e|0;t=t|0;_h(e,t);return}function NC(e,t){e=e|0;t=t|0;tf(e,t);return}function BC(e,t){e=e|0;t=t|0;sv(e+708|0,t);return}function kC(e){e=e|0;if(!e)return;CD(e);KL(e);return}function UC(e,t,i){e=e|0;t=t|0;i=+i;c[e+1364+(t<<2)>>2]=i;return}function HC(e,t){e=e|0;t=t|0;YC(e+4|0,t);return}function jC(e,t){e=e|0;t=t|0;Br(e,t);return}function VC(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;FF[e&15](t|0,i|0,n|0,+r)}function GC(e){e=+e;var t=0;t=Km()|0;Jd(t,e);return t|0}function WC(e,t){e=e|0;t=t|0;Pg(e,t);return}function XC(e,t){e=e|0;t=+t;c[e+132>>2]=t;return}function zC(e,t){e=e|0;t=+t;pS(e,t);return}function YC(e,t){e=e|0;t=t|0;$d(e,t);return}function QC(e){e=e|0;var t=0;t=(JL(o[e+236>>2]|0)|0)==4;return(t?e:0)|0}function KC(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;DF[e&7](t|0,i|0,+n,r|0)}function ZC(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=r|0;IF[e&1](t|0,+i,n|0,r|0)}function JC(e,t){e=e|0;t=+t;c[e+128>>2]=t;return}function qC(e,t){e=e|0;t=t|0;jM(e,t);return}function $C(e,t){e=e|0;t=t|0;yb(e,t);return}function eE(e,t){e=e|0;t=t|0;vb(e,t);return}function tE(e,t){e=e|0;t=t|0;o[e+24>>2]=t;return}function iE(e,t,i){e=e|0;t=+t;i=+i;c[e+472>>2]=t;c[e+476>>2]=i;return}function nE(e,t){e=e|0;t=t|0;return qM(e,t)|0}function rE(e,t){e=e|0;t=t|0;c[e+48>>2]=+(t|0);return}function oE(e){0;var t=0;0;ae=ae+16|0;EF[e&3]();Dy(22343,t)}function sE(e,t){e=e|0;t=+t;c[e+572>>2]=t;n[e+553>>0]=1;return}function aE(e,t){e=e|0;t=t|0;return o[(o[e+20>>2]|0)+(t<<2)>>2]|0}function cE(e){e=e|0;var t=0;t=(JL(o[e+236>>2]|0)|0)==8;return(t?e:0)|0}function lE(e){e=e|0;if(!e)return;Cx(e);KL(e);return}function _E(e){e=e|0;return+ +aL(+c[e+16>>2])}function uE(e){e=e|0;return dF[o[(o[e>>2]|0)+40>>2]&127](e)|0}function fE(e,t){e=e|0;t=t|0;EE(e+24|0,t);return}function dE(e){e=e|0;Qm(e);eC(e);return}function hE(e){e=e|0;return+ +KT(+c[e>>2],+c[e+4>>2],+c[e+8>>2])}function pE(e,t){e=e|0;t=+t;vM(e,t);return}function bE(e,t){e=e|0;t=t|0;tO(e,t);return}function mE(e,t){e=e|0;t=t|0;AM(e,t);return}function AE(e,t){e=e|0;t=+t;TF[o[(o[e>>2]|0)+44>>2]&31](e,t);return}function gE(e,t){e=e|0;t=t|0;Wh(e,t);return}function yE(e,t){e=e|0;t=+t;c[e+136>>2]=t;return}function vE(e){e=e|0;return WP(+c[e+4>>2])|0}function CE(e){e=e|0;if(!e)return;o[6748]=(o[6748]|0)+1;Vs(o[e+-4>>2]|0);return}function EE(e,t){e=e|0;t=t|0;Yu(e,t);return}function SE(e,t){e=e|0;t=t|0;return(o[e+144>>2]|0)+(t*284|0)+92|0}function TE(e,t){e=e|0;t=t|0;return fv(e,t)|0}function RE(e,t,i,n,r,o){e=+e;t=+t;i=+i;n=+n;r=+r;o=+o;return+(e*n+t*r+i*o)}function ME(e){e=e|0;o[e>>2]=3836;r[e+4>>1]=1;r[e+6>>1]=-1;return}function OE(){var e=0;e=Ww(24)|0;gb(e);return e|0}function IE(e,t){e=e|0;t=t|0;Yh(e,t);return}function xE(e,t){e=e|0;t=+t;mO(e,t);return}function PE(e,t){e=e|0;t=t|0;return NI(o[e+12>>2]|0,t)|0}function DE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return}function wE(e){e=e|0;c[e>>2]=.30000001192092896;c[e+4>>2]=1.0;c[e+8>>2]=0.0;return}function LE(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;x(17);return 0}function FE(e,t){e=e|0;t=+t;FM(e,t);return}function NE(e){e=e|0;SF[o[(o[e>>2]|0)+44>>2]&511](e);return}function BE(e,t){e=e|0;t=t|0;kp(e+4|0,t);return}function kE(e){e=e|0;ob(e);KL(e);return}function UE(e){e=e|0;return pP(o[e+204>>2]|0)|0}function HE(e,t){e=e|0;t=+t;SO(e,t);return}function jE(e,t){e=e|0;t=+t;iT(e,t);return}function VE(e,t){e=e|0;t=+t;TO(e,t);return}function GE(e,t){e=e|0;t=+t;nT(e,t);return}function WE(e,t){e=e|0;t=t|0;Hm(e,t);return}function XE(e,t){e=e|0;t=t|0;Qh(e,t);return}function zE(e){e=e|0;return+ +aL(+c[e+112>>2])}function YE(e,t){e=e|0;t=t|0;n[e+32>>0]=t&1;return}function QE(e){e=e|0;return dF[o[(o[e>>2]|0)+96>>2]&127](e)|0}function KE(e){e=e|0;return lP(o[e+8>>2]|0)|0}function ZE(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return mF[e&63](t|0,i|0,n|0)|0}function JE(e,t){e=e|0;t=t|0;return+ +wu(e,t)}function qE(e,t){e=e|0;t=t|0;Un(e,t,1);return}function $E(e,t){e=e|0;t=t|0;zM(e,t);return}function eS(e){e=e|0;if(!e)e=0;else e=(Ma(e,3528)|0)!=0&1;return e|0}function tS(e,t,i,n,r){e=e|0;t=+t;i=+i;n=+n;r=+r;ep(e,i,n,r,t);return}function iS(e){e=e|0;Ja(e);KL(e);return}function nS(e,t){e=e|0;t=t|0;X_(e,t);return}function rS(e,t){e=e|0;t=+t;c[e+116>>2]=t;return}function oS(e){e=e|0;return dF[o[(o[e>>2]|0)+20>>2]&127](e)|0}function sS(e,t){e=e|0;t=t|0;SR(e,t,+WI(t));return}function aS(e){e=e|0;o[e>>2]=4704;ua(e+12|0);return}function cS(e,t){e=e|0;t=t|0;bO(e,t);return}function lS(e,t){e=e|0;t=t|0;PA(e,t);return}function _S(){var e=0;e=Ww(100)|0;J_(e);return e|0}function uS(e,t){e=e|0;t=+t;c[e+112>>2]=t;return}function fS(e,t){e=e|0;t=+t;c[e+124>>2]=t;return}function dS(e,t){e=e|0;t=t|0;$M(e,t);return}function hS(e,t){e=e|0;t=t|0;return o[(o[e+220>>2]|0)+(t<<2)>>2]|0}function pS(e,t){e=e|0;t=+t;c[e+572>>2]=t;n[e+553>>0]=0;return}function bS(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return+sF[e&15](t|0,i|0,n|0)}function mS(e,t){e=e|0;t=t|0;eO(e,t);return}function AS(e,t){e=e|0;t=t|0;return uD(e,t,8192)|0}function gS(e,t){e=e|0;t=t|0;n[e+120>>0]=t&1;return}function yS(e){e=e|0;SF[o[(o[e>>2]|0)+24>>2]&511](e);return}function vS(){var e=0;e=Ww(12)|0;wE(e);return e|0}function CS(e){e=e|0;if(!e)return;Dg(e);KL(e);return}function ES(e){e=e|0;ME(e);o[e>>2]=3812;return}function SS(e){e=e|0;return zP(e)|0}function TS(e,t){e=e|0;t=+t;gv(e,t);return}function RS(e,t){e=e|0;t=t|0;return+ +be(e,t)}function MS(e){e=e|0;return+ +aL(+c[e+120>>2])}function OS(){var e=0;e=Ww(4)|0;lM(e);return e|0}function IS(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;return}function xS(e){e=e|0;return HP(o[e+204>>2]|0)|0}function PS(e,t){e=e|0;t=+t;iI(e,t);return}function DS(e,t){e=e|0;t=t|0;Fi(e,t);return}function wS(e){e=e|0;xa(e);return}function LS(e,t){e=e|0;t=+t;eI(e,t);return}function FS(e){e=e|0;return dF[o[(o[e>>2]|0)+28>>2]&127](e)|0}function NS(e){e=e|0;return bP(e)|0}function BS(e,t){e=e|0;t=t|0;return Zg(e,t)|0}function kS(){var e=0;e=Ww(4)|0;o[e>>2]=0;Vx(e);return e|0}function US(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;return bF[e&7](t|0,i|0,+n)|0}function HS(e){e=e|0;return+ +c[e+132>>2]}function jS(e){e=e|0;return gT(o[e+68>>2]|0)|0}function VS(e){e=e|0;return dF[o[(o[e>>2]|0)+48>>2]&127](e)|0}function GS(e,t){e=e|0;t=t|0;_h(e,t);return}function WS(e,t){e=e|0;t=t|0;ah(e,t);return}function XS(e,t){e=e|0;t=t|0;n[e+80>>0]=t&1;return}function zS(e,t){e=e|0;t=t|0;RO(e,t);return}function YS(e){e=e|0;return+ +aL(+c[e+232>>2])}function QS(e){e=e|0;return+ +aL(+c[e+448>>2])}function KS(e){e=e|0;return+ +c[e+128>>2]}function ZS(e,t){e=e|0;t=t|0;return(o[e+144>>2]|0)+(t*284|0)|0}function JS(e,t){e=e|0;t=t|0;PO(e,t);return}function qS(e){e=e|0;o[e+4>>2]=(o[e+4>>2]|0)+-1;return}function $S(e,t,i,n,r,o,s){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;s=s|0;x(41)}function eT(e){e=e|0;return+ +aL(+c[e+444>>2])}function tT(e){e=e|0;return pO(e)|0}function iT(e,t){e=e|0;t=+t;c[e+196>>2]=+wm(t);return}function nT(e,t){e=e|0;t=+t;c[e+192>>2]=+wm(t);return}function rT(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;LF[e&127](t|0,i|0,n|0)}function oT(e,t){e=e|0;t=t|0;kp(e+92|0,t);return}function sT(e){e=e|0;Qa(e);KL(e);return}function aT(e,t){e=e|0;t=+t;c[e+268>>2]=t;return}function cT(e){e=e|0;return+ +aL(+c[e+80>>2])}function lT(e,t){e=e|0;t=t|0;Oc(e,t);return}function _T(e,t){e=e|0;t=t|0;return LD(o[e+12>>2]|0,t)|0}function uT(e){e=e|0;return FD(e)|0}function fT(e,t){e=e|0;t=+t;Bv(e,t);return}function dT(e){e=e|0;return+ +aL(+c[e+228>>2])}function hT(e,t){e=e|0;t=+t;c[e+96>>2]=t;return}function pT(e,t,i){e=e|0;t=t|0;i=+i;c[e+20+(t<<2)>>2]=i;return}function bT(e){e=e|0;return+ +nF[o[(o[e>>2]|0)+48>>2]&15](e)}function mT(e,t){e=e|0;t=t|0;r[e+10>>1]=t;return}function AT(e,t){e=e|0;t=t|0;r[e+8>>1]=t;return}function gT(e){e=e|0;return dF[o[(o[e>>2]|0)+36>>2]&127](e)|0}function yT(e){e=e|0;var t=0;t=ae;ae=ae+e|0;ae=ae+15&-16;return t|0}function vT(e,t){e=e|0;t=t|0;Xb(e,t);return}function CT(e,t){e=e|0;t=t|0;nr(e,t);return}function ET(e,t){e=e|0;t=t|0;tI(e,t);return}function ST(e){e=e|0;return+ +c[e+136>>2]}function TT(e){e=e|0;return(n[e+32>>0]&1)!=0|0}function RT(e,t){e=e|0;t=t|0;n[e+170>>0]=t&1;return}function MT(e,t){e=e|0;t=t|0;z(3,e|0,t|0)|0;return}function OT(e,t,i){e=e|0;t=t|0;i=i|0;if(!(o[e>>2]&32))Uc(t,i,e);return}function IT(e,t){e=e|0;t=t|0;kb(e,t);return}function xT(e,t){e=e|0;t=t|0;cf(e+288|0,t);return}function PT(e,t){e=e|0;t=t|0;return Yv(t)|0}function DT(e,t){e=e|0;t=+t;c[e+108>>2]=t;return}function wT(e,t){e=e|0;t=t|0;r[e+12>>1]=t;return}function LT(e,t){e=e|0;t=t|0;Fi(t,e);return}function FT(e,t){e=e|0;t=+t;c[e+272>>2]=t;return}function NT(e){e=e|0;return+ +aL(+c[e+224>>2])}function BT(e){e=e|0;return HD(e)|0}function kT(e){e=e|0;return jD(e)|0}function UT(e){e=e|0;return zD(e)|0}function HT(e){e=e|0;if(!e)return;ew(e);KL(e);return}function jT(e,t){e=e|0;t=t|0;r[e+4>>1]=t;return}function VT(e,t){e=e|0;t=t|0;r[e+14>>1]=t;return}function GT(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;x(16);return 0}function WT(e){e=e|0;qS(e);return}function XT(e,t){e=e|0;t=t|0;lT(e,t);return}function zT(e,t){e=e|0;t=t|0;return cE(t)|0}function YT(e,t){e=e|0;t=t|0;o[e+44>>2]=t&1;return}function QT(e,t){e=e|0;t=t|0;r[e+6>>1]=t;return}function KT(e,t,i){e=+e;t=+t;i=+i;return+ +kL(+_R(e,t,i))}function ZT(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;OF[e&15](t|0,+i,n|0)}function JT(e,t){e=e|0;t=t|0;if(!e)e=0;else e=tl(e,t)|0;return e|0}function qT(e,t){e=e|0;t=+t;c[e+220>>2]=t;return}function $T(e,t){e=e|0;t=+t;c[e+100>>2]=t;return}function eR(e){e=e|0;return(n[e+120>>0]&1)!=0|0}function tR(e,t){e=e|0;t=t|0;o[e+112>>2]=t;return}function iR(e,t){e=e|0;t=t|0;n[e+24>>0]=t&1;return}function nR(e){e=e|0;return~~+c[e+48>>2]|0}function rR(e,t){e=e|0;t=t|0;n[e+180>>0]=t&1;return}function oR(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;PF[e&7](t|0,i|0,+n)}function sR(e,t){e=e|0;t=+t;c[e+224>>2]=t;return}function aR(e,t){e=e|0;t=+t;tC(e,t);return}function cR(e){e=e|0;return bM(o[e+216>>2]|0)|0}function lR(e,t){e=e|0;t=t|0;GS(e,t);return}function _R(e,t,i){e=+e;t=+t;i=+i;return+ +RE(e,t,i,e,t,i)}function uR(e){e=+e;if(!(e<-1.0)){if(e>1.0)e=1.0}else e=-1.0;return+ +T(+e)}function fR(e){e=e|0;return+ +c[e+116>>2]}function dR(e){e=e|0;return+ +Wp(e)}function hR(e,t){e=e|0;t=t|0;n[e+16>>0]=t&1;return}function pR(e){e=e|0;return bI(e)|0}function bR(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;o=o|0;x(4);return 0.0}function mR(e,t){e=e|0;t=+t;c[e+276>>2]=t;return}function AR(e,t){e=e|0;t=+t;c[e+204>>2]=t;return}function gR(e,t){e=e|0;t=+t;c[e+208>>2]=t;return}function yR(e){e=e|0;return+ +c[e+112>>2]}function vR(e){e=e|0;return+ +c[e+124>>2]}function CR(e,t,i){e=e|0;t=+t;i=i|0;return}function ER(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return}function SR(e,t,i){e=e|0;t=t|0;i=+i;yf(e,t,1.0/i);return}function TR(e){e=e|0;_e(e);KL(e);return}function RR(e,t){e=e|0;t=t|0;kt(e,t);return}function MR(e){e=e|0;return JL(o[e+8>>2]|0)|0}function OR(e,t){e=e|0;t=t|0;z(5,e|0,t|0)|0;return}function IR(e,t){e=e|0;t=+t;c[e+216>>2]=t;return}function xR(e){e=e|0;return(n[e+80>>0]&1)!=0|0}function PR(e){e=e|0;if(!e)return;CE(e);return}function DR(e,t){e=e|0;t=t|0;o[e+36>>2]=t;return}function wR(e,t){e=e|0;t=t|0;o[e+32>>2]=t;return}function LR(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;return yo(e,t,i,n,0)|0}function FR(e,t){e=e|0;t=t|0;n[e+260>>0]=t&1;return}function NR(e,t){e=e|0;t=t|0;n[e+25>>0]=t&1;return}function BR(e,t,i){e=e|0;t=+t;i=i|0;return}function kR(e,t){e=e|0;t=t|0;o[e+72>>2]=t;return}function UR(e){e=e|0;jA(e,+WI(e))|0;return}function HR(e,t,i,n){e=e|0;t=t|0;i=+i;n=+n;RF[e&7](t|0,+i,+n)}function jR(e){e=e|0;return+ +mw(+c[e+12>>2])}function VR(e,t){e=e|0;t=t|0;o[e+8>>2]=t;return}function GR(e){e=e|0;o[e>>2]=0;AO(e);return}function WR(e){e=e|0;return cw(e)|0}function XR(e){e=e|0;return JL(o[e+84>>2]|0)|0}function zR(e,t){e=e|0;t=t|0;return+ +mm(e,t)}function YR(e,t){e=e|0;t=+t;c[e+16>>2]=t;return}function QR(){var e=0;e=ae;ae=ae+16|0;Dy(22214,e)}function KR(e,t){e=e|0;t=t|0;o[e+216>>2]=t;return}function ZR(e,t){e=e|0;t=t|0;n[e+26>>0]=t&1;return}function JR(e,t){e=e|0;t=t|0;n[e+84>>0]=t&1;return}function qR(e){e=e|0;xc(e);KL(e);return}function $R(e){e=e|0;qc(e);KL(e);return}function eM(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=o|0;x(40)}function tM(e){e=e|0;return(e&255)<<24|(e>>8&255)<<16|(e>>16&255)<<8|e>>>24|0}function iM(e){e=e|0;return Aw(e)|0}function nM(e){e=e|0;return JL(o[e+88>>2]|0)|0}function rM(e){e=e|0;return FI(e)|0}function oM(e){e=e|0;return(o[e+116>>2]|0)+4|0}function sM(e){e=e|0;return JL(o[e+748>>2]|0)|0}function aM(e,t){e=e|0;t=t|0;o[e+4>>2]=t;return}function cM(e,t){e=e|0;t=t|0;iu(e+28|0,t);return}function lM(e){e=e|0;yD(e);o[e>>2]=3732;return}function _M(e,t,i){e=e|0;t=t|0;i=i|0;return pF[e&31](t|0,i|0)|0}function uM(e,t){e=e|0;t=+t;c[e+244>>2]=t;return}function fM(e,t){e=e|0;t=+t;c[e+240>>2]=t;return}function dM(e){e=e|0;return+ +c[e+104>>2]}function hM(e,t){e=e|0;t=t|0;return Zl(e,t)|0}function pM(e){e=e|0;return Rw(e)|0}function bM(e){e=e|0;e=JL(e)|0;return(e|0)!=2&(e|0)!=5|0}function mM(e){e=e|0;Pc(e);KL(e);return}function AM(e,t){e=e|0;t=t|0;n[e+524>>0]=t&1;return}function gM(e,t){e=e|0;t=t|0;return e+(t*96|0)|0}function yM(e,t){e=e|0;t=t|0;return e+(t*80|0)|0}function vM(e,t){e=e|0;t=+t;c[e+248>>2]=t;return}function CM(e,t){e=e|0;t=+t;c[e+212>>2]=t;return}function EM(e,t){e=e|0;t=+t;c[e+228>>2]=t;return}function SM(e){e=e|0;return+ +c[e+268>>2]}function TM(e){e=e|0;return QI(e)|0}function RM(e){e=e|0;return Cw(e)|0}function MM(e,t){e=e|0;t=t|0;return nd(e,t)|0}function OM(e,t){e=e|0;t=t|0;return id(e,t)|0}function IM(e,t){e=e|0;t=t|0;return+ +Fd(e,t)}function xM(e){e=e|0;return+ +xC(e)}function PM(e){e=e|0;return((ZI(e)|0)^1)&1|0}function DM(e,t){e=e|0;t=t|0;return e+(t*104|0)|0}function wM(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;o=+o;x(39)}function LM(e,t,i,n,r,o){e=e|0;t=t|0;i=i|0;n=+n;r=r|0;o=o|0;x(33)}function FM(e,t){e=e|0;t=+t;c[e+252>>2]=t;return}function NM(e){e=e|0;return+ +c[e+96>>2]}function BM(e,t){e=e|0;t=t|0;return+ +c[e+20+(t<<2)>>2]}function kM(e){e=e|0;return Fw(e)|0}function UM(e){e=e|0;return(o[e+44>>2]|0)!=0|0}function HM(e){e=e|0;ua(e);KL(e);return}function jM(e,t){e=e|0;t=t|0;o[e+84>>2]=t;return}function VM(e,t){e=e|0;t=t|0;return Gh(e,t)|0}function GM(e){e=e|0;return Tw(e)|0}function WM(e){e=e|0;return JL(o[e+128>>2]|0)|0}function XM(e){e=e|0;return(n[e+24>>0]&1)!=0|0}function zM(e,t){e=e|0;t=t|0;n[e+552>>0]=t&1;return}function YM(e,t,i){e=e|0;t=t|0;i=i|0;return 0}function QM(e){e=e|0;return TP(e)|0}function KM(e){e=e|0;return JL(o[e+188>>2]|0)|0}function ZM(e){e=e|0;return+ +c[e+108>>2]}function JM(e){e=e|0;Dc(e);KL(e);return}function qM(e,t){e=e|0;t=t|0;return e+4+(t*184|0)|0}function $M(e,t){e=e|0;t=t|0;n[e+736>>0]=t&1;return}function eO(e,t){e=e|0;t=t|0;o[e+204>>2]=t;return}function tO(e,t){e=e|0;t=t|0;o[e+88>>2]=t;return}function iO(e,t,i,n,r,o){e=e|0;t=+t;i=+i;n=n|0;r=r|0;o=o|0;x(24)}function nO(e,t){e=e|0;t=+t;c[e+232>>2]=t;return}function rO(e,t){e=e|0;t=+t;c[e+280>>2]=t;return}function oO(e,t){e=e|0;t=+t;c[e+236>>2]=t;return}function sO(e){e=e|0;return+ +c[e+272>>2]}function aO(e){e=e|0;return JL(o[e+116>>2]|0)|0}function cO(e){e=e|0;return JL(o[e+120>>2]|0)|0}function lO(e,t){e=e|0;t=+t;return jA(e,t)|0}function _O(e){e=e|0;return JL(o[e+744>>2]|0)|0}function uO(e){e=e|0;return JL(o[e+740>>2]|0)|0}function fO(e){e=e|0;return(n[e+16>>0]&1)!=0|0}function dO(e){e=e|0;return r[e+10>>1]|0}function hO(e){e=e|0;return r[e+8>>1]|0}function pO(e){e=e|0;return JL(o[e+268>>2]|0)|0}function bO(e,t){e=e|0;t=t|0;n[e+21>>0]=t&1;return}function mO(e,t){e=e|0;t=+t;c[e+684>>2]=t;return}function AO(e){e=e|0;o[e>>2]=o[e>>2]|1;return}function gO(e){e=e|0;return JL(o[e+192>>2]|0)|0}function yO(e){e=e|0;return JL(o[e+204>>2]|0)|0}function vO(e){e=e|0;return JL(o[e+24>>2]|0)|0}function CO(e){e=e|0;return JL(o[e+68>>2]|0)|0}function EO(e){e=e|0;lm(e);return}function SO(e,t){e=e|0;t=+t;c[e+188>>2]=t;return}function TO(e,t){e=e|0;t=+t;c[e+184>>2]=t;return}function RO(e,t){e=e|0;t=t|0;o[e+240>>2]=t;return}function MO(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;x(6);return 0.0}function OO(e){e=e|0;return+ +c[e+220>>2]}function IO(e){e=e|0;return+ +c[e+100>>2]}function xO(e){e=e|0;return r[e+12>>1]|0}function PO(e,t){e=e|0;t=t|0;n[e+737>>0]=t&1;return}function DO(e,t){e=e|0;t=+t;c[e+256>>2]=t;return}function wO(e){e=e|0;return+ +c[e+224>>2]}function LO(e,t){e=e|0;t=t|0;return Hb(e,t)|0}function FO(e,t){e=e|0;t=t|0;return Ub(e,t)|0}function NO(e){e=e|0;return Ai(e)|0}function BO(e){e=e|0;return JL(o[e+480>>2]|0)|0}function kO(e){e=e|0;return JL(o[e+124>>2]|0)|0}function UO(e){e=e|0;return r[e+4>>1]|0}function HO(e){e=e|0;return r[e+14>>1]|0}function jO(e,t){e=e|0;t=t|0;o[e+84>>2]=t;return}function VO(e,t){e=e|0;t=t|0;o[e+88>>2]=t;return}function GO(e,t){e=e|0;t=t|0;o[e+92>>2]=t;return}function WO(e,t){e=e|0;t=t|0;o[e+100>>2]=t;return}function XO(e,t){e=e|0;t=t|0;o[e+96>>2]=t;return}function zO(e){e=e|0;return(o[e+48>>2]|0)==1|0}function YO(e){e=e|0;wc(e);KL(e);return}function QO(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;return}function KO(e){e=e|0;return(n[e+260>>0]&1)!=0|0}function ZO(e){e=e|0;return JL(o[e+240>>2]|0)|0}function JO(e){e=e|0;return(n[e+25>>0]&1)!=0|0}function qO(e){e=e|0;return r[e+6>>1]|0}function $O(e){e=e|0;return(o[e+92>>2]|0)+4|0}function eI(e,t){e=e|0;t=+t;c[e+440>>2]=t;return}function tI(e,t){e=e|0;t=t|0;o[e+240>>2]=t;return}function iI(e,t){e=e|0;t=+t;c[e+104>>2]=t;return}function nI(e,t,i){e=e|0;t=t|0;i=i|0;xF[e&127](t|0,i|0)}function rI(e,t,i){e=e|0;t=t|0;i=+i;return+rF[e&1](t|0,+i)}function oI(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=r|0;x(2);return 0.0}function sI(e){e=e|0;return+ +c[e+276>>2]}function aI(e){e=e|0;return+ +c[e+208>>2]}function cI(e){e=e|0;return o[e+112>>2]|0}function lI(e){e=e|0;return+ +Oy(e)}function _I(e,t){e=e|0;t=t|0;o[e+16>>2]=t;return}function uI(e,t){e=e|0;t=+t;c[e+64>>2]=t;return}function fI(e,t){e=e|0;t=+t;c[e+68>>2]=t;return}function dI(e,t){e=e|0;t=t|0;return e+(t<<5)|0}function hI(e){e=e|0;return JL(o[e+52>>2]|0)|0}function pI(e){e=e|0;if(!e)return;KL(e);return}function bI(e){e=e|0;return JL(o[e+16>>2]|0)|0}function mI(e){e=e|0;return+ +c[e+216>>2]}function AI(e,t){e=e|0;t=+t;mP(e,t);return}function gI(e){e=e|0;return(n[e+26>>0]&1)!=0|0}function yI(e){e=e|0;return(n[e+84>>0]&1)!=0|0}function vI(e,t){e=e|0;t=+t;c[e+80>>2]=t;return}function CI(e,t){e=e|0;t=+t;c[e+76>>2]=t;return}function EI(e){e=e|0;return+(+c[e+28>>2]*+c[e+12>>2])}function SI(e,t,i){e=e|0;t=t|0;i=i|0;return}function TI(e,t,i){e=e|0;t=t|0;i=i|0;return Ka(e,t,i)|0}function RI(e){e=e|0;return+ +c[e+248>>2]}function MI(e){e=e|0;return Bw(e)|0}function OI(e,t){e=e|0;t=+t;c[e+60>>2]=t;return}function II(e,t){e=e|0;t=+t;c[e+52>>2]=t;return}function xI(e,t){e=e|0;t=+t;c[e+56>>2]=t;return}function PI(e,t){e=e|0;t=t|0;o[e+20>>2]=t;return}function DI(e,t,i){e=e|0;t=t|0;i=+i;return 0}function wI(e){e=e|0;return+ +c[e+204>>2]}function LI(e){e=e|0;Rp(e);return}function FI(e){e=e|0;return JL(o[e+136>>2]|0)|0}function NI(e,t){e=e|0;t=t|0;return e+(t*36|0)|0}function BI(e,t){e=e|0;t=t|0;return}function kI(e,t){e=e|0;t=+t;jP(e,t);return}function UI(e,t){e=e|0;t=+t;VP(e,t);return}function HI(e,t){e=e|0;t=+t;gD(e,t);return}function jI(e){e=e|0;return o[e+36>>2]|0}function VI(e){e=e|0;return o[e+32>>2]|0}function GI(e){e=e|0;return(o[e+48>>2]|0)+4|0}function WI(e){e=e|0;return+ +kL(+rP(e))}function XI(e){e=e|0;o[6720]=e;return}function zI(e){e=e|0;o[6719]=e;return}function YI(e){e=e|0;return e+44|0}function QI(e){e=e|0;return JL(o[e+12>>2]|0)|0}function KI(e){e=e|0;return o[e+68>>2]|0}function ZI(e){e=e|0;return(n[e>>0]|0)!=0|0}function JI(e,t,i){e=e|0;t=t|0;i=+i;TF[e&31](t|0,+i)}function qI(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=r|0;x(38)}function $I(e){e=e|0;return+ +c[(IL(e)|0)>>2]}function ex(e){e=e|0;return+ +c[(xL(e)|0)>>2]}function tx(e){e=e|0;return+ +c[(OL(e)|0)>>2]}function ix(e){e=e|0;return Zw(e)|0}function nx(e){e=e|0;UR(e);return}function rx(e){e=e|0;return o[e+8>>2]|0}function ox(e,t){e=e|0;t=+t;c[e+92>>2]=t;return}function sx(e,t){e=e|0;t=+t;c[e+40>>2]=t;return}function ax(e,t){e=e|0;t=+t;c[e+36>>2]=t;return}function cx(e,t){e=e|0;t=+t;c[e+48>>2]=t;return}function lx(e){e=e|0;return e+60|0}function _x(e){e=e|0;return o[e+200>>2]|0}function ux(e){e=e|0;return+ +c[e+244>>2]}function fx(e){e=e|0;return+ +c[e+240>>2]}function dx(e){e=e|0;return+ +rP(e)}function hx(e,t){e=e|0;t=+t;c[e+24>>2]=t;return}function px(e,t){e=e|0;t=+t;c[e+20>>2]=t;return}function bx(e,t){e=e|0;t=+t;c[e+32>>2]=t;return}function mx(e,t){e=e|0;t=+t;c[e+16>>2]=t;return}function Ax(e,t){e=e|0;t=+t;c[e+28>>2]=t;return}function gx(e,t){e=e|0;t=t|0;o[e>>2]=t;return}function yx(e){e=e|0;return o[e+212>>2]|0}function vx(e){e=e|0;o[e+192>>2]=0;return}function Cx(e){e=e|0;dE(e);return}function Ex(e,t,i){e=e|0;t=t|0;i=i|0;return}function Sx(e,t){e=e|0;t=+t;c[e+72>>2]=t;return}function Tx(e){e=e|0;return+ +c[e+212>>2]}function Rx(e){e=e|0;return+ +c[e+228>>2]}function Mx(e,t){e=e|0;t=+t;c[e+88>>2]=t;return}function Ox(e){e=e|0;return o[e+24>>2]|0}function Ix(e){e=e|0;o[6722]=e;return}function xx(e){e=e|0;eC(e);return}function Px(e,t,i,n,r){e=e|0;t=t|0;i=i|0;n=n|0;r=+r;x(35)}function Dx(e,t,i,n,r){e=e|0;t=t|0;i=+i;n=n|0;r=r|0;x(30)}function wx(e){e=e|0;return+ +c[e+252>>2]}function Lx(e){e=e|0;return xL(e)|0}function Fx(e){e=e|0;return+ +WI(e)}function Nx(e){e=e|0;return e+112|0}function Bx(e,t,i){e=e|0;t=t|0;i=i|0;return 0.0}function kx(e){e=e|0;return(e&3|0)!=0|0}function Ux(e){e=e|0;return((e|0)==0?1:e<<1)|0}function Hx(e){e=e|0;return o[e+136>>2]|0}function jx(e,t){e=e|0;t=+t;c[e+44>>2]=t;return}function Vx(e){e=e|0;ww(e);o[e>>2]=3860;return}function Gx(e){e=e|0;return JL(o[e+4>>2]|0)|0}function Wx(e){e=e|0;return e+156|0}function Xx(e){e=e|0;return X(6,e|0)|0}function zx(e){e=e|0;wn(e);KL(e);return}function Yx(e){e=e|0;Hd(e);KL(e);return}function Qx(e){e=e|0;ec(e);KL(e);return}function Kx(e){e=e|0;return+ +c[e+232>>2]}function Zx(e){e=e|0;return+ +c[e+280>>2]}function Jx(e){e=e|0;return+ +c[e+236>>2]}function qx(e){e=e|0;return 348}function $x(e){e=e|0;return o[e+12>>2]|0}function eP(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;x(15);return 0}function tP(e){e=e|0;Dv(e);return}function iP(e,t){e=e|0;t=t|0;return e+(t<<2)|0}function nP(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;x(5);return 0.0}function rP(e){e=e|0;return+ +Fd(e,e)}function oP(e){e=e|0;return(e?31-(I(e^e-1)|0)|0:32)|0}function sP(e){e=e|0;return+ +c[e+256>>2]}function aP(e){e=e|0;return+ +c[(JL(e)|0)>>2]}function cP(e){e=e|0;return+ +c[e>>2]}function lP(e){e=e|0;return(e|0)!=0|0}function _P(e,t){e=e|0;t=t|0;return dF[e&127](t|0)|0}function uP(e){0;w(e|0)|0;YL()}function fP(e){e=e|0;return e+64|0}function dP(e){e=e|0;return+ +c[e+64>>2]}function hP(e){e=e|0;return+ +c[e+68>>2]}function pP(e){e=e|0;return(e&2|0)!=0|0}function bP(e){e=e|0;return e+20|0}function mP(e,t){e=e|0;t=+t;c[e+12>>2]=t;return}function AP(e){e=e|0;return e+172|0}function gP(e){e=e|0;return o[e+4>>2]|0}function yP(e){e=e|0;return o[e+84>>2]|0}function vP(e){e=e|0;return o[e+88>>2]|0}function CP(e){e=e|0;return o[e+92>>2]|0}function EP(e){e=e|0;return o[e+100>>2]|0}function SP(e){e=e|0;return 252}function TP(e){e=e|0;return o[e+240>>2]|0}function RP(e,t,i,n){e=e|0;t=+t;i=i|0;n=+n;x(11);return 0}function MP(e){e=e|0;return e+52|0}function OP(e){e=e|0;return+ +c[e+80>>2]}function IP(e){e=e|0;return 28}function xP(e){e=e|0;return o[e+72>>2]|0}function PP(e,t){e=e|0;t=t|0;return+nF[e&15](t|0)}function DP(e){e=e|0;return o[e+16>>2]|0}function wP(e){e=e|0;return+ +c[e+76>>2]}function LP(e){e=e|0;return+ +c[e+60>>2]}function FP(e){e=e|0;return+ +c[e+52>>2]}function NP(e){e=e|0;return+ +c[e+56>>2]}function BP(e){e=e|0;return e+108|0}function kP(e){e=e|0;return 212}function UP(e){e=e|0;return o[e+96>>2]|0}function HP(e){e=e|0;return(e&1|0)!=0|0}function jP(e,t){e=e|0;t=+t;c[e+8>>2]=t;return}function VP(e,t){e=e|0;t=+t;c[e+4>>2]=t;return}function GP(e){e=e|0;return e+16|0}function WP(e){e=+e;return e<1.0|0}function XP(e,t){e=e|0;t=t|0;return 1}function zP(e){e=e|0;return e+324|0}function YP(e,t){e=e|0;t=t|0;ae=e;ce=t}function QP(e){e=e|0;return e+188|0}function KP(e){e=e|0;return o[e+20>>2]|0}function ZP(e){e=e|0;return 204}function JP(e,t){e=e|0;t=t|0;return}function qP(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;x(34)}function $P(e){e=e|0;return e+36|0}function eD(e){e=e|0;return+ +c[e+92>>2]}function tD(e){e=e|0;return+ +c[e+44>>2]}function iD(e){e=e|0;return+ +c[e+40>>2]}function nD(e){e=e|0;return+ +c[e+36>>2]}function rD(e){e=e|0;return+ +c[e+48>>2]}function oD(e){e=e|0;return 64}function sD(e){e=e|0;return 220}function aD(e){e=e|0;return 256}function cD(e,t){e=e|0;t=t|0;var i=0,s=0,l=0,u=0,f=0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0,g=0.0,C=0.0,E=0.0,S=0.0,T=0,R=0,M=0,O=0,I=0.0,x=0.0,P=0,D=0,w=0.0,L=0,F=0.0,N=0.0,B=0.0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0.0,J=0,q=0,$=0,te=0,ie=0,ne=0,re=0,oe=0,se=0,ce=0,le=0,_e=0,ue=0,fe=0;ue=ae;ae=ae+192|0;i=o[e+52>>2]|0;if(i|0?(SF[o[o[i>>2]>>2]&511](i),s=o[e+52>>2]|0,s|0):0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[6747]=(o[6747]|0)+1;i=Do(151)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}o[i>>2]=10664;n[i+20>>0]=1;o[i+16>>2]=0;o[i+8>>2]=0;o[i+12>>2]=0;n[i+40>>0]=1;o[i+36>>2]=0;o[i+28>>2]=0;o[i+32>>2]=0;n[i+60>>0]=1;o[i+56>>2]=0;o[i+48>>2]=0;o[i+52>>2]=0;o[e+52>>2]=i;l=0;h=0;d=0;_e=0;L=0;while(1){if((h|0)>=(dF[o[(o[e>>2]|0)+96>>2]&127](e)|0))break;do{if((L|0)==(d|0)){s=(d|0)==0?1:d<<1;if((d|0)<(s|0)){if((s|0)!=0?(o[6747]=(o[6747]|0)+1,A=Do((s<<4|3)+16|0)|0,(A|0)!=0):0){o[(A+4+15&-16)+-4>>2]=A;u=A+4+15&-16}else u=0;if((d|0)<=0){if(!_e){f=d;l=u;i=u;break}}else{i=0;do{le=u+(i<<4)|0;ce=_e+(i<<4)|0;o[le>>2]=o[ce>>2];o[le+4>>2]=o[ce+4>>2];o[le+8>>2]=o[ce+8>>2];o[le+12>>2]=o[ce+12>>2];i=i+1|0}while((i|0)!=(d|0))}o[6748]=(o[6748]|0)+1;Vs(o[_e+-4>>2]|0);f=d;l=u;i=u}else{f=d;s=d;i=_e}}else{f=L;s=d;i=_e}}while(0);d=i+(L<<4)|0;o[d>>2]=o[ue>>2];o[d+4>>2]=o[ue+4>>2];o[d+8>>2]=o[ue+8>>2];o[d+12>>2]=o[ue+12>>2];LF[o[(o[e>>2]|0)+108>>2]&127](e,h,d);h=h+1|0;d=s;_e=i;L=f+1|0}n[ue+124+16>>0]=1;le=ue+124+12|0;o[le>>2]=0;o[ue+124+4>>2]=0;o[ue+124+8>>2]=0;n[ue+124+36>>0]=1;ce=ue+124+32|0;o[ce>>2]=0;o[ue+124+24>>2]=0;o[ue+124+28>>2]=0;n[ue+124+56>>0]=1;se=ue+124+52|0;o[se>>2]=0;o[ue+124+44>>2]=0;o[ue+124+48>>2]=0;if(t){if((L|0)>0){D=0;s=0;u=0;l=0;while(1){i=D;D=D+1|0;e:do{if((D|0)<(L|0)){O=_e+(i<<4)|0;P=_e+(i<<4)+4|0;M=_e+(i<<4)+8|0;f=D;i=l;while(1){R=f+1|0;t:do{if((R|0)<(L|0)){t=_e+(f<<4)|0;T=_e+(f<<4)+4|0;A=_e+(f<<4)+8|0;l=R;while(1){p=+c[O>>2];F=+c[t>>2]-p;b=+c[P>>2];B=+c[T>>2]-b;m=+c[M>>2];x=+c[A>>2]-m;w=+c[_e+(l<<4)>>2]-p;N=+c[_e+(l<<4)+4>>2]-b;I=+c[_e+(l<<4)+8>>2]-m;S=(F*N-B*w)*(F*N-B*w)+((B*I-x*N)*(B*I-x*N)+(x*w-F*I)*(x*w-F*I));i:do{if(S>9.999999747378752e-05){E=1.0/+v(+S);g=(B*I-x*N)*E;C=(x*w-F*I)*E;E=(F*N-B*w)*E;n:do{if((i|0)>0){f=0;while(1){if(g*+c[u+(f<<4)>>2]+C*+c[u+(f<<4)+4>>2]+E*+c[u+(f<<4)+8>>2]>.9990000128746033)break n;f=f+1|0;if((f|0)>=(i|0)){re=34;break}}}else re=34}while(0);n:do{if((re|0)==34){re=0;f=0;do{if(g*+c[_e+(f<<4)>>2]+C*+c[_e+(f<<4)+4>>2]+E*+c[_e+(f<<4)+8>>2]-(g*p+C*b+E*m)+-.009999999776482582>0.0)break n;f=f+1|0}while((f|0)<(L|0));do{if((i|0)==(s|0)){d=(s|0)==0?1:s<<1;if((s|0)<(d|0)){do{if(!d)h=0;else{o[6747]=(o[6747]|0)+1;f=Do((d<<4|3)+16|0)|0;if(!f){h=0;break}o[(f+4+15&-16)+-4>>2]=f;h=f+4+15&-16}}while(0);if((s|0)<=0){if(!u){f=s;s=d;u=h;break}}else{f=0;do{ne=h+(f<<4)|0;ie=u+(f<<4)|0;o[ne>>2]=o[ie>>2];o[ne+4>>2]=o[ie+4>>2];o[ne+8>>2]=o[ie+8>>2];o[ne+12>>2]=o[ie+12>>2];f=f+1|0}while((f|0)!=(s|0))}o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);f=s;s=d;u=h}else f=s}else f=i}while(0);c[u+(f<<4)>>2]=g;c[u+(f<<4)+4>>2]=C;c[u+(f<<4)+8>>2]=E;c[u+(f<<4)+12>>2]=-(g*p+C*b+E*m);i=i+1|0}}while(0);if(S>9.999999747378752e-05){b=1.0/+v(+S);g=-((B*I-x*N)*b);m=-((x*w-F*I)*b);b=-((F*N-B*w)*b);if((i|0)>0){f=0;do{if(+c[u+(f<<4)>>2]*g+ +c[u+(f<<4)+4>>2]*m+ +c[u+(f<<4)+8>>2]*b>.9990000128746033)break i;f=f+1|0}while((f|0)<(i|0))}p=+c[O>>2]*g+ +c[P>>2]*m+ +c[M>>2]*b;f=0;do{if(+c[_e+(f<<4)>>2]*g+ +c[_e+(f<<4)+4>>2]*m+ +c[_e+(f<<4)+8>>2]*b-p+-.009999999776482582>0.0)break i;f=f+1|0}while((f|0)<(L|0));do{if((i|0)==(s|0)){d=(s|0)==0?1:s<<1;if((s|0)>=(d|0)){f=s;break}do{if(!d)h=0;else{o[6747]=(o[6747]|0)+1;f=Do((d<<4|3)+16|0)|0;if(!f){h=0;break}o[(f+4+15&-16)+-4>>2]=f;h=f+4+15&-16}}while(0);if((s|0)<=0){if(!u){f=s;s=d;u=h;break}}else{f=0;do{ne=h+(f<<4)|0;ie=u+(f<<4)|0;o[ne>>2]=o[ie>>2];o[ne+4>>2]=o[ie+4>>2];o[ne+8>>2]=o[ie+8>>2];o[ne+12>>2]=o[ie+12>>2];f=f+1|0}while((f|0)!=(s|0))}o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);f=s;s=d;u=h}else f=i}while(0);c[u+(f<<4)>>2]=g;c[u+(f<<4)+4>>2]=m;c[u+(f<<4)+8>>2]=b;c[u+(f<<4)+12>>2]=-p;i=i+1|0}}}while(0);l=l+1|0;if((l|0)==(L|0))break t}}}while(0);if((R|0)==(L|0))break e;f=R}}else i=l}while(0);if((D|0)==(L|0))break;else l=i}if((i|0)>0){d=0;h=0;A=0;while(1){ne=u+(A<<4)|0;o[ue>>2]=o[ne>>2];o[ue+4>>2]=o[ne+4>>2];o[ue+8>>2]=o[ne+8>>2];p=+c[u+(A<<4)+12>>2];p=p-+nF[o[(o[e>>2]|0)+48>>2]&15](e);do{if((A|0)==(d|0)){f=(d|0)==0?1:d<<1;if((d|0)<(f|0)){if((f|0)!=0?(o[6747]=(o[6747]|0)+1,k=Do((f<<4|3)+16|0)|0,(k|0)!=0):0){o[(k+4+15&-16)+-4>>2]=k;l=k+4+15&-16}else l=0;if((d|0)<=0){if(!h){s=d;break}}else{s=0;do{ne=l+(s<<4)|0;ie=h+(s<<4)|0;o[ne>>2]=o[ie>>2];o[ne+4>>2]=o[ie+4>>2];o[ne+8>>2]=o[ie+8>>2];o[ne+12>>2]=o[ie+12>>2];s=s+1|0}while((s|0)!=(d|0))}o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0);s=d}else{s=d;f=d;l=h}}else{s=A;f=d;l=h}}while(0);ne=l+(s<<4)|0;o[ne>>2]=o[ue>>2];o[ne+4>>2]=o[ue+4>>2];o[ne+8>>2]=o[ue+8>>2];c[l+(s<<4)+12>>2]=p;A=A+1|0;if((A|0)<(i|0)){d=f;h=l}else break}f=0;U=0;d=0;s=0;i=0;do{k=U;U=U+1|0;e:do{if((U|0)<(A|0)){h=U;while(1){L=h+1|0;t:do{if((L|0)<(A|0)){O=l+(h<<4)+4|0;D=l+(h<<4)+8|0;P=l+(h<<4)|0;M=l+(h<<4)+12|0;h=L;while(1){g=+c[O>>2];p=+c[l+(h<<4)+8>>2];b=+c[D>>2];C=+c[l+(h<<4)+4>>2];E=+c[l+(h<<4)>>2];S=+c[P>>2];m=+c[l+(k<<4)+8>>2];I=+c[l+(k<<4)+4>>2];x=+c[l+(k<<4)>>2];i:do{if((((C*S-g*E)*(C*S-g*E)+((g*p-b*C)*(g*p-b*C)+(b*E-p*S)*(b*E-p*S))>9.999999747378752e-05?(E*I-C*x)*(E*I-C*x)+((C*m-p*I)*(C*m-p*I)+(p*x-E*m)*(p*x-E*m))>9.999999747378752e-05:0)?(g*x-S*I)*(g*x-S*I)+((b*I-g*m)*(b*I-g*m)+(S*m-b*x)*(S*m-b*x))>9.999999747378752e-05:0)?(Z=m*(C*S-g*E)+(I*(b*E-p*S)+(g*p-b*C)*x),+y(+Z)>9.999999974752427e-07):0){N=+c[l+(k<<4)+12>>2];B=+c[M>>2];F=+c[l+(h<<4)+12>>2];w=-1.0/Z*((b*I-g*m)*F+((g*p-b*C)*N+(C*m-p*I)*B));b=-1.0/Z*((S*m-b*x)*F+((b*E-p*S)*N+(p*x-E*m)*B));p=-1.0/Z*((g*x-S*I)*F+((C*S-g*E)*N+(E*I-C*x)*B));t=0;do{if(+c[l+(t<<4)+12>>2]+(w*+c[l+(t<<4)>>2]+b*+c[l+(t<<4)+4>>2]+p*+c[l+(t<<4)+8>>2])+-.009999999776482582>0.0)break i;t=t+1|0}while((t|0)<(A|0));do{if((i|0)==(d|0)){R=(d|0)==0?1:d<<1;if((d|0)>=(R|0)){t=d;break}do{if(!R)T=0;else{o[6747]=(o[6747]|0)+1;f=Do((R<<4|3)+16|0)|0;if(!f){T=0;break}o[(f+4+15&-16)+-4>>2]=f;T=f+4+15&-16}}while(0);if((d|0)<=0){if(!s){f=T;t=d;d=R;s=T;break}}else{f=0;do{ne=T+(f<<4)|0;ie=s+(f<<4)|0;o[ne>>2]=o[ie>>2];o[ne+4>>2]=o[ie+4>>2];o[ne+8>>2]=o[ie+8>>2];o[ne+12>>2]=o[ie+12>>2];f=f+1|0}while((f|0)!=(d|0))}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);f=T;t=d;d=R;s=T}else t=i}while(0);c[s+(t<<4)>>2]=w;c[s+(t<<4)+4>>2]=b;c[s+(t<<4)+8>>2]=p;c[s+(t<<4)+12>>2]=0.0;i=i+1|0}}while(0);h=h+1|0;if((h|0)==(A|0))break t}}}while(0);if((L|0)==(A|0))break e;h=L}}}while(0)}while((U|0)!=(A|0))}else{f=0;l=0;s=0;i=0}}else{f=0;u=0;l=0;s=0;i=0}Lo(ue+124|0,f,i);if(s|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}if(l|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}if(u|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}}else Lo(ue+124|0,l,L);D=o[ue+124+44>>2]|0;if((D|0)>0){o[6747]=(o[6747]|0)+1;i=Do((D<<4|3)+16|0)|0;if(!i)s=0;else{o[(i+4+15&-16)+-4>>2]=i;s=i+4+15&-16}i=0;do{ne=s+(i<<4)|0;o[ne>>2]=o[ue>>2];o[ne+4>>2]=o[ue+4>>2];o[ne+8>>2]=o[ue+8>>2];o[ne+12>>2]=o[ue+12>>2];i=i+1|0}while((i|0)!=(D|0));ne=s;te=s}else{ne=0;te=0}n[ue+104+16>>0]=1;ie=ue+104+12|0;o[ie>>2]=0;$=ue+104+4|0;o[$>>2]=0;o[ue+104+8>>2]=0;l=ue;f=l+19|0;do{n[l>>0]=0;l=l+1|0}while((l|0)<(f|0));if((D|0)<0)ee();if(D|0){Fu(ue+104|0,D);i=o[ie>>2]|0;s=0;do{n[i+(s*36|0)+16>>0]=1;l=i+(s*36|0)+4|0;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;l=i+(s*36|0)+20|0;u=ue+3|0;f=l+16|0;do{n[l>>0]=n[u>>0]|0;l=l+1|0;u=u+1|0}while((l|0)<(f|0));s=s+1|0}while((s|0)!=(D|0))}o[$>>2]=D;d=o[ue+124+4>>2]|0;f=o[e+52>>2]|0;u=o[f+8>>2]|0;if((u|0)<(d|0)){if((o[f+12>>2]|0)<(d|0)){if(!d){s=u;l=0}else{o[6747]=(o[6747]|0)+1;i=Do((d<<4|3)+16|0)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}s=o[f+8>>2]|0;l=i}if((s|0)>0){i=0;do{q=l+(i<<4)|0;J=(o[f+16>>2]|0)+(i<<4)|0;o[q>>2]=o[J>>2];o[q+4>>2]=o[J+4>>2];o[q+8>>2]=o[J+8>>2];o[q+12>>2]=o[J+12>>2];i=i+1|0}while((i|0)!=(s|0))}i=o[f+16>>2]|0;if(i|0){if(n[f+20>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[f+16>>2]=0}n[f+20>>0]=1;o[f+16>>2]=l;o[f+12>>2]=d;s=f+16|0}else s=f+16|0;i=u;do{q=(o[s>>2]|0)+(i<<4)|0;o[q>>2]=o[ue>>2];o[q+4>>2]=o[ue+4>>2];o[q+8>>2]=o[ue+8>>2];o[q+12>>2]=o[ue+12>>2];i=i+1|0}while((i|0)!=(d|0))}o[f+8>>2]=d;if((d|0)>0){i=0;do{J=(o[le>>2]|0)+(i<<4)|0;q=(o[(o[e+52>>2]|0)+16>>2]|0)+(i<<4)|0;o[q>>2]=o[J>>2];o[q+4>>2]=o[J+4>>2];o[q+8>>2]=o[J+8>>2];o[q+12>>2]=o[J+12>>2];i=i+1|0}while((i|0)!=(d|0))}if((D|0)>0){P=0;do{R=(o[ce>>2]|0)+((o[(o[se>>2]|0)+(P<<2)>>2]|0)*12|0)|0;M=R;i=0;do{O=M+4|0;T=o[M+((o[O>>2]|0)*12|0)+8>>2]|0;A=o[ie>>2]|0;t=A+(P*36|0)+4|0;s=o[t>>2]|0;h=A+(P*36|0)+8|0;if((s|0)==(o[h>>2]|0)?(H=(s|0)==0?1:s<<1,(s|0)<(H|0)):0){if(!H)l=0;else{o[6747]=(o[6747]|0)+1;s=Do((H<<2|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[t>>2]|0}d=A+(P*36|0)+12|0;f=o[d>>2]|0;if((s|0)<=0){if(!f)u=A+(P*36|0)+16|0;else re=161}else{u=0;do{o[l+(u<<2)>>2]=o[f+(u<<2)>>2];u=u+1|0}while((u|0)!=(s|0));re=161}if((re|0)==161){re=0;u=A+(P*36|0)+16|0;if(n[u>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0)}o[d>>2]=0;s=o[t>>2]|0}n[u>>0]=1;o[d>>2]=l;o[h>>2]=H}o[(o[A+(P*36|0)+12>>2]|0)+(s<<2)>>2]=T;o[t>>2]=(o[t>>2]|0)+1;J=o[M+8>>2]|0;q=o[le>>2]|0;m=+c[q+(J<<4)>>2]-+c[q+(T<<4)>>2];g=+c[q+(J<<4)+4>>2]-+c[q+(T<<4)+4>>2];b=+c[q+(J<<4)+8>>2]-+c[q+(T<<4)+8>>2];p=1.0/+v(+(m*m+g*g+b*b));if((i|0)<2){c[ue+(i<<4)>>2]=m*p;c[ue+(i<<4)+4>>2]=g*p;c[ue+(i<<4)+8>>2]=b*p;c[ue+(i<<4)+12>>2]=0.0;i=i+1|0}q=M+((o[O>>2]|0)*12|0)|0;M=q+((o[q>>2]|0)*12|0)|0}while((M|0)!=(R|0));if((i|0)==2){w=+c[ue+4>>2];F=+c[ue+24>>2];N=+c[ue+8>>2];B=+c[ue+20>>2];x=+c[ue+16>>2];I=+c[ue>>2];J=te+(P<<4)+4|0;q=te+(P<<4)+8|0;c[te+(P<<4)+12>>2]=0.0;Z=1.0/+v(+((B*I-w*x)*(B*I-w*x)+((w*F-N*B)*(w*F-N*B)+(N*x-F*I)*(N*x-F*I))));c[te+(P<<4)>>2]=(w*F-N*B)*Z;c[J>>2]=(N*x-F*I)*Z;c[q>>2]=(B*I-w*x)*Z;f=o[ie>>2]|0;c[f+(P*36|0)+20>>2]=(w*F-N*B)*Z;o[f+(P*36|0)+24>>2]=o[J>>2];o[f+(P*36|0)+28>>2]=o[q>>2];c[f+(P*36|0)+32>>2]=1000000015047466219876688.0e6}else{f=te+(P<<4)|0;o[f>>2]=0;o[f+4>>2]=0;o[f+8>>2]=0;o[f+12>>2]=0;f=o[ie>>2]|0}s=o[f+(P*36|0)+4>>2]|0;if((s|0)>0){l=o[(o[e+52>>2]|0)+16>>2]|0;b=+c[te+(P<<4)>>2];m=+c[te+(P<<4)+4>>2];g=+c[te+(P<<4)+8>>2];u=o[f+(P*36|0)+12>>2]|0;q=o[u>>2]|0;p=+c[l+(q<<4)>>2]*b+ +c[l+(q<<4)+4>>2]*m+ +c[l+(q<<4)+8>>2]*g;p=p<1000000015047466219876688.0e6?p:1000000015047466219876688.0e6;if((s|0)!=1){i=1;do{q=o[u+(i<<2)>>2]|0;Z=+c[l+(q<<4)>>2]*b+ +c[l+(q<<4)+4>>2]*m+ +c[l+(q<<4)+8>>2]*g;p=p>Z?Z:p;i=i+1|0}while((i|0)<(s|0))}}else p=1000000015047466219876688.0e6;c[f+(P*36|0)+32>>2]=-p;P=P+1|0}while((P|0)!=(D|0))}e:do{if((o[$>>2]|0)>0){f=0;s=0;h=0;i=0;d=0;while(1){do{if((h|0)==(i|0)){i=(h|0)==0;l=i?1:h<<1;if((h|0)<(l|0)){if((l|0)!=0?(o[6747]=(o[6747]|0)+1,j=Do((l<<2|3)+16|0)|0,(j|0)!=0):0){o[(j+4+15&-16)+-4>>2]=j;u=j+4+15&-16}else u=0;if(i){if(!d){V=u;s=u;i=1;d=u;break}}else{i=0;do{o[u+(i<<2)>>2]=o[d+(i<<2)>>2];i=i+1|0}while((i|0)!=(h|0))}if(!f){V=u;s=u;i=l;d=u}else{o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0);V=u;s=u;i=l;d=u}}else{V=s;s=f;i=h}}else{V=s;s=f}}while(0);o[d+(h<<2)>>2]=h;h=h+1|0;if((h|0)>=(o[$>>2]|0))break;else{f=s;s=V}}H=ue+84+12|0;j=ue+84+4|0;U=ue+48+12|0;i=h;while(1){f=i+-1|0;l=o[d+(f<<2)>>2]|0;o[6747]=(o[6747]|0)+1;s=Do(23)|0;if(!s)u=0;else{o[(s+4+15&-16)+-4>>2]=s;u=s+4+15&-16}o[u>>2]=l;s=o[ie>>2]|0;b=+c[s+(l*36|0)+20>>2];m=+c[s+(l*36|0)+24>>2];p=+c[s+(l*36|0)+28>>2];do{if((i|0)>1){h=s;T=u;l=u;A=1;s=u;M=1;P=i+-2|0;O=f;while(1){R=o[d+(P<<2)>>2]|0;t:do{if(b*+c[h+(R*36|0)+20>>2]+m*+c[h+(R*36|0)+24>>2]+p*+c[h+(R*36|0)+28>>2]>.9990000128746033){do{if((M|0)==(A|0)){u=(A|0)==0?1:A<<1;if((A|0)>=(u|0)){t=l;break}do{if(!u)l=0;else{o[6747]=(o[6747]|0)+1;i=Do((u<<2|3)+16|0)|0;if(!i){l=0;break}o[(i+4+15&-16)+-4>>2]=i;l=i+4+15&-16}}while(0);if((A|0)>0){i=0;do{o[l+(i<<2)>>2]=o[s+(i<<2)>>2];i=i+1|0}while((i|0)!=(A|0));if(!T){t=l;T=l;A=u;s=l;break}}else if((s|0)==0|(T|0)==0){t=l;T=l;A=u;s=l;break}o[6748]=(o[6748]|0)+1;Vs(o[T+-4>>2]|0);t=l;T=l;A=u;s=l}else t=l}while(0);o[s+(M<<2)>>2]=R;h=M+1|0;if((O|0)>0){f=0;while(1){l=d+(f<<2)|0;if((o[l>>2]|0)==(R|0))break;i=f+1|0;if((i|0)<(O|0))f=i;else{k=t;l=T;u=A;L=h;i=O;break t}}i=O+-1|0;u=d+(i<<2)|0;if((f|0)>=(O|0)){k=t;l=T;u=A;L=h;i=O;break}o[l>>2]=o[u>>2];o[u>>2]=R;k=t;l=T;u=A;L=h}else{k=t;l=T;u=A;L=h;i=O}}else{k=l;l=T;u=A;L=M;i=O}}while(0);if((P|0)<=0)break;h=o[ie>>2]|0;T=l;l=k;A=u;M=L;P=P+-1|0;O=i}if((L|0)<=1)if((L|0)==1){l=k;M=1;re=344;break}else{l=k;break}n[ue+84+16>>0]=1;o[H>>2]=0;o[j>>2]=0;o[ue+84+8>>2]=0;p=0.0;b=0.0;m=0.0;l=0;O=0;do{R=o[s+(O<<2)>>2]|0;M=o[ie>>2]|0;p=+c[M+(R*36|0)+20>>2]+p;b=+c[M+(R*36|0)+24>>2]+b;m=+c[M+(R*36|0)+28>>2]+m;u=o[M+(R*36|0)+4>>2]|0;if((u|0)>0){T=0;do{t=o[(o[M+(R*36|0)+12>>2]|0)+(T<<2)>>2]|0;q=(o[(o[e+52>>2]|0)+16>>2]|0)+(t<<4)|0;o[ue>>2]=o[q>>2];o[ue+4>>2]=o[q+4>>2];o[ue+8>>2]=o[q+8>>2];o[ue+12>>2]=o[q+12>>2];t:do{if((l|0)>0){f=o[H>>2]|0;h=0;while(1){if((o[f+(h*24|0)+20>>2]|0)==(t|0))break t;h=h+1|0;if((h|0)>=(l|0)){re=224;break}}}else re=224}while(0);if((re|0)==224){re=0;o[ue+48>>2]=o[ue>>2];o[ue+48+4>>2]=o[ue+4>>2];o[ue+48+8>>2]=o[ue+8>>2];o[ue+48+12>>2]=o[ue+12>>2];do{if((l|0)==(o[ue+84+8>>2]|0)){A=(l|0)==0?1:l<<1;if((l|0)>=(A|0))break;if(!A)u=0;else{o[6747]=(o[6747]|0)+1;l=Do((A*24|3)+16|0)|0;if(!l)u=0;else{o[(l+4+15&-16)+-4>>2]=l;u=l+4+15&-16}l=o[j>>2]|0}h=o[H>>2]|0;if((l|0)<=0){if(h)re=234}else{f=0;do{re=u+(f*24|0)|0;q=h+(f*24|0)|0;o[re>>2]=o[q>>2];o[re+4>>2]=o[q+4>>2];o[re+8>>2]=o[q+8>>2];o[re+12>>2]=o[q+12>>2];o[re+16>>2]=o[q+16>>2];o[re+20>>2]=o[q+20>>2];f=f+1|0}while((f|0)!=(l|0));re=234}if((re|0)==234){re=0;if(n[ue+84+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0);l=o[j>>2]|0}o[H>>2]=0}n[ue+84+16>>0]=1;o[H>>2]=u;o[ue+84+8>>2]=A}}while(0);u=o[H>>2]|0;q=u+(l*24|0)|0;o[q>>2]=o[ue+48>>2];o[q+4>>2]=o[ue+48+4>>2];o[q+8>>2]=o[ue+48+8>>2];o[q+12>>2]=o[ue+48+12>>2];o[q+16>>2]=o[ue+48+16>>2];o[u+(l*24|0)+20>>2]=t;l=(o[j>>2]|0)+1|0;o[j>>2]=l;u=o[M+(R*36|0)+4>>2]|0}T=T+1|0}while((T|0)<(u|0))}O=O+1|0}while((O|0)!=(L|0));n[ue+48+16>>0]=1;o[U>>2]=0;o[ue+48+4>>2]=0;o[ue+48+8>>2]=0;q=o[s>>2]|0;J=o[ie>>2]|0;o[ue+48+20>>2]=o[J+(q*36|0)+20>>2];o[ue+48+24>>2]=o[J+(q*36|0)+24>>2];o[ue+48+28>>2]=o[J+(q*36|0)+28>>2];o[ue+48+32>>2]=o[J+(q*36|0)+32>>2];S=1.0/+v(+(p*p+b*b+m*m));x=p*S;I=b*S;S=m*S;if(+y(+S)>.7071067690849304){E=1.0/+v(+(S*S+I*I));g=0.0;C=I*E;E=-(S*E)}else{E=1.0/+v(+(x*x+I*I));g=-(I*E);C=0.0;E=x*E}h=o[j>>2]|0;do{if((h|0)<2){if((h|0)==1){f=1;u=0;h=0;l=0;do{R=o[H>>2]|0;do{if((u|0)==(h|0)){T=(h|0)==0?1:h<<1;if((h|0)>=(T|0)){t=h;break}do{if(!T)A=0;else{o[6747]=(o[6747]|0)+1;f=Do((T*24|3)+16|0)|0;if(!f){h=u;A=0;break}o[(f+4+15&-16)+-4>>2]=f;h=u;A=f+4+15&-16}}while(0);if((h|0)<=0){if(l|0)re=255}else{f=0;do{re=A+(f*24|0)|0;q=l+(f*24|0)|0;o[re>>2]=o[q>>2];o[re+4>>2]=o[q+4>>2];o[re+8>>2]=o[q+8>>2];o[re+12>>2]=o[q+12>>2];o[re+16>>2]=o[q+16>>2];o[re+20>>2]=o[q+20>>2];f=f+1|0}while((f|0)!=(h|0));re=255}if((re|0)==255){re=0;o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}t=u;f=o[j>>2]|0;h=T;l=A}else t=u}while(0);q=l+(t*24|0)|0;o[q>>2]=o[R>>2];o[q+4>>2]=o[R+4>>2];o[q+8>>2]=o[R+8>>2];o[q+12>>2]=o[R+12>>2];o[q+16>>2]=o[R+16>>2];o[q+20>>2]=o[R+20>>2];u=u+1|0}while((u|0)<(f|0));re=289}else{l=0;re=331}}else{f=o[H>>2]|0;u=0;do{l=f+(u*24|0)|0;if(g*+c[l>>2]+E*+c[f+(u*24|0)+4>>2]+C*+c[f+(u*24|0)+8>>2]<g*+c[f>>2]+E*+c[f+4>>2]+C*+c[f+8>>2]){o[ue>>2]=o[f>>2];o[ue+4>>2]=o[f+4>>2];o[ue+8>>2]=o[f+8>>2];o[ue+12>>2]=o[f+12>>2];o[ue+16>>2]=o[f+16>>2];o[ue+20>>2]=o[f+20>>2];o[f>>2]=o[l>>2];o[f+4>>2]=o[l+4>>2];o[f+8>>2]=o[l+8>>2];o[f+12>>2]=o[l+12>>2];o[f+16>>2]=o[l+16>>2];o[f+20>>2]=o[l+20>>2];re=f+(u*24|0)|0;o[re>>2]=o[ue>>2];o[re+4>>2]=o[ue+4>>2];o[re+8>>2]=o[ue+8>>2];o[re+12>>2]=o[ue+12>>2];o[re+16>>2]=o[ue+16>>2];o[re+20>>2]=o[ue+20>>2]}u=u+1|0}while((u|0)<(h|0));c[f+16>>2]=-1000000015047466219876688.0e6;if((h|0)>1){p=+c[f>>2];b=+c[f+4>>2];m=+c[f+8>>2];l=1;do{N=+c[f+(l*24|0)>>2]-p;B=+c[f+(l*24|0)+4>>2]-b;Z=+c[f+(l*24|0)+8>>2]-m;c[f+(l*24|0)+16>>2]=((g*B-E*N)*S+(x*(E*Z-C*B)+I*(C*N-g*Z)))/+v(+(N*N+B*B+Z*Z));l=l+1|0}while((l|0)!=(h|0))}o[ue>>2]=o[f>>2];o[ue+4>>2]=o[f+4>>2];o[ue+8>>2]=o[f+8>>2];o[ue+12>>2]=o[f+12>>2];ve(ue+84|0,ue,1,h+-1|0);u=o[H>>2]|0;o[6747]=(o[6747]|0)+1;l=Do(43)|0;if(!l)h=0;else{o[(l+4+15&-16)+-4>>2]=l;h=l+4+15&-16}f=o[H>>2]|0;o[h>>2]=o[u>>2];o[h+4>>2]=o[u+4>>2];o[h+8>>2]=o[u+8>>2];o[h+12>>2]=o[u+12>>2];o[h+16>>2]=o[u+16>>2];o[h+20>>2]=o[u+20>>2];o[6747]=(o[6747]|0)+1;l=Do(67)|0;if(!l)l=0;else{o[(l+4+15&-16)+-4>>2]=l;l=l+4+15&-16}o[l>>2]=o[h>>2];o[l+4>>2]=o[h+4>>2];o[l+8>>2]=o[h+8>>2];o[l+12>>2]=o[h+12>>2];o[l+16>>2]=o[h+16>>2];o[l+20>>2]=o[h+20>>2];if(h|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}re=l+24|0;o[re>>2]=o[f+24>>2];o[re+4>>2]=o[f+24+4>>2];o[re+8>>2]=o[f+24+8>>2];o[re+12>>2]=o[f+24+12>>2];o[re+16>>2]=o[f+24+16>>2];o[re+20>>2]=o[f+24+20>>2];f=o[j>>2]|0;if((f|0)==2){u=2;re=289;break}A=2;u=2;h=2;R=2;do{t:do{if((A|0)>1){re=o[H>>2]|0;T=re+(R*24|0)|0;p=+c[T>>2];b=+c[re+(R*24|0)+4>>2];m=+c[re+(R*24|0)+8>>2];while(1){re=A+-2|0;t=A+-1|0;N=+c[l+(re*24|0)>>2];B=N-+c[l+(t*24|0)>>2];w=+c[l+(re*24|0)+4>>2];E=w-+c[l+(t*24|0)+4>>2];Z=+c[l+(re*24|0)+8>>2];F=Z-+c[l+(t*24|0)+8>>2];if((B*(w-b)-E*(N-p))*S+(x*(E*(Z-m)-F*(w-b))+I*(F*(N-p)-B*(Z-m)))>0.0)break;if((A|0)>2){A=t;u=t}else{A=1;u=t;break t}}do{if((A|0)==(h|0)){t=h<<1;if((h|0)>=(t|0)){A=h;t=h;break}o[6747]=(o[6747]|0)+1;f=Do((h*48|3)+16|0)|0;if(!f)h=0;else{o[(f+4+15&-16)+-4>>2]=f;h=f+4+15&-16}if((u|0)>0){f=0;do{re=h+(f*24|0)|0;q=l+(f*24|0)|0;o[re>>2]=o[q>>2];o[re+4>>2]=o[q+4>>2];o[re+8>>2]=o[q+8>>2];o[re+12>>2]=o[q+12>>2];o[re+16>>2]=o[q+16>>2];o[re+20>>2]=o[q+20>>2];f=f+1|0}while((f|0)!=(u|0))}o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);f=o[j>>2]|0;A=u;l=h}else t=h}while(0);A=l+(A*24|0)|0;o[A>>2]=o[T>>2];o[A+4>>2]=o[T+4>>2];o[A+8>>2]=o[T+8>>2];o[A+12>>2]=o[T+12>>2];o[A+16>>2]=o[T+16>>2];o[A+20>>2]=o[T+20>>2];u=u+1|0;A=u;h=t}}while(0);R=R+1|0}while((R|0)!=(f|0));if((u|0)>0)re=289;else re=291}}while(0);if((re|0)==289){re=0;h=o[ue+48+4>>2]|0;f=o[ue+48+8>>2]|0;T=n[ue+48+16>>0]|0;D=0;while(1){P=l+(D*24|0)+20|0;do{if((h|0)==(f|0)){M=(f|0)==0?1:f<<1;if((f|0)>=(M|0)){O=T;h=f;M=f;break}do{if(!M)t=0;else{o[6747]=(o[6747]|0)+1;h=Do((M<<2|3)+16|0)|0;if(!h){t=0;break}o[(h+4+15&-16)+-4>>2]=h;t=h+4+15&-16}}while(0);A=o[U>>2]|0;if((f|0)<=0){if(A)re=321}else{h=0;do{o[t+(h<<2)>>2]=o[A+(h<<2)>>2];h=h+1|0}while((h|0)!=(f|0));re=321}if((re|0)==321){re=0;if(T<<24>>24){o[6748]=(o[6748]|0)+1;Vs(o[A+-4>>2]|0)}o[U>>2]=0;f=o[ue+48+4>>2]|0}o[U>>2]=t;o[ue+48+8>>2]=M;O=1;h=f}else{O=T;M=f}}while(0);o[(o[U>>2]|0)+(h<<2)>>2]=o[P>>2];h=h+1|0;o[ue+48+4>>2]=h;f=o[j>>2]|0;t:do{if((f|0)>0){R=o[H>>2]|0;A=o[P>>2]|0;t=0;while(1){T=R+(t*24|0)+20|0;t=t+1|0;if((o[T>>2]|0)==(A|0))break;if((t|0)>=(f|0))break t}o[T>>2]=-1}}while(0);D=D+1|0;if((D|0)>=(u|0))break;else{f=M;T=O}}n[ue+48+16>>0]=O;re=291}t:do{if((re|0)==291){re=0;if((f|0)>0){T=o[H>>2]|0;R=o[$>>2]|0;M=o[ie>>2]|0;P=(L|0)>0;if((R|0)<=0){re=331;break}D=0;while(1){O=o[T+(D*24|0)+20>>2]|0;i:do{if((O|0)!=-1){if(!P){A=0;while(1){u=o[M+(A*36|0)+4>>2]|0;if((u|0)>0){h=o[M+(A*36|0)+12>>2]|0;t=0;do{if((o[h+(t<<2)>>2]|0)==(O|0)){u=1;break t}t=t+1|0}while((t|0)<(u|0))}A=A+1|0;if((A|0)>=(R|0))break i}}t=0;do{u=0;while(1){if((o[s+(u<<2)>>2]|0)==(t|0))break;u=u+1|0;if((u|0)>=(L|0)){re=306;break}}do{if((re|0)==306){re=0;u=o[M+(t*36|0)+4>>2]|0;if((u|0)<=0)break;h=o[M+(t*36|0)+12>>2]|0;A=0;do{if((o[h+(A<<2)>>2]|0)==(O|0)){u=1;break t}A=A+1|0}while((A|0)<(u|0))}}while(0);t=t+1|0}while((t|0)<(R|0))}}while(0);D=D+1|0;if((D|0)>=(f|0)){re=331;break}}}else re=331}}while(0);if((re|0)==331){re=0;gi((o[e+52>>2]|0)+24|0,ue+48|0);u=0}if(l|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}l=o[U>>2]|0;if(l|0){if(n[ue+48+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[U>>2]=0}l=o[H>>2]|0;if(l|0){if(n[ue+84+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}o[H>>2]=0}if(u&(L|0)>0){l=k;M=L;re=344}else l=k}else{l=u;s=u;M=1;i=f;re=344}}while(0);if((re|0)==344){re=0;R=0;do{t=o[s+(R<<2)>>2]|0;T=o[ie>>2]|0;n[ue+16>>0]=1;o[ue+12>>2]=0;o[ue+4>>2]=0;o[ue+8>>2]=0;A=o[T+(t*36|0)+4>>2]|0;if((A|0)>0){o[6747]=(o[6747]|0)+1;f=Do((A<<2|3)+16|0)|0;do{if(!f){h=0;u=0}else{o[(f+4+15&-16)+-4>>2]=f;u=o[ue+12>>2]|0;if((u|0)==0|(n[ue+16>>0]|0)==0){h=f+4+15&-16;u=f+4+15&-16;break}o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);h=f+4+15&-16;u=f+4+15&-16}}while(0);n[ue+16>>0]=1;o[ue+12>>2]=u;o[ue+8>>2]=A;_l(u|0,0,A<<2|0)|0;o[ue+4>>2]=A;u=o[T+(t*36|0)+12>>2]|0;f=0;do{o[h+(f<<2)>>2]=o[u+(f<<2)>>2];f=f+1|0}while((f|0)!=(A|0));u=o[ue+12>>2]|0}else{o[ue+4>>2]=A;u=0}o[ue+20>>2]=o[T+(t*36|0)+20>>2];o[ue+20+4>>2]=o[T+(t*36|0)+20+4>>2];o[ue+20+8>>2]=o[T+(t*36|0)+20+8>>2];o[ue+20+12>>2]=o[T+(t*36|0)+20+12>>2];gi((o[e+52>>2]|0)+24|0,ue);if(u|0){if(n[ue+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}o[ue+12>>2]=0}R=R+1|0}while((R|0)<(M|0))}if(!((s|0)==0|(l|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0)}if(!i){q=V;break e}}}else{q=0;d=0}}while(0);J=o[e+52>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;i=o[J+28>>2]|0;if((i|0)>0){R=0;P=0;T=0;s=0;l=0;L=0;O=0;t=0;u=0;D=0;A=0;f=0;M=0;k=0;K=0;while(1){h=o[J+36>>2]|0;Q=o[h+(K*36|0)+4>>2]|0;if((Q|0)>0){z=K&65535;Y=K|-65536;G=R;j=T;W=O;H=A;i=0;while(1){X=i+1|0;O=o[h+(K*36|0)+12>>2]|0;A=o[O+(i<<2)>>2]&65535;O=o[O+(((X|0)==(Q|0)?0:X)<<2)>>2]&65535;V=O<<16>>16>A<<16>>16?A:O;e=O<<16>>16>A<<16>>16?O:A;h=O<<16>>16>A<<16>>16?A:O;A=O<<16>>16>A<<16>>16?O:A;O=H+-1|0;e:do{if((((h&65535)<<16)+(A<<16>>16)&O)>>>0<L>>>0?(oe=o[l+((((h&65535)<<16)+(A<<16>>16)&O)<<2)>>2]|0,(oe|0)!=-1):0){i=oe;while(1){if(A<<16>>16==(r[s+(i<<2)>>1]|0)?h<<16>>16==(r[s+(i<<2)+2>>1]|0):0)break;i=o[u+(i<<2)>>2]|0;if((i|0)==-1){R=0;break e}}R=f+(i<<2)|0}else R=0}while(0);i=o[J+16>>2]|0;E=+c[i+(h<<16>>16<<4)>>2]-+c[i+(A<<16>>16<<4)>>2];S=+c[i+(h<<16>>16<<4)+4>>2]-+c[i+(A<<16>>16<<4)+4>>2];C=+c[i+(h<<16>>16<<4)+8>>2]-+c[i+(A<<16>>16<<4)+8>>2];g=1.0/+v(+(E*E+S*S+C*C));i=o[J+48>>2]|0;e:do{if((i|0)>0){h=o[J+56>>2]|0;A=0;while(1){p=+c[h+(A<<4)>>2];b=+c[h+(A<<4)+4>>2];m=+c[h+(A<<4)+8>>2];do{if(!(+y(+(p-E*g))>1.0e-06)){if(+y(+(b-S*g))>1.0e-06)break;if(!(+y(+(m-C*g))>1.0e-06))break e}}while(0);do{if(!(+y(+(E*g+p))>1.0e-06)){if(+y(+(S*g+b))>1.0e-06)break;if(!(+y(+(C*g+m))>1.0e-06))break e}}while(0);A=A+1|0;if((A|0)>=(i|0)){re=387;break}}}else re=387}while(0);if((re|0)==387){re=0;do{if((i|0)==(o[J+52>>2]|0)){T=(i|0)==0?1:i<<1;if((i|0)>=(T|0))break;if(!T)h=0;else{o[6747]=(o[6747]|0)+1;i=Do((T<<4|3)+16|0)|0;if(!i)h=0;else{o[(i+4+15&-16)+-4>>2]=i;h=i+4+15&-16}i=o[J+48>>2]|0}if((i|0)>0){A=0;do{U=h+(A<<4)|0;fe=(o[J+56>>2]|0)+(A<<4)|0;o[U>>2]=o[fe>>2];o[U+4>>2]=o[fe+4>>2];o[U+8>>2]=o[fe+8>>2];o[U+12>>2]=o[fe+12>>2];A=A+1|0}while((A|0)!=(i|0))}i=o[J+56>>2]|0;if(i|0){if(n[J+60>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[J+56>>2]=0}n[J+60>>0]=1;o[J+56>>2]=h;o[J+52>>2]=T;i=o[J+48>>2]|0}}while(0);fe=o[J+56>>2]|0;c[fe+(i<<4)>>2]=E*g;c[fe+(i<<4)+4>>2]=S*g;c[fe+(i<<4)+8>>2]=C*g;c[fe+(i<<4)+12>>2]=0.0;o[J+48>>2]=(o[J+48>>2]|0)+1}e:do{if(!R){i=((V&65535)<<16)+(e<<16>>16)&O;t:do{if(i>>>0<L>>>0){h=o[l+(i<<2)>>2]|0;if((h|0)==-1)break;while(1){if(e<<16>>16==(r[s+(h<<2)>>1]|0)?V<<16>>16==(r[s+(h<<2)+2>>1]|0):0)break;h=o[u+(h<<2)>>2]|0;if((h|0)==-1)break t}R=f+(h<<2)|0;r[R>>1]=Y;r[R+2>>1]=Y>>>16;R=G;T=j;O=W;A=H;break e}}while(0);do{if((D|0)==(H|0)){A=(D|0)==0?1:D<<1;if((D|0)>=(A|0)){A=D;break}do{if(!A)T=0;else{o[6747]=(o[6747]|0)+1;h=Do((A<<2|3)+16|0)|0;if(!h){T=0;break}o[(h+4+15&-16)+-4>>2]=h;T=h+4+15&-16}}while(0);if((D|0)<=0){if(!f){f=T;break}}else{h=0;do{fe=T+(h<<2)|0;U=f+(h<<2)|0;U=a[U>>1]|a[U+2>>1]<<16;r[fe>>1]=U;r[fe+2>>1]=U>>>16;h=h+1|0}while((h|0)!=(D|0))}o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0);f=T}else A=H}while(0);U=f+(D<<2)|0;r[U>>1]=Y;r[U+2>>1]=Y>>>16;U=D+1|0;do{if((k|0)==(j|0)){T=(k|0)==0?1:k<<1;if((k|0)>=(T|0)){T=k;break}do{if(!T)R=0;else{o[6747]=(o[6747]|0)+1;h=Do((T<<2|3)+16|0)|0;if(!h){R=0;break}o[(h+4+15&-16)+-4>>2]=h;R=h+4+15&-16}}while(0);if((k|0)<=0){if(!s){s=R;break}}else{h=0;do{fe=R+(h<<2)|0;j=s+(h<<2)|0;j=a[j>>1]|a[j+2>>1]<<16;r[fe>>1]=j;r[fe+2>>1]=j>>>16;h=h+1|0}while((h|0)!=(k|0))}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);s=R}else T=j}while(0);fe=s+(k<<2)|0;r[fe>>1]=(V&65535)<<16|e&65535;r[fe+2>>1]=((V&65535)<<16|e&65535)>>>16;k=k+1|0;if((H|0)<(A|0)){do{if((L|0)<(A|0)){do{if((M|0)<(A|0)){do{if(!A)h=0;else{o[6747]=(o[6747]|0)+1;i=Do((A<<2|3)+16|0)|0;if(!i){h=0;break}o[(i+4+15&-16)+-4>>2]=i;h=i+4+15&-16}}while(0);if((L|0)<=0){if(!l){P=h;l=h;M=A;break}}else{i=0;do{o[h+(i<<2)>>2]=o[l+(i<<2)>>2];i=i+1|0}while((i|0)!=(L|0))}o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);P=h;l=h;M=A}}while(0);O=A<<2;_l(l+(L<<2)|0,0,O-(L<<2)|0)|0;if((W|0)<(A|0)){do{if((t|0)<(A|0)){do{if(!A)h=0;else{o[6747]=(o[6747]|0)+1;i=Do((O|3)+16|0)|0;if(!i){h=0;break}o[(i+4+15&-16)+-4>>2]=i;h=i+4+15&-16}}while(0);if((W|0)<=0){if(!u){i=h;t=A;u=h;break}}else{i=0;do{o[h+(i<<2)>>2]=o[u+(i<<2)>>2];i=i+1|0}while((i|0)!=(W|0))}o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);i=h;t=A;u=h}else i=G}while(0);_l(u+(W<<2)|0,0,O-(W<<2)|0)|0;R=i}else R=G;if((A|0)>0){_l(P|0,-1,O|0)|0;_l(R|0,-1,O|0)|0}if((L|0)<=0){h=A;O=A;i=M;break}h=A+-1|0;i=0;do{fe=l+(((a[s+(i<<2)+2>>1]<<16)+(r[s+(i<<2)>>1]|0)&h)<<2)|0;o[u+(i<<2)>>2]=o[fe>>2];o[fe>>2]=i;i=i+1|0}while((i|0)!=(L|0));h=A;O=A;i=M}else{R=G;h=L;O=W;i=M}}while(0);M=i;i=((V&65535)<<16)+(e<<16>>16)&A+-1}else{R=G;h=L;O=W}L=l+(i<<2)|0;o[u+(D<<2)>>2]=o[L>>2];o[L>>2]=D;L=h;D=U}else{r[R+2>>1]=z;R=G;T=j;O=W;A=H}}while(0);if((X|0)>=(Q|0))break;h=o[J+36>>2]|0;G=R;j=T;W=O;H=A;i=X}i=o[J+28>>2]|0;h=k}else h=k;K=K+1|0;if((K|0)>=(i|0))break;else k=h}if((i|0)>0){R=o[J+36>>2]|0;M=o[J+16>>2]|0;p=0.0;O=0;do{A=o[R+(O*36|0)+4>>2]|0;t=o[R+(O*36|0)+12>>2]|0;T=o[t>>2]|0;if((A|0)>=3){b=+c[J+64>>2];m=+c[J+68>>2];g=+c[J+72>>2];h=1;do{oe=o[t+(h<<2)>>2]|0;h=h+1|0;fe=o[t+(((h|0)%(A|0)|0)<<2)>>2]|0;C=+c[M+(T<<4)>>2];E=+c[M+(oe<<4)>>2];I=+c[M+(T<<4)+4>>2];x=+c[M+(oe<<4)+4>>2];F=+c[M+(T<<4)+8>>2];N=+c[M+(oe<<4)+8>>2];S=+c[M+(fe<<4)>>2];w=+c[M+(fe<<4)+4>>2];B=+c[M+(fe<<4)+8>>2];Z=+v(+(((C-E)*(I-w)-(I-x)*(C-S))*((C-E)*(I-w)-(I-x)*(C-S))+(((I-x)*(F-B)-(F-N)*(I-w))*((I-x)*(F-B)-(F-N)*(I-w))+((F-N)*(C-S)-(C-E)*(F-B))*((F-N)*(C-S)-(C-E)*(F-B)))))*.5;b=b+(C+E+S)*.3333333432674408*Z;c[J+64>>2]=b;m=m+(I+x+w)*.3333333432674408*Z;c[J+68>>2]=m;g=g+(F+N+B)*.3333333432674408*Z;c[J+72>>2]=g;p=p+Z}while((h|0)!=(A+-1|0))}O=O+1|0}while((O|0)!=(i|0));h=J+64|0;A=1;T=s;t=l}else re=365}else{s=0;l=0;u=0;f=0;re=365}if((re|0)==365){p=0.0;h=J+64|0;A=0;T=s;t=l}g=1.0/p;C=g*+c[h>>2];c[h>>2]=C;m=g*+c[J+68>>2];c[J+68>>2]=m;g=g*+c[J+72>>2];c[J+72>>2]=g;c[J+96>>2]=3402823466385288598117041.0e14;if(A){s=o[J+36>>2]|0;b=3402823466385288598117041.0e14;l=0;while(1){p=+y(+(+c[s+(l*36|0)+32>>2]+(C*+c[s+(l*36|0)+20>>2]+m*+c[s+(l*36|0)+24>>2]+g*+c[s+(l*36|0)+28>>2])));if(p<b)c[J+96>>2]=p;else p=b;l=l+1|0;if((l|0)==(i|0))break;else b=p}}else p=3402823466385288598117041.0e14;i=o[J+8>>2]|0;if((i|0)>0){s=o[J+16>>2]|0;S=-3402823466385288598117041.0e14;E=-3402823466385288598117041.0e14;C=-3402823466385288598117041.0e14;g=3402823466385288598117041.0e14;m=3402823466385288598117041.0e14;b=3402823466385288598117041.0e14;l=0;do{Z=+c[s+(l<<4)>>2];g=Z<g?Z:g;S=Z>S?Z:S;Z=+c[s+(l<<4)+4>>2];m=Z<m?Z:m;E=Z>E?Z:E;Z=+c[s+(l<<4)+8>>2];b=Z<b?Z:b;C=Z>C?Z:C;l=l+1|0}while((l|0)!=(i|0))}else{S=-3402823466385288598117041.0e14;E=-3402823466385288598117041.0e14;C=-3402823466385288598117041.0e14;g=3402823466385288598117041.0e14;m=3402823466385288598117041.0e14;b=3402823466385288598117041.0e14}c[J+100>>2]=g+S;c[J+104>>2]=m+E;c[J+108>>2]=b+C;c[J+112>>2]=0.0;Z=S-g;B=E-m;b=C-b;c[J+116>>2]=Z;c[J+120>>2]=B;c[J+124>>2]=b;c[J+128>>2]=0.0;m=p/1.7320507764816284;h=Z<B?B<b?2:1:Z<b?2:0;b=(+c[J+116+(h<<2)>>2]*.5-m)*.0009765625;c[J+88>>2]=m;c[J+84>>2]=m;c[J+80>>2]=m;p=+c[J+116+(h<<2)>>2]*.5;c[J+80+(h<<2)>>2]=p;i=0;while(1){if(ui(J)|0){re=478;break}p=p-b;c[J+80+(h<<2)>>2]=p;i=i+1|0;if(i>>>0>=1024){re=477;break}}e:do{if((re|0)==477){c[J+88>>2]=m;c[J+84>>2]=m;c[J+80>>2]=m}else if((re|0)==478){b=(+c[J+96>>2]-m)*.0009765625;s=o[J+80+((1<<(1<<h&3)&3)<<2)>>2]|0;l=0;while(1){i=o[J+80+((1<<h&3)<<2)>>2]|0;c[J+80+((1<<h&3)<<2)>>2]=b+(o[_>>2]=i,+c[_>>2]);p=b+ +c[J+80+((1<<(1<<h&3)&3)<<2)>>2];c[J+80+((1<<(1<<h&3)&3)<<2)>>2]=p;l=l+1|0;if(!(ui(J)|0))break;if(l>>>0>=1024)break e;else s=(c[_>>2]=p,o[_>>2]|0)}o[J+80+((1<<h&3)<<2)>>2]=i;o[J+80+((1<<(1<<h&3)&3)<<2)>>2]=s}}while(0);if(T|0){o[6748]=(o[6748]|0)+1;Vs(o[T+-4>>2]|0)}if(f|0){o[6748]=(o[6748]|0)+1;Vs(o[f+-4>>2]|0)}if(u|0){o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0)}if(t|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}if(!((d|0)==0|(q|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[q+-4>>2]|0)}d=o[$>>2]|0;h=o[ie>>2]|0;if((d|0)<=0){if(h|0)re=500}else{l=0;do{f=h+(l*36|0)+4|0;u=h+(l*36|0)+12|0;s=o[u>>2]|0;i=h+(l*36|0)+16|0;if(s|0){if(n[i>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[u>>2]=0}n[i>>0]=1;o[u>>2]=0;o[f>>2]=0;o[h+(l*36|0)+8>>2]=0;l=l+1|0}while((l|0)!=(d|0));re=500}if((re|0)==500){if(n[ue+104+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[h+-4>>2]|0)}o[ie>>2]=0}if(!((te|0)==0|(ne|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[ne+-4>>2]|0)}i=o[se>>2]|0;if(i|0){if(n[ue+124+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[se>>2]=0}n[ue+124+56>>0]=1;o[se>>2]=0;o[ue+124+44>>2]=0;o[ue+124+48>>2]=0;i=o[ce>>2]|0;if(i|0){if(n[ue+124+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[ce>>2]=0}n[ue+124+36>>0]=1;o[ce>>2]=0;o[ue+124+24>>2]=0;o[ue+124+28>>2]=0;i=o[le>>2]|0;if(i|0){if(n[ue+124+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[le>>2]=0}if(!_e){ae=ue;return 1}o[6748]=(o[6748]|0)+1;Vs(o[_e+-4>>2]|0);ae=ue;return 1}function lD(e,t,i,r,s){e=e|0;t=t|0;i=i|0;r=r|0;s=s|0;var a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0,m=0,A=0.0,g=0.0,C=0.0,T=0.0,R=0,M=0.0,O=0.0,I=0.0,x=0.0,P=0,D=0.0,w=0,L=0,F=0,N=0.0,B=0,k=0.0,U=0.0,H=0.0,j=0.0,V=0.0,G=0.0,W=0,X=0,z=0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0.0,_e=0.0,ue=0.0,fe=0,de=0.0,he=0.0,pe=0.0,be=0,me=0.0,Ae=0,ge=0,ye=0,ve=0;ve=ae;ae=ae+688|0;a=o[e+20>>2]|0;if(!a){a=o[e+4>>2]|0;a=mF[o[(o[a>>2]|0)+12>>2]&63](a,o[t+8>>2]|0,o[i+8>>2]|0)|0;o[e+20>>2]=a;n[e+16>>0]=1}o[s+4>>2]=a;Ae=o[t+4>>2]|0;ge=o[i+4>>2]|0;l=o[Ae+4>>2]|0;_=o[ge+4>>2]|0;if((l|0)==10&(_|0)==10){G=+c[a+752>>2];be=o[Ae+52>>2]|0;A=+c[Ae+28+(be<<2)>>2];V=+c[Ae+28+(((be+2|0)%3|0)<<2)>>2];ye=o[ge+52>>2]|0;f=+c[ge+28+(ye<<2)>>2];j=+c[ge+28+(((ye+2|0)%3|0)<<2)>>2];e=o[t+12>>2]|0;t=o[i+12>>2]|0;x=+c[e+(be<<2)>>2];N=+c[e+16+(be<<2)>>2];D=+c[e+32+(be<<2)>>2];h=+c[t+(ye<<2)>>2];p=+c[t+16+(ye<<2)>>2];T=+c[t+32+(ye<<2)>>2];k=+c[t+48>>2];U=+c[t+52>>2];H=+c[t+56>>2];M=k-+c[e+48>>2];O=U-+c[e+52>>2];I=H-+c[e+56>>2];u=1.0-(x*h+N*p+D*T)*(x*h+N*p+D*T);if(!(u==0.0)){u=(x*M+N*O+D*I-(x*h+N*p+D*T)*(h*M+p*O+T*I))/u;if(!(u<-A)){if(u>A)u=A}else u=-A}else u=0.0;d=(x*h+N*p+D*T)*u-(h*M+p*O+T*I);if(d<-f){u=(x*h+N*p+D*T)*-f+(x*M+N*O+D*I);if(!(u<-A)){if(u>A){u=A;f=-f}else f=-f}else{u=-A;f=-f}}else if(d>f){u=f*(x*h+N*p+D*T)+(x*M+N*O+D*I);if(!(u<-A)){if(u>A)u=A}else u=-A}else f=d;C=h*f;g=p*f;A=T*f;f=C+(M-x*u);p=g+(O-N*u);u=A+(I-D*u);h=+v(+(u*u+(f*f+p*p)));if(!(h-V-j>G)){do{if(u*u+(f*f+p*p)<=1.4210854715202004e-14){if(+y(+D)>.7071067690849304){u=1.0/+v(+(N*N+D*D));c[ve+280>>2]=0.0;c[ve+280+4>>2]=-(D*u);c[ve+280+8>>2]=N*u;d=0.0;f=-(D*u);u=N*u;break}else{f=1.0/+v(+(x*x+N*N));c[ve+280>>2]=-(N*f);c[ve+280+4>>2]=x*f;c[ve+280+8>>2]=0.0;d=-(N*f);f=x*f;u=0.0;break}}else{c[ve+280>>2]=f*-(1.0/h);c[ve+280+4>>2]=p*-(1.0/h);c[ve+280+8>>2]=u*-(1.0/h);c[ve+280+12>>2]=0.0;d=f*-(1.0/h);f=p*-(1.0/h);u=u*-(1.0/h)}}while(0);c[ve+264>>2]=k+C+j*d;c[ve+264+4>>2]=U+g+j*f;c[ve+264+8>>2]=H+A+j*u;c[ve+264+12>>2]=0.0}if(h-V-j<G)FF[o[(o[s>>2]|0)+16>>2]&15](s,ve+280|0,ve+264|0,h-V-j);a=o[s+4>>2]|0;if(!(o[a+748>>2]|0)){ae=ve;return}l=o[a+740>>2]|0;_=o[(o[s+8>>2]|0)+8>>2]|0;if((l|0)==(_|0)){io(a,l+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);ae=ve;return}else{io(a,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,_+4|0);ae=ve;return}}c[ve+128+128>>2]=999999984306749440.0;a=o[e+8>>2]|0;R=o[e+12>>2]|0;o[ve+48>>2]=10520;o[ve+48+4>>2]=0;o[ve+48+8>>2]=1065353216;o[ve+48+12>>2]=0;c[ve+48+16>>2]=0.0;o[ve+48+20>>2]=R;o[ve+48+24>>2]=a;o[ve+48+28>>2]=Ae;o[ve+48+32>>2]=ge;o[ve+48+36>>2]=l;o[ve+48+40>>2]=_;c[ve+48+44>>2]=+nF[o[(o[Ae>>2]|0)+48>>2]&15](Ae);c[ve+48+48>>2]=+nF[o[(o[ge>>2]|0)+48>>2]&15](ge);n[ve+48+52>>0]=0;o[ve+48+60>>2]=-1;o[ve+48+72>>2]=1;o[ve+48+76>>2]=1;o[ve+48+28>>2]=Ae;o[ve+48+32>>2]=ge;pe=+nF[o[(o[Ae>>2]|0)+48>>2]&15](Ae);me=+nF[o[(o[ge>>2]|0)+48>>2]&15](ge);me=pe+me+ +c[(o[e+20>>2]|0)+752>>2];c[ve+128+128>>2]=me*me;a=o[t+12>>2]|0;o[ve+128>>2]=o[a>>2];o[ve+128+4>>2]=o[a+4>>2];o[ve+128+8>>2]=o[a+8>>2];o[ve+128+12>>2]=o[a+12>>2];R=ve+128+16|0;o[R>>2]=o[a+16>>2];o[R+4>>2]=o[a+16+4>>2];o[R+8>>2]=o[a+16+8>>2];o[R+12>>2]=o[a+16+12>>2];_=ve+128+32|0;o[_>>2]=o[a+32>>2];o[_+4>>2]=o[a+32+4>>2];o[_+8>>2]=o[a+32+8>>2];o[_+12>>2]=o[a+32+12>>2];w=ve+128+48|0;o[w>>2]=o[a+48>>2];o[w+4>>2]=o[a+48+4>>2];o[w+8>>2]=o[a+48+8>>2];o[w+12>>2]=o[a+48+12>>2];a=o[i+12>>2]|0;F=ve+128+64|0;o[F>>2]=o[a>>2];o[F+4>>2]=o[a+4>>2];o[F+8>>2]=o[a+8>>2];o[F+12>>2]=o[a+12>>2];P=ve+128+80|0;o[P>>2]=o[a+16>>2];o[P+4>>2]=o[a+16+4>>2];o[P+8>>2]=o[a+16+8>>2];o[P+12>>2]=o[a+16+12>>2];m=ve+128+96|0;o[m>>2]=o[a+32>>2];o[m+4>>2]=o[a+32+4>>2];o[m+8>>2]=o[a+32+8>>2];o[m+12>>2]=o[a+32+12>>2];L=ve+128+112|0;o[L>>2]=o[a+48>>2];o[L+4>>2]=o[a+48+4>>2];o[L+8>>2]=o[a+48+8>>2];o[L+12>>2]=o[a+48+12>>2];a=o[Ae+4>>2]|0;if((a|0)<7?(b=o[ge+4>>2]|0,(b|0)<7):0){o[ve+40>>2]=7192;if(!a){a=b;f=0.0}else{f=+nF[o[(o[Ae>>2]|0)+48>>2]&15](Ae);a=o[ge+4>>2]|0}if(!a)u=0.0;else u=+nF[o[(o[ge>>2]|0)+48>>2]&15](ge);o[ve>>2]=7220;o[ve+4>>2]=s;c[ve+24>>2]=f;c[ve+28>>2]=u;n[ve+36>>0]=0;z=o[Ae+52>>2]|0;e:do{if(z|0){fe=o[ge+52>>2]|0;do{if(!fe){if((o[ge+4>>2]|0)!=1)break e;P=ve+624+16|0;n[P>>0]=1;R=ve+624+12|0;o[R>>2]=0;m=ve+624+4|0;o[m>>2]=0;b=ve+624+8|0;o[b>>2]=0;a=o[i+12>>2]|0;pe=+c[ge+56>>2];me=+c[ge+56+4>>2];f=+c[ge+56+8>>2];u=pe*+c[a>>2]+me*+c[a+4>>2]+f*+c[a+8>>2]+ +c[a+48>>2];d=pe*+c[a+16>>2]+me*+c[a+20>>2]+f*+c[a+24>>2]+ +c[a+52>>2];f=pe*+c[a+32>>2]+me*+c[a+36>>2]+f*+c[a+40>>2]+ +c[a+56>>2];o[6747]=(o[6747]|0)+1;a=Do(35)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[R>>2]|0;if(!a)a=0;else{o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);a=o[m>>2]|0;o[R>>2]=0}n[P>>0]=1;o[R>>2]=l;o[b>>2]=1;c[l+(a<<4)>>2]=u;c[l+(a<<4)+4>>2]=d;c[l+(a<<4)+8>>2]=f;c[l+(a<<4)+12>>2]=0.0;a=(o[m>>2]|0)+1|0;o[m>>2]=a;ye=o[i+12>>2]|0;pe=+c[ge+56+16>>2];me=+c[ge+56+20>>2];f=+c[ge+56+24>>2];u=pe*+c[ye>>2]+me*+c[ye+4>>2]+f*+c[ye+8>>2]+ +c[ye+48>>2];d=pe*+c[ye+16>>2]+me*+c[ye+20>>2]+f*+c[ye+24>>2]+ +c[ye+52>>2];f=pe*+c[ye+32>>2]+me*+c[ye+36>>2]+f*+c[ye+40>>2]+ +c[ye+56>>2];if((a|0)==(o[b>>2]|0)?(B=(a|0)==0?1:a<<1,(a|0)<(B|0)):0){if(!B)l=0;else{o[6747]=(o[6747]|0)+1;a=Do((B<<4|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[m>>2]|0}if((a|0)>0){_=0;do{ye=l+(_<<4)|0;be=(o[R>>2]|0)+(_<<4)|0;o[ye>>2]=o[be>>2];o[ye+4>>2]=o[be+4>>2];o[ye+8>>2]=o[be+8>>2];o[ye+12>>2]=o[be+12>>2];_=_+1|0}while((_|0)!=(a|0))}a=o[R>>2]|0;if(a|0){if(n[P>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[R>>2]=0}n[P>>0]=1;o[R>>2]=l;o[b>>2]=B;a=o[m>>2]|0}ye=o[R>>2]|0;c[ye+(a<<4)>>2]=u;c[ye+(a<<4)+4>>2]=d;c[ye+(a<<4)+8>>2]=f;c[ye+(a<<4)+12>>2]=0.0;a=(o[m>>2]|0)+1|0;o[m>>2]=a;ye=o[i+12>>2]|0;pe=+c[ge+56+32>>2];me=+c[ge+56+36>>2];f=+c[ge+56+40>>2];u=pe*+c[ye>>2]+me*+c[ye+4>>2]+f*+c[ye+8>>2]+ +c[ye+48>>2];d=pe*+c[ye+16>>2]+me*+c[ye+20>>2]+f*+c[ye+24>>2]+ +c[ye+52>>2];f=pe*+c[ye+32>>2]+me*+c[ye+36>>2]+f*+c[ye+40>>2]+ +c[ye+56>>2];if((a|0)==(o[b>>2]|0)?(W=(a|0)==0?1:a<<1,(a|0)<(W|0)):0){if(!W)l=0;else{o[6747]=(o[6747]|0)+1;a=Do((W<<4|3)+16|0)|0;if(!a)l=0;else{o[(a+4+15&-16)+-4>>2]=a;l=a+4+15&-16}a=o[m>>2]|0}if((a|0)>0){_=0;do{ye=l+(_<<4)|0;i=(o[R>>2]|0)+(_<<4)|0;o[ye>>2]=o[i>>2];o[ye+4>>2]=o[i+4>>2];o[ye+8>>2]=o[i+8>>2];o[ye+12>>2]=o[i+12>>2];_=_+1|0}while((_|0)!=(a|0))}a=o[R>>2]|0;if(a|0){if(n[P>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[R>>2]=0}n[P>>0]=1;o[R>>2]=l;o[b>>2]=W;a=o[m>>2]|0}ye=o[R>>2]|0;c[ye+(a<<4)>>2]=u;c[ye+(a<<4)+4>>2]=d;c[ye+(a<<4)+8>>2]=f;c[ye+(a<<4)+12>>2]=0.0;o[m>>2]=(o[m>>2]|0)+1;h=+c[(o[e+20>>2]|0)+752>>2];ts(ve+48|0,ve+128|0,ve+40|0,o[r+20>>2]|0,0);u=+c[ve+48+4>>2];f=+c[ve+48+8>>2];d=+c[ve+48+12>>2];if(u*u+f*f+d*d>1.1920928955078125e-07){pe=1.0/(u*u+f*f+d*d);c[ve+384>>2]=u*pe;c[ve+384+4>>2]=f*pe;c[ve+384+8>>2]=d*pe;c[ve+384+12>>2]=0.0;pe=+c[ve+48+56>>2];me=+nF[o[(o[Ae>>2]|0)+48>>2]&15](Ae);me=pe-me-+nF[o[(o[ge>>2]|0)+48>>2]&15](ge);es(ve+384|0,o[Ae+52>>2]|0,o[t+12>>2]|0,ve+624|0,me-h,h,s)}do{if(n[e+16>>0]|0?(X=o[s+4>>2]|0,o[X+748>>2]|0):0){a=o[X+740>>2]|0;l=o[(o[s+8>>2]|0)+8>>2]|0;if((a|0)==(l|0)){io(X,a+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(X,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,l+4|0);break}}}while(0);a=o[R>>2]|0;if(a|0){if(n[P>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[R>>2]=0}}else{me=+c[(o[e+20>>2]|0)+752>>2];t:do{if(!(n[r+24>>0]|0)){ts(ve+48|0,ve+128|0,ve,o[r+20>>2]|0,0);u=+c[ve+32>>2];if(u<0.0&(n[ve+36>>0]|0)!=0){f=+c[ve+8>>2];d=+c[ve+12>>2];h=+c[ve+16>>2];a=o[ve+20>>2]|0;be=112}}else{P=o[t+12>>2]|0;w=o[i+12>>2]|0;o[6730]=(o[6730]|0)+1;se=+c[z+64>>2];ce=+c[z+68>>2];u=+c[P+4>>2];le=+c[z+72>>2];f=+c[P+8>>2];d=+c[P+16>>2];h=+c[P+20>>2];p=+c[P+24>>2];A=+c[P+32>>2];g=+c[P+36>>2];C=+c[P+40>>2];_e=+c[fe+64>>2];ue=+c[fe+68>>2];he=+c[fe+72>>2];de=se*+c[P>>2]+ce*u+le*f+ +c[P+48>>2]-(_e*+c[w>>2]+ue*+c[w+4>>2]+he*+c[w+8>>2]+ +c[w+48>>2]);pe=se*d+ce*h+le*p+ +c[P+52>>2]-(_e*+c[w+16>>2]+ue*+c[w+20>>2]+he*+c[w+24>>2]+ +c[w+52>>2]);he=se*A+ce*g+le*C+ +c[P+56>>2]-(_e*+c[w+32>>2]+ue*+c[w+36>>2]+he*+c[w+40>>2]+ +c[w+56>>2]);_=o[z+28>>2]|0;i:do{if((_|0)>0){I=f;x=d;O=h;D=0.0;N=3402823466385288598117041.0e14;l=0;f=0.0;d=0.0;h=0.0;while(1){r=o[z+36>>2]|0;le=+c[r+(l*36|0)+20>>2];_e=+c[r+(l*36|0)+24>>2];ue=+c[r+(l*36|0)+28>>2];T=le*+c[P>>2]+_e*u+ue*I;p=le*x+_e*O+ue*p;u=le*A+_e*g+ue*C;c[ve+296>>2]=T;c[ve+296+4>>2]=p;c[ve+296+8>>2]=u;c[ve+296+12>>2]=0.0;if(T*de+p*pe+u*he<0.0){c[ve+296>>2]=-T;c[ve+296+4>>2]=-p;c[ve+296+8>>2]=-u;T=-T;M=-p;u=-u}else M=p;o[6728]=(o[6728]|0)+1;if(Gn(P,w,de,pe,he,T,M,u,z,fe,N)|0){o[6729]=(o[6729]|0)+1;di(z,P,ve+296|0,ve+624|0,ve+384|0,ve+360|0,ve+344|0);di(fe,w,ve+296|0,ve+380|0,ve+376|0,ve+328|0,ve+312|0);p=+c[ve+384>>2];A=+c[ve+380>>2];do{if(p<A){A=D;a=0}else{g=+c[ve+376>>2];C=+c[ve+624>>2];if(g<C){A=D;a=0;break}A=p-A<g-C?p-A:g-C;a=1}}while(0);if(!a)break;if(A<N){p=A;f=T;d=M;h=u}else p=N;M=A;T=p}else{M=D;T=N}a=l+1|0;if((a|0)>=(_|0)){u=T;break i}u=+c[P+4>>2];I=+c[P+8>>2];x=+c[P+16>>2];O=+c[P+20>>2];p=+c[P+24>>2];A=+c[P+32>>2];g=+c[P+36>>2];C=+c[P+40>>2];D=M;N=T;l=a}break t}else{u=3402823466385288598117041.0e14;f=0.0;d=0.0;h=0.0}}while(0);_=o[fe+28>>2]|0;i:do{if((_|0)>0){I=0.0;l=0;while(1){r=o[fe+36>>2]|0;_e=+c[r+(l*36|0)+20>>2];ue=+c[r+(l*36|0)+24>>2];g=+c[r+(l*36|0)+28>>2];p=_e*+c[w>>2]+ue*+c[w+4>>2]+g*+c[w+8>>2];A=_e*+c[w+16>>2]+ue*+c[w+20>>2]+g*+c[w+24>>2];g=_e*+c[w+32>>2]+ue*+c[w+36>>2]+g*+c[w+40>>2];c[ve+296>>2]=p;c[ve+296+4>>2]=A;c[ve+296+8>>2]=g;c[ve+296+12>>2]=0.0;if(p*de+A*pe+g*he<0.0){c[ve+296>>2]=-p;c[ve+296+4>>2]=-A;c[ve+296+8>>2]=-g;p=-p;A=-A;g=-g}o[6728]=(o[6728]|0)+1;if(Gn(P,w,de,pe,he,p,A,g,z,fe,u)|0){o[6729]=(o[6729]|0)+1;di(z,P,ve+296|0,ve+624|0,ve+384|0,ve+360|0,ve+344|0);di(fe,w,ve+296|0,ve+380|0,ve+376|0,ve+328|0,ve+312|0);C=+c[ve+384>>2];T=+c[ve+380>>2];do{if(C<T){C=I;a=0}else{M=+c[ve+376>>2];O=+c[ve+624>>2];if(M<O){C=I;a=0;break}C=C-T<M-O?C-T:M-O;a=1}}while(0);if(!a)break;if(C<u){u=C;f=p;d=A;h=g}}else C=I;l=l+1|0;if((l|0)>=(_|0))break i;else I=C}break t}}while(0);a=o[z+48>>2]|0;i:do{if((a|0)>0){_=o[fe+48>>2]|0;g=0.0;R=0;l=-1;b=-1;M=0.0;O=0.0;I=0.0;x=0.0;G=0.0;Y=0.0;K=0.0;p=0.0;A=0.0;V=0.0;j=0.0;H=0.0;N=0.0;k=0.0;U=0.0;C=0.0;T=0.0;D=0.0;n:while(1){r=o[z+56>>2]|0;se=+c[r+(R<<4)>>2];ce=+c[r+(R<<4)+4>>2];le=+c[r+(R<<4)+8>>2];ue=se*+c[P>>2]+ce*+c[P+4>>2]+le*+c[P+8>>2];_e=se*+c[P+16>>2]+ce*+c[P+20>>2]+le*+c[P+24>>2];le=se*+c[P+32>>2]+ce*+c[P+36>>2]+le*+c[P+40>>2];if((_|0)>0){Q=g;m=0;ce=f;se=d;oe=h;J=M;$=O;te=I;while(1){r=o[fe+56>>2]|0;ne=+c[r+(m<<4)>>2];re=+c[r+(m<<4)+4>>2];ee=+c[r+(m<<4)+8>>2];Z=ne*+c[w>>2]+re*+c[w+4>>2]+ee*+c[w+8>>2];q=ne*+c[w+16>>2]+re*+c[w+20>>2]+ee*+c[w+24>>2];ee=ne*+c[w+32>>2]+re*+c[w+36>>2]+ee*+c[w+40>>2];c[ve+296>>2]=_e*ee-le*q;c[ve+296+4>>2]=le*Z-ue*ee;c[ve+296+8>>2]=ue*q-_e*Z;c[ve+296+12>>2]=0.0;do{if(!(+y(+(_e*ee-le*q))>1.0e-06)){if(+y(+(le*Z-ue*ee))>1.0e-06){be=76;break}if(!(+y(+(ue*q-_e*Z))>1.0e-06)){f=ce;d=se;h=oe;ie=x;ne=G;re=Y}else be=76}else be=76}while(0);do{if((be|0)==76){be=0;h=1.0/+v(+((ue*q-_e*Z)*(ue*q-_e*Z)+((_e*ee-le*q)*(_e*ee-le*q)+(le*Z-ue*ee)*(le*Z-ue*ee))));f=(_e*ee-le*q)*h;c[ve+296>>2]=f;d=(le*Z-ue*ee)*h;c[ve+296+4>>2]=d;h=(ue*q-_e*Z)*h;c[ve+296+8>>2]=h;if(f*de+d*pe+he*h<0.0){c[ve+296>>2]=-f;c[ve+296+4>>2]=-d;c[ve+296+8>>2]=-h;f=-f;d=-d;h=-h}o[6728]=(o[6728]|0)+1;if(!(Gn(P,w,de,pe,he,f,d,h,z,fe,u)|0)){f=ce;d=se;h=oe;ie=x;ne=G;re=Y;break}o[6729]=(o[6729]|0)+1;di(z,P,ve+296|0,ve+624|0,ve+384|0,ve+360|0,ve+344|0);di(fe,w,ve+296|0,ve+380|0,ve+376|0,ve+328|0,ve+312|0);g=+c[ve+384>>2];M=+c[ve+380>>2];do{if(!(g<M)){O=+c[ve+376>>2];I=+c[ve+624>>2];if(O<I){g=Q;a=0;M=J;O=$;I=te;break}if(g-M<O-I){g=g-M;a=1;M=+c[ve+344>>2];O=+c[ve+344+4>>2];I=+c[ve+344+8>>2];x=+c[ve+328>>2];G=+c[ve+328+4>>2];Y=+c[ve+328+8>>2];break}else{g=O-I;a=1;M=+c[ve+360>>2];O=+c[ve+360+4>>2];I=+c[ve+360+8>>2];x=+c[ve+312>>2];G=+c[ve+312+4>>2];Y=+c[ve+312+8>>2];break}}else{g=Q;a=0;M=J;O=$;I=te}}while(0);if(!a)break n;if(!(g<u)){Q=g;f=ce;d=se;h=oe;J=M;$=O;te=I;ie=x;ne=G;re=Y;break}Q=g;u=g;l=R;b=m;J=M;$=O;te=I;ie=x;ne=G;re=Y;K=M;p=O;A=I;V=x;j=G;H=Y;N=ue;k=_e;U=le;C=Z;T=q;D=ee}}while(0);m=m+1|0;_=o[fe+48>>2]|0;if((m|0)>=(_|0))break;else{ce=f;se=d;oe=h;x=ie;G=ne;Y=re}}a=o[z+48>>2]|0;g=Q;M=J;O=$;I=te;x=ie;G=ne;Y=re;Q=K}else Q=K;R=R+1|0;if((R|0)>=(a|0)){a=b;u=Q;break i}else K=Q}break t}else{l=-1;a=-1;u=0.0;p=0.0;A=0.0;V=0.0;j=0.0;H=0.0;N=0.0;k=0.0;U=0.0;C=0.0;T=0.0;D=0.0}}while(0);if((a|l|0)>-1){O=V-u;x=j-p;I=H-A;p=C*N+T*k+D*U;A=O*N+x*k+I*U;u=O*C+x*T+I*D;do{if(1.0-p*p==0.0)g=0.0;else{if((A-u*p)/(1.0-p*p)<-1000000015047466219876688.0e6){g=-1000000015047466219876688.0e6;break}if(!((A-u*p)/(1.0-p*p)>1000000015047466219876688.0e6)){g=(A-u*p)/(1.0-p*p);break}g=1000000015047466219876688.0e6}}while(0);u=p*g-u;do{if(u<-1000000015047466219876688.0e6){if(A-p*1000000015047466219876688.0e6<-1000000015047466219876688.0e6){p=-1000000015047466219876688.0e6;u=-1000000015047466219876688.0e6;break}if(!(A-p*1000000015047466219876688.0e6>1000000015047466219876688.0e6)){p=A-p*1000000015047466219876688.0e6;u=-1000000015047466219876688.0e6;break}p=1000000015047466219876688.0e6;u=-1000000015047466219876688.0e6}else{if(!(u>1000000015047466219876688.0e6)){p=g;break}if(A+p*1000000015047466219876688.0e6<-1000000015047466219876688.0e6){p=-1000000015047466219876688.0e6;u=1000000015047466219876688.0e6;break}if(!(A+p*1000000015047466219876688.0e6>1000000015047466219876688.0e6)){p=A+p*1000000015047466219876688.0e6;u=1000000015047466219876688.0e6;break}p=1000000015047466219876688.0e6;u=1000000015047466219876688.0e6}}while(0);M=C*u;T=T*u;C=D*u;g=M+(O-N*p);A=T+(x-k*p);p=C+(I-U*p);c[ve+624>>2]=g;c[ve+624+4>>2]=A;c[ve+624+8>>2]=p;c[ve+624+12>>2]=0.0;if(p*p+(g*g+A*A)>1.1920928955078125e-07){u=+v(+(p*p+(g*g+A*A)));c[ve+624>>2]=g*(1.0/u);c[ve+624+4>>2]=A*(1.0/u);c[ve+624+8>>2]=p*(1.0/u);if(g*(1.0/u)*de+A*(1.0/u)*pe+p*(1.0/u)*he<0.0){c[ve+624>>2]=-(g*(1.0/u));c[ve+624+4>>2]=-(A*(1.0/u));c[ve+624+8>>2]=-(p*(1.0/u))}c[ve+384>>2]=V+M;c[ve+384+4>>2]=j+T;c[ve+384+8>>2]=H+C;c[ve+384+12>>2]=0.0;FF[o[(o[s>>2]|0)+16>>2]&15](s,ve+624|0,ve+384|0,-u)}}if(de*f+pe*d+he*h<0.0){u=-1000000015047466219876688.0e6;f=-f;d=-d;h=-h;a=0;be=112}else{u=-1000000015047466219876688.0e6;a=0;be=112}}}while(0);if((be|0)==112){z=o[Ae+52>>2]|0;r=o[ge+52>>2]|0;X=o[t+12>>2]|0;W=o[i+12>>2]|0;U=u-me;D=1.0/+v(+(f*f+d*d+h*h));k=f*D;N=d*D;D=h*D;c[ve+624>>2]=k;c[ve+624+4>>2]=N;c[ve+624+8>>2]=D;o[ve+624+12>>2]=a;l=o[r+28>>2]|0;m=o[r+36>>2]|0;if((l|0)>0){u=+c[W>>2];f=+c[W+4>>2];d=+c[W+8>>2];h=+c[W+16>>2];p=+c[W+20>>2];A=+c[W+24>>2];g=+c[W+32>>2];C=+c[W+36>>2];T=+c[W+40>>2];a=-1;x=-3402823466385288598117041.0e14;b=0;while(1){M=+c[m+(b*36|0)+20>>2];O=+c[m+(b*36|0)+24>>2];I=+c[m+(b*36|0)+28>>2];_=k*(M*u+O*f+I*d)+N*(M*h+O*p+I*A)+D*(M*g+O*C+I*T)>x;a=_?b:a;b=b+1|0;if((b|0)==(l|0)){L=a;break}else x=_?k*(M*u+O*f+I*d)+N*(M*h+O*p+I*A)+D*(M*g+O*C+I*T):x}}else L=-1;n[ve+384+16>>0]=1;B=ve+384+12|0;o[B>>2]=0;F=ve+384+4|0;o[F>>2]=0;o[ve+384+8>>2]=0;w=o[m+(L*36|0)+4>>2]|0;t:do{if((w|0)>0){P=m+(L*36|0)+12|0;a=0;_=0;l=0;while(1){t=o[(o[P>>2]|0)+(l<<2)>>2]|0;i=o[r+16>>2]|0;he=+c[i+(t<<4)>>2];pe=+c[i+(t<<4)+4>>2];f=+c[i+(t<<4)+8>>2];u=he*+c[W>>2]+pe*+c[W+4>>2]+f*+c[W+8>>2]+ +c[W+48>>2];d=he*+c[W+16>>2]+pe*+c[W+20>>2]+f*+c[W+24>>2]+ +c[W+52>>2];f=he*+c[W+32>>2]+pe*+c[W+36>>2]+f*+c[W+40>>2]+ +c[W+56>>2];if((a|0)==(_|0)){R=(_|0)==0?1:_<<1;if((_|0)<(R|0)){if(!R){a=_;_=0}else{o[6747]=(o[6747]|0)+1;a=Do((R<<4|3)+16|0)|0;if(!a)_=0;else{o[(a+4+15&-16)+-4>>2]=a;_=a+4+15&-16}a=o[F>>2]|0}m=o[B>>2]|0;if((a|0)<=0){if(m)be=128}else{b=0;do{t=_+(b<<4)|0;i=m+(b<<4)|0;o[t>>2]=o[i>>2];o[t+4>>2]=o[i+4>>2];o[t+8>>2]=o[i+8>>2];o[t+12>>2]=o[i+12>>2];b=b+1|0}while((b|0)!=(a|0));be=128}if((be|0)==128){be=0;if(n[ve+384+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[m+-4>>2]|0);a=o[F>>2]|0}o[B>>2]=0}n[ve+384+16>>0]=1;o[B>>2]=_;o[ve+384+8>>2]=R}else a=_}t=o[B>>2]|0;c[t+(a<<4)>>2]=u;c[t+(a<<4)+4>>2]=d;c[t+(a<<4)+8>>2]=f;c[t+(a<<4)+12>>2]=0.0;a=(o[F>>2]|0)+1|0;o[F>>2]=a;l=l+1|0;if((l|0)>=(w|0))break t;_=o[ve+384+8>>2]|0}}}while(0);if((L|0)>-1)es(ve+624|0,z,X,ve+384|0,U,me,s);a=o[B>>2]|0;if(a|0){if(n[ve+384+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[B>>2]=0}}if(n[e+16>>0]|0?(ye=o[s+4>>2]|0,o[ye+748>>2]|0):0){a=o[ye+740>>2]|0;l=o[(o[s+8>>2]|0)+8>>2]|0;if((a|0)==(l|0)){io(ye,a+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);break}else{io(ye,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,l+4|0);break}}}}while(0);ae=ve;return}}while(0)}ts(ve+48|0,ve+128|0,s,o[r+20>>2]|0,0);if((o[e+28>>2]|0?(o[(o[s+4>>2]|0)+748>>2]|0)<(o[e+32>>2]|0):0)?(D=+c[ve+48+4>>2],N=+c[ve+48+8>>2],k=+c[ve+48+12>>2],D*D+N*N+k*k>1.1920928955078125e-07):0){x=1.0/(D*D+N*N+k*k);if(+y(+(k*x))>.7071067690849304){d=1.0/+v(+(k*x*(k*x)+N*x*(N*x)));f=0.0;h=N*x*d;d=-(k*x*d)}else{d=1.0/+v(+(D*x*(D*x)+N*x*(N*x)));f=-(N*x*d);h=0.0;d=D*x*d}I=+nF[o[(o[Ae>>2]|0)+16>>2]&15](Ae);O=+nF[o[(o[ge>>2]|0)+16>>2]&15](ge);u=.019999999552965164/(I<O?I:O);if(I<O){o[ve+624>>2]=o[ve+128>>2];o[ve+624+4>>2]=o[ve+128+4>>2];o[ve+624+8>>2]=o[ve+128+8>>2];o[ve+624+12>>2]=o[ve+128+12>>2];o[ve+624+16>>2]=o[R>>2];o[ve+624+16+4>>2]=o[R+4>>2];o[ve+624+16+8>>2]=o[R+8>>2];o[ve+624+16+12>>2]=o[R+12>>2];o[ve+624+32>>2]=o[_>>2];o[ve+624+32+4>>2]=o[_+4>>2];o[ve+624+32+8>>2]=o[_+8>>2];o[ve+624+32+12>>2]=o[_+12>>2];o[ve+624+48>>2]=o[w>>2];o[ve+624+48+4>>2]=o[w+4>>2];o[ve+624+48+8>>2]=o[w+8>>2];o[ve+624+48+12>>2]=o[w+12>>2]}else{o[ve+624>>2]=o[F>>2];o[ve+624+4>>2]=o[F+4>>2];o[ve+624+8>>2]=o[F+8>>2];o[ve+624+12>>2]=o[F+12>>2];o[ve+624+16>>2]=o[P>>2];o[ve+624+16+4>>2]=o[P+4>>2];o[ve+624+16+8>>2]=o[P+8>>2];o[ve+624+16+12>>2]=o[P+12>>2];o[ve+624+32>>2]=o[m>>2];o[ve+624+32+4>>2]=o[m+4>>2];o[ve+624+32+8>>2]=o[m+8>>2];o[ve+624+32+12>>2]=o[m+12>>2];o[ve+624+48>>2]=o[L>>2];o[ve+624+48+4>>2]=o[L+4>>2];o[ve+624+48+8>>2]=o[L+8>>2];o[ve+624+48+12>>2]=o[L+12>>2]}a=o[e+28>>2]|0;if((a|0)>0){M=f*f+d*d+h*h;g=+v(+M);p=(u>.39269909262657166?.39269909262657166:u)*.5;g=+S(+p)/g;T=f*g;C=d*g;g=h*g;p=+E(+p);A=+v(+(k*x*(k*x)+(D*x*(D*x)+N*x*(N*x))));l=0;do{if(M>1.1920928955078125e-07){u=6.2831854820251465/+(a|0)*+(l|0)*.5;f=+S(+u)/A;d=D*x*f;h=N*x*f;f=k*x*f;u=+E(+u);if(I<O){ue=f*(T*-f+(C*u+p*-h)-g*-d)+(d*(p*u-T*-d-C*-h-g*-f)+u*(g*-h+(T*u+p*-d)-C*-f))-h*(C*-d+(g*u+p*-f)-T*-h);he=d*(C*-d+(g*u+p*-f)-T*-h)+(u*(T*-f+(C*u+p*-h)-g*-d)+h*(p*u-T*-d-C*-h-g*-f))-f*(g*-h+(T*u+p*-d)-C*-f);$=h*(g*-h+(T*u+p*-d)-C*-f)+(f*(p*u-T*-d-C*-h-g*-f)+u*(C*-d+(g*u+p*-f)-T*-h))-d*(T*-f+(C*u+p*-h)-g*-d);le=u*(p*u-T*-d-C*-h-g*-f)-d*(g*-h+(T*u+p*-d)-C*-f)-h*(T*-f+(C*u+p*-h)-g*-d)-f*(C*-d+(g*u+p*-f)-T*-h);de=ue*(2.0/(le*le+($*$+(ue*ue+he*he))));pe=he*(2.0/(le*le+($*$+(ue*ue+he*he))));ce=$*(2.0/(le*le+($*$+(ue*ue+he*he))));ye=o[t+12>>2]|0;ee=+c[ye>>2];te=+c[ye+16>>2];ie=+c[ye+32>>2];ne=+c[ye+4>>2];re=+c[ye+20>>2];oe=+c[ye+36>>2];se=+c[ye+8>>2];_e=+c[ye+24>>2];me=+c[ye+40>>2];c[ve+128>>2]=(1.0-(he*pe+$*ce))*ee+(ue*pe-le*ce)*te+(ue*ce+le*pe)*ie;c[ve+128+4>>2]=(1.0-(he*pe+$*ce))*ne+(ue*pe-le*ce)*re+(ue*ce+le*pe)*oe;c[ve+128+8>>2]=(1.0-(he*pe+$*ce))*se+(ue*pe-le*ce)*_e+(ue*ce+le*pe)*me;c[ve+128+12>>2]=0.0;c[ve+128+16>>2]=(ue*pe+le*ce)*ee+(1.0-(ue*de+$*ce))*te+(he*ce-le*de)*ie;c[ve+128+20>>2]=(ue*pe+le*ce)*ne+(1.0-(ue*de+$*ce))*re+(he*ce-le*de)*oe;c[ve+128+24>>2]=(ue*pe+le*ce)*se+(1.0-(ue*de+$*ce))*_e+(he*ce-le*de)*me;c[ve+128+28>>2]=0.0;c[ve+128+32>>2]=(ue*ce-le*pe)*ee+(he*ce+le*de)*te+(1.0-(ue*de+he*pe))*ie;c[ve+128+36>>2]=(ue*ce-le*pe)*ne+(he*ce+le*de)*re+(1.0-(ue*de+he*pe))*oe;c[ve+128+40>>2]=(ue*ce-le*pe)*se+(he*ce+le*de)*_e+(1.0-(ue*de+he*pe))*me;c[ve+128+44>>2]=0.0;ye=o[i+12>>2]|0;o[F>>2]=o[ye>>2];o[F+4>>2]=o[ye+4>>2];o[F+8>>2]=o[ye+8>>2];o[F+12>>2]=o[ye+12>>2];o[P>>2]=o[ye+16>>2];o[P+4>>2]=o[ye+16+4>>2];o[P+8>>2]=o[ye+16+8>>2];o[P+12>>2]=o[ye+16+12>>2];o[m>>2]=o[ye+32>>2];o[m+4>>2]=o[ye+32+4>>2];o[m+8>>2]=o[ye+32+8>>2];o[m+12>>2]=o[ye+32+12>>2];o[L>>2]=o[ye+48>>2];o[L+4>>2]=o[ye+48+4>>2];o[L+8>>2]=o[ye+48+8>>2];o[L+12>>2]=o[ye+48+12>>2]}else{ye=o[t+12>>2]|0;o[ve+128>>2]=o[ye>>2];o[ve+128+4>>2]=o[ye+4>>2];o[ve+128+8>>2]=o[ye+8>>2];o[ve+128+12>>2]=o[ye+12>>2];o[R>>2]=o[ye+16>>2];o[R+4>>2]=o[ye+16+4>>2];o[R+8>>2]=o[ye+16+8>>2];o[R+12>>2]=o[ye+16+12>>2];o[_>>2]=o[ye+32>>2];o[_+4>>2]=o[ye+32+4>>2];o[_+8>>2]=o[ye+32+8>>2];o[_+12>>2]=o[ye+32+12>>2];o[w>>2]=o[ye+48>>2];o[w+4>>2]=o[ye+48+4>>2];o[w+8>>2]=o[ye+48+8>>2];o[w+12>>2]=o[ye+48+12>>2];ue=f*(T*-f+(C*u+p*-h)-g*-d)+(d*(p*u-T*-d-C*-h-g*-f)+u*(g*-h+(T*u+p*-d)-C*-f))-h*(C*-d+(g*u+p*-f)-T*-h);he=d*(C*-d+(g*u+p*-f)-T*-h)+(u*(T*-f+(C*u+p*-h)-g*-d)+h*(p*u-T*-d-C*-h-g*-f))-f*(g*-h+(T*u+p*-d)-C*-f);$=h*(g*-h+(T*u+p*-d)-C*-f)+(f*(p*u-T*-d-C*-h-g*-f)+u*(C*-d+(g*u+p*-f)-T*-h))-d*(T*-f+(C*u+p*-h)-g*-d);le=u*(p*u-T*-d-C*-h-g*-f)-d*(g*-h+(T*u+p*-d)-C*-f)-h*(T*-f+(C*u+p*-h)-g*-d)-f*(C*-d+(g*u+p*-f)-T*-h);de=ue*(2.0/(le*le+($*$+(ue*ue+he*he))));pe=he*(2.0/(le*le+($*$+(ue*ue+he*he))));ce=$*(2.0/(le*le+($*$+(ue*ue+he*he))));ye=o[i+12>>2]|0;ee=+c[ye>>2];te=+c[ye+16>>2];ie=+c[ye+32>>2];ne=+c[ye+4>>2];re=+c[ye+20>>2];oe=+c[ye+36>>2];se=+c[ye+8>>2];_e=+c[ye+24>>2];me=+c[ye+40>>2];c[ve+128+64>>2]=(1.0-(he*pe+$*ce))*ee+(ue*pe-le*ce)*te+(ue*ce+le*pe)*ie;c[ve+128+68>>2]=(1.0-(he*pe+$*ce))*ne+(ue*pe-le*ce)*re+(ue*ce+le*pe)*oe;c[ve+128+72>>2]=(1.0-(he*pe+$*ce))*se+(ue*pe-le*ce)*_e+(ue*ce+le*pe)*me;c[ve+128+76>>2]=0.0;c[ve+128+80>>2]=(ue*pe+le*ce)*ee+(1.0-(ue*de+$*ce))*te+(he*ce-le*de)*ie;c[ve+128+84>>2]=(ue*pe+le*ce)*ne+(1.0-(ue*de+$*ce))*re+(he*ce-le*de)*oe;c[ve+128+88>>2]=(ue*pe+le*ce)*se+(1.0-(ue*de+$*ce))*_e+(he*ce-le*de)*me;c[ve+128+92>>2]=0.0;c[ve+128+96>>2]=(ue*ce-le*pe)*ee+(he*ce+le*de)*te+(1.0-(ue*de+he*pe))*ie;c[ve+128+100>>2]=(ue*ce-le*pe)*ne+(he*ce+le*de)*re+(1.0-(ue*de+he*pe))*oe;c[ve+128+104>>2]=(ue*ce-le*pe)*se+(he*ce+le*de)*_e+(1.0-(ue*de+he*pe))*me;c[ve+128+108>>2]=0.0}a=o[r+20>>2]|0;o[ve+384>>2]=7248;o[ve+384+32>>2]=s;o[ve+384+36>>2]=o[ve+128>>2];o[ve+384+36+4>>2]=o[ve+128+4>>2];o[ve+384+36+8>>2]=o[ve+128+8>>2];o[ve+384+36+12>>2]=o[ve+128+12>>2];o[ve+384+52>>2]=o[R>>2];o[ve+384+52+4>>2]=o[R+4>>2];o[ve+384+52+8>>2]=o[R+8>>2];o[ve+384+52+12>>2]=o[R+12>>2];o[ve+384+68>>2]=o[_>>2];o[ve+384+68+4>>2]=o[_+4>>2];o[ve+384+68+8>>2]=o[_+8>>2];o[ve+384+68+12>>2]=o[_+12>>2];o[ve+384+84>>2]=o[w>>2];o[ve+384+84+4>>2]=o[w+4>>2];o[ve+384+84+8>>2]=o[w+8>>2];o[ve+384+84+12>>2]=o[w+12>>2];o[ve+384+100>>2]=o[F>>2];o[ve+384+100+4>>2]=o[F+4>>2];o[ve+384+100+8>>2]=o[F+8>>2];o[ve+384+100+12>>2]=o[F+12>>2];o[ve+384+116>>2]=o[P>>2];o[ve+384+116+4>>2]=o[P+4>>2];o[ve+384+116+8>>2]=o[P+8>>2];o[ve+384+116+12>>2]=o[P+12>>2];o[ve+384+132>>2]=o[m>>2];o[ve+384+132+4>>2]=o[m+4>>2];o[ve+384+132+8>>2]=o[m+8>>2];o[ve+384+132+12>>2]=o[m+12>>2];o[ve+384+148>>2]=o[L>>2];o[ve+384+148+4>>2]=o[L+4>>2];o[ve+384+148+8>>2]=o[L+8>>2];o[ve+384+148+12>>2]=o[L+12>>2];o[ve+384+164>>2]=o[ve+624>>2];o[ve+384+164+4>>2]=o[ve+624+4>>2];o[ve+384+164+8>>2]=o[ve+624+8>>2];o[ve+384+164+12>>2]=o[ve+624+12>>2];o[ve+384+180>>2]=o[ve+624+16>>2];o[ve+384+180+4>>2]=o[ve+624+16+4>>2];o[ve+384+180+8>>2]=o[ve+624+16+8>>2];o[ve+384+180+12>>2]=o[ve+624+16+12>>2];o[ve+384+196>>2]=o[ve+624+32>>2];o[ve+384+196+4>>2]=o[ve+624+32+4>>2];o[ve+384+196+8>>2]=o[ve+624+32+8>>2];o[ve+384+196+12>>2]=o[ve+624+32+12>>2];o[ve+384+212>>2]=o[ve+624+48>>2];o[ve+384+212+4>>2]=o[ve+624+48+4>>2];o[ve+384+212+8>>2]=o[ve+624+48+8>>2];o[ve+384+212+12>>2]=o[ve+624+48+12>>2];n[ve+384+228>>0]=I<O&1;o[ve+384+232>>2]=a;ts(ve+48|0,ve+128|0,ve+384|0,a,0);a=o[e+28>>2]|0}l=l+1|0}while((l|0)<(a|0))}}if(!(n[e+16>>0]|0)){ae=ve;return}a=o[s+4>>2]|0;if(!(o[a+748>>2]|0)){ae=ve;return}l=o[a+740>>2]|0;_=o[(o[s+8>>2]|0)+8>>2]|0;if((l|0)==(_|0)){io(a,l+4|0,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0);ae=ve;return}else{io(a,(o[(o[s+12>>2]|0)+8>>2]|0)+4|0,_+4|0);ae=ve;return}}function _D(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0,u=0.0,f=0.0,d=0.0,h=0.0,p=0,b=0.0,m=0.0,A=0,g=0.0,C=0.0,E=0.0,S=0,T=0,R=0.0,M=0.0,I=0,x=0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0;J=ae;ae=ae+96|0;r=o[t+4>>2]|0;a=r>>>0>8?r:8;if((a|0)>0){o[6747]=(o[6747]|0)+1;r=Do((a<<4|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=0;do{Z=s+(r<<4)|0;o[Z>>2]=o[J>>2];o[Z+4>>2]=o[J+4>>2];o[Z+8>>2]=o[J+8>>2];o[Z+12>>2]=o[J+12>>2];r=r+1|0}while((r|0)!=(a|0));Z=s;r=o[t+4>>2]|0;K=s}else{Z=0;K=0}l=o[t+8>>2]|0;I=o[t+12>>2]|0;D=+c[t+16>>2];do{if(!r){r=0;s=1}else{a=o[e+24>>2]|0;if((a|0)<0){s=o[e+32>>2]|0;if((o[e+28>>2]|0)<0){if(s|0?n[e+36>>0]|0:0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}n[e+36>>0]=1;o[e+32>>2]=0;o[e+28>>2]=0;s=0}_l(s+(a<<2)|0,0,O(a,-4)|0)|0}o[e+24>>2]=0;b=3402823466385288598117041.0e14;u=-3402823466385288598117041.0e14;m=3402823466385288598117041.0e14;f=-3402823466385288598117041.0e14;g=3402823466385288598117041.0e14;h=-3402823466385288598117041.0e14;s=0;a=l;while(1){B=+c[a>>2];b=B<b?B:b;u=B>u?B:u;B=+c[a+4>>2];m=B<m?B:m;f=B>f?B:f;B=+c[a+8>>2];g=B<g?B:g;h=B>h?B:h;s=s+1|0;if((s|0)==(r|0))break;else a=a+I|0}d=u-b;f=f-m;u=h-g;P=b+d*.5;M=m+f*.5;R=g+u*.5;do{if(r>>>0<3|(d<9.999999974752427e-07|f<9.999999974752427e-07|u<9.999999974752427e-07)){h=d>9.999999974752427e-07&d<3402823466385288598117041.0e14?d:3402823466385288598117041.0e14;h=f>9.999999974752427e-07&f<h?f:h;h=u>9.999999974752427e-07&u<h?u:h;if(!(h==3402823466385288598117041.0e14)){d=d<9.999999974752427e-07?h*.05000000074505806:d;f=f<9.999999974752427e-07?h*.05000000074505806:f;if(u<9.999999974752427e-07)u=h*.05000000074505806}else{d=.009999999776482582;f=.009999999776482582;u=.009999999776482582}B=P-d;N=P+d;F=M-f;f=M+f;L=R-u;d=R+u;c[K>>2]=B;c[K+4>>2]=F;c[K+8>>2]=L;c[K+16>>2]=N;c[K+20>>2]=F;c[K+24>>2]=L;c[K+32>>2]=N;c[K+36>>2]=f;c[K+40>>2]=L;c[K+48>>2]=B;c[K+52>>2]=f;c[K+56>>2]=L;c[K+64>>2]=B;c[K+68>>2]=F;c[K+72>>2]=d;c[K+80>>2]=N;c[K+84>>2]=F;c[K+88>>2]=d;c[K+96>>2]=N;c[K+100>>2]=f;c[K+104>>2]=d;c[K+112>>2]=B;c[K+116>>2]=f;c[K+120>>2]=d;z=8;d=1.0;f=1.0;u=1.0;Q=57}else{s=0;T=0;A=0;S=l;while(1){g=1.0/d*+c[S>>2];C=1.0/f*+c[S+4>>2];E=1.0/u*+c[S+8>>2];S=S+I|0;if(A){a=0;do{l=K+(a<<4)|0;h=+c[l>>2];_=K+(a<<4)+4|0;b=+c[_>>2];p=K+(a<<4)+8|0;m=+c[p>>2];if(+y(+(h-g))<D&+y(+(b-C))<D&+y(+(m-E))<D){Q=28;break}a=a+1|0}while(a>>>0<A>>>0);if((Q|0)==28){Q=0;if((g-1.0/d*P)*(g-1.0/d*P)+(C-1.0/f*M)*(C-1.0/f*M)+(E-1.0/u*R)*(E-1.0/u*R)>(h-1.0/d*P)*(h-1.0/d*P)+(b-1.0/f*M)*(b-1.0/f*M)+(m-1.0/u*R)*(m-1.0/u*R)){c[l>>2]=g;c[_>>2]=C;c[p>>2]=E}}if((a|0)==(A|0))Q=32;else{p=a;k=A}}else{a=0;Q=32}if((Q|0)==32){Q=0;c[K+(a<<4)>>2]=g;c[K+(a<<4)+4>>2]=C;c[K+(a<<4)+8>>2]=E;p=a;k=a+1|0}if((s|0)==(o[e+28>>2]|0)?(x=(s|0)==0?1:s<<1,(s|0)<(x|0)):0){if(!x)a=0;else{o[6747]=(o[6747]|0)+1;s=Do((x<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[e+24>>2]|0}_=o[e+32>>2]|0;if((s|0)<=0){if(_)Q=43}else{l=0;do{o[a+(l<<2)>>2]=o[_+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0));Q=43}if((Q|0)==43){Q=0;if(n[e+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}o[e+32>>2]=0;s=o[e+24>>2]|0}n[e+36>>0]=1;o[e+32>>2]=a;o[e+28>>2]=x}o[(o[e+32>>2]|0)+(s<<2)>>2]=p;s=(o[e+24>>2]|0)+1|0;o[e+24>>2]=s;T=T+1|0;if((T|0)==(r|0))break;else A=k}S=(k|0)==0;if(S){r=1;m=-3402823466385288598117041.0e14;E=3402823466385288598117041.0e14;b=-3402823466385288598117041.0e14;C=3402823466385288598117041.0e14;h=-3402823466385288598117041.0e14;g=3402823466385288598117041.0e14}else{M=3402823466385288598117041.0e14;E=3402823466385288598117041.0e14;P=-3402823466385288598117041.0e14;m=-3402823466385288598117041.0e14;w=3402823466385288598117041.0e14;C=3402823466385288598117041.0e14;L=-3402823466385288598117041.0e14;b=-3402823466385288598117041.0e14;N=3402823466385288598117041.0e14;g=3402823466385288598117041.0e14;B=-3402823466385288598117041.0e14;h=-3402823466385288598117041.0e14;A=0;while(1){R=+c[K+(A<<4)>>2];a=R<M;E=a?R:E;p=R>P;m=p?R:m;D=+c[K+(A<<4)+4>>2];r=D<w;C=r?D:C;l=D>L;b=l?D:b;F=+c[K+(A<<4)+8>>2];s=F<N;g=s?F:g;_=F>B;h=_?F:h;A=A+1|0;if((A|0)==(k|0))break;else{M=a?R:M;P=p?R:P;w=r?D:w;L=l?D:L;N=s?F:N;B=_?F:B}}r=k>>>0<3}m=m-E;M=b-C;h=h-g;if(!(r|(m<9.999999974752427e-07|M<9.999999974752427e-07|h<9.999999974752427e-07))){if(!S){z=k;Q=57;break}break}R=E+m*.5;E=C+M*.5;C=g+h*.5;g=m>=9.999999974752427e-07&m<3402823466385288598117041.0e14?m:3402823466385288598117041.0e14;g=M>=9.999999974752427e-07&M<g?M:g;g=h>=9.999999974752427e-07&h<g?h:g;if(!(g==3402823466385288598117041.0e14)){b=m<9.999999974752427e-07?g*.05000000074505806:m;m=M<9.999999974752427e-07?g*.05000000074505806:M;if(h<9.999999974752427e-07)h=g*.05000000074505806}else{b=.009999999776482582;m=.009999999776482582;h=.009999999776482582}F=R-b;L=R+b;w=E-m;N=E+m;D=C-h;B=C+h;c[K>>2]=F;c[K+4>>2]=w;c[K+8>>2]=D;c[K+16>>2]=L;c[K+20>>2]=w;c[K+24>>2]=D;c[K+32>>2]=L;c[K+36>>2]=N;c[K+40>>2]=D;c[K+48>>2]=F;c[K+52>>2]=N;c[K+56>>2]=D;c[K+64>>2]=F;c[K+68>>2]=w;c[K+72>>2]=B;c[K+80>>2]=L;c[K+84>>2]=w;c[K+88>>2]=B;c[K+96>>2]=L;c[K+100>>2]=N;c[K+104>>2]=B;c[K+112>>2]=F;c[K+116>>2]=N;c[K+120>>2]=B;z=8;Q=57}}while(0);if((Q|0)==57){r=0;do{Y=K+(r<<4)|0;c[Y>>2]=d*+c[Y>>2];Y=K+(r<<4)+4|0;c[Y>>2]=f*+c[Y>>2];Y=K+(r<<4)+8|0;c[Y>>2]=u*+c[Y>>2];r=r+1|0}while(r>>>0<z>>>0);H=o[t+20>>2]|0;if((z|0)>=4){u=+c[K>>2];h=+c[K+4>>2];f=+c[K+8>>2];Y=z<<2;o[6747]=(o[6747]|0)+1;r=Do((Y|3)+16|0)|0;if(!r)a=0;else{o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}n[J+52+16>>0]=1;G=J+52+12|0;o[G>>2]=0;o[J+52+4>>2]=0;x=J+52+8|0;o[x>>2]=0;o[6747]=(o[6747]|0)+1;s=Do((Y|3)+16|0)|0;if(s){o[(s+4+15&-16)+-4>>2]=s;r=o[G>>2]|0;if(!r){r=s+4+15&-16;Q=63}else{o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);n[J+52+16>>0]=1;o[G>>2]=s+4+15&-16;o[x>>2]=z;I=G}}else{r=0;Q=63}if((Q|0)==63){n[J+52+16>>0]=1;o[G>>2]=r;o[x>>2]=z;I=G}r=0;T=a;S=a;l=z;g=u;C=f;d=h;b=u;u=f;m=h;_=z;p=a;A=0;while(1){if((r|0)==(l|0)?(X=(r|0)==0?1:r<<1,(r|0)<(X|0)):0){if((X|0)!=0?(o[6747]=(o[6747]|0)+1,U=Do((X<<2|3)+16|0)|0,(U|0)!=0):0){o[(U+4+15&-16)+-4>>2]=U;l=U+4+15&-16}else l=0;a=o[G>>2]|0;if((r|0)<=0){if(a)Q=75}else{s=0;do{o[l+(s<<2)>>2]=o[a+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0));Q=75}if((Q|0)==75){Q=0;o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);o[G>>2]=0;r=o[J+52+4>>2]|0}o[I>>2]=l;o[x>>2]=X}o[(o[G>>2]|0)+(r<<2)>>2]=1;o[J+52+4>>2]=r+1;do{if((A|0)==(_|0)){r=(A|0)==0;s=r?1:A<<1;if((A|0)<(s|0)){if((s|0)!=0?(o[6747]=(o[6747]|0)+1,W=Do((s<<2|3)+16|0)|0,(W|0)!=0):0){o[(W+4+15&-16)+-4>>2]=W;a=W+4+15&-16}else a=0;if(r){if(!p){V=a;l=a;s=1;j=a;break}}else{r=0;do{o[a+(r<<2)>>2]=o[p+(r<<2)>>2];r=r+1|0}while((r|0)!=(A|0))}if(!T){V=a;l=a;j=a}else{o[6748]=(o[6748]|0)+1;Vs(o[T+-4>>2]|0);V=a;l=a;j=a}}else{V=S;l=T;s=A;j=p}}else{V=S;l=T;s=_;j=p}}while(0);o[j+(A<<2)>>2]=0;a=A+1|0;f=+c[K+(A<<4)>>2];b=f<b?f:b;N=+c[K+(A<<4)+4>>2];m=N<m?N:m;B=+c[K+(A<<4)+8>>2];h=B<u?B:u;f=g<f?f:g;d=d<N?N:d;u=C<B?B:C;if((a|0)>=(z|0))break;r=o[J+52+4>>2]|0;T=l;S=V;l=o[x>>2]|0;g=f;C=u;u=h;_=s;p=j;A=a}n[J+52+16>>0]=1;P=+v(+((f-b)*(f-b)+(d-m)*(d-m)+(u-h)*(u-h)))*1.0000000474974513e-03;o[J>>2]=1008981770;o[J+4>>2]=1017370378;o[J+8>>2]=1065353216;c[J+12>>2]=0.0;k=lo(K,z,J,J+52|0)|0;c[J+72>>2]=-.009999999776482582;c[J+72+4>>2]=-.019999999552965164;c[J+72+8>>2]=-1.0;c[J+72+12>>2]=0.0;U=lo(K,z,J+72|0,J+52|0)|0;p=K+(k<<4)|0;T=K+(U<<4)|0;b=+c[p>>2]-+c[T>>2];I=K+(k<<4)+4|0;x=K+(U<<4)+4|0;g=+c[I>>2]-+c[x>>2];A=K+(k<<4)+8|0;S=K+(U<<4)+8|0;m=+c[A>>2]-+c[S>>2];c[J>>2]=b;c[J+4>>2]=g;c[J+8>>2]=m;c[J+12>>2]=0.0;e:do{if((k|0)!=(U|0)?!(m==0.0&g==0.0&b==0.0):0){u=m*.019999999552965164-g*0.0;c[J+16>>2]=u;c[J+20>>2]=b*0.0-m;c[J+24>>2]=g-b*.019999999552965164;c[J+28>>2]=0.0;c[J+32>>2]=m-g*0.0;c[J+36>>2]=m*.019999999552965164+b*0.0;c[J+40>>2]=g*-.019999999552965164-b;c[J+44>>2]=0.0;f=+v(+(u*u+(b*0.0-m)*(b*0.0-m)+(g-b*.019999999552965164)*(g-b*.019999999552965164)));if(f>+v(+((m-g*0.0)*(m-g*0.0)+(m*.019999999552965164+b*0.0)*(m*.019999999552965164+b*0.0)+(g*-.019999999552965164-b)*(g*-.019999999552965164-b)))){c[J+16>>2]=u*(1.0/f);c[J+20>>2]=(b*0.0-m)*(1.0/f);h=(g-b*.019999999552965164)*(1.0/f);d=u*(1.0/f);u=(b*0.0-m)*(1.0/f)}else{o[J+16>>2]=o[J+32>>2];o[J+16+4>>2]=o[J+32+4>>2];o[J+16+8>>2]=o[J+32+8>>2];o[J+16+12>>2]=o[J+32+12>>2];d=+c[J+16>>2];B=+c[J+20>>2];h=+c[J+24>>2];u=1.0/+v(+(d*d+B*B+h*h));c[J+16>>2]=d*u;c[J+20>>2]=B*u;h=h*u;d=d*u;u=B*u}c[J+24>>2]=h;r=lo(K,z,J+16|0,J+52|0)|0;if((r|0)==(k|0)|(r|0)==(U|0)){c[J+72>>2]=-d;c[J+72+4>>2]=-u;c[J+72+8>>2]=-h;c[J+72+12>>2]=0.0;_=lo(K,z,J+72|0,J+52|0)|0}else _=r;if(!((_|0)==(k|0)|(_|0)==(U|0))){s=K+(_<<4)|0;f=+c[s>>2]-+c[p>>2];l=K+(_<<4)+4|0;h=+c[l>>2]-+c[I>>2];a=K+(_<<4)+8|0;d=+c[a>>2]-+c[A>>2];c[J+16>>2]=f;c[J+20>>2]=h;c[J+24>>2]=d;c[J+28>>2]=0.0;u=1.0/+v(+((g*f-h*b)*(g*f-h*b)+((h*m-d*g)*(h*m-d*g)+(d*b-m*f)*(d*b-m*f))));c[J+32>>2]=(h*m-d*g)*u;c[J+36>>2]=(d*b-m*f)*u;c[J+40>>2]=(g*f-h*b)*u;o[J+44>>2]=0;r=lo(K,z,J+32|0,J+52|0)|0;if((r|0)==(_|0)|((r|0)==(k|0)|(r|0)==(U|0))){c[J+72>>2]=-((h*m-d*g)*u);c[J+72+4>>2]=-((d*b-m*f)*u);c[J+72+8>>2]=-((g*f-h*b)*u);c[J+72+12>>2]=0.0;r=lo(K,z,J+72|0,J+52|0)|0}if(!((r|0)==(_|0)|((r|0)==(k|0)|(r|0)==(U|0)))){R=+c[p>>2];w=+c[I>>2];E=+c[A>>2];N=+c[T>>2]-R;M=+c[x>>2]-w;L=+c[S>>2]-E;F=+c[s>>2]-R;D=+c[l>>2]-w;B=+c[a>>2]-E;X=(+c[K+(r<<4)+8>>2]-E)*(N*D-M*F)+((+c[K+(r<<4)>>2]-R)*(M*B-L*D)+(+c[K+(r<<4)+4>>2]-w)*(L*F-N*B))<0.0;s=X?_:r;r=X?r:_;if((k|0)!=-1){E=(+c[K+(k<<4)>>2]+ +c[K+(U<<4)>>2]+ +c[K+(r<<4)>>2]+ +c[K+(s<<4)>>2])*.25;R=(+c[K+(k<<4)+4>>2]+ +c[K+(U<<4)+4>>2]+ +c[K+(r<<4)+4>>2]+ +c[K+(s<<4)+4>>2])*.25;M=(+c[K+(k<<4)+8>>2]+ +c[K+(U<<4)+8>>2]+ +c[K+(r<<4)+8>>2]+ +c[K+(s<<4)+8>>2])*.25;X=Zi(e,r,s,U)|0;o[X+12>>2]=2;o[X+16>>2]=3;o[X+20>>2]=1;X=Zi(e,s,r,k)|0;o[X+12>>2]=3;o[X+16>>2]=2;o[X+20>>2]=0;X=Zi(e,k,U,s)|0;o[X+12>>2]=0;o[X+16>>2]=1;o[X+20>>2]=3;X=Zi(e,U,k,r)|0;o[X+12>>2]=1;o[X+16>>2]=0;o[X+20>>2]=2;o[j+(s<<2)>>2]=1;o[j+(r<<2)>>2]=1;o[j+(U<<2)>>2]=1;o[j+(k<<2)>>2]=1;r=o[e+4>>2]|0;if((r|0)>0){s=0;do{r=o[(o[e+12>>2]|0)+(s<<2)>>2]|0;W=o[r>>2]|0;U=o[r+4>>2]|0;X=o[r+8>>2]|0;b=+c[K+(U<<4)>>2];h=b-+c[K+(W<<4)>>2];g=+c[K+(U<<4)+4>>2];m=g-+c[K+(W<<4)+4>>2];f=+c[K+(U<<4)+8>>2];u=f-+c[K+(W<<4)+8>>2];b=+c[K+(X<<4)>>2]-b;g=+c[K+(X<<4)+4>>2]-g;f=+c[K+(X<<4)+8>>2]-f;d=+v(+((h*g-m*b)*(h*g-m*b)+((m*f-u*g)*(m*f-u*g)+(u*b-h*f)*(u*b-h*f))));if(d==0.0){o[J>>2]=1065353216;o[J+4>>2]=0;o[J+8>>2]=0;C=1.0;f=0.0;u=0.0}else{c[J>>2]=(m*f-u*g)*(1.0/d);c[J+4>>2]=(u*b-h*f)*(1.0/d);c[J+8>>2]=(h*g-m*b)*(1.0/d);C=(m*f-u*g)*(1.0/d);f=(u*b-h*f)*(1.0/d);u=(h*g-m*b)*(1.0/d)}c[J+12>>2]=0.0;W=lo(K,z,J,J+52|0)|0;o[r+28>>2]=W;X=o[r>>2]|0;c[r+32>>2]=(+c[K+(W<<4)>>2]-+c[K+(X<<4)>>2])*C+(+c[K+(W<<4)+4>>2]-+c[K+(X<<4)+4>>2])*f+(+c[K+(W<<4)+8>>2]-+c[K+(X<<4)+8>>2])*u;s=s+1|0;r=o[e+4>>2]|0}while((s|0)<(r|0))}s=(H|0)==0?999999996:H+-4|0;if((s|0)>0)while(1){S=o[e+12>>2]|0;_=0;l=0;while(1){a=o[S+(_<<2)>>2]|0;do{if(l){if(!a){a=l;break}if(!(+c[l+32>>2]<+c[a+32>>2]))a=l;else Q=115}else Q=115}while(0);if((Q|0)==115)Q=0;_=_+1|0;if((_|0)>=(r|0))break;else l=a}if((a|0)==0?1:!(+c[a+32>>2]>P)){s=1;break e}T=o[a+28>>2]|0;o[j+(T<<2)>>2]=1;r=o[e+4>>2]|0;t:do{if(r|0){_=K+(T<<4)|0;A=K+(T<<4)+4|0;p=K+(T<<4)+8|0;l=S;while(1){a=r+-1|0;r=o[l+(a<<2)>>2]|0;do{if(r|0){W=o[r>>2]|0;H=o[r+4>>2]|0;X=o[r+8>>2]|0;L=+c[K+(H<<4)>>2];F=+c[K+(W<<4)>>2];b=+c[K+(H<<4)+4>>2];g=+c[K+(W<<4)+4>>2];C=+c[K+(H<<4)+8>>2];D=+c[K+(W<<4)+8>>2];w=+c[K+(X<<4)>>2]-L;m=+c[K+(X<<4)+4>>2]-b;N=+c[K+(X<<4)+8>>2]-C;B=+v(+(((L-F)*m-(b-g)*w)*((L-F)*m-(b-g)*w)+(((b-g)*N-(C-D)*m)*((b-g)*N-(C-D)*m)+((C-D)*w-(L-F)*N)*((C-D)*w-(L-F)*N))));if(!((+c[p>>2]-D)*(B==0.0?0.0:((L-F)*m-(b-g)*w)*(1.0/B))+((+c[_>>2]-F)*(B==0.0?1.0:((b-g)*N-(C-D)*m)*(1.0/B))+(+c[A>>2]-g)*(B==0.0?0.0:((C-D)*w-(L-F)*N)*(1.0/B)))>P*.009999999776482582))break;Rr(e,r,T)}}while(0);if(!a)break;l=o[e+12>>2]|0;r=a}a=o[e+4>>2]|0;if(!a)break;r=a;i:do{a=a+-1|0;_=o[e+12>>2]|0;p=o[_+(a<<2)>>2]|0;do{if(p){A=o[p>>2]|0;do{if((A|0)!=(T|0)){l=o[p+4>>2]|0;if((l|0)==(T|0)){l=T;break}if((o[p+8>>2]|0)!=(T|0))break i}else l=o[p+4>>2]|0}while(0);X=o[p+8>>2]|0;L=+c[K+(l<<4)>>2];F=+c[K+(A<<4)>>2];b=+c[K+(l<<4)+4>>2];g=+c[K+(A<<4)+4>>2];C=+c[K+(l<<4)+8>>2];D=+c[K+(A<<4)+8>>2];w=+c[K+(X<<4)>>2]-L;m=+c[K+(X<<4)+4>>2]-b;N=+c[K+(X<<4)+8>>2]-C;B=+v(+(((L-F)*m-(b-g)*w)*((L-F)*m-(b-g)*w)+(((b-g)*N-(C-D)*m)*((b-g)*N-(C-D)*m)+((C-D)*w-(L-F)*N)*((C-D)*w-(L-F)*N))));if(!(B<P*P*.10000000149011612?1:(M-D)*(B==0.0?0.0:((L-F)*m-(b-g)*w)*(1.0/B))+((E-F)*(B==0.0?1.0:((b-g)*N-(C-D)*m)*(1.0/B))+(R-g)*(B==0.0?0.0:((C-D)*w-(L-F)*N)*(1.0/B)))>P*.009999999776482582))break;Rr(e,o[_+(o[p+12>>2]<<2)>>2]|0,T);a=o[e+4>>2]|0;r=a}}while(0)}while((a|0)!=0);if(!r)break;do{r=r+-1|0;l=o[(o[e+12>>2]|0)+(r<<2)>>2]|0;if(l|0){if((o[l+28>>2]|0)>-1)break t;W=o[l>>2]|0;H=o[l+4>>2]|0;X=o[l+8>>2]|0;b=+c[K+(H<<4)>>2];h=b-+c[K+(W<<4)>>2];g=+c[K+(H<<4)+4>>2];m=g-+c[K+(W<<4)+4>>2];f=+c[K+(H<<4)+8>>2];u=f-+c[K+(W<<4)+8>>2];b=+c[K+(X<<4)>>2]-b;g=+c[K+(X<<4)+4>>2]-g;f=+c[K+(X<<4)+8>>2]-f;d=+v(+((h*g-m*b)*(h*g-m*b)+((m*f-u*g)*(m*f-u*g)+(u*b-h*f)*(u*b-h*f))));if(d==0.0){o[J>>2]=1065353216;o[J+4>>2]=0;o[J+8>>2]=0;C=1.0;f=0.0;u=0.0}else{c[J>>2]=(m*f-u*g)*(1.0/d);c[J+4>>2]=(u*b-h*f)*(1.0/d);c[J+8>>2]=(h*g-m*b)*(1.0/d);C=(m*f-u*g)*(1.0/d);f=(u*b-h*f)*(1.0/d);u=(h*g-m*b)*(1.0/d)}c[J+12>>2]=0.0;a=lo(K,z,J,J+52|0)|0;o[l+28>>2]=a;if(!(o[j+(a<<2)>>2]|0)){X=o[l>>2]|0;c[l+32>>2]=(+c[K+(a<<4)>>2]-+c[K+(X<<4)>>2])*C+(+c[K+(a<<4)+4>>2]-+c[K+(X<<4)+4>>2])*f+(+c[K+(a<<4)+8>>2]-+c[K+(X<<4)+8>>2])*u}else o[l+28>>2]=-1}}while((r|0)!=0)}}while(0);if((s|0)<=1){s=1;break e}r=o[e+4>>2]|0;s=s+-1|0}else s=1}else s=0}else Q=101}else Q=101}else Q=101}while(0);if((Q|0)==101)s=0;r=o[G>>2]|0;if(r|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);o[G>>2]=0}if(!((j|0)==0|(V|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[V+-4>>2]|0)}if(s){r=o[e+4>>2]|0;if((r|0)>0){s=0;_=0;x=0;S=0;l=0;I=0;while(1){A=o[(o[e+12>>2]|0)+(x<<2)>>2]|0;if(!A){p=S;a=I}else{do{if((I|0)==(S|0)){p=(S|0)==0?1:S<<1;if((S|0)>=(p|0)){p=S;break}do{if(!p)a=0;else{o[6747]=(o[6747]|0)+1;r=Do((p<<2|3)+16|0)|0;if(!r){a=0;break}o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}}while(0);if((S|0)>0){r=0;do{o[a+(r<<2)>>2]=o[l+(r<<2)>>2];r=r+1|0}while((r|0)!=(S|0));if(!s){s=a;_=a;l=a;break}}else if((l|0)==0|(s|0)==0){s=a;_=a;l=a;break}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);s=a;_=a;l=a}else p=S}while(0);o[l+(I<<2)>>2]=o[A>>2];T=I+1|0;S=(o[(o[e+12>>2]|0)+(x<<2)>>2]|0)+4|0;do{if((T|0)==(p|0)){A=(p|0)==0?1:p<<1;if((p|0)>=(A|0))break;do{if(!A)a=0;else{o[6747]=(o[6747]|0)+1;r=Do((A<<2|3)+16|0)|0;if(!r){a=0;break}o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}}while(0);if((p|0)>0){r=0;do{o[a+(r<<2)>>2]=o[l+(r<<2)>>2];r=r+1|0}while((r|0)!=(p|0));if(!s){s=a;_=a;p=A;l=a;break}}else if((l|0)==0|(s|0)==0){s=a;_=a;p=A;l=a;break}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);s=a;_=a;p=A;l=a}}while(0);o[l+(T<<2)>>2]=o[S>>2];T=I+2|0;S=(o[(o[e+12>>2]|0)+(x<<2)>>2]|0)+8|0;do{if((T|0)==(p|0)){A=(p|0)==0?1:p<<1;if((p|0)>=(A|0))break;do{if(!A)a=0;else{o[6747]=(o[6747]|0)+1;r=Do((A<<2|3)+16|0)|0;if(!r){a=0;break}o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}}while(0);if((p|0)>0){r=0;do{o[a+(r<<2)>>2]=o[l+(r<<2)>>2];r=r+1|0}while((r|0)!=(p|0));if(!s){_=a;s=a;p=A;l=a;break}}else if((l|0)==0|(s|0)==0){_=a;s=a;p=A;l=a;break}o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0);_=a;s=a;p=A;l=a}}while(0);o[l+(T<<2)>>2]=o[S>>2];X=o[e+12>>2]|0;r=o[X+(x<<2)>>2]|0;o[X+(o[r+24>>2]<<2)>>2]=0;if(r|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}r=o[e+4>>2]|0;a=I+3|0}x=x+1|0;if((x|0)>=(r|0)){p=a;break}else{S=p;I=a}}o[J+48>>2]=(p|0)/3|0;if((p|0)>0){o[6747]=(o[6747]|0)+1;r=Do((p<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}_l(s|0,0,p<<2|0)|0;r=0;do{o[s+(r<<2)>>2]=o[l+(r<<2)>>2];r=r+1|0}while((r|0)!=(p|0));a=s;r=s}else{a=0;r=0}s=o[e+4>>2]|0;k=a;V=p}else{o[J+48>>2]=0;_=0;s=r;k=0;r=0;l=0;V=0}if((s|0)<0){if((o[e+8>>2]|0)<0){a=o[e+12>>2]|0;if(a|0){if(n[e+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+12>>2]=0}n[e+16>>0]=1;o[e+12>>2]=0;o[e+8>>2]=0}do{o[(o[e+12>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)!=0)}o[e+4>>2]=0;if(!((l|0)==0|(_|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}j=o[J+48>>2]|0;_=(z|0)>0;if(_){o[6747]=(o[6747]|0)+1;s=Do((z<<4|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=0;do{X=a+(s<<4)|0;o[X>>2]=o[J>>2];o[X+4>>2]=o[J+4>>2];o[X+8>>2]=o[J+8>>2];o[X+12>>2]=o[J+12>>2];s=s+1|0}while((s|0)!=(z|0));H=a;U=a}else{H=0;U=0}a=o[e+24>>2]|0;do{if((a|0)>0){o[6747]=(o[6747]|0)+1;s=Do((a<<2|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}_l(l|0,0,a<<2|0)|0;if((o[e+24>>2]|0)<=0){x=l;I=l;break}s=o[e+32>>2]|0;a=0;do{o[l+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)<(o[e+24>>2]|0));x=l;I=l}else{x=0;I=0}}while(0);if(_){o[6747]=(o[6747]|0)+1;s=Do((Y|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_l(s|0,0,Y|0)|0;T=s;S=s}else{T=0;S=0}_l(T|0,0,Y|0)|0;if((j|0)<=0){if(!S)A=0;else{s=0;Q=241}}else{A=0;s=0;do{l=r+(A<<2)|0;_=o[l>>2]|0;p=S+(_<<2)|0;a=o[p>>2]|0;if(!a){o[l>>2]=s;o[U+(s<<4)>>2]=o[Z+(_<<4)>>2];o[U+(s<<4)+4>>2]=o[Z+(_<<4)+4>>2];o[U+(s<<4)+8>>2]=o[Z+(_<<4)+8>>2];a=o[e+24>>2]|0;if((a|0)>0){l=0;do{if((o[I+(l<<2)>>2]|0)==(_|0)){o[(o[e+32>>2]|0)+(l<<2)>>2]=s;a=o[e+24>>2]|0}l=l+1|0}while((l|0)<(a|0))}s=s+1|0;o[p>>2]=s}else o[l>>2]=a+-1;A=A+1|0}while((A|0)!=(j*3|0));Q=241}do{if((Q|0)==241){if(!T){A=s;break}o[6748]=(o[6748]|0)+1;Vs(o[T+-4>>2]|0);A=s}}while(0);if(!((I|0)==0|(x|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[x+-4>>2]|0)}do{if(!(o[t>>2]&1)){n[i>>0]=1;o[i+4>>2]=A;_=o[i+12>>2]|0;if((_|0)<(A|0)){if((o[i+16>>2]|0)<(A|0)){if(!A){a=_;l=0}else{o[6747]=(o[6747]|0)+1;s=Do((A<<4|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[i+12>>2]|0;l=s}if((a|0)>0){s=0;do{e=l+(s<<4)|0;Q=(o[i+20>>2]|0)+(s<<4)|0;o[e>>2]=o[Q>>2];o[e+4>>2]=o[Q+4>>2];o[e+8>>2]=o[Q+8>>2];o[e+12>>2]=o[Q+12>>2];s=s+1|0}while((s|0)!=(a|0))}s=o[i+20>>2]|0;if(s|0){if(n[i+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[i+20>>2]=0}n[i+24>>0]=1;o[i+20>>2]=l;o[i+16>>2]=A;a=i+20|0}else a=i+20|0;s=_;do{e=(o[a>>2]|0)+(s<<4)|0;o[e>>2]=o[J>>2];o[e+4>>2]=o[J+4>>2];o[e+8>>2]=o[J+8>>2];o[e+12>>2]=o[J+12>>2];s=s+1|0}while((s|0)!=(A|0))}o[i+12>>2]=A;o[i+28>>2]=j;o[i+32>>2]=j<<2;p=o[i+40>>2]|0;if((j<<2|0)>(p|0)){e:do{if((o[i+44>>2]|0)<(j<<2|0)){if(!(j<<2)){_=p;s=0}else{o[6747]=(o[6747]|0)+1;s=Do((j<<4|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_=o[i+40>>2]|0}a=o[i+48>>2]|0;do{if((_|0)>0){l=0;do{o[s+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(_|0))}else{if(a|0)break;n[i+52>>0]=1;o[i+48>>2]=s;o[i+44>>2]=j<<2;break e}}while(0);if(n[i+52>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[i+52>>0]=1;o[i+48>>2]=s;o[i+44>>2]=j<<2}else s=o[i+48>>2]|0}while(0);_l(s+(p<<2)|0,0,(j<<2)-p<<2|0)|0}o[i+40>>2]=j<<2;Tn(o[i+20>>2]|0,H|0,A<<4|0)|0;if(!j)break;a=o[i+48>>2]|0;l=0;_=r;while(1){o[a>>2]=3;if(!(o[t>>2]&2)){o[a+4>>2]=o[_>>2];s=_+8|0}else{o[a+4>>2]=o[_+8>>2];s=_}o[a+8>>2]=o[_+4>>2];o[a+12>>2]=o[s>>2];l=l+1|0;if((l|0)==(j|0))break;else{a=a+16|0;_=_+12|0}}}else{n[i>>0]=0;o[i+4>>2]=A;_=o[i+12>>2]|0;if((_|0)<(A|0)){if((o[i+16>>2]|0)<(A|0)){if(!A){a=_;l=0}else{o[6747]=(o[6747]|0)+1;s=Do((A<<4|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}a=o[i+12>>2]|0;l=s}if((a|0)>0){s=0;do{e=l+(s<<4)|0;Q=(o[i+20>>2]|0)+(s<<4)|0;o[e>>2]=o[Q>>2];o[e+4>>2]=o[Q+4>>2];o[e+8>>2]=o[Q+8>>2];o[e+12>>2]=o[Q+12>>2];s=s+1|0}while((s|0)!=(a|0))}s=o[i+20>>2]|0;if(s|0){if(n[i+24>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[i+20>>2]=0}n[i+24>>0]=1;o[i+20>>2]=l;o[i+16>>2]=A;a=i+20|0}else a=i+20|0;s=_;do{e=(o[a>>2]|0)+(s<<4)|0;o[e>>2]=o[J>>2];o[e+4>>2]=o[J+4>>2];o[e+8>>2]=o[J+8>>2];o[e+12>>2]=o[J+12>>2];s=s+1|0}while((s|0)!=(A|0))}o[i+12>>2]=A;o[i+28>>2]=j;o[i+32>>2]=j*3;p=o[i+40>>2]|0;if((p|0)<(j*3|0)){e:do{if((o[i+44>>2]|0)<(j*3|0)){if(!j){_=p;s=0}else{o[6747]=(o[6747]|0)+1;s=Do((j*12|3)+16|0)|0;if(!s)s=0;else{o[(s+4+15&-16)+-4>>2]=s;s=s+4+15&-16}_=o[i+40>>2]|0}a=o[i+48>>2]|0;do{if((_|0)>0){l=0;do{o[s+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(_|0))}else{if(a|0)break;n[i+52>>0]=1;o[i+48>>2]=s;o[i+44>>2]=j*3;break e}}while(0);if(n[i+52>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}n[i+52>>0]=1;o[i+48>>2]=s;o[i+44>>2]=j*3}else s=o[i+48>>2]|0}while(0);_l(s+(p<<2)|0,0,(j*12|0)-(p<<2)|0)|0}o[i+40>>2]=j*3;Tn(o[i+20>>2]|0,H|0,A<<4|0)|0;if(!(o[t>>2]&2)){Tn(o[i+48>>2]|0,k|0,j*12|0)|0;break}if(!j)break;s=o[i+48>>2]|0;a=0;l=r;while(1){o[s>>2]=o[l+8>>2];o[s+4>>2]=o[l+4>>2];o[s+8>>2]=o[l>>2];a=a+1|0;if((a|0)==(j|0))break;else{s=s+12|0;l=l+12|0}}}}while(0);do{if(V){if(!r){r=0;break}o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);r=0}}while(0);if((U|0)==0|(H|0)==0){s=0;break}o[6748]=(o[6748]|0)+1;Vs(o[H+-4>>2]|0);s=0;break}}}r=0;s=1}}while(0);if(!((K|0)==0|(Z|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[Z+-4>>2]|0)}if(!r){ae=J;return s|0}o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);ae=J;return s|0}function uD(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,s=0,a=0,l=0,_=0.0,u=0,f=0.0,d=0.0,h=0.0,p=0,b=0,m=0,A=0,g=0,v=0,C=0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,I=0,x=0,P=0,D=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0.0,H=0.0,j=0.0,V=0.0;k=ae;ae=ae+16|0;r=o[e+1112>>2]|0;e:do{if((r|0)>0)while(1){u=o[o[e+1120>>2]>>2]|0;r=o[u+348>>2]|0;if(r|0){fi(e+1048|0,r)|0;s=o[e+1052>>2]|0;if(s|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+1052>>2]=r;o[e+1060>>2]=(o[e+1060>>2]|0)+-1}r=o[u+52>>2]|0;if(r|0){if(n[u+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[u+52>>2]=0}n[u+56>>0]=1;o[u+52>>2]=0;o[u+44>>2]=0;o[u+48>>2]=0;r=o[u+32>>2]|0;if(r|0){if(n[u+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[u+32>>2]=0}n[u+36>>0]=1;o[u+32>>2]=0;o[u+24>>2]=0;o[u+28>>2]=0;r=o[u+12>>2]|0;if(r|0){if(n[u+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[u+12>>2]=0}n[u+16>>0]=1;o[u+12>>2]=0;o[u+4>>2]=0;o[u+8>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[u+-4>>2]|0);r=o[e+1112>>2]|0;if((r|0)<=0){u=r;break e}l=o[e+1120>>2]|0;s=0;do{a=l+(s<<2)|0;if((o[a>>2]|0)==(u|0)){B=23;break}s=s+1|0}while((s|0)<(r|0));if((B|0)==23){B=0;if((s|0)<(r|0)){o[a>>2]=o[l+(r+-1<<2)>>2];o[(o[e+1120>>2]|0)+(r+-1<<2)>>2]=u;o[e+1112>>2]=r+-1;r=r+-1|0}}if((r|0)<=0){u=r;break}}else u=r}while(0);r=o[e+712>>2]|0;r=(r|0)>(t|0)?t:r;if((u|0)<(r|0)){if((o[e+1116>>2]|0)<(r|0)){if(r){o[6747]=(o[6747]|0)+1;s=Do((r<<2|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[e+1112>>2]|0;if((s|0)>0){a=0;do{o[l+(a<<2)>>2]=o[(o[e+1120>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(s|0));a=e+1120|0}else a=e+1120|0}else{a=e+1120|0;l=0}s=o[a>>2]|0;if(s|0){if(n[e+1124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[a>>2]=0}n[e+1124>>0]=1;o[a>>2]=l;o[e+1116>>2]=r}else a=e+1120|0;s=u;do{o[(o[a>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)!=(r|0))}o[e+1112>>2]=r;if((r|0)>0){s=0;do{o[6747]=(o[6747]|0)+1;r=Do(403)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}n[r+16>>0]=1;o[r+12>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;n[r+36>>0]=1;o[r+32>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;n[r+56>>0]=1;o[r+52>>2]=0;o[r+44>>2]=0;o[r+48>>2]=0;a=r+348|0;o[a>>2]=0;o[a+4>>2]=0;o[a+8>>2]=0;o[a+12>>2]=0;o[a+16>>2]=0;c[r+368>>2]=100.0;c[r+372>>2]=.009999999776482582;n[r+376>>0]=0;o[(o[e+1120>>2]|0)+(s<<2)>>2]=r;a=o[e+1120>>2]|0;n[(o[a+(s<<2)>>2]|0)+377>>0]=1;s=s+1|0;r=o[e+1112>>2]|0}while((s|0)<(r|0));if((r|0)>0){s=o[e+712>>2]|0;if((s|0)>0){f=0.0;d=0.0;_=0.0;u=r;p=0;while(1){t=o[e+720>>2]|0;f=f+ +c[t+(p*104|0)+8>>2];d=d+ +c[t+(p*104|0)+12>>2];h=_+ +c[t+(p*104|0)+16>>2];u=o[a+(((p*29873|0)%(u|0)|0)<<2)>>2]|0;t=t+(p*104|0)|0;a=o[u+24>>2]|0;if((a|0)==(o[u+28>>2]|0)?(b=(a|0)==0?1:a<<1,(a|0)<(b|0)):0){if(!b){s=a;a=0}else{o[6747]=(o[6747]|0)+1;s=Do((b<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[u+24>>2]|0}if((s|0)>0){l=0;do{o[a+(l<<2)>>2]=o[(o[u+32>>2]|0)+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0))}l=o[u+32>>2]|0;if(l){if(n[u+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);s=o[u+24>>2]|0}o[u+32>>2]=0}n[u+36>>0]=1;o[u+32>>2]=a;o[u+28>>2]=b;a=s;s=o[e+712>>2]|0}o[(o[u+32>>2]|0)+(a<<2)>>2]=t;o[u+24>>2]=a+1;l=p+1|0;if((l|0)>=(s|0))break;_=h;u=o[e+1112>>2]|0;a=o[e+1120>>2]|0;p=l}_=1.0/+(s|0);if((r|0)>=0){if(!r){f=f*_;d=d*_;_=h*_;a=0;B=72}else{f=f*_;d=d*_;_=h*_;B=70}}else{w=0;D=0;I=e+720|0}}else{f=1.0/+(s|0)*0.0;d=1.0/+(s|0)*0.0;_=1.0/+(s|0)*0.0;B=70}if((B|0)==70){o[6747]=(o[6747]|0)+1;s=Do((r<<4|3)+16|0)|0;if(!s){a=0;B=72}else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16;B=72}}if((B|0)==72){s=0;do{c[a+(s<<4)>>2]=f;c[a+(s<<4)+4>>2]=d;c[a+(s<<4)+8>>2]=_;c[a+(s<<4)+12>>2]=0.0;s=s+1|0}while((s|0)!=(r|0));w=a;D=a;I=e+720|0}A=D+4|0;g=D+8|0;v=0;do{T=+(v|0)*.0625;T=2.0-(T>1.0?1.0:T);u=0;t=0;while(1){s=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;l=o[s+24>>2]|0;if((l|0)>0){a=o[s+32>>2]|0;B=o[a>>2]|0;d=+c[B+8>>2]+0.0;f=+c[B+12>>2]+0.0;_=+c[B+16>>2]+0.0;if((l|0)==1)B=82;else{s=1;do{B=o[a+(s<<2)>>2]|0;d=d+ +c[B+8>>2];f=f+ +c[B+12>>2];_=_+ +c[B+16>>2];s=s+1|0}while((s|0)<(l|0));B=80}}else{_=0.0;f=0.0;d=0.0;B=80}if((B|0)==80){B=0;if(!l)m=u;else B=82}if((B|0)==82){B=0;m=D+(t<<4)|0;E=+c[m>>2];C=D+(t<<4)+4|0;S=+c[C>>2];s=D+(t<<4)+8|0;h=+c[s>>2];d=E+T*(d*(1.0/+(l|0))-E);f=S+T*(f*(1.0/+(l|0))-S);_=h+T*(_*(1.0/+(l|0))-h);c[m>>2]=d;c[C>>2]=f;c[s>>2]=_;c[D+(t<<4)+12>>2]=0.0;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;s=o[l+24>>2]|0;if((s|0)<0){if((o[l+28>>2]|0)<0){a=o[l+32>>2]|0;if(a|0){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=0;o[l+28>>2]=0}do{o[(o[l+32>>2]|0)+(s<<2)>>2]=0;s=s+1|0}while((s|0)!=0)}o[l+24>>2]=0;m=u|(d-E)*(d-E)+(f-S)*(f-S)+(_-h)*(_-h)>1.1920928955078125e-07}t=t+1|0;if((t|0)>=(r|0))break;else u=m}v=v+1|0;s=o[e+712>>2]|0;e:do{if((s|0)>0){if((r|0)<=1){p=0;while(1){u=o[o[e+1120>>2]>>2]|0;t=(o[I>>2]|0)+(p*104|0)|0;a=o[u+24>>2]|0;if((a|0)==(o[u+28>>2]|0)?(x=(a|0)==0?1:a<<1,(a|0)<(x|0)):0){if(!x){s=a;a=0}else{o[6747]=(o[6747]|0)+1;s=Do((x<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[u+24>>2]|0}if((s|0)>0){l=0;do{o[a+(l<<2)>>2]=o[(o[u+32>>2]|0)+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0))}l=o[u+32>>2]|0;if(l){if(n[u+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);s=o[u+24>>2]|0}o[u+32>>2]=0}n[u+36>>0]=1;o[u+32>>2]=a;o[u+28>>2]=x;a=s;s=o[e+712>>2]|0}o[(o[u+32>>2]|0)+(a<<2)>>2]=t;o[u+24>>2]=a+1;p=p+1|0;if((p|0)>=(s|0))break e}}b=0;do{t=o[I>>2]|0;d=+c[t+(b*104|0)+8>>2];h=+c[t+(b*104|0)+12>>2];E=+c[t+(b*104|0)+16>>2];l=1;u=0;f=+y(+(+c[D>>2]-d))+ +y(+(+c[A>>2]-h))+ +y(+(+c[g>>2]-E));while(1){_=+y(+(+c[D+(l<<4)>>2]-d))+ +y(+(+c[D+(l<<4)+4>>2]-h))+ +y(+(+c[D+(l<<4)+8>>2]-E));a=_<f;u=a?l:u;l=l+1|0;if((l|0)==(r|0))break;else f=a?_:f}p=o[(o[e+1120>>2]|0)+(u<<2)>>2]|0;u=t+(b*104|0)|0;a=o[p+24>>2]|0;if((a|0)==(o[p+28>>2]|0)?(P=(a|0)==0?1:a<<1,(a|0)<(P|0)):0){if(!P){s=a;a=0}else{o[6747]=(o[6747]|0)+1;s=Do((P<<2|3)+16|0)|0;if(!s)a=0;else{o[(s+4+15&-16)+-4>>2]=s;a=s+4+15&-16}s=o[p+24>>2]|0}if((s|0)>0){l=0;do{o[a+(l<<2)>>2]=o[(o[p+32>>2]|0)+(l<<2)>>2];l=l+1|0}while((l|0)!=(s|0))}l=o[p+32>>2]|0;if(l){if(n[p+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[l+-4>>2]|0);s=o[p+24>>2]|0}o[p+32>>2]=0}n[p+36>>0]=1;o[p+32>>2]=a;o[p+28>>2]=P;a=s;s=o[e+712>>2]|0}o[(o[p+32>>2]|0)+(a<<2)>>2]=u;o[p+24>>2]=a+1;b=b+1|0}while((b|0)<(s|0))}}while(0)}while((v|0)<(i|0)&m);if((s|0)>0){s=s<<2;o[6747]=(o[6747]|0)+1;r=Do((s|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}_l(r|0,-1,s|0)|0;C=r;v=r}else{C=0;v=0}r=o[e+1112>>2]|0;if((r|0)>0){t=o[e+1120>>2]|0;u=0;do{l=o[t+(u<<2)>>2]|0;if((o[l+24>>2]|0)>0){r=o[I>>2]|0;s=o[l+32>>2]|0;o[v+((((o[s>>2]|0)-r|0)/104|0)<<2)>>2]=u;if((o[l+24>>2]|0)>1){a=1;do{o[v+((((o[s+(a<<2)>>2]|0)-r|0)/104|0)<<2)>>2]=u;a=a+1|0}while((a|0)<(o[l+24>>2]|0))}r=o[e+1112>>2]|0}u=u+1|0}while((u|0)<(r|0))}if((o[e+752>>2]|0)>0){m=0;do{i=o[e+760>>2]|0;p=o[I>>2]|0;r=((o[i+(m*44|0)+8>>2]|0)-p|0)/104|0;o[k>>2]=r;o[k+4>>2]=((o[i+(m*44|0)+12>>2]|0)-p|0)/104|0;o[k+8>>2]=((o[i+(m*44|0)+16>>2]|0)-p|0)/104|0;p=0;while(1){t=o[v+(r<<2)>>2]|0;b=p+1|0;r=o[k+(((b|0)==3?0:b)<<2)>>2]|0;e:do{if((o[v+(r<<2)>>2]|0)!=(t|0)){u=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;l=(o[I>>2]|0)+(r*104|0)|0;r=o[u+24>>2]|0;t:do{if((r|0)>0){a=o[u+32>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(l|0))break;s=s+1|0;if((s|0)>=(r|0))break t}if((s|0)!=(r|0))break e}}while(0);if((r|0)==(o[u+28>>2]|0)?(L=(r|0)==0?1:r<<1,(r|0)<(L|0)):0){if(!L)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((L<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[u+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[u+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[u+32>>2]|0;if(a){if(n[u+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[u+24>>2]|0}o[u+32>>2]=0}n[u+36>>0]=1;o[u+32>>2]=s;o[u+28>>2]=L}o[(o[u+32>>2]|0)+(r<<2)>>2]=l;o[u+24>>2]=r+1}}while(0);r=o[k+((((p+2|0)>>>0)%3|0)<<2)>>2]|0;e:do{if((o[v+(r<<2)>>2]|0)!=(t|0)){u=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;l=(o[I>>2]|0)+(r*104|0)|0;r=o[u+24>>2]|0;t:do{if((r|0)>0){a=o[u+32>>2]|0;s=0;while(1){if((o[a+(s<<2)>>2]|0)==(l|0))break;s=s+1|0;if((s|0)>=(r|0))break t}if((s|0)!=(r|0))break e}}while(0);if((r|0)==(o[u+28>>2]|0)?(F=(r|0)==0?1:r<<1,(r|0)<(F|0)):0){if(!F)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((F<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[u+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[u+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[u+32>>2]|0;if(a){if(n[u+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[u+24>>2]|0}o[u+32>>2]=0}n[u+36>>0]=1;o[u+32>>2]=s;o[u+28>>2]=F}o[(o[u+32>>2]|0)+(r<<2)>>2]=l;o[u+24>>2]=r+1}}while(0);if(b>>>0>=3)break;r=o[k+(b<<2)>>2]|0;p=b}m=m+1|0}while((m|0)<(o[e+752>>2]|0));r=o[e+1112>>2]|0}if((r|0)>1){o[6747]=(o[6747]|0)+1;r=Do(403)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}n[r+16>>0]=1;o[r+12>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;p=r+36|0;n[p>>0]=1;m=r+32|0;o[m>>2]=0;A=r+24|0;o[A>>2]=0;b=r+28|0;o[b>>2]=0;n[r+56>>0]=1;o[r+52>>2]=0;o[r+44>>2]=0;o[r+48>>2]=0;g=r+348|0;o[g>>2]=0;o[g+4>>2]=0;o[g+8>>2]=0;o[g+12>>2]=0;o[g+16>>2]=0;c[r+368>>2]=100.0;c[r+372>>2]=.009999999776482582;n[r+376>>0]=0;g=r;n[r+377>>0]=0;l=o[e+712>>2]|0;if((l|0)>0){o[6747]=(o[6747]|0)+1;r=Do((l<<2|3)+16|0)|0;if(!r)a=0;else{o[(r+4+15&-16)+-4>>2]=r;a=r+4+15&-16}r=o[A>>2]|0;if((r|0)>0){s=0;do{o[a+(s<<2)>>2]=o[(o[m>>2]|0)+(s<<2)>>2];s=s+1|0}while((s|0)!=(r|0))}r=o[m>>2]|0;if(r|0){if(n[p>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[m>>2]=0}n[p>>0]=1;o[m>>2]=a;o[b>>2]=l;r=o[e+712>>2]|0;if((r|0)>0){a=o[A>>2]|0;s=l;t=0;do{u=(o[I>>2]|0)+(t*104|0)|0;do{if((a|0)==(s|0)){l=(s|0)==0?1:s<<1;if((s|0)>=(l|0)){a=s;break}if(!l){r=s;s=0}else{o[6747]=(o[6747]|0)+1;r=Do((l<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[A>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[m>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[m>>2]|0;if(a){if(n[p>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[A>>2]|0}o[m>>2]=0}n[p>>0]=1;o[m>>2]=s;o[b>>2]=l;a=r;r=o[e+712>>2]|0;s=l}}while(0);o[(o[m>>2]|0)+(a<<2)>>2]=u;a=a+1|0;o[A>>2]=a;t=t+1|0}while((t|0)<(r|0))}}r=o[e+1112>>2]|0;if((r|0)==(o[e+1116>>2]|0)?(N=(r|0)==0?1:r<<1,(r|0)<(N|0)):0){if(!N)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((N<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[e+1112>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[e+1120>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[e+1120>>2]|0;if(a){if(n[e+1124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[e+1112>>2]|0}o[e+1120>>2]=0}n[e+1124>>0]=1;o[e+1120>>2]=s;o[e+1116>>2]=N}o[(o[e+1120>>2]|0)+(r<<2)>>2]=g;N=r+1|0;o[e+1112>>2]=N;L=o[e+1120>>2]|0;r=L+(r<<2)|0;F=o[L>>2]|0;o[L>>2]=o[r>>2];o[r>>2]=F;r=N}if((r|0)>0){s=0;do{t=o[(o[e+1120>>2]|0)+(s<<2)>>2]|0;e:do{if(!(o[t+24>>2]|0)){s=s+-1|0;r=o[t+348>>2]|0;if(r|0){fi(e+1048|0,r)|0;a=o[e+1052>>2]|0;if(a|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+1052>>2]=r;o[e+1060>>2]=(o[e+1060>>2]|0)+-1}r=o[t+52>>2]|0;if(r|0){if(n[t+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[t+52>>2]=0}n[t+56>>0]=1;o[t+52>>2]=0;o[t+44>>2]=0;o[t+48>>2]=0;r=o[t+32>>2]|0;if(r|0){if(n[t+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[t+32>>2]=0}n[t+36>>0]=1;o[t+32>>2]=0;o[t+24>>2]=0;o[t+28>>2]=0;r=o[t+12>>2]|0;if(r|0){if(n[t+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[t+12>>2]=0}n[t+16>>0]=1;o[t+12>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0);r=o[e+1112>>2]|0;if((r|0)>0){u=o[e+1120>>2]|0;a=0;while(1){l=u+(a<<2)|0;if((o[l>>2]|0)==(t|0))break;a=a+1|0;if((a|0)>=(r|0))break e}if((a|0)>=(r|0))break;o[l>>2]=o[u+(r+-1<<2)>>2];o[(o[e+1120>>2]|0)+(r+-1<<2)>>2]=t;o[e+1112>>2]=r+-1;r=r+-1|0}}}while(0);s=s+1|0}while((s|0)<(r|0))}if(!((v|0)==0|(C|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[C+-4>>2]|0)}if(!((D|0)==0|(w|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[w+-4>>2]|0)}}else B=244}else B=244;e:do{if((B|0)==244){u=o[e+772>>2]|0;if(!u){t=o[e+752>>2]|0;if((r|0)<(t|0)){if((o[e+1116>>2]|0)<(t|0)){if(t){o[6747]=(o[6747]|0)+1;s=Do((t<<2|3)+16|0)|0;if(!s)u=0;else{o[(s+4+15&-16)+-4>>2]=s;u=s+4+15&-16}s=o[e+1112>>2]|0;if((s|0)>0){a=0;do{o[u+(a<<2)>>2]=o[(o[e+1120>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(s|0));l=e+1120|0;a=u}else{l=e+1120|0;a=u}}else{l=e+1120|0;a=0}s=o[l>>2]|0;if(s|0){if(n[e+1124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[l>>2]=0}n[e+1124>>0]=1;o[l>>2]=a;o[e+1116>>2]=t}do{o[(o[e+1120>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(t|0))}o[e+1112>>2]=t;if((t|0)>0){s=0;do{o[6747]=(o[6747]|0)+1;r=Do(403)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}n[r+16>>0]=1;o[r+12>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;n[r+36>>0]=1;o[r+32>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;n[r+56>>0]=1;o[r+52>>2]=0;o[r+44>>2]=0;o[r+48>>2]=0;B=r+348|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;c[r+368>>2]=100.0;c[r+372>>2]=.009999999776482582;n[r+376>>0]=0;o[(o[e+1120>>2]|0)+(s<<2)>>2]=r;n[(o[(o[e+1120>>2]|0)+(s<<2)>>2]|0)+377>>0]=1;s=s+1|0}while((s|0)<(o[e+1112>>2]|0))}if((o[e+752>>2]|0)<=0)break;t=0;while(1){l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+760>>2]|0)+(t*44|0)+8|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(p=(r|0)==0?1:r<<1,(r|0)<(p|0)):0){if(!p)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((p<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=p}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+760>>2]|0)+(t*44|0)+12|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(m=(r|0)==0?1:r<<1,(r|0)<(m|0)):0){if(!m)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((m<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=m}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+760>>2]|0)+(t*44|0)+16|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(A=(r|0)==0?1:r<<1,(r|0)<(A|0)):0){if(!A)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((A<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=A}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;t=t+1|0;if((t|0)>=(o[e+752>>2]|0))break e}}if((r|0)<(u|0)){if((o[e+1116>>2]|0)<(u|0)){o[6747]=(o[6747]|0)+1;s=Do((u<<2|3)+16|0)|0;if(!s)l=0;else{o[(s+4+15&-16)+-4>>2]=s;l=s+4+15&-16}s=o[e+1112>>2]|0;if((s|0)>0){a=0;do{o[l+(a<<2)>>2]=o[(o[e+1120>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(s|0))}s=o[e+1120>>2]|0;if(s|0){if(n[e+1124>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}o[e+1120>>2]=0}n[e+1124>>0]=1;o[e+1120>>2]=l;o[e+1116>>2]=u;s=e+1120|0}else s=e+1120|0;do{o[(o[s>>2]|0)+(r<<2)>>2]=0;r=r+1|0}while((r|0)!=(u|0))}o[e+1112>>2]=u;if((u|0)>0){s=0;do{o[6747]=(o[6747]|0)+1;r=Do(403)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}n[r+16>>0]=1;o[r+12>>2]=0;o[r+4>>2]=0;o[r+8>>2]=0;n[r+36>>0]=1;o[r+32>>2]=0;o[r+24>>2]=0;o[r+28>>2]=0;n[r+56>>0]=1;o[r+52>>2]=0;o[r+44>>2]=0;o[r+48>>2]=0;B=r+348|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;c[r+368>>2]=100.0;c[r+372>>2]=.009999999776482582;n[r+376>>0]=0;o[(o[e+1120>>2]|0)+(s<<2)>>2]=r;n[(o[(o[e+1120>>2]|0)+(s<<2)>>2]|0)+377>>0]=1;s=s+1|0}while((s|0)<(o[e+1112>>2]|0))}if((o[e+772>>2]|0)>0){t=0;do{l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+780>>2]|0)+(t*104|0)+8|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(g=(r|0)==0?1:r<<1,(r|0)<(g|0)):0){if(!g)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((g<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=g}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+780>>2]|0)+(t*104|0)+12|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(v=(r|0)==0?1:r<<1,(r|0)<(v|0)):0){if(!v)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((v<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=v}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+780>>2]|0)+(t*104|0)+16|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(C=(r|0)==0?1:r<<1,(r|0)<(C|0)):0){if(!C)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((C<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=C}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;l=o[(o[e+1120>>2]|0)+(t<<2)>>2]|0;u=(o[e+780>>2]|0)+(t*104|0)+20|0;r=o[l+24>>2]|0;if((r|0)==(o[l+28>>2]|0)?(I=(r|0)==0?1:r<<1,(r|0)<(I|0)):0){if(!I)s=0;else{o[6747]=(o[6747]|0)+1;r=Do((I<<2|3)+16|0)|0;if(!r)s=0;else{o[(r+4+15&-16)+-4>>2]=r;s=r+4+15&-16}r=o[l+24>>2]|0}if((r|0)>0){a=0;do{o[s+(a<<2)>>2]=o[(o[l+32>>2]|0)+(a<<2)>>2];a=a+1|0}while((a|0)!=(r|0))}a=o[l+32>>2]|0;if(a){if(n[l+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);r=o[l+24>>2]|0}o[l+32>>2]=0}n[l+36>>0]=1;o[l+32>>2]=s;o[l+28>>2]=I}o[(o[l+32>>2]|0)+(r<<2)>>2]=o[u>>2];o[l+24>>2]=r+1;t=t+1|0}while((t|0)<(o[e+772>>2]|0))}}}while(0);r=o[e+1112>>2]|0;if(!r){e=0;ae=k;return e|0}if((r|0)>0){m=0;do{b=o[(o[e+1120>>2]|0)+(m<<2)>>2]|0;c[b+128>>2]=0.0;t=o[b+24>>2]|0;u=o[b+4>>2]|0;if((t|0)>(u|0)){do{if((o[b+8>>2]|0)<(t|0)){if(!t){l=u;r=0}else{o[6747]=(o[6747]|0)+1;r=Do((t<<2|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}l=o[b+4>>2]|0}s=o[b+12>>2]|0;if((l|0)<=0){if(!s){n[b+16>>0]=1;o[b+12>>2]=r;o[b+8>>2]=t;break}}else{a=0;do{o[r+(a<<2)>>2]=o[s+(a<<2)>>2];a=a+1|0}while((a|0)!=(l|0))}if(n[b+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}n[b+16>>0]=1;o[b+12>>2]=r;o[b+8>>2]=t}else r=o[b+12>>2]|0}while(0);_l(r+(u<<2)|0,0,t-u<<2|0)|0;p=o[b+24>>2]|0}else p=t;o[b+4>>2]=t;u=(p|0)>0;if(u){s=o[b+32>>2]|0;a=o[b+12>>2]|0;r=0;do{_=+c[(o[s+(r<<2)>>2]|0)+88>>2];if(_==0.0){n[b+376>>0]=1;_=999999984306749440.0}else _=1.0/_;c[a+(r<<2)>>2]=_;f=_+ +c[b+128>>2];c[b+128>>2]=f;r=r+1|0}while((r|0)!=(p|0));c[b+128>>2]=1.0/f;_=0.0;d=0.0;h=0.0;r=0;do{B=o[s+(r<<2)>>2]|0;M=+c[a+(r<<2)>>2];_=_+ +c[B+8>>2]*M;d=d+M*+c[B+12>>2];h=h+M*+c[B+16>>2];r=r+1|0}while((r|0)!=(p|0));f=1.0/f}else{f=1.0/+c[b+128>>2];c[b+128>>2]=f;h=0.0;d=0.0;_=0.0}M=f*_;R=f*d;T=f*h;c[b+228>>2]=M;c[b+232>>2]=R;c[b+236>>2]=T;c[b+240>>2]=0.0;r=b+316|0;s=r+36|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));r=b+132|0;s=r+48|0;do{o[r>>2]=0;r=r+4|0}while((r|0)<(s|0));if(u){r=o[b+32>>2]|0;s=o[b+12>>2]|0;_=0.0;d=0.0;f=0.0;h=0.0;E=0.0;S=0.0;a=0;do{B=o[r+(a<<2)>>2]|0;V=+c[B+8>>2]-M;H=+c[B+12>>2]-R;j=+c[B+16>>2]-T;U=+c[s+(a<<2)>>2];_=_+U*(H*H+j*j);c[b+132>>2]=_;d=U*(V*V+j*j)+d;c[b+152>>2]=d;f=(V*V+H*H)*U+f;c[b+172>>2]=f;h=h-H*(V*U);c[b+136>>2]=h;E=E-j*(V*U);c[b+140>>2]=E;S=S-j*(H*U);c[b+156>>2]=S;a=a+1|0}while((a|0)!=(p|0));r=b+136|0;s=b+140|0;a=b+156|0;l=b+152|0}else{S=0.0;E=0.0;h=0.0;d=0.0;f=0.0;_=0.0;r=b+136|0;s=b+140|0;a=b+156|0;l=b+152|0}M=d*f-S*S;U=S*E-f*h;H=S*h-d*E;V=1.0/(M*_+h*U+H*E);j=(h*E-S*_)*V;c[b+132>>2]=M*V;c[r>>2]=U*V;c[s>>2]=H*V;c[b+144>>2]=0.0;c[b+148>>2]=U*V;c[l>>2]=(f*_-E*E)*V;c[a>>2]=j;c[b+160>>2]=0.0;c[b+164>>2]=H*V;c[b+168>>2]=j;c[b+172>>2]=(d*_-h*h)*V;c[b+176>>2]=0.0;o[b+60>>2]=1065353216;o[b+64>>2]=0;o[b+64+4>>2]=0;o[b+64+8>>2]=0;o[b+64+12>>2]=0;o[b+80>>2]=1065353216;o[b+84>>2]=0;o[b+84+4>>2]=0;o[b+84+8>>2]=0;o[b+84+12>>2]=0;o[b+100>>2]=1065353216;o[b+104>>2]=0;o[b+108>>2]=o[b+228>>2];o[b+108+4>>2]=o[b+228+4>>2];o[b+108+8>>2]=o[b+228+8>>2];o[b+108+12>>2]=o[b+228+12>>2];l=o[b+44>>2]|0;if((l|0)<(p|0)){if((o[b+48>>2]|0)<(p|0)){if(!p){s=l;a=0}else{o[6747]=(o[6747]|0)+1;r=Do((p<<4|3)+16|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}s=o[b+44>>2]|0;a=r}if((s|0)>0){r=0;do{B=a+(r<<4)|0;N=(o[b+52>>2]|0)+(r<<4)|0;o[B>>2]=o[N>>2];o[B+4>>2]=o[N+4>>2];o[B+8>>2]=o[N+8>>2];o[B+12>>2]=o[N+12>>2];r=r+1|0}while((r|0)!=(s|0))}r=o[b+52>>2]|0;if(r|0){if(n[b+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[b+52>>2]=0}n[b+56>>0]=1;o[b+52>>2]=a;o[b+48>>2]=p;s=b+52|0}else s=b+52|0;r=l;do{B=(o[s>>2]|0)+(r<<4)|0;o[B>>2]=o[k>>2];o[B+4>>2]=o[k+4>>2];o[B+8>>2]=o[k+8>>2];o[B+12>>2]=o[k+12>>2];r=r+1|0}while((r|0)!=(p|0))}o[b+44>>2]=p;if(u){r=0;do{N=o[(o[b+32>>2]|0)+(r<<2)>>2]|0;j=+c[N+12>>2]-+c[b+232>>2];V=+c[N+16>>2]-+c[b+236>>2];B=o[b+52>>2]|0;c[B+(r<<4)>>2]=+c[N+8>>2]-+c[b+228>>2];c[B+(r<<4)+4>>2]=j;c[B+(r<<4)+8>>2]=V;c[B+(r<<4)+12>>2]=0.0;r=r+1|0}while((r|0)<(o[b+44>>2]|0))}m=m+1|0}while((m|0)<(o[e+1112>>2]|0))}rs(e);r=o[e+1112>>2]|0;t=O(r,r)|0;u=o[e+1132>>2]|0;if((t|0)>(u|0)){do{if((o[e+1136>>2]|0)<(t|0)){if(!t){l=u;r=0}else{o[6747]=(o[6747]|0)+1;r=Do(t+19|0)|0;if(!r)r=0;else{o[(r+4+15&-16)+-4>>2]=r;r=r+4+15&-16}l=o[e+1132>>2]|0}s=o[e+1140>>2]|0;if((l|0)<=0){if(!s){n[e+1144>>0]=1;o[e+1140>>2]=r;o[e+1136>>2]=t;break}}else{a=0;do{n[r+a>>0]=n[s+a>>0]|0;a=a+1|0}while((a|0)!=(l|0))}if(n[e+1144>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[s+-4>>2]|0)}n[e+1144>>0]=1;o[e+1140>>2]=r;o[e+1136>>2]=t}else r=o[e+1140>>2]|0}while(0);_l(r+u|0,0,t-u|0)|0;r=o[e+1112>>2]|0}o[e+1132>>2]=t;if((r|0)<=0){e=r;ae=k;return e|0}C=o[e+1120>>2]|0;b=o[e+1140>>2]|0;g=0;do{m=o[C+(g<<2)>>2]|0;o[m+380>>2]=g;A=o[m+24>>2]|0;v=0;do{t=o[C+(v<<2)>>2]|0;p=0;while(1){if((p|0)>=(A|0)){s=0;break}s=o[t+24>>2]|0;e:do{if((s|0)>0){a=o[(o[m+32>>2]|0)+(p<<2)>>2]|0;l=o[t+32>>2]|0;u=0;while(1){if((a|0)==(o[l+(u<<2)>>2]|0)){s=1;break e}u=u+1|0;if((u|0)>=(s|0)){s=0;break}}}else s=0}while(0);if(s){s=1;break}else p=p+1|0}n[b+((O(v,r)|0)+g)>>0]=s;v=v+1|0}while((v|0)!=(r|0));g=g+1|0}while((g|0)!=(r|0));ae=k;return r|0}function fD(e){e=e|0;var t=0,i=0,r=0,s=0.0,a=0.0,l=0.0,_=0,u=0,f=0,d=0,h=0,p=0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0.0,P=0.0,D=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0.0,Q=0.0,K=0.0,Z=0.0,J=0.0,q=0.0,$=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0;z=ae;ae=ae+176|0;hD(e);if(!(dF[o[(o[e>>2]|0)+20>>2]&127](e)|0)){ae=z;return}if((o[e+328>>2]|0)<=0){ae=z;return}W=z+96+32|0;X=z+96+52|0;G=0;do{j=o[(o[e+336>>2]|0)+(G<<2)>>2]|0;if(dF[o[(o[e>>2]|0)+20>>2]&127](e)|0?(N=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,(dF[o[(o[N>>2]|0)+48>>2]&127](N)|0)&1|0):0){t=o[e+72>>2]|0;if(!(n[j+473>>0]|0))N=t;else{o[z+80>>2]=o[j+520>>2];o[z+80+4>>2]=o[j+520+4>>2];o[z+80+8>>2]=o[j+520+8>>2];o[z+80+12>>2]=o[j+520+12>>2];s=+c[j+584>>2];a=+c[j+536>>2];l=+c[j+600>>2];b=+c[j+540>>2];m=+c[j+616>>2];A=+c[j+544>>2];g=+c[j+588>>2];y=+c[j+604>>2];C=+c[j+620>>2];E=+c[j+592>>2];S=+c[j+608>>2];T=+c[j+624>>2];R=+c[j+552>>2];M=+c[j+556>>2];O=+c[j+560>>2];I=+c[j+568>>2];x=+c[j+572>>2];P=+c[j+576>>2];re=s*a+l*b+m*A+(a*g+b*y+A*C)*0.0+(a*E+b*S+A*T)*0.0;ie=(E*R+S*M+T*O)*0.0+(s*R+l*M+m*O+(g*R+y*M+C*O)*0.0);te=(E*I+S*x+T*P)*0.0+(s*I+l*x+m*P+(g*I+y*x+C*P)*0.0);ne=1.0/+v(+(re*re+ie*ie+te*te));ee=(s*a+l*b+m*A)*0.0+(a*g+b*y+A*C)+(a*E+b*S+A*T)*0.0;q=(E*R+S*M+T*O)*0.0+(g*R+y*M+C*O+(s*R+l*M+m*O)*0.0);J=(E*I+S*x+T*P)*0.0+(g*I+y*x+C*P+(s*I+l*x+m*P)*0.0);$=1.0/+v(+(ee*ee+q*q+J*J));Z=(s*a+l*b+m*A)*0.0+(a*g+b*y+A*C)*0.0+(a*E+b*S+A*T);Q=E*R+S*M+T*O+((s*R+l*M+m*O)*0.0+(g*R+y*M+C*O)*0.0);Y=E*I+S*x+T*P+((s*I+l*x+m*P)*0.0+(g*I+y*x+C*P)*0.0);K=1.0/+v(+(Z*Z+Q*Q+Y*Y));N=o[(o[t>>2]|0)+8>>2]|0;ie=+c[z+80+4>>2]+ie*ne*10.0;te=+c[z+80+8>>2]+te*ne*10.0;c[z+160>>2]=+c[z+80>>2]+re*ne*10.0;c[z+160+4>>2]=ie;c[z+160+8>>2]=te;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=0;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;BF[N&127](t,z+80|0,z+160|0,z+96|0);N=o[(o[t>>2]|0)+8>>2]|0;q=q*$*10.0+ +c[z+80+4>>2];J=J*$*10.0+ +c[z+80+8>>2];c[z+160>>2]=ee*$*10.0+ +c[z+80>>2];c[z+160+4>>2]=q;c[z+160+8>>2]=J;c[z+160+12>>2]=0.0;o[z+96>>2]=0;o[z+96+4>>2]=1065353216;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;BF[N&127](t,z+80|0,z+160|0,z+96|0);N=o[(o[t>>2]|0)+8>>2]|0;Q=Q*K*10.0+ +c[z+80+4>>2];Y=Y*K*10.0+ +c[z+80+8>>2];c[z+160>>2]=Z*K*10.0+ +c[z+80>>2];c[z+160+4>>2]=Q;c[z+160+8>>2]=Y;c[z+160+12>>2]=0.0;o[z+96>>2]=0;o[z+96+4>>2]=0;o[z+96+8>>2]=1065353216;c[z+96+12>>2]=0.0;BF[N&127](t,z+80|0,z+160|0,z+96|0);if((o[j+484>>2]|0)>0){i=0;do{N=o[j+492>>2]|0;ee=+c[N+(i<<4)>>2];te=+c[N+(i<<4)+4>>2];re=+c[N+(i<<4)+8>>2];ie=+c[z+80>>2]+((s*a+l*b+m*A)*ee+(a*g+b*y+A*C)*te+(a*E+b*S+A*T)*re);ne=+c[z+80+4>>2]+((s*R+l*M+m*O)*ee+(g*R+y*M+C*O)*te+(E*R+S*M+T*O)*re);re=(s*I+l*x+m*P)*ee+(g*I+y*x+C*P)*te+(E*I+S*x+T*P)*re+ +c[z+80+8>>2];o[z+64>>2]=1065353216;o[z+64+4>>2]=0;o[z+64+8>>2]=1065353216;c[z+64+12>>2]=0.0;N=o[(o[t>>2]|0)+8>>2]|0;c[z+160>>2]=ie+-.10000000149011612;c[z+160+4>>2]=ne;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+.10000000149011612;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[N&127](t,z+160|0,z+96|0,z+64|0);N=o[(o[t>>2]|0)+8>>2]|0;c[z+160>>2]=ie;c[z+160+4>>2]=ne+-.10000000149011612;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+.10000000149011612;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[N&127](t,z+160|0,z+96|0,z+64|0);N=o[(o[t>>2]|0)+8>>2]|0;c[z+160>>2]=ie;c[z+160+4>>2]=ne;c[z+160+8>>2]=re+-.10000000149011612;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+.10000000149011612;c[z+96+12>>2]=0.0;BF[N&127](t,z+160|0,z+96|0,z+64|0);i=i+1|0}while((i|0)<(o[j+484>>2]|0))}N=o[e+72>>2]|0}F=o[e+344>>2]|0;o[z+80>>2]=0;o[z+80+4>>2]=0;o[z+80+8>>2]=0;o[z+80+12>>2]=0;o[z+64>>2]=1065353216;o[z+64+4>>2]=1065353216;o[z+64+8>>2]=1065353216;c[z+64+12>>2]=0.0;o[z+48>>2]=1065353216;o[z+48+4>>2]=0;o[z+48+8>>2]=0;c[z+48+12>>2]=0.0;if(!(F&256)){if(F&1|0?(V=o[j+712>>2]|0,(V|0)>0):0){t=V;r=0;do{i=o[j+720>>2]|0;if(o[(o[i+(r*104|0)+4>>2]|0)+16>>2]&1){t=o[(o[N>>2]|0)+8>>2]|0;L=i+(r*104|0)+8|0;D=i+(r*104|0)+12|0;h=o[D>>2]|0;w=i+(r*104|0)+16|0;p=o[w>>2]|0;c[z+160>>2]=+c[L>>2]+-.10000000149011612;o[z+160+4>>2]=h;o[z+160+8>>2]=p;c[z+160+12>>2]=0.0;ne=+c[D>>2]+0.0;re=+c[w>>2]+0.0;c[z+96>>2]=+c[L>>2]+.10000000149011612;c[z+96+4>>2]=ne;c[z+96+8>>2]=re;c[z+96+12>>2]=0.0;o[z+32>>2]=1065353216;o[z+32+4>>2]=0;o[z+32+8>>2]=0;c[z+32+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[(o[N>>2]|0)+8>>2]|0;re=+c[D>>2]+-.10000000149011612;p=o[w>>2]|0;o[z+160>>2]=o[L>>2];c[z+160+4>>2]=re;o[z+160+8>>2]=p;c[z+160+12>>2]=0.0;re=+c[D>>2]+.10000000149011612;ne=+c[w>>2]+0.0;c[z+96>>2]=+c[L>>2]+0.0;c[z+96+4>>2]=re;c[z+96+8>>2]=ne;c[z+96+12>>2]=0.0;o[z+32>>2]=0;o[z+32+4>>2]=1065353216;o[z+32+8>>2]=0;c[z+32+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[(o[N>>2]|0)+8>>2]|0;p=o[D>>2]|0;ne=+c[w>>2]+-.10000000149011612;o[z+160>>2]=o[L>>2];o[z+160+4>>2]=p;c[z+160+8>>2]=ne;c[z+160+12>>2]=0.0;ne=+c[D>>2]+0.0;re=+c[w>>2]+.10000000149011612;c[z+96>>2]=+c[L>>2]+0.0;c[z+96+4>>2]=ne;c[z+96+8>>2]=re;c[z+96+12>>2]=0.0;o[z+32>>2]=0;o[z+32+4>>2]=0;o[z+32+8>>2]=1065353216;c[z+32+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[j+712>>2]|0}r=r+1|0}while((r|0)<(t|0))}if(F&2|0?(B=o[j+732>>2]|0,(B|0)>0):0){t=B;r=0;do{i=o[j+740>>2]|0;if(o[(o[i+(r*52|0)+4>>2]|0)+16>>2]&1){BF[o[(o[N>>2]|0)+8>>2]&127](N,(o[i+(r*52|0)+8>>2]|0)+8|0,(o[i+(r*52|0)+12>>2]|0)+8|0,z+80|0);t=o[j+732>>2]|0}r=r+1|0}while((r|0)<(t|0))}if(F&16|0?(k=o[j+712>>2]|0,(k|0)>0):0){t=k;r=0;do{i=o[j+720>>2]|0;if(o[(o[i+(r*104|0)+4>>2]|0)+16>>2]&1){ie=+c[i+(r*104|0)+72>>2]*.5;re=+c[i+(r*104|0)+76>>2]*.5;ne=+c[i+(r*104|0)+80>>2]*.5;L=o[(o[N>>2]|0)+8>>2]|0;t=i+(r*104|0)+8|0;D=i+(r*104|0)+12|0;ee=re+ +c[D>>2];w=i+(r*104|0)+16|0;te=ne+ +c[w>>2];c[z+160>>2]=ie+ +c[t>>2];c[z+160+4>>2]=ee;c[z+160+8>>2]=te;c[z+160+12>>2]=0.0;BF[L&127](N,t,z+160|0,z+64|0);L=o[(o[N>>2]|0)+8>>2]|0;re=+c[D>>2]-re;ne=+c[w>>2]-ne;c[z+160>>2]=+c[t>>2]-ie;c[z+160+4>>2]=re;c[z+160+8>>2]=ne;c[z+160+12>>2]=0.0;ne=+c[z+64+4>>2]*.5;re=+c[z+64+8>>2]*.5;c[z+96>>2]=+c[z+64>>2]*.5;c[z+96+4>>2]=ne;c[z+96+8>>2]=re;c[z+96+12>>2]=0.0;BF[L&127](N,t,z+160|0,z+96|0);t=o[j+712>>2]|0}r=r+1|0}while((r|0)<(t|0))}if(F&32|0){if((n[24936]|0)==0?PM(24936)|0:0){o[5628]=1065353216;o[5629]=0;o[5630]=0;o[5631]=0;o[5632]=0;o[5633]=1065353216;o[5634]=0;o[5635]=0;o[5636]=0;o[5637]=0;o[5638]=1065353216;c[5639]=0.0;GR(24936)}if((o[j+812>>2]|0)>0){t=0;do{L=o[j+820>>2]|0;D=o[L+(t*104|0)+24>>2]|0;R=+c[D+8>>2];w=L+(t*104|0)+4|0;M=+c[w>>2];O=+c[D+12>>2];p=L+(t*104|0)+8|0;I=+c[p>>2];Y=+c[D+16>>2];D=L+(t*104|0)+12|0;Q=+c[D>>2];K=+c[L+(t*104|0)+20>>2]+(R*M+O*I+Y*Q);c[z+160>>2]=R-M*K;c[z+160+4>>2]=O-I*K;c[z+160+8>>2]=Y-Q*K;c[z+160+12>>2]=0.0;Z=+c[w>>2];ne=+c[p>>2];x=+c[D>>2];L=Z<ne?Z<x?0:2:ne<x?1:2;P=+c[22512+(L<<4)+8>>2];J=+c[22512+(L<<4)+4>>2];te=+c[22512+(L<<4)>>2];$=1.0/+v(+((Z*J-ne*te)*(Z*J-ne*te)+((ne*P-x*J)*(ne*P-x*J)+(x*te-Z*P)*(x*te-Z*P))));q=x*((x*te-Z*P)*$)-ne*((Z*J-ne*te)*$);ee=Z*((Z*J-ne*te)*$)-x*((ne*P-x*J)*$);ie=ne*((ne*P-x*J)*$)-Z*((x*te-Z*P)*$);re=1.0/+v(+(ie*ie+(q*q+ee*ee)));L=o[(o[N>>2]|0)+8>>2]|0;c[z+96>>2]=R-M*K-(ne*P-x*J)*$*.5;c[z+96+4>>2]=O-I*K-(x*te-Z*P)*$*.5;c[z+96+8>>2]=Y-Q*K-(Z*J-ne*te)*$*.5;c[z+96+12>>2]=0.0;c[z+32>>2]=R-M*K+(ne*P-x*J)*$*.5;c[z+32+4>>2]=O-I*K+(x*te-Z*P)*$*.5;c[z+32+8>>2]=Y-Q*K+(Z*J-ne*te)*$*.5;c[z+32+12>>2]=0.0;BF[L&127](N,z+96|0,z+32|0,z+48|0);L=o[(o[N>>2]|0)+8>>2]|0;$=+c[z+160>>2];te=+c[z+160+4>>2];ne=+c[z+160+8>>2];c[z+96>>2]=$-q*re*.5;c[z+96+4>>2]=te-ee*re*.5;c[z+96+8>>2]=ne-ie*re*.5;c[z+96+12>>2]=0.0;c[z+32>>2]=q*re*.5+$;c[z+32+4>>2]=ee*re*.5+te;c[z+32+8>>2]=ie*re*.5+ne;c[z+32+12>>2]=0.0;BF[L&127](N,z+96|0,z+32|0,z+48|0);L=o[(o[N>>2]|0)+8>>2]|0;ne=+c[p>>2]*.5*3.0+ +c[z+160+4>>2];re=+c[D>>2]*.5*3.0+ +c[z+160+8>>2];c[z+96>>2]=+c[w>>2]*.5*3.0+ +c[z+160>>2];c[z+96+4>>2]=ne;c[z+96+8>>2]=re;c[z+96+12>>2]=0.0;o[z+32>>2]=1065353216;o[z+32+4>>2]=1065353216;o[z+32+8>>2]=0;c[z+32+12>>2]=0.0;BF[L&127](N,z+160|0,z+96|0,z+32|0);t=t+1|0}while((t|0)<(o[j+812>>2]|0))}}if(F&4|0?(o[z+160>>2]=0,o[z+160+4>>2]=1060320051,o[z+160+8>>2]=0,c[z+160+12>>2]=0.0,U=o[j+752>>2]|0,(U|0)>0):0){t=U;r=0;do{i=o[j+760>>2]|0;if(o[(o[i+(r*44|0)+4>>2]|0)+16>>2]&1){t=o[i+(r*44|0)+8>>2]|0;Z=+c[t+8>>2];$=+c[t+12>>2];ie=+c[t+16>>2];t=o[i+(r*44|0)+12>>2]|0;J=+c[t+8>>2];ee=+c[t+12>>2];ne=+c[t+16>>2];t=o[i+(r*44|0)+16>>2]|0;q=+c[t+8>>2];te=+c[t+12>>2];re=+c[t+16>>2];t=o[(o[N>>2]|0)+28>>2]|0;c[z+96>>2]=(Z+J+q)*.3333333432674408+(Z-(Z+J+q)*.3333333432674408)*.800000011920929;c[z+96+4>>2]=($+ee+te)*.3333333432674408+($-($+ee+te)*.3333333432674408)*.800000011920929;c[z+96+8>>2]=(ie+ne+re)*.3333333432674408+(ie-(ie+ne+re)*.3333333432674408)*.800000011920929;c[z+96+12>>2]=0.0;c[z+32>>2]=(Z+J+q)*.3333333432674408+(J-(Z+J+q)*.3333333432674408)*.800000011920929;c[z+32+4>>2]=($+ee+te)*.3333333432674408+(ee-($+ee+te)*.3333333432674408)*.800000011920929;c[z+32+8>>2]=(ie+ne+re)*.3333333432674408+(ne-(ie+ne+re)*.3333333432674408)*.800000011920929;c[z+32+12>>2]=0.0;c[z+16>>2]=(Z+J+q)*.3333333432674408+(q-(Z+J+q)*.3333333432674408)*.800000011920929;c[z+16+4>>2]=($+ee+te)*.3333333432674408+(te-($+ee+te)*.3333333432674408)*.800000011920929;c[z+16+8>>2]=(ie+ne+re)*.3333333432674408+(re-(ie+ne+re)*.3333333432674408)*.800000011920929;c[z+16+12>>2]=0.0;VF[t&1](N,z+96|0,z+32|0,z+16|0,z+160|0,1.0);t=o[j+752>>2]|0}r=r+1|0}while((r|0)<(t|0))}if(F&8|0?(o[z+160>>2]=1050253722,o[z+160+4>>2]=1050253722,o[z+160+8>>2]=1060320051,c[z+160+12>>2]=0.0,H=o[j+772>>2]|0,(H|0)>0):0){t=H;r=0;do{i=o[j+780>>2]|0;if(o[(o[i+(r*104|0)+4>>2]|0)+16>>2]&1){t=o[i+(r*104|0)+8>>2]|0;E=+c[t+8>>2];R=+c[t+12>>2];I=+c[t+16>>2];t=o[i+(r*104|0)+12>>2]|0;S=+c[t+8>>2];M=+c[t+12>>2];x=+c[t+16>>2];t=o[i+(r*104|0)+16>>2]|0;T=+c[t+8>>2];O=+c[t+12>>2];P=+c[t+16>>2];t=o[i+(r*104|0)+20>>2]|0;ie=+c[t+8>>2];ne=+c[t+12>>2];re=+c[t+16>>2];t=o[(o[N>>2]|0)+28>>2]|0;$=(E+S+T+ie)*.25+(E-(E+S+T+ie)*.25)*.800000011920929;ee=(R+M+O+ne)*.25+(R-(R+M+O+ne)*.25)*.800000011920929;te=(I+x+P+re)*.25+(I-(I+x+P+re)*.25)*.800000011920929;c[z+96>>2]=$;c[z+96+4>>2]=ee;c[z+96+8>>2]=te;c[z+96+12>>2]=0.0;Y=(E+S+T+ie)*.25+(S-(E+S+T+ie)*.25)*.800000011920929;Q=(R+M+O+ne)*.25+(M-(R+M+O+ne)*.25)*.800000011920929;K=(I+x+P+re)*.25+(x-(I+x+P+re)*.25)*.800000011920929;c[z+32>>2]=Y;c[z+32+4>>2]=Q;c[z+32+8>>2]=K;c[z+32+12>>2]=0.0;Z=(E+S+T+ie)*.25+(T-(E+S+T+ie)*.25)*.800000011920929;J=(R+M+O+ne)*.25+(O-(R+M+O+ne)*.25)*.800000011920929;q=(I+x+P+re)*.25+(P-(I+x+P+re)*.25)*.800000011920929;c[z+16>>2]=Z;c[z+16+4>>2]=J;c[z+16+8>>2]=q;c[z+16+12>>2]=0.0;VF[t&1](N,z+96|0,z+32|0,z+16|0,z+160|0,1.0);t=o[(o[N>>2]|0)+28>>2]|0;c[z+96>>2]=$;c[z+96+4>>2]=ee;c[z+96+8>>2]=te;c[z+96+12>>2]=0.0;c[z+32>>2]=Y;c[z+32+4>>2]=Q;c[z+32+8>>2]=K;c[z+32+12>>2]=0.0;ie=(E+S+T+ie)*.25+(ie-(E+S+T+ie)*.25)*.800000011920929;ne=(R+M+O+ne)*.25+(ne-(R+M+O+ne)*.25)*.800000011920929;re=(I+x+P+re)*.25+(re-(I+x+P+re)*.25)*.800000011920929;c[z+16>>2]=ie;c[z+16+4>>2]=ne;c[z+16+8>>2]=re;c[z+16+12>>2]=0.0;VF[t&1](N,z+96|0,z+32|0,z+16|0,z+160|0,1.0);t=o[(o[N>>2]|0)+28>>2]|0;c[z+96>>2]=Y;c[z+96+4>>2]=Q;c[z+96+8>>2]=K;c[z+96+12>>2]=0.0;c[z+32>>2]=Z;c[z+32+4>>2]=J;c[z+32+8>>2]=q;c[z+32+12>>2]=0.0;c[z+16>>2]=ie;c[z+16+4>>2]=ne;c[z+16+8>>2]=re;c[z+16+12>>2]=0.0;VF[t&1](N,z+96|0,z+32|0,z+16|0,z+160|0,1.0);t=o[(o[N>>2]|0)+28>>2]|0;c[z+96>>2]=Z;c[z+96+4>>2]=J;c[z+96+8>>2]=q;c[z+96+12>>2]=0.0;c[z+32>>2]=$;c[z+32+4>>2]=ee;c[z+32+8>>2]=te;c[z+32+12>>2]=0.0;c[z+16>>2]=ie;c[z+16+4>>2]=ne;c[z+16+8>>2]=re;c[z+16+12>>2]=0.0;VF[t&1](N,z+96|0,z+32|0,z+16|0,z+160|0,1.0);t=o[j+772>>2]|0}r=r+1|0}while((r|0)<(t|0))}}else{ML();t=o[j+1112>>2]|0;if((t|0)>0){L=0;do{if(n[(o[(o[j+1120>>2]|0)+(L<<2)>>2]|0)+377>>0]|0){te=+(Xp()|0)*4.656612873077393e-10;ie=+(Xp()|0)*4.656612873077393e-10;ne=+(Xp()|0)*4.656612873077393e-10;re=1.0/+v(+(ne*ne+(te*te+ie*ie)));c[z+160>>2]=te*re*.75;c[z+160+4>>2]=ie*re*.75;c[z+160+8>>2]=ne*re*.75;c[z+160+12>>2]=0.0;r=o[(o[(o[j+1120>>2]|0)+(L<<2)>>2]|0)+24>>2]|0;if((r|0)>0){o[6747]=(o[6747]|0)+1;t=Do((r<<4|3)+16|0)|0;if(!t)i=0;else{o[(t+4+15&-16)+-4>>2]=t;i=t+4+15&-16}t=0;do{w=i+(t<<4)|0;o[w>>2]=o[z+96>>2];o[w+4>>2]=o[z+96+4>>2];o[w+8>>2]=o[z+96+8>>2];o[w+12>>2]=o[z+96+12>>2];t=t+1|0}while((t|0)!=(r|0));t=0;do{D=(o[(o[(o[(o[j+1120>>2]|0)+(L<<2)>>2]|0)+32>>2]|0)+(t<<2)>>2]|0)+8|0;w=i+(t<<4)|0;o[w>>2]=o[D>>2];o[w+4>>2]=o[D+4>>2];o[w+8>>2]=o[D+8>>2];o[w+12>>2]=o[D+12>>2];t=t+1|0}while((t|0)!=(r|0));w=i;D=i}else{w=0;D=0}n[z+96+16>>0]=1;o[z+96+12>>2]=0;o[z+96+4>>2]=0;o[z+96+8>>2]=0;n[z+96+36>>0]=1;o[W>>2]=0;o[z+96+24>>2]=0;o[z+96+28>>2]=0;n[z+96+56>>0]=1;o[X>>2]=0;o[z+96+44>>2]=0;o[z+96+48>>2]=0;Lo(z+96|0,w,r);d=o[z+96+44>>2]|0;if((d|0)>0){u=o[W>>2]|0;p=0;do{h=o[(o[X>>2]|0)+(p<<2)>>2]|0;i=o[u+(h*12|0)+4>>2]|0;t=u+(h*12|0)+(i*12|0)+((o[u+(h*12|0)+(i*12|0)>>2]|0)*12|0)|0;if((t|0)!=(u+(h*12|0)|0)){f=o[z+96+12>>2]|0;r=o[u+(h*12|0)+(i*12|0)+8>>2]|0;_=o[u+(h*12|0)+8>>2]|0;while(1){i=o[t+8>>2]|0;VF[o[(o[N>>2]|0)+28>>2]&1](N,f+(r<<4)|0,f+(_<<4)|0,f+(i<<4)|0,z+160|0,1.0);r=t+((o[t+4>>2]|0)*12|0)|0;t=r+((o[r>>2]|0)*12|0)|0;if((t|0)==(u+(h*12|0)|0))break;else{r=_;_=i}}}p=p+1|0}while((p|0)<(d|0))}t=o[X>>2]|0;if(t|0){if(n[z+96+56>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[X>>2]=0}n[z+96+56>>0]=1;o[X>>2]=0;o[z+96+44>>2]=0;o[z+96+48>>2]=0;t=o[W>>2]|0;if(t|0){if(n[z+96+36>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[W>>2]=0}n[z+96+36>>0]=1;o[W>>2]=0;o[z+96+24>>2]=0;o[z+96+28>>2]=0;t=o[z+96+12>>2]|0;if(t|0){if(n[z+96+16>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[t+-4>>2]|0)}o[z+96+12>>2]=0}if(!((D|0)==0|(w|0)==0)){o[6748]=(o[6748]|0)+1;Vs(o[w+-4>>2]|0)}t=o[j+1112>>2]|0}L=L+1|0}while((L|0)<(t|0))}}if(F&64|0){if((o[j+792>>2]|0)>0){t=0;do{L=o[j+800>>2]|0;D=o[L+(t*96|0)+20>>2]|0;ee=+c[L+(t*96|0)+4>>2];te=+c[L+(t*96|0)+8>>2];ie=+c[L+(t*96|0)+12>>2];ne=ee*+c[D+20>>2]+te*+c[D+24>>2]+ie*+c[D+28>>2]+ +c[D+56>>2];re=ee*+c[D+36>>2]+te*+c[D+40>>2]+ie*+c[D+44>>2]+ +c[D+60>>2];c[z+32>>2]=ee*+c[D+4>>2]+te*+c[D+8>>2]+ie*+c[D+12>>2]+ +c[D+52>>2];c[z+32+4>>2]=ne;c[z+32+8>>2]=re;c[z+32+12>>2]=0.0;L=L+(t*96|0)|0;D=o[L>>2]|0;o[z+16>>2]=1065353216;o[z+16+4>>2]=0;o[z+16+8>>2]=0;c[z+16+12>>2]=0.0;w=o[(o[N>>2]|0)+8>>2]|0;re=+c[D+8>>2];ne=+c[D+12>>2];ie=+c[D+16>>2];c[z+160>>2]=re+-.25;c[z+160+4>>2]=ne;c[z+160+8>>2]=ie;c[z+160+12>>2]=0.0;c[z+96>>2]=re+.25;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=ie+0.0;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);w=o[(o[N>>2]|0)+8>>2]|0;ie=+c[D+8>>2];ne=+c[D+12>>2];re=+c[D+16>>2];c[z+160>>2]=ie;c[z+160+4>>2]=ne+-.25;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+.25;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);w=o[(o[N>>2]|0)+8>>2]|0;re=+c[D+8>>2];ne=+c[D+12>>2];ie=+c[D+16>>2];c[z+160>>2]=re;c[z+160+4>>2]=ne;c[z+160+8>>2]=ie+-.25;c[z+160+12>>2]=0.0;c[z+96>>2]=re+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=ie+.25;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);o[z+16>>2]=0;o[z+16+4>>2]=1065353216;o[z+16+8>>2]=0;c[z+16+12>>2]=0.0;w=o[(o[N>>2]|0)+8>>2]|0;ie=+c[z+32>>2];ne=+c[z+32+4>>2];re=+c[z+32+8>>2];c[z+160>>2]=ie+-.25;c[z+160+4>>2]=ne;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+.25;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);w=o[(o[N>>2]|0)+8>>2]|0;re=+c[z+32>>2];ne=+c[z+32+4>>2];ie=+c[z+32+8>>2];c[z+160>>2]=re;c[z+160+4>>2]=ne+-.25;c[z+160+8>>2]=ie;c[z+160+12>>2]=0.0;c[z+96>>2]=re+0.0;c[z+96+4>>2]=ne+.25;c[z+96+8>>2]=ie+0.0;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);w=o[(o[N>>2]|0)+8>>2]|0;ie=+c[z+32>>2];ne=+c[z+32+4>>2];re=+c[z+32+8>>2];c[z+160>>2]=ie;c[z+160+4>>2]=ne;c[z+160+8>>2]=re+-.25;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+.25;c[z+96+12>>2]=0.0;BF[w&127](N,z+160|0,z+96|0,z+16|0);w=o[(o[N>>2]|0)+8>>2]|0;L=(o[L>>2]|0)+8|0;o[z+160>>2]=1065353216;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;BF[w&127](N,L,z+32|0,z+160|0);t=t+1|0}while((t|0)<(o[j+792>>2]|0))}t=o[j+712>>2]|0;if((t|0)>0){r=0;do{i=o[j+720>>2]|0;if((o[(o[i+(r*104|0)+4>>2]|0)+16>>2]&1|0)!=0?+c[i+(r*104|0)+88>>2]<=0.0:0){o[z+32>>2]=1065353216;o[z+32+4>>2]=0;o[z+32+8>>2]=0;c[z+32+12>>2]=0.0;t=o[(o[N>>2]|0)+8>>2]|0;D=i+(r*104|0)+8|0;ie=+c[D>>2];w=i+(r*104|0)+12|0;ne=+c[w>>2];L=i+(r*104|0)+16|0;re=+c[L>>2];c[z+160>>2]=ie+-.25;c[z+160+4>>2]=ne;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+.25;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[(o[N>>2]|0)+8>>2]|0;re=+c[D>>2];ne=+c[w>>2];ie=+c[L>>2];c[z+160>>2]=re;c[z+160+4>>2]=ne+-.25;c[z+160+8>>2]=ie;c[z+160+12>>2]=0.0;c[z+96>>2]=re+0.0;c[z+96+4>>2]=ne+.25;c[z+96+8>>2]=ie+0.0;c[z+96+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[(o[N>>2]|0)+8>>2]|0;ie=+c[D>>2];ne=+c[w>>2];re=+c[L>>2];c[z+160>>2]=ie;c[z+160+4>>2]=ne;c[z+160+8>>2]=re+-.25;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+.25;c[z+96+12>>2]=0.0;BF[t&127](N,z+160|0,z+96|0,z+32|0);t=o[j+712>>2]|0}r=r+1|0}while((r|0)<(t|0))}}if(F&128|0?(o[j+692>>2]|0)>0:0){r=0;do{t=o[j+700>>2]|0;i=t+(r*60|0)+8|0;o[z+160>>2]=o[i>>2];o[z+160+4>>2]=o[i+4>>2];o[z+160+8>>2]=o[i+8>>2];o[z+160+12>>2]=o[i+12>>2];i=o[t+(r*60|0)+24>>2]|0;if((i|0)>0){s=+c[z+160+8>>2];a=+c[z+160>>2];l=+c[z+160+4>>2];_=0;do{L=o[t+(r*60|0)+28+(_<<2)>>2]|0;re=+c[t+(r*60|0)+44+(_<<2)>>2];a=+c[L+8>>2]*re+a;l=re*+c[L+12>>2]+l;s=re*+c[L+16>>2]+s;c[z+160+8>>2]=s;_=_+1|0}while((_|0)!=(i|0));c[z+160>>2]=a;c[z+160+4>>2]=l}LF[o[(o[N>>2]|0)+40>>2]&127](N,z+160|0,o[t+(r*60|0)+4>>2]|0);r=r+1|0}while((r|0)<(o[j+692>>2]|0))}if(F&512|0){L=o[j+928>>2]|0;o[z+160>>2]=1065353216;o[z+160+4>>2]=0;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=1065353216;o[z+96+8>>2]=1065353216;c[z+96+12>>2]=0.0;Ge(N,L,0,z+160|0,z+96|0)}if(F&1024|0){L=o[j+988>>2]|0;o[z+160>>2]=0;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=0;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=0;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;Ge(N,L,0,z+160|0,z+96|0)}if(F&2048|0){L=o[j+1048>>2]|0;o[z+160>>2]=0;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=0;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;Ge(N,L,0,z+160|0,z+96|0)}e:do{if(F&4096|0?(o[j+852>>2]|0)>0:0){i=0;while(1){t=o[(o[j+860>>2]|0)+(i<<2)>>2]|0;switch(dF[o[(o[t>>2]|0)+20>>2]&127](t)|0){case 0:{F=Rn(t+4|0)|0;re=+c[t+28>>2];ne=+c[t+32>>2];ie=+c[t+36>>2];te=re*+c[F+16>>2]+ne*+c[F+20>>2]+ie*+c[F+24>>2]+ +c[F+52>>2];ee=re*+c[F+32>>2]+ne*+c[F+36>>2]+ie*+c[F+40>>2]+ +c[F+56>>2];c[z+32>>2]=re*+c[F>>2]+ne*+c[F+4>>2]+ie*+c[F+8>>2]+ +c[F+48>>2];c[z+32+4>>2]=te;c[z+32+8>>2]=ee;c[z+32+12>>2]=0.0;F=Rn(t+16|0)|0;ee=+c[t+44>>2];te=+c[t+48>>2];ie=+c[t+52>>2];ne=ee*+c[F+16>>2]+te*+c[F+20>>2]+ie*+c[F+24>>2]+ +c[F+52>>2];re=ee*+c[F+32>>2]+te*+c[F+36>>2]+ie*+c[F+40>>2]+ +c[F+56>>2];c[z+16>>2]=ee*+c[F>>2]+te*+c[F+4>>2]+ie*+c[F+8>>2]+ +c[F+48>>2];c[z+16+4>>2]=ne;c[z+16+8>>2]=re;c[z+16+12>>2]=0.0;F=o[(o[N>>2]|0)+8>>2]|0;L=(Rn(t+4|0)|0)+48|0;o[z+160>>2]=1065353216;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=0;c[z+160+12>>2]=0.0;BF[F&127](N,L,z+32|0,z+160|0);L=o[(o[N>>2]|0)+8>>2]|0;F=(Rn(t+16|0)|0)+48|0;o[z+160>>2]=0;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;BF[L&127](N,F,z+16|0,z+160|0);o[z>>2]=1065353216;o[z+4>>2]=1065353216;o[z+8>>2]=0;c[z+12>>2]=0.0;F=o[(o[N>>2]|0)+8>>2]|0;re=+c[z+32>>2];ne=+c[z+32+4>>2];ie=+c[z+32+8>>2];c[z+160>>2]=re+-.25;c[z+160+4>>2]=ne;c[z+160+8>>2]=ie;c[z+160+12>>2]=0.0;c[z+96>>2]=re+.25;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=ie+0.0;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);F=o[(o[N>>2]|0)+8>>2]|0;ie=+c[z+32>>2];ne=+c[z+32+4>>2];re=+c[z+32+8>>2];c[z+160>>2]=ie;c[z+160+4>>2]=ne+-.25;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+.25;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);F=o[(o[N>>2]|0)+8>>2]|0;re=+c[z+32>>2];ne=+c[z+32+4>>2];ie=+c[z+32+8>>2];c[z+160>>2]=re;c[z+160+4>>2]=ne;c[z+160+8>>2]=ie+-.25;c[z+160+12>>2]=0.0;c[z+96>>2]=re+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=ie+.25;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);o[z>>2]=0;o[z+4>>2]=1065353216;o[z+8>>2]=1065353216;c[z+12>>2]=0.0;F=o[(o[N>>2]|0)+8>>2]|0;ie=+c[z+16>>2];ne=+c[z+16+4>>2];re=+c[z+16+8>>2];c[z+160>>2]=ie+-.25;c[z+160+4>>2]=ne;c[z+160+8>>2]=re;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+.25;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+0.0;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);F=o[(o[N>>2]|0)+8>>2]|0;re=+c[z+16>>2];ne=+c[z+16+4>>2];ie=+c[z+16+8>>2];c[z+160>>2]=re;c[z+160+4>>2]=ne+-.25;c[z+160+8>>2]=ie;c[z+160+12>>2]=0.0;c[z+96>>2]=re+0.0;c[z+96+4>>2]=ne+.25;c[z+96+8>>2]=ie+0.0;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);F=o[(o[N>>2]|0)+8>>2]|0;ie=+c[z+16>>2];ne=+c[z+16+4>>2];re=+c[z+16+8>>2];c[z+160>>2]=ie;c[z+160+4>>2]=ne;c[z+160+8>>2]=re+-.25;c[z+160+12>>2]=0.0;c[z+96>>2]=ie+0.0;c[z+96+4>>2]=ne+0.0;c[z+96+8>>2]=re+.25;c[z+96+12>>2]=0.0;BF[F&127](N,z+160|0,z+96|0,z);break}case 1:{F=(Rn(t+4|0)|0)+48|0;o[z+160>>2]=o[F>>2];o[z+160+4>>2]=o[F+4>>2];o[z+160+8>>2]=o[F+8>>2];o[z+160+12>>2]=o[F+12>>2];F=(Rn(t+16|0)|0)+48|0;o[z+96>>2]=o[F>>2];o[z+96+4>>2]=o[F+4>>2];o[z+96+8>>2]=o[F+8>>2];o[z+96+12>>2]=o[F+12>>2];F=Rn(t+4|0)|0;q=+c[t+28>>2];J=+c[t+32>>2];te=+c[t+36>>2];$=+c[F>>2]*q+ +c[F+4>>2]*J+ +c[F+8>>2]*te;ee=q*+c[F+16>>2]+J*+c[F+20>>2]+te*+c[F+24>>2];te=q*+c[F+32>>2]+J*+c[F+36>>2]+te*+c[F+40>>2];F=Rn(t+16|0)|0;J=+c[t+44>>2];q=+c[t+48>>2];re=+c[t+52>>2];ie=+c[F>>2]*J+ +c[F+4>>2]*q+ +c[F+8>>2]*re;ne=J*+c[F+16>>2]+q*+c[F+20>>2]+re*+c[F+24>>2];re=J*+c[F+32>>2]+q*+c[F+36>>2]+re*+c[F+40>>2];F=o[(o[N>>2]|0)+8>>2]|0;q=ee*10.0+ +c[z+160+4>>2];J=te*10.0+ +c[z+160+8>>2];c[z+32>>2]=$*10.0+ +c[z+160>>2];c[z+32+4>>2]=q;c[z+32+8>>2]=J;c[z+32+12>>2]=0.0;o[z+16>>2]=1065353216;o[z+16+4>>2]=1065353216;o[z+16+8>>2]=0;c[z+16+12>>2]=0.0;BF[F&127](N,z+160|0,z+32|0,z+16|0);F=o[(o[N>>2]|0)+8>>2]|0;J=ne*10.0+ +c[z+160+4>>2];q=re*10.0+ +c[z+160+8>>2];c[z+32>>2]=ie*10.0+ +c[z+160>>2];c[z+32+4>>2]=J;c[z+32+8>>2]=q;c[z+32+12>>2]=0.0;o[z+16>>2]=1065353216;o[z+16+4>>2]=1065353216;o[z+16+8>>2]=0;c[z+16+12>>2]=0.0;BF[F&127](N,z+160|0,z+32|0,z+16|0);F=o[(o[N>>2]|0)+8>>2]|0;ee=ee*10.0+ +c[z+96+4>>2];te=te*10.0+ +c[z+96+8>>2];c[z+32>>2]=$*10.0+ +c[z+96>>2];c[z+32+4>>2]=ee;c[z+32+8>>2]=te;c[z+32+12>>2]=0.0;o[z+16>>2]=0;o[z+16+4>>2]=1065353216;o[z+16+8>>2]=1065353216;c[z+16+12>>2]=0.0;BF[F&127](N,z+96|0,z+32|0,z+16|0);F=o[(o[N>>2]|0)+8>>2]|0;ne=ne*10.0+ +c[z+96+4>>2];re=re*10.0+ +c[z+96+8>>2];c[z+32>>2]=ie*10.0+ +c[z+96>>2];c[z+32+4>>2]=ne;c[z+32+8>>2]=re;c[z+32+12>>2]=0.0;o[z+16>>2]=0;o[z+16+4>>2]=1065353216;o[z+16+8>>2]=1065353216;c[z+16+12>>2]=0.0;BF[F&127](N,z+96|0,z+32|0,z+16|0);break}default:{}}i=i+1|0;if((i|0)>=(o[j+852>>2]|0))break e}}}while(0)}t=o[e+72>>2]|0;if(t|0?(dF[o[(o[t>>2]|0)+48>>2]&127](t)|0)&2|0:0){if(n[e+348>>0]|0){F=o[e+72>>2]|0;N=o[j+928>>2]|0;o[z+160>>2]=1065353216;o[z+160+4>>2]=0;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=1065353216;o[z+96+8>>2]=1065353216;c[z+96+12>>2]=0.0;Ge(F,N,0,z+160|0,z+96|0)}if(n[e+349>>0]|0){F=o[e+72>>2]|0;N=o[j+988>>2]|0;o[z+160>>2]=0;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=0;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=0;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;Ge(F,N,0,z+160|0,z+96|0)}if(n[e+350>>0]|0){N=o[e+72>>2]|0;j=o[j+1048>>2]|0;o[z+160>>2]=0;o[z+160+4>>2]=1065353216;o[z+160+8>>2]=1065353216;c[z+160+12>>2]=0.0;o[z+96>>2]=1065353216;o[z+96+4>>2]=0;o[z+96+8>>2]=0;c[z+96+12>>2]=0.0;Ge(N,j,0,z+160|0,z+96|0)}}G=G+1|0}while((G|0)<(o[e+328>>2]|0));ae=z;return}function dD(e,t,i,r){e=e|0;t=t|0;i=i|0;r=r|0;var s=0,a=0,l=0.0,_=0,u=0,f=0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,C=0.0,E=0.0,S=0.0,T=0.0,R=0.0,M=0.0,O=0,I=0.0,x=0.0,P=0.0,D=0.0,w=0.0,L=0.0,F=0.0,N=0.0,B=0.0,k=0.0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0,q=0,$=0,ee=0,te=0,ie=0,ne=0.0;ie=ae;ae=ae+80|0;if((i|0)<=0){ae=ie;return}$=0;do{X=o[t+($<<2)>>2]|0;Y=o[X+740>>2]|0;Q=o[X+744>>2]|0;Z=or(e,Y,+c[r+12>>2])|0;J=or(e,Q,+c[r+12>>2])|0;K=o[e+16>>2]|0;if(!(((((+c[K+(Z*244|0)+128>>2]==0.0?+c[K+(Z*244|0)+132>>2]==0.0:0)?+c[K+(Z*244|0)+136>>2]==0.0:0)?+c[K+(J*244|0)+128>>2]==0.0:0)?+c[K+(J*244|0)+132>>2]==0.0:0)?+c[K+(J*244|0)+136>>2]==0.0:0))te=9;if((te|0)==9?(te=0,z=o[X+748>>2]|0,(z|0)>0):0){a=z;ee=0;s=1;do{G=X+4+(ee*184|0)|0;f=X+4+(ee*184|0)+80|0;if(+c[f>>2]<=+c[X+756>>2]){W=o[e+28>>2]|0;if((W|0)==(o[e+32>>2]|0)?(q=(W|0)==0?1:W<<1,(W|0)<(q|0)):0){if(!q){_=W;u=0}else{o[6747]=(o[6747]|0)+1;a=Do((q*152|3)+16|0)|0;if(!a)a=0;else{o[(a+4+15&-16)+-4>>2]=a;a=a+4+15&-16}_=o[e+28>>2]|0;u=a}if((_|0)>0){a=0;do{Tn(u+(a*152|0)|0,(o[e+36>>2]|0)+(a*152|0)|0,152)|0;a=a+1|0}while((a|0)!=(_|0))}a=o[e+36>>2]|0;if(a|0){if(n[e+40>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0)}o[e+36>>2]=0}n[e+40>>0]=1;o[e+36>>2]=u;o[e+32>>2]=q;a=o[e+28>>2]|0}else a=W;o[e+28>>2]=a+1;V=o[e+36>>2]|0;d=(o[Y+236>>2]&2|0)==0?0:Y;h=(o[Q+236>>2]&2|0)==0?0:Q;o[V+(W*152|0)+144>>2]=Z;o[V+(W*152|0)+148>>2]=J;o[V+(W*152|0)+132>>2]=G;R=+c[X+4+(ee*184|0)+48>>2]-+c[Y+52>>2];M=+c[X+4+(ee*184|0)+52>>2]-+c[Y+56>>2];T=+c[X+4+(ee*184|0)+56>>2]-+c[Y+60>>2];c[ie+64>>2]=R;c[ie+64+4>>2]=M;c[ie+64+8>>2]=T;c[ie+64+12>>2]=0.0;x=+c[X+4+(ee*184|0)+32>>2]-+c[Q+52>>2];P=+c[X+4+(ee*184|0)+36>>2]-+c[Q+56>>2];I=+c[X+4+(ee*184|0)+40>>2]-+c[Q+60>>2];c[ie+48>>2]=x;c[ie+48+4>>2]=P;c[ie+48+8>>2]=I;c[ie+48+12>>2]=0.0;if(!(o[K+(Z*244|0)+240>>2]|0)){l=0.0;b=0.0;A=0.0}else{k=+c[K+(Z*244|0)+192>>2]+ +c[K+(Z*244|0)+224>>2];A=+c[K+(Z*244|0)+196>>2]+ +c[K+(Z*244|0)+228>>2];b=+c[K+(Z*244|0)+200>>2]+ +c[K+(Z*244|0)+232>>2];l=+c[K+(Z*244|0)+176>>2]+ +c[K+(Z*244|0)+208>>2]+(T*A-M*b);b=+c[K+(Z*244|0)+180>>2]+ +c[K+(Z*244|0)+212>>2]+(R*b-T*k);A=+c[K+(Z*244|0)+184>>2]+ +c[K+(Z*244|0)+216>>2]+(M*k-R*A)}if(!(o[K+(J*244|0)+240>>2]|0)){p=0.0;m=0.0;g=0.0}else{k=+c[K+(J*244|0)+192>>2]+ +c[K+(J*244|0)+224>>2];g=+c[K+(J*244|0)+196>>2]+ +c[K+(J*244|0)+228>>2];m=+c[K+(J*244|0)+200>>2]+ +c[K+(J*244|0)+232>>2];p=+c[K+(J*244|0)+176>>2]+ +c[K+(J*244|0)+208>>2]+(I*g-P*m);m=+c[K+(J*244|0)+180>>2]+ +c[K+(J*244|0)+212>>2]+(x*m-I*k);g=+c[K+(J*244|0)+184>>2]+ +c[K+(J*244|0)+216>>2]+(P*k-x*g)}k=l-p;B=b-m;N=A-g;j=X+4+(ee*184|0)+64|0;w=+c[j>>2];H=X+4+(ee*184|0)+68|0;L=+c[H>>2];U=X+4+(ee*184|0)+72|0;F=+c[U>>2];u=o[e+16>>2]|0;a=o[u+(Z*244|0)+240>>2]|0;_=o[u+(J*244|0)+240>>2]|0;if(a|0){l=((M*F-T*L)*+c[a+264>>2]+(T*w-F*R)*+c[a+268>>2]+(L*R-M*w)*+c[a+272>>2])*+c[a+544>>2];p=((M*F-T*L)*+c[a+280>>2]+(T*w-F*R)*+c[a+284>>2]+(L*R-M*w)*+c[a+288>>2])*+c[a+548>>2];b=((M*F-T*L)*+c[a+296>>2]+(T*w-F*R)*+c[a+300>>2]+(L*R-M*w)*+c[a+304>>2])*+c[a+552>>2]}else{l=0.0;p=0.0;b=0.0}c[V+(W*152|0)+64>>2]=l;c[V+(W*152|0)+68>>2]=p;c[V+(W*152|0)+72>>2]=b;c[V+(W*152|0)+76>>2]=0.0;C=+c[U>>2];E=+c[H>>2];S=+c[j>>2];if(_|0){m=(+c[_+264>>2]*-(P*C-I*E)+ +c[_+268>>2]*-(I*S-C*x)+ +c[_+272>>2]*-(E*x-P*S))*+c[_+544>>2];A=(+c[_+280>>2]*-(P*C-I*E)+ +c[_+284>>2]*-(I*S-C*x)+ +c[_+288>>2]*-(E*x-P*S))*+c[_+548>>2];g=(+c[_+296>>2]*-(P*C-I*E)+ +c[_+300>>2]*-(I*S-C*x)+ +c[_+304>>2]*-(E*x-P*S))*+c[_+552>>2]}else{m=0.0;A=0.0;g=0.0}c[V+(W*152|0)+80>>2]=m;c[V+(W*152|0)+84>>2]=A;c[V+(W*152|0)+88>>2]=g;c[V+(W*152|0)+92>>2]=0.0;if(a|0)p=+c[a+344>>2]+((p*T-b*M)*+c[j>>2]+(b*R-T*l)*+c[H>>2]+(M*l-p*R)*+c[U>>2]);else p=0.0;if(_|0){D=-m;l=-A;g=-g;l=+c[_+344>>2]+((I*l-P*g)*+c[j>>2]+(x*g-I*D)*+c[H>>2]+(P*D-x*l)*+c[U>>2])}else l=0.0;c[V+(W*152|0)+108>>2]=1.0/(p+l);if(a|0){o[V+(W*152|0)+16>>2]=o[j>>2];o[V+(W*152|0)+16+4>>2]=o[j+4>>2];o[V+(W*152|0)+16+8>>2]=o[j+8>>2];o[V+(W*152|0)+16+12>>2]=o[j+12>>2];c[V+(W*152|0)>>2]=M*F-T*L;c[V+(W*152|0)+4>>2]=T*w-F*R;c[V+(W*152|0)+8>>2]=L*R-M*w;c[V+(W*152|0)+12>>2]=0.0}else{o[V+(W*152|0)>>2]=0;o[V+(W*152|0)+4>>2]=0;o[V+(W*152|0)+8>>2]=0;o[V+(W*152|0)+12>>2]=0;o[V+(W*152|0)+16>>2]=0;o[V+(W*152|0)+20>>2]=0;o[V+(W*152|0)+24>>2]=0;o[V+(W*152|0)+28>>2]=0}if(_|0){g=-+c[H>>2];D=-+c[U>>2];c[V+(W*152|0)+48>>2]=-+c[j>>2];c[V+(W*152|0)+52>>2]=g;c[V+(W*152|0)+56>>2]=D;c[V+(W*152|0)+60>>2]=0.0;c[V+(W*152|0)+32>>2]=-(P*C-I*E);c[V+(W*152|0)+36>>2]=-(I*S-C*x);c[V+(W*152|0)+40>>2]=-(E*x-P*S);c[V+(W*152|0)+44>>2]=0.0}else{o[V+(W*152|0)+32>>2]=0;o[V+(W*152|0)+32+4>>2]=0;o[V+(W*152|0)+32+8>>2]=0;o[V+(W*152|0)+32+12>>2]=0;o[V+(W*152|0)+32+16>>2]=0;o[V+(W*152|0)+32+20>>2]=0;o[V+(W*152|0)+32+24>>2]=0;o[V+(W*152|0)+32+28>>2]=0}D=+c[f>>2]+ +c[r+56>>2];if(a|0){m=+c[a+332>>2];A=+c[a+336>>2];S=+c[a+328>>2];g=m*T-A*M+ +c[a+312>>2];A=+c[a+316>>2]+(A*R-T*S);m=M*S-m*R+ +c[a+320>>2]}else{g=0.0;A=0.0;m=0.0}if(_|0){l=+c[_+332>>2];p=+c[_+336>>2];M=+c[_+328>>2];b=l*I-p*P+ +c[_+312>>2];p=+c[_+316>>2]+(p*x-I*M);l=P*M-l*x+ +c[_+320>>2]}else{b=0.0;p=0.0;l=0.0}I=(g-b)*+c[j>>2]+(A-p)*+c[H>>2]+(m-l)*+c[U>>2];o[V+(W*152|0)+104>>2]=o[X+4+(ee*184|0)+84>>2];I=I*+c[X+4+(ee*184|0)+92>>2];I=I>=-0.0?0.0:-I;do{if(!(o[r+64>>2]&4))c[V+(W*152|0)+100>>2]=0.0;else{l=+c[X+4+(ee*184|0)+120>>2]*+c[r+60>>2];c[V+(W*152|0)+100>>2]=l;do{if(a|0){if(!(o[u+(Z*244|0)+240>>2]|0))break;P=l*(+c[V+(W*152|0)+20>>2]*+c[u+(Z*244|0)+132>>2]*+c[a+352>>2])*+c[u+(Z*244|0)+116>>2];x=l*(+c[V+(W*152|0)+24>>2]*+c[u+(Z*244|0)+136>>2]*+c[a+356>>2])*+c[u+(Z*244|0)+120>>2];c[u+(Z*244|0)+64>>2]=+c[u+(Z*244|0)+112>>2]*(l*(+c[V+(W*152|0)+16>>2]*+c[u+(Z*244|0)+128>>2]*+c[a+348>>2]))+ +c[u+(Z*244|0)+64>>2];c[u+(Z*244|0)+68>>2]=P+ +c[u+(Z*244|0)+68>>2];c[u+(Z*244|0)+72>>2]=x+ +c[u+(Z*244|0)+72>>2];x=l*+c[u+(Z*244|0)+100>>2]*+c[V+(W*152|0)+68>>2];P=l*+c[u+(Z*244|0)+104>>2]*+c[V+(W*152|0)+72>>2];c[u+(Z*244|0)+80>>2]=l*+c[u+(Z*244|0)+96>>2]*+c[V+(W*152|0)+64>>2]+ +c[u+(Z*244|0)+80>>2];c[u+(Z*244|0)+84>>2]=x+ +c[u+(Z*244|0)+84>>2];c[u+(Z*244|0)+88>>2]=P+ +c[u+(Z*244|0)+88>>2]}}while(0);if(!_)break;l=+c[V+(W*152|0)+100>>2];if(!(o[u+(J*244|0)+240>>2]|0))break;P=+c[V+(W*152|0)+88>>2];x=+c[V+(W*152|0)+84>>2];M=+c[V+(W*152|0)+80>>2];T=l*(+c[V+(W*152|0)+52>>2]*+c[u+(J*244|0)+132>>2]*+c[_+352>>2])*+c[u+(J*244|0)+116>>2];R=l*(+c[V+(W*152|0)+56>>2]*+c[u+(J*244|0)+136>>2]*+c[_+356>>2])*+c[u+(J*244|0)+120>>2];c[u+(J*244|0)+64>>2]=+c[u+(J*244|0)+112>>2]*(l*(+c[V+(W*152|0)+48>>2]*+c[u+(J*244|0)+128>>2]*+c[_+348>>2]))+ +c[u+(J*244|0)+64>>2];c[u+(J*244|0)+68>>2]=T+ +c[u+(J*244|0)+68>>2];c[u+(J*244|0)+72>>2]=R+ +c[u+(J*244|0)+72>>2];x=x*(+c[u+(J*244|0)+100>>2]*-l);P=P*(+c[u+(J*244|0)+104>>2]*-l);c[u+(J*244|0)+80>>2]=+c[u+(J*244|0)+80>>2]-M*(+c[u+(J*244|0)+96>>2]*-l);c[u+(J*244|0)+84>>2]=+c[u+(J*244|0)+84>>2]-x;c[u+(J*244|0)+88>>2]=+c[u+(J*244|0)+88>>2]-P}}while(0);c[V+(W*152|0)+96>>2]=0.0;if(!(o[u+(Z*244|0)+240>>2]|0)){l=0.0;p=0.0;b=0.0;m=0.0;A=0.0;g=0.0}else{l=+c[u+(Z*244|0)+208>>2];p=+c[u+(Z*244|0)+212>>2];b=+c[u+(Z*244|0)+216>>2];m=+c[u+(Z*244|0)+224>>2];A=+c[u+(Z*244|0)+228>>2];g=+c[u+(Z*244|0)+232>>2]}if(!(o[u+(J*244|0)+240>>2]|0)){C=0.0;E=0.0;S=0.0;T=0.0;R=0.0;M=0.0}else{C=+c[u+(J*244|0)+208>>2];E=+c[u+(J*244|0)+212>>2];S=+c[u+(J*244|0)+216>>2];T=+c[u+(J*244|0)+224>>2];R=+c[u+(J*244|0)+228>>2];M=+c[u+(J*244|0)+232>>2]}l=I-((l+ +c[u+(Z*244|0)+176>>2])*+c[V+(W*152|0)+16>>2]+(p+ +c[u+(Z*244|0)+180>>2])*+c[V+(W*152|0)+20>>2]+(b+ +c[u+(Z*244|0)+184>>2])*+c[V+(W*152|0)+24>>2]+((m+ +c[u+(Z*244|0)+192>>2])*+c[V+(W*152|0)>>2]+(A+ +c[u+(Z*244|0)+196>>2])*+c[V+(W*152|0)+4>>2]+(g+ +c[u+(Z*244|0)+200>>2])*+c[V+(W*152|0)+8>>2])+((C+ +c[u+(J*244|0)+176>>2])*+c[V+(W*152|0)+48>>2]+(E+ +c[u+(J*244|0)+180>>2])*+c[V+(W*152|0)+52>>2]+(S+ +c[u+(J*244|0)+184>>2])*+c[V+(W*152|0)+56>>2]+((T+ +c[u+(J*244|0)+192>>2])*+c[V+(W*152|0)+32>>2]+(R+ +c[u+(J*244|0)+196>>2])*+c[V+(W*152|0)+36>>2]+(M+ +c[u+(J*244|0)+200>>2])*+c[V+(W*152|0)+40>>2])));a=(o[r+44>>2]|0)==0;if(D>0.0){p=0.0;l=l-D/+c[r+12>>2]}else p=-(D*(a|D>+c[r+48>>2]?+c[r+32>>2]:+c[r+36>>2]))/+c[r+12>>2];x=+c[V+(W*152|0)+108>>2];P=p*x;x=l*x;O=a|D>+c[r+48>>2];c[V+(W*152|0)+112>>2]=O?P+x:x;c[V+(W*152|0)+128>>2]=O?0.0:P;c[V+(W*152|0)+116>>2]=0.0;c[V+(W*152|0)+120>>2]=0.0;c[V+(W*152|0)+124>>2]=1.0e10;o[V+(W*152|0)+140>>2]=o[e+68>>2];if(!d){p=0.0;A=0.0;g=0.0}else{p=+c[d+328>>2];A=+c[d+332>>2];g=+c[d+336>>2]}if(!h){l=0.0;b=0.0;m=0.0}else{l=+c[h+328>>2];b=+c[h+332>>2];m=+c[h+336>>2]}C=l-p;p=b-A;m=m-g;c[ie+32>>2]=C;c[ie+32+4>>2]=p;c[ie+32+8>>2]=m;c[ie+32+12>>2]=0.0;do{if((s|0)>0?+c[X+4+(ee*184|0)+88>>2]>0.0:0){s=s+-1|0;l=+v(+(C*C+p*p+m*m));if(l>+c[r+80>>2]){c[ie+32>>2]=C*(1.0/l);c[ie+32+4>>2]=p*(1.0/l);c[ie+32+8>>2]=m*(1.0/l);if(!(o[Y+180>>2]&2)){b=C*(1.0/l);p=p*(1.0/l);l=m*(1.0/l)}else{g=+c[Y+4>>2];S=+c[Y+20>>2];M=+c[Y+36>>2];E=+c[Y+8>>2];T=+c[Y+24>>2];x=+c[Y+40>>2];b=+c[Y+12>>2];R=+c[Y+28>>2];D=+c[Y+44>>2];I=(C*(1.0/l)*g+p*(1.0/l)*S+m*(1.0/l)*M)*+c[Y+164>>2];P=(C*(1.0/l)*E+p*(1.0/l)*T+m*(1.0/l)*x)*+c[Y+168>>2];l=(C*(1.0/l)*b+p*(1.0/l)*R+m*(1.0/l)*D)*+c[Y+172>>2];c[ie+32>>2]=g*I+E*P+b*l;c[ie+32+4>>2]=S*I+T*P+R*l;c[ie+32+8>>2]=M*I+x*P+D*l;c[ie+32+12>>2]=0.0;b=g*I+E*P+b*l;p=S*I+T*P+R*l;l=M*I+x*P+D*l}if(o[Q+180>>2]&2){g=+c[Q+4>>2];S=+c[Q+20>>2];M=+c[Q+36>>2];C=+c[Q+8>>2];T=+c[Q+24>>2];x=+c[Q+40>>2];E=+c[Q+12>>2];R=+c[Q+28>>2];D=+c[Q+44>>2];I=(g*b+S*p+M*l)*+c[Q+164>>2];P=(b*C+p*T+l*x)*+c[Q+168>>2];l=(b*E+p*R+l*D)*+c[Q+172>>2];c[ie+32>>2]=g*I+C*P+E*l;c[ie+32+4>>2]=S*I+T*P+R*l;c[ie+32+8>>2]=M*I+x*P+D*l;c[ie+32+12>>2]=0.0;b=g*I+C*P+E*l;p=S*I+T*P+R*l;l=M*I+x*P+D*l}if(!(+v(+(b*b+p*p+l*l))>.001))break;Zn(e,ie+32|0,Z,J,W,G);break}Zn(e,j,Z,J,W,G);l=+c[U>>2];if(+y(+l)>.7071067690849304){p=+c[H>>2];D=1.0/+v(+(l*l+p*p));c[ie+16>>2]=0.0;c[ie+16+4>>2]=-(l*D);c[ie+16+8>>2]=p*D;c[ie>>2]=(l*l+p*p)*D;P=+c[j>>2];c[ie+4>>2]=-(P*(p*D));b=0.0;A=-(l*D);g=p*D;m=(l*l+p*p)*D;p=-(P*(p*D));l=P*-(l*D)}else{x=+c[j>>2];P=+c[H>>2];D=1.0/+v(+(x*x+P*P));c[ie+16>>2]=-(P*D);c[ie+16+4>>2]=x*D;c[ie+16+8>>2]=0.0;c[ie>>2]=-(l*(x*D));c[ie+4>>2]=l*-(P*D);b=-(P*D);A=x*D;g=0.0;m=-(l*(x*D));p=l*-(P*D);l=(x*x+P*P)*D}c[ie+8>>2]=l;_=(o[Y+180>>2]&2|0)==0;if(!_){ne=+c[Y+4>>2];S=+c[Y+20>>2];M=+c[Y+36>>2];C=+c[Y+8>>2];T=+c[Y+24>>2];x=+c[Y+40>>2];E=+c[Y+12>>2];R=+c[Y+28>>2];D=+c[Y+44>>2];I=(ne*b+S*A+M*g)*+c[Y+164>>2];P=(b*C+A*T+g*x)*+c[Y+168>>2];g=(b*E+A*R+g*D)*+c[Y+172>>2];c[ie+16>>2]=ne*I+C*P+E*g;c[ie+16+4>>2]=S*I+T*P+R*g;c[ie+16+8>>2]=M*I+x*P+D*g;c[ie+16+12>>2]=0.0;b=ne*I+C*P+E*g;A=S*I+T*P+R*g;g=M*I+x*P+D*g}a=(o[Q+180>>2]&2|0)==0;if(!a){C=+c[Q+4>>2];T=+c[Q+20>>2];I=+c[Q+36>>2];E=+c[Q+8>>2];R=+c[Q+24>>2];P=+c[Q+40>>2];S=+c[Q+12>>2];M=+c[Q+28>>2];ne=+c[Q+44>>2];x=(C*b+T*A+I*g)*+c[Q+164>>2];D=(b*E+A*R+g*P)*+c[Q+168>>2];g=(b*S+A*M+g*ne)*+c[Q+172>>2];c[ie+16>>2]=C*x+E*D+S*g;c[ie+16+4>>2]=T*x+R*D+M*g;c[ie+16+8>>2]=I*x+P*D+ne*g;c[ie+16+12>>2]=0.0;b=C*x+E*D+S*g;A=T*x+R*D+M*g;g=I*x+P*D+ne*g}if(!_){C=+c[Y+4>>2];T=+c[Y+20>>2];I=+c[Y+36>>2];E=+c[Y+8>>2];R=+c[Y+24>>2];P=+c[Y+40>>2];S=+c[Y+12>>2];M=+c[Y+28>>2];ne=+c[Y+44>>2];x=(C*m+T*p+l*I)*+c[Y+164>>2];D=(m*E+p*R+l*P)*+c[Y+168>>2];l=(m*S+p*M+l*ne)*+c[Y+172>>2];c[ie>>2]=C*x+E*D+S*l;c[ie+4>>2]=T*x+R*D+M*l;c[ie+8>>2]=I*x+P*D+ne*l;c[ie+12>>2]=0.0;m=C*x+E*D+S*l;p=T*x+R*D+M*l;l=I*x+P*D+ne*l}if(!a){C=+c[Q+4>>2];T=+c[Q+20>>2];I=+c[Q+36>>2];E=+c[Q+8>>2];R=+c[Q+24>>2];P=+c[Q+40>>2];S=+c[Q+12>>2];M=+c[Q+28>>2];ne=+c[Q+44>>2];x=(C*m+T*p+I*l)*+c[Q+164>>2];D=(m*E+p*R+l*P)*+c[Q+168>>2];l=(m*S+p*M+l*ne)*+c[Q+172>>2];c[ie>>2]=C*x+E*D+S*l;c[ie+4>>2]=T*x+R*D+M*l;c[ie+8>>2]=I*x+P*D+ne*l;c[ie+12>>2]=0.0;m=C*x+E*D+S*l;p=T*x+R*D+M*l;l=I*x+P*D+ne*l}if(+v(+(b*b+A*A+g*g))>.001)Zn(e,ie+16|0,Z,J,W,G);if(+v(+(m*m+p*p+l*l))>.001)Zn(e,ie,Z,J,W,G)}}while(0);do{if(!(o[r+64>>2]&32))te=93;else{if(!(n[X+4+(ee*184|0)+116>>0]|0)){te=93;break}Rs(e,X+4+(ee*184|0)+152|0,Z,J,W,G,ie+64|0,ie+48|0,1.0,+c[X+4+(ee*184|0)+132>>2],+c[X+4+(ee*184|0)+140>>2]);if(!(o[r+64>>2]&16))break;Rs(e,X+4+(ee*184|0)+168|0,Z,J,W,G,ie+64|0,ie+48|0,1.0,+c[X+4+(ee*184|0)+136>>2],+c[X+4+(ee*184|0)+144>>2])}}while(0);do{if((te|0)==93){te=0;C=+c[j>>2];E=+c[H>>2];S=+c[U>>2];p=k-(k*w+B*L+N*F)*C;A=B-(k*w+B*L+N*F)*E;m=N-(k*w+B*L+N*F)*S;a=X+4+(ee*184|0)+152|0;c[X+4+(ee*184|0)+152>>2]=p;d=X+4+(ee*184|0)+156|0;c[d>>2]=A;h=X+4+(ee*184|0)+160|0;c[h>>2]=m;O=X+4+(ee*184|0)+164|0;c[O>>2]=0.0;if((o[r+64>>2]&64|0)==0?p*p+A*A+m*m>1.1920928955078125e-07:0){l=1.0/+v(+(p*p+A*A+m*m));c[a>>2]=p*l;c[d>>2]=A*l;c[h>>2]=m*l;if(!(o[Y+180>>2]&1)){b=p*l;p=A*l;l=m*l}else{x=+c[Y+4>>2];D=+c[Y+20>>2];F=+c[Y+36>>2];P=+c[Y+8>>2];w=+c[Y+24>>2];B=+c[Y+40>>2];b=+c[Y+12>>2];L=+c[Y+28>>2];ne=+c[Y+44>>2];N=(p*l*x+A*l*D+m*l*F)*+c[Y+164>>2];k=(p*l*P+A*l*w+m*l*B)*+c[Y+168>>2];l=(p*l*b+A*l*L+m*l*ne)*+c[Y+172>>2];c[a>>2]=x*N+P*k+b*l;c[d>>2]=D*N+w*k+L*l;c[h>>2]=F*N+B*k+ne*l;c[O>>2]=0.0;b=x*N+P*k+b*l;p=D*N+w*k+L*l;l=F*N+B*k+ne*l}if(o[Q+180>>2]&1|0){M=+c[Q+4>>2];P=+c[Q+20>>2];L=+c[Q+36>>2];I=+c[Q+8>>2];D=+c[Q+24>>2];N=+c[Q+40>>2];x=+c[Q+12>>2];w=+c[Q+28>>2];k=+c[Q+44>>2];F=(M*b+P*p+L*l)*+c[Q+164>>2];B=(b*I+p*D+l*N)*+c[Q+168>>2];ne=(b*x+p*w+l*k)*+c[Q+172>>2];c[a>>2]=M*F+I*B+x*ne;c[d>>2]=P*F+D*B+w*ne;c[h>>2]=L*F+N*B+k*ne;c[O>>2]=0.0}Rs(e,a,Z,J,W,G,ie+64|0,ie+48|0,1.0,0.0,0.0);if(!(o[r+64>>2]&16))break;k=+c[d>>2];b=+c[U>>2];F=+c[h>>2];N=+c[H>>2];ne=+c[j>>2];B=+c[a>>2];a=X+4+(ee*184|0)+168|0;c[X+4+(ee*184|0)+168>>2]=k*b-F*N;_=X+4+(ee*184|0)+172|0;u=X+4+(ee*184|0)+176|0;f=X+4+(ee*184|0)+180|0;c[f>>2]=0.0;l=1.0/+v(+((k*b-F*N)*(k*b-F*N)+(F*ne-b*B)*(F*ne-b*B)+(N*B-k*ne)*(N*B-k*ne)));p=(k*b-F*N)*l;c[a>>2]=p;b=(F*ne-b*B)*l;c[_>>2]=b;l=(N*B-k*ne)*l;c[u>>2]=l;if(o[Y+180>>2]&1){I=+c[Y+4>>2];D=+c[Y+20>>2];F=+c[Y+36>>2];x=+c[Y+8>>2];w=+c[Y+24>>2];B=+c[Y+40>>2];P=+c[Y+12>>2];L=+c[Y+28>>2];ne=+c[Y+44>>2];N=(p*I+b*D+l*F)*+c[Y+164>>2];k=(p*x+b*w+l*B)*+c[Y+168>>2];l=(p*P+b*L+l*ne)*+c[Y+172>>2];c[a>>2]=I*N+x*k+P*l;c[_>>2]=D*N+w*k+L*l;c[u>>2]=F*N+B*k+ne*l;c[f>>2]=0.0;p=I*N+x*k+P*l;b=D*N+w*k+L*l;l=F*N+B*k+ne*l}if(o[Q+180>>2]&1|0){M=+c[Q+4>>2];P=+c[Q+20>>2];L=+c[Q+36>>2];I=+c[Q+8>>2];D=+c[Q+24>>2];N=+c[Q+40>>2];x=+c[Q+12>>2];w=+c[Q+28>>2];k=+c[Q+44>>2];F=(M*p+P*b+L*l)*+c[Q+164>>2];B=(p*I+b*D+l*N)*+c[Q+168>>2];ne=(p*x+b*w+l*k)*+c[Q+172>>2];c[a>>2]=M*F+I*B+x*ne;c[_>>2]=P*F+D*B+w*ne;c[u>>2]=L*F+N*B+k*ne;c[f>>2]=0.0}Rs(e,a,Z,J,W,G,ie+64|0,ie+48|0,1.0,0.0,0.0);break}f=X+4+(ee*184|0)+168|0;if(+y(+S)>.7071067690849304){m=1.0/+v(+(E*E+S*S));c[a>>2]=0.0;c[d>>2]=-(S*m);c[h>>2]=E*m;b=0.0;p=-(S*m);l=E*m;A=(E*E+S*S)*m;g=-(C*(E*m));m=C*-(S*m)}else{m=1.0/+v(+(C*C+E*E));c[a>>2]=-(E*m);c[d>>2]=C*m;c[h>>2]=0.0;b=-(E*m);p=C*m;l=0.0;A=-(S*(C*m));g=S*-(E*m);m=(C*C+E*E)*m}c[f>>2]=A;u=X+4+(ee*184|0)+172|0;c[u>>2]=g;_=X+4+(ee*184|0)+176|0;c[_>>2]=m;if(o[Y+180>>2]&1){I=+c[Y+4>>2];D=+c[Y+20>>2];F=+c[Y+36>>2];x=+c[Y+8>>2];w=+c[Y+24>>2];B=+c[Y+40>>2];P=+c[Y+12>>2];L=+c[Y+28>>2];ne=+c[Y+44>>2];N=(I*b+D*p+F*l)*+c[Y+164>>2];k=(b*x+p*w+l*B)*+c[Y+168>>2];l=(b*P+p*L+l*ne)*+c[Y+172>>2];c[a>>2]=I*N+x*k+P*l;c[d>>2]=D*N+w*k+L*l;c[h>>2]=F*N+B*k+ne*l;c[O>>2]=0.0;b=I*N+x*k+P*l;p=D*N+w*k+L*l;l=F*N+B*k+ne*l}if(o[Q+180>>2]&1|0){M=+c[Q+4>>2];P=+c[Q+20>>2];L=+c[Q+36>>2];I=+c[Q+8>>2];D=+c[Q+24>>2];N=+c[Q+40>>2];x=+c[Q+12>>2];w=+c[Q+28>>2];k=+c[Q+44>>2];F=(M*b+P*p+L*l)*+c[Q+164>>2];B=(b*I+p*D+l*N)*+c[Q+168>>2];ne=(b*x+p*w+l*k)*+c[Q+172>>2];c[a>>2]=M*F+I*B+x*ne;c[d>>2]=P*F+D*B+w*ne;c[h>>2]=L*F+N*B+k*ne;c[O>>2]=0.0}Rs(e,a,Z,J,W,G,ie+64|0,ie+48|0,1.0,0.0,0.0);a=o[r+64>>2]|0;if(a&16){if(o[Y+180>>2]&1|0){M=+c[Y+4>>2];T=+c[f>>2];P=+c[Y+20>>2];R=+c[u>>2];L=+c[Y+36>>2];ne=+c[_>>2];I=+c[Y+8>>2];D=+c[Y+24>>2];N=+c[Y+40>>2];x=+c[Y+12>>2];w=+c[Y+28>>2];k=+c[Y+44>>2];F=(M*T+P*R+L*ne)*+c[Y+164>>2];B=(T*I+R*D+ne*N)*+c[Y+168>>2];ne=(T*x+R*w+ne*k)*+c[Y+172>>2];c[f>>2]=M*F+I*B+x*ne;c[u>>2]=P*F+D*B+w*ne;c[_>>2]=L*F+N*B+k*ne;c[X+4+(ee*184|0)+180>>2]=0.0}if(o[Q+180>>2]&1|0){M=+c[Q+4>>2];T=+c[f>>2];P=+c[Q+20>>2];R=+c[u>>2];L=+c[Q+36>>2];ne=+c[_>>2];I=+c[Q+8>>2];D=+c[Q+24>>2];N=+c[Q+40>>2];x=+c[Q+12>>2];w=+c[Q+28>>2];k=+c[Q+44>>2];F=(M*T+P*R+L*ne)*+c[Q+164>>2];B=(T*I+R*D+ne*N)*+c[Q+168>>2];ne=(T*x+R*w+ne*k)*+c[Q+172>>2];c[f>>2]=M*F+I*B+x*ne;c[u>>2]=P*F+D*B+w*ne;c[_>>2]=L*F+N*B+k*ne;c[X+4+(ee*184|0)+180>>2]=0.0}Rs(e,f,Z,J,W,G,ie+64|0,ie+48|0,1.0,0.0,0.0);a=o[r+64>>2]|0}if((a&80|0)!=80)break;n[X+4+(ee*184|0)+116>>0]=1}}while(0);f=o[e+16>>2]|0;d=o[f+(Z*244|0)+240>>2]|0;h=o[f+(J*244|0)+240>>2]|0;_=o[V+(W*152|0)+140>>2]|0;u=o[e+76>>2]|0;a=o[r+64>>2]|0;do{if(!(a&4))c[u+(_*152|0)+100>>2]=0.0;else{l=+c[X+4+(ee*184|0)+124>>2]*+c[r+60>>2];c[u+(_*152|0)+100>>2]=l;if(d|0){B=+c[d+344>>2];ne=l*(B*+c[u+(_*152|0)+20>>2]*+c[d+352>>2])*+c[f+(Z*244|0)+116>>2];k=l*(B*+c[u+(_*152|0)+24>>2]*+c[d+356>>2])*+c[f+(Z*244|0)+120>>2];c[f+(Z*244|0)+64>>2]=l*(B*+c[u+(_*152|0)+16>>2]*+c[d+348>>2])*+c[f+(Z*244|0)+112>>2]+ +c[f+(Z*244|0)+64>>2];c[f+(Z*244|0)+68>>2]=ne+ +c[f+(Z*244|0)+68>>2];c[f+(Z*244|0)+72>>2]=k+ +c[f+(Z*244|0)+72>>2];k=l*+c[f+(Z*244|0)+100>>2]*+c[u+(_*152|0)+68>>2];ne=l*+c[f+(Z*244|0)+104>>2]*+c[u+(_*152|0)+72>>2];c[f+(Z*244|0)+80>>2]=l*+c[f+(Z*244|0)+96>>2]*+c[u+(_*152|0)+64>>2]+ +c[f+(Z*244|0)+80>>2];c[f+(Z*244|0)+84>>2]=k+ +c[f+(Z*244|0)+84>>2];c[f+(Z*244|0)+88>>2]=ne+ +c[f+(Z*244|0)+88>>2]}if(!h)break;w=+c[h+344>>2];N=+c[u+(_*152|0)+80>>2];k=+c[u+(_*152|0)+84>>2];ne=+c[u+(_*152|0)+88>>2];B=+c[u+(_*152|0)+100>>2];L=+c[u+(_*152|0)+52>>2]*w*+c[h+352>>2]*B*+c[f+(J*244|0)+116>>2];F=+c[u+(_*152|0)+56>>2]*w*+c[h+356>>2]*B*+c[f+(J*244|0)+120>>2];c[f+(J*244|0)+64>>2]=+c[u+(_*152|0)+48>>2]*w*+c[h+348>>2]*B*+c[f+(J*244|0)+112>>2]+ +c[f+(J*244|0)+64>>2];c[f+(J*244|0)+68>>2]=L+ +c[f+(J*244|0)+68>>2];c[f+(J*244|0)+72>>2]=F+ +c[f+(J*244|0)+72>>2];k=k*(+c[f+(J*244|0)+100>>2]*-B);ne=ne*(+c[f+(J*244|0)+104>>2]*-B);c[f+(J*244|0)+80>>2]=+c[f+(J*244|0)+80>>2]-N*(+c[f+(J*244|0)+96>>2]*-B);c[f+(J*244|0)+84>>2]=+c[f+(J*244|0)+84>>2]-k;c[f+(J*244|0)+88>>2]=+c[f+(J*244|0)+88>>2]-ne}}while(0);do{if(a&16|0){if(!(a&4)){c[u+((_+1|0)*152|0)+100>>2]=0.0;break}l=+c[X+4+(ee*184|0)+128>>2]*+c[r+60>>2];c[u+((_+1|0)*152|0)+100>>2]=l;if(d|0){B=+c[d+344>>2];ne=l*(B*+c[u+((_+1|0)*152|0)+20>>2])*+c[f+(Z*244|0)+116>>2];k=l*(B*+c[u+((_+1|0)*152|0)+24>>2])*+c[f+(Z*244|0)+120>>2];c[f+(Z*244|0)+64>>2]=l*(B*+c[u+((_+1|0)*152|0)+16>>2])*+c[f+(Z*244|0)+112>>2]+ +c[f+(Z*244|0)+64>>2];c[f+(Z*244|0)+68>>2]=ne+ +c[f+(Z*244|0)+68>>2];c[f+(Z*244|0)+72>>2]=k+ +c[f+(Z*244|0)+72>>2];k=l*+c[f+(Z*244|0)+100>>2]*+c[u+((_+1|0)*152|0)+68>>2];ne=l*+c[f+(Z*244|0)+104>>2]*+c[u+((_+1|0)*152|0)+72>>2];c[f+(Z*244|0)+80>>2]=l*+c[f+(Z*244|0)+96>>2]*+c[u+((_+1|0)*152|0)+64>>2]+ +c[f+(Z*244|0)+80>>2];c[f+(Z*244|0)+84>>2]=k+ +c[f+(Z*244|0)+84>>2];c[f+(Z*244|0)+88>>2]=ne+ +c[f+(Z*244|0)+88>>2]}if(!h)break;w=+c[h+344>>2];N=+c[u+((_+1|0)*152|0)+80>>2];k=+c[u+((_+1|0)*152|0)+84>>2];ne=+c[u+((_+1|0)*152|0)+88>>2];B=+c[u+((_+1|0)*152|0)+100>>2];L=+c[u+((_+1|0)*152|0)+52>>2]*w*B*+c[f+(J*244|0)+116>>2];F=+c[u+((_+1|0)*152|0)+56>>2]*w*B*+c[f+(J*244|0)+120>>2];c[f+(J*244|0)+64>>2]=+c[u+((_+1|0)*152|0)+48>>2]*w*B*+c[f+(J*244|0)+112>>2]+ +c[f+(J*244|0)+64>>2];c[f+(J*244|0)+68>>2]=L+ +c[f+(J*244|0)+68>>2];c[f+(J*244|0)+72>>2]=F+ +c[f+(J*244|0)+72>>2];k=k*(+c[f+(J*244|0)+100>>2]*-B);ne=ne*(+c[f+(J*244|0)+104>>2]*-B);c[f+(J*244|0)+80>>2]=+c[f+(J*244|0)+80>>2]-N*(+c[f+(J*244|0)+96>>2]*-B);c[f+(J*244|0)+84>>2]=+c[f+(J*244|0)+84>>2]-k;c[f+(J*244|0)+88>>2]=+c[f+(J*244|0)+88>>2]-ne}}while(0);a=o[X+748>>2]|0}ee=ee+1|0}while((ee|0)<(a|0))}$=$+1|0}while(($|0)!=(i|0));ae=ie;return}function hD(e){e=e|0;var t=0,i=0,r=0.0,s=0.0,a=0.0,l=0,u=0,f=0,d=0,h=0,p=0.0,b=0.0,m=0.0,A=0.0,g=0.0,y=0.0,v=0.0,C=0.0,T=0.0,R=0.0,M=0.0,O=0.0,I=0.0,x=0,P=0,D=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0,q=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0.0,_e=0.0,ue=0,fe=0,de=0;J=ae;ae=ae+176|0;La(14918);Tr(e);if((dF[o[(o[e>>2]|0)+20>>2]&127](e)|0?(Z=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,(dF[o[(o[Z>>2]|0)+48>>2]&127](Z)|0)&6144|0):0)?(t=dF[o[(o[e>>2]|0)+104>>2]&127](e)|0,(t|0)>0):0){w=J+112+44|0;W=J+112+4|0;X=J+112+8|0;z=J+112+16|0;Y=J+112+20|0;H=J+112+24|0;j=J+112+32|0;V=J+112+36|0;G=J+112+40|0;Q=J+112+48|0;K=J+112+52|0;Z=J+112+56|0;F=J+112+16|0;D=J+112+32|0;k=J+112+48|0;L=J+112+16|0;P=J+112+32|0;B=J+112+48|0;U=J+112+48|0;do{x=t;t=t+-1|0;h=pF[o[(o[e>>2]|0)+108>>2]&31](e,t)|0;i=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;i=((dF[o[(o[i>>2]|0)+48>>2]&127](i)|0)&2048|0)!=0;d=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=((dF[o[(o[d>>2]|0)+48>>2]&127](d)|0)&4096|0)!=0;I=+c[h+40>>2];e:do{if(!(I<=0.0))switch(o[h+4>>2]|0){case 3:{o[J+112>>2]=1065353216;o[J+112+4>>2]=0;o[J+112+4+4>>2]=0;o[J+112+4+8>>2]=0;o[J+112+4+12>>2]=0;o[J+112+20>>2]=1065353216;o[J+112+24>>2]=0;o[J+112+24+4>>2]=0;o[J+112+24+8>>2]=0;o[J+112+24+12>>2]=0;o[J+112+40>>2]=1065353216;o[w>>2]=0;o[w+4>>2]=0;o[w+8>>2]=0;o[w+12>>2]=0;o[w+16>>2]=0;O=+c[h+300>>2];M=+c[h+304>>2];R=+c[h+308>>2];d=o[h+28>>2]|0;T=O*+c[d+20>>2]+M*+c[d+24>>2]+R*+c[d+28>>2]+ +c[d+56>>2];C=O*+c[d+36>>2]+M*+c[d+40>>2]+R*+c[d+44>>2]+ +c[d+60>>2];c[J+112+48>>2]=O*+c[d+4>>2]+M*+c[d+8>>2]+R*+c[d+12>>2]+ +c[d+52>>2];c[J+112+52>>2]=T;c[J+112+56>>2]=C;c[J+112+60>>2]=0.0;d=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[d>>2]|0)+56>>2]&7](d,J+112|0,I);C=+c[h+316>>2];T=+c[h+320>>2];R=+c[h+324>>2];h=o[h+32>>2]|0;M=C*+c[h+20>>2]+T*+c[h+24>>2]+R*+c[h+28>>2]+ +c[h+56>>2];O=C*+c[h+36>>2]+T*+c[h+40>>2]+R*+c[h+44>>2]+ +c[h+60>>2];c[J+112+48>>2]=C*+c[h+4>>2]+T*+c[h+8>>2]+R*+c[h+12>>2]+ +c[h+52>>2];c[J+112+52>>2]=M;c[J+112+56>>2]=O;c[J+112+60>>2]=0.0;if(i){h=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[h>>2]|0)+56>>2]&7](h,J+112|0,I)}break e}case 4:{f=o[h+28>>2]|0;r=+c[h+552>>2];re=+c[f+4>>2];s=+c[h+552+16>>2];ne=+c[f+8>>2];a=+c[h+552+32>>2];ie=+c[f+12>>2];p=+c[h+552+4>>2];b=+c[h+552+20>>2];m=+c[h+552+36>>2];A=+c[h+552+8>>2];y=+c[h+552+24>>2];C=+c[h+552+40>>2];te=+c[f+20>>2];ee=+c[f+24>>2];q=+c[f+28>>2];g=+c[f+36>>2];v=+c[f+40>>2];T=+c[f+44>>2];se=+c[h+552+48>>2];oe=+c[h+552+52>>2];O=+c[h+552+56>>2];R=+c[f+52>>2]+(re*se+ne*oe+ie*O);M=te*se+ee*oe+q*O+ +c[f+56>>2];O=g*se+v*oe+T*O+ +c[f+60>>2];c[J+112>>2]=r*re+s*ne+a*ie;c[J+112+4>>2]=re*p+ne*b+ie*m;c[J+112+8>>2]=re*A+ne*y+ie*C;c[J+112+12>>2]=0.0;c[J+112+16>>2]=r*te+s*ee+a*q;c[J+112+20>>2]=p*te+b*ee+m*q;c[J+112+24>>2]=A*te+y*ee+C*q;c[J+112+28>>2]=0.0;c[J+112+32>>2]=r*g+s*v+a*T;c[J+112+36>>2]=p*g+b*v+m*T;c[J+112+40>>2]=A*g+y*v+C*T;c[J+112+44>>2]=0.0;c[J+112+48>>2]=R;c[J+112+52>>2]=M;c[J+112+56>>2]=O;c[J+112+60>>2]=0.0;if(i){f=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[f>>2]|0)+56>>2]&7](f,J+112|0,I);f=o[h+32>>2]|0;y=+c[h+616>>2];a=+c[f+4>>2];v=+c[h+616+16>>2];p=+c[f+8>>2];C=+c[h+616+32>>2];b=+c[f+12>>2];T=+c[h+616+4>>2];R=+c[h+616+20>>2];M=+c[h+616+36>>2];O=+c[h+616+8>>2];ee=+c[h+616+24>>2];ie=+c[h+616+40>>2];m=+c[f+20>>2];A=+c[f+24>>2];g=+c[f+28>>2];q=+c[f+36>>2];te=+c[f+40>>2];ne=+c[f+44>>2];r=+c[h+616+48>>2];s=+c[h+616+52>>2];se=+c[h+616+56>>2];re=+c[f+52>>2]+(a*r+p*s+b*se);oe=m*r+A*s+g*se+ +c[f+56>>2];se=q*r+te*s+ne*se+ +c[f+60>>2];c[J+112>>2]=y*a+v*p+C*b;c[J+112+4>>2]=a*T+p*R+b*M;c[J+112+8>>2]=a*O+p*ee+b*ie;c[J+112+12>>2]=0.0;c[J+112+16>>2]=y*m+v*A+C*g;c[J+112+20>>2]=T*m+R*A+M*g;c[J+112+24>>2]=O*m+ee*A+ie*g;c[J+112+28>>2]=0.0;c[J+112+32>>2]=y*q+v*te+C*ne;c[J+112+36>>2]=T*q+R*te+M*ne;c[J+112+40>>2]=O*q+ee*te+ie*ne;c[J+112+44>>2]=0.0;c[J+112+48>>2]=re;c[J+112+52>>2]=oe;c[J+112+56>>2]=se;c[J+112+60>>2]=0.0;f=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[f>>2]|0)+56>>2]&7](f,J+112|0,I)}else{f=o[h+32>>2]|0;y=+c[h+616>>2];a=+c[f+4>>2];v=+c[h+616+16>>2];p=+c[f+8>>2];C=+c[h+616+32>>2];b=+c[f+12>>2];T=+c[h+616+4>>2];R=+c[h+616+20>>2];M=+c[h+616+36>>2];O=+c[h+616+8>>2];ee=+c[h+616+24>>2];ie=+c[h+616+40>>2];m=+c[f+20>>2];A=+c[f+24>>2];g=+c[f+28>>2];q=+c[f+36>>2];te=+c[f+40>>2];ne=+c[f+44>>2];r=+c[h+616+48>>2];s=+c[h+616+52>>2];se=+c[h+616+56>>2];re=+c[f+52>>2]+(a*r+p*s+b*se);oe=m*r+A*s+g*se+ +c[f+56>>2];se=q*r+te*s+ne*se+ +c[f+60>>2];c[J+112>>2]=y*a+v*p+C*b;c[J+112+4>>2]=a*T+p*R+b*M;c[J+112+8>>2]=a*O+p*ee+b*ie;c[J+112+12>>2]=0.0;c[J+112+16>>2]=y*m+v*A+C*g;c[J+112+20>>2]=T*m+R*A+M*g;c[J+112+24>>2]=O*m+ee*A+ie*g;c[J+112+28>>2]=0.0;c[J+112+32>>2]=y*q+v*te+C*ne;c[J+112+36>>2]=T*q+R*te+M*ne;c[J+112+40>>2]=O*q+ee*te+ie*ne;c[J+112+44>>2]=0.0;c[J+112+48>>2]=re;c[J+112+52>>2]=oe;c[J+112+56>>2]=se;c[J+112+60>>2]=0.0}s=+c[h+688>>2];r=+c[h+688+4>>2];if(!((s-r)%6.2831854820251465<-3.1415927410125732)){if((s-r)%6.2831854820251465>3.1415927410125732)a=(s-r)%6.2831854820251465+-6.2831854820251465;else a=(s-r)%6.2831854820251465}else a=(s-r)%6.2831854820251465+6.2831854820251465;if(!((s+r)%6.2831854820251465<-3.1415927410125732)){if((s+r)%6.2831854820251465>3.1415927410125732)r=(s+r)%6.2831854820251465+-6.2831854820251465;else r=(s+r)%6.2831854820251465}else r=(s+r)%6.2831854820251465+6.2831854820251465;if(!(a==r)?(N=a>r,d):0){o[J+96>>2]=o[J+112+8>>2];o[J+96+4>>2]=o[J+112+24>>2];o[J+96+8>>2]=o[J+112+40>>2];c[J+96+12>>2]=0.0;o[J+80>>2]=o[J+112>>2];o[J+80+4>>2]=o[J+112+16>>2];o[J+80+8>>2]=o[J+112+32>>2];c[J+80+12>>2]=0.0;h=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[h>>2]|0)+60>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;HF[d&1](h,J+112+48|0,J+96|0,J+80|0,I,I,N?0.0:a,N?6.2831854820251465:r,J+64|0,N^1,10.0)}break e}case 5:{f=o[h+28>>2]|0;y=+c[h+300>>2];a=+c[f+4>>2];v=+c[h+300+16>>2];p=+c[f+8>>2];C=+c[h+300+32>>2];b=+c[f+12>>2];T=+c[h+300+4>>2];R=+c[h+300+20>>2];M=+c[h+300+36>>2];O=+c[h+300+8>>2];ee=+c[h+300+24>>2];ie=+c[h+300+40>>2];m=+c[f+20>>2];A=+c[f+24>>2];g=+c[f+28>>2];q=+c[f+36>>2];te=+c[f+40>>2];ne=+c[f+44>>2];r=+c[h+300+48>>2];s=+c[h+300+52>>2];se=+c[h+300+56>>2];re=+c[f+52>>2]+(a*r+p*s+b*se);oe=m*r+A*s+g*se+ +c[f+56>>2];se=q*r+te*s+ne*se+ +c[f+60>>2];c[J+112>>2]=y*a+v*p+C*b;c[W>>2]=a*T+p*R+b*M;c[X>>2]=a*O+p*ee+b*ie;c[J+112+12>>2]=0.0;c[z>>2]=y*m+v*A+C*g;c[Y>>2]=T*m+R*A+M*g;c[H>>2]=O*m+ee*A+ie*g;c[J+112+28>>2]=0.0;c[j>>2]=y*q+v*te+C*ne;c[V>>2]=T*q+R*te+M*ne;c[G>>2]=O*q+ee*te+ie*ne;c[J+112+44>>2]=0.0;c[Q>>2]=re;c[K>>2]=oe;c[Z>>2]=se;c[J+112+60>>2]=0.0;if(i){f=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[f>>2]|0)+56>>2]&7](f,J+112|0,I);f=o[h+32>>2]|0;y=+c[h+364>>2];a=+c[f+4>>2];v=+c[h+364+16>>2];p=+c[f+8>>2];C=+c[h+364+32>>2];b=+c[f+12>>2];T=+c[h+364+4>>2];R=+c[h+364+20>>2];M=+c[h+364+36>>2];O=+c[h+364+8>>2];ee=+c[h+364+24>>2];ie=+c[h+364+40>>2];m=+c[f+20>>2];A=+c[f+24>>2];g=+c[f+28>>2];q=+c[f+36>>2];te=+c[f+40>>2];ne=+c[f+44>>2];r=+c[h+364+48>>2];s=+c[h+364+52>>2];se=+c[h+364+56>>2];re=+c[f+52>>2]+(a*r+p*s+b*se);oe=m*r+A*s+g*se+ +c[f+56>>2];se=q*r+te*s+ne*se+ +c[f+60>>2];c[J+112>>2]=y*a+v*p+C*b;c[W>>2]=a*T+p*R+b*M;c[X>>2]=a*O+p*ee+b*ie;c[J+112+12>>2]=0.0;c[z>>2]=y*m+v*A+C*g;c[Y>>2]=T*m+R*A+M*g;c[H>>2]=O*m+ee*A+ie*g;c[J+112+28>>2]=0.0;c[j>>2]=y*q+v*te+C*ne;c[V>>2]=T*q+R*te+M*ne;c[G>>2]=O*q+ee*te+ie*ne;c[J+112+44>>2]=0.0;c[Q>>2]=re;c[K>>2]=oe;c[Z>>2]=se;c[J+112+60>>2]=0.0;f=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[f>>2]|0)+56>>2]&7](f,J+112|0,I)}else{f=o[h+32>>2]|0;y=+c[h+364>>2];a=+c[f+4>>2];v=+c[h+364+16>>2];p=+c[f+8>>2];C=+c[h+364+32>>2];b=+c[f+12>>2];T=+c[h+364+4>>2];R=+c[h+364+20>>2];M=+c[h+364+36>>2];O=+c[h+364+8>>2];ee=+c[h+364+24>>2];ie=+c[h+364+40>>2];m=+c[f+20>>2];A=+c[f+24>>2];g=+c[f+28>>2];q=+c[f+36>>2];te=+c[f+40>>2];ne=+c[f+44>>2];r=+c[h+364+48>>2];s=+c[h+364+52>>2];se=+c[h+364+56>>2];re=+c[f+52>>2]+(a*r+p*s+b*se);oe=m*r+A*s+g*se+ +c[f+56>>2];se=q*r+te*s+ne*se+ +c[f+60>>2];c[J+112>>2]=y*a+v*p+C*b;c[W>>2]=a*T+p*R+b*M;c[X>>2]=a*O+p*ee+b*ie;c[J+112+12>>2]=0.0;c[z>>2]=y*m+v*A+C*g;c[Y>>2]=T*m+R*A+M*g;c[H>>2]=O*m+ee*A+ie*g;c[J+112+28>>2]=0.0;c[j>>2]=y*q+v*te+C*ne;c[V>>2]=T*q+R*te+M*ne;c[G>>2]=O*q+ee*te+ie*ne;c[J+112+44>>2]=0.0;c[Q>>2]=re;c[K>>2]=oe;c[Z>>2]=se;c[J+112+60>>2]=0.0}if(d){Xc(J+96|0,h,6.0868353843688965,I);ie=+c[J+96>>2];ne=+c[J+96+4>>2];re=+c[J+96+8>>2];oe=ie*+c[z>>2]+ne*+c[Y>>2]+re*+c[H>>2]+ +c[K>>2];se=ie*+c[j>>2]+ne*+c[V>>2]+re*+c[G>>2]+ +c[Z>>2];c[J+96>>2]=ie*+c[J+112>>2]+ne*+c[W>>2]+re*+c[X>>2]+ +c[Q>>2];c[J+96+4>>2]=oe;c[J+96+8>>2]=se;c[J+96+12>>2]=0.0;i=0;do{Xc(J+80|0,h,+(i|0)*6.283185005187988*.03125,I);ie=+c[J+80>>2];ne=+c[J+80+4>>2];re=+c[J+80+8>>2];oe=ie*+c[z>>2]+ne*+c[Y>>2]+re*+c[H>>2]+ +c[K>>2];se=ie*+c[j>>2]+ne*+c[V>>2]+re*+c[G>>2]+ +c[Z>>2];c[J+80>>2]=ie*+c[J+112>>2]+ne*+c[W>>2]+re*+c[X>>2]+ +c[Q>>2];c[J+80+4>>2]=oe;c[J+80+8>>2]=se;c[J+80+12>>2]=0.0;d=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;f=o[(o[d>>2]|0)+8>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;BF[f&127](d,J+96|0,J+80|0,J+64|0);if(!(i&3)){d=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;f=o[(o[d>>2]|0)+8>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;BF[f&127](d,U,J+80|0,J+64|0)}o[J+96>>2]=o[J+80>>2];o[J+96+4>>2]=o[J+80+4>>2];o[J+96+8>>2]=o[J+80+8>>2];o[J+96+12>>2]=o[J+80+12>>2];i=i+1|0}while((i|0)!=32);M=+c[h+452>>2];O=+c[h+512>>2];i=o[h+32>>2]|0;if(+c[i+344>>2]>0.0){ie=+c[h+364>>2];ne=+c[i+4>>2];re=+c[h+364+16>>2];oe=+c[i+8>>2];se=+c[h+364+32>>2];R=+c[i+12>>2];ee=+c[h+364+4>>2];te=+c[h+364+20>>2];T=+c[h+364+36>>2];ce=+c[h+364+8>>2];q=+c[h+364+24>>2];C=+c[h+364+40>>2];_e=+c[i+20>>2];le=+c[i+24>>2];v=+c[i+28>>2];y=+c[i+36>>2];g=+c[i+40>>2];A=+c[i+44>>2];b=+c[h+364+48>>2];a=+c[h+364+52>>2];p=+c[h+364+56>>2];r=y*b+g*a;s=ne*b+oe*a+R*p;a=_e*b+le*a+v*p;p=A*p;b=ce*y+q*g+C*A;m=ee*y+te*g+T*A;A=ie*y+re*g+se*A;g=ce*_e+q*le+C*v;y=ee*_e+te*le+T*v;v=ie*_e+re*le+se*v;C=ne*ce+oe*q+R*C;T=ne*ee+oe*te+R*T;R=ie*ne+re*oe+se*R}else{i=o[h+28>>2]|0;oe=+c[h+300>>2];se=+c[i+4>>2];ce=+c[h+300+16>>2];le=+c[i+8>>2];_e=+c[h+300+32>>2];R=+c[i+12>>2];ne=+c[h+300+4>>2];re=+c[h+300+20>>2];T=+c[h+300+36>>2];te=+c[h+300+8>>2];ie=+c[h+300+24>>2];C=+c[h+300+40>>2];q=+c[i+20>>2];ee=+c[i+24>>2];v=+c[i+28>>2];y=+c[i+36>>2];g=+c[i+40>>2];A=+c[i+44>>2];b=+c[h+300+48>>2];a=+c[h+300+52>>2];p=+c[h+300+56>>2];r=y*b+g*a;s=se*b+le*a+R*p;a=q*b+ee*a+v*p;p=A*p;b=te*y+ie*g+C*A;m=ne*y+re*g+T*A;A=oe*y+ce*g+_e*A;g=te*q+ie*ee+C*v;y=ne*q+re*ee+T*v;v=oe*q+ce*ee+_e*v;C=se*te+le*ie+R*C;T=se*ne+le*re+R*T;R=oe*se+ce*le+_e*R}ce=+c[i+52>>2]+s;le=a+ +c[i+56>>2];_e=r+p+ +c[i+60>>2];c[J+112>>2]=R;c[W>>2]=T;c[X>>2]=C;c[J+112+12>>2]=0.0;c[z>>2]=v;c[Y>>2]=y;c[H>>2]=g;c[J+112+28>>2]=0.0;c[j>>2]=A;c[V>>2]=m;c[G>>2]=b;c[J+112+44>>2]=0.0;c[Q>>2]=ce;c[K>>2]=le;c[Z>>2]=_e;c[J+112+60>>2]=0.0;o[J+80>>2]=o[U>>2];o[J+80+4>>2]=o[U+4>>2];o[J+80+8>>2]=o[U+8>>2];o[J+80+12>>2]=o[U+12>>2];c[J+64>>2]=R;c[J+64+4>>2]=v;c[J+64+8>>2]=A;c[J+64+12>>2]=0.0;c[J+48>>2]=T;c[J+48+4>>2]=y;c[J+48+8>>2]=m;c[J+48+12>>2]=0.0;h=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[h>>2]|0)+60>>2]|0;o[J+32>>2]=0;o[J+32+4>>2]=0;o[J+32+8>>2]=0;o[J+32+12>>2]=0;HF[d&1](h,J+80|0,J+64|0,J+48|0,I,I,-O-M,M-O,J+32|0,1,10.0)}break e}case 6:case 9:{o[J+112>>2]=o[h+1064>>2];o[J+112+4>>2]=o[h+1064+4>>2];o[J+112+8>>2]=o[h+1064+8>>2];o[J+112+12>>2]=o[h+1064+12>>2];u=h+1064+16|0;o[F>>2]=o[u>>2];o[F+4>>2]=o[u+4>>2];o[F+8>>2]=o[u+8>>2];o[F+12>>2]=o[u+12>>2];l=h+1064+32|0;o[D>>2]=o[l>>2];o[D+4>>2]=o[l+4>>2];o[D+8>>2]=o[l+8>>2];o[D+12>>2]=o[l+12>>2];f=h+1064+48|0;o[k>>2]=o[f>>2];o[k+4>>2]=o[f+4>>2];o[k+8>>2]=o[f+8>>2];o[k+12>>2]=o[f+12>>2];if(i){i=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[i>>2]|0)+56>>2]&7](i,J+112|0,I);o[J+112>>2]=o[h+1128>>2];o[J+112+4>>2]=o[h+1128+4>>2];o[J+112+8>>2]=o[h+1128+8>>2];o[J+112+12>>2]=o[h+1128+12>>2];o[F>>2]=o[h+1128+16>>2];o[F+4>>2]=o[h+1128+16+4>>2];o[F+8>>2]=o[h+1128+16+8>>2];o[F+12>>2]=o[h+1128+16+12>>2];o[D>>2]=o[h+1128+32>>2];o[D+4>>2]=o[h+1128+32+4>>2];o[D+8>>2]=o[h+1128+32+8>>2];o[D+12>>2]=o[h+1128+32+12>>2];o[k>>2]=o[h+1128+48>>2];o[k+4>>2]=o[h+1128+48+4>>2];o[k+8>>2]=o[h+1128+48+8>>2];o[k+12>>2]=o[h+1128+48+12>>2];i=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[i>>2]|0)+56>>2]&7](i,J+112|0,I)}else{o[J+112>>2]=o[h+1128>>2];o[J+112+4>>2]=o[h+1128+4>>2];o[J+112+8>>2]=o[h+1128+8>>2];o[J+112+12>>2]=o[h+1128+12>>2];o[F>>2]=o[h+1128+16>>2];o[F+4>>2]=o[h+1128+16+4>>2];o[F+8>>2]=o[h+1128+16+8>>2];o[F+12>>2]=o[h+1128+16+12>>2];o[D>>2]=o[h+1128+32>>2];o[D+4>>2]=o[h+1128+32+4>>2];o[D+8>>2]=o[h+1128+32+8>>2];o[D+12>>2]=o[h+1128+32+12>>2];o[k>>2]=o[h+1128+48>>2];o[k+4>>2]=o[h+1128+48+4>>2];o[k+8>>2]=o[h+1128+48+8>>2];o[k+12>>2]=o[h+1128+48+12>>2]}if(d){o[J+112>>2]=o[h+1064>>2];o[J+112+4>>2]=o[h+1064+4>>2];o[J+112+8>>2]=o[h+1064+8>>2];o[J+112+12>>2]=o[h+1064+12>>2];o[F>>2]=o[u>>2];o[F+4>>2]=o[u+4>>2];o[F+8>>2]=o[u+8>>2];o[F+12>>2]=o[u+12>>2];o[D>>2]=o[l>>2];o[D+4>>2]=o[l+4>>2];o[D+8>>2]=o[l+8>>2];o[D+12>>2]=o[l+12>>2];o[k>>2]=o[f>>2];o[k+4>>2]=o[f+4>>2];o[k+8>>2]=o[f+8>>2];o[k+12>>2]=o[f+12>>2];i=h+1128+48|0;o[J+96>>2]=o[J+112+8>>2];o[J+96+4>>2]=o[J+112+24>>2];o[J+96+8>>2]=o[J+112+40>>2];c[J+96+12>>2]=0.0;o[J+80>>2]=o[J+112>>2];o[J+80+4>>2]=o[J+112+16>>2];o[J+80+8>>2]=o[J+112+32>>2];c[J+80+12>>2]=0.0;oe=+c[h+932>>2];r=+c[h+932+4>>2];le=+c[h+996>>2];ce=+c[h+996+4>>2];ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[ue>>2]|0)+64>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;UF[d&1](ue,i,J+96|0,J+80|0,I*.8999999761581421,oe,r,le,ce,J+64|0,10.0,1);ue=o[J+112+20>>2]|0;d=o[J+112+36>>2]|0;o[J+80>>2]=o[J+112+4>>2];o[J+80+4>>2]=ue;o[J+80+8>>2]=d;c[J+80+12>>2]=0.0;ce=+c[h+1196>>2];le=+c[h+1200>>2];r=+E(+ce);ce=+S(+ce);oe=+E(+le);le=+S(+le);se=+c[J+80>>2];_e=+c[J+80+4>>2];s=+c[J+80+8>>2];c[J+64>>2]=r*oe*se+r*le*_e-ce*s;c[J+64+4>>2]=oe*_e-le*se;c[J+64+8>>2]=ce*oe*se+ce*le*_e+r*s;o[J+112>>2]=o[h+1128>>2];o[J+112+4>>2]=o[h+1128+4>>2];o[J+112+8>>2]=o[h+1128+8>>2];o[J+112+12>>2]=o[h+1128+12>>2];o[F>>2]=o[h+1128+16>>2];o[F+4>>2]=o[h+1128+16+4>>2];o[F+8>>2]=o[h+1128+16+8>>2];o[F+12>>2]=o[h+1128+16+12>>2];o[D>>2]=o[h+1128+32>>2];o[D+4>>2]=o[h+1128+32+4>>2];o[D+8>>2]=o[h+1128+32+8>>2];o[D+12>>2]=o[h+1128+32+12>>2];o[k>>2]=o[i>>2];o[k+4>>2]=o[i+4>>2];o[k+8>>2]=o[i+8>>2];o[k+12>>2]=o[i+12>>2];s=-+c[J+112+16>>2];r=-+c[J+112+32>>2];c[J+48>>2]=-+c[J+112>>2];c[J+48+4>>2]=s;c[J+48+8>>2]=r;c[J+48+12>>2]=0.0;r=+c[h+868>>2];s=+c[h+868+4>>2];if(!(r>s)){if(r<s){ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[ue>>2]|0)+60>>2]|0;o[J+32>>2]=0;o[J+32+4>>2]=0;o[J+32+8>>2]=0;o[J+32+12>>2]=0;HF[d&1](ue,i,J+48|0,J+64|0,I,I,r,s,J+32|0,1,10.0)}}else{ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[ue>>2]|0)+60>>2]|0;o[J+32>>2]=0;o[J+32+4>>2]=0;o[J+32+8>>2]=0;o[J+32+12>>2]=0;HF[d&1](ue,i,J+48|0,J+64|0,I,I,-3.1415927410125732,3.1415927410125732,J+32|0,0,10.0)}o[J+112>>2]=o[h+1064>>2];o[J+112+4>>2]=o[h+1064+4>>2];o[J+112+8>>2]=o[h+1064+8>>2];o[J+112+12>>2]=o[h+1064+12>>2];o[F>>2]=o[u>>2];o[F+4>>2]=o[u+4>>2];o[F+8>>2]=o[u+8>>2];o[F+12>>2]=o[u+12>>2];o[D>>2]=o[l>>2];o[D+4>>2]=o[l+4>>2];o[D+8>>2]=o[l+8>>2];o[D+12>>2]=o[l+12>>2];o[k>>2]=o[f>>2];o[k+4>>2]=o[f+4>>2];o[k+8>>2]=o[f+8>>2];o[k+12>>2]=o[f+12>>2];o[J+32>>2]=o[h+680>>2];o[J+32+4>>2]=o[h+680+4>>2];o[J+32+8>>2]=o[h+680+8>>2];o[J+32+12>>2]=o[h+680+12>>2];o[J+16>>2]=o[h+680+16>>2];o[J+16+4>>2]=o[h+680+16+4>>2];o[J+16+8>>2]=o[h+680+16+8>>2];o[J+16+12>>2]=o[h+680+16+12>>2];ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;h=o[(o[ue>>2]|0)+72>>2]|0;o[J>>2]=0;o[J+4>>2]=0;o[J+8>>2]=0;o[J+12>>2]=0;jF[h&31](ue,J+32|0,J+16|0,J+112|0,J)}break e}case 7:{o[J+112>>2]=o[h+824>>2];o[J+112+4>>2]=o[h+824+4>>2];o[J+112+8>>2]=o[h+824+8>>2];o[J+112+12>>2]=o[h+824+12>>2];o[L>>2]=o[h+824+16>>2];o[L+4>>2]=o[h+824+16+4>>2];o[L+8>>2]=o[h+824+16+8>>2];o[L+12>>2]=o[h+824+16+12>>2];o[P>>2]=o[h+824+32>>2];o[P+4>>2]=o[h+824+32+4>>2];o[P+8>>2]=o[h+824+32+8>>2];o[P+12>>2]=o[h+824+32+12>>2];o[B>>2]=o[h+824+48>>2];o[B+4>>2]=o[h+824+48+4>>2];o[B+8>>2]=o[h+824+48+8>>2];o[B+12>>2]=o[h+824+48+12>>2];if(i){ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[ue>>2]|0)+56>>2]&7](ue,J+112|0,I);o[J+112>>2]=o[h+888>>2];o[J+112+4>>2]=o[h+888+4>>2];o[J+112+8>>2]=o[h+888+8>>2];o[J+112+12>>2]=o[h+888+12>>2];o[L>>2]=o[h+888+16>>2];o[L+4>>2]=o[h+888+16+4>>2];o[L+8>>2]=o[h+888+16+8>>2];o[L+12>>2]=o[h+888+16+12>>2];o[P>>2]=o[h+888+32>>2];o[P+4>>2]=o[h+888+32+4>>2];o[P+8>>2]=o[h+888+32+8>>2];o[P+12>>2]=o[h+888+32+12>>2];o[B>>2]=o[h+888+48>>2];o[B+4>>2]=o[h+888+48+4>>2];o[B+8>>2]=o[h+888+48+8>>2];o[B+12>>2]=o[h+888+48+12>>2];ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;PF[o[(o[ue>>2]|0)+56>>2]&7](ue,J+112|0,I)}else{o[J+112>>2]=o[h+888>>2];o[J+112+4>>2]=o[h+888+4>>2];o[J+112+8>>2]=o[h+888+8>>2];o[J+112+12>>2]=o[h+888+12>>2];o[L>>2]=o[h+888+16>>2];o[L+4>>2]=o[h+888+16+4>>2];o[L+8>>2]=o[h+888+16+8>>2];o[L+12>>2]=o[h+888+16+12>>2];o[P>>2]=o[h+888+32>>2];o[P+4>>2]=o[h+888+32+4>>2];o[P+8>>2]=o[h+888+32+8>>2];o[P+12>>2]=o[h+888+32+12>>2];o[B>>2]=o[h+888+48>>2];o[B+4>>2]=o[h+888+48+4>>2];o[B+8>>2]=o[h+888+48+8>>2];o[B+12>>2]=o[h+888+48+12>>2]}if(d){fe=(n[h+180>>0]|0)==0?h+888|0:h+824|0;i=o[fe>>2]|0;f=o[fe+4>>2]|0;l=o[fe+16>>2]|0;d=o[fe+20>>2]|0;u=o[fe+32>>2]|0;ue=o[fe+36>>2]|0;M=+c[fe+48>>2];te=+c[fe+52>>2];oe=+c[fe+56>>2];_e=+c[h+184>>2];ee=(o[_>>2]=i,+c[_>>2]);q=(o[_>>2]=f,+c[_>>2])*0.0;O=+c[fe+8>>2]*0.0;re=(o[_>>2]=l,+c[_>>2]);ne=(o[_>>2]=d,+c[_>>2])*0.0;ie=+c[fe+24>>2]*0.0;le=(o[_>>2]=u,+c[_>>2]);ce=(o[_>>2]=ue,+c[_>>2])*0.0;se=+c[fe+40>>2]*0.0;c[J+96>>2]=M+(O+(q+_e*ee));c[J+96+4>>2]=te+(ie+(ne+_e*re));c[J+96+8>>2]=oe+(se+(ce+_e*le));c[J+96+12>>2]=0.0;_e=+c[h+188>>2];c[J+80>>2]=M+(O+(q+_e*ee));c[J+80+4>>2]=te+(ie+(ne+_e*re));c[J+80+8>>2]=oe+(se+(ce+_e*le));c[J+80+12>>2]=0.0;fe=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;de=o[(o[fe>>2]|0)+8>>2]|0;o[J+64>>2]=0;o[J+64+4>>2]=0;o[J+64+8>>2]=0;o[J+64+12>>2]=0;BF[de&127](fe,J+96|0,J+80|0,J+64|0);o[J+64>>2]=i;o[J+64+4>>2]=l;o[J+64+8>>2]=u;c[J+64+12>>2]=0.0;o[J+48>>2]=f;o[J+48+4>>2]=d;o[J+48+8>>2]=ue;c[J+48+12>>2]=0.0;le=+c[h+192>>2];_e=+c[h+196>>2];ue=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0;d=o[(o[ue>>2]|0)+60>>2]|0;o[J+32>>2]=0;o[J+32+4>>2]=0;o[J+32+8>>2]=0;o[J+32+12>>2]=0;HF[d&1](ue,h+888+48|0,J+64|0,J+48|0,I,I,le,_e,J+32|0,1,10.0)}break e}default:break e}}while(0)}while((x|0)>1)}if((((dF[o[(o[e>>2]|0)+20>>2]&127](e)|0?(de=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,(dF[o[(o[de>>2]|0)+48>>2]&127](de)|0)&16387|0):0)?dF[o[(o[e>>2]|0)+20>>2]&127](e)|0:0)?(de=dF[o[(o[e>>2]|0)+20>>2]&127](e)|0,dF[o[(o[de>>2]|0)+48>>2]&127](de)|0):0)?(o[e+280>>2]|0)>0:0){t=0;do{de=o[(o[e+288>>2]|0)+(t<<2)>>2]|0;xF[o[(o[de>>2]|0)+12>>2]&127](de,o[e+72>>2]|0);t=t+1|0}while((t|0)<(o[e+280>>2]|0))}t=o[2685]|0;de=(o[t+16>>2]|0)+-1|0;o[t+16>>2]=de;if(de|0){ae=J;return}do{if(o[t+4>>2]|0){$(J+112|0,0)|0;de=o[6746]|0;c[t+8>>2]=+c[t+8>>2]+ +(((o[J+112+4>>2]|0)-(o[de+4>>2]|0)+(((o[J+112>>2]|0)-(o[de>>2]|0)|0)*1e6|0)-(o[t+12>>2]|0)|0)>>>0)/1.0e3;if(!(o[t+16>>2]|0)){t=o[2685]|0;break}else{ae=J;return}}}while(0);o[2685]=o[t+20>>2];ae=J;return}function pD(e,t){e=e|0;t=+t;var i=0,r=0,s=0,a=0.0,l=0.0,u=0.0,f=0.0,d=0.0,h=0.0,p=0.0,b=0.0,m=0.0,A=0.0,g=0,C=0.0,E=0.0,S=0,T=0,R=0,M=0.0,O=0.0,I=0.0,x=0.0,P=0,D=0,w=0,L=0,F=0,N=0,B=0.0,k=0.0,U=0.0,H=0,j=0,V=0.0,G=0,W=0,X=0,z=0.0,Y=0.0,Q=0.0,K=0,Z=0.0,J=0.0,q=0.0,ee=0.0,te=0.0,ie=0.0,ne=0.0,re=0.0,oe=0.0,se=0.0,ce=0.0,le=0.0,_e=0.0;K=ae;ae=ae+240|0;i=o[e+24>>2]|0;if((i|0)<=0){ae=K;return}X=K+128+76|0;G=K+80+16|0;W=K+80+32|0;D=0;do{P=o[(o[e+32>>2]|0)+(D<<2)>>2]|0;switch(o[P+216>>2]|0){case 2:case 5:break;default:{if(n[P+924>>0]|0){n[P+924>>0]=0;r=o[P+732>>2]|0;if((r|0)>0){s=o[P+740>>2]|0;i=0;do{T=o[s+(i*52|0)+8>>2]|0;R=o[s+(i*52|0)+12>>2]|0;O=+c[T+8>>2]-+c[R+8>>2];I=+c[T+12>>2]-+c[R+12>>2];x=+c[T+16>>2]-+c[R+16>>2];x=+v(+(O*O+I*I+x*x));c[s+(i*52|0)+16>>2]=x;c[s+(i*52|0)+28>>2]=x*x;i=i+1|0}while((i|0)!=(r|0));i=0;do{c[s+(i*52|0)+24>>2]=(+c[(o[s+(i*52|0)+8>>2]|0)+88>>2]+ +c[(o[s+(i*52|0)+12>>2]|0)+88>>2])/+c[(o[s+(i*52|0)+4>>2]|0)+4>>2];i=i+1|0}while((i|0)!=(r|0))}tt(P);i=o[P+988>>2]|0;if(i|0)Nu(P+988|0,i);i=o[P+992>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[P+992>>2]=0;o[P+996>>2]=-1;i=o[P+1020>>2]|0;if(i|0){if(n[P+1024>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[P+1020>>2]=0}n[P+1024>>0]=1;o[P+1020>>2]=0;o[P+1012>>2]=0;o[P+1016>>2]=0;o[P+1004>>2]=0;if(o[P+388>>2]&16|0){i=o[P+988>>2]|0;if(i|0)Nu(P+988|0,i);i=o[P+992>>2]|0;if(i|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[P+992>>2]=0;o[P+996>>2]=-1;i=o[P+1020>>2]|0;if(i|0){if(n[P+1024>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[i+-4>>2]|0)}o[P+1020>>2]=0}n[P+1024>>0]=1;o[P+1020>>2]=0;o[P+1012>>2]=0;o[P+1016>>2]=0;o[P+1004>>2]=0;if((o[P+752>>2]|0)>0){g=0;do{r=o[P+760>>2]|0;s=r+(g*44|0)|0;T=o[r+(g*44|0)+8>>2]|0;R=o[r+(g*44|0)+12>>2]|0;i=o[r+(g*44|0)+16>>2]|0;a=+c[T+8>>2];u=+c[T+12>>2];l=+c[T+16>>2];p=+c[T+20>>2];M=+c[R+8>>2];f=M<a?M:a;x=+c[R+12>>2];b=x<u?x:u;I=+c[R+16>>2];d=I<l?I:l;O=+c[R+20>>2];h=O<p?O:p;a=a<M?M:a;u=u<x?x:u;l=l<I?I:l;p=p<O?O:p;O=+c[i+8>>2];f=O<f?O:f;I=+c[i+12>>2];b=I<b?I:b;x=+c[i+16>>2];d=x<d?x:d;M=+c[i+20>>2];h=M<h?M:h;p=p<M?M:p;a=(a<O?O:a)+0.0;u=(u<I?I:u)+0.0;l=(l<x?x:l)+0.0;i=o[P+992>>2]|0;if(!i){o[6747]=(o[6747]|0)+1;i=Do(63)|0;if(!i)i=0;else{o[(i+4+15&-16)+-4>>2]=i;i=i+4+15&-16}S=i;T=S+44|0;do{o[S>>2]=0;S=S+4|0}while((S|0)<(T|0))}else o[P+992>>2]=0;o[i+32>>2]=0;o[i+36>>2]=s;o[i+40>>2]=0;c[i>>2]=f;c[i+4>>2]=b;c[i+8>>2]=d;c[i+12>>2]=h;c[i+16>>2]=a;c[i+20>>2]=u;c[i+24>>2]=l;c[i+28>>2]=p;de(P+988|0,o[P+988>>2]|0,i);o[P+1e3>>2]=(o[P+1e3>>2]|0)+1;o[r+(g*44|0)+40>>2]=i;g=g+1|0}while((g|0)<(o[P+752>>2]|0))}}}u=+c[P+368>>2]*t;c[P+452>>2]=u;c[P+456>>2]=1.0/u;c[P+460>>2]=u*3.0;i=o[P+192>>2]|0;u=+nF[o[(o[i>>2]|0)+48>>2]&15](i);c[P+464>>2]=u;c[P+468>>2]=u*.25;i=o[P+684>>2]|0;u=+c[P+452>>2];a=+c[i+40>>2]*u;l=u*+c[i+44>>2];u=u*+c[i+48>>2];i=o[P+712>>2]|0;if((i|0)>0){r=o[P+720>>2]|0;s=0;do{if(+c[r+(s*104|0)+88>>2]>0.0){R=r+(s*104|0)+40|0;c[R>>2]=a+ +c[R>>2];R=r+(s*104|0)+44|0;c[R>>2]=l+ +c[R>>2];R=r+(s*104|0)+48|0;c[R>>2]=u+ +c[R>>2]}s=s+1|0}while((s|0)!=(i|0))}La(13669);d=+c[P+308>>2];h=+c[P+312>>2];g=+c[P+304>>2]>0.0?1:+c[P+300>>2]>0.0;S=o[P+712>>2]|0;if(d!=0.0|h>0.0){if((S|0)>0){i=o[P+720>>2]|0;l=+c[i+8>>2];u=+c[i+12>>2];f=+c[i+16>>2];i=o[P+752>>2]|0;if((i|0)>0){r=o[P+760>>2]|0;s=0;a=0.0;do{R=o[r+(s*44|0)+8>>2]|0;T=o[r+(s*44|0)+12>>2]|0;I=+c[T+8>>2]-l;C=+c[T+12>>2]-u;M=+c[T+16>>2]-f;T=o[r+(s*44|0)+16>>2]|0;O=+c[T+8>>2]-l;E=+c[T+12>>2]-u;x=+c[T+16>>2]-f;a=a+((+c[R+16>>2]-f)*(I*E-C*O)+((+c[R+8>>2]-l)*(C*x-M*E)+(+c[R+12>>2]-u)*(M*O-I*x)));s=s+1|0}while((s|0)!=(i|0))}else a=0.0;a=a/6.0}else a=0.0;l=d*(1.0/+y(+a));a=h*(+c[P+476>>2]-a)}else{a=0.0;l=0.0}if((S|0)>0)if(g){r=0;do{i=o[P+720>>2]|0;if(+c[i+(r*104|0)+88>>2]>0.0){ro(P,P+1212|0,r);if(d!=0.0){O=l*+c[i+(r*104|0)+92>>2];I=O*+c[i+(r*104|0)+76>>2];x=O*+c[i+(r*104|0)+80>>2];R=i+(r*104|0)+56|0;c[R>>2]=+c[i+(r*104|0)+72>>2]*O+ +c[R>>2];R=i+(r*104|0)+60|0;c[R>>2]=I+ +c[R>>2];R=i+(r*104|0)+64|0;c[R>>2]=x+ +c[R>>2]}if(h>0.0){O=a*+c[i+(r*104|0)+92>>2];I=O*+c[i+(r*104|0)+76>>2];x=O*+c[i+(r*104|0)+80>>2];R=i+(r*104|0)+56|0;c[R>>2]=+c[i+(r*104|0)+72>>2]*O+ +c[R>>2];R=i+(r*104|0)+60|0;c[R>>2]=I+ +c[R>>2];R=i+(r*104|0)+64|0;c[R>>2]=x+ +c[R>>2]}}r=r+1|0}while((r|0)!=(S|0))}else{i=o[P+720>>2]|0;r=0;do{if(+c[i+(r*104|0)+88>>2]>0.0){if(d!=0.0){O=l*+c[i+(r*104|0)+92>>2];I=O*+c[i+(r*104|0)+76>>2];x=O*+c[i+(r*104|0)+80>>2];R=i+(r*104|0)+56|0;c[R>>2]=+c[i+(r*104|0)+72>>2]*O+ +c[R>>2];R=i+(r*104|0)+60|0;c[R>>2]=I+ +c[R>>2];R=i+(r*104|0)+64|0;c[R>>2]=x+ +c[R>>2]}if(h>0.0){O=a*+c[i+(r*104|0)+92>>2];I=O*+c[i+(r*104|0)+76>>2];x=O*+c[i+(r*104|0)+80>>2];R=i+(r*104|0)+56|0;c[R>>2]=+c[i+(r*104|0)+72>>2]*O+ +c[R>>2];R=i+(r*104|0)+60|0;c[R>>2]=I+ +c[R>>2];R=i+(r*104|0)+64|0;c[R>>2]=x+ +c[R>>2]}}r=r+1|0}while((r|0)!=(S|0))}i=o[P+752>>2]|0;if((i|0)>0){r=0;do{M=+c[P+452>>2];h=+c[P+304>>2];f=+c[P+300>>2];e:do{if((h>0.0|f>0.0?(w=o[P+288>>2]|0,(w|0)>3):0)?(L=o[P+760>>2]|0,F=o[L+(r*44|0)+8>>2]|0,N=o[L+(r*44|0)+12>>2]|0,B=+c[F+40>>2],k=+c[F+44>>2],U=+c[F+48>>2],H=o[L+(r*44|0)+16>>2]|0,j=o[o[P+684>>2]>>2]|0,z=(B+ +c[N+40>>2]+ +c[H+40>>2])*.3333333432674408-+c[P+1212>>2],Q=(k+ +c[N+44>>2]+ +c[H+44>>2])*.3333333432674408-+c[P+1216>>2],Y=(U+ +c[N+48>>2]+ +c[H+48>>2])*.3333333432674408-+c[P+1220>>2],V=+v(+(z*z+Q*Q+Y*Y)),z*z+Q*Q+Y*Y>1.1920928955078125e-07):0){A=z*(1.0/V);C=Q*(1.0/V);E=Y*(1.0/V);p=+c[L+(r*44|0)+20>>2];b=+c[L+(r*44|0)+24>>2];m=+c[L+(r*44|0)+28>>2];switch(w|0){case 5:break;case 4:case 6:{a=z*p+Q*b+Y*m<0.0?-1.0:1.0;if(!(Y*(m*a)+(z*(p*a)+Q*(b*a))>0.0))break e;d=-((z*z+Q*Q+Y*Y)*((Y*(m*a)+(z*(p*a)+Q*(b*a)))*+c[L+(r*44|0)+36>>2])*(o[_>>2]=j,+c[_>>2]));A=(A*(f*d)+(p*a*(h*d)+0.0))*.3333333432674408;p=(C*(f*d)+(b*a*(h*d)+0.0))*.3333333432674408;h=(E*(f*d)+(m*a*(h*d)+0.0))*.3333333432674408;d=1.0/+v(+(h*h+(A*A+p*p)));a=M*+c[F+88>>2];if(h*a*(h*a)+(A*a*(A*a)+p*a*(p*a))>B*B+k*k+U*U){c[F+56>>2]=+c[F+56>>2]-1.0/a*(A*d*(A*d*B+p*d*k+h*d*U));c[F+60>>2]=+c[F+60>>2]-1.0/a*(p*d*(A*d*B+p*d*k+h*d*U));c[F+64>>2]=+c[F+64>>2]-1.0/a*(h*d*(A*d*B+p*d*k+h*d*U))}else{c[F+56>>2]=A+ +c[F+56>>2];c[F+60>>2]=p+ +c[F+60>>2];c[F+64>>2]=h+ +c[F+64>>2]}f=M*+c[N+88>>2];a=+c[N+40>>2];l=+c[N+44>>2];u=+c[N+48>>2];if(h*f*(h*f)+(A*f*(A*f)+p*f*(p*f))>a*a+l*l+u*u){c[N+56>>2]=+c[N+56>>2]-1.0/f*(A*d*(A*d*a+p*d*l+h*d*u));c[N+60>>2]=+c[N+60>>2]-1.0/f*(p*d*(A*d*a+p*d*l+h*d*u));c[N+64>>2]=+c[N+64>>2]-1.0/f*(h*d*(A*d*a+p*d*l+h*d*u))}else{c[N+56>>2]=A+ +c[N+56>>2];c[N+60>>2]=p+ +c[N+60>>2];c[N+64>>2]=h+ +c[N+64>>2]}f=M*+c[H+88>>2];a=+c[H+40>>2];l=+c[H+44>>2];u=+c[H+48>>2];if(h*f*(h*f)+(A*f*(A*f)+p*f*(p*f))>a*a+l*l+u*u){c[H+56>>2]=+c[H+56>>2]-1.0/f*(A*d*(A*d*a+p*d*l+h*d*u));c[H+60>>2]=+c[H+60>>2]-1.0/f*(p*d*(A*d*a+p*d*l+h*d*u));c[H+64>>2]=+c[H+64>>2]-1.0/f*(h*d*(A*d*a+p*d*l+h*d*u));break e}else{c[H+56>>2]=A+ +c[H+56>>2];c[H+60>>2]=p+ +c[H+60>>2];c[H+64>>2]=h+ +c[H+64>>2];break e}}default:break e}d=z*p+Q*b+Y*m<0.0?-1.0:1.0;l=E*(m*d)+(A*(p*d)+C*(b*d));u=+c[L+(r*44|0)+36>>2]*.5;a=(o[_>>2]=j,+c[_>>2]);f=l*((z*z+Q*Q+Y*Y)*(f*.5*a)*u);if(l>0.0&l<.9847999811172485){O=+v(+(1.0-l*l))*(h*.5*a*V*u);I=(E*(A*(m*d)-E*(p*d))-C*(C*(p*d)-A*(b*d)))*O*.3333333432674408;x=(A*(C*(p*d)-A*(b*d))-E*(E*(b*d)-C*(m*d)))*O*.3333333432674408;O=(C*(E*(b*d)-C*(m*d))-A*(A*(m*d)-E*(p*d)))*O*.3333333432674408}else{I=0.0;x=0.0;O=0.0}a=+c[F+88>>2];if(a>0.0){a=E*f*-.3333333432674408*a*M*(E*f*-.3333333432674408*a*M)+(A*f*-.3333333432674408*a*M*(A*f*-.3333333432674408*a*M)+C*f*-.3333333432674408*a*M*(C*f*-.3333333432674408*a*M));if(a>0.0?a>=B*B+k*k+U*U:0){a=+v(+(B*B+k*k+U*U))/+v(+a)*.800000011920929;u=A*f*-.3333333432674408*a;l=C*f*-.3333333432674408*a;a=E*f*-.3333333432674408*a}else{u=A*f*-.3333333432674408;l=C*f*-.3333333432674408;a=E*f*-.3333333432674408}E=l+ +c[F+60>>2];M=a+ +c[F+64>>2];c[F+56>>2]=I+(u+ +c[F+56>>2]);c[F+60>>2]=x+E;c[F+64>>2]=O+M}else{u=A*f*-.3333333432674408;l=C*f*-.3333333432674408;a=E*f*-.3333333432674408}f=+c[N+88>>2];if(f>0.0){p=+c[P+452>>2];b=u*f*p;m=l*f*p;p=a*f*p;f=+c[N+40>>2];d=+c[N+44>>2];h=+c[N+48>>2];if(p*p+(b*b+m*m)>0.0?p*p+(b*b+m*m)>=f*f+d*d+h*h:0){M=+v(+(f*f+d*d+h*h))/+v(+(p*p+(b*b+m*m)))*.800000011920929;u=u*M;l=l*M;a=a*M}E=l+ +c[N+60>>2];M=a+ +c[N+64>>2];c[N+56>>2]=I+(u+ +c[N+56>>2]);c[N+60>>2]=x+E;c[N+64>>2]=O+M}f=+c[H+88>>2];if(f>0.0){p=+c[P+452>>2];b=u*f*p;m=l*f*p;p=a*f*p;f=+c[H+40>>2];d=+c[H+44>>2];h=+c[H+48>>2];if(p*p+(b*b+m*m)>0.0?p*p+(b*b+m*m)>=f*f+d*d+h*h:0){M=+v(+(f*f+d*d+h*h))/+v(+(p*p+(b*b+m*m)))*.800000011920929;u=u*M;l=l*M;a=a*M}E=l+ +c[H+60>>2];M=a+ +c[H+64>>2];c[H+56>>2]=I+(u+ +c[H+56>>2]);c[H+60>>2]=x+E;c[H+64>>2]=O+M}}}while(0);r=r+1|0}while((r|0)!=(i|0))}i=o[2685]|0;R=(o[i+16>>2]|0)+-1|0;o[i+16>>2]=R;do{if(!R){if(o[i+4>>2]|0){$(K+128|0,0)|0;R=o[6746]|0;c[i+8>>2]=+c[i+8>>2]+ +(((o[K+128+4>>2]|0)-(o[R+4>>2]|0)+(((o[K+128>>2]|0)-(o[R>>2]|0)|0)*1e6|0)-(o[i+12>>2]|0)|0)>>>0)/1.0e3;if(o[i+16>>2]|0)break;i=o[2685]|0}o[2685]=o[i+20>>2]}}while(0);i=o[P+712>>2]|0;if((i|0)>0){r=0;do{T=o[P+720>>2]|0;S=T+(r*104|0)+8|0;R=T+(r*104|0)+24|0;o[R>>2]=o[S>>2];o[R+4>>2]=o[S+4>>2];o[R+8>>2]=o[S+8>>2];o[R+12>>2]=o[S+12>>2];R=T+(r*104|0)+56|0;I=+c[T+(r*104|0)+88>>2];x=+c[P+452>>2];M=+c[R>>2]*I*x;O=I*+c[T+(r*104|0)+60>>2]*x;I=x*(I*+c[T+(r*104|0)+64>>2]);x=+c[(o[P+684>>2]|0)+12>>2]/x;M=M>x?x:M;O=O>x?x:O;I=I>x?x:I;g=T+(r*104|0)+40|0;M=(M<-x?-x:M)+ +c[g>>2];c[g>>2]=M;g=T+(r*104|0)+44|0;O=(O<-x?-x:O)+ +c[g>>2];c[g>>2]=O;g=T+(r*104|0)+48|0;I=(I<-x?-x:I)+ +c[g>>2];c[g>>2]=I;x=+c[P+452>>2];c[S>>2]=M*x+ +c[S>>2];S=T+(r*104|0)+12|0;c[S>>2]=O*x+ +c[S>>2];T=T+(r*104|0)+16|0;c[T>>2]=I*x+ +c[T>>2];o[R>>2]=0;o[R+4>>2]=0;o[R+8>>2]=0;o[R+12>>2]=0;r=r+1|0}while((r|0)!=(i|0))}rs(P);i=o[P+928>>2]|0;if(i){R=o[P+192>>2]|0;O=+nF[o[(o[R>>2]|0)+48>>2]&15](R);x=+c[i+4>>2]-O;I=+c[i+8>>2]-O;c[P+892>>2]=+c[i>>2]-O;c[P+896>>2]=x;c[P+900>>2]=I;c[P+904>>2]=0.0;I=O+ +c[i+20>>2];x=O+ +c[i+24>>2];c[P+908>>2]=O+ +c[i+16>>2];c[P+912>>2]=I;c[P+916>>2]=x;c[P+920>>2]=0.0;i=o[P+188>>2]|0;if(i|0){R=o[P+684>>2]|0;T=o[R+32>>2]|0;jF[o[(o[T>>2]|0)+16>>2]&31](T,i,P+892|0,P+908|0,o[R+36>>2]|0)}}else{o[P+892>>2]=0;o[P+892+4>>2]=0;o[P+892+8>>2]=0;o[P+892+12>>2]=0;o[P+892+16>>2]=0;o[P+892+20>>2]=0;o[P+892+24>>2]=0;o[P+892+28>>2]=0}i=o[P+712>>2]|0;if((i|0)>0){r=0;do{T=o[P+720>>2]|0;I=+c[P+464>>2];M=+c[T+(r*104|0)+8>>2];x=+c[T+(r*104|0)+12>>2];O=+c[T+(r*104|0)+16>>2];c[K>>2]=M-I;c[K+4>>2]=x-I;c[K+8>>2]=O-I;c[K+12>>2]=0.0;c[K+16>>2]=I+M;c[K+20>>2]=I+x;c[K+24>>2]=I+O;c[K+28>>2]=0.0;R=o[T+(r*104|0)+96>>2]|0;O=+c[P+460>>2];I=O*+c[T+(r*104|0)+44>>2];x=O*+c[T+(r*104|0)+48>>2];c[K+128>>2]=+c[T+(r*104|0)+40>>2]*O;c[K+128+4>>2]=I;c[K+128+8>>2]=x;c[K+128+12>>2]=0.0;yi(P+928|0,R,K,K+128|0,+c[P+468>>2])|0;r=r+1|0}while((r|0)!=(i|0))}if(o[P+988>>2]|0?(o[P+752>>2]|0)>0:0){i=0;do{R=o[P+760>>2]|0;g=o[R+(i*44|0)+8>>2]|0;S=o[R+(i*44|0)+12>>2]|0;T=o[R+(i*44|0)+16>>2]|0;M=(+c[g+40>>2]+ +c[S+40>>2]+ +c[T+40>>2])*.3333333432674408;O=(+c[g+44>>2]+ +c[S+44>>2]+ +c[T+44>>2])*.3333333432674408;I=(+c[g+48>>2]+ +c[S+48>>2]+ +c[T+48>>2])*.3333333432674408;m=+c[P+464>>2];h=+c[g+8>>2];b=+c[g+12>>2];C=+c[g+16>>2];x=+c[g+20>>2];E=+c[S+8>>2];a=E<h?E:h;A=+c[S+12>>2];l=A<b?A:b;p=+c[S+16>>2];u=p<C?p:C;d=+c[S+20>>2];f=d<x?d:x;h=h<E?E:h;b=b<A?A:b;C=C<p?p:C;x=x<d?d:x;d=+c[T+8>>2];p=+c[T+12>>2];A=+c[T+16>>2];E=+c[T+20>>2];c[K>>2]=(d<a?d:a)-m;c[K+4>>2]=(p<l?p:l)-m;c[K+8>>2]=(A<u?A:u)-m;c[K+12>>2]=E<f?E:f;c[K+16>>2]=m+(h<d?d:h);c[K+20>>2]=m+(b<p?p:b);c[K+24>>2]=m+(C<A?A:C);c[K+28>>2]=x<E?E:x;R=o[R+(i*44|0)+40>>2]|0;x=+c[P+460>>2];c[K+128>>2]=M*x;c[K+128+4>>2]=O*x;c[K+128+8>>2]=I*x;c[K+128+12>>2]=0.0;yi(P+988|0,R,K,K+128|0,+c[P+468>>2])|0;i=i+1|0}while((i|0)<(o[P+752>>2]|0))}do{if(n[P+473>>0]|0){R=o[P+712>>2]|0;if((R|0)>0){i=o[P+720>>2]|0;r=o[P+512>>2]|0;l=0.0;u=0.0;a=0.0;s=0;do{x=+c[r+(s<<2)>>2];a=a+ +c[i+(s*104|0)+8>>2]*x;l=l+x*+c[i+(s*104|0)+12>>2];u=u+x*+c[i+(s*104|0)+16>>2];s=s+1|0}while((s|0)!=(R|0))}else{a=0.0;l=0.0;u=0.0}c[P+520>>2]=a;c[P+524>>2]=l;c[P+528>>2]=u;c[P+532>>2]=0.0;S=K+128+4|0;T=S+44|0;do{o[S>>2]=0;S=S+4|0}while((S|0)<(T|0));c[K+128>>2]=1.1920928955078125e-07;c[K+128+20>>2]=2.384185791015625e-07;c[K+128+40>>2]=3.5762786865234375e-07;if((R|0)>0){i=o[P+512>>2]|0;r=o[P+720>>2]|0;s=o[P+492>>2]|0;f=1.1920928955078125e-07;d=0.0;h=0.0;p=0.0;b=2.384185791015625e-07;m=0.0;A=0.0;C=0.0;E=3.5762786865234375e-07;g=0;do{I=+c[i+(g<<2)>>2];J=(+c[r+(g*104|0)+8>>2]-a)*I;Z=(+c[r+(g*104|0)+12>>2]-l)*I;I=I*(+c[r+(g*104|0)+16>>2]-u);M=+c[s+(g<<4)>>2];O=+c[s+(g<<4)+4>>2];x=+c[s+(g<<4)+8>>2];f=J*M+f;d=J*O+d;h=J*x+h;p=Z*M+p;b=Z*O+b;m=Z*x+m;A=I*M+A;C=I*O+C;E=I*x+E;g=g+1|0}while((g|0)!=(R|0));c[K+128>>2]=f;c[K+128+4>>2]=d;c[K+128+8>>2]=h;c[K+128+16>>2]=p;c[K+128+20>>2]=b;c[K+128+24>>2]=m;c[K+128+32>>2]=A;c[K+128+36>>2]=C;c[K+128+40>>2]=E}if((n[24920]|0)==0?PM(24920)|0:0){c[6392]=9.999999747378752e-05;o[6393]=16;GR(24920)}Es(K+128|0,K+80|0,K+32|0);o[P+536>>2]=o[K+80>>2];o[P+536+4>>2]=o[K+80+4>>2];o[P+536+8>>2]=o[K+80+8>>2];o[P+536+12>>2]=o[K+80+12>>2];o[P+552>>2]=o[G>>2];o[P+552+4>>2]=o[G+4>>2];o[P+552+8>>2]=o[G+8>>2];o[P+552+12>>2]=o[G+12>>2];o[P+568>>2]=o[W>>2];o[P+568+4>>2]=o[W+4>>2];o[P+568+8>>2]=o[W+8>>2];o[P+568+12>>2]=o[W+12>>2];ne=+c[K+80>>2];q=+c[G>>2];O=+c[W>>2];ie=+c[K+80+4>>2];C=+c[K+80+20>>2];x=+c[K+80+36>>2];te=+c[K+80+8>>2];E=+c[K+80+24>>2];J=+c[K+80+40>>2];b=+c[P+632>>2];m=+c[P+636>>2];A=+c[P+640>>2];_e=+c[P+648>>2];le=+c[P+652>>2];p=+c[P+656>>2];I=+c[P+664>>2];Z=+c[P+668>>2];a=+c[P+672>>2];ce=+c[K+128>>2];se=+c[K+128+16>>2];h=+c[K+128+32>>2];f=(ne*b+ie*m+te*A)*ce+(q*b+C*m+E*A)*se+(O*b+x*m+J*A)*h;oe=+c[K+128+4>>2];re=+c[K+128+20>>2];d=+c[K+128+36>>2];u=(ne*b+ie*m+te*A)*oe+(q*b+C*m+E*A)*re+(O*b+x*m+J*A)*d;ee=+c[K+128+8>>2];M=+c[K+128+24>>2];l=+c[K+128+40>>2];A=(ne*b+ie*m+te*A)*ee+(q*b+C*m+E*A)*M+(O*b+x*m+J*A)*l;m=(ne*_e+ie*le+te*p)*ce+(q*_e+C*le+E*p)*se+(O*_e+x*le+J*p)*h;b=(ne*_e+ie*le+te*p)*oe+(q*_e+C*le+E*p)*re+(O*_e+x*le+J*p)*d;p=(ne*_e+ie*le+te*p)*ee+(q*_e+C*le+E*p)*M+(O*_e+x*le+J*p)*l;h=ce*(ne*I+ie*Z+te*a)+se*(q*I+C*Z+E*a)+(O*I+x*Z+J*a)*h;d=(ne*I+ie*Z+te*a)*oe+(q*I+C*Z+E*a)*re+(O*I+x*Z+J*a)*d;l=(ne*I+ie*Z+te*a)*ee+(q*I+C*Z+E*a)*M+(O*I+x*Z+J*a)*l;c[P+584>>2]=f;c[P+588>>2]=u;c[P+592>>2]=A;c[P+596>>2]=0.0;c[P+600>>2]=m;c[P+604>>2]=b;c[P+608>>2]=p;c[P+612>>2]=0.0;c[P+616>>2]=h;c[P+620>>2]=d;c[P+624>>2]=l;c[P+628>>2]=0.0;a=+c[P+364>>2];if(a>1.0){_e=1.0/(A*(d*m-b*h)+(f*(b*l-p*d)+u*(p*h-l*m)))<1.0?1.0:a<1.0/(A*(d*m-b*h)+(f*(b*l-p*d)+u*(p*h-l*m)))?a:1.0/(A*(d*m-b*h)+(f*(b*l-p*d)+u*(p*h-l*m)));c[P+584>>2]=f*_e;c[P+588>>2]=u*_e;c[P+592>>2]=A*_e;c[P+596>>2]=0.0;c[P+600>>2]=m*_e;c[P+604>>2]=b*_e;c[P+608>>2]=p*_e;c[P+612>>2]=0.0;c[P+616>>2]=h*_e;c[P+620>>2]=d*_e;c[P+624>>2]=l*_e;c[P+628>>2]=0.0}if(n[P+473>>0]|0){if(!(+c[P+320>>2]>0.0))break;a=+c[P+536>>2];d=+c[P+540>>2];h=+c[P+544>>2];p=+c[P+552>>2];b=+c[P+556>>2];m=+c[P+560>>2];l=+c[P+568>>2];u=+c[P+572>>2];f=+c[P+576>>2];i=o[P+712>>2]|0;if((i|0)<=0)break;s=0;do{r=o[P+720>>2]|0;if(+c[r+(s*104|0)+88>>2]>0.0){S=o[P+492>>2]|0;re=+c[S+(s<<4)>>2];oe=+c[S+(s<<4)+4>>2];se=+c[S+(s<<4)+8>>2];ne=+c[P+320>>2];S=r+(s*104|0)+8|0;ce=+c[S>>2];T=r+(s*104|0)+12|0;le=+c[T>>2];R=r+(s*104|0)+16|0;_e=+c[R>>2];le=le+ne*(p*re+b*oe+m*se+ +c[P+524>>2]-le);_e=_e+ne*(l*re+u*oe+f*se+ +c[P+528>>2]-_e);c[S>>2]=ce+ne*(+c[P+520>>2]+(a*re+d*oe+h*se)-ce);c[T>>2]=le;c[R>>2]=_e;c[r+(s*104|0)+20>>2]=0.0}s=s+1|0}while((s|0)!=(i|0))}}}while(0);S=K+128|0;T=S+104|0;do{o[S>>2]=0;S=S+4|0}while((S|0)<(T|0));i=o[P+812>>2]|0;if((i|0)<0){if((o[P+816>>2]|0)<0){r=o[P+820>>2]|0;if(r|0){if(n[P+824>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[P+820>>2]=0}n[P+824>>0]=1;o[P+820>>2]=0;o[P+816>>2]=0}do{R=o[P+820>>2]|0;T=R+(i*104|0)|0;o[T>>2]=o[K+128>>2];o[T+4>>2]=o[K+128+4>>2];o[T+8>>2]=o[K+128+8>>2];o[T+12>>2]=o[K+128+12>>2];o[T+16>>2]=o[K+128+16>>2];o[T+20>>2]=o[K+128+20>>2];o[T+24>>2]=o[K+128+24>>2];T=R+(i*104|0)+28|0;o[T>>2]=o[K+128+28>>2];o[T+4>>2]=o[K+128+28+4>>2];o[T+8>>2]=o[K+128+28+8>>2];o[T+12>>2]=o[K+128+28+12>>2];T=R+(i*104|0)+44|0;o[T>>2]=o[K+128+44>>2];o[T+4>>2]=o[K+128+44+4>>2];o[T+8>>2]=o[K+128+44+8>>2];o[T+12>>2]=o[K+128+44+12>>2];T=R+(i*104|0)+60|0;o[T>>2]=o[K+128+60>>2];o[T+4>>2]=o[K+128+60+4>>2];o[T+8>>2]=o[K+128+60+8>>2];o[T+12>>2]=o[K+128+60+12>>2];R=R+(i*104|0)+76|0;o[R>>2]=o[X>>2];o[R+4>>2]=o[X+4>>2];o[R+8>>2]=o[X+8>>2];o[R+12>>2]=o[X+12>>2];o[R+16>>2]=o[X+16>>2];o[R+20>>2]=o[X+20>>2];o[R+24>>2]=o[X+24>>2];i=i+1|0}while((i|0)!=0)}o[P+812>>2]=0;S=K+128|0;T=S+56|0;do{o[S>>2]=0;S=S+4|0}while((S|0)<(T|0));i=o[P+832>>2]|0;if((i|0)<0){if((o[P+836>>2]|0)<0){r=o[P+840>>2]|0;if(r|0){if(n[P+844>>0]|0){o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0)}o[P+840>>2]=0}n[P+844>>0]=1;o[P+840>>2]=0;o[P+836>>2]=0}do{S=(o[P+840>>2]|0)+(i*56|0)|0;r=K+128|0;T=S+56|0;do{o[S>>2]=o[r>>2];S=S+4|0;r=r+4|0}while((S|0)<(T|0));i=i+1|0}while((i|0)!=0)}o[P+832>>2]=0;ht(P+928|0,1);ht(P+988|0,1);ht(P+1048|0,1);i=o[e+24>>2]|0}}D=D+1|0}while((D|0)<(i|0));ae=K;return}function bD(e,t,i){e=e|0;t=t|0;i=i|0;var r=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,O=0,I=0,x=0,P=0,D=0,w=0,L=0,F=0,N=0,B=0;fe(e,t,i)|0;P=o[e+872>>2]|0;o[t+292>>2]=P;if(P){P=pF[o[(o[i>>2]|0)+28>>2]&31](i,e+868|0)|0;o[t+260>>2]=P;if(P|0){a=o[t+292>>2]|0;f=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,a)|0;if((a|0)>0){_=0;u=o[f+8>>2]|0;while(1){c=o[(o[e+880>>2]|0)+(_<<2)>>2]|0;if(!c){r=0;l=0}else{r=c;l=pF[o[(o[i>>2]|0)+28>>2]&31](i,c)|0}o[u>>2]=l;if(!(pF[o[(o[i>>2]|0)+24>>2]&31](i,r)|0)){P=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,1)|0;x=o[P+8>>2]|0;o[x+12>>2]=o[c+16>>2];o[x+4>>2]=o[c+8>>2];o[x>>2]=o[c+4>>2];o[x+8>>2]=o[c+12>>2];jF[o[(o[i>>2]|0)+20>>2]&31](i,P,13324,1414349395,r)}_=_+1|0;if((_|0)>=(a|0)){r=i;break}else u=u+4|0}}else r=i;jF[o[(o[r>>2]|0)+20>>2]&31](i,f,13324,1497453121,e+868|0)}}else o[t+260>>2]=0;P=o[e+712>>2]|0;o[t+296>>2]=P;if(P){P=pF[o[(o[i>>2]|0)+28>>2]&31](i,e+708|0)|0;o[t+264>>2]=P;if(!P){E=0;a=0;c=0;l=0;_=0}else{O=o[t+296>>2]|0;P=mF[o[(o[i>>2]|0)+16>>2]&63](i,100,O)|0;if((O|0)>0){d=0;y=0;I=0;p=0;g=0;A=0;r=0;a=0;R=0;S=0;E=0;c=0;M=0;l=0;_=0;x=o[P+8>>2]|0;while(1){u=o[e+720>>2]|0;o[x+52>>2]=o[u+(I*104|0)+56>>2];o[x+56>>2]=o[u+(I*104|0)+60>>2];o[x+60>>2]=o[u+(I*104|0)+64>>2];o[x+64>>2]=o[u+(I*104|0)+68>>2];o[x+88>>2]=o[u+(I*104|0)+92>>2];f=n[u+(I*104|0)+100>>0]<<7&255;o[x+92>>2]=(7?f<<24>>24>>7:f<<24>>24)<<24>>24;o[x+84>>2]=o[u+(I*104|0)+88>>2];f=o[u+(I*104|0)+4>>2]|0;if(!f)f=0;else{f=pF[o[(o[i>>2]|0)+28>>2]&31](i,f)|0;u=o[e+720>>2]|0}o[x>>2]=f;m=u+(I*104|0)|0;o[x+68>>2]=o[u+(I*104|0)+72>>2];o[x+72>>2]=o[u+(I*104|0)+76>>2];o[x+76>>2]=o[u+(I*104|0)+80>>2];o[x+80>>2]=o[u+(I*104|0)+84>>2];o[x+4>>2]=o[u+(I*104|0)+8>>2];o[x+8>>2]=o[u+(I*104|0)+12>>2];o[x+12>>2]=o[u+(I*104|0)+16>>2];o[x+16>>2]=o[u+(I*104|0)+20>>2];o[x+20>>2]=o[u+(I*104|0)+24>>2];o[x+24>>2]=o[u+(I*104|0)+28>>2];o[x+28>>2]=o[u+(I*104|0)+32>>2];o[x+32>>2]=o[u+(I*104|0)+36>>2];o[x+36>>2]=o[u+(I*104|0)+40>>2];o[x+40>>2]=o[u+(I*104|0)+44>>2];o[x+44>>2]=o[u+(I*104|0)+48>>2];o[x+48>>2]=o[u+(I*104|0)+52>>2];v=((10?m+~(m<<15)>>10:m+~(m<<15)|0)^m+~(m<<15))*9|0;v=(6?v>>6:v)^v;v=(16?v+~(v<<11)>>16:v+~(v<<11)|0)^v+~(v<<11);b=v&l+-1;e:do{if(b>>>0<R>>>0?(L=o[a+(b<<2)>>2]|0,(L|0)!=-1):0){u=L;while(1){if((o[r+(u<<3)>>2]|0)==(m|0))break;u=o[c+(u<<2)>>2]|0;if((u|0)==-1){F=27;break e}}o[_+(u<<2)>>2]=I;h=y;m=R;u=S;f=E;b=M}else F=27}while(0);if((F|0)==27){F=0;do{if((M|0)==(l|0)){f=(l|0)==0?1:l<<1;if((l|0)<(f|0)){if((f|0)!=0?(o[6747]=(o[6747]|0)+1,D=Do((f<<2|3)+16|0)|0,(D|0)!=0):0){o[(D+4+15&-16)+-4>>2]=D;h=D+4+15&-16}else h=0;if((l|0)<=0){if(!_){u=l;T=f;_=h;break}}else{u=0;do{o[h+(u<<2)>>2]=o[_+(u<<2)>>2];u=u+1|0}while((u|0)!=(l|0))}o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0);u=l;T=f;_=h}else{u=l;T=l}}else{u=M;T=l}}while(0);o[_+(u<<2)>>2]=I;C=M+1|0;do{if((g|0)==(A|0)){u=(g|0)==0?1:g<<1;if((g|0)<(u|0)){if((u|0)!=0?(o[6747]=(o[6747]|0)+1,w=Do((u<<3|3)+16|0)|0,(w|0)!=0):0){o[(w+4+15&-16)+-4>>2]=w;h=w+4+15&-16}else h=0;if((g|0)<=0){if(!r){A=u;r=h;break}}else{f=0;do{B=r+(f<<3)|0;N=o[B+4>>2]|0;A=h+(f<<3)|0;o[A>>2]=o[B>>2];o[A+4>>2]=N;f=f+1|0}while((f|0)!=(g|0))}o[6748]=(o[6748]|0)+1;Vs(o[r+-4>>2]|0);A=u;r=h}else A=g}}while(0);o[r+(g<<3)>>2]=m;g=g+1|0;if((l|0)<(T|0)){if((R|0)<(T|0)){do{if((p|0)<(T|0)){do{if(!T)u=0;else{o[6747]=(o[6747]|0)+1;l=Do((T<<2|3)+16|0)|0;if(!l){u=0;break}o[(l+4+15&-16)+-4>>2]=l;u=l+4+15&-16}}while(0);if((R|0)<=0){if(!a){b=u;p=T;a=u;break}}else{l=0;do{o[u+(l<<2)>>2]=o[a+(l<<2)>>2];l=l+1|0}while((l|0)!=(R|0))}o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);b=u;p=T;a=u}else b=y}while(0);h=T<<2;_l(a+(R<<2)|0,0,h-(R<<2)|0)|0;if((S|0)<(T|0)){do{if((E|0)<(T|0)){do{if(!T)u=0;else{o[6747]=(o[6747]|0)+1;l=Do((h|3)+16|0)|0;if(!l){u=0;break}o[(l+4+15&-16)+-4>>2]=l;u=l+4+15&-16}}while(0);if((S|0)<=0){if(!c){l=u;f=T;c=u;break}}else{l=0;do{o[u+(l<<2)>>2]=o[c+(l<<2)>>2];l=l+1|0}while((l|0)!=(S|0))}o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0);l=u;f=T;c=u}else{l=d;f=E}}while(0);_l(c+(S<<2)|0,0,h-(S<<2)|0)|0;d=l}else f=E;if((T|0)>0){_l(b|0,-1,h|0)|0;_l(d|0,-1,h|0)|0}if((R|0)>0){u=T+-1|0;l=0;do{B=o[r+(l<<3)>>2]|0;B=((10?B+~(B<<15)>>10:B+~(B<<15)|0)^B+~(B<<15))*9|0;B=(6?B>>6:B)^B;B=a+((((16?B+~(B<<11)>>16:B+~(B<<11)|0)^B+~(B<<11))&u)<<2)|0;o[c+(l<<2)>>2]=o[B>>2];o[B>>2]=l;l=l+1|0}while((l|0)!=(R|0));h=b;l=T;u=T}else{h=b;l=T;u=T}}else{h=y;l=R;u=S;f=E}b=v&T+-1}else{h=y;l=R;u=S;f=E}m=a+(b<<2)|0;o[c+(M<<2)>>2]=o[m>>2];o[m>>2]=M;m=l;b=C;l=T}I=I+1|0;if((I|0)>=(O|0))break;else{y=h;R=m;S=u;E=f;M=b;x=x+100|0}}}else{r=0;a=0;c=0;l=0;_=0}jF[o[(o[i>>2]|0)+20>>2]&31](i,P,13345,1145979475,e+708|0);E=r}}else{o[t+264>>2]=0;E=0;a=0;c=0;l=0;_=0}B=o[e+732>>2]|0;o[t+300>>2]=B;if(B){B=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+740>>2]|0)|0;o[t+268>>2]=B;if(B|0){d=o[t+300>>2]|0;b=mF[o[(o[i>>2]|0)+16>>2]&63](i,20,d)|0;if((d|0)>0){r=o[e+740>>2]|0;f=r;h=0;p=o[b+8>>2]|0;while(1){u=n[f+(h*52|0)+20>>0]<<7&255;o[p+16>>2]=(7?u<<24>>24>>7:u<<24>>24)<<24>>24;u=o[f+(h*52|0)+4>>2]|0;if(!u)u=0;else{u=pF[o[(o[i>>2]|0)+28>>2]&31](i,u)|0;r=o[e+740>>2]|0;f=r}o[p>>2]=u;u=o[f+(h*52|0)+8>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+4>>2]=u;u=o[f+(h*52|0)+12>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+8>>2]=u;o[p+12>>2]=o[f+(h*52|0)+16>>2];h=h+1|0;if((h|0)>=(d|0))break;else p=p+20|0}}else r=o[e+740>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,b,13362,1497453121,r)}}else o[t+268>>2]=0;B=o[e+752>>2]|0;o[t+304>>2]=B;if(B){B=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+760>>2]|0)|0;o[t+272>>2]=B;if(B|0){d=o[t+304>>2]|0;b=mF[o[(o[i>>2]|0)+16>>2]&63](i,36,d)|0;if((d|0)>0){r=o[e+760>>2]|0;f=r;h=0;p=o[b+8>>2]|0;while(1){u=o[f+(h*44|0)+4>>2]|0;if(!u)u=0;else{u=pF[o[(o[i>>2]|0)+28>>2]&31](i,u)|0;r=o[e+760>>2]|0;f=r}o[p+16>>2]=u;o[p>>2]=o[f+(h*44|0)+20>>2];o[p+4>>2]=o[f+(h*44|0)+24>>2];o[p+8>>2]=o[f+(h*44|0)+28>>2];o[p+12>>2]=o[f+(h*44|0)+32>>2];u=o[f+(h*44|0)+8>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+20>>2]=u;u=o[f+(h*44|0)+12>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+24>>2]=u;u=o[f+(h*44|0)+16>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+28>>2]=u;o[p+32>>2]=o[f+(h*44|0)+36>>2];h=h+1|0;if((h|0)>=(d|0))break;else p=p+36|0}}else r=o[e+760>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,b,13379,1497453121,r)}}else o[t+272>>2]=0;B=o[e+772>>2]|0;o[t+308>>2]=B;if(B){B=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+780>>2]|0)|0;o[t+276>>2]=B;if(B|0){d=o[t+308>>2]|0;b=mF[o[(o[i>>2]|0)+16>>2]&63](i,100,d)|0;if((d|0)>0){r=o[e+780>>2]|0;f=r;h=0;p=o[b+8>>2]|0;while(1){o[p>>2]=o[f+(h*104|0)+32>>2];o[p+4>>2]=o[f+(h*104|0)+36>>2];o[p+8>>2]=o[f+(h*104|0)+40>>2];o[p+12>>2]=o[f+(h*104|0)+44>>2];u=o[f+8>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+68>>2]=u;o[p+16>>2]=o[f+(h*104|0)+48>>2];o[p+20>>2]=o[f+(h*104|0)+52>>2];o[p+24>>2]=o[f+(h*104|0)+56>>2];o[p+28>>2]=o[f+(h*104|0)+60>>2];u=o[f+116>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+72>>2]=u;o[p+32>>2]=o[f+(h*104|0)+64>>2];o[p+36>>2]=o[f+(h*104|0)+68>>2];o[p+40>>2]=o[f+(h*104|0)+72>>2];o[p+44>>2]=o[f+(h*104|0)+76>>2];u=o[f+224>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+76>>2]=u;o[p+48>>2]=o[f+(h*104|0)+80>>2];o[p+52>>2]=o[f+(h*104|0)+84>>2];o[p+56>>2]=o[f+(h*104|0)+88>>2];o[p+60>>2]=o[f+(h*104|0)+92>>2];u=o[f+332>>2]|0;if(!u)u=-1;else u=(u-(o[e+720>>2]|0)|0)/104|0;o[p+80>>2]=u;o[p+88>>2]=o[f+(h*104|0)+96>>2];o[p+92>>2]=o[f+(h*104|0)+100>>2];u=o[f+(h*104|0)+4>>2]|0;if(!u)u=0;else{u=pF[o[(o[i>>2]|0)+28>>2]&31](i,u)|0;r=o[e+780>>2]|0;f=r}o[p+64>>2]=u;o[p+84>>2]=o[f+(h*104|0)+24>>2];h=h+1|0;if((h|0)>=(d|0))break;else p=p+100|0}}else r=o[e+780>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,b,13396,1497453121,r)}}else o[t+276>>2]=0;B=o[e+792>>2]|0;o[t+312>>2]=B;if(B){B=pF[o[(o[i>>2]|0)+28>>2]&31](i,o[e+800>>2]|0)|0;o[t+280>>2]=B;if(!B)C=i;else{f=o[t+312>>2]|0;d=mF[o[(o[i>>2]|0)+16>>2]&63](i,92,f)|0;if((f|0)>0){h=0;p=o[d+8>>2]|0;while(1){u=o[e+800>>2]|0;o[p>>2]=o[u+(h*96|0)+28>>2];o[p+4>>2]=o[u+(h*96|0)+32>>2];o[p+8>>2]=o[u+(h*96|0)+36>>2];o[p+12>>2]=o[u+(h*96|0)+40>>2];o[p+16>>2]=o[u+(h*96|0)+44>>2];o[p+20>>2]=o[u+(h*96|0)+48>>2];o[p+24>>2]=o[u+(h*96|0)+52>>2];o[p+28>>2]=o[u+(h*96|0)+56>>2];o[p+32>>2]=o[u+(h*96|0)+60>>2];o[p+36>>2]=o[u+(h*96|0)+64>>2];o[p+40>>2]=o[u+(h*96|0)+68>>2];o[p+44>>2]=o[u+(h*96|0)+72>>2];o[p+48>>2]=o[u+(h*96|0)+76>>2];o[p+52>>2]=o[u+(h*96|0)+80>>2];o[p+56>>2]=o[u+(h*96|0)+84>>2];o[p+60>>2]=o[u+(h*96|0)+88>>2];o[p+88>>2]=o[u+(h*96|0)+92>>2];o[p+64>>2]=o[u+(h*96|0)+4>>2];o[p+68>>2]=o[u+(h*96|0)+8>>2];o[p+72>>2]=o[u+(h*96|0)+12>>2];o[p+76>>2]=o[u+(h*96|0)+16>>2];r=o[u+(h*96|0)>>2]|0;if(!r)r=-1;else r=(r-(o[e+720>>2]|0)|0)/104|0;o[p+84>>2]=r;r=o[u+(h*96|0)+20>>2]|0;if(!r)r=0;else r=pF[o[(o[i>>2]|0)+28>>2]&31](i,r)|0;o[p+80>>2]=r;h=h+1|0;if((h|0)>=(f|0))break;else p=p+92|0}}jF[o[(o[i>>2]|0)+20>>2]&31](i,d,13414,1497453121,o[e+800>>2]|0);C=i}}else{o[t+280>>2]=0;C=i}o[t+352>>2]=o[e+316>>2];o[t+328>>2]=o[e+292>>2];o[t+344>>2]=o[e+308>>2];o[t+324>>2]=o[e+288>>2];o[t+340>>2]=o[e+304>>2];o[t+336>>2]=o[e+300>>2];o[t+412>>2]=o[e+376>>2];o[t+416>>2]=o[e+380>>2];o[t+420>>2]=o[e+384>>2];o[t+408>>2]=o[e+372>>2];b=o[e+364>>2]|0;o[t+332>>2]=o[e+296>>2];o[t+356>>2]=o[e+320>>2];o[t+424>>2]=o[e+388>>2];o[t+348>>2]=o[e+312>>2];o[t+360>>2]=o[e+324>>2];o[t+364>>2]=o[e+328>>2];o[t+368>>2]=o[e+332>>2];o[t+372>>2]=o[e+336>>2];o[t+404>>2]=o[e+368>>2];o[t+400>>2]=b;o[t+376>>2]=o[e+340>>2];o[t+380>>2]=o[e+344>>2];o[t+384>>2]=o[e+348>>2];o[t+388>>2]=o[e+352>>2];o[t+392>>2]=o[e+356>>2];o[t+396>>2]=o[e+360>>2];o[t+256>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,e+472|0)|0;b=mF[o[(o[i>>2]|0)+16>>2]&63](i,192,1)|0;p=o[b+8>>2]|0;o[p+96>>2]=o[e+632>>2];o[p+100>>2]=o[e+636>>2];o[p+104>>2]=o[e+640>>2];o[p+108>>2]=o[e+644>>2];o[p+112>>2]=o[e+648>>2];o[p+116>>2]=o[e+652>>2];o[p+120>>2]=o[e+656>>2];o[p+124>>2]=o[e+660>>2];o[p+128>>2]=o[e+664>>2];o[p+132>>2]=o[e+668>>2];o[p+136>>2]=o[e+672>>2];o[p+140>>2]=o[e+676>>2];o[p+180>>2]=s[e+473>>0];o[p+176>>2]=s[e+472>>0];o[p+144>>2]=o[e+520>>2];o[p+148>>2]=o[e+524>>2];o[p+152>>2]=o[e+528>>2];o[p+156>>2]=o[e+532>>2];B=o[e+484>>2]|0;o[p+168>>2]=B;if(B){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[e+492>>2]|0)|0;u=o[p+168>>2]|0;o[p+160>>2]=B;if(u|0){h=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,u)|0;if((u|0)>0){r=o[e+492>>2]|0;f=0;d=o[h+8>>2]|0;while(1){o[d>>2]=o[r+(f<<4)>>2];o[d+4>>2]=o[r+(f<<4)+4>>2];o[d+8>>2]=o[r+(f<<4)+8>>2];o[d+12>>2]=o[r+(f<<4)+12>>2];f=f+1|0;if((f|0)==(u|0))break;else d=d+16|0}}else r=o[e+492>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,h,22049,1497453121,r)}}else o[p+160>>2]=0;o[p+184>>2]=o[e+476>>2];o[p>>2]=o[e+536>>2];o[p+4>>2]=o[e+540>>2];o[p+8>>2]=o[e+544>>2];o[p+12>>2]=o[e+548>>2];o[p+16>>2]=o[e+552>>2];o[p+20>>2]=o[e+556>>2];o[p+24>>2]=o[e+560>>2];o[p+28>>2]=o[e+564>>2];o[p+32>>2]=o[e+568>>2];o[p+36>>2]=o[e+572>>2];o[p+40>>2]=o[e+576>>2];o[p+44>>2]=o[e+580>>2];o[p+48>>2]=o[e+584>>2];o[p+52>>2]=o[e+588>>2];o[p+56>>2]=o[e+592>>2];o[p+60>>2]=o[e+596>>2];o[p+64>>2]=o[e+600>>2];o[p+68>>2]=o[e+604>>2];o[p+72>>2]=o[e+608>>2];o[p+76>>2]=o[e+612>>2];o[p+80>>2]=o[e+616>>2];o[p+84>>2]=o[e+620>>2];o[p+88>>2]=o[e+624>>2];o[p+92>>2]=o[e+628>>2];B=o[e+504>>2]|0;o[p+172>>2]=B;if(B){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[e+512>>2]|0)|0;d=o[p+172>>2]|0;o[p+164>>2]=B;if(d|0){h=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,d)|0;if((d|0)>0){r=o[e+512>>2]|0;u=0;f=o[h+8>>2]|0;while(1){o[f>>2]=o[r+(u<<2)>>2];u=u+1|0;if((u|0)==(d|0))break;else f=f+4|0}}else r=o[e+512>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,h,22387,1497453121,r)}}else o[p+164>>2]=0;jF[o[(o[i>>2]|0)+20>>2]&31](i,b,13434,1497453121,e+472|0);B=o[e+1112>>2]|0;o[t+316>>2]=B;if(B){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[o[e+1120>>2]>>2]|0)|0;y=o[t+316>>2]|0;o[t+284>>2]=B;if(y|0){v=mF[o[(o[i>>2]|0)+16>>2]&63](i,348,y)|0;if((y|0)>0){g=l+-1|0;m=0;A=o[v+8>>2]|0;while(1){r=o[(o[e+1120>>2]|0)+(m<<2)>>2]|0;B=A+320|0;o[B>>2]=o[r+360>>2];o[A+256>>2]=o[r+332>>2];o[A+260>>2]=o[r+336>>2];o[A+264>>2]=o[r+340>>2];o[A+268>>2]=o[r+344>>2];o[A+344>>2]=o[r+380>>2];o[A+340>>2]=s[r+377>>0];o[A+160>>2]=o[r+228>>2];o[A+164>>2]=o[r+232>>2];o[A+168>>2]=o[r+236>>2];o[A+172>>2]=o[r+240>>2];o[A+336>>2]=s[r+376>>0];o[A+208>>2]=o[r+276>>2];o[A+212>>2]=o[r+280>>2];o[A+216>>2]=o[r+284>>2];o[A+220>>2]=o[r+288>>2];o[A+224>>2]=o[r+292>>2];o[A+228>>2]=o[r+296>>2];o[A+232>>2]=o[r+300>>2];o[A+236>>2]=o[r+304>>2];o[A>>2]=o[r+60>>2];o[A+4>>2]=o[r+64>>2];o[A+8>>2]=o[r+68>>2];o[A+12>>2]=o[r+72>>2];o[A+16>>2]=o[r+76>>2];o[A+20>>2]=o[r+80>>2];o[A+24>>2]=o[r+84>>2];o[A+28>>2]=o[r+88>>2];o[A+32>>2]=o[r+92>>2];o[A+36>>2]=o[r+96>>2];o[A+40>>2]=o[r+100>>2];o[A+44>>2]=o[r+104>>2];o[A+48>>2]=o[r+108>>2];o[A+52>>2]=o[r+112>>2];o[A+56>>2]=o[r+116>>2];o[A+60>>2]=o[r+120>>2];o[A+296>>2]=o[r+124>>2];o[A+300>>2]=o[r+128>>2];o[A+112>>2]=o[r+180>>2];o[A+116>>2]=o[r+184>>2];o[A+120>>2]=o[r+188>>2];o[A+124>>2]=o[r+192>>2];o[A+128>>2]=o[r+196>>2];o[A+132>>2]=o[r+200>>2];o[A+136>>2]=o[r+204>>2];o[A+140>>2]=o[r+208>>2];o[A+144>>2]=o[r+212>>2];o[A+148>>2]=o[r+216>>2];o[A+152>>2]=o[r+220>>2];o[A+156>>2]=o[r+224>>2];l=A+316|0;o[l>>2]=o[r+356>>2];o[A+64>>2]=o[r+132>>2];o[A+68>>2]=o[r+136>>2];o[A+72>>2]=o[r+140>>2];o[A+76>>2]=o[r+144>>2];o[A+80>>2]=o[r+148>>2];o[A+84>>2]=o[r+152>>2];o[A+88>>2]=o[r+156>>2];o[A+92>>2]=o[r+160>>2];o[A+96>>2]=o[r+164>>2];o[A+100>>2]=o[r+168>>2];o[A+104>>2]=o[r+172>>2];o[A+108>>2]=o[r+176>>2];o[A+240>>2]=o[r+316>>2];o[A+244>>2]=o[r+320>>2];o[A+248>>2]=o[r+324>>2];o[A+252>>2]=o[r+328>>2];o[A+324>>2]=o[r+364>>2];o[A+328>>2]=o[r+368>>2];o[A+312>>2]=o[r+352>>2];o[l>>2]=o[r+356>>2];o[B>>2]=o[r+360>>2];o[A+332>>2]=o[r+372>>2];B=o[r+44>>2]|0;l=A+284|0;o[l>>2]=B;p=A+292|0;o[p>>2]=o[r+4>>2];b=A+288|0;o[b>>2]=o[r+24>>2];o[A+304>>2]=o[r+308>>2];o[A+176>>2]=o[r+244>>2];o[A+180>>2]=o[r+248>>2];o[A+184>>2]=o[r+252>>2];o[A+188>>2]=o[r+256>>2];o[A+192>>2]=o[r+260>>2];o[A+196>>2]=o[r+264>>2];o[A+200>>2]=o[r+268>>2];o[A+204>>2]=o[r+272>>2];o[A+308>>2]=o[r+312>>2];if(B){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[r+52>>2]|0)|0;o[A+272>>2]=B;if(B|0){l=o[l>>2]|0;h=mF[o[(o[i>>2]|0)+16>>2]&63](i,16,l)|0;if((l|0)>0){r=(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+52|0;u=o[r>>2]|0;f=0;d=o[h+8>>2]|0;while(1){o[d>>2]=o[u+(f<<4)>>2];o[d+4>>2]=o[u+(f<<4)+4>>2];o[d+8>>2]=o[u+(f<<4)+8>>2];o[d+12>>2]=o[u+(f<<4)+12>>2];f=f+1|0;if((f|0)==(l|0))break;else d=d+16|0}}else r=(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+52|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,h,22049,1497453121,o[r>>2]|0)}}else o[A+272>>2]=0;if(o[p>>2]|0){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+12>>2]|0)|0;o[A+280>>2]=B;if(B|0){l=o[p>>2]|0;h=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,l)|0;if((l|0)>0){r=(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+12|0;u=o[r>>2]|0;f=0;d=o[h+8>>2]|0;while(1){o[d>>2]=o[u+(f<<2)>>2];f=f+1|0;if((f|0)==(l|0))break;else d=d+4|0}}else r=(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+12|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,h,22387,1497453121,o[r>>2]|0)}}else o[A+280>>2]=0;if(o[b>>2]|0){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,(o[(o[e+1120>>2]|0)+(m<<2)>>2]|0)+20|0)|0;o[A+276>>2]=B;if(B|0){d=o[p>>2]|0;b=mF[o[(o[i>>2]|0)+16>>2]&63](i,4,d)|0;if((d|0)>0){r=o[(o[e+1120>>2]|0)+(m<<2)>>2]|0;f=o[r+32>>2]|0;h=0;p=o[b+8>>2]|0;while(1){u=o[f+(h<<2)>>2]|0;l=((10?~(u<<15)+u>>10:~(u<<15)+u|0)^~(u<<15)+u)*9|0;l=(6?l>>6:l)^l;l=o[a+((((16?l+~(l<<11)>>16:l+~(l<<11)|0)^l+~(l<<11))&g)<<2)>>2]|0;if((o[E+(l<<3)>>2]|0)!=(u|0))do{l=o[c+(l<<2)>>2]|0}while((o[E+(l<<3)>>2]|0)!=(u|0));o[p>>2]=o[_+(l<<2)>>2];h=h+1|0;if((h|0)==(d|0))break;else p=p+4|0}}else r=o[(o[e+1120>>2]|0)+(m<<2)>>2]|0;jF[o[(o[i>>2]|0)+20>>2]&31](i,b,22383,1497453121,r+20|0)}}else o[A+276>>2]=0;m=m+1|0;if((m|0)>=(y|0))break;else A=A+348|0}}jF[o[(o[i>>2]|0)+20>>2]&31](i,v,13451,1497453121,o[o[e+1120>>2]>>2]|0)}}else o[t+284>>2]=0;B=o[e+852>>2]|0;o[t+320>>2]=B;if(B){B=pF[o[(o[C>>2]|0)+28>>2]&31](i,o[e+860>>2]|0)|0;o[t+288>>2]=B;if(B|0){u=o[e+852>>2]|0;f=mF[o[(o[i>>2]|0)+16>>2]&63](i,104,u)|0;if((u|0)>0){d=0;p=o[f+8>>2]|0;while(1){r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0;o[p+96>>2]=dF[o[(o[r>>2]|0)+20>>2]&127](r)|0;r=(o[e+860>>2]|0)+(d<<2)|0;B=o[r>>2]|0;o[p+8>>2]=o[B+28>>2];o[p+12>>2]=o[B+32>>2];o[p+16>>2]=o[B+36>>2];o[p+20>>2]=o[B+40>>2];o[p+24>>2]=o[B+44>>2];o[p+28>>2]=o[B+48>>2];o[p+32>>2]=o[B+52>>2];o[p+36>>2]=o[B+56>>2];o[p+40>>2]=o[B+60>>2];o[p+44>>2]=o[B+64>>2];o[p+48>>2]=o[B+68>>2];o[p+52>>2]=s[B+152>>0];B=p+56|0;o[p>>2]=0;h=p+4|0;o[h>>2]=0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;o[B+20>>2]=0;o[B+24>>2]=0;o[B+28>>2]=0;r=o[(o[r>>2]|0)+4>>2]|0;if(r|0){o[p+88>>2]=1;o[p>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,r)|0}r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0;l=o[r+12>>2]|0;if(l){o[p+88>>2]=3;o[p>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,l)|0;r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0}l=o[r+8>>2]|0;if(l){o[p+88>>2]=2;o[p>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,l)|0;r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0}l=o[r+16>>2]|0;if(l){o[p+92>>2]=1;o[h>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,l)|0;r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0}l=o[r+24>>2]|0;if(l){o[p+92>>2]=3;o[h>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,l)|0;r=o[(o[e+860>>2]|0)+(d<<2)>>2]|0}r=o[r+20>>2]|0;if(r|0){o[p+92>>2]=2;o[h>>2]=pF[o[(o[C>>2]|0)+28>>2]&31](i,r)|0}d=d+1|0;if((d|0)>=(u|0))break;else p=p+104|0}}jF[o[(o[i>>2]|0)+20>>2]&31](i,f,13471,1497453121,o[e+860>>2]|0)}}else o[t+288>>2]=0;if(E|0){o[6748]=(o[6748]|0)+1;Vs(o[E+-4>>2]|0)}if(_|0){o[6748]=(o[6748]|0)+1;Vs(o[_+-4>>2]|0)}if(c|0){o[6748]=(o[6748]|0)+1;Vs(o[c+-4>>2]|0)}if(!a)return 13491;o[6748]=(o[6748]|0)+1;Vs(o[a+-4>>2]|0);return 13491}function mD(e,t,i,n){e=e|0;t=t|0;i=i|0;n=n|0;var r=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=0,R=0,M=0,I=0,x=0,P=0,w=0,L=0,F=0,N=0,B=0,k=0,U=0,H=0,j=0;B=ae;ae=ae+144|0;e:do{switch(i-t|0){case 0:{o[n>>2]=0;o[n+4>>2]=0;o[n+8>>2]=0;o[n+12>>2]=0;ae=B;return}case 2:{r=o[(o[e+92>>2]|0)+(t<<2)>>2]|0;c=o[r+88>>2]|0;l=o[r+200>>2]|0;a=o[r+92>>2]|0;s=o[r+204>>2]|0;if((c|0)==(l|0)&(a|0)==(s|0))if((o[r+96>>2]|0)==(o[r+208>>2]|0))break e;else s=a;s=a-s|0;do{if(s|c-l){o[r>>2]=r+112;o[r+4>>2]=r+112;o[r+112>>2]=r;o[r+116>>2]=r;N=(c-l|0)<0|(c-l|0)==0&(s|0)<0;o[n>>2]=N?r:r+112|0;o[n+4>>2]=N?r+112|0:r;if((s|0)<0|(c-l|0)<0&(s|0)==0){o[n+8>>2]=r;s=r+112|0;a=r;r=r+112|0;break}else{o[n+8>>2]=r+112;s=r;a=r;r=r+112|0;break}}else{N=(o[r+96>>2]|0)>(o[r+208>>2]|0);a=N?r+112|0:r;o[a>>2]=a;o[a+4>>2]=a;o[n>>2]=a;o[n+4>>2]=a;o[n+8>>2]=a;s=a;r=N?r:r+112|0}}while(0);o[n+12>>2]=s;e=Ze(e,a,r)|0;o[e>>2]=e;o[e+4>>2]=e;o[a+8>>2]=e;e=o[e+8>>2]|0;o[e>>2]=e;o[e+4>>2]=e;o[r+8>>2]=e;ae=B;return}case 1:{r=o[(o[e+92>>2]|0)+(t<<2)>>2]|0;break}default:{f=((i-t|0)/2|0)+t|0;a=o[e+92>>2]|0;u=o[a+(f+-1<<2)>>2]|0;c=o[u+88>>2]|0;_=o[u+92>>2]|0;u=o[u+96>>2]|0;t:do{if((f|0)<(i|0)){r=f;do{s=o[a+(r<<2)>>2]|0;if((o[s+88>>2]|0)!=(c|0))break t;if((o[s+92>>2]|0)!=(_|0))break t;if((o[s+96>>2]|0)!=(u|0))break t;r=r+1|0}while((r|0)<(i|0))}else r=f}while(0);mD(e,t,f,n);o[B+96>>2]=0;o[B+96+4>>2]=0;o[B+96+8>>2]=0;o[B+96+12>>2]=0;mD(e,r,i,B+96|0);_=o[B+96+4>>2]|0;t:do{if(_|0){R=o[n+4>>2]|0;if(!R){o[n>>2]=o[B+96>>2];o[n+4>>2]=o[B+96+4>>2];o[n+8>>2]=o[B+96+8>>2];o[n+12>>2]=o[B+96+12>>2];break}o[e+100>>2]=(o[e+100>>2]|0)+-1;a=o[n+12>>2]|0;f=o[B+96+8>>2]|0;c=o[a+88>>2]|0;i:do{if((c|0)==(o[f+88>>2]|0)?(l=o[a+92>>2]|0,(l|0)==(o[f+92>>2]|0)):0){u=o[f+4>>2]|0;if((u|0)==(f|0)){r=o[f+8>>2]|0;if(!r)r=f;else{r=o[r+12>>2]|0;c=o[r+88>>2]|0;l=o[r+92>>2]|0}s=a;u=r;f=r;t=c+1|0;i=o[r+96>>2]|0;break}a=o[f>>2]|0;o[u>>2]=a;o[a+4>>2]=u;if((f|0)==(o[B+96>>2]|0)){r=o[a+88>>2]|0;s=o[u+88>>2]|0;do{if((r|0)<(s|0))r=a;else{if((r|0)==(s|0)?(o[a+92>>2]|0)<(o[u+92>>2]|0):0){r=a;break}r=u}}while(0);o[B+96>>2]=r}if((f|0)==(_|0)){r=o[a+88>>2]|0;s=o[u+88>>2]|0;do{if((r|0)<=(s|0)){if((r|0)==(s|0)?(o[a+92>>2]|0)>(o[u+92>>2]|0):0)break;o[B+96+4>>2]=u;a=u;L=39;break i}}while(0);o[B+96+4>>2]=a;L=39}else{a=_;L=39}}else{a=_;L=39}}while(0);if((L|0)==39){C=o[n>>2]|0;E=o[B+96>>2]|0;S=0;T=1;t=R;s=0;d=a;u=0;while(1){r=o[d+88>>2]|0;i=o[t+88>>2]|0;_=O(r-i|0,T)|0;i:do{if((_|0)<=0){if((_|0)<0){v=(S|0)!=0;f=o[t+92>>2]|0;i=r;y=o[d+92>>2]|0;l=t;r=d;while(1){A=o[(v?r+4|0:r)>>2]|0;m=(A|0)==(r|0);g=r+88|0;while(1){c=l+88|0;b=y-f|0;if(!m?(M=o[A+88>>2]|0,x=O(M-i|0,T)|0,I=o[A+92>>2]|0,P=I-y|0,(P|0)>-1):0){if(!x)break;if((x|0)<0?(O(P,_)|0)<=(O(x,b)|0):0)break}p=o[(v?l+4|0:l)>>2]|0;if((p|0)==(l|0))break i;h=o[p+88>>2]|0;d=O(h-(o[c>>2]|0)|0,T)|0;t=o[p+92>>2]|0;c=t-f|0;i=o[g>>2]|0;h=O(i-h|0,T)|0;if(!((c|0)>0&(h|0)<0))break i;if(d|0){if((d|0)>=0)break i;if((O(c,_)|0)>=(O(d,b)|0))break i}f=t;_=h;l=p}i=M;y=I;_=O(M-(o[c>>2]|0)|0,T)|0;r=A}}l=o[t+92>>2]|0;f=(S|0)!=0;r=o[(f?t:t+4|0)>>2]|0;n:do{if((r|0)!=(t|0)){if(f){c=t;while(1){if((o[r+88>>2]|0)!=(i|0)){_=c;break n}w=l;l=o[r+92>>2]|0;if((l|0)>(w|0)){_=c;break n}c=o[r>>2]|0;if((c|0)==(t|0)){_=r;break}else{w=r;r=c;c=w}}}else{c=t;while(1){if((o[r+88>>2]|0)!=(i|0)){_=c;break n}w=l;l=o[r+92>>2]|0;if((l|0)>(w|0)){_=c;break n}c=o[r+4>>2]|0;if((c|0)==(t|0)){_=r;break}else{w=r;r=c;c=w}}}}else _=t}while(0);l=o[d+92>>2]|0;r=o[(f?d+4|0:d)>>2]|0;if((r|0)!=(d|0)){if(f){c=d;while(1){if((o[r+88>>2]|0)!=(i|0)){l=_;r=c;break i}w=l;l=o[r+92>>2]|0;if((l|0)<(w|0)){l=_;r=c;break i}c=o[r+4>>2]|0;if((c|0)==(d|0)){l=_;break}else{w=r;r=c;c=w}}}else{c=d;while(1){if((o[r+88>>2]|0)!=(i|0)){l=_;r=c;break i}w=l;l=o[r+92>>2]|0;if((l|0)<(w|0)){l=_;r=c;break i}c=o[r>>2]|0;if((c|0)==(d|0)){l=_;break}else{w=r;r=c;c=w}}}}else{l=_;r=d}}else{A=(S|0)!=0;m=o[d+92>>2]|0;c=t;r=d;while(1){h=r+88|0;d=o[c+92>>2]|0;b=_;l=c;while(1){p=m-d|0;i=o[(A?l:l+4|0)>>2]|0;if((i|0)==(l|0))break;_=o[i+88>>2]|0;t=O(_-(o[l+88>>2]|0)|0,T)|0;f=o[i+92>>2]|0;c=f-d|0;if((c|0)>=1)break;if(t|0){if((t|0)>=0)break;if((O(c,b)|0)>(O(t,p)|0))break}d=f;b=O((o[h>>2]|0)-_|0,T)|0;l=i}t=o[(A?r:r+4|0)>>2]|0;if((t|0)==(r|0))break i;i=o[t+88>>2]|0;f=O(i-(o[h>>2]|0)|0,T)|0;_=o[t+92>>2]|0;c=_-m|0;i=O(i-(o[l+88>>2]|0)|0,T)|0;if(!((c|0)<0&(i|0)>0))break i;if(f|0){if((f|0)>=0)break i;if((O(c,b)|0)>=(O(f,p)|0))break i}m=_;_=i;c=l;r=t}}}while(0);c=(S|0)==0;u=c?r:u;s=c?l:s;d=c?E:r;t=c?C:l;S=S+1|0;if((S|0)==2)break;else T=c?-1:T}o[t+4>>2]=d;o[d>>2]=t;o[s>>2]=u;o[u+4>>2]=s;if((o[E+88>>2]|0)<(o[C+88>>2]|0))o[n>>2]=E;if((o[a+88>>2]|0)>=(o[R+88>>2]|0))o[n+4>>2]=a;o[n+12>>2]=o[B+96+12>>2];a=s;w=u;c=u+88|0;R=o[c>>2]|0;m=o[s+88>>2]|0;_=u+92|0;M=o[_>>2]|0;I=o[s+92>>2]|0;l=u+96|0;x=o[l>>2]|0;A=o[s+96>>2]|0;P=((M-I|0)<0)<<31>>31;n=0-(R-m)|0;y=vy(0,0,n|0,((n|0)<0)<<31>>31|0)|0;y=qb(y|0,D()|0,x-A|0,((x-A|0)<0)<<31>>31|0)|0;v=D()|0;C=qb(x-A|0,((x-A|0)<0)<<31>>31|0,M-I|0,P|0)|0;E=D()|0;h=qb(n|0,((n|0)<0)<<31>>31|0,R-m|0,((R-m|0)<0)<<31>>31|0)|0;T=D()|0;S=qb(M-I|0,P|0,M-I|0,P|0)|0;S=vy(h|0,T|0,S|0,D()|0)|0;T=D()|0;h=o[s+8>>2]|0;o[B+120>>2]=0;if(!h)m=0;else{p=vy(0,0,M-I|0,P|0)|0;b=D()|0;g=h;r=0;do{t=o[g+12>>2]|0;f=o[t+88>>2]|0;i=o[t+92>>2]|0;t=o[t+96>>2]|0;U=qb(i-I|0,((i-I|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0;d=D()|0;k=qb(p|0,b|0,f-m|0,((f-m|0)<0)<<31>>31|0)|0;i:do{if((U|0)==(k|0)&(d|0)==(D()|0)?(k=qb(y|0,v|0,f-m|0,((f-m|0)<0)<<31>>31|0)|0,d=D()|0,U=qb(C|0,E|0,i-I|0,((i-I|0)<0)<<31>>31|0)|0,d=Uy(U|0,D()|0,k|0,d|0)|0,k=D()|0,U=qb(S|0,T|0,t-A|0,((t-A|0)<0)<<31>>31|0)|0,U=Uy(d|0,k|0,U|0,D()|0)|0,k=D()|0,(k|0)>0|(k|0)==0&U>>>0>0):0){do{if(r|0){d=(o[r+4>>2]|0)==(g|0);if((o[r>>2]|0)!=(g|0))if(d)break;else break i;if(!d)break i;k=o[r+12>>2]|0;H=o[(o[g+8>>2]|0)+12>>2]|0;U=o[H+88>>2]|0;d=o[H+92>>2]|0;H=o[H+96>>2]|0;j=(o[k+96>>2]|0)-H|0;d=(O(t-H|0,(o[k+92>>2]|0)-d|0)|0)-(O(j,i-d|0)|0)|0;U=(O(j,f-U|0)|0)-(O(t-H|0,(o[k+88>>2]|0)-U|0)|0)|0;d=qb(d|0,((d|0)<0)<<31>>31|0,M-I|0,P|0)|0;k=D()|0;U=qb(U|0,((U|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0;U=Uy(d|0,k|0,U|0,D()|0)|0;k=D()|0;if((k|0)>0|(k|0)==0&U>>>0>0)break i}}while(0);r=g}}while(0);g=o[g>>2]|0}while((g|0)!=(h|0));o[B+120>>2]=r;m=r}d=o[u+8>>2]|0;o[B+72>>2]=0;if(!d)r=0;else{h=vy(0,0,M-I|0,P|0)|0;p=D()|0;b=d;r=0;do{t=o[b+12>>2]|0;f=o[t+88>>2]|0;i=o[t+92>>2]|0;t=o[t+96>>2]|0;U=qb(i-M|0,((i-M|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0;j=D()|0;H=qb(h|0,p|0,f-R|0,((f-R|0)<0)<<31>>31|0)|0;do{if((U|0)==(H|0)&(j|0)==(D()|0)?(H=qb(y|0,v|0,f-R|0,((f-R|0)<0)<<31>>31|0)|0,U=D()|0,j=qb(C|0,E|0,i-M|0,((i-M|0)<0)<<31>>31|0)|0,U=Uy(j|0,D()|0,H|0,U|0)|0,H=D()|0,j=qb(S|0,T|0,t-x|0,((t-x|0)<0)<<31>>31|0)|0,j=Uy(U|0,H|0,j|0,D()|0)|0,H=D()|0,(H|0)>0|(H|0)==0&j>>>0>0):0){if(r|0){if((o[r>>2]|0)!=(b|0))break;if((o[r+4>>2]|0)==(b|0)?(H=o[r+12>>2]|0,k=o[(o[b+8>>2]|0)+12>>2]|0,j=o[k+88>>2]|0,U=o[k+92>>2]|0,k=o[k+96>>2]|0,g=(o[H+96>>2]|0)-k|0,U=(O(t-k|0,(o[H+92>>2]|0)-U|0)|0)-(O(g,i-U|0)|0)|0,j=(O(g,f-j|0)|0)-(O(t-k|0,(o[H+88>>2]|0)-j|0)|0)|0,U=qb(U|0,((U|0)<0)<<31>>31|0,M-I|0,P|0)|0,H=D()|0,j=qb(j|0,((j|0)<0)<<31>>31|0,n|0,((n|0)<0)<<31>>31|0)|0,j=Uy(U|0,H|0,j|0,D()|0)|0,H=D()|0,!((H|0)>0|(H|0)==0&j>>>0>0)):0)break}r=b}}while(0);b=o[b>>2]|0}while((b|0)!=(d|0));o[B+72>>2]=r}if((m|0)!=0|(r|0)!=0){wo(e,s,u,B+120|0,B+72|0);r=o[B+120>>2]|0;if(r){a=o[r+12>>2]|0;s=a}r=o[B+72>>2]|0;if(!r)r=w;else{_=o[r+12>>2]|0;u=_;r=_;c=_+88|0;l=_+96|0;_=_+92|0}}else r=w;f=r;t=o[c>>2]|0;i=(o[l>>2]|0)+1|0;l=o[_>>2]|0}C=u;S=s;r=0;I=0;n=1;c=0;_=0;T=0;R=0;M=i;E=0;P=0;while(1){j=o[S+88>>2]|0;w=(o[C+88>>2]|0)-j|0;H=o[S+92>>2]|0;v=(o[C+92>>2]|0)-H|0;x=o[S+96>>2]|0;g=(o[C+96>>2]|0)-x|0;o[B+120>>2]=w;o[B+120+4>>2]=v;o[B+120+8>>2]=g;o[B+120+12>>2]=-1;j=t-j|0;H=l-H|0;x=M-x|0;y=(O(H,g)|0)-(O(x,v)|0)|0;x=(O(x,w)|0)-(O(j,g)|0)|0;H=(O(j,v)|0)-(O(H,w)|0)|0;o[B+72>>2]=y;o[B+72+4>>2]=((y|0)<0)<<31>>31;o[B+72+8>>2]=x;o[B+72+8+4>>2]=((x|0)<0)<<31>>31;o[B+72+16>>2]=H;o[B+72+16+4>>2]=((H|0)<0)<<31>>31;j=qb(H|0,((H|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0;U=D()|0;k=qb(x|0,((x|0)<0)<<31>>31|0,g|0,((g|0)<0)<<31>>31|0)|0;k=vy(j|0,U|0,k|0,D()|0)|0;U=D()|0;g=qb(y|0,((y|0)<0)<<31>>31|0,g|0,((g|0)<0)<<31>>31|0)|0;j=D()|0;H=qb(H|0,((H|0)<0)<<31>>31|0,w|0,((w|0)<0)<<31>>31|0)|0;H=vy(g|0,j|0,H|0,D()|0)|0;j=D()|0;w=qb(x|0,((x|0)<0)<<31>>31|0,w|0,((w|0)<0)<<31>>31|0)|0;x=D()|0;v=qb(y|0,((y|0)<0)<<31>>31|0,v|0,((v|0)<0)<<31>>31|0)|0;v=vy(w|0,x|0,v|0,D()|0)|0;x=D()|0;o[B+48>>2]=k;o[B+48+4>>2]=U;o[B+48+8>>2]=H;o[B+48+8+4>>2]=j;o[B+48+16>>2]=v;o[B+48+16+4>>2]=x;o[B+24>>2]=0;o[B+24+4>>2]=0;o[B+24+8>>2]=0;o[B+24+12>>2]=0;o[B+24+16>>2]=0;x=Gs(e,0,S,B+120|0,B+72|0,B+48|0,B+24|0)|0;o[B>>2]=0;o[B+4>>2]=0;o[B+8>>2]=0;o[B+12>>2]=0;o[B+16>>2]=0;v=Gs(e,1,C,B+120|0,B+72|0,B+48|0,B)|0;do{if((x|0)!=0|(v|0)!=0){i=x|0?-1:1;do{if((x|0)!=0&(v|0)!=0){y=o[B+24+16>>2]|0;i=o[B+16>>2]|0;if((y|0)!=(i|0)){b=y-i|0;break}if(!y)b=0;else{j=o[B+24>>2]|0;A=o[B+24+4>>2]|0;h=o[B+8>>2]|0;U=o[B+8+4>>2]|0;d=qb(h|0,0,j|0,0)|0;i=D()|0;j=qb(U|0,0,j|0,0)|0;H=D()|0;h=qb(h|0,0,A|0,0)|0;p=D()|0;A=qb(U|0,0,A|0,0)|0;U=D()|0;h=Uy(j|0,0,h|0,0)|0;j=D()|0;U=Uy(H|0,0,A|0,U|0)|0;p=Uy(U|0,D()|0,p|0,0)|0;j=Uy(p|0,D()|0,j|0,0)|0;p=D()|0;i=Uy(0,h|0,d|0,i|0)|0;d=D()|0;h=Uy(j|0,p|0,(d>>>0<h>>>0|(d|0)==(h|0)&i>>>0<0)&1|0,0)|0;p=D()|0;j=o[B+24+8>>2]|0;U=o[B+24+8+4>>2]|0;A=o[B>>2]|0;H=o[B+4>>2]|0;m=qb(A|0,0,j|0,0)|0;b=D()|0;j=qb(H|0,0,j|0,0)|0;k=D()|0;A=qb(A|0,0,U|0,0)|0;g=D()|0;U=qb(H|0,0,U|0,0)|0;H=D()|0;A=Uy(j|0,0,A|0,0)|0;j=D()|0;H=Uy(k|0,0,U|0,H|0)|0;g=Uy(H|0,D()|0,g|0,0)|0;j=Uy(g|0,D()|0,j|0,0)|0;g=D()|0;b=Uy(0,A|0,m|0,b|0)|0;m=D()|0;A=Uy(j|0,g|0,(m>>>0<A>>>0|(m|0)==(A|0)&b>>>0<0)&1|0,0)|0;g=D()|0;if(p>>>0<g>>>0|(p|0)==(g|0)&h>>>0<A>>>0)i=-1;else i=p>>>0>g>>>0|(p|0)==(g|0)&h>>>0>A>>>0?1:d>>>0<m>>>0|(d|0)==(m|0)&i>>>0<b>>>0?-1:(d>>>0>m>>>0|(d|0)==(m|0)&i>>>0>b>>>0)&1;b=O(i,y)|0}}else b=i}while(0);do{if(!n){if((b|0)>-1){if((o[B+16>>2]|0)<0&((o[B+8>>2]|0)==0?(o[B+8+4>>2]|0)==0:0)){y=T;p=R;break}else{L=139;break}}else if((o[B+24+16>>2]|0)<0&((o[B+24+8>>2]|0)==0?(o[B+24+8+4>>2]|0)==0:0)){y=T;p=R;break}else{L=139;break}}else L=139}while(0);if((L|0)==139){L=0;d=Ze(e,S,C)|0;if(!T)c=d;else o[T+4>>2]=d;o[d>>2]=T;i=o[d+8>>2]|0;if(!R)_=i;else o[R>>2]=i;o[i+4>>2]=R;y=d;p=i}o[B+116>>2]=x;o[B+112>>2]=v;if(!b){wo(e,a,f,B+116|0,B+112|0);i=o[B+112>>2]|0}else i=v;if((b|0)>-1&(i|0)!=0){h=(P|0)!=0;if(h?(F=o[P>>2]|0,(F|0)!=(v|0)):0){t=F;do{d=t;t=o[t>>2]|0;i=o[d+8>>2]|0;if((t|0)==(d|0))l=0;else{o[t+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=t;l=t}o[(o[i+12>>2]|0)+8>>2]=l;l=o[i>>2]|0;if((l|0)==(i|0)){o[(o[d+12>>2]|0)+8>>2]=0;l=i+4|0}else{o[l+4>>2]=o[i+4>>2];o[o[i+4>>2]>>2]=l;o[(o[d+12>>2]|0)+8>>2]=l;l=i+4|0}o[d+4>>2]=0;o[d+4+4>>2]=0;o[d+4+8>>2]=0;o[d+4+12>>2]=0;o[d>>2]=o[e+56>>2];o[e+56>>2]=d;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[i>>2]=o[e+56>>2];o[e+56>>2]=i;o[e+116>>2]=(o[e+116>>2]|0)+-1}while((t|0)!=(v|0))}do{if(p){if(h){o[P>>2]=_;o[_+4>>2]=P;o[p>>2]=v;o[v+4>>2]=p;l=I;_=0;break}else{l=o[v+4>>2]|0;o[l>>2]=_;o[_+4>>2]=l;o[p>>2]=v;o[v+4>>2]=p;l=_;_=0;break}}else l=h?I:v}while(0);j=f;T=o[B+112>>2]|0;f=o[T+12>>2]|0;A=l;S=0;t=o[j+88>>2]|0;i=o[j+96>>2]|0;l=o[j+92>>2]|0;T=o[T+8>>2]|0}else{A=I;S=p;i=M;T=P}if((b|0)<1&(o[B+116>>2]|0)!=0){p=(E|0)!=0;if(p?(N=o[E+4>>2]|0,(N|0)!=(x|0)):0){t=N;do{h=t+4|0;d=t;t=o[h>>2]|0;l=o[d>>2]|0;i=o[d+8>>2]|0;if((l|0)==(d|0))l=0;else{o[l+4>>2]=t;o[o[h>>2]>>2]=l}o[(o[i+12>>2]|0)+8>>2]=l;l=o[i>>2]|0;if((l|0)==(i|0)){o[(o[d+12>>2]|0)+8>>2]=0;l=i+4|0}else{o[l+4>>2]=o[i+4>>2];o[o[i+4>>2]>>2]=l;o[(o[d+12>>2]|0)+8>>2]=l;l=i+4|0}o[h>>2]=0;o[h+4>>2]=0;o[h+8>>2]=0;o[h+12>>2]=0;o[d>>2]=o[e+56>>2];o[e+56>>2]=d;o[l>>2]=0;o[l+4>>2]=0;o[l+8>>2]=0;o[l+12>>2]=0;o[i>>2]=o[e+56>>2];o[e+56>>2]=i;o[e+116>>2]=(o[e+116>>2]|0)+-1}while((t|0)!=(x|0))}do{if(y){if(p){o[c>>2]=E;o[E+4>>2]=c;o[x>>2]=y;o[y+4>>2]=x;c=0;break}else{r=o[x>>2]|0;o[c>>2]=r;o[r+4>>2]=c;o[x>>2]=y;o[y+4>>2]=x;r=c;c=0;break}}else r=p?r:x}while(0);l=a;E=o[B+116>>2]|0;a=o[E+12>>2]|0;y=0;v=o[l+88>>2]|0;C=o[l+96>>2]|0;l=o[l+92>>2]|0;E=o[E+8>>2]|0}else{v=t;C=i}if((s|0)==(a|0)&(u|0)==(f|0)){if(E){b=E+4|0;i=o[b>>2]|0;if((i|0)!=(r|0))do{p=i+4|0;h=i;i=o[p>>2]|0;t=o[h>>2]|0;d=o[h+8>>2]|0;if((t|0)==(h|0))t=0;else{o[t+4>>2]=i;o[o[p>>2]>>2]=t}o[(o[d+12>>2]|0)+8>>2]=t;t=o[d>>2]|0;if((t|0)==(d|0)){o[(o[h+12>>2]|0)+8>>2]=0;t=d+4|0}else{o[t+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=t;o[(o[h+12>>2]|0)+8>>2]=t;t=d+4|0}o[p>>2]=0;o[p+4>>2]=0;o[p+8>>2]=0;o[p+12>>2]=0;o[h>>2]=o[e+56>>2];o[e+56>>2]=h;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[d>>2]=o[e+56>>2];o[e+56>>2]=d;o[e+116>>2]=(o[e+116>>2]|0)+-1}while((i|0)!=(r|0));if(y|0){o[c>>2]=E;o[b>>2]=c;o[r>>2]=y;o[y+4>>2]=r}}else{o[c>>2]=y;o[y+4>>2]=c;o[a+8>>2]=y}if(!T){o[S>>2]=_;o[_+4>>2]=S;o[u+8>>2]=S;m=0;g=n;b=y;p=S;t=v;h=C;d=E;i=0;break}i=o[T>>2]|0;if((i|0)!=(A|0))do{h=i;i=o[i>>2]|0;d=o[h+8>>2]|0;if((i|0)==(h|0))t=0;else{o[i+4>>2]=o[h+4>>2];o[o[h+4>>2]>>2]=i;t=i}o[(o[d+12>>2]|0)+8>>2]=t;t=o[d>>2]|0;if((t|0)==(d|0)){o[(o[h+12>>2]|0)+8>>2]=0;t=d+4|0}else{o[t+4>>2]=o[d+4>>2];o[o[d+4>>2]>>2]=t;o[(o[h+12>>2]|0)+8>>2]=t;t=d+4|0}o[h+4>>2]=0;o[h+4+4>>2]=0;o[h+4+8>>2]=0;o[h+4+12>>2]=0;o[h>>2]=o[e+56>>2];o[e+56>>2]=h;o[t>>2]=0;o[t+4>>2]=0;o[t+8>>2]=0;o[t+12>>2]=0;o[d>>2]=o[e+56>>2];o[e+56>>2]=d;o[e+116>>2]=(o[e+116>>2]|0)+-1}while((i|0)!=(A|0));if(!S){m=0;g=n;b=y;p=0;t=v;h=C;d=E;i=T}else{o[T>>2]=_;o[_+4>>2]=T;o[S>>2]=A;o[A+4>>2]=S;m=0;g=n;b=y;p=S;t=v;h=C;d=E;i=T}}else{m=1;g=0;b=y;p=S;t=v;h=C;d=E;i=T}}else{m=Ze(e,S,C)|0;o[m>>2]=m;o[m+4>>2]=m;o[S+8>>2]=m;m=o[m+8>>2]|0;o[m>>2]=m;o[m+4>>2]=m;o[C+8>>2]=m;m=0;A=I;g=n;b=T;p=R;h=M;d=E;i=P}}while(0);if(!m)break t;C=f;S=a;I=A;n=g;T=b;R=p;M=h;E=d;P=i}}}while(0);ae=B;return}}}while(0);o[r+8>>2]=0;o[r>>2]=r;o[r+4>>2]=r;o[n>>2]=r;o[n+4>>2]=r;o[n+8>>2]=r;o[n+12>>2]=r;ae=B;return}function AD(e){e=e|0;return+ +c[e+72>>2]}function gD(e,t){e=e|0;t=+t;c[e>>2]=t;return}function yD(e){e=e|0;o[e>>2]=3760;return}function vD(e){e=e|0;o[e>>2]=9372;return}function CD(e){e=e|0;ew(e+56|0);return}function ED(e){e=e|0;fw(e);return}function SD(e){e=e|0;return+ +c[e+24>>2]}function TD(e){e=e|0;return+ +c[e+4>>2]}function RD(e){e=e|0;return+ +c[e+20>>2]}function MD(e){e=e|0;return+ +c[e+32>>2]}function OD(e){e=e|0;return+ +c[e+16>>2]}function ID(e){e=e|0;return+ +c[e+12>>2]}function xD(e){e=e|0;return+ +c[e+28>>2]}function PD(e){e=e|0;return 52}function DD(e){e=e|0;return 68}function wD(e){e=e|0;return 84}function LD(e,t){e=e|0;t=t|0;return e+(t<<4)|0}function FD(e){e=e|0;return e+352|0}function ND(e){e=e|0;return JL(e)|0}function BD(e){e=e|0;return e+868|0}function kD(e){e=e|0;return+ +c[e+88>>2]}function UD(e){e=e|0;return+ +c[e+8>>2]}function HD(e){e=e|0;return e+316|0}function jD(e){e=e|0;return e+300|0}function VD(e,t){e=e|0;t=t|0;SF[e&511](t|0)}function GD(e,t,i,n){e=e|0;t=t|0;i=i|0;n=+n;x(32)}function WD(e,t,i,n){e=e|0;t=t|0;i=+i;n=n|0;x(29)}function XD(e,t,i,n){e=e|0;t=+t;i=i|0;n=n|0;x(26)}function zD(e){e=e|0;return e+32|0}function YD(e){e=e|0;return 24}function QD(e,t){e=e|0;t=+t;return}function KD(e){e=e|0;return e+788|0}function ZD(e){e=e|0;return o[e>>2]|0}function JD(e){e=e|0;return e+68|0}function qD(e){e=e|0;CE(e);return}function $D(e){e=e|0;KL(e+-4|0);return}function ew(e){e=e|0;Cx(e);return}function tw(e){e=e|0;xx(e);return}function iw(e){e=e|0;Pn(e);return}function nw(e){e=e|0;return e+708|0}function rw(){return(kw()|0)>0|0}function ow(e){e=e|0;return 488}function sw(e,t,i){e=e|0;t=t|0;i=i|0;x(14);return 0}function aw(e){e=e|0;return 32}function cw(e){e=e|0;return e+328|0}function lw(e){e=e|0;return 60}function _w(e){e=e|0;return 428}function uw(e){e=e|0;o[e>>2]=3664;return}function fw(e){e=e|0;Jw(e);return}function dw(e,t,i){e=e|0;t=t|0;i=i|0;x(3);return 0.0}function hw(e){e=e|0;return e+288|0}function pw(){return Ww(1)|0}function bw(e){e=e|0;return(e>>>0>4294963200?-1:e)|0}function mw(e){e=+e;return+(+uR(e)*2.0)}function Aw(e){e=e|0;return e+312|0}function gw(e){e=e|0;o[e>>2]=5660;return}function yw(e){e=e|0;o[e>>2]=6120;return}function vw(e){e=e|0;return(e&255)<<8|e>>8&255|0}function Cw(e){e=e|0;return e+544|0}function Ew(e,t,i){e=e|0;t=t|0;i=+i;x(13);return 0}function Sw(e){e=e|0;return 13730}function Tw(e){e=e|0;return e+348|0}function Rw(e){e=e|0;return e+92|0}function Mw(e){e=e|0;return 4}function Ow(e){e=e|0;return 20570}function Iw(e){e=e|0;return 20286}function xw(e){e=e|0;o[e>>2]=3708;return}function Pw(){return oA()|0}function Dw(e){e=e|0;return 13618}function ww(e){e=e|0;o[e>>2]=3960;return}function Lw(e){e=e|0;return e+76|0}function Fw(e){e=e|0;return e+28|0}function Nw(e){e=e|0;return 19397}function Bw(e){e=e|0;return e+380|0}function kw(){return F()|0}function Uw(e){e=e|0;return e+40|0}function Hw(e){e=e|0;return e+24|0}function jw(e){e=e|0;return e+72|0}function Vw(e){e=e|0;return e+56|0}function Gw(e,t,i){e=e|0;t=t|0;i=i|0;x(31)}function Ww(e){e=e|0;return Do((e|0)==0?1:e)|0}function Xw(e){e=e|0;return 19781}function zw(e){e=e|0;return 0}function Yw(){return Ww(64)|0}function Qw(e){e=e|0;return 19839}function Kw(e){e=e|0;return 19183}function Zw(e){e=e|0;return e+48|0}function Jw(e){e=e|0;o[e>>2]=0;return}function qw(e){e=e|0;return 20072}function $w(e){e=e|0;return 1}function eL(e,t,i){e=e|0;t=t|0;i=+i;x(28)}function tL(e,t,i){e=e|0;t=+t;i=i|0;x(25)}function iL(e){e=e|0;return 20687}function nL(e){e=e|0;return 20658}function rL(e){e=e|0;return 3}function oL(e){e=e|0;return(e+-48|0)>>>0<10|0}function sL(e){e=e|0;return 13997}function aL(e){e=+e;return+e}function cL(e){e=e|0;return 20630}function lL(e){e=e|0;return 19036}function _L(e){e=e|0;return 20230}function uL(e){e=e|0;return 20203}function fL(e){e=e|0;return 20173}function dL(e){e=e|0;return 8}function hL(e){e=+e;return+(e%6.2831854820251465)}function pL(e,t,i){e=e|0;t=+t;i=+i;x(23)}function bL(e){e=e|0;return 19216}function mL(e,t){e=e|0;t=t|0;x(12);return 0}function AL(e){e=e|0;return 19098}function gL(e){e=e|0;return 19119}function yL(e){e=e|0;return 6}function vL(e){e=e|0;return 12}function CL(){return 4}function EL(e){e=e|0;return 19079}function SL(e){e=e|0;return 2}function TL(e){e=e|0;return 20345}function RL(e,t){e=e|0;t=+t;x(1);return 0.0}function ML(){o[6250]=1805;o[6251]=0;return}function OL(e){e=e|0;return e+12|0}function IL(e){e=e|0;return e+8|0}function xL(e){e=e|0;return e+4|0}function PL(e){e=e|0;EF[e&3]()}function DL(){return 2}function wL(e){e=e|0;ee()}function LL(){return 5}function FL(){return 3}function NL(){return 0}function BL(){L()}function kL(e){e=+e;return+ +v(+e)}function UL(e){e=+e;return+ +y(+e)}function HL(e){e=+e;return+ +S(+e)}function jL(e){e=+e;return+ +E(+e)}function VL(e,t){e=e|0;t=t|0;x(27)}function GL(e,t){e=e|0;t=+t;x(22)}function WL(e){e=e|0;return Ww(e)|0}function XL(e){e=e|0;KL(e);return}function zL(e){e=e|0;return}function YL(){oE(2)}function QL(e){e=e|0;ae=e}function KL(e){e=e|0;Vs(e);return}function ZL(e){e=e|0;x(10);return 0}function JL(e){e=e|0;return e|0}function qL(e){e=e|0;x(0);return 0.0}function $L(){return ae|0}function eF(e){e=e|0;x(21)}function tF(){return 1}function iF(){x(20)}var nF=[qL,bd,ID,bT,tD,AD,EI,Jh,Zh,Jh,qL,qL,qL,qL,qL,qL];var rF=[RL,xv];var oF=[oI,Sc,Sc,oI];var sF=[dw,Ec,Hc,za,Fn,Bx,pl,Hf,fc,nu,Gu,Xi,tu,W_,w_,dw];var aF=[bR,kc,Bc,bR];var cF=[nP,_s];var lF=[MO,mg,xr,mg,mg,Pr,mg,mg,Ke,Ee,vA,mg,mg,MO,MO,MO];var _F=[Wv,xh];var uF=[yy,No,Ys,yy];var fF=[Eg,ha,cs,Eg];var dF=[ZL,Xx,zw,$w,gP,rx,rx,DP,Ox,_w,SL,mp,Dw,vL,OL,Sw,PD,zw,aw,sL,SL,rL,rL,$w,xP,_x,yx,Mw,ow,SL,PD,SP,qx,wD,ZP,kP,sD,$w,VS,my,aD,$x,$g,KI,KI,Lw,lL,YD,EL,lw,AL,gL,Kw,oD,bL,GI,Nw,lw,Xw,JD,Qw,PD,qw,DD,UP,UP,zw,fL,lw,uL,_L,$O,Iw,zw,zw,zw,TL,yL,dL,vL,yL,wD,BP,Ow,cL,lw,nL,iL,Ox,zO,IP,CP,CP,DP,DP,xL,zw,$w,DP,DP,xL,rx,zw,Hx,Hx,DP,zm,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL,ZL];var hF=[RP,Pt];var pF=[mL,eb,cb,$p,XP,XP,XP,cD,hS,hS,bs,v_,yu,aE,ff,Ym,wl,gp,kh,rl,jn,Yf,bp,mL,mL,mL,mL,mL,mL,mL,mL,mL];var bF=[Ew,De,DI,DI,uu,Ew,Ew,Ew];var mF=[sw,af,Xs,bD,$f,Fl,yt,sn,bi,Pe,Pu,rn,Ki,Re,fe,Ie,xu,sp,Cc,He,Tl,ln,Vt,Bl,gn,Sl,to,Cl,ir,YM,YM,ye,pc,Tt,Ht,Nn,al,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw,sw];var AF=[eP,Ru,Bd,td,Nc,Lc,un,Wu,zl,Wl,u_,St,c_,Zd,ru,a_,t_,ra,p_,is,My,gC,Se,Cu,eP,eP,eP,eP,eP,eP,eP,eP];var gF=[GT,Ts,Yn,fr];var yF=[LE];var vF=[py,Ps,ze,py];var CF=[gg,ns,Ti,gg];var EF=[iF,BL,QR,iF];var SF=[eF,zL,XL,zL,wL,ob,kE,zL,wL,zL,wL,zL,qD,zL,wL,zL,XL,zL,wL,zL,XL,zL,XL,zL,wL,zL,XL,zL,wL,Xd,op,Cf,Ja,iS,zL,XL,XL,XL,XL,js,Xy,zL,XL,zL,XL,zL,CE,XL,XL,zL,CE,XL,XL,zL,XL,aS,LC,zL,XL,zL,XL,Oh,zd,ua,HM,bc,fg,ga,sl,fD,en,pt,Ju,Qr,Kl,zL,XL,zL,XL,Rd,Bf,Zt,vg,hD,XL,Pc,mM,gw,Ay,zL,gw,Ay,ge,mu,Ay,Ay,co,wL,Ay,Ay,xs,Ay,Zo,gt,aA,vx,wn,zx,XL,Dd,Wf,Xm,XL,zL,XL,yw,gy,Ed,Lf,Ql,dg,Kd,up,zL,XL,_e,TR,XL,XL,XL,XL,XL,XL,XL,XL,XL,XL,Dc,JM,hp,sh,Wd,Pd,XL,Dh,yh,Cp,dh,zL,XL,ec,Qx,Tr,XL,XL,XL,XL,XL,zL,XL,zL,$D,XL,XL,XL,XL,XL,XL,cp,rh,zL,XL,Tp,bh,XL,XL,XL,qc,$R,XL,Qa,sT,XL,T_,ey,va,CE,CE,CE,Yl,b_,CE,lh,Td,zL,XL,XL,XL,zL,CE,XL,zL,XL,zL,CE,wL,wL,H_,M_,CE,CE,CE,zd,XL,zd,iw,_y,XL,XL,vD,Kg,CE,CE,CE,xn,ly,Ua,Xg,zL,Xg,th,yp,xc,qR,XL,XL,Hd,Yx,zL,XL,XL,XL,Pn,_y,wL,zL,XL,XL,XL,XL,XL,XL,zL,XL,zL,XL,_p,oh,XL,XL,wc,YO,In,Gg,jd,zf,zL,XL,zL,zL,XL,XL,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF,eF];var TF=[GL,pD,ds,pu,mP,jx,QD,jx,Kc,ps,lt,on,Mt,Ac,ue,os,Xr,Qo,Sx,jx,ql,ql,ql,Oa,GL,GL,GL,GL,GL,GL,GL,GL];var RF=[pL,vr,Ut,Ha,ut,Ye,pL,pL];var MF=[iO,Co,Ao,qn];var OF=[tL,ri,BR,CR,WA,cc,oa,Xu,Ld,WA,WA,Ra,Ml,__,CA,dc];var IF=[XD,Fc];var xF=[VL,fp,jb,MT,OR,JP,aM,VR,JP,Tf,fl,JP,Wm,Mf,Yo,Lr,mh,JP,JP,JP,BI,kR,xt,Rt,Ni,lc,Z_,ic,Lb,Ei,Zs,Qd,Pv,Iy,EC,$v,qo,JP,Ca,LA,bf,Ph,fn,_C,ar,da,vc,ki,HA,Ce,he,jo,ll,Ds,nc,ko,aa,JP,Nl,zc,ol,n_,rR,Yc,bu,Qu,oc,Ca,wa,Ca,Gc,jp,gh,Ca,Ea,nf,wp,vu,Mr,Uu,Ul,ZA,YA,QA,sd,Bi,au,ou,si,Db,Nh,cl,em,Yd,cl,Hs,Ns,lb,cl,em,JP,JP,zi,Qi,Nr,ef,JP,JP,JP,tE,kR,Oe,Is,dn,JA,xA,xA,JP,Ca,JP,JP,VL,VL,VL,VL,VL,VL,VL];var PF=[eL,Dt,nv,ny,xb,hl,Ho,eL];var DF=[WD,Ah,QO,Rc,fd,ca,su,Eu];var wF=[Dx,Si];var LF=[Gw,Ex,iC,Hn,eo,Gy,On,kf,Ex,ja,tc,yA,Ex,cr,ks,Ex,dl,s_,$c,zh,ba,me,yn,Ex,Ex,Js,Mn,Eo,AC,mC,SI,SI,SI,SI,Qn,An,ac,ci,jc,nA,Ui,UA,Io,Vr,Vr,Mi,dl,uc,ed,Hi,dl,mn,Ex,E_,Vf,x_,l_,Xl,_c,_u,du,lu,sf,vf,Bs,Rf,Ex,Ex,Ex,Ex,ch,yd,Sd,N_,qa,vn,dd,SI,SI,SI,SI,Vn,Kn,pn,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw,Gw];var FF=[GD,IS,Po,_r,Kr,Sm,Xa,zr,D_,hu,GD,GD,GD,GD,GD,GD];var NF=[LM,fm];var BF=[qP,qg,ft,Ue,pe,ER,DE,By,$e,Xe,EA,Qc,Gp,ng,Jc,$o,Xo,Oo,qm,xi,je,dD,rg,z_,xl,md,Xe,Ro,Qt,nt,Zr,cA,bm,Nt,wi,EA,Dn,qi,Gt,i_,km,Di,mr,f_,Ba,Wa,Ud,Ct,ii,Ji,Qs,nl,ER,an,Kt,Bn,ER,ER,Da,Na,S_,Zc,Tc,wr,Wr,Ln,zo,Na,Pl,Ol,Il,Cs,_f,Ga,_f,Hl,Ih,Df,Al,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP,qP];var kF=[Px,cy];var UF=[NA,jr];var HF=[Ig,st];var jF=[qI,_A,hr,ai,e_,bt,nh,ss,To,et,Qe,lD,vs,Wo,no,Er,ts,Ag,It,xo,dr,gl,Ks,Ae,qI,qI,qI,qI,qI,qI,qI,qI];var VF=[wM,gd];var GF=[eM,Ar,Gl,k_,Nd,Zu,cn,eM];var WF=[$S,oi];var XF=[vv,Ep];var zF=[_v,Yi];var YF=[Wg,R_,R_,Wg];return{__GLOBAL__sub_I_btQuickprof_cpp:ip,__ZSt18uncaught_exceptionv:rw,___cxa_can_catch:$h,___cxa_is_pointer_type:eS,___muldi3:qb,___udivdi3:LR,_bitshift64Lshr:wA,_bitshift64Shl:mA,_emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2:Jm,_emscripten_bind_AllHitsRayResultCallback___destroy___0:Iv,_emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0:TD,_emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0:xO,_emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0:HO,_emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0:rx,_emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0:bP,_emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0:Nx,_emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0:jw,_emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0:Rw,_emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0:Uw,_emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0:Vw,_emscripten_bind_AllHitsRayResultCallback_hasHit_0:KE,_emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1:VP,_emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1:wT,_emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1:VT,_emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1:VR,_emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1:by,_emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1:SC,_emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1:Av,_emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1:Tv,_emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1:Qb,_emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1:Jb,_emscripten_bind_Anchor___destroy___0:pI,_emscripten_bind_Anchor_get_m_body_0:KP,_emscripten_bind_Anchor_get_m_c0_0:Fw,_emscripten_bind_Anchor_get_m_c1_0:Lw,_emscripten_bind_Anchor_get_m_c2_0:eD,_emscripten_bind_Anchor_get_m_influence_0:SD,_emscripten_bind_Anchor_get_m_local_0:xL,_emscripten_bind_Anchor_get_m_node_0:ZD,_emscripten_bind_Anchor_set_m_body_1:PI,_emscripten_bind_Anchor_set_m_c0_1:cM,_emscripten_bind_Anchor_set_m_c1_1:Wb,_emscripten_bind_Anchor_set_m_c2_1:ox,_emscripten_bind_Anchor_set_m_influence_1:hx,_emscripten_bind_Anchor_set_m_local_1:Xb,_emscripten_bind_Anchor_set_m_node_1:gx,_emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2:xm,_emscripten_bind_ClosestConvexResultCallback___destroy___0:Iv,_emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0:TD,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0:hO,_emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0:dO,_emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0:OL,_emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0:Fw,_emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0:YI,_emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0:lx,_emscripten_bind_ClosestConvexResultCallback_hasHit_0:vE,_emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1:VP,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1:AT,_emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1:mT,_emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1:Jp,_emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1:rb,_emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1:qp,_emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1:nb,_emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2:iA,_emscripten_bind_ClosestRayResultCallback___destroy___0:Iv,_emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0:TD,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0:xO,_emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0:HO,_emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0:rx,_emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0:MP,_emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0:JD,_emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0:bP,_emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0:$P,_emscripten_bind_ClosestRayResultCallback_hasHit_0:KE,_emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1:VP,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1:wT,_emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1:VT,_emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1:VR,_emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1:Tb,_emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1:Db,_emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1:fb,_emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1:wb,_emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0:IA,_emscripten_bind_ConcreteContactResultCallback___destroy___0:Iv,_emscripten_bind_ConcreteContactResultCallback_addSingleResult_7:Bp,_emscripten_bind_Config___destroy___0:CS,_emscripten_bind_Config_get_citerations_0:UP,_emscripten_bind_Config_get_collisions_0:EP,_emscripten_bind_Config_get_diterations_0:CP,_emscripten_bind_Config_get_kAHR_0:rD,_emscripten_bind_Config_get_kCHR_0:nD,_emscripten_bind_Config_get_kDF_0:xD,_emscripten_bind_Config_get_kDG_0:ID,_emscripten_bind_Config_get_kDP_0:UD,_emscripten_bind_Config_get_kKHR_0:iD,_emscripten_bind_Config_get_kLF_0:OD,_emscripten_bind_Config_get_kMT_0:MD,_emscripten_bind_Config_get_kPR_0:RD,_emscripten_bind_Config_get_kSHR_0:tD,_emscripten_bind_Config_get_kSKHR_CL_0:NP,_emscripten_bind_Config_get_kSK_SPLT_CL_0:hP,_emscripten_bind_Config_get_kSRHR_CL_0:FP,_emscripten_bind_Config_get_kSR_SPLT_CL_0:dP,_emscripten_bind_Config_get_kSSHR_CL_0:LP,_emscripten_bind_Config_get_kSS_SPLT_CL_0:AD,_emscripten_bind_Config_get_kVCF_0:TD,_emscripten_bind_Config_get_kVC_0:SD,_emscripten_bind_Config_get_maxvolume_0:wP,_emscripten_bind_Config_get_piterations_0:vP,_emscripten_bind_Config_get_timescale_0:OP,_emscripten_bind_Config_get_viterations_0:yP,_emscripten_bind_Config_set_citerations_1:XO,_emscripten_bind_Config_set_collisions_1:WO,_emscripten_bind_Config_set_diterations_1:GO,_emscripten_bind_Config_set_kAHR_1:cx,_emscripten_bind_Config_set_kCHR_1:ax,_emscripten_bind_Config_set_kDF_1:Ax,_emscripten_bind_Config_set_kDG_1:mP,_emscripten_bind_Config_set_kDP_1:jP,_emscripten_bind_Config_set_kKHR_1:sx,_emscripten_bind_Config_set_kLF_1:mx,_emscripten_bind_Config_set_kMT_1:bx,_emscripten_bind_Config_set_kPR_1:px,_emscripten_bind_Config_set_kSHR_1:jx,_emscripten_bind_Config_set_kSKHR_CL_1:xI,_emscripten_bind_Config_set_kSK_SPLT_CL_1:fI,_emscripten_bind_Config_set_kSRHR_CL_1:II,_emscripten_bind_Config_set_kSR_SPLT_CL_1:uI,_emscripten_bind_Config_set_kSSHR_CL_1:OI,_emscripten_bind_Config_set_kSS_SPLT_CL_1:Sx,_emscripten_bind_Config_set_kVCF_1:VP,_emscripten_bind_Config_set_kVC_1:hx,_emscripten_bind_Config_set_maxvolume_1:CI,_emscripten_bind_Config_set_piterations_1:VO,_emscripten_bind_Config_set_timescale_1:vI,_emscripten_bind_Config_set_viterations_1:jO,_emscripten_bind_ContactResultCallback___destroy___0:Iv,_emscripten_bind_ContactResultCallback_addSingleResult_7:Bp,_emscripten_bind_ConvexResultCallback___destroy___0:Iv,_emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0:TD,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0:hO,_emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0:dO,_emscripten_bind_ConvexResultCallback_hasHit_0:vE,_emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1:VP,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1:AT,_emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1:mT,_emscripten_bind_DebugDrawer_DebugDrawer_0:kS,_emscripten_bind_DebugDrawer___destroy___0:Iv,_emscripten_bind_DebugDrawer_draw3dText_2:Py,_emscripten_bind_DebugDrawer_drawContactPoint_5:_m,_emscripten_bind_DebugDrawer_drawLine_3:Og,_emscripten_bind_DebugDrawer_getDebugMode_0:VS,_emscripten_bind_DebugDrawer_reportErrorWarning_1:Vv,_emscripten_bind_DebugDrawer_setDebugMode_1:IC,_emscripten_bind_LocalConvexResult_LocalConvexResult_5:Ip,_emscripten_bind_LocalConvexResult___destroy___0:pI,_emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0:ZD,_emscripten_bind_LocalConvexResult_get_m_hitFraction_0:iD,_emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0:IL,_emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0:Hw,_emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0:gP,_emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1:gx,_emscripten_bind_LocalConvexResult_set_m_hitFraction_1:sx,_emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1:tm,_emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1:Kb,_emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1:aM,_emscripten_bind_LocalShapeInfo___destroy___0:pI,_emscripten_bind_LocalShapeInfo_get_m_shapePart_0:ZD,_emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0:gP,_emscripten_bind_LocalShapeInfo_set_m_shapePart_1:gx,_emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1:aM,_emscripten_bind_Material___destroy___0:pI,_emscripten_bind_Material_get_m_flags_0:DP,_emscripten_bind_Material_get_m_kAST_0:UD,_emscripten_bind_Material_get_m_kLST_0:TD,_emscripten_bind_Material_get_m_kVST_0:ID,_emscripten_bind_Material_set_m_flags_1:_I,_emscripten_bind_Material_set_m_kAST_1:jP,_emscripten_bind_Material_set_m_kLST_1:VP,_emscripten_bind_Material_set_m_kVST_1:mP,_emscripten_bind_Node___destroy___0:pI,_emscripten_bind_Node_get_m_area_0:eD,_emscripten_bind_Node_get_m_f_0:Vw,_emscripten_bind_Node_get_m_im_0:kD,_emscripten_bind_Node_get_m_n_0:jw,_emscripten_bind_Node_get_m_q_0:Hw,_emscripten_bind_Node_get_m_v_0:Uw,_emscripten_bind_Node_get_m_x_0:IL,_emscripten_bind_Node_set_m_area_1:ox,_emscripten_bind_Node_set_m_f_1:Jb,_emscripten_bind_Node_set_m_im_1:Mx,_emscripten_bind_Node_set_m_n_1:Zb,_emscripten_bind_Node_set_m_q_1:Kb,_emscripten_bind_Node_set_m_v_1:Qb,_emscripten_bind_Node_set_m_x_1:tm,_emscripten_bind_RayResultCallback___destroy___0:Iv,_emscripten_bind_RayResultCallback_get_m_closestHitFraction_0:TD,_emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0:xO,_emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0:HO,_emscripten_bind_RayResultCallback_get_m_collisionObject_0:rx,_emscripten_bind_RayResultCallback_hasHit_0:KE,_emscripten_bind_RayResultCallback_set_m_closestHitFraction_1:VP,_emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1:wT,_emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1:VT,_emscripten_bind_RayResultCallback_set_m_collisionObject_1:VR,_emscripten_bind_RaycastInfo___destroy___0:pI,_emscripten_bind_RaycastInfo_get_m_contactNormalWS_0:JL,_emscripten_bind_RaycastInfo_get_m_contactPointWS_0:GP,_emscripten_bind_RaycastInfo_get_m_groundObject_0:vP,_emscripten_bind_RaycastInfo_get_m_hardPointWS_0:$P,_emscripten_bind_RaycastInfo_get_m_isInContact_0:yI,_emscripten_bind_RaycastInfo_get_m_suspensionLength_0:MD,_emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0:JD,_emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0:MP,_emscripten_bind_RaycastInfo_set_m_contactNormalWS_1:zb,_emscripten_bind_RaycastInfo_set_m_contactPointWS_1:Ib,_emscripten_bind_RaycastInfo_set_m_groundObject_1:VO,_emscripten_bind_RaycastInfo_set_m_hardPointWS_1:wb,_emscripten_bind_RaycastInfo_set_m_isInContact_1:JR,_emscripten_bind_RaycastInfo_set_m_suspensionLength_1:bx,_emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1:Db,_emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1:Tb,_emscripten_bind_VoidPtr___destroy___0:pI,_emscripten_bind_btActionInterface___destroy___0:Iv,_emscripten_bind_btActionInterface_updateAction_2:Ty,_emscripten_bind_btAxisSweep3___destroy___0:Iv,_emscripten_bind_btAxisSweep3_btAxisSweep3_2:Rm,_emscripten_bind_btAxisSweep3_btAxisSweep3_3:Gb,_emscripten_bind_btAxisSweep3_btAxisSweep3_4:Eb,_emscripten_bind_btAxisSweep3_btAxisSweep3_5:Yp,_emscripten_bind_btBoxShape___destroy___0:Iv,_emscripten_bind_btBoxShape_btBoxShape_1:ea,_emscripten_bind_btBoxShape_calculateLocalInertia_2:ay,_emscripten_bind_btBoxShape_getLocalScaling_0:FS,_emscripten_bind_btBoxShape_getMargin_0:bT,_emscripten_bind_btBoxShape_setLocalScaling_1:pC,_emscripten_bind_btBoxShape_setMargin_1:AE,_emscripten_bind_btBroadphaseInterface___destroy___0:Iv,_emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0:gT,_emscripten_bind_btBroadphaseProxy___destroy___0:PR,_emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0:UO,_emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0:qO,_emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1:jT,_emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1:QT,_emscripten_bind_btBvhTriangleMeshShape___destroy___0:Iv,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2:jm,_emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3:rm,_emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2:ay,_emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0:FS,_emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1:pC,_emscripten_bind_btCapsuleShapeX___destroy___0:Iv,_emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2:ju,_emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2:ay,_emscripten_bind_btCapsuleShapeX_getHalfHeight_0:xM,_emscripten_bind_btCapsuleShapeX_getLocalScaling_0:FS,_emscripten_bind_btCapsuleShapeX_getMargin_0:bT,_emscripten_bind_btCapsuleShapeX_getRadius_0:lI,_emscripten_bind_btCapsuleShapeX_getUpAxis_0:hI,_emscripten_bind_btCapsuleShapeX_setLocalScaling_1:pC,_emscripten_bind_btCapsuleShapeX_setMargin_1:AE,_emscripten_bind_btCapsuleShapeZ___destroy___0:Iv,_emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2:Hu,_emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2:ay,_emscripten_bind_btCapsuleShapeZ_getHalfHeight_0:xM,_emscripten_bind_btCapsuleShapeZ_getLocalScaling_0:FS,_emscripten_bind_btCapsuleShapeZ_getMargin_0:bT,_emscripten_bind_btCapsuleShapeZ_getRadius_0:lI,_emscripten_bind_btCapsuleShapeZ_getUpAxis_0:hI,_emscripten_bind_btCapsuleShapeZ_setLocalScaling_1:pC,_emscripten_bind_btCapsuleShapeZ_setMargin_1:AE,_emscripten_bind_btCapsuleShape___destroy___0:Iv,_emscripten_bind_btCapsuleShape_btCapsuleShape_2:Vu,_emscripten_bind_btCapsuleShape_calculateLocalInertia_2:ay,_emscripten_bind_btCapsuleShape_getHalfHeight_0:xM,_emscripten_bind_btCapsuleShape_getLocalScaling_0:FS,_emscripten_bind_btCapsuleShape_getMargin_0:bT,_emscripten_bind_btCapsuleShape_getRadius_0:lI,_emscripten_bind_btCapsuleShape_getUpAxis_0:hI,_emscripten_bind_btCapsuleShape_setLocalScaling_1:pC,_emscripten_bind_btCapsuleShape_setMargin_1:AE,_emscripten_bind_btCollisionConfiguration___destroy___0:Iv,_emscripten_bind_btCollisionDispatcher___destroy___0:Iv,_emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1:vl,_emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1:tv,_emscripten_bind_btCollisionDispatcher_getNumManifolds_0:gT,_emscripten_bind_btCollisionObjectWrapper_getCollisionObject_0:MR,_emscripten_bind_btCollisionObjectWrapper_getCollisionShape_0:Gx,_emscripten_bind_btCollisionObjectWrapper_getWorldTransform_0:QI,_emscripten_bind_btCollisionObject___destroy___0:Mv,_emscripten_bind_btCollisionObject_activate_0:MA,_emscripten_bind_btCollisionObject_activate_1:pm,_emscripten_bind_btCollisionObject_forceActivationState_1:KR,_emscripten_bind_btCollisionObject_getBroadphaseHandle_0:KM,_emscripten_bind_btCollisionObject_getCollisionFlags_0:yO,_emscripten_bind_btCollisionObject_getCollisionShape_0:gO,_emscripten_bind_btCollisionObject_getFriction_0:NT,_emscripten_bind_btCollisionObject_getRestitution_0:dT,_emscripten_bind_btCollisionObject_getRollingFriction_0:YS,_emscripten_bind_btCollisionObject_getUserIndex_0:QM,_emscripten_bind_btCollisionObject_getUserPointer_0:ZO,_emscripten_bind_btCollisionObject_getWorldTransform_0:Lx,_emscripten_bind_btCollisionObject_isActive_0:cR,_emscripten_bind_btCollisionObject_isKinematicObject_0:UE,_emscripten_bind_btCollisionObject_isStaticObject_0:xS,_emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0:rC,_emscripten_bind_btCollisionObject_setActivationState_1:Ky,_emscripten_bind_btCollisionObject_setAnisotropicFriction_2:ry,_emscripten_bind_btCollisionObject_setCcdMotionThreshold_1:FE,_emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1:pE,_emscripten_bind_btCollisionObject_setCollisionFlags_1:mS,_emscripten_bind_btCollisionObject_setCollisionShape_1:Kv,_emscripten_bind_btCollisionObject_setContactProcessingThreshold_1:VE,_emscripten_bind_btCollisionObject_setFriction_1:aR,_emscripten_bind_btCollisionObject_setRestitution_1:fT,_emscripten_bind_btCollisionObject_setRollingFriction_1:TS,_emscripten_bind_btCollisionObject_setUserIndex_1:ET,_emscripten_bind_btCollisionObject_setUserPointer_1:zS,_emscripten_bind_btCollisionObject_setWorldTransform_1:WC,_emscripten_bind_btCollisionShape___destroy___0:Iv,_emscripten_bind_btCollisionShape_calculateLocalInertia_2:ay,_emscripten_bind_btCollisionShape_getLocalScaling_0:FS,_emscripten_bind_btCollisionShape_getMargin_0:bT,_emscripten_bind_btCollisionShape_setLocalScaling_1:pC,_emscripten_bind_btCollisionShape_setMargin_1:AE,_emscripten_bind_btCollisionWorld___destroy___0:Iv,_emscripten_bind_btCollisionWorld_addCollisionObject_1:Vy,_emscripten_bind_btCollisionWorld_addCollisionObject_2:Bg,_emscripten_bind_btCollisionWorld_addCollisionObject_3:VA,_emscripten_bind_btCollisionWorld_contactPairTest_3:rc,_emscripten_bind_btCollisionWorld_contactTest_2:Mu,_emscripten_bind_btCollisionWorld_convexSweepTest_5:pb,_emscripten_bind_btCollisionWorld_debugDrawObject_3:KA,_emscripten_bind_btCollisionWorld_debugDrawWorld_0:yS,_emscripten_bind_btCollisionWorld_getBroadphase_0:CO,_emscripten_bind_btCollisionWorld_getDebugDrawer_0:oS,_emscripten_bind_btCollisionWorld_getDispatchInfo_0:kM,_emscripten_bind_btCollisionWorld_getDispatcher_0:vO,_emscripten_bind_btCollisionWorld_getPairCache_0:jS,_emscripten_bind_btCollisionWorld_rayTest_3:yg,_emscripten_bind_btCollisionWorld_removeCollisionObject_1:uv,_emscripten_bind_btCollisionWorld_setDebugDrawer_1:jv,_emscripten_bind_btCollisionWorld_updateSingleAabb_1:qv,_emscripten_bind_btCompoundShape___destroy___0:Iv,_emscripten_bind_btCompoundShape_addChildShape_2:lr,_emscripten_bind_btCompoundShape_btCompoundShape_0:Va,_emscripten_bind_btCompoundShape_btCompoundShape_1:Fa,_emscripten_bind_btCompoundShape_calculateLocalInertia_2:ay,_emscripten_bind_btCompoundShape_getChildShape_1:BS,_emscripten_bind_btCompoundShape_getLocalScaling_0:FS,_emscripten_bind_btCompoundShape_getMargin_0:bT,_emscripten_bind_btCompoundShape_getNumChildShapes_0:pR,_emscripten_bind_btCompoundShape_removeChildShapeByIndex_1:jC,_emscripten_bind_btCompoundShape_removeChildShape_1:Pv,_emscripten_bind_btCompoundShape_setLocalScaling_1:pC,_emscripten_bind_btCompoundShape_setMargin_1:AE,_emscripten_bind_btCompoundShape_updateChildTransform_2:ot,_emscripten_bind_btCompoundShape_updateChildTransform_3:ct,_emscripten_bind_btConcaveShape___destroy___0:Iv,_emscripten_bind_btConcaveShape_calculateLocalInertia_2:ay,_emscripten_bind_btConcaveShape_getLocalScaling_0:FS,_emscripten_bind_btConcaveShape_setLocalScaling_1:pC,_emscripten_bind_btConeShapeX___destroy___0:Iv,_emscripten_bind_btConeShapeX_btConeShapeX_2:I_,_emscripten_bind_btConeShapeX_calculateLocalInertia_2:ay,_emscripten_bind_btConeShapeX_getLocalScaling_0:FS,_emscripten_bind_btConeShapeX_setLocalScaling_1:pC,_emscripten_bind_btConeShapeZ___destroy___0:Iv,_emscripten_bind_btConeShapeZ_btConeShapeZ_2:O_,_emscripten_bind_btConeShapeZ_calculateLocalInertia_2:ay,_emscripten_bind_btConeShapeZ_getLocalScaling_0:FS,_emscripten_bind_btConeShapeZ_setLocalScaling_1:pC,_emscripten_bind_btConeShape___destroy___0:Iv,_emscripten_bind_btConeShape_btConeShape_2:G_,_emscripten_bind_btConeShape_calculateLocalInertia_2:ay,_emscripten_bind_btConeShape_getLocalScaling_0:FS,_emscripten_bind_btConeShape_setLocalScaling_1:pC,_emscripten_bind_btConeTwistConstraint___destroy___0:Iv,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2:Ot,_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4:Ft,_emscripten_bind_btConeTwistConstraint_enableFeedback_1:cS,_emscripten_bind_btConeTwistConstraint_enableMotor_1:$E,_emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btConeTwistConstraint_getParam_2:uy,_emscripten_bind_btConeTwistConstraint_setAngularOnly_1:mE,_emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btConeTwistConstraint_setDamping_1:LS,_emscripten_bind_btConeTwistConstraint_setLimit_2:wC,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1:$y,_emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1:zC,_emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1:Mg,_emscripten_bind_btConeTwistConstraint_setMotorTarget_1:Cn,_emscripten_bind_btConeTwistConstraint_setParam_3:Rg,_emscripten_bind_btConstCollisionObjectArray___destroy___0:lE,_emscripten_bind_btConstCollisionObjectArray_at_1:CC,_emscripten_bind_btConstCollisionObjectArray_size_0:Gx,_emscripten_bind_btConstraintSetting___destroy___0:pI,_emscripten_bind_btConstraintSetting_btConstraintSetting_0:vS,_emscripten_bind_btConstraintSetting_get_m_damping_0:TD,_emscripten_bind_btConstraintSetting_get_m_impulseClamp_0:UD,_emscripten_bind_btConstraintSetting_get_m_tau_0:cP,_emscripten_bind_btConstraintSetting_set_m_damping_1:VP,_emscripten_bind_btConstraintSetting_set_m_impulseClamp_1:jP,_emscripten_bind_btConstraintSetting_set_m_tau_1:gD,_emscripten_bind_btConstraintSolver___destroy___0:Iv,_emscripten_bind_btContactSolverInfo___destroy___0:pI,_emscripten_bind_btContactSolverInfo_get_m_numIterations_0:KP,_emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0:nR,_emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0:UM,_emscripten_bind_btContactSolverInfo_set_m_numIterations_1:PI,_emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1:rE,_emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1:YT,_emscripten_bind_btConvexHullShape___destroy___0:Iv,_emscripten_bind_btConvexHullShape_addPoint_1:qE,_emscripten_bind_btConvexHullShape_addPoint_2:zv,_emscripten_bind_btConvexHullShape_btConvexHullShape_0:Sv,_emscripten_bind_btConvexHullShape_btConvexHullShape_1:sy,_emscripten_bind_btConvexHullShape_btConvexHullShape_2:bg,_emscripten_bind_btConvexHullShape_calculateLocalInertia_2:ay,_emscripten_bind_btConvexHullShape_getConvexPolyhedron_0:hI,_emscripten_bind_btConvexHullShape_getLocalScaling_0:FS,_emscripten_bind_btConvexHullShape_getMargin_0:bT,_emscripten_bind_btConvexHullShape_getNumVertices_0:QE,_emscripten_bind_btConvexHullShape_initializePolyhedralFeatures_1:Sy,_emscripten_bind_btConvexHullShape_recalcLocalAabb_0:wS,_emscripten_bind_btConvexHullShape_setLocalScaling_1:pC,_emscripten_bind_btConvexHullShape_setMargin_1:AE,_emscripten_bind_btConvexPolyhedron___destroy___0:Iv,_emscripten_bind_btConvexPolyhedron_get_m_faces_0:Hw,_emscripten_bind_btConvexPolyhedron_get_m_vertices_0:xL,_emscripten_bind_btConvexPolyhedron_set_m_faces_1:fE,_emscripten_bind_btConvexPolyhedron_set_m_vertices_1:HC,_emscripten_bind_btConvexShape___destroy___0:Iv,_emscripten_bind_btConvexShape_calculateLocalInertia_2:ay,_emscripten_bind_btConvexShape_getLocalScaling_0:FS,_emscripten_bind_btConvexShape_getMargin_0:bT,_emscripten_bind_btConvexShape_setLocalScaling_1:pC,_emscripten_bind_btConvexShape_setMargin_1:AE,_emscripten_bind_btConvexTriangleMeshShape___destroy___0:Iv,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1:Jl,_emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2:Dl,_emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2:ay,_emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0:FS,_emscripten_bind_btConvexTriangleMeshShape_getMargin_0:bT,_emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1:pC,_emscripten_bind_btConvexTriangleMeshShape_setMargin_1:AE,_emscripten_bind_btCylinderShapeX___destroy___0:Iv,_emscripten_bind_btCylinderShapeX_btCylinderShapeX_1:fA,_emscripten_bind_btCylinderShapeX_calculateLocalInertia_2:ay,_emscripten_bind_btCylinderShapeX_getLocalScaling_0:FS,_emscripten_bind_btCylinderShapeX_getMargin_0:bT,_emscripten_bind_btCylinderShapeX_setLocalScaling_1:pC,_emscripten_bind_btCylinderShapeX_setMargin_1:AE,_emscripten_bind_btCylinderShapeZ___destroy___0:Iv,_emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1:uA,_emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2:ay,_emscripten_bind_btCylinderShapeZ_getLocalScaling_0:FS,_emscripten_bind_btCylinderShapeZ_getMargin_0:bT,_emscripten_bind_btCylinderShapeZ_setLocalScaling_1:pC,_emscripten_bind_btCylinderShapeZ_setMargin_1:AE,_emscripten_bind_btCylinderShape___destroy___0:Iv,_emscripten_bind_btCylinderShape_btCylinderShape_1:lv,_emscripten_bind_btCylinderShape_calculateLocalInertia_2:ay,_emscripten_bind_btCylinderShape_getLocalScaling_0:FS,_emscripten_bind_btCylinderShape_getMargin_0:bT,_emscripten_bind_btCylinderShape_setLocalScaling_1:pC,_emscripten_bind_btCylinderShape_setMargin_1:AE,_emscripten_bind_btDbvtBroadphase___destroy___0:Iv,_emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0:hC,_emscripten_bind_btDefaultCollisionConfiguration___destroy___0:Iv,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0:Xh,_emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1:Gm,_emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0:pI,_emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0:iy,_emscripten_bind_btDefaultMotionState___destroy___0:Iv,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_0:Nb,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_1:dm,_emscripten_bind_btDefaultMotionState_btDefaultMotionState_2:bA,_emscripten_bind_btDefaultMotionState_getWorldTransform_1:Hv,_emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0:xL,_emscripten_bind_btDefaultMotionState_setWorldTransform_1:Fv,_emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1:BE,_emscripten_bind_btDefaultSoftBodySolver___destroy___0:Iv,_emscripten_bind_btDefaultSoftBodySolver_btDefaultSoftBodySolver_0:wh,_emscripten_bind_btDefaultVehicleRaycaster___destroy___0:Iv,_emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1:Hg,_emscripten_bind_btDefaultVehicleRaycaster_castRay_3:og,_emscripten_bind_btDiscreteDynamicsWorld___destroy___0:Iv,_emscripten_bind_btDiscreteDynamicsWorld_addAction_1:EC,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1:oy,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2:pg,_emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3:VA,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1:qy,_emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2:jg,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1:pv,_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3:kA,_emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4:rp,_emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3:rc,_emscripten_bind_btDiscreteDynamicsWorld_contactTest_2:Mu,_emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5:pb,_emscripten_bind_btDiscreteDynamicsWorld_debugDrawObject_3:KA,_emscripten_bind_btDiscreteDynamicsWorld_debugDrawWorld_0:yS,_emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0:CO,_emscripten_bind_btDiscreteDynamicsWorld_getDebugDrawer_0:oS,_emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0:kM,_emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0:vO,_emscripten_bind_btDiscreteDynamicsWorld_getGravity_0:jf,_emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0:jS,_emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0:pM,_emscripten_bind_btDiscreteDynamicsWorld_rayTest_3:yg,_emscripten_bind_btDiscreteDynamicsWorld_removeAction_1:$v,_emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1:uv,_emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1:iv,_emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1:rv,_emscripten_bind_btDiscreteDynamicsWorld_setContactAddedCallback_1:Ev,_emscripten_bind_btDiscreteDynamicsWorld_setContactDestroyedCallback_1:Yy,_emscripten_bind_btDiscreteDynamicsWorld_setContactProcessedCallback_1:zy,_emscripten_bind_btDiscreteDynamicsWorld_setDebugDrawer_1:jv,_emscripten_bind_btDiscreteDynamicsWorld_setGravity_1:Cv,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1:Ug,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2:GA,_emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3:zA,_emscripten_bind_btDiscreteDynamicsWorld_updateSingleAabb_1:qv,_emscripten_bind_btDispatcherInfo___destroy___0:pI,_emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0:xD,_emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0:nD,_emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0:rx,_emscripten_bind_btDispatcherInfo_get_m_enableSPU_0:JO,_emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0:XM,_emscripten_bind_btDispatcherInfo_get_m_stepCount_0:gP,_emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0:ID,_emscripten_bind_btDispatcherInfo_get_m_timeStep_0:cP,_emscripten_bind_btDispatcherInfo_get_m_useContinuous_0:fO,_emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0:TT,_emscripten_bind_btDispatcherInfo_get_m_useEpa_0:gI,_emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1:Ax,_emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1:ax,_emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1:VR,_emscripten_bind_btDispatcherInfo_set_m_enableSPU_1:NR,_emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1:iR,_emscripten_bind_btDispatcherInfo_set_m_stepCount_1:aM,_emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1:mP,_emscripten_bind_btDispatcherInfo_set_m_timeStep_1:gD,_emscripten_bind_btDispatcherInfo_set_m_useContinuous_1:hR,_emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1:YE,_emscripten_bind_btDispatcherInfo_set_m_useEpa_1:ZR,_emscripten_bind_btDispatcher___destroy___0:Iv,_emscripten_bind_btDispatcher_getManifoldByIndexInternal_1:tv,_emscripten_bind_btDispatcher_getNumManifolds_0:gT,_emscripten_bind_btDynamicsWorld___destroy___0:Iv,_emscripten_bind_btDynamicsWorld_addAction_1:EC,_emscripten_bind_btDynamicsWorld_addCollisionObject_1:Vy,_emscripten_bind_btDynamicsWorld_addCollisionObject_2:Bg,_emscripten_bind_btDynamicsWorld_addCollisionObject_3:VA,_emscripten_bind_btDynamicsWorld_contactPairTest_3:rc,_emscripten_bind_btDynamicsWorld_contactTest_2:Mu,_emscripten_bind_btDynamicsWorld_convexSweepTest_5:pb,_emscripten_bind_btDynamicsWorld_debugDrawObject_3:KA,_emscripten_bind_btDynamicsWorld_debugDrawWorld_0:yS,_emscripten_bind_btDynamicsWorld_getBroadphase_0:CO,_emscripten_bind_btDynamicsWorld_getDebugDrawer_0:oS,_emscripten_bind_btDynamicsWorld_getDispatchInfo_0:kM,_emscripten_bind_btDynamicsWorld_getDispatcher_0:vO,_emscripten_bind_btDynamicsWorld_getPairCache_0:jS,_emscripten_bind_btDynamicsWorld_getSolverInfo_0:pM,_emscripten_bind_btDynamicsWorld_rayTest_3:yg,_emscripten_bind_btDynamicsWorld_removeAction_1:$v,_emscripten_bind_btDynamicsWorld_removeCollisionObject_1:uv,_emscripten_bind_btDynamicsWorld_setDebugDrawer_1:jv,_emscripten_bind_btDynamicsWorld_updateSingleAabb_1:qv,_emscripten_bind_btFaceArray___destroy___0:OC,_emscripten_bind_btFaceArray_at_1:PE,_emscripten_bind_btFaceArray_size_0:Gx,_emscripten_bind_btFace___destroy___0:HT,_emscripten_bind_btFace_get_m_indices_0:JL,_emscripten_bind_btFace_get_m_plane_1:BM,_emscripten_bind_btFace_set_m_indices_1:lR,_emscripten_bind_btFace_set_m_plane_2:pT,_emscripten_bind_btFixedConstraint___destroy___0:Iv,_emscripten_bind_btFixedConstraint_btFixedConstraint_4:Sn,_emscripten_bind_btFixedConstraint_enableFeedback_1:cS,_emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btFixedConstraint_getParam_2:uy,_emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btFixedConstraint_setParam_3:Rg,_emscripten_bind_btGeneric6DofConstraint___destroy___0:Iv,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3:Fb,_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5:Ap,_emscripten_bind_btGeneric6DofConstraint_enableFeedback_1:cS,_emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0:ix,_emscripten_bind_btGeneric6DofConstraint_getParam_2:uy,_emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1:jy,_emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1:Hy,_emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1:Jy,_emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1:Zy,_emscripten_bind_btGeneric6DofConstraint_setParam_3:Rg,_emscripten_bind_btGeneric6DofSpringConstraint___destroy___0:Iv,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3:$l,_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5:Ll,_emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1:cS,_emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2:ab,_emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0:ix,_emscripten_bind_btGeneric6DofSpringConstraint_getParam_2:uy,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1:jy,_emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1:Hy,_emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2:UC,_emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0:$u,_emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1:eh,_emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2:Nv,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1:Jy,_emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1:Zy,_emscripten_bind_btGeneric6DofSpringConstraint_setParam_3:Rg,_emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2:MC,_emscripten_bind_btGhostObject___destroy___0:Mv,_emscripten_bind_btGhostObject_activate_0:MA,_emscripten_bind_btGhostObject_activate_1:pm,_emscripten_bind_btGhostObject_btGhostObject_0:sa,_emscripten_bind_btGhostObject_forceActivationState_1:KR,_emscripten_bind_btGhostObject_getBroadphaseHandle_0:KM,_emscripten_bind_btGhostObject_getCollisionFlags_0:yO,_emscripten_bind_btGhostObject_getCollisionShape_0:gO,_emscripten_bind_btGhostObject_getFriction_0:NT,_emscripten_bind_btGhostObject_getNumOverlappingObjects_0:tT,_emscripten_bind_btGhostObject_getOverlappingObject_1:TE,_emscripten_bind_btGhostObject_getRestitution_0:dT,_emscripten_bind_btGhostObject_getRollingFriction_0:YS,_emscripten_bind_btGhostObject_getUserIndex_0:QM,_emscripten_bind_btGhostObject_getUserPointer_0:ZO,_emscripten_bind_btGhostObject_getWorldTransform_0:Lx,_emscripten_bind_btGhostObject_isActive_0:cR,_emscripten_bind_btGhostObject_isKinematicObject_0:UE,_emscripten_bind_btGhostObject_isStaticObject_0:xS,_emscripten_bind_btGhostObject_isStaticOrKinematicObject_0:rC,_emscripten_bind_btGhostObject_setActivationState_1:Ky,_emscripten_bind_btGhostObject_setAnisotropicFriction_2:ry,_emscripten_bind_btGhostObject_setCcdMotionThreshold_1:FE,_emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1:pE,_emscripten_bind_btGhostObject_setCollisionFlags_1:mS,_emscripten_bind_btGhostObject_setCollisionShape_1:Kv,_emscripten_bind_btGhostObject_setContactProcessingThreshold_1:VE,_emscripten_bind_btGhostObject_setFriction_1:aR,_emscripten_bind_btGhostObject_setRestitution_1:fT,_emscripten_bind_btGhostObject_setRollingFriction_1:TS,_emscripten_bind_btGhostObject_setUserIndex_1:ET,_emscripten_bind_btGhostObject_setUserPointer_1:zS,_emscripten_bind_btGhostObject_setWorldTransform_1:WC,_emscripten_bind_btGhostPairCallback___destroy___0:Iv,_emscripten_bind_btGhostPairCallback_btGhostPairCallback_0:OS,_emscripten_bind_btHeightfieldTerrainShape___destroy___0:Iv,_emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9:Jt,_emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2:ay,_emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0:FS,_emscripten_bind_btHeightfieldTerrainShape_getMargin_0:bT,_emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1:pC,_emscripten_bind_btHeightfieldTerrainShape_setMargin_1:AE,_emscripten_bind_btHingeConstraint___destroy___0:Iv,_emscripten_bind_btHingeConstraint_btHingeConstraint_2:ke,_emscripten_bind_btHingeConstraint_btHingeConstraint_3:Ne,_emscripten_bind_btHingeConstraint_btHingeConstraint_4:Wt,_emscripten_bind_btHingeConstraint_btHingeConstraint_5:jt,_emscripten_bind_btHingeConstraint_btHingeConstraint_6:dp,_emscripten_bind_btHingeConstraint_btHingeConstraint_7:jh,_emscripten_bind_btHingeConstraint_enableAngularMotor_3:Qg,_emscripten_bind_btHingeConstraint_enableFeedback_1:cS,_emscripten_bind_btHingeConstraint_enableMotor_1:JS,_emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btHingeConstraint_getParam_2:uy,_emscripten_bind_btHingeConstraint_setAngularOnly_1:dS,_emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btHingeConstraint_setLimit_4:zg,_emscripten_bind_btHingeConstraint_setLimit_5:ug,_emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1:xE,_emscripten_bind_btHingeConstraint_setMotorTarget_2:na,_emscripten_bind_btHingeConstraint_setParam_3:Rg,_emscripten_bind_btIDebugDraw___destroy___0:Iv,_emscripten_bind_btIDebugDraw_draw3dText_2:Py,_emscripten_bind_btIDebugDraw_drawContactPoint_5:_m,_emscripten_bind_btIDebugDraw_drawLine_3:Og,_emscripten_bind_btIDebugDraw_getDebugMode_0:VS,_emscripten_bind_btIDebugDraw_reportErrorWarning_1:Vv,_emscripten_bind_btIDebugDraw_setDebugMode_1:IC,_emscripten_bind_btIndexedMeshArray___destroy___0:lE,_emscripten_bind_btIndexedMeshArray_at_1:Jv,_emscripten_bind_btIndexedMeshArray_size_0:Gx,_emscripten_bind_btIndexedMesh___destroy___0:PR,_emscripten_bind_btIndexedMesh_get_m_numTriangles_0:ZD,_emscripten_bind_btIndexedMesh_set_m_numTriangles_1:gx,_emscripten_bind_btIntArray___destroy___0:lE,_emscripten_bind_btIntArray_at_1:CC,_emscripten_bind_btIntArray_size_0:Gx,_emscripten_bind_btKinematicCharacterController___destroy___0:Iv,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3:Mc,_emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4:gc,_emscripten_bind_btKinematicCharacterController_canJump_0:uE,_emscripten_bind_btKinematicCharacterController_getGhostObject_0:rx,_emscripten_bind_btKinematicCharacterController_getGravity_0:tD,_emscripten_bind_btKinematicCharacterController_getMaxSlope_0:nD,_emscripten_bind_btKinematicCharacterController_jump_0:NE,_emscripten_bind_btKinematicCharacterController_onGround_0:VS,_emscripten_bind_btKinematicCharacterController_playerStep_2:Vg,_emscripten_bind_btKinematicCharacterController_preStep_1:cv,_emscripten_bind_btKinematicCharacterController_setFallSpeed_1:hx,_emscripten_bind_btKinematicCharacterController_setGravity_1:jx,_emscripten_bind_btKinematicCharacterController_setJumpSpeed_1:Ax,_emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1:bx,_emscripten_bind_btKinematicCharacterController_setMaxSlope_1:Ov,_emscripten_bind_btKinematicCharacterController_setUpAxis_1:DC,_emscripten_bind_btKinematicCharacterController_setUpInterpolate_1:Ey,_emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1:Ry,_emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2:ig,_emscripten_bind_btKinematicCharacterController_setWalkDirection_1:Cy,_emscripten_bind_btKinematicCharacterController_updateAction_2:Ty,_emscripten_bind_btKinematicCharacterController_warp_1:mv,_emscripten_bind_btManifoldPoint___destroy___0:pI,_emscripten_bind_btManifoldPoint_getAppliedImpulse_0:MS,_emscripten_bind_btManifoldPoint_getDistance_0:cT,_emscripten_bind_btManifoldPoint_getPositionWorldOnA_0:ix,_emscripten_bind_btManifoldPoint_getPositionWorldOnB_0:UT,_emscripten_bind_btManifoldPoint_get_m_localPointA_0:JL,_emscripten_bind_btManifoldPoint_get_m_localPointB_0:GP,_emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0:fP,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0:Zw,_emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0:zD,_emscripten_bind_btManifoldPoint_get_m_userPersistentData_0:cI,_emscripten_bind_btManifoldPoint_set_m_localPointA_1:zb,_emscripten_bind_btManifoldPoint_set_m_localPointB_1:Ib,_emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1:Cb,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1:kb,_emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1:Ab,_emscripten_bind_btManifoldPoint_set_m_userPersistentData_1:tR,_emscripten_bind_btMatrix3x3___destroy___0:pI,_emscripten_bind_btMatrix3x3_getRotation_1:DS,_emscripten_bind_btMatrix3x3_getRow_1:uh,_emscripten_bind_btMatrix3x3_setEulerZYX_3:aC,_emscripten_bind_btMotionState___destroy___0:Iv,_emscripten_bind_btMotionState_getWorldTransform_1:Hv,_emscripten_bind_btMotionState_setWorldTransform_1:Fv,_emscripten_bind_btMultiSphereShape___destroy___0:Iv,_emscripten_bind_btMultiSphereShape_btMultiSphereShape_3:po,_emscripten_bind_btMultiSphereShape_calculateLocalInertia_2:ay,_emscripten_bind_btMultiSphereShape_getLocalScaling_0:FS,_emscripten_bind_btMultiSphereShape_setLocalScaling_1:pC,_emscripten_bind_btOverlappingPairCache___destroy___0:Iv,_emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0:Uv,_emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1:iv,_emscripten_bind_btOverlappingPairCallback___destroy___0:Iv,_emscripten_bind_btPairCachingGhostObject___destroy___0:Mv,_emscripten_bind_btPairCachingGhostObject_activate_0:MA,_emscripten_bind_btPairCachingGhostObject_activate_1:pm,_emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0:_n,_emscripten_bind_btPairCachingGhostObject_forceActivationState_1:KR,_emscripten_bind_btPairCachingGhostObject_getBroadphaseHandle_0:KM,_emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0:yO,_emscripten_bind_btPairCachingGhostObject_getCollisionShape_0:gO,_emscripten_bind_btPairCachingGhostObject_getFriction_0:NT,_emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0:tT,_emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1:TE,_emscripten_bind_btPairCachingGhostObject_getRestitution_0:dT,_emscripten_bind_btPairCachingGhostObject_getRollingFriction_0:YS,_emscripten_bind_btPairCachingGhostObject_getUserIndex_0:QM,_emscripten_bind_btPairCachingGhostObject_getUserPointer_0:ZO,_emscripten_bind_btPairCachingGhostObject_getWorldTransform_0:Lx,_emscripten_bind_btPairCachingGhostObject_isActive_0:cR,_emscripten_bind_btPairCachingGhostObject_isKinematicObject_0:UE,_emscripten_bind_btPairCachingGhostObject_isStaticObject_0:xS,_emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0:rC,_emscripten_bind_btPairCachingGhostObject_setActivationState_1:Ky,_emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2:ry,_emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1:FE,_emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1:pE,_emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1:mS,_emscripten_bind_btPairCachingGhostObject_setCollisionShape_1:Kv,_emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1:VE,_emscripten_bind_btPairCachingGhostObject_setFriction_1:aR,_emscripten_bind_btPairCachingGhostObject_setRestitution_1:fT,_emscripten_bind_btPairCachingGhostObject_setRollingFriction_1:TS,_emscripten_bind_btPairCachingGhostObject_setUserIndex_1:ET,_emscripten_bind_btPairCachingGhostObject_setUserPointer_1:zS,_emscripten_bind_btPairCachingGhostObject_setWorldTransform_1:WC,_emscripten_bind_btPersistentManifold___destroy___0:PR,_emscripten_bind_btPersistentManifold_btPersistentManifold_0:_a,_emscripten_bind_btPersistentManifold_getBody0_0:uO,_emscripten_bind_btPersistentManifold_getBody1_0:_O,_emscripten_bind_btPersistentManifold_getContactPoint_1:nE,_emscripten_bind_btPersistentManifold_getNumContacts_0:sM,_emscripten_bind_btPoint2PointConstraint___destroy___0:Iv,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2:$s,_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4:Ic,_emscripten_bind_btPoint2PointConstraint_enableFeedback_1:cS,_emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btPoint2PointConstraint_getParam_2:uy,_emscripten_bind_btPoint2PointConstraint_getPivotInA_0:kT,_emscripten_bind_btPoint2PointConstraint_getPivotInB_0:BT,_emscripten_bind_btPoint2PointConstraint_get_m_setting_0:Tw,_emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btPoint2PointConstraint_setParam_3:Rg,_emscripten_bind_btPoint2PointConstraint_setPivotA_1:eE,_emscripten_bind_btPoint2PointConstraint_setPivotB_1:$C,_emscripten_bind_btPoint2PointConstraint_set_m_setting_1:Bm,_emscripten_bind_btQuadWord___destroy___0:pI,_emscripten_bind_btQuadWord_setW_1:AI,_emscripten_bind_btQuadWord_setX_1:HI,_emscripten_bind_btQuadWord_setY_1:UI,_emscripten_bind_btQuadWord_setZ_1:kI,_emscripten_bind_btQuadWord_w_0:tx,_emscripten_bind_btQuadWord_x_0:aP,_emscripten_bind_btQuadWord_y_0:ex,_emscripten_bind_btQuadWord_z_0:$I,_emscripten_bind_btQuaternion___destroy___0:pI,_emscripten_bind_btQuaternion_angleShortestPath_1:JE,_emscripten_bind_btQuaternion_angle_1:zR,_emscripten_bind_btQuaternion_btQuaternion_4:Id,_emscripten_bind_btQuaternion_dot_1:IM,_emscripten_bind_btQuaternion_getAngleShortestPath_0:dR,_emscripten_bind_btQuaternion_getAngle_0:jR,_emscripten_bind_btQuaternion_getAxis_0:pd,_emscripten_bind_btQuaternion_inverse_0:hd,_emscripten_bind_btQuaternion_length2_0:dx,_emscripten_bind_btQuaternion_length_0:Fx,_emscripten_bind_btQuaternion_normalize_0:nx,_emscripten_bind_btQuaternion_normalized_0:ud,_emscripten_bind_btQuaternion_op_add_1:OM,_emscripten_bind_btQuaternion_op_div_1:lO,_emscripten_bind_btQuaternion_op_mul_1:pA,_emscripten_bind_btQuaternion_op_mulq_1:hM,_emscripten_bind_btQuaternion_op_sub_1:MM,_emscripten_bind_btQuaternion_setEulerZYX_3:bv,_emscripten_bind_btQuaternion_setRotation_2:vC,_emscripten_bind_btQuaternion_setValue_4:ih,_emscripten_bind_btQuaternion_setW_1:AI,_emscripten_bind_btQuaternion_setX_1:HI,_emscripten_bind_btQuaternion_setY_1:UI,_emscripten_bind_btQuaternion_setZ_1:kI,_emscripten_bind_btQuaternion_w_0:tx,_emscripten_bind_btQuaternion_x_0:aP,_emscripten_bind_btQuaternion_y_0:ex,_emscripten_bind_btQuaternion_z_0:$I,_emscripten_bind_btRaycastVehicle___destroy___0:Iv,_emscripten_bind_btRaycastVehicle_addWheel_7:br,_emscripten_bind_btRaycastVehicle_applyEngineForce_2:Ny,_emscripten_bind_btRaycastVehicle_btRaycastVehicle_3:yl,_emscripten_bind_btRaycastVehicle_getChassisWorldTransform_0:oM,_emscripten_bind_btRaycastVehicle_getCurrentSpeedKmHour_0:zE,_emscripten_bind_btRaycastVehicle_getForwardAxis_0:WM,_emscripten_bind_btRaycastVehicle_getForwardVector_0:pf,_emscripten_bind_btRaycastVehicle_getNumWheels_0:rM,_emscripten_bind_btRaycastVehicle_getRightAxis_0:cO,_emscripten_bind_btRaycastVehicle_getRigidBody_0:aO,_emscripten_bind_btRaycastVehicle_getSteeringValue_1:dC,_emscripten_bind_btRaycastVehicle_getUpAxis_0:kO,_emscripten_bind_btRaycastVehicle_getUserConstraintId_0:nM,_emscripten_bind_btRaycastVehicle_getUserConstraintType_0:XR,_emscripten_bind_btRaycastVehicle_getWheelInfo_1:ZS,_emscripten_bind_btRaycastVehicle_getWheelTransformWS_1:SE,_emscripten_bind_btRaycastVehicle_rayCast_1:RS,_emscripten_bind_btRaycastVehicle_resetSuspension_0:o_,_emscripten_bind_btRaycastVehicle_setBrake_2:hv,_emscripten_bind_btRaycastVehicle_setCoordinateSystem_3:BA,_emscripten_bind_btRaycastVehicle_setPitchControl_1:PS,_emscripten_bind_btRaycastVehicle_setSteeringValue_2:Fy,_emscripten_bind_btRaycastVehicle_setUserConstraintId_1:bE,_emscripten_bind_btRaycastVehicle_setUserConstraintType_1:qC,_emscripten_bind_btRaycastVehicle_updateAction_2:Ty,_emscripten_bind_btRaycastVehicle_updateFriction_1:sC,_emscripten_bind_btRaycastVehicle_updateSuspension_1:Vl,_emscripten_bind_btRaycastVehicle_updateVehicle_1:fC,_emscripten_bind_btRaycastVehicle_updateWheelTransform_2:hA,_emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_1:xg,_emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_2:DA,_emscripten_bind_btRigidBodyConstructionInfo___destroy___0:pI,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3:lf,_emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4:Np,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0:ST,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0:HS,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0:vR,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0:eR,_emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0:KS,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0:NM,_emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0:fR,_emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0:IO,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0:eD,_emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0:yR,_emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0:ZM,_emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0:dM,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1:yE,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1:XC,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1:fS,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1:gS,_emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1:JC,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1:hT,_emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1:rS,_emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1:$T,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1:ox,_emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1:uS,_emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1:DT,_emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1:iI,_emscripten_bind_btRigidBody___destroy___0:Mv,_emscripten_bind_btRigidBody_activate_0:MA,_emscripten_bind_btRigidBody_activate_1:pm,_emscripten_bind_btRigidBody_applyCentralForce_1:sg,_emscripten_bind_btRigidBody_applyCentralImpulse_1:XA,_emscripten_bind_btRigidBody_applyCentralLocalForce_1:OA,_emscripten_bind_btRigidBody_applyForce_2:RC,_emscripten_bind_btRigidBody_applyGravity_0:qf,_emscripten_bind_btRigidBody_applyImpulse_2:Zv,_emscripten_bind_btRigidBody_applyLocalTorque_1:_g,_emscripten_bind_btRigidBody_applyTorqueImpulse_1:eg,_emscripten_bind_btRigidBody_applyTorque_1:Ng,_emscripten_bind_btRigidBody_btRigidBody_1:zs,_emscripten_bind_btRigidBody_forceActivationState_1:KR,_emscripten_bind_btRigidBody_getAabb_2:Vm,_emscripten_bind_btRigidBody_getAngularDamping_0:QS,_emscripten_bind_btRigidBody_getAngularFactor_0:RM,_emscripten_bind_btRigidBody_getAngularVelocity_0:WR,_emscripten_bind_btRigidBody_getBroadphaseHandle_0:KM,_emscripten_bind_btRigidBody_getBroadphaseProxy_0:KM,_emscripten_bind_btRigidBody_getCenterOfMassTransform_0:Lx,_emscripten_bind_btRigidBody_getCollisionFlags_0:yO,_emscripten_bind_btRigidBody_getCollisionShape_0:gO,_emscripten_bind_btRigidBody_getFriction_0:NT,_emscripten_bind_btRigidBody_getGravity_0:MI,_emscripten_bind_btRigidBody_getLinearDamping_0:eT,_emscripten_bind_btRigidBody_getLinearFactor_0:GM,_emscripten_bind_btRigidBody_getLinearVelocity_0:iM,_emscripten_bind_btRigidBody_getMotionState_0:BO,_emscripten_bind_btRigidBody_getRestitution_0:dT,_emscripten_bind_btRigidBody_getRollingFriction_0:YS,_emscripten_bind_btRigidBody_getUserIndex_0:QM,_emscripten_bind_btRigidBody_getUserPointer_0:ZO,_emscripten_bind_btRigidBody_getWorldTransform_0:Lx,_emscripten_bind_btRigidBody_isActive_0:cR,_emscripten_bind_btRigidBody_isKinematicObject_0:UE,_emscripten_bind_btRigidBody_isStaticObject_0:xS,_emscripten_bind_btRigidBody_isStaticOrKinematicObject_0:rC,_emscripten_bind_btRigidBody_setActivationState_1:Ky,_emscripten_bind_btRigidBody_setAngularFactor_1:XE,_emscripten_bind_btRigidBody_setAngularVelocity_1:gE,_emscripten_bind_btRigidBody_setAnisotropicFriction_2:ry,_emscripten_bind_btRigidBody_setCcdMotionThreshold_1:FE,_emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1:pE,_emscripten_bind_btRigidBody_setCenterOfMassTransform_1:kv,_emscripten_bind_btRigidBody_setCollisionFlags_1:mS,_emscripten_bind_btRigidBody_setCollisionShape_1:Kv,_emscripten_bind_btRigidBody_setContactProcessingThreshold_1:VE,_emscripten_bind_btRigidBody_setDamping_2:hf,_emscripten_bind_btRigidBody_setFriction_1:aR,_emscripten_bind_btRigidBody_setGravity_1:Au,_emscripten_bind_btRigidBody_setLinearFactor_1:nS,_emscripten_bind_btRigidBody_setLinearVelocity_1:IE,_emscripten_bind_btRigidBody_setMassProps_2:sc,_emscripten_bind_btRigidBody_setMotionState_1:WE,_emscripten_bind_btRigidBody_setRestitution_1:fT,_emscripten_bind_btRigidBody_setRollingFriction_1:TS,_emscripten_bind_btRigidBody_setSleepingThresholds_2:oC,_emscripten_bind_btRigidBody_setUserIndex_1:ET,_emscripten_bind_btRigidBody_setUserPointer_1:zS,_emscripten_bind_btRigidBody_setWorldTransform_1:WC,_emscripten_bind_btRigidBody_upcast_1:PT,_emscripten_bind_btRigidBody_updateInertiaTensor_0:$a,_emscripten_bind_btScalarArray___destroy___0:lE,_emscripten_bind_btScalarArray_at_1:Xv,_emscripten_bind_btScalarArray_size_0:Gx,_emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0:Iv,_emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0:hc,_emscripten_bind_btShapeHull___destroy___0:Vi,_emscripten_bind_btShapeHull_btShapeHull_1:qd,_emscripten_bind_btShapeHull_buildHull_1:Us,_emscripten_bind_btShapeHull_getVertexPointer_0:TM,_emscripten_bind_btShapeHull_numVertices_0:gP,_emscripten_bind_btSliderConstraint___destroy___0:Iv,_emscripten_bind_btSliderConstraint_btSliderConstraint_3:oo,_emscripten_bind_btSliderConstraint_btSliderConstraint_5:Me,_emscripten_bind_btSliderConstraint_enableFeedback_1:cS,_emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btSliderConstraint_getParam_2:uy,_emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btSliderConstraint_setLowerAngLimit_1:GE,_emscripten_bind_btSliderConstraint_setLowerLinLimit_1:VE,_emscripten_bind_btSliderConstraint_setParam_3:Rg,_emscripten_bind_btSliderConstraint_setUpperAngLimit_1:jE,_emscripten_bind_btSliderConstraint_setUpperLinLimit_1:HE,_emscripten_bind_btSoftBodyArray___destroy___0:lE,_emscripten_bind_btSoftBodyArray_at_1:CC,_emscripten_bind_btSoftBodyArray_size_0:Gx,_emscripten_bind_btSoftBodyHelpers_CreateEllipsoid_4:hi,_emscripten_bind_btSoftBodyHelpers_CreateFromConvexHull_4:om,_emscripten_bind_btSoftBodyHelpers_CreateFromTriMesh_5:rr,_emscripten_bind_btSoftBodyHelpers_CreatePatchUV_10:Ms,_emscripten_bind_btSoftBodyHelpers_CreatePatch_9:ws,_emscripten_bind_btSoftBodyHelpers_CreateRope_5:zt,_emscripten_bind_btSoftBodyHelpers___destroy___0:pI,_emscripten_bind_btSoftBodyHelpers_btSoftBodyHelpers_0:pw,_emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration___destroy___0:Iv,_emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_0:ph,_emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_1:Vb,_emscripten_bind_btSoftBodySolver___destroy___0:Iv,_emscripten_bind_btSoftBodyWorldInfo___destroy___0:kC,_emscripten_bind_btSoftBodyWorldInfo_btSoftBodyWorldInfo_0:_S,_emscripten_bind_btSoftBodyWorldInfo_get_air_density_0:cP,_emscripten_bind_btSoftBodyWorldInfo_get_m_broadphase_0:VI,_emscripten_bind_btSoftBodyWorldInfo_get_m_dispatcher_0:jI,_emscripten_bind_btSoftBodyWorldInfo_get_m_gravity_0:Uw,_emscripten_bind_btSoftBodyWorldInfo_get_m_maxDisplacement_0:ID,_emscripten_bind_btSoftBodyWorldInfo_get_water_density_0:TD,_emscripten_bind_btSoftBodyWorldInfo_get_water_normal_0:GP,_emscripten_bind_btSoftBodyWorldInfo_get_water_offset_0:UD,_emscripten_bind_btSoftBodyWorldInfo_set_air_density_1:gD,_emscripten_bind_btSoftBodyWorldInfo_set_m_broadphase_1:wR,_emscripten_bind_btSoftBodyWorldInfo_set_m_dispatcher_1:DR,_emscripten_bind_btSoftBodyWorldInfo_set_m_gravity_1:Qb,_emscripten_bind_btSoftBodyWorldInfo_set_m_maxDisplacement_1:mP,_emscripten_bind_btSoftBodyWorldInfo_set_water_density_1:VP,_emscripten_bind_btSoftBodyWorldInfo_set_water_normal_1:Ib,_emscripten_bind_btSoftBodyWorldInfo_set_water_offset_1:jP,_emscripten_bind_btSoftBody___destroy___0:Mv,_emscripten_bind_btSoftBody_activate_0:MA,_emscripten_bind_btSoftBody_activate_1:pm,_emscripten_bind_btSoftBody_addAeroForceToNode_2:dv,_emscripten_bind_btSoftBody_addForce_1:q_,_emscripten_bind_btSoftBody_addForce_2:df,_emscripten_bind_btSoftBody_appendAnchor_4:it,_emscripten_bind_btSoftBody_appendFace_4:Tg,_emscripten_bind_btSoftBody_appendLink_4:Sg,_emscripten_bind_btSoftBody_appendMaterial_0:NO,_emscripten_bind_btSoftBody_appendNode_2:ms,_emscripten_bind_btSoftBody_appendTetra_5:We,_emscripten_bind_btSoftBody_btSoftBody_4:Yb,_emscripten_bind_btSoftBody_checkFace_3:el,_emscripten_bind_btSoftBody_checkLink_2:r_,_emscripten_bind_btSoftBody_forceActivationState_1:KR,_emscripten_bind_btSoftBody_generateBendingConstraints_2:hs,_emscripten_bind_btSoftBody_generateClusters_1:AS,_emscripten_bind_btSoftBody_generateClusters_2:PC,_emscripten_bind_btSoftBody_getBroadphaseHandle_0:KM,_emscripten_bind_btSoftBody_getCollisionFlags_0:yO,_emscripten_bind_btSoftBody_getCollisionShape_0:gO,_emscripten_bind_btSoftBody_getFriction_0:NT,_emscripten_bind_btSoftBody_getRestitution_0:dT,_emscripten_bind_btSoftBody_getRollingFriction_0:YS,_emscripten_bind_btSoftBody_getTotalMass_0:xd,_emscripten_bind_btSoftBody_getUserIndex_0:QM,_emscripten_bind_btSoftBody_getUserPointer_0:ZO,_emscripten_bind_btSoftBody_getWorldTransform_0:Lx,_emscripten_bind_btSoftBody_get_m_anchors_0:KD,_emscripten_bind_btSoftBody_get_m_cfg_0:hw,_emscripten_bind_btSoftBody_get_m_materials_0:BD,_emscripten_bind_btSoftBody_get_m_nodes_0:nw,_emscripten_bind_btSoftBody_isActive_0:cR,_emscripten_bind_btSoftBody_isKinematicObject_0:UE,_emscripten_bind_btSoftBody_isStaticObject_0:xS,_emscripten_bind_btSoftBody_isStaticOrKinematicObject_0:rC,_emscripten_bind_btSoftBody_rotate_1:mc,_emscripten_bind_btSoftBody_scale_1:go,_emscripten_bind_btSoftBody_setActivationState_1:Ky,_emscripten_bind_btSoftBody_setAnisotropicFriction_2:ry,_emscripten_bind_btSoftBody_setCcdMotionThreshold_1:FE,_emscripten_bind_btSoftBody_setCcdSweptSphereRadius_1:pE,_emscripten_bind_btSoftBody_setCollisionFlags_1:mS,_emscripten_bind_btSoftBody_setCollisionShape_1:Kv,_emscripten_bind_btSoftBody_setContactProcessingThreshold_1:VE,_emscripten_bind_btSoftBody_setFriction_1:aR,_emscripten_bind_btSoftBody_setMass_2:tg,_emscripten_bind_btSoftBody_setRestitution_1:fT,_emscripten_bind_btSoftBody_setRollingFriction_1:TS,_emscripten_bind_btSoftBody_setTotalMass_2:Ci,_emscripten_bind_btSoftBody_setUserIndex_1:ET,_emscripten_bind_btSoftBody_setUserPointer_1:zS,_emscripten_bind_btSoftBody_setWorldTransform_1:WC,_emscripten_bind_btSoftBody_set_m_anchors_1:uC,_emscripten_bind_btSoftBody_set_m_cfg_1:xT,_emscripten_bind_btSoftBody_set_m_materials_1:Lv,_emscripten_bind_btSoftBody_set_m_nodes_1:BC,_emscripten_bind_btSoftBody_transform_1:CT,_emscripten_bind_btSoftBody_translate_1:A_,_emscripten_bind_btSoftBody_upcast_1:zT,_emscripten_bind_btSoftRigidDynamicsWorld___destroy___0:Iv,_emscripten_bind_btSoftRigidDynamicsWorld_addAction_1:EC,_emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_1:oy,_emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_2:pg,_emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_3:VA,_emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_1:qy,_emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_2:jg,_emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_1:pv,_emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_3:kA,_emscripten_bind_btSoftRigidDynamicsWorld_addSoftBody_3:Ia,_emscripten_bind_btSoftRigidDynamicsWorld_btSoftRigidDynamicsWorld_5:xe,_emscripten_bind_btSoftRigidDynamicsWorld_contactPairTest_3:rc,_emscripten_bind_btSoftRigidDynamicsWorld_contactTest_2:Mu,_emscripten_bind_btSoftRigidDynamicsWorld_convexSweepTest_5:pb,_emscripten_bind_btSoftRigidDynamicsWorld_debugDrawObject_3:KA,_emscripten_bind_btSoftRigidDynamicsWorld_debugDrawWorld_0:yS,_emscripten_bind_btSoftRigidDynamicsWorld_getBroadphase_0:CO,_emscripten_bind_btSoftRigidDynamicsWorld_getDebugDrawer_0:oS,_emscripten_bind_btSoftRigidDynamicsWorld_getDispatchInfo_0:kM,_emscripten_bind_btSoftRigidDynamicsWorld_getDispatcher_0:vO,_emscripten_bind_btSoftRigidDynamicsWorld_getGravity_0:Uf,_emscripten_bind_btSoftRigidDynamicsWorld_getPairCache_0:jS,_emscripten_bind_btSoftRigidDynamicsWorld_getSoftBodyArray_0:SS,_emscripten_bind_btSoftRigidDynamicsWorld_getSolverInfo_0:pM,_emscripten_bind_btSoftRigidDynamicsWorld_getWorldInfo_0:uT,_emscripten_bind_btSoftRigidDynamicsWorld_rayTest_3:yg,_emscripten_bind_btSoftRigidDynamicsWorld_removeAction_1:$v,_emscripten_bind_btSoftRigidDynamicsWorld_removeCollisionObject_1:uv,_emscripten_bind_btSoftRigidDynamicsWorld_removeConstraint_1:iv,_emscripten_bind_btSoftRigidDynamicsWorld_removeRigidBody_1:rv,_emscripten_bind_btSoftRigidDynamicsWorld_removeSoftBody_1:qs,_emscripten_bind_btSoftRigidDynamicsWorld_setContactAddedCallback_1:Ev,_emscripten_bind_btSoftRigidDynamicsWorld_setContactDestroyedCallback_1:Yy,_emscripten_bind_btSoftRigidDynamicsWorld_setContactProcessedCallback_1:zy,_emscripten_bind_btSoftRigidDynamicsWorld_setDebugDrawer_1:jv,_emscripten_bind_btSoftRigidDynamicsWorld_setGravity_1:Cv,_emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_1:Ug,_emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_2:GA,_emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_3:zA,_emscripten_bind_btSoftRigidDynamicsWorld_updateSingleAabb_1:qv,_emscripten_bind_btSphereShape___destroy___0:Iv,_emscripten_bind_btSphereShape_btSphereShape_1:GC,_emscripten_bind_btSphereShape_calculateLocalInertia_2:ay,_emscripten_bind_btSphereShape_getLocalScaling_0:FS,_emscripten_bind_btSphereShape_getMargin_0:bT,_emscripten_bind_btSphereShape_setLocalScaling_1:pC,_emscripten_bind_btSphereShape_setMargin_1:AE,_emscripten_bind_btStaticPlaneShape___destroy___0:Iv,_emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2:h_,_emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2:ay,_emscripten_bind_btStaticPlaneShape_getLocalScaling_0:FS,_emscripten_bind_btStaticPlaneShape_setLocalScaling_1:pC,_emscripten_bind_btStridingMeshInterface___destroy___0:Iv,_emscripten_bind_btStridingMeshInterface_setScaling_1:vT,_emscripten_bind_btTransform___destroy___0:pI,_emscripten_bind_btTransform_btTransform_0:Yw,_emscripten_bind_btTransform_btTransform_2:ty,_emscripten_bind_btTransform_getBasis_0:ND,_emscripten_bind_btTransform_getOrigin_0:ix,_emscripten_bind_btTransform_getRotation_0:_d,_emscripten_bind_btTransform_inverse_0:pp,_emscripten_bind_btTransform_op_mul_1:VM,_emscripten_bind_btTransform_setFromOpenGLMatrix_1:lS,_emscripten_bind_btTransform_setIdentity_0:LI,_emscripten_bind_btTransform_setOrigin_1:IT,_emscripten_bind_btTransform_setRotation_1:XT,_emscripten_bind_btTriangleMeshShape___destroy___0:Iv,_emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2:ay,_emscripten_bind_btTriangleMeshShape_getLocalScaling_0:FS,_emscripten_bind_btTriangleMeshShape_setLocalScaling_1:pC,_emscripten_bind_btTriangleMesh___destroy___0:Iv,_emscripten_bind_btTriangleMesh_addIndex_1:RR,_emscripten_bind_btTriangleMesh_addTriangle_3:of,_emscripten_bind_btTriangleMesh_addTriangle_4:Bu,_emscripten_bind_btTriangleMesh_btTriangleMesh_0:nC,_emscripten_bind_btTriangleMesh_btTriangleMesh_1:Ly,_emscripten_bind_btTriangleMesh_btTriangleMesh_2:Lg,_emscripten_bind_btTriangleMesh_findOrAddVertex_2:ev,_emscripten_bind_btTriangleMesh_getIndexedMeshArray_0:NS,_emscripten_bind_btTriangleMesh_setScaling_1:vT,_emscripten_bind_btTypedConstraint___destroy___0:Iv,_emscripten_bind_btTypedConstraint_enableFeedback_1:cS,_emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0:_E,_emscripten_bind_btTypedConstraint_getParam_2:uy,_emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1:wv,_emscripten_bind_btTypedConstraint_setParam_3:Rg,_emscripten_bind_btVector3Array___destroy___0:lE,_emscripten_bind_btVector3Array_at_1:_T,_emscripten_bind_btVector3Array_size_0:Gx,_emscripten_bind_btVector3___destroy___0:PR,_emscripten_bind_btVector3_btVector3_0:Pw,_emscripten_bind_btVector3_btVector3_3:Fh,_emscripten_bind_btVector3_dot_1:tA,_emscripten_bind_btVector3_length_0:hE,_emscripten_bind_btVector3_normalize_0:tP,_emscripten_bind_btVector3_op_add_1:FO,_emscripten_bind_btVector3_op_mul_1:RA,_emscripten_bind_btVector3_op_sub_1:LO,_emscripten_bind_btVector3_rotate_2:Jf,_emscripten_bind_btVector3_setValue_3:vp,_emscripten_bind_btVector3_setX_1:HI,_emscripten_bind_btVector3_setY_1:UI,_emscripten_bind_btVector3_setZ_1:kI,_emscripten_bind_btVector3_x_0:aP,_emscripten_bind_btVector3_y_0:ex,_emscripten_bind_btVector3_z_0:$I,_emscripten_bind_btVector4___destroy___0:PR,_emscripten_bind_btVector4_btVector4_0:Pw,_emscripten_bind_btVector4_btVector4_4:Od,_emscripten_bind_btVector4_dot_1:tA,_emscripten_bind_btVector4_length_0:hE,_emscripten_bind_btVector4_normalize_0:tP,_emscripten_bind_btVector4_op_add_1:FO,_emscripten_bind_btVector4_op_mul_1:RA,_emscripten_bind_btVector4_op_sub_1:LO,_emscripten_bind_btVector4_rotate_2:Zf,_emscripten_bind_btVector4_setValue_4:ih,_emscripten_bind_btVector4_setX_1:HI,_emscripten_bind_btVector4_setY_1:UI,_emscripten_bind_btVector4_setZ_1:kI,_emscripten_bind_btVector4_w_0:tx,_emscripten_bind_btVector4_x_0:aP,_emscripten_bind_btVector4_y_0:ex,_emscripten_bind_btVector4_z_0:$I,_emscripten_bind_btVehicleRaycasterResult___destroy___0:pI,_emscripten_bind_btVehicleRaycasterResult_get_m_distFraction_0:MD,_emscripten_bind_btVehicleRaycasterResult_get_m_hitNormalInWorld_0:GP,_emscripten_bind_btVehicleRaycasterResult_get_m_hitPointInWorld_0:JL,_emscripten_bind_btVehicleRaycasterResult_set_m_distFraction_1:bx,_emscripten_bind_btVehicleRaycasterResult_set_m_hitNormalInWorld_1:Ib,_emscripten_bind_btVehicleRaycasterResult_set_m_hitPointInWorld_1:zb,_emscripten_bind_btVehicleRaycaster___destroy___0:Iv,_emscripten_bind_btVehicleRaycaster_castRay_3:og,_emscripten_bind_btVehicleTuning_btVehicleTuning_0:OE,_emscripten_bind_btVehicleTuning_get_m_frictionSlip_0:OD,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0:RD,_emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0:ID,_emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0:TD,_emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0:UD,_emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0:cP,_emscripten_bind_btVehicleTuning_set_m_frictionSlip_1:mx,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1:px,_emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1:mP,_emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1:VP,_emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1:jP,_emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1:gD,_emscripten_bind_btWheelInfoConstructionInfo___destroy___0:pI,_emscripten_bind_btWheelInfoConstructionInfo_get_m_bIsFrontWheel_0:xR,_emscripten_bind_btWheelInfoConstructionInfo_get_m_chassisConnectionCS_0:JL,_emscripten_bind_btWheelInfoConstructionInfo_get_m_frictionSlip_0:AD,_emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionForce_0:wP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionTravelCm_0:FP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionRestLength_0:rD,_emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionStiffness_0:LP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelAxleCS_0:zD,_emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelDirectionCS_0:GP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelRadius_0:NP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingCompression_0:dP,_emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingRelaxation_0:hP,_emscripten_bind_btWheelInfoConstructionInfo_set_m_bIsFrontWheel_1:XS,_emscripten_bind_btWheelInfoConstructionInfo_set_m_chassisConnectionCS_1:zb,_emscripten_bind_btWheelInfoConstructionInfo_set_m_frictionSlip_1:Sx,_emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionForce_1:CI,_emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionTravelCm_1:II,_emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionRestLength_1:cx,_emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionStiffness_1:OI,_emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelAxleCS_1:Ab,_emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelDirectionCS_1:Ib,_emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelRadius_1:xI,_emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingCompression_1:uI,_emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingRelaxation_1:fI,_emscripten_bind_btWheelInfo___destroy___0:pI,_emscripten_bind_btWheelInfo_btWheelInfo_1:Rv,_emscripten_bind_btWheelInfo_getSuspensionRestLength_0:wI,_emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0:KO,_emscripten_bind_btWheelInfo_get_m_brake_0:sP,_emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0:Wx,_emscripten_bind_btWheelInfo_get_m_clippedInvContactDotSuspension_0:SM,_emscripten_bind_btWheelInfo_get_m_deltaRotation_0:fx,_emscripten_bind_btWheelInfo_get_m_engineForce_0:wx,_emscripten_bind_btWheelInfo_get_m_frictionSlip_0:Rx,_emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0:RI,_emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0:aI,_emscripten_bind_btWheelInfo_get_m_raycastInfo_0:JL,_emscripten_bind_btWheelInfo_get_m_rollInfluence_0:ux,_emscripten_bind_btWheelInfo_get_m_rotation_0:Jx,_emscripten_bind_btWheelInfo_get_m_skidInfo_0:Zx,_emscripten_bind_btWheelInfo_get_m_steering_0:Kx,_emscripten_bind_btWheelInfo_get_m_suspensionRelativeVelocity_0:sO,_emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0:wI,_emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0:mI,_emscripten_bind_btWheelInfo_get_m_wheelAxleCS_0:QP,_emscripten_bind_btWheelInfo_get_m_wheelDirectionCS_0:AP,_emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0:OO,_emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0:wO,_emscripten_bind_btWheelInfo_get_m_wheelsRadius_0:Tx,_emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0:sI,_emscripten_bind_btWheelInfo_get_m_worldTransform_0:Rw,_emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1:FR,_emscripten_bind_btWheelInfo_set_m_brake_1:DO,_emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1:sb,_emscripten_bind_btWheelInfo_set_m_clippedInvContactDotSuspension_1:aT,_emscripten_bind_btWheelInfo_set_m_deltaRotation_1:fM,_emscripten_bind_btWheelInfo_set_m_engineForce_1:FM,_emscripten_bind_btWheelInfo_set_m_frictionSlip_1:EM,_emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1:vM,_emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1:gR,_emscripten_bind_btWheelInfo_set_m_raycastInfo_1:Zm,_emscripten_bind_btWheelInfo_set_m_rollInfluence_1:uM,_emscripten_bind_btWheelInfo_set_m_rotation_1:oO,_emscripten_bind_btWheelInfo_set_m_skidInfo_1:rO,_emscripten_bind_btWheelInfo_set_m_steering_1:nO,_emscripten_bind_btWheelInfo_set_m_suspensionRelativeVelocity_1:FT,_emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1:AR,_emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1:IR,_emscripten_bind_btWheelInfo_set_m_wheelAxleCS_1:Rb,_emscripten_bind_btWheelInfo_set_m_wheelDirectionCS_1:mb,_emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1:qT,_emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1:sR,_emscripten_bind_btWheelInfo_set_m_wheelsRadius_1:CM,_emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1:mR,_emscripten_bind_btWheelInfo_set_m_worldTransform_1:oT,_emscripten_bind_btWheelInfo_updateWheel_2:fa,_emscripten_bind_tAnchorArray___destroy___0:lE,_emscripten_bind_tAnchorArray_at_1:Up,_emscripten_bind_tAnchorArray_clear_0:Cx,_emscripten_bind_tAnchorArray_pop_back_0:WT,_emscripten_bind_tAnchorArray_push_back_1:NC,_emscripten_bind_tAnchorArray_size_0:Gx,_emscripten_bind_tMaterialArray___destroy___0:lE,_emscripten_bind_tMaterialArray_at_1:CC,_emscripten_bind_tMaterialArray_size_0:Gx,_emscripten_bind_tNodeArray___destroy___0:lE,_emscripten_bind_tNodeArray_at_1:TC,_emscripten_bind_tNodeArray_size_0:Gx,_emscripten_enum_PHY_ScalarType_PHY_DOUBLE:tF,_emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88:CL,_emscripten_enum_PHY_ScalarType_PHY_FLOAT:NL,_emscripten_enum_PHY_ScalarType_PHY_INTEGER:DL,_emscripten_enum_PHY_ScalarType_PHY_SHORT:FL,_emscripten_enum_PHY_ScalarType_PHY_UCHAR:LL,_emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM:FL,_emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP:tF,_emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM:CL,_emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP:DL,_free:Vs,_i64Add:Uy,_i64Subtract:vy,_llvm_bswap_i16:vw,_llvm_bswap_i32:tM,_malloc:Do,_memcpy:Tn,_memmove:hh,_memset:_l,_sbrk:rd,dynCall_di:PP,dynCall_did:rI,dynCall_diidii:Yg,dynCall_diii:bS,dynCall_diiidii:TA,dynCall_diiii:yv,dynCall_diiiii:wg,dynCall_diiiiiiii:Ob,dynCall_diiiiiiiii:Lp,dynCall_diiiiiiiiii:Hh,dynCall_ii:_P,dynCall_iidid:yC,dynCall_iii:_M,dynCall_iiid:US,dynCall_iiii:ZE,dynCall_iiiii:av,dynCall_iiiiiii:sA,dynCall_iiiiiiii:nm,dynCall_iiiiiiiiii:Op,dynCall_iiiiiiiiiii:Bh,dynCall_v:PL,dynCall_vi:VD,dynCall_vid:JI,dynCall_vidd:HR,dynCall_viddiii:hg,dynCall_vidi:ZT,dynCall_vidii:ZC,dynCall_vii:nI,dynCall_viid:oR,dynCall_viidi:KC,dynCall_viidii:hy,dynCall_viii:rT,dynCall_viiid:VC,dynCall_viiidii:$A,dynCall_viiii:Qv,dynCall_viiiid:dy,dynCall_viiiidddddidi:vh,dynCall_viiiiddddiid:Kh,dynCall_viiiii:Jg,dynCall_viiiiid:qA,dynCall_viiiiii:FA,dynCall_viiiiiii:vm,dynCall_viiiiiiiid:Zp,dynCall_viiiiiiiii:Vp,dynCall_viiiiiiiiii:qh,establishStackSpace:YP,stackAlloc:yT,stackRestore:QL,stackSave:$L}}({Math:Math,Int8Array:Int8Array,Int16Array:Int16Array,Int32Array:Int32Array,Uint8Array:Uint8Array,Uint16Array:Uint16Array,Float32Array:Float32Array,Float64Array:Float64Array},{a:VS,b:function(e){C=e},c:function(){return C},d:function(e){var t=K[e];return t&&!t.Ba&&(t.Ba=!0,ue.Xf--),t&&(t.$f=!1),Z.push(e),J(q(e)),e},e:function(){throw E=!0,"Pure virtual function called!"},f:function(){return ue.Xf},g:J,h:q,i:function(){},j:function(e){return a.___errno_location&&(x[a.___errno_location()>>2]=e),e},k:function(e,t){te=t;try{return ne.Da(),ie(),ie(),ie(),ie(),0}catch(i){return VS(i),-i.za}},l:function(e,t){te=t;try{var i=ie(),n=ie(),r=ie();for(t=e=0;t<r;t++){for(var o=x[n+8*t>>2],s=x[n+(8*t+4)>>2],a=0;a<s;a++)ee(i,I[o+a]);e+=s}return e}catch(c){return VS(c),-c.za}},m:function(e,t){te=t;try{return ne.Da(),0}catch(i){return VS(i),-i.za}},n:function(){a.abort()},o:function(e,t,i,n,r,o,s,a,c){return z[e](t,i,n,r,o,s,a,c)},p:function(e,t){return z[e](t)},q:function(e,t,i){return z[e](t,i)},r:function(e,t,i,n){return z[e](t,i,n)},s:function(e,t,i,n,r,o,s){return z[e](t,i,n,r,o,s)},t:function(e,t,i,n,r){return z[e](t,i,n,r)},u:function(){return O.length},v:function(e,t,i){I.set(I.subarray(t,t+i),e)},w:function(e){re()},x:function(e){var t=Date.now();return x[e>>2]=t/1e3|0,x[e+4>>2]=t%1e3*1e3|0,0},y:function(){VS("trap!")},z:re,A:function(e){return e},B:Y,C:function(){var e=a._fflush;e&&e(0),$[1].length&&ee(1,10),$[2].length&&ee(2,10)},D:Q,E:function(){var e=Q();return a.extraStackTrace&&(e+="\n"+a.extraStackTrace()),Y(e)},F:27776,G:27760},M),_e=a.__GLOBAL__sub_I_btQuickprof_cpp=le.__GLOBAL__sub_I_btQuickprof_cpp,ue=a.__ZSt18uncaught_exceptionv=le.__ZSt18uncaught_exceptionv;a.___cxa_can_catch=le.___cxa_can_catch,a.___cxa_is_pointer_type=le.___cxa_is_pointer_type,a.___muldi3=le.___muldi3,a.___udivdi3=le.___udivdi3,a._bitshift64Lshr=le._bitshift64Lshr,a._bitshift64Shl=le._bitshift64Shl;var fe,de=a._emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2=le._emscripten_bind_AllHitsRayResultCallback_AllHitsRayResultCallback_2,he=a._emscripten_bind_AllHitsRayResultCallback___destroy___0=le._emscripten_bind_AllHitsRayResultCallback___destroy___0,pe=a._emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_closestHitFraction_0,be=a._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterGroup_0,me=a._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_collisionFilterMask_0,Ae=a._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObject_0,ge=a._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_collisionObjects_0,ye=a._emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_hitFractions_0,ve=a._emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_hitNormalWorld_0,Ce=a._emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_hitPointWorld_0,Ee=a._emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_rayFromWorld_0,Se=a._emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0=le._emscripten_bind_AllHitsRayResultCallback_get_m_rayToWorld_0,Te=a._emscripten_bind_AllHitsRayResultCallback_hasHit_0=le._emscripten_bind_AllHitsRayResultCallback_hasHit_0,Re=a._emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_closestHitFraction_1,Me=a._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterGroup_1,Oe=a._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_collisionFilterMask_1,Ie=a._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObject_1,xe=a._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_collisionObjects_1,Pe=a._emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_hitFractions_1,De=a._emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_hitNormalWorld_1,we=a._emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_hitPointWorld_1,Le=a._emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_rayFromWorld_1,Fe=a._emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1=le._emscripten_bind_AllHitsRayResultCallback_set_m_rayToWorld_1,Ne=a._emscripten_bind_Anchor___destroy___0=le._emscripten_bind_Anchor___destroy___0,Be=a._emscripten_bind_Anchor_get_m_body_0=le._emscripten_bind_Anchor_get_m_body_0,ke=a._emscripten_bind_Anchor_get_m_c0_0=le._emscripten_bind_Anchor_get_m_c0_0,Ue=a._emscripten_bind_Anchor_get_m_c1_0=le._emscripten_bind_Anchor_get_m_c1_0,He=a._emscripten_bind_Anchor_get_m_c2_0=le._emscripten_bind_Anchor_get_m_c2_0,je=a._emscripten_bind_Anchor_get_m_influence_0=le._emscripten_bind_Anchor_get_m_influence_0,Ve=a._emscripten_bind_Anchor_get_m_local_0=le._emscripten_bind_Anchor_get_m_local_0,Ge=a._emscripten_bind_Anchor_get_m_node_0=le._emscripten_bind_Anchor_get_m_node_0,We=a._emscripten_bind_Anchor_set_m_body_1=le._emscripten_bind_Anchor_set_m_body_1,Xe=a._emscripten_bind_Anchor_set_m_c0_1=le._emscripten_bind_Anchor_set_m_c0_1,ze=a._emscripten_bind_Anchor_set_m_c1_1=le._emscripten_bind_Anchor_set_m_c1_1,Ye=a._emscripten_bind_Anchor_set_m_c2_1=le._emscripten_bind_Anchor_set_m_c2_1,Qe=a._emscripten_bind_Anchor_set_m_influence_1=le._emscripten_bind_Anchor_set_m_influence_1,Ke=a._emscripten_bind_Anchor_set_m_local_1=le._emscripten_bind_Anchor_set_m_local_1,Ze=a._emscripten_bind_Anchor_set_m_node_1=le._emscripten_bind_Anchor_set_m_node_1,Je=a._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2=le._emscripten_bind_ClosestConvexResultCallback_ClosestConvexResultCallback_2,qe=a._emscripten_bind_ClosestConvexResultCallback___destroy___0=le._emscripten_bind_ClosestConvexResultCallback___destroy___0,$e=a._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_closestHitFraction_0,et=a._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterGroup_0,tt=a._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_collisionFilterMask_0,it=a._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_convexFromWorld_0,nt=a._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_convexToWorld_0,rt=a._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_hitNormalWorld_0,ot=a._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0=le._emscripten_bind_ClosestConvexResultCallback_get_m_hitPointWorld_0,st=a._emscripten_bind_ClosestConvexResultCallback_hasHit_0=le._emscripten_bind_ClosestConvexResultCallback_hasHit_0,at=a._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_closestHitFraction_1,ct=a._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterGroup_1,lt=a._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_collisionFilterMask_1,_t=a._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_convexFromWorld_1,ut=a._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_convexToWorld_1,ft=a._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_hitNormalWorld_1,dt=a._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1=le._emscripten_bind_ClosestConvexResultCallback_set_m_hitPointWorld_1,ht=a._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2=le._emscripten_bind_ClosestRayResultCallback_ClosestRayResultCallback_2,pt=a._emscripten_bind_ClosestRayResultCallback___destroy___0=le._emscripten_bind_ClosestRayResultCallback___destroy___0,bt=a._emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0=le._emscripten_bind_ClosestRayResultCallback_get_m_closestHitFraction_0,mt=a._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0=le._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterGroup_0,At=a._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0=le._emscripten_bind_ClosestRayResultCallback_get_m_collisionFilterMask_0,gt=a._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0=le._emscripten_bind_ClosestRayResultCallback_get_m_collisionObject_0,yt=a._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0=le._emscripten_bind_ClosestRayResultCallback_get_m_hitNormalWorld_0,vt=a._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0=le._emscripten_bind_ClosestRayResultCallback_get_m_hitPointWorld_0,Ct=a._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0=le._emscripten_bind_ClosestRayResultCallback_get_m_rayFromWorld_0,Et=a._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0=le._emscripten_bind_ClosestRayResultCallback_get_m_rayToWorld_0,St=a._emscripten_bind_ClosestRayResultCallback_hasHit_0=le._emscripten_bind_ClosestRayResultCallback_hasHit_0,Tt=a._emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1=le._emscripten_bind_ClosestRayResultCallback_set_m_closestHitFraction_1,Rt=a._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1=le._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterGroup_1,Mt=a._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1=le._emscripten_bind_ClosestRayResultCallback_set_m_collisionFilterMask_1,Ot=a._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1=le._emscripten_bind_ClosestRayResultCallback_set_m_collisionObject_1,It=a._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1=le._emscripten_bind_ClosestRayResultCallback_set_m_hitNormalWorld_1,xt=a._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1=le._emscripten_bind_ClosestRayResultCallback_set_m_hitPointWorld_1,Pt=a._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1=le._emscripten_bind_ClosestRayResultCallback_set_m_rayFromWorld_1,Dt=a._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1=le._emscripten_bind_ClosestRayResultCallback_set_m_rayToWorld_1,wt=a._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0=le._emscripten_bind_ConcreteContactResultCallback_ConcreteContactResultCallback_0,Lt=a._emscripten_bind_ConcreteContactResultCallback___destroy___0=le._emscripten_bind_ConcreteContactResultCallback___destroy___0,Ft=a._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7=le._emscripten_bind_ConcreteContactResultCallback_addSingleResult_7,Nt=a._emscripten_bind_Config___destroy___0=le._emscripten_bind_Config___destroy___0,Bt=a._emscripten_bind_Config_get_citerations_0=le._emscripten_bind_Config_get_citerations_0,kt=a._emscripten_bind_Config_get_collisions_0=le._emscripten_bind_Config_get_collisions_0,Ut=a._emscripten_bind_Config_get_diterations_0=le._emscripten_bind_Config_get_diterations_0,Ht=a._emscripten_bind_Config_get_kAHR_0=le._emscripten_bind_Config_get_kAHR_0,jt=a._emscripten_bind_Config_get_kCHR_0=le._emscripten_bind_Config_get_kCHR_0,Vt=a._emscripten_bind_Config_get_kDF_0=le._emscripten_bind_Config_get_kDF_0,Gt=a._emscripten_bind_Config_get_kDG_0=le._emscripten_bind_Config_get_kDG_0,Wt=a._emscripten_bind_Config_get_kDP_0=le._emscripten_bind_Config_get_kDP_0,Xt=a._emscripten_bind_Config_get_kKHR_0=le._emscripten_bind_Config_get_kKHR_0,zt=a._emscripten_bind_Config_get_kLF_0=le._emscripten_bind_Config_get_kLF_0,Yt=a._emscripten_bind_Config_get_kMT_0=le._emscripten_bind_Config_get_kMT_0,Qt=a._emscripten_bind_Config_get_kPR_0=le._emscripten_bind_Config_get_kPR_0,Kt=a._emscripten_bind_Config_get_kSHR_0=le._emscripten_bind_Config_get_kSHR_0,Zt=a._emscripten_bind_Config_get_kSKHR_CL_0=le._emscripten_bind_Config_get_kSKHR_CL_0,Jt=a._emscripten_bind_Config_get_kSK_SPLT_CL_0=le._emscripten_bind_Config_get_kSK_SPLT_CL_0,qt=a._emscripten_bind_Config_get_kSRHR_CL_0=le._emscripten_bind_Config_get_kSRHR_CL_0,$t=a._emscripten_bind_Config_get_kSR_SPLT_CL_0=le._emscripten_bind_Config_get_kSR_SPLT_CL_0,ei=a._emscripten_bind_Config_get_kSSHR_CL_0=le._emscripten_bind_Config_get_kSSHR_CL_0,ti=a._emscripten_bind_Config_get_kSS_SPLT_CL_0=le._emscripten_bind_Config_get_kSS_SPLT_CL_0,ii=a._emscripten_bind_Config_get_kVCF_0=le._emscripten_bind_Config_get_kVCF_0,ni=a._emscripten_bind_Config_get_kVC_0=le._emscripten_bind_Config_get_kVC_0,ri=a._emscripten_bind_Config_get_maxvolume_0=le._emscripten_bind_Config_get_maxvolume_0,oi=a._emscripten_bind_Config_get_piterations_0=le._emscripten_bind_Config_get_piterations_0,si=a._emscripten_bind_Config_get_timescale_0=le._emscripten_bind_Config_get_timescale_0,ai=a._emscripten_bind_Config_get_viterations_0=le._emscripten_bind_Config_get_viterations_0,ci=a._emscripten_bind_Config_set_citerations_1=le._emscripten_bind_Config_set_citerations_1,li=a._emscripten_bind_Config_set_collisions_1=le._emscripten_bind_Config_set_collisions_1,_i=a._emscripten_bind_Config_set_diterations_1=le._emscripten_bind_Config_set_diterations_1,ui=a._emscripten_bind_Config_set_kAHR_1=le._emscripten_bind_Config_set_kAHR_1,fi=a._emscripten_bind_Config_set_kCHR_1=le._emscripten_bind_Config_set_kCHR_1,di=a._emscripten_bind_Config_set_kDF_1=le._emscripten_bind_Config_set_kDF_1,hi=a._emscripten_bind_Config_set_kDG_1=le._emscripten_bind_Config_set_kDG_1,pi=a._emscripten_bind_Config_set_kDP_1=le._emscripten_bind_Config_set_kDP_1,bi=a._emscripten_bind_Config_set_kKHR_1=le._emscripten_bind_Config_set_kKHR_1,mi=a._emscripten_bind_Config_set_kLF_1=le._emscripten_bind_Config_set_kLF_1,Ai=a._emscripten_bind_Config_set_kMT_1=le._emscripten_bind_Config_set_kMT_1,gi=a._emscripten_bind_Config_set_kPR_1=le._emscripten_bind_Config_set_kPR_1,yi=a._emscripten_bind_Config_set_kSHR_1=le._emscripten_bind_Config_set_kSHR_1,vi=a._emscripten_bind_Config_set_kSKHR_CL_1=le._emscripten_bind_Config_set_kSKHR_CL_1,Ci=a._emscripten_bind_Config_set_kSK_SPLT_CL_1=le._emscripten_bind_Config_set_kSK_SPLT_CL_1,Ei=a._emscripten_bind_Config_set_kSRHR_CL_1=le._emscripten_bind_Config_set_kSRHR_CL_1,Si=a._emscripten_bind_Config_set_kSR_SPLT_CL_1=le._emscripten_bind_Config_set_kSR_SPLT_CL_1,Ti=a._emscripten_bind_Config_set_kSSHR_CL_1=le._emscripten_bind_Config_set_kSSHR_CL_1,Ri=a._emscripten_bind_Config_set_kSS_SPLT_CL_1=le._emscripten_bind_Config_set_kSS_SPLT_CL_1,Mi=a._emscripten_bind_Config_set_kVCF_1=le._emscripten_bind_Config_set_kVCF_1,Oi=a._emscripten_bind_Config_set_kVC_1=le._emscripten_bind_Config_set_kVC_1,Ii=a._emscripten_bind_Config_set_maxvolume_1=le._emscripten_bind_Config_set_maxvolume_1,xi=a._emscripten_bind_Config_set_piterations_1=le._emscripten_bind_Config_set_piterations_1,Pi=a._emscripten_bind_Config_set_timescale_1=le._emscripten_bind_Config_set_timescale_1,Di=a._emscripten_bind_Config_set_viterations_1=le._emscripten_bind_Config_set_viterations_1,wi=a._emscripten_bind_ContactResultCallback___destroy___0=le._emscripten_bind_ContactResultCallback___destroy___0,Li=a._emscripten_bind_ContactResultCallback_addSingleResult_7=le._emscripten_bind_ContactResultCallback_addSingleResult_7,Fi=a._emscripten_bind_ConvexResultCallback___destroy___0=le._emscripten_bind_ConvexResultCallback___destroy___0,Ni=a._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0=le._emscripten_bind_ConvexResultCallback_get_m_closestHitFraction_0,Bi=a._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0=le._emscripten_bind_ConvexResultCallback_get_m_collisionFilterGroup_0,ki=a._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0=le._emscripten_bind_ConvexResultCallback_get_m_collisionFilterMask_0,Ui=a._emscripten_bind_ConvexResultCallback_hasHit_0=le._emscripten_bind_ConvexResultCallback_hasHit_0,Hi=a._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1=le._emscripten_bind_ConvexResultCallback_set_m_closestHitFraction_1,ji=a._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1=le._emscripten_bind_ConvexResultCallback_set_m_collisionFilterGroup_1,Vi=a._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1=le._emscripten_bind_ConvexResultCallback_set_m_collisionFilterMask_1,Gi=a._emscripten_bind_DebugDrawer_DebugDrawer_0=le._emscripten_bind_DebugDrawer_DebugDrawer_0,Wi=a._emscripten_bind_DebugDrawer___destroy___0=le._emscripten_bind_DebugDrawer___destroy___0,Xi=a._emscripten_bind_DebugDrawer_draw3dText_2=le._emscripten_bind_DebugDrawer_draw3dText_2,zi=a._emscripten_bind_DebugDrawer_drawContactPoint_5=le._emscripten_bind_DebugDrawer_drawContactPoint_5,Yi=a._emscripten_bind_DebugDrawer_drawLine_3=le._emscripten_bind_DebugDrawer_drawLine_3,Qi=a._emscripten_bind_DebugDrawer_getDebugMode_0=le._emscripten_bind_DebugDrawer_getDebugMode_0,Ki=a._emscripten_bind_DebugDrawer_reportErrorWarning_1=le._emscripten_bind_DebugDrawer_reportErrorWarning_1,Zi=a._emscripten_bind_DebugDrawer_setDebugMode_1=le._emscripten_bind_DebugDrawer_setDebugMode_1,Ji=a._emscripten_bind_LocalConvexResult_LocalConvexResult_5=le._emscripten_bind_LocalConvexResult_LocalConvexResult_5,qi=a._emscripten_bind_LocalConvexResult___destroy___0=le._emscripten_bind_LocalConvexResult___destroy___0,$i=a._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0=le._emscripten_bind_LocalConvexResult_get_m_hitCollisionObject_0,en=a._emscripten_bind_LocalConvexResult_get_m_hitFraction_0=le._emscripten_bind_LocalConvexResult_get_m_hitFraction_0,tn=a._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0=le._emscripten_bind_LocalConvexResult_get_m_hitNormalLocal_0,nn=a._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0=le._emscripten_bind_LocalConvexResult_get_m_hitPointLocal_0,rn=a._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0=le._emscripten_bind_LocalConvexResult_get_m_localShapeInfo_0,on=a._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1=le._emscripten_bind_LocalConvexResult_set_m_hitCollisionObject_1,sn=a._emscripten_bind_LocalConvexResult_set_m_hitFraction_1=le._emscripten_bind_LocalConvexResult_set_m_hitFraction_1,an=a._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1=le._emscripten_bind_LocalConvexResult_set_m_hitNormalLocal_1,cn=a._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1=le._emscripten_bind_LocalConvexResult_set_m_hitPointLocal_1,ln=a._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1=le._emscripten_bind_LocalConvexResult_set_m_localShapeInfo_1,_n=a._emscripten_bind_LocalShapeInfo___destroy___0=le._emscripten_bind_LocalShapeInfo___destroy___0,un=a._emscripten_bind_LocalShapeInfo_get_m_shapePart_0=le._emscripten_bind_LocalShapeInfo_get_m_shapePart_0,fn=a._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0=le._emscripten_bind_LocalShapeInfo_get_m_triangleIndex_0,dn=a._emscripten_bind_LocalShapeInfo_set_m_shapePart_1=le._emscripten_bind_LocalShapeInfo_set_m_shapePart_1,hn=a._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1=le._emscripten_bind_LocalShapeInfo_set_m_triangleIndex_1,pn=a._emscripten_bind_Material___destroy___0=le._emscripten_bind_Material___destroy___0,bn=a._emscripten_bind_Material_get_m_flags_0=le._emscripten_bind_Material_get_m_flags_0,mn=a._emscripten_bind_Material_get_m_kAST_0=le._emscripten_bind_Material_get_m_kAST_0,An=a._emscripten_bind_Material_get_m_kLST_0=le._emscripten_bind_Material_get_m_kLST_0,gn=a._emscripten_bind_Material_get_m_kVST_0=le._emscripten_bind_Material_get_m_kVST_0,yn=a._emscripten_bind_Material_set_m_flags_1=le._emscripten_bind_Material_set_m_flags_1,vn=a._emscripten_bind_Material_set_m_kAST_1=le._emscripten_bind_Material_set_m_kAST_1,Cn=a._emscripten_bind_Material_set_m_kLST_1=le._emscripten_bind_Material_set_m_kLST_1,En=a._emscripten_bind_Material_set_m_kVST_1=le._emscripten_bind_Material_set_m_kVST_1,Sn=a._emscripten_bind_Node___destroy___0=le._emscripten_bind_Node___destroy___0,Tn=a._emscripten_bind_Node_get_m_area_0=le._emscripten_bind_Node_get_m_area_0,Rn=a._emscripten_bind_Node_get_m_f_0=le._emscripten_bind_Node_get_m_f_0,Mn=a._emscripten_bind_Node_get_m_im_0=le._emscripten_bind_Node_get_m_im_0,On=a._emscripten_bind_Node_get_m_n_0=le._emscripten_bind_Node_get_m_n_0,In=a._emscripten_bind_Node_get_m_q_0=le._emscripten_bind_Node_get_m_q_0,xn=a._emscripten_bind_Node_get_m_v_0=le._emscripten_bind_Node_get_m_v_0,Pn=a._emscripten_bind_Node_get_m_x_0=le._emscripten_bind_Node_get_m_x_0,Dn=a._emscripten_bind_Node_set_m_area_1=le._emscripten_bind_Node_set_m_area_1,wn=a._emscripten_bind_Node_set_m_f_1=le._emscripten_bind_Node_set_m_f_1,Ln=a._emscripten_bind_Node_set_m_im_1=le._emscripten_bind_Node_set_m_im_1,Fn=a._emscripten_bind_Node_set_m_n_1=le._emscripten_bind_Node_set_m_n_1,Nn=a._emscripten_bind_Node_set_m_q_1=le._emscripten_bind_Node_set_m_q_1,Bn=a._emscripten_bind_Node_set_m_v_1=le._emscripten_bind_Node_set_m_v_1,kn=a._emscripten_bind_Node_set_m_x_1=le._emscripten_bind_Node_set_m_x_1,Un=a._emscripten_bind_RayResultCallback___destroy___0=le._emscripten_bind_RayResultCallback___destroy___0,Hn=a._emscripten_bind_RayResultCallback_get_m_closestHitFraction_0=le._emscripten_bind_RayResultCallback_get_m_closestHitFraction_0,jn=a._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0=le._emscripten_bind_RayResultCallback_get_m_collisionFilterGroup_0,Vn=a._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0=le._emscripten_bind_RayResultCallback_get_m_collisionFilterMask_0,Gn=a._emscripten_bind_RayResultCallback_get_m_collisionObject_0=le._emscripten_bind_RayResultCallback_get_m_collisionObject_0,Wn=a._emscripten_bind_RayResultCallback_hasHit_0=le._emscripten_bind_RayResultCallback_hasHit_0,Xn=a._emscripten_bind_RayResultCallback_set_m_closestHitFraction_1=le._emscripten_bind_RayResultCallback_set_m_closestHitFraction_1,zn=a._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1=le._emscripten_bind_RayResultCallback_set_m_collisionFilterGroup_1,Yn=a._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1=le._emscripten_bind_RayResultCallback_set_m_collisionFilterMask_1,Qn=a._emscripten_bind_RayResultCallback_set_m_collisionObject_1=le._emscripten_bind_RayResultCallback_set_m_collisionObject_1,Kn=a._emscripten_bind_RaycastInfo___destroy___0=le._emscripten_bind_RaycastInfo___destroy___0,Zn=a._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0=le._emscripten_bind_RaycastInfo_get_m_contactNormalWS_0,Jn=a._emscripten_bind_RaycastInfo_get_m_contactPointWS_0=le._emscripten_bind_RaycastInfo_get_m_contactPointWS_0,qn=a._emscripten_bind_RaycastInfo_get_m_groundObject_0=le._emscripten_bind_RaycastInfo_get_m_groundObject_0,$n=a._emscripten_bind_RaycastInfo_get_m_hardPointWS_0=le._emscripten_bind_RaycastInfo_get_m_hardPointWS_0,er=a._emscripten_bind_RaycastInfo_get_m_isInContact_0=le._emscripten_bind_RaycastInfo_get_m_isInContact_0,tr=a._emscripten_bind_RaycastInfo_get_m_suspensionLength_0=le._emscripten_bind_RaycastInfo_get_m_suspensionLength_0,ir=a._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0=le._emscripten_bind_RaycastInfo_get_m_wheelAxleWS_0,nr=a._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0=le._emscripten_bind_RaycastInfo_get_m_wheelDirectionWS_0,rr=a._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1=le._emscripten_bind_RaycastInfo_set_m_contactNormalWS_1,or=a._emscripten_bind_RaycastInfo_set_m_contactPointWS_1=le._emscripten_bind_RaycastInfo_set_m_contactPointWS_1,sr=a._emscripten_bind_RaycastInfo_set_m_groundObject_1=le._emscripten_bind_RaycastInfo_set_m_groundObject_1,ar=a._emscripten_bind_RaycastInfo_set_m_hardPointWS_1=le._emscripten_bind_RaycastInfo_set_m_hardPointWS_1,cr=a._emscripten_bind_RaycastInfo_set_m_isInContact_1=le._emscripten_bind_RaycastInfo_set_m_isInContact_1,lr=a._emscripten_bind_RaycastInfo_set_m_suspensionLength_1=le._emscripten_bind_RaycastInfo_set_m_suspensionLength_1,_r=a._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1=le._emscripten_bind_RaycastInfo_set_m_wheelAxleWS_1,ur=a._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1=le._emscripten_bind_RaycastInfo_set_m_wheelDirectionWS_1,fr=a._emscripten_bind_VoidPtr___destroy___0=le._emscripten_bind_VoidPtr___destroy___0,dr=a._emscripten_bind_btActionInterface___destroy___0=le._emscripten_bind_btActionInterface___destroy___0,hr=a._emscripten_bind_btActionInterface_updateAction_2=le._emscripten_bind_btActionInterface_updateAction_2,pr=a._emscripten_bind_btAxisSweep3___destroy___0=le._emscripten_bind_btAxisSweep3___destroy___0,br=a._emscripten_bind_btAxisSweep3_btAxisSweep3_2=le._emscripten_bind_btAxisSweep3_btAxisSweep3_2,mr=a._emscripten_bind_btAxisSweep3_btAxisSweep3_3=le._emscripten_bind_btAxisSweep3_btAxisSweep3_3,Ar=a._emscripten_bind_btAxisSweep3_btAxisSweep3_4=le._emscripten_bind_btAxisSweep3_btAxisSweep3_4,gr=a._emscripten_bind_btAxisSweep3_btAxisSweep3_5=le._emscripten_bind_btAxisSweep3_btAxisSweep3_5,yr=a._emscripten_bind_btBoxShape___destroy___0=le._emscripten_bind_btBoxShape___destroy___0,vr=a._emscripten_bind_btBoxShape_btBoxShape_1=le._emscripten_bind_btBoxShape_btBoxShape_1,Cr=a._emscripten_bind_btBoxShape_calculateLocalInertia_2=le._emscripten_bind_btBoxShape_calculateLocalInertia_2,Er=a._emscripten_bind_btBoxShape_getLocalScaling_0=le._emscripten_bind_btBoxShape_getLocalScaling_0,Sr=a._emscripten_bind_btBoxShape_getMargin_0=le._emscripten_bind_btBoxShape_getMargin_0,Tr=a._emscripten_bind_btBoxShape_setLocalScaling_1=le._emscripten_bind_btBoxShape_setLocalScaling_1,Rr=a._emscripten_bind_btBoxShape_setMargin_1=le._emscripten_bind_btBoxShape_setMargin_1,Mr=a._emscripten_bind_btBroadphaseInterface___destroy___0=le._emscripten_bind_btBroadphaseInterface___destroy___0,Or=a._emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0=le._emscripten_bind_btBroadphaseInterface_getOverlappingPairCache_0,Ir=a._emscripten_bind_btBroadphaseProxy___destroy___0=le._emscripten_bind_btBroadphaseProxy___destroy___0,xr=a._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0=le._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterGroup_0,Pr=a._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0=le._emscripten_bind_btBroadphaseProxy_get_m_collisionFilterMask_0,Dr=a._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1=le._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterGroup_1,wr=a._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1=le._emscripten_bind_btBroadphaseProxy_set_m_collisionFilterMask_1,Lr=a._emscripten_bind_btBvhTriangleMeshShape___destroy___0=le._emscripten_bind_btBvhTriangleMeshShape___destroy___0,Fr=a._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2=le._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_2,Nr=a._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3=le._emscripten_bind_btBvhTriangleMeshShape_btBvhTriangleMeshShape_3,Br=a._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2=le._emscripten_bind_btBvhTriangleMeshShape_calculateLocalInertia_2,kr=a._emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0=le._emscripten_bind_btBvhTriangleMeshShape_getLocalScaling_0,Ur=a._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1=le._emscripten_bind_btBvhTriangleMeshShape_setLocalScaling_1,Hr=a._emscripten_bind_btCapsuleShapeX___destroy___0=le._emscripten_bind_btCapsuleShapeX___destroy___0,jr=a._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2=le._emscripten_bind_btCapsuleShapeX_btCapsuleShapeX_2,Vr=a._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2=le._emscripten_bind_btCapsuleShapeX_calculateLocalInertia_2,Gr=a._emscripten_bind_btCapsuleShapeX_getHalfHeight_0=le._emscripten_bind_btCapsuleShapeX_getHalfHeight_0,Wr=a._emscripten_bind_btCapsuleShapeX_getLocalScaling_0=le._emscripten_bind_btCapsuleShapeX_getLocalScaling_0,Xr=a._emscripten_bind_btCapsuleShapeX_getMargin_0=le._emscripten_bind_btCapsuleShapeX_getMargin_0,zr=a._emscripten_bind_btCapsuleShapeX_getRadius_0=le._emscripten_bind_btCapsuleShapeX_getRadius_0,Yr=a._emscripten_bind_btCapsuleShapeX_getUpAxis_0=le._emscripten_bind_btCapsuleShapeX_getUpAxis_0,Qr=a._emscripten_bind_btCapsuleShapeX_setLocalScaling_1=le._emscripten_bind_btCapsuleShapeX_setLocalScaling_1,Kr=a._emscripten_bind_btCapsuleShapeX_setMargin_1=le._emscripten_bind_btCapsuleShapeX_setMargin_1,Zr=a._emscripten_bind_btCapsuleShapeZ___destroy___0=le._emscripten_bind_btCapsuleShapeZ___destroy___0,Jr=a._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2=le._emscripten_bind_btCapsuleShapeZ_btCapsuleShapeZ_2,qr=a._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2=le._emscripten_bind_btCapsuleShapeZ_calculateLocalInertia_2,$r=a._emscripten_bind_btCapsuleShapeZ_getHalfHeight_0=le._emscripten_bind_btCapsuleShapeZ_getHalfHeight_0,eo=a._emscripten_bind_btCapsuleShapeZ_getLocalScaling_0=le._emscripten_bind_btCapsuleShapeZ_getLocalScaling_0,to=a._emscripten_bind_btCapsuleShapeZ_getMargin_0=le._emscripten_bind_btCapsuleShapeZ_getMargin_0,io=a._emscripten_bind_btCapsuleShapeZ_getRadius_0=le._emscripten_bind_btCapsuleShapeZ_getRadius_0,no=a._emscripten_bind_btCapsuleShapeZ_getUpAxis_0=le._emscripten_bind_btCapsuleShapeZ_getUpAxis_0,ro=a._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1=le._emscripten_bind_btCapsuleShapeZ_setLocalScaling_1,oo=a._emscripten_bind_btCapsuleShapeZ_setMargin_1=le._emscripten_bind_btCapsuleShapeZ_setMargin_1,so=a._emscripten_bind_btCapsuleShape___destroy___0=le._emscripten_bind_btCapsuleShape___destroy___0,ao=a._emscripten_bind_btCapsuleShape_btCapsuleShape_2=le._emscripten_bind_btCapsuleShape_btCapsuleShape_2,co=a._emscripten_bind_btCapsuleShape_calculateLocalInertia_2=le._emscripten_bind_btCapsuleShape_calculateLocalInertia_2,lo=a._emscripten_bind_btCapsuleShape_getHalfHeight_0=le._emscripten_bind_btCapsuleShape_getHalfHeight_0,_o=a._emscripten_bind_btCapsuleShape_getLocalScaling_0=le._emscripten_bind_btCapsuleShape_getLocalScaling_0,uo=a._emscripten_bind_btCapsuleShape_getMargin_0=le._emscripten_bind_btCapsuleShape_getMargin_0,fo=a._emscripten_bind_btCapsuleShape_getRadius_0=le._emscripten_bind_btCapsuleShape_getRadius_0,ho=a._emscripten_bind_btCapsuleShape_getUpAxis_0=le._emscripten_bind_btCapsuleShape_getUpAxis_0,po=a._emscripten_bind_btCapsuleShape_setLocalScaling_1=le._emscripten_bind_btCapsuleShape_setLocalScaling_1,bo=a._emscripten_bind_btCapsuleShape_setMargin_1=le._emscripten_bind_btCapsuleShape_setMargin_1,mo=a._emscripten_bind_btCollisionConfiguration___destroy___0=le._emscripten_bind_btCollisionConfiguration___destroy___0,Ao=a._emscripten_bind_btCollisionDispatcher___destroy___0=le._emscripten_bind_btCollisionDispatcher___destroy___0,go=a._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1=le._emscripten_bind_btCollisionDispatcher_btCollisionDispatcher_1,yo=a._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1=le._emscripten_bind_btCollisionDispatcher_getManifoldByIndexInternal_1,vo=a._emscripten_bind_btCollisionDispatcher_getNumManifolds_0=le._emscripten_bind_btCollisionDispatcher_getNumManifolds_0,Co=a._emscripten_bind_btCollisionObjectWrapper_getCollisionObject_0=le._emscripten_bind_btCollisionObjectWrapper_getCollisionObject_0,Eo=a._emscripten_bind_btCollisionObjectWrapper_getCollisionShape_0=le._emscripten_bind_btCollisionObjectWrapper_getCollisionShape_0,So=a._emscripten_bind_btCollisionObjectWrapper_getWorldTransform_0=le._emscripten_bind_btCollisionObjectWrapper_getWorldTransform_0,To=a._emscripten_bind_btCollisionObject___destroy___0=le._emscripten_bind_btCollisionObject___destroy___0,Ro=a._emscripten_bind_btCollisionObject_activate_0=le._emscripten_bind_btCollisionObject_activate_0,Mo=a._emscripten_bind_btCollisionObject_activate_1=le._emscripten_bind_btCollisionObject_activate_1,Oo=a._emscripten_bind_btCollisionObject_forceActivationState_1=le._emscripten_bind_btCollisionObject_forceActivationState_1,Io=a._emscripten_bind_btCollisionObject_getBroadphaseHandle_0=le._emscripten_bind_btCollisionObject_getBroadphaseHandle_0,xo=a._emscripten_bind_btCollisionObject_getCollisionFlags_0=le._emscripten_bind_btCollisionObject_getCollisionFlags_0,Po=a._emscripten_bind_btCollisionObject_getCollisionShape_0=le._emscripten_bind_btCollisionObject_getCollisionShape_0,Do=a._emscripten_bind_btCollisionObject_getFriction_0=le._emscripten_bind_btCollisionObject_getFriction_0,wo=a._emscripten_bind_btCollisionObject_getRestitution_0=le._emscripten_bind_btCollisionObject_getRestitution_0,Lo=a._emscripten_bind_btCollisionObject_getRollingFriction_0=le._emscripten_bind_btCollisionObject_getRollingFriction_0,Fo=a._emscripten_bind_btCollisionObject_getUserIndex_0=le._emscripten_bind_btCollisionObject_getUserIndex_0,No=a._emscripten_bind_btCollisionObject_getUserPointer_0=le._emscripten_bind_btCollisionObject_getUserPointer_0,Bo=a._emscripten_bind_btCollisionObject_getWorldTransform_0=le._emscripten_bind_btCollisionObject_getWorldTransform_0,ko=a._emscripten_bind_btCollisionObject_isActive_0=le._emscripten_bind_btCollisionObject_isActive_0,Uo=a._emscripten_bind_btCollisionObject_isKinematicObject_0=le._emscripten_bind_btCollisionObject_isKinematicObject_0,Ho=a._emscripten_bind_btCollisionObject_isStaticObject_0=le._emscripten_bind_btCollisionObject_isStaticObject_0,jo=a._emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0=le._emscripten_bind_btCollisionObject_isStaticOrKinematicObject_0,Vo=a._emscripten_bind_btCollisionObject_setActivationState_1=le._emscripten_bind_btCollisionObject_setActivationState_1,Go=a._emscripten_bind_btCollisionObject_setAnisotropicFriction_2=le._emscripten_bind_btCollisionObject_setAnisotropicFriction_2,Wo=a._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1=le._emscripten_bind_btCollisionObject_setCcdMotionThreshold_1,Xo=a._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1=le._emscripten_bind_btCollisionObject_setCcdSweptSphereRadius_1,zo=a._emscripten_bind_btCollisionObject_setCollisionFlags_1=le._emscripten_bind_btCollisionObject_setCollisionFlags_1,Yo=a._emscripten_bind_btCollisionObject_setCollisionShape_1=le._emscripten_bind_btCollisionObject_setCollisionShape_1,Qo=a._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1=le._emscripten_bind_btCollisionObject_setContactProcessingThreshold_1,Ko=a._emscripten_bind_btCollisionObject_setFriction_1=le._emscripten_bind_btCollisionObject_setFriction_1,Zo=a._emscripten_bind_btCollisionObject_setRestitution_1=le._emscripten_bind_btCollisionObject_setRestitution_1,Jo=a._emscripten_bind_btCollisionObject_setRollingFriction_1=le._emscripten_bind_btCollisionObject_setRollingFriction_1,qo=a._emscripten_bind_btCollisionObject_setUserIndex_1=le._emscripten_bind_btCollisionObject_setUserIndex_1,$o=a._emscripten_bind_btCollisionObject_setUserPointer_1=le._emscripten_bind_btCollisionObject_setUserPointer_1,es=a._emscripten_bind_btCollisionObject_setWorldTransform_1=le._emscripten_bind_btCollisionObject_setWorldTransform_1,ts=a._emscripten_bind_btCollisionShape___destroy___0=le._emscripten_bind_btCollisionShape___destroy___0,is=a._emscripten_bind_btCollisionShape_calculateLocalInertia_2=le._emscripten_bind_btCollisionShape_calculateLocalInertia_2,ns=a._emscripten_bind_btCollisionShape_getLocalScaling_0=le._emscripten_bind_btCollisionShape_getLocalScaling_0,rs=a._emscripten_bind_btCollisionShape_getMargin_0=le._emscripten_bind_btCollisionShape_getMargin_0,os=a._emscripten_bind_btCollisionShape_setLocalScaling_1=le._emscripten_bind_btCollisionShape_setLocalScaling_1,ss=a._emscripten_bind_btCollisionShape_setMargin_1=le._emscripten_bind_btCollisionShape_setMargin_1,as=a._emscripten_bind_btCollisionWorld___destroy___0=le._emscripten_bind_btCollisionWorld___destroy___0,cs=a._emscripten_bind_btCollisionWorld_addCollisionObject_1=le._emscripten_bind_btCollisionWorld_addCollisionObject_1,ls=a._emscripten_bind_btCollisionWorld_addCollisionObject_2=le._emscripten_bind_btCollisionWorld_addCollisionObject_2,_s=a._emscripten_bind_btCollisionWorld_addCollisionObject_3=le._emscripten_bind_btCollisionWorld_addCollisionObject_3,us=a._emscripten_bind_btCollisionWorld_contactPairTest_3=le._emscripten_bind_btCollisionWorld_contactPairTest_3,fs=a._emscripten_bind_btCollisionWorld_contactTest_2=le._emscripten_bind_btCollisionWorld_contactTest_2,ds=a._emscripten_bind_btCollisionWorld_convexSweepTest_5=le._emscripten_bind_btCollisionWorld_convexSweepTest_5,hs=a._emscripten_bind_btCollisionWorld_debugDrawObject_3=le._emscripten_bind_btCollisionWorld_debugDrawObject_3,ps=a._emscripten_bind_btCollisionWorld_debugDrawWorld_0=le._emscripten_bind_btCollisionWorld_debugDrawWorld_0,bs=a._emscripten_bind_btCollisionWorld_getBroadphase_0=le._emscripten_bind_btCollisionWorld_getBroadphase_0,ms=a._emscripten_bind_btCollisionWorld_getDebugDrawer_0=le._emscripten_bind_btCollisionWorld_getDebugDrawer_0,As=a._emscripten_bind_btCollisionWorld_getDispatchInfo_0=le._emscripten_bind_btCollisionWorld_getDispatchInfo_0,gs=a._emscripten_bind_btCollisionWorld_getDispatcher_0=le._emscripten_bind_btCollisionWorld_getDispatcher_0,ys=a._emscripten_bind_btCollisionWorld_getPairCache_0=le._emscripten_bind_btCollisionWorld_getPairCache_0,vs=a._emscripten_bind_btCollisionWorld_rayTest_3=le._emscripten_bind_btCollisionWorld_rayTest_3,Cs=a._emscripten_bind_btCollisionWorld_removeCollisionObject_1=le._emscripten_bind_btCollisionWorld_removeCollisionObject_1,Es=a._emscripten_bind_btCollisionWorld_setDebugDrawer_1=le._emscripten_bind_btCollisionWorld_setDebugDrawer_1,Ss=a._emscripten_bind_btCollisionWorld_updateSingleAabb_1=le._emscripten_bind_btCollisionWorld_updateSingleAabb_1,Ts=a._emscripten_bind_btCompoundShape___destroy___0=le._emscripten_bind_btCompoundShape___destroy___0,Rs=a._emscripten_bind_btCompoundShape_addChildShape_2=le._emscripten_bind_btCompoundShape_addChildShape_2,Ms=a._emscripten_bind_btCompoundShape_btCompoundShape_0=le._emscripten_bind_btCompoundShape_btCompoundShape_0,Os=a._emscripten_bind_btCompoundShape_btCompoundShape_1=le._emscripten_bind_btCompoundShape_btCompoundShape_1,Is=a._emscripten_bind_btCompoundShape_calculateLocalInertia_2=le._emscripten_bind_btCompoundShape_calculateLocalInertia_2,xs=a._emscripten_bind_btCompoundShape_getChildShape_1=le._emscripten_bind_btCompoundShape_getChildShape_1,Ps=a._emscripten_bind_btCompoundShape_getLocalScaling_0=le._emscripten_bind_btCompoundShape_getLocalScaling_0,Ds=a._emscripten_bind_btCompoundShape_getMargin_0=le._emscripten_bind_btCompoundShape_getMargin_0,ws=a._emscripten_bind_btCompoundShape_getNumChildShapes_0=le._emscripten_bind_btCompoundShape_getNumChildShapes_0,Ls=a._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1=le._emscripten_bind_btCompoundShape_removeChildShapeByIndex_1,Fs=a._emscripten_bind_btCompoundShape_removeChildShape_1=le._emscripten_bind_btCompoundShape_removeChildShape_1,Ns=a._emscripten_bind_btCompoundShape_setLocalScaling_1=le._emscripten_bind_btCompoundShape_setLocalScaling_1,Bs=a._emscripten_bind_btCompoundShape_setMargin_1=le._emscripten_bind_btCompoundShape_setMargin_1,ks=a._emscripten_bind_btCompoundShape_updateChildTransform_2=le._emscripten_bind_btCompoundShape_updateChildTransform_2,Us=a._emscripten_bind_btCompoundShape_updateChildTransform_3=le._emscripten_bind_btCompoundShape_updateChildTransform_3,Hs=a._emscripten_bind_btConcaveShape___destroy___0=le._emscripten_bind_btConcaveShape___destroy___0,js=a._emscripten_bind_btConcaveShape_calculateLocalInertia_2=le._emscripten_bind_btConcaveShape_calculateLocalInertia_2,Vs=a._emscripten_bind_btConcaveShape_getLocalScaling_0=le._emscripten_bind_btConcaveShape_getLocalScaling_0,Gs=a._emscripten_bind_btConcaveShape_setLocalScaling_1=le._emscripten_bind_btConcaveShape_setLocalScaling_1,Ws=a._emscripten_bind_btConeShapeX___destroy___0=le._emscripten_bind_btConeShapeX___destroy___0,Xs=a._emscripten_bind_btConeShapeX_btConeShapeX_2=le._emscripten_bind_btConeShapeX_btConeShapeX_2,zs=a._emscripten_bind_btConeShapeX_calculateLocalInertia_2=le._emscripten_bind_btConeShapeX_calculateLocalInertia_2,Ys=a._emscripten_bind_btConeShapeX_getLocalScaling_0=le._emscripten_bind_btConeShapeX_getLocalScaling_0,Qs=a._emscripten_bind_btConeShapeX_setLocalScaling_1=le._emscripten_bind_btConeShapeX_setLocalScaling_1,Ks=a._emscripten_bind_btConeShapeZ___destroy___0=le._emscripten_bind_btConeShapeZ___destroy___0,Zs=a._emscripten_bind_btConeShapeZ_btConeShapeZ_2=le._emscripten_bind_btConeShapeZ_btConeShapeZ_2,Js=a._emscripten_bind_btConeShapeZ_calculateLocalInertia_2=le._emscripten_bind_btConeShapeZ_calculateLocalInertia_2,qs=a._emscripten_bind_btConeShapeZ_getLocalScaling_0=le._emscripten_bind_btConeShapeZ_getLocalScaling_0,$s=a._emscripten_bind_btConeShapeZ_setLocalScaling_1=le._emscripten_bind_btConeShapeZ_setLocalScaling_1,ea=a._emscripten_bind_btConeShape___destroy___0=le._emscripten_bind_btConeShape___destroy___0,ta=a._emscripten_bind_btConeShape_btConeShape_2=le._emscripten_bind_btConeShape_btConeShape_2,ia=a._emscripten_bind_btConeShape_calculateLocalInertia_2=le._emscripten_bind_btConeShape_calculateLocalInertia_2,na=a._emscripten_bind_btConeShape_getLocalScaling_0=le._emscripten_bind_btConeShape_getLocalScaling_0,ra=a._emscripten_bind_btConeShape_setLocalScaling_1=le._emscripten_bind_btConeShape_setLocalScaling_1,oa=a._emscripten_bind_btConeTwistConstraint___destroy___0=le._emscripten_bind_btConeTwistConstraint___destroy___0,sa=a._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2=le._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_2,aa=a._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4=le._emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_4,ca=a._emscripten_bind_btConeTwistConstraint_enableFeedback_1=le._emscripten_bind_btConeTwistConstraint_enableFeedback_1,la=a._emscripten_bind_btConeTwistConstraint_enableMotor_1=le._emscripten_bind_btConeTwistConstraint_enableMotor_1,_a=a._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btConeTwistConstraint_getBreakingImpulseThreshold_0,ua=a._emscripten_bind_btConeTwistConstraint_getParam_2=le._emscripten_bind_btConeTwistConstraint_getParam_2,fa=a._emscripten_bind_btConeTwistConstraint_setAngularOnly_1=le._emscripten_bind_btConeTwistConstraint_setAngularOnly_1,da=a._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btConeTwistConstraint_setBreakingImpulseThreshold_1,ha=a._emscripten_bind_btConeTwistConstraint_setDamping_1=le._emscripten_bind_btConeTwistConstraint_setDamping_1,pa=a._emscripten_bind_btConeTwistConstraint_setLimit_2=le._emscripten_bind_btConeTwistConstraint_setLimit_2,ba=a._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1=le._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulseNormalized_1,ma=a._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1=le._emscripten_bind_btConeTwistConstraint_setMaxMotorImpulse_1,Aa=a._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1=le._emscripten_bind_btConeTwistConstraint_setMotorTargetInConstraintSpace_1,ga=a._emscripten_bind_btConeTwistConstraint_setMotorTarget_1=le._emscripten_bind_btConeTwistConstraint_setMotorTarget_1,ya=a._emscripten_bind_btConeTwistConstraint_setParam_3=le._emscripten_bind_btConeTwistConstraint_setParam_3,va=a._emscripten_bind_btConstCollisionObjectArray___destroy___0=le._emscripten_bind_btConstCollisionObjectArray___destroy___0,Ca=a._emscripten_bind_btConstCollisionObjectArray_at_1=le._emscripten_bind_btConstCollisionObjectArray_at_1,Ea=a._emscripten_bind_btConstCollisionObjectArray_size_0=le._emscripten_bind_btConstCollisionObjectArray_size_0,Sa=a._emscripten_bind_btConstraintSetting___destroy___0=le._emscripten_bind_btConstraintSetting___destroy___0,Ta=a._emscripten_bind_btConstraintSetting_btConstraintSetting_0=le._emscripten_bind_btConstraintSetting_btConstraintSetting_0,Ra=a._emscripten_bind_btConstraintSetting_get_m_damping_0=le._emscripten_bind_btConstraintSetting_get_m_damping_0,Ma=a._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0=le._emscripten_bind_btConstraintSetting_get_m_impulseClamp_0,Oa=a._emscripten_bind_btConstraintSetting_get_m_tau_0=le._emscripten_bind_btConstraintSetting_get_m_tau_0,Ia=a._emscripten_bind_btConstraintSetting_set_m_damping_1=le._emscripten_bind_btConstraintSetting_set_m_damping_1,xa=a._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1=le._emscripten_bind_btConstraintSetting_set_m_impulseClamp_1,Pa=a._emscripten_bind_btConstraintSetting_set_m_tau_1=le._emscripten_bind_btConstraintSetting_set_m_tau_1,Da=a._emscripten_bind_btConstraintSolver___destroy___0=le._emscripten_bind_btConstraintSolver___destroy___0,wa=a._emscripten_bind_btContactSolverInfo___destroy___0=le._emscripten_bind_btContactSolverInfo___destroy___0,La=a._emscripten_bind_btContactSolverInfo_get_m_numIterations_0=le._emscripten_bind_btContactSolverInfo_get_m_numIterations_0,Fa=a._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0=le._emscripten_bind_btContactSolverInfo_get_m_splitImpulsePenetrationThreshold_0,Na=a._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0=le._emscripten_bind_btContactSolverInfo_get_m_splitImpulse_0,Ba=a._emscripten_bind_btContactSolverInfo_set_m_numIterations_1=le._emscripten_bind_btContactSolverInfo_set_m_numIterations_1,ka=a._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1=le._emscripten_bind_btContactSolverInfo_set_m_splitImpulsePenetrationThreshold_1,Ua=a._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1=le._emscripten_bind_btContactSolverInfo_set_m_splitImpulse_1,Ha=a._emscripten_bind_btConvexHullShape___destroy___0=le._emscripten_bind_btConvexHullShape___destroy___0,ja=a._emscripten_bind_btConvexHullShape_addPoint_1=le._emscripten_bind_btConvexHullShape_addPoint_1,Va=a._emscripten_bind_btConvexHullShape_addPoint_2=le._emscripten_bind_btConvexHullShape_addPoint_2,Ga=a._emscripten_bind_btConvexHullShape_btConvexHullShape_0=le._emscripten_bind_btConvexHullShape_btConvexHullShape_0,Wa=a._emscripten_bind_btConvexHullShape_btConvexHullShape_1=le._emscripten_bind_btConvexHullShape_btConvexHullShape_1,Xa=a._emscripten_bind_btConvexHullShape_btConvexHullShape_2=le._emscripten_bind_btConvexHullShape_btConvexHullShape_2,za=a._emscripten_bind_btConvexHullShape_calculateLocalInertia_2=le._emscripten_bind_btConvexHullShape_calculateLocalInertia_2,Ya=a._emscripten_bind_btConvexHullShape_getConvexPolyhedron_0=le._emscripten_bind_btConvexHullShape_getConvexPolyhedron_0,Qa=a._emscripten_bind_btConvexHullShape_getLocalScaling_0=le._emscripten_bind_btConvexHullShape_getLocalScaling_0,Ka=a._emscripten_bind_btConvexHullShape_getMargin_0=le._emscripten_bind_btConvexHullShape_getMargin_0,Za=a._emscripten_bind_btConvexHullShape_getNumVertices_0=le._emscripten_bind_btConvexHullShape_getNumVertices_0,Ja=a._emscripten_bind_btConvexHullShape_initializePolyhedralFeatures_1=le._emscripten_bind_btConvexHullShape_initializePolyhedralFeatures_1,qa=a._emscripten_bind_btConvexHullShape_recalcLocalAabb_0=le._emscripten_bind_btConvexHullShape_recalcLocalAabb_0,$a=a._emscripten_bind_btConvexHullShape_setLocalScaling_1=le._emscripten_bind_btConvexHullShape_setLocalScaling_1,ec=a._emscripten_bind_btConvexHullShape_setMargin_1=le._emscripten_bind_btConvexHullShape_setMargin_1,tc=a._emscripten_bind_btConvexPolyhedron___destroy___0=le._emscripten_bind_btConvexPolyhedron___destroy___0,ic=a._emscripten_bind_btConvexPolyhedron_get_m_faces_0=le._emscripten_bind_btConvexPolyhedron_get_m_faces_0,nc=a._emscripten_bind_btConvexPolyhedron_get_m_vertices_0=le._emscripten_bind_btConvexPolyhedron_get_m_vertices_0,rc=a._emscripten_bind_btConvexPolyhedron_set_m_faces_1=le._emscripten_bind_btConvexPolyhedron_set_m_faces_1,oc=a._emscripten_bind_btConvexPolyhedron_set_m_vertices_1=le._emscripten_bind_btConvexPolyhedron_set_m_vertices_1,sc=a._emscripten_bind_btConvexShape___destroy___0=le._emscripten_bind_btConvexShape___destroy___0,ac=a._emscripten_bind_btConvexShape_calculateLocalInertia_2=le._emscripten_bind_btConvexShape_calculateLocalInertia_2,cc=a._emscripten_bind_btConvexShape_getLocalScaling_0=le._emscripten_bind_btConvexShape_getLocalScaling_0,lc=a._emscripten_bind_btConvexShape_getMargin_0=le._emscripten_bind_btConvexShape_getMargin_0,_c=a._emscripten_bind_btConvexShape_setLocalScaling_1=le._emscripten_bind_btConvexShape_setLocalScaling_1,uc=a._emscripten_bind_btConvexShape_setMargin_1=le._emscripten_bind_btConvexShape_setMargin_1,fc=a._emscripten_bind_btConvexTriangleMeshShape___destroy___0=le._emscripten_bind_btConvexTriangleMeshShape___destroy___0,dc=a._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1=le._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_1,hc=a._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2=le._emscripten_bind_btConvexTriangleMeshShape_btConvexTriangleMeshShape_2,pc=a._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2=le._emscripten_bind_btConvexTriangleMeshShape_calculateLocalInertia_2,bc=a._emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0=le._emscripten_bind_btConvexTriangleMeshShape_getLocalScaling_0,mc=a._emscripten_bind_btConvexTriangleMeshShape_getMargin_0=le._emscripten_bind_btConvexTriangleMeshShape_getMargin_0,Ac=a._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1=le._emscripten_bind_btConvexTriangleMeshShape_setLocalScaling_1,gc=a._emscripten_bind_btConvexTriangleMeshShape_setMargin_1=le._emscripten_bind_btConvexTriangleMeshShape_setMargin_1,yc=a._emscripten_bind_btCylinderShapeX___destroy___0=le._emscripten_bind_btCylinderShapeX___destroy___0,vc=a._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1=le._emscripten_bind_btCylinderShapeX_btCylinderShapeX_1,Cc=a._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2=le._emscripten_bind_btCylinderShapeX_calculateLocalInertia_2,Ec=a._emscripten_bind_btCylinderShapeX_getLocalScaling_0=le._emscripten_bind_btCylinderShapeX_getLocalScaling_0,Sc=a._emscripten_bind_btCylinderShapeX_getMargin_0=le._emscripten_bind_btCylinderShapeX_getMargin_0,Tc=a._emscripten_bind_btCylinderShapeX_setLocalScaling_1=le._emscripten_bind_btCylinderShapeX_setLocalScaling_1,Rc=a._emscripten_bind_btCylinderShapeX_setMargin_1=le._emscripten_bind_btCylinderShapeX_setMargin_1,Mc=a._emscripten_bind_btCylinderShapeZ___destroy___0=le._emscripten_bind_btCylinderShapeZ___destroy___0,Oc=a._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1=le._emscripten_bind_btCylinderShapeZ_btCylinderShapeZ_1,Ic=a._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2=le._emscripten_bind_btCylinderShapeZ_calculateLocalInertia_2,xc=a._emscripten_bind_btCylinderShapeZ_getLocalScaling_0=le._emscripten_bind_btCylinderShapeZ_getLocalScaling_0,Pc=a._emscripten_bind_btCylinderShapeZ_getMargin_0=le._emscripten_bind_btCylinderShapeZ_getMargin_0,Dc=a._emscripten_bind_btCylinderShapeZ_setLocalScaling_1=le._emscripten_bind_btCylinderShapeZ_setLocalScaling_1,wc=a._emscripten_bind_btCylinderShapeZ_setMargin_1=le._emscripten_bind_btCylinderShapeZ_setMargin_1,Lc=a._emscripten_bind_btCylinderShape___destroy___0=le._emscripten_bind_btCylinderShape___destroy___0,Fc=a._emscripten_bind_btCylinderShape_btCylinderShape_1=le._emscripten_bind_btCylinderShape_btCylinderShape_1,Nc=a._emscripten_bind_btCylinderShape_calculateLocalInertia_2=le._emscripten_bind_btCylinderShape_calculateLocalInertia_2,Bc=a._emscripten_bind_btCylinderShape_getLocalScaling_0=le._emscripten_bind_btCylinderShape_getLocalScaling_0,kc=a._emscripten_bind_btCylinderShape_getMargin_0=le._emscripten_bind_btCylinderShape_getMargin_0,Uc=a._emscripten_bind_btCylinderShape_setLocalScaling_1=le._emscripten_bind_btCylinderShape_setLocalScaling_1,Hc=a._emscripten_bind_btCylinderShape_setMargin_1=le._emscripten_bind_btCylinderShape_setMargin_1,jc=a._emscripten_bind_btDbvtBroadphase___destroy___0=le._emscripten_bind_btDbvtBroadphase___destroy___0,Vc=a._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0=le._emscripten_bind_btDbvtBroadphase_btDbvtBroadphase_0,Gc=a._emscripten_bind_btDefaultCollisionConfiguration___destroy___0=le._emscripten_bind_btDefaultCollisionConfiguration___destroy___0,Wc=a._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0=le._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_0,Xc=a._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1=le._emscripten_bind_btDefaultCollisionConfiguration_btDefaultCollisionConfiguration_1,zc=a._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0=le._emscripten_bind_btDefaultCollisionConstructionInfo___destroy___0,Yc=a._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0=le._emscripten_bind_btDefaultCollisionConstructionInfo_btDefaultCollisionConstructionInfo_0,Qc=a._emscripten_bind_btDefaultMotionState___destroy___0=le._emscripten_bind_btDefaultMotionState___destroy___0,Kc=a._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0=le._emscripten_bind_btDefaultMotionState_btDefaultMotionState_0,Zc=a._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1=le._emscripten_bind_btDefaultMotionState_btDefaultMotionState_1,Jc=a._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2=le._emscripten_bind_btDefaultMotionState_btDefaultMotionState_2,qc=a._emscripten_bind_btDefaultMotionState_getWorldTransform_1=le._emscripten_bind_btDefaultMotionState_getWorldTransform_1,$c=a._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0=le._emscripten_bind_btDefaultMotionState_get_m_graphicsWorldTrans_0,el=a._emscripten_bind_btDefaultMotionState_setWorldTransform_1=le._emscripten_bind_btDefaultMotionState_setWorldTransform_1,tl=a._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1=le._emscripten_bind_btDefaultMotionState_set_m_graphicsWorldTrans_1,il=a._emscripten_bind_btDefaultSoftBodySolver___destroy___0=le._emscripten_bind_btDefaultSoftBodySolver___destroy___0,nl=a._emscripten_bind_btDefaultSoftBodySolver_btDefaultSoftBodySolver_0=le._emscripten_bind_btDefaultSoftBodySolver_btDefaultSoftBodySolver_0,rl=a._emscripten_bind_btDefaultVehicleRaycaster___destroy___0=le._emscripten_bind_btDefaultVehicleRaycaster___destroy___0,ol=a._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1=le._emscripten_bind_btDefaultVehicleRaycaster_btDefaultVehicleRaycaster_1,sl=a._emscripten_bind_btDefaultVehicleRaycaster_castRay_3=le._emscripten_bind_btDefaultVehicleRaycaster_castRay_3,al=a._emscripten_bind_btDiscreteDynamicsWorld___destroy___0=le._emscripten_bind_btDiscreteDynamicsWorld___destroy___0,cl=a._emscripten_bind_btDiscreteDynamicsWorld_addAction_1=le._emscripten_bind_btDiscreteDynamicsWorld_addAction_1,ll=a._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1=le._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_1,_l=a._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2=le._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_2,ul=a._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3=le._emscripten_bind_btDiscreteDynamicsWorld_addCollisionObject_3,fl=a._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1=le._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_1,dl=a._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2=le._emscripten_bind_btDiscreteDynamicsWorld_addConstraint_2,hl=a._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1=le._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_1,pl=a._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3=le._emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_3,bl=a._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4=le._emscripten_bind_btDiscreteDynamicsWorld_btDiscreteDynamicsWorld_4,ml=a._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3=le._emscripten_bind_btDiscreteDynamicsWorld_contactPairTest_3,Al=a._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2=le._emscripten_bind_btDiscreteDynamicsWorld_contactTest_2,gl=a._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5=le._emscripten_bind_btDiscreteDynamicsWorld_convexSweepTest_5,yl=a._emscripten_bind_btDiscreteDynamicsWorld_debugDrawObject_3=le._emscripten_bind_btDiscreteDynamicsWorld_debugDrawObject_3,vl=a._emscripten_bind_btDiscreteDynamicsWorld_debugDrawWorld_0=le._emscripten_bind_btDiscreteDynamicsWorld_debugDrawWorld_0,Cl=a._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0=le._emscripten_bind_btDiscreteDynamicsWorld_getBroadphase_0,El=a._emscripten_bind_btDiscreteDynamicsWorld_getDebugDrawer_0=le._emscripten_bind_btDiscreteDynamicsWorld_getDebugDrawer_0,Sl=a._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0=le._emscripten_bind_btDiscreteDynamicsWorld_getDispatchInfo_0,Tl=a._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0=le._emscripten_bind_btDiscreteDynamicsWorld_getDispatcher_0,Rl=a._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0=le._emscripten_bind_btDiscreteDynamicsWorld_getGravity_0,Ml=a._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0=le._emscripten_bind_btDiscreteDynamicsWorld_getPairCache_0,Ol=a._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0=le._emscripten_bind_btDiscreteDynamicsWorld_getSolverInfo_0,Il=a._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3=le._emscripten_bind_btDiscreteDynamicsWorld_rayTest_3,xl=a._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1=le._emscripten_bind_btDiscreteDynamicsWorld_removeAction_1,Pl=a._emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1=le._emscripten_bind_btDiscreteDynamicsWorld_removeCollisionObject_1,Dl=a._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1=le._emscripten_bind_btDiscreteDynamicsWorld_removeConstraint_1,wl=a._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1=le._emscripten_bind_btDiscreteDynamicsWorld_removeRigidBody_1,Ll=a._emscripten_bind_btDiscreteDynamicsWorld_setContactAddedCallback_1=le._emscripten_bind_btDiscreteDynamicsWorld_setContactAddedCallback_1,Fl=a._emscripten_bind_btDiscreteDynamicsWorld_setContactDestroyedCallback_1=le._emscripten_bind_btDiscreteDynamicsWorld_setContactDestroyedCallback_1,Nl=a._emscripten_bind_btDiscreteDynamicsWorld_setContactProcessedCallback_1=le._emscripten_bind_btDiscreteDynamicsWorld_setContactProcessedCallback_1,Bl=a._emscripten_bind_btDiscreteDynamicsWorld_setDebugDrawer_1=le._emscripten_bind_btDiscreteDynamicsWorld_setDebugDrawer_1,kl=a._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1=le._emscripten_bind_btDiscreteDynamicsWorld_setGravity_1,Ul=a._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1=le._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_1,Hl=a._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2=le._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_2,jl=a._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3=le._emscripten_bind_btDiscreteDynamicsWorld_stepSimulation_3,Vl=a._emscripten_bind_btDiscreteDynamicsWorld_updateSingleAabb_1=le._emscripten_bind_btDiscreteDynamicsWorld_updateSingleAabb_1,Gl=a._emscripten_bind_btDispatcherInfo___destroy___0=le._emscripten_bind_btDispatcherInfo___destroy___0,Wl=a._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0=le._emscripten_bind_btDispatcherInfo_get_m_allowedCcdPenetration_0,Xl=a._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0=le._emscripten_bind_btDispatcherInfo_get_m_convexConservativeDistanceThreshold_0,zl=a._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0=le._emscripten_bind_btDispatcherInfo_get_m_dispatchFunc_0,Yl=a._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0=le._emscripten_bind_btDispatcherInfo_get_m_enableSPU_0,Ql=a._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0=le._emscripten_bind_btDispatcherInfo_get_m_enableSatConvex_0,Kl=a._emscripten_bind_btDispatcherInfo_get_m_stepCount_0=le._emscripten_bind_btDispatcherInfo_get_m_stepCount_0,Zl=a._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0=le._emscripten_bind_btDispatcherInfo_get_m_timeOfImpact_0,Jl=a._emscripten_bind_btDispatcherInfo_get_m_timeStep_0=le._emscripten_bind_btDispatcherInfo_get_m_timeStep_0,ql=a._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0=le._emscripten_bind_btDispatcherInfo_get_m_useContinuous_0,$l=a._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0=le._emscripten_bind_btDispatcherInfo_get_m_useConvexConservativeDistanceUtil_0,e_=a._emscripten_bind_btDispatcherInfo_get_m_useEpa_0=le._emscripten_bind_btDispatcherInfo_get_m_useEpa_0,t_=a._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1=le._emscripten_bind_btDispatcherInfo_set_m_allowedCcdPenetration_1,i_=a._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1=le._emscripten_bind_btDispatcherInfo_set_m_convexConservativeDistanceThreshold_1,n_=a._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1=le._emscripten_bind_btDispatcherInfo_set_m_dispatchFunc_1,r_=a._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1=le._emscripten_bind_btDispatcherInfo_set_m_enableSPU_1,o_=a._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1=le._emscripten_bind_btDispatcherInfo_set_m_enableSatConvex_1,s_=a._emscripten_bind_btDispatcherInfo_set_m_stepCount_1=le._emscripten_bind_btDispatcherInfo_set_m_stepCount_1,a_=a._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1=le._emscripten_bind_btDispatcherInfo_set_m_timeOfImpact_1,c_=a._emscripten_bind_btDispatcherInfo_set_m_timeStep_1=le._emscripten_bind_btDispatcherInfo_set_m_timeStep_1,l_=a._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1=le._emscripten_bind_btDispatcherInfo_set_m_useContinuous_1,__=a._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1=le._emscripten_bind_btDispatcherInfo_set_m_useConvexConservativeDistanceUtil_1,u_=a._emscripten_bind_btDispatcherInfo_set_m_useEpa_1=le._emscripten_bind_btDispatcherInfo_set_m_useEpa_1,f_=a._emscripten_bind_btDispatcher___destroy___0=le._emscripten_bind_btDispatcher___destroy___0,d_=a._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1=le._emscripten_bind_btDispatcher_getManifoldByIndexInternal_1,h_=a._emscripten_bind_btDispatcher_getNumManifolds_0=le._emscripten_bind_btDispatcher_getNumManifolds_0,p_=a._emscripten_bind_btDynamicsWorld___destroy___0=le._emscripten_bind_btDynamicsWorld___destroy___0,b_=a._emscripten_bind_btDynamicsWorld_addAction_1=le._emscripten_bind_btDynamicsWorld_addAction_1,m_=a._emscripten_bind_btDynamicsWorld_addCollisionObject_1=le._emscripten_bind_btDynamicsWorld_addCollisionObject_1,A_=a._emscripten_bind_btDynamicsWorld_addCollisionObject_2=le._emscripten_bind_btDynamicsWorld_addCollisionObject_2,g_=a._emscripten_bind_btDynamicsWorld_addCollisionObject_3=le._emscripten_bind_btDynamicsWorld_addCollisionObject_3,y_=a._emscripten_bind_btDynamicsWorld_contactPairTest_3=le._emscripten_bind_btDynamicsWorld_contactPairTest_3,v_=a._emscripten_bind_btDynamicsWorld_contactTest_2=le._emscripten_bind_btDynamicsWorld_contactTest_2,C_=a._emscripten_bind_btDynamicsWorld_convexSweepTest_5=le._emscripten_bind_btDynamicsWorld_convexSweepTest_5,E_=a._emscripten_bind_btDynamicsWorld_debugDrawObject_3=le._emscripten_bind_btDynamicsWorld_debugDrawObject_3,S_=a._emscripten_bind_btDynamicsWorld_debugDrawWorld_0=le._emscripten_bind_btDynamicsWorld_debugDrawWorld_0,T_=a._emscripten_bind_btDynamicsWorld_getBroadphase_0=le._emscripten_bind_btDynamicsWorld_getBroadphase_0,R_=a._emscripten_bind_btDynamicsWorld_getDebugDrawer_0=le._emscripten_bind_btDynamicsWorld_getDebugDrawer_0,M_=a._emscripten_bind_btDynamicsWorld_getDispatchInfo_0=le._emscripten_bind_btDynamicsWorld_getDispatchInfo_0,O_=a._emscripten_bind_btDynamicsWorld_getDispatcher_0=le._emscripten_bind_btDynamicsWorld_getDispatcher_0,I_=a._emscripten_bind_btDynamicsWorld_getPairCache_0=le._emscripten_bind_btDynamicsWorld_getPairCache_0,x_=a._emscripten_bind_btDynamicsWorld_getSolverInfo_0=le._emscripten_bind_btDynamicsWorld_getSolverInfo_0,P_=a._emscripten_bind_btDynamicsWorld_rayTest_3=le._emscripten_bind_btDynamicsWorld_rayTest_3,D_=a._emscripten_bind_btDynamicsWorld_removeAction_1=le._emscripten_bind_btDynamicsWorld_removeAction_1,w_=a._emscripten_bind_btDynamicsWorld_removeCollisionObject_1=le._emscripten_bind_btDynamicsWorld_removeCollisionObject_1,L_=a._emscripten_bind_btDynamicsWorld_setDebugDrawer_1=le._emscripten_bind_btDynamicsWorld_setDebugDrawer_1,F_=a._emscripten_bind_btDynamicsWorld_updateSingleAabb_1=le._emscripten_bind_btDynamicsWorld_updateSingleAabb_1,N_=a._emscripten_bind_btFaceArray___destroy___0=le._emscripten_bind_btFaceArray___destroy___0,B_=a._emscripten_bind_btFaceArray_at_1=le._emscripten_bind_btFaceArray_at_1,k_=a._emscripten_bind_btFaceArray_size_0=le._emscripten_bind_btFaceArray_size_0,U_=a._emscripten_bind_btFace___destroy___0=le._emscripten_bind_btFace___destroy___0,H_=a._emscripten_bind_btFace_get_m_indices_0=le._emscripten_bind_btFace_get_m_indices_0,j_=a._emscripten_bind_btFace_get_m_plane_1=le._emscripten_bind_btFace_get_m_plane_1,V_=a._emscripten_bind_btFace_set_m_indices_1=le._emscripten_bind_btFace_set_m_indices_1,G_=a._emscripten_bind_btFace_set_m_plane_2=le._emscripten_bind_btFace_set_m_plane_2,W_=a._emscripten_bind_btFixedConstraint___destroy___0=le._emscripten_bind_btFixedConstraint___destroy___0,X_=a._emscripten_bind_btFixedConstraint_btFixedConstraint_4=le._emscripten_bind_btFixedConstraint_btFixedConstraint_4,z_=a._emscripten_bind_btFixedConstraint_enableFeedback_1=le._emscripten_bind_btFixedConstraint_enableFeedback_1,Y_=a._emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btFixedConstraint_getBreakingImpulseThreshold_0,Q_=a._emscripten_bind_btFixedConstraint_getParam_2=le._emscripten_bind_btFixedConstraint_getParam_2,K_=a._emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btFixedConstraint_setBreakingImpulseThreshold_1,Z_=a._emscripten_bind_btFixedConstraint_setParam_3=le._emscripten_bind_btFixedConstraint_setParam_3,J_=a._emscripten_bind_btGeneric6DofConstraint___destroy___0=le._emscripten_bind_btGeneric6DofConstraint___destroy___0,q_=a._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3=le._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_3,$_=a._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5=le._emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_5,eu=a._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1=le._emscripten_bind_btGeneric6DofConstraint_enableFeedback_1,tu=a._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btGeneric6DofConstraint_getBreakingImpulseThreshold_0,iu=a._emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0=le._emscripten_bind_btGeneric6DofConstraint_getFrameOffsetA_0,nu=a._emscripten_bind_btGeneric6DofConstraint_getParam_2=le._emscripten_bind_btGeneric6DofConstraint_getParam_2,ru=a._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1=le._emscripten_bind_btGeneric6DofConstraint_setAngularLowerLimit_1,ou=a._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1=le._emscripten_bind_btGeneric6DofConstraint_setAngularUpperLimit_1,su=a._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btGeneric6DofConstraint_setBreakingImpulseThreshold_1,au=a._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1=le._emscripten_bind_btGeneric6DofConstraint_setLinearLowerLimit_1,cu=a._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1=le._emscripten_bind_btGeneric6DofConstraint_setLinearUpperLimit_1,lu=a._emscripten_bind_btGeneric6DofConstraint_setParam_3=le._emscripten_bind_btGeneric6DofConstraint_setParam_3,_u=a._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0=le._emscripten_bind_btGeneric6DofSpringConstraint___destroy___0,uu=a._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3=le._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_3,fu=a._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5=le._emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_5,du=a._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1=le._emscripten_bind_btGeneric6DofSpringConstraint_enableFeedback_1,hu=a._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2=le._emscripten_bind_btGeneric6DofSpringConstraint_enableSpring_2,pu=a._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btGeneric6DofSpringConstraint_getBreakingImpulseThreshold_0,bu=a._emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0=le._emscripten_bind_btGeneric6DofSpringConstraint_getFrameOffsetA_0,mu=a._emscripten_bind_btGeneric6DofSpringConstraint_getParam_2=le._emscripten_bind_btGeneric6DofSpringConstraint_getParam_2,Au=a._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setAngularLowerLimit_1,gu=a._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setAngularUpperLimit_1,yu=a._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setBreakingImpulseThreshold_1,vu=a._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2=le._emscripten_bind_btGeneric6DofSpringConstraint_setDamping_2,Cu=a._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0=le._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_0,Eu=a._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_1,Su=a._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2=le._emscripten_bind_btGeneric6DofSpringConstraint_setEquilibriumPoint_2,Tu=a._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setLinearLowerLimit_1,Ru=a._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1=le._emscripten_bind_btGeneric6DofSpringConstraint_setLinearUpperLimit_1,Mu=a._emscripten_bind_btGeneric6DofSpringConstraint_setParam_3=le._emscripten_bind_btGeneric6DofSpringConstraint_setParam_3,Ou=a._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2=le._emscripten_bind_btGeneric6DofSpringConstraint_setStiffness_2,Iu=a._emscripten_bind_btGhostObject___destroy___0=le._emscripten_bind_btGhostObject___destroy___0,xu=a._emscripten_bind_btGhostObject_activate_0=le._emscripten_bind_btGhostObject_activate_0,Pu=a._emscripten_bind_btGhostObject_activate_1=le._emscripten_bind_btGhostObject_activate_1,Du=a._emscripten_bind_btGhostObject_btGhostObject_0=le._emscripten_bind_btGhostObject_btGhostObject_0,wu=a._emscripten_bind_btGhostObject_forceActivationState_1=le._emscripten_bind_btGhostObject_forceActivationState_1,Lu=a._emscripten_bind_btGhostObject_getBroadphaseHandle_0=le._emscripten_bind_btGhostObject_getBroadphaseHandle_0,Fu=a._emscripten_bind_btGhostObject_getCollisionFlags_0=le._emscripten_bind_btGhostObject_getCollisionFlags_0,Nu=a._emscripten_bind_btGhostObject_getCollisionShape_0=le._emscripten_bind_btGhostObject_getCollisionShape_0,Bu=a._emscripten_bind_btGhostObject_getFriction_0=le._emscripten_bind_btGhostObject_getFriction_0,ku=a._emscripten_bind_btGhostObject_getNumOverlappingObjects_0=le._emscripten_bind_btGhostObject_getNumOverlappingObjects_0,Uu=a._emscripten_bind_btGhostObject_getOverlappingObject_1=le._emscripten_bind_btGhostObject_getOverlappingObject_1,Hu=a._emscripten_bind_btGhostObject_getRestitution_0=le._emscripten_bind_btGhostObject_getRestitution_0,ju=a._emscripten_bind_btGhostObject_getRollingFriction_0=le._emscripten_bind_btGhostObject_getRollingFriction_0,Vu=a._emscripten_bind_btGhostObject_getUserIndex_0=le._emscripten_bind_btGhostObject_getUserIndex_0,Gu=a._emscripten_bind_btGhostObject_getUserPointer_0=le._emscripten_bind_btGhostObject_getUserPointer_0,Wu=a._emscripten_bind_btGhostObject_getWorldTransform_0=le._emscripten_bind_btGhostObject_getWorldTransform_0,Xu=a._emscripten_bind_btGhostObject_isActive_0=le._emscripten_bind_btGhostObject_isActive_0,zu=a._emscripten_bind_btGhostObject_isKinematicObject_0=le._emscripten_bind_btGhostObject_isKinematicObject_0,Yu=a._emscripten_bind_btGhostObject_isStaticObject_0=le._emscripten_bind_btGhostObject_isStaticObject_0,Qu=a._emscripten_bind_btGhostObject_isStaticOrKinematicObject_0=le._emscripten_bind_btGhostObject_isStaticOrKinematicObject_0,Ku=a._emscripten_bind_btGhostObject_setActivationState_1=le._emscripten_bind_btGhostObject_setActivationState_1,Zu=a._emscripten_bind_btGhostObject_setAnisotropicFriction_2=le._emscripten_bind_btGhostObject_setAnisotropicFriction_2,Ju=a._emscripten_bind_btGhostObject_setCcdMotionThreshold_1=le._emscripten_bind_btGhostObject_setCcdMotionThreshold_1,qu=a._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1=le._emscripten_bind_btGhostObject_setCcdSweptSphereRadius_1,$u=a._emscripten_bind_btGhostObject_setCollisionFlags_1=le._emscripten_bind_btGhostObject_setCollisionFlags_1,ef=a._emscripten_bind_btGhostObject_setCollisionShape_1=le._emscripten_bind_btGhostObject_setCollisionShape_1,tf=a._emscripten_bind_btGhostObject_setContactProcessingThreshold_1=le._emscripten_bind_btGhostObject_setContactProcessingThreshold_1,nf=a._emscripten_bind_btGhostObject_setFriction_1=le._emscripten_bind_btGhostObject_setFriction_1,rf=a._emscripten_bind_btGhostObject_setRestitution_1=le._emscripten_bind_btGhostObject_setRestitution_1,of=a._emscripten_bind_btGhostObject_setRollingFriction_1=le._emscripten_bind_btGhostObject_setRollingFriction_1,sf=a._emscripten_bind_btGhostObject_setUserIndex_1=le._emscripten_bind_btGhostObject_setUserIndex_1,af=a._emscripten_bind_btGhostObject_setUserPointer_1=le._emscripten_bind_btGhostObject_setUserPointer_1,cf=a._emscripten_bind_btGhostObject_setWorldTransform_1=le._emscripten_bind_btGhostObject_setWorldTransform_1,lf=a._emscripten_bind_btGhostPairCallback___destroy___0=le._emscripten_bind_btGhostPairCallback___destroy___0,_f=a._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0=le._emscripten_bind_btGhostPairCallback_btGhostPairCallback_0,uf=a._emscripten_bind_btHeightfieldTerrainShape___destroy___0=le._emscripten_bind_btHeightfieldTerrainShape___destroy___0,ff=a._emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9=le._emscripten_bind_btHeightfieldTerrainShape_btHeightfieldTerrainShape_9,df=a._emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2=le._emscripten_bind_btHeightfieldTerrainShape_calculateLocalInertia_2,hf=a._emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0=le._emscripten_bind_btHeightfieldTerrainShape_getLocalScaling_0,pf=a._emscripten_bind_btHeightfieldTerrainShape_getMargin_0=le._emscripten_bind_btHeightfieldTerrainShape_getMargin_0,bf=a._emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1=le._emscripten_bind_btHeightfieldTerrainShape_setLocalScaling_1,mf=a._emscripten_bind_btHeightfieldTerrainShape_setMargin_1=le._emscripten_bind_btHeightfieldTerrainShape_setMargin_1,Af=a._emscripten_bind_btHingeConstraint___destroy___0=le._emscripten_bind_btHingeConstraint___destroy___0,gf=a._emscripten_bind_btHingeConstraint_btHingeConstraint_2=le._emscripten_bind_btHingeConstraint_btHingeConstraint_2,yf=a._emscripten_bind_btHingeConstraint_btHingeConstraint_3=le._emscripten_bind_btHingeConstraint_btHingeConstraint_3,vf=a._emscripten_bind_btHingeConstraint_btHingeConstraint_4=le._emscripten_bind_btHingeConstraint_btHingeConstraint_4,Cf=a._emscripten_bind_btHingeConstraint_btHingeConstraint_5=le._emscripten_bind_btHingeConstraint_btHingeConstraint_5,Ef=a._emscripten_bind_btHingeConstraint_btHingeConstraint_6=le._emscripten_bind_btHingeConstraint_btHingeConstraint_6,Sf=a._emscripten_bind_btHingeConstraint_btHingeConstraint_7=le._emscripten_bind_btHingeConstraint_btHingeConstraint_7,Tf=a._emscripten_bind_btHingeConstraint_enableAngularMotor_3=le._emscripten_bind_btHingeConstraint_enableAngularMotor_3,Rf=a._emscripten_bind_btHingeConstraint_enableFeedback_1=le._emscripten_bind_btHingeConstraint_enableFeedback_1,Mf=a._emscripten_bind_btHingeConstraint_enableMotor_1=le._emscripten_bind_btHingeConstraint_enableMotor_1,Of=a._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btHingeConstraint_getBreakingImpulseThreshold_0,If=a._emscripten_bind_btHingeConstraint_getParam_2=le._emscripten_bind_btHingeConstraint_getParam_2,xf=a._emscripten_bind_btHingeConstraint_setAngularOnly_1=le._emscripten_bind_btHingeConstraint_setAngularOnly_1,Pf=a._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btHingeConstraint_setBreakingImpulseThreshold_1,Df=a._emscripten_bind_btHingeConstraint_setLimit_4=le._emscripten_bind_btHingeConstraint_setLimit_4,wf=a._emscripten_bind_btHingeConstraint_setLimit_5=le._emscripten_bind_btHingeConstraint_setLimit_5,Lf=a._emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1=le._emscripten_bind_btHingeConstraint_setMaxMotorImpulse_1,Ff=a._emscripten_bind_btHingeConstraint_setMotorTarget_2=le._emscripten_bind_btHingeConstraint_setMotorTarget_2,Nf=a._emscripten_bind_btHingeConstraint_setParam_3=le._emscripten_bind_btHingeConstraint_setParam_3,Bf=a._emscripten_bind_btIDebugDraw___destroy___0=le._emscripten_bind_btIDebugDraw___destroy___0,kf=a._emscripten_bind_btIDebugDraw_draw3dText_2=le._emscripten_bind_btIDebugDraw_draw3dText_2,Uf=a._emscripten_bind_btIDebugDraw_drawContactPoint_5=le._emscripten_bind_btIDebugDraw_drawContactPoint_5,Hf=a._emscripten_bind_btIDebugDraw_drawLine_3=le._emscripten_bind_btIDebugDraw_drawLine_3,jf=a._emscripten_bind_btIDebugDraw_getDebugMode_0=le._emscripten_bind_btIDebugDraw_getDebugMode_0,Vf=a._emscripten_bind_btIDebugDraw_reportErrorWarning_1=le._emscripten_bind_btIDebugDraw_reportErrorWarning_1,Gf=a._emscripten_bind_btIDebugDraw_setDebugMode_1=le._emscripten_bind_btIDebugDraw_setDebugMode_1,Wf=a._emscripten_bind_btIndexedMeshArray___destroy___0=le._emscripten_bind_btIndexedMeshArray___destroy___0,Xf=a._emscripten_bind_btIndexedMeshArray_at_1=le._emscripten_bind_btIndexedMeshArray_at_1,zf=a._emscripten_bind_btIndexedMeshArray_size_0=le._emscripten_bind_btIndexedMeshArray_size_0,Yf=a._emscripten_bind_btIndexedMesh___destroy___0=le._emscripten_bind_btIndexedMesh___destroy___0,Qf=a._emscripten_bind_btIndexedMesh_get_m_numTriangles_0=le._emscripten_bind_btIndexedMesh_get_m_numTriangles_0,Kf=a._emscripten_bind_btIndexedMesh_set_m_numTriangles_1=le._emscripten_bind_btIndexedMesh_set_m_numTriangles_1,Zf=a._emscripten_bind_btIntArray___destroy___0=le._emscripten_bind_btIntArray___destroy___0,Jf=a._emscripten_bind_btIntArray_at_1=le._emscripten_bind_btIntArray_at_1,qf=a._emscripten_bind_btIntArray_size_0=le._emscripten_bind_btIntArray_size_0,$f=a._emscripten_bind_btKinematicCharacterController___destroy___0=le._emscripten_bind_btKinematicCharacterController___destroy___0,ed=a._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3=le._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_3,td=a._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4=le._emscripten_bind_btKinematicCharacterController_btKinematicCharacterController_4,id=a._emscripten_bind_btKinematicCharacterController_canJump_0=le._emscripten_bind_btKinematicCharacterController_canJump_0,nd=a._emscripten_bind_btKinematicCharacterController_getGhostObject_0=le._emscripten_bind_btKinematicCharacterController_getGhostObject_0,rd=a._emscripten_bind_btKinematicCharacterController_getGravity_0=le._emscripten_bind_btKinematicCharacterController_getGravity_0,od=a._emscripten_bind_btKinematicCharacterController_getMaxSlope_0=le._emscripten_bind_btKinematicCharacterController_getMaxSlope_0,sd=a._emscripten_bind_btKinematicCharacterController_jump_0=le._emscripten_bind_btKinematicCharacterController_jump_0,ad=a._emscripten_bind_btKinematicCharacterController_onGround_0=le._emscripten_bind_btKinematicCharacterController_onGround_0,cd=a._emscripten_bind_btKinematicCharacterController_playerStep_2=le._emscripten_bind_btKinematicCharacterController_playerStep_2,ld=a._emscripten_bind_btKinematicCharacterController_preStep_1=le._emscripten_bind_btKinematicCharacterController_preStep_1,_d=a._emscripten_bind_btKinematicCharacterController_setFallSpeed_1=le._emscripten_bind_btKinematicCharacterController_setFallSpeed_1,ud=a._emscripten_bind_btKinematicCharacterController_setGravity_1=le._emscripten_bind_btKinematicCharacterController_setGravity_1,fd=a._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1=le._emscripten_bind_btKinematicCharacterController_setJumpSpeed_1,dd=a._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1=le._emscripten_bind_btKinematicCharacterController_setMaxJumpHeight_1,hd=a._emscripten_bind_btKinematicCharacterController_setMaxSlope_1=le._emscripten_bind_btKinematicCharacterController_setMaxSlope_1,pd=a._emscripten_bind_btKinematicCharacterController_setUpAxis_1=le._emscripten_bind_btKinematicCharacterController_setUpAxis_1,bd=a._emscripten_bind_btKinematicCharacterController_setUpInterpolate_1=le._emscripten_bind_btKinematicCharacterController_setUpInterpolate_1,md=a._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1=le._emscripten_bind_btKinematicCharacterController_setUseGhostSweepTest_1,Ad=a._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2=le._emscripten_bind_btKinematicCharacterController_setVelocityForTimeInterval_2,gd=a._emscripten_bind_btKinematicCharacterController_setWalkDirection_1=le._emscripten_bind_btKinematicCharacterController_setWalkDirection_1,yd=a._emscripten_bind_btKinematicCharacterController_updateAction_2=le._emscripten_bind_btKinematicCharacterController_updateAction_2,vd=a._emscripten_bind_btKinematicCharacterController_warp_1=le._emscripten_bind_btKinematicCharacterController_warp_1,Cd=a._emscripten_bind_btManifoldPoint___destroy___0=le._emscripten_bind_btManifoldPoint___destroy___0,Ed=a._emscripten_bind_btManifoldPoint_getAppliedImpulse_0=le._emscripten_bind_btManifoldPoint_getAppliedImpulse_0,Sd=a._emscripten_bind_btManifoldPoint_getDistance_0=le._emscripten_bind_btManifoldPoint_getDistance_0,Td=a._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0=le._emscripten_bind_btManifoldPoint_getPositionWorldOnA_0,Rd=a._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0=le._emscripten_bind_btManifoldPoint_getPositionWorldOnB_0,Md=a._emscripten_bind_btManifoldPoint_get_m_localPointA_0=le._emscripten_bind_btManifoldPoint_get_m_localPointA_0,Od=a._emscripten_bind_btManifoldPoint_get_m_localPointB_0=le._emscripten_bind_btManifoldPoint_get_m_localPointB_0,Id=a._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0=le._emscripten_bind_btManifoldPoint_get_m_normalWorldOnB_0,xd=a._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0=le._emscripten_bind_btManifoldPoint_get_m_positionWorldOnA_0,Pd=a._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0=le._emscripten_bind_btManifoldPoint_get_m_positionWorldOnB_0,Dd=a._emscripten_bind_btManifoldPoint_get_m_userPersistentData_0=le._emscripten_bind_btManifoldPoint_get_m_userPersistentData_0,wd=a._emscripten_bind_btManifoldPoint_set_m_localPointA_1=le._emscripten_bind_btManifoldPoint_set_m_localPointA_1,Ld=a._emscripten_bind_btManifoldPoint_set_m_localPointB_1=le._emscripten_bind_btManifoldPoint_set_m_localPointB_1,Fd=a._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1=le._emscripten_bind_btManifoldPoint_set_m_normalWorldOnB_1,Nd=a._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1=le._emscripten_bind_btManifoldPoint_set_m_positionWorldOnA_1,Bd=a._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1=le._emscripten_bind_btManifoldPoint_set_m_positionWorldOnB_1,kd=a._emscripten_bind_btManifoldPoint_set_m_userPersistentData_1=le._emscripten_bind_btManifoldPoint_set_m_userPersistentData_1,Ud=a._emscripten_bind_btMatrix3x3___destroy___0=le._emscripten_bind_btMatrix3x3___destroy___0,Hd=a._emscripten_bind_btMatrix3x3_getRotation_1=le._emscripten_bind_btMatrix3x3_getRotation_1,jd=a._emscripten_bind_btMatrix3x3_getRow_1=le._emscripten_bind_btMatrix3x3_getRow_1,Vd=a._emscripten_bind_btMatrix3x3_setEulerZYX_3=le._emscripten_bind_btMatrix3x3_setEulerZYX_3,Gd=a._emscripten_bind_btMotionState___destroy___0=le._emscripten_bind_btMotionState___destroy___0,Wd=a._emscripten_bind_btMotionState_getWorldTransform_1=le._emscripten_bind_btMotionState_getWorldTransform_1,Xd=a._emscripten_bind_btMotionState_setWorldTransform_1=le._emscripten_bind_btMotionState_setWorldTransform_1,zd=a._emscripten_bind_btMultiSphereShape___destroy___0=le._emscripten_bind_btMultiSphereShape___destroy___0,Yd=a._emscripten_bind_btMultiSphereShape_btMultiSphereShape_3=le._emscripten_bind_btMultiSphereShape_btMultiSphereShape_3,Qd=a._emscripten_bind_btMultiSphereShape_calculateLocalInertia_2=le._emscripten_bind_btMultiSphereShape_calculateLocalInertia_2,Kd=a._emscripten_bind_btMultiSphereShape_getLocalScaling_0=le._emscripten_bind_btMultiSphereShape_getLocalScaling_0,Zd=a._emscripten_bind_btMultiSphereShape_setLocalScaling_1=le._emscripten_bind_btMultiSphereShape_setLocalScaling_1,Jd=a._emscripten_bind_btOverlappingPairCache___destroy___0=le._emscripten_bind_btOverlappingPairCache___destroy___0,qd=a._emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0=le._emscripten_bind_btOverlappingPairCache_getNumOverlappingPairs_0,$d=a._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1=le._emscripten_bind_btOverlappingPairCache_setInternalGhostPairCallback_1,eh=a._emscripten_bind_btOverlappingPairCallback___destroy___0=le._emscripten_bind_btOverlappingPairCallback___destroy___0,th=a._emscripten_bind_btPairCachingGhostObject___destroy___0=le._emscripten_bind_btPairCachingGhostObject___destroy___0,ih=a._emscripten_bind_btPairCachingGhostObject_activate_0=le._emscripten_bind_btPairCachingGhostObject_activate_0,nh=a._emscripten_bind_btPairCachingGhostObject_activate_1=le._emscripten_bind_btPairCachingGhostObject_activate_1,rh=a._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0=le._emscripten_bind_btPairCachingGhostObject_btPairCachingGhostObject_0,oh=a._emscripten_bind_btPairCachingGhostObject_forceActivationState_1=le._emscripten_bind_btPairCachingGhostObject_forceActivationState_1,sh=a._emscripten_bind_btPairCachingGhostObject_getBroadphaseHandle_0=le._emscripten_bind_btPairCachingGhostObject_getBroadphaseHandle_0,ah=a._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0=le._emscripten_bind_btPairCachingGhostObject_getCollisionFlags_0,ch=a._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0=le._emscripten_bind_btPairCachingGhostObject_getCollisionShape_0,lh=a._emscripten_bind_btPairCachingGhostObject_getFriction_0=le._emscripten_bind_btPairCachingGhostObject_getFriction_0,_h=a._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0=le._emscripten_bind_btPairCachingGhostObject_getNumOverlappingObjects_0,uh=a._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1=le._emscripten_bind_btPairCachingGhostObject_getOverlappingObject_1,fh=a._emscripten_bind_btPairCachingGhostObject_getRestitution_0=le._emscripten_bind_btPairCachingGhostObject_getRestitution_0,dh=a._emscripten_bind_btPairCachingGhostObject_getRollingFriction_0=le._emscripten_bind_btPairCachingGhostObject_getRollingFriction_0,hh=a._emscripten_bind_btPairCachingGhostObject_getUserIndex_0=le._emscripten_bind_btPairCachingGhostObject_getUserIndex_0,ph=a._emscripten_bind_btPairCachingGhostObject_getUserPointer_0=le._emscripten_bind_btPairCachingGhostObject_getUserPointer_0,bh=a._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0=le._emscripten_bind_btPairCachingGhostObject_getWorldTransform_0,mh=a._emscripten_bind_btPairCachingGhostObject_isActive_0=le._emscripten_bind_btPairCachingGhostObject_isActive_0,Ah=a._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0=le._emscripten_bind_btPairCachingGhostObject_isKinematicObject_0,gh=a._emscripten_bind_btPairCachingGhostObject_isStaticObject_0=le._emscripten_bind_btPairCachingGhostObject_isStaticObject_0,yh=a._emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0=le._emscripten_bind_btPairCachingGhostObject_isStaticOrKinematicObject_0,vh=a._emscripten_bind_btPairCachingGhostObject_setActivationState_1=le._emscripten_bind_btPairCachingGhostObject_setActivationState_1,Ch=a._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2=le._emscripten_bind_btPairCachingGhostObject_setAnisotropicFriction_2,Eh=a._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1=le._emscripten_bind_btPairCachingGhostObject_setCcdMotionThreshold_1,Sh=a._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1=le._emscripten_bind_btPairCachingGhostObject_setCcdSweptSphereRadius_1,Th=a._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1=le._emscripten_bind_btPairCachingGhostObject_setCollisionFlags_1,Rh=a._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1=le._emscripten_bind_btPairCachingGhostObject_setCollisionShape_1,Mh=a._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1=le._emscripten_bind_btPairCachingGhostObject_setContactProcessingThreshold_1,Oh=a._emscripten_bind_btPairCachingGhostObject_setFriction_1=le._emscripten_bind_btPairCachingGhostObject_setFriction_1,Ih=a._emscripten_bind_btPairCachingGhostObject_setRestitution_1=le._emscripten_bind_btPairCachingGhostObject_setRestitution_1,xh=a._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1=le._emscripten_bind_btPairCachingGhostObject_setRollingFriction_1,Ph=a._emscripten_bind_btPairCachingGhostObject_setUserIndex_1=le._emscripten_bind_btPairCachingGhostObject_setUserIndex_1,Dh=a._emscripten_bind_btPairCachingGhostObject_setUserPointer_1=le._emscripten_bind_btPairCachingGhostObject_setUserPointer_1,wh=a._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1=le._emscripten_bind_btPairCachingGhostObject_setWorldTransform_1,Lh=a._emscripten_bind_btPersistentManifold___destroy___0=le._emscripten_bind_btPersistentManifold___destroy___0,Fh=a._emscripten_bind_btPersistentManifold_btPersistentManifold_0=le._emscripten_bind_btPersistentManifold_btPersistentManifold_0,Nh=a._emscripten_bind_btPersistentManifold_getBody0_0=le._emscripten_bind_btPersistentManifold_getBody0_0,Bh=a._emscripten_bind_btPersistentManifold_getBody1_0=le._emscripten_bind_btPersistentManifold_getBody1_0,kh=a._emscripten_bind_btPersistentManifold_getContactPoint_1=le._emscripten_bind_btPersistentManifold_getContactPoint_1,Uh=a._emscripten_bind_btPersistentManifold_getNumContacts_0=le._emscripten_bind_btPersistentManifold_getNumContacts_0,Hh=a._emscripten_bind_btPoint2PointConstraint___destroy___0=le._emscripten_bind_btPoint2PointConstraint___destroy___0,jh=a._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2=le._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_2,Vh=a._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4=le._emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_4,Gh=a._emscripten_bind_btPoint2PointConstraint_enableFeedback_1=le._emscripten_bind_btPoint2PointConstraint_enableFeedback_1,Wh=a._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btPoint2PointConstraint_getBreakingImpulseThreshold_0,Xh=a._emscripten_bind_btPoint2PointConstraint_getParam_2=le._emscripten_bind_btPoint2PointConstraint_getParam_2,zh=a._emscripten_bind_btPoint2PointConstraint_getPivotInA_0=le._emscripten_bind_btPoint2PointConstraint_getPivotInA_0,Yh=a._emscripten_bind_btPoint2PointConstraint_getPivotInB_0=le._emscripten_bind_btPoint2PointConstraint_getPivotInB_0,Qh=a._emscripten_bind_btPoint2PointConstraint_get_m_setting_0=le._emscripten_bind_btPoint2PointConstraint_get_m_setting_0,Kh=a._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btPoint2PointConstraint_setBreakingImpulseThreshold_1,Zh=a._emscripten_bind_btPoint2PointConstraint_setParam_3=le._emscripten_bind_btPoint2PointConstraint_setParam_3,Jh=a._emscripten_bind_btPoint2PointConstraint_setPivotA_1=le._emscripten_bind_btPoint2PointConstraint_setPivotA_1,qh=a._emscripten_bind_btPoint2PointConstraint_setPivotB_1=le._emscripten_bind_btPoint2PointConstraint_setPivotB_1,$h=a._emscripten_bind_btPoint2PointConstraint_set_m_setting_1=le._emscripten_bind_btPoint2PointConstraint_set_m_setting_1,ep=a._emscripten_bind_btQuadWord___destroy___0=le._emscripten_bind_btQuadWord___destroy___0,tp=a._emscripten_bind_btQuadWord_setW_1=le._emscripten_bind_btQuadWord_setW_1,ip=a._emscripten_bind_btQuadWord_setX_1=le._emscripten_bind_btQuadWord_setX_1,np=a._emscripten_bind_btQuadWord_setY_1=le._emscripten_bind_btQuadWord_setY_1,rp=a._emscripten_bind_btQuadWord_setZ_1=le._emscripten_bind_btQuadWord_setZ_1,op=a._emscripten_bind_btQuadWord_w_0=le._emscripten_bind_btQuadWord_w_0,sp=a._emscripten_bind_btQuadWord_x_0=le._emscripten_bind_btQuadWord_x_0,ap=a._emscripten_bind_btQuadWord_y_0=le._emscripten_bind_btQuadWord_y_0,cp=a._emscripten_bind_btQuadWord_z_0=le._emscripten_bind_btQuadWord_z_0,lp=a._emscripten_bind_btQuaternion___destroy___0=le._emscripten_bind_btQuaternion___destroy___0,_p=a._emscripten_bind_btQuaternion_angleShortestPath_1=le._emscripten_bind_btQuaternion_angleShortestPath_1,up=a._emscripten_bind_btQuaternion_angle_1=le._emscripten_bind_btQuaternion_angle_1,fp=a._emscripten_bind_btQuaternion_btQuaternion_4=le._emscripten_bind_btQuaternion_btQuaternion_4,dp=a._emscripten_bind_btQuaternion_dot_1=le._emscripten_bind_btQuaternion_dot_1,hp=a._emscripten_bind_btQuaternion_getAngleShortestPath_0=le._emscripten_bind_btQuaternion_getAngleShortestPath_0,pp=a._emscripten_bind_btQuaternion_getAngle_0=le._emscripten_bind_btQuaternion_getAngle_0,bp=a._emscripten_bind_btQuaternion_getAxis_0=le._emscripten_bind_btQuaternion_getAxis_0,mp=a._emscripten_bind_btQuaternion_inverse_0=le._emscripten_bind_btQuaternion_inverse_0,Ap=a._emscripten_bind_btQuaternion_length2_0=le._emscripten_bind_btQuaternion_length2_0,gp=a._emscripten_bind_btQuaternion_length_0=le._emscripten_bind_btQuaternion_length_0,yp=a._emscripten_bind_btQuaternion_normalize_0=le._emscripten_bind_btQuaternion_normalize_0,vp=a._emscripten_bind_btQuaternion_normalized_0=le._emscripten_bind_btQuaternion_normalized_0,Cp=a._emscripten_bind_btQuaternion_op_add_1=le._emscripten_bind_btQuaternion_op_add_1,Ep=a._emscripten_bind_btQuaternion_op_div_1=le._emscripten_bind_btQuaternion_op_div_1,Sp=a._emscripten_bind_btQuaternion_op_mul_1=le._emscripten_bind_btQuaternion_op_mul_1,Tp=a._emscripten_bind_btQuaternion_op_mulq_1=le._emscripten_bind_btQuaternion_op_mulq_1,Rp=a._emscripten_bind_btQuaternion_op_sub_1=le._emscripten_bind_btQuaternion_op_sub_1,Mp=a._emscripten_bind_btQuaternion_setEulerZYX_3=le._emscripten_bind_btQuaternion_setEulerZYX_3,Op=a._emscripten_bind_btQuaternion_setRotation_2=le._emscripten_bind_btQuaternion_setRotation_2,Ip=a._emscripten_bind_btQuaternion_setValue_4=le._emscripten_bind_btQuaternion_setValue_4,xp=a._emscripten_bind_btQuaternion_setW_1=le._emscripten_bind_btQuaternion_setW_1,Pp=a._emscripten_bind_btQuaternion_setX_1=le._emscripten_bind_btQuaternion_setX_1,Dp=a._emscripten_bind_btQuaternion_setY_1=le._emscripten_bind_btQuaternion_setY_1,wp=a._emscripten_bind_btQuaternion_setZ_1=le._emscripten_bind_btQuaternion_setZ_1,Lp=a._emscripten_bind_btQuaternion_w_0=le._emscripten_bind_btQuaternion_w_0,Fp=a._emscripten_bind_btQuaternion_x_0=le._emscripten_bind_btQuaternion_x_0,Np=a._emscripten_bind_btQuaternion_y_0=le._emscripten_bind_btQuaternion_y_0,Bp=a._emscripten_bind_btQuaternion_z_0=le._emscripten_bind_btQuaternion_z_0,kp=a._emscripten_bind_btRaycastVehicle___destroy___0=le._emscripten_bind_btRaycastVehicle___destroy___0,Up=a._emscripten_bind_btRaycastVehicle_addWheel_7=le._emscripten_bind_btRaycastVehicle_addWheel_7,Hp=a._emscripten_bind_btRaycastVehicle_applyEngineForce_2=le._emscripten_bind_btRaycastVehicle_applyEngineForce_2,jp=a._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3=le._emscripten_bind_btRaycastVehicle_btRaycastVehicle_3,Vp=a._emscripten_bind_btRaycastVehicle_getChassisWorldTransform_0=le._emscripten_bind_btRaycastVehicle_getChassisWorldTransform_0,Gp=a._emscripten_bind_btRaycastVehicle_getCurrentSpeedKmHour_0=le._emscripten_bind_btRaycastVehicle_getCurrentSpeedKmHour_0,Wp=a._emscripten_bind_btRaycastVehicle_getForwardAxis_0=le._emscripten_bind_btRaycastVehicle_getForwardAxis_0,Xp=a._emscripten_bind_btRaycastVehicle_getForwardVector_0=le._emscripten_bind_btRaycastVehicle_getForwardVector_0,zp=a._emscripten_bind_btRaycastVehicle_getNumWheels_0=le._emscripten_bind_btRaycastVehicle_getNumWheels_0,Yp=a._emscripten_bind_btRaycastVehicle_getRightAxis_0=le._emscripten_bind_btRaycastVehicle_getRightAxis_0,Qp=a._emscripten_bind_btRaycastVehicle_getRigidBody_0=le._emscripten_bind_btRaycastVehicle_getRigidBody_0,Kp=a._emscripten_bind_btRaycastVehicle_getSteeringValue_1=le._emscripten_bind_btRaycastVehicle_getSteeringValue_1,Zp=a._emscripten_bind_btRaycastVehicle_getUpAxis_0=le._emscripten_bind_btRaycastVehicle_getUpAxis_0,Jp=a._emscripten_bind_btRaycastVehicle_getUserConstraintId_0=le._emscripten_bind_btRaycastVehicle_getUserConstraintId_0,qp=a._emscripten_bind_btRaycastVehicle_getUserConstraintType_0=le._emscripten_bind_btRaycastVehicle_getUserConstraintType_0,$p=a._emscripten_bind_btRaycastVehicle_getWheelInfo_1=le._emscripten_bind_btRaycastVehicle_getWheelInfo_1,eb=a._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1=le._emscripten_bind_btRaycastVehicle_getWheelTransformWS_1,tb=a._emscripten_bind_btRaycastVehicle_rayCast_1=le._emscripten_bind_btRaycastVehicle_rayCast_1,ib=a._emscripten_bind_btRaycastVehicle_resetSuspension_0=le._emscripten_bind_btRaycastVehicle_resetSuspension_0,nb=a._emscripten_bind_btRaycastVehicle_setBrake_2=le._emscripten_bind_btRaycastVehicle_setBrake_2,rb=a._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3=le._emscripten_bind_btRaycastVehicle_setCoordinateSystem_3,ob=a._emscripten_bind_btRaycastVehicle_setPitchControl_1=le._emscripten_bind_btRaycastVehicle_setPitchControl_1,sb=a._emscripten_bind_btRaycastVehicle_setSteeringValue_2=le._emscripten_bind_btRaycastVehicle_setSteeringValue_2,ab=a._emscripten_bind_btRaycastVehicle_setUserConstraintId_1=le._emscripten_bind_btRaycastVehicle_setUserConstraintId_1,cb=a._emscripten_bind_btRaycastVehicle_setUserConstraintType_1=le._emscripten_bind_btRaycastVehicle_setUserConstraintType_1,lb=a._emscripten_bind_btRaycastVehicle_updateAction_2=le._emscripten_bind_btRaycastVehicle_updateAction_2,_b=a._emscripten_bind_btRaycastVehicle_updateFriction_1=le._emscripten_bind_btRaycastVehicle_updateFriction_1,ub=a._emscripten_bind_btRaycastVehicle_updateSuspension_1=le._emscripten_bind_btRaycastVehicle_updateSuspension_1,fb=a._emscripten_bind_btRaycastVehicle_updateVehicle_1=le._emscripten_bind_btRaycastVehicle_updateVehicle_1,db=a._emscripten_bind_btRaycastVehicle_updateWheelTransform_2=le._emscripten_bind_btRaycastVehicle_updateWheelTransform_2,hb=a._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_1=le._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_1,pb=a._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_2=le._emscripten_bind_btRaycastVehicle_updateWheelTransformsWS_2,bb=a._emscripten_bind_btRigidBodyConstructionInfo___destroy___0=le._emscripten_bind_btRigidBodyConstructionInfo___destroy___0,mb=a._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3=le._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_3,Ab=a._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4=le._emscripten_bind_btRigidBodyConstructionInfo_btRigidBodyConstructionInfo_4,gb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingFactor_0,yb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalAngularDampingThresholdSqr_0,vb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDampingFactor_0,Cb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalDamping_0,Eb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_additionalLinearDampingThresholdSqr_0,Sb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularDamping_0,Tb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_angularSleepingThreshold_0,Rb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_friction_0,Mb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearDamping_0,Ob=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_linearSleepingThreshold_0,Ib=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_restitution_0,xb=a._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0=le._emscripten_bind_btRigidBodyConstructionInfo_get_m_rollingFriction_0,Pb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingFactor_1,Db=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalAngularDampingThresholdSqr_1,wb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDampingFactor_1,Lb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalDamping_1,Fb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_additionalLinearDampingThresholdSqr_1,Nb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularDamping_1,Bb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_angularSleepingThreshold_1,kb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_friction_1,Ub=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearDamping_1,Hb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_linearSleepingThreshold_1,jb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_restitution_1,Vb=a._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1=le._emscripten_bind_btRigidBodyConstructionInfo_set_m_rollingFriction_1,Gb=a._emscripten_bind_btRigidBody___destroy___0=le._emscripten_bind_btRigidBody___destroy___0,Wb=a._emscripten_bind_btRigidBody_activate_0=le._emscripten_bind_btRigidBody_activate_0,Xb=a._emscripten_bind_btRigidBody_activate_1=le._emscripten_bind_btRigidBody_activate_1,zb=a._emscripten_bind_btRigidBody_applyCentralForce_1=le._emscripten_bind_btRigidBody_applyCentralForce_1,Yb=a._emscripten_bind_btRigidBody_applyCentralImpulse_1=le._emscripten_bind_btRigidBody_applyCentralImpulse_1,Qb=a._emscripten_bind_btRigidBody_applyCentralLocalForce_1=le._emscripten_bind_btRigidBody_applyCentralLocalForce_1,Kb=a._emscripten_bind_btRigidBody_applyForce_2=le._emscripten_bind_btRigidBody_applyForce_2,Zb=a._emscripten_bind_btRigidBody_applyGravity_0=le._emscripten_bind_btRigidBody_applyGravity_0,Jb=a._emscripten_bind_btRigidBody_applyImpulse_2=le._emscripten_bind_btRigidBody_applyImpulse_2,qb=a._emscripten_bind_btRigidBody_applyLocalTorque_1=le._emscripten_bind_btRigidBody_applyLocalTorque_1,$b=a._emscripten_bind_btRigidBody_applyTorqueImpulse_1=le._emscripten_bind_btRigidBody_applyTorqueImpulse_1,em=a._emscripten_bind_btRigidBody_applyTorque_1=le._emscripten_bind_btRigidBody_applyTorque_1,tm=a._emscripten_bind_btRigidBody_btRigidBody_1=le._emscripten_bind_btRigidBody_btRigidBody_1,im=a._emscripten_bind_btRigidBody_forceActivationState_1=le._emscripten_bind_btRigidBody_forceActivationState_1,nm=a._emscripten_bind_btRigidBody_getAabb_2=le._emscripten_bind_btRigidBody_getAabb_2,rm=a._emscripten_bind_btRigidBody_getAngularDamping_0=le._emscripten_bind_btRigidBody_getAngularDamping_0,om=a._emscripten_bind_btRigidBody_getAngularFactor_0=le._emscripten_bind_btRigidBody_getAngularFactor_0,sm=a._emscripten_bind_btRigidBody_getAngularVelocity_0=le._emscripten_bind_btRigidBody_getAngularVelocity_0,am=a._emscripten_bind_btRigidBody_getBroadphaseHandle_0=le._emscripten_bind_btRigidBody_getBroadphaseHandle_0,cm=a._emscripten_bind_btRigidBody_getBroadphaseProxy_0=le._emscripten_bind_btRigidBody_getBroadphaseProxy_0,lm=a._emscripten_bind_btRigidBody_getCenterOfMassTransform_0=le._emscripten_bind_btRigidBody_getCenterOfMassTransform_0,_m=a._emscripten_bind_btRigidBody_getCollisionFlags_0=le._emscripten_bind_btRigidBody_getCollisionFlags_0,um=a._emscripten_bind_btRigidBody_getCollisionShape_0=le._emscripten_bind_btRigidBody_getCollisionShape_0,fm=a._emscripten_bind_btRigidBody_getFriction_0=le._emscripten_bind_btRigidBody_getFriction_0,dm=a._emscripten_bind_btRigidBody_getGravity_0=le._emscripten_bind_btRigidBody_getGravity_0,hm=a._emscripten_bind_btRigidBody_getLinearDamping_0=le._emscripten_bind_btRigidBody_getLinearDamping_0,pm=a._emscripten_bind_btRigidBody_getLinearFactor_0=le._emscripten_bind_btRigidBody_getLinearFactor_0,bm=a._emscripten_bind_btRigidBody_getLinearVelocity_0=le._emscripten_bind_btRigidBody_getLinearVelocity_0,mm=a._emscripten_bind_btRigidBody_getMotionState_0=le._emscripten_bind_btRigidBody_getMotionState_0,Am=a._emscripten_bind_btRigidBody_getRestitution_0=le._emscripten_bind_btRigidBody_getRestitution_0,gm=a._emscripten_bind_btRigidBody_getRollingFriction_0=le._emscripten_bind_btRigidBody_getRollingFriction_0,ym=a._emscripten_bind_btRigidBody_getUserIndex_0=le._emscripten_bind_btRigidBody_getUserIndex_0,vm=a._emscripten_bind_btRigidBody_getUserPointer_0=le._emscripten_bind_btRigidBody_getUserPointer_0,Cm=a._emscripten_bind_btRigidBody_getWorldTransform_0=le._emscripten_bind_btRigidBody_getWorldTransform_0,Em=a._emscripten_bind_btRigidBody_isActive_0=le._emscripten_bind_btRigidBody_isActive_0,Sm=a._emscripten_bind_btRigidBody_isKinematicObject_0=le._emscripten_bind_btRigidBody_isKinematicObject_0,Tm=a._emscripten_bind_btRigidBody_isStaticObject_0=le._emscripten_bind_btRigidBody_isStaticObject_0,Rm=a._emscripten_bind_btRigidBody_isStaticOrKinematicObject_0=le._emscripten_bind_btRigidBody_isStaticOrKinematicObject_0,Mm=a._emscripten_bind_btRigidBody_setActivationState_1=le._emscripten_bind_btRigidBody_setActivationState_1,Om=a._emscripten_bind_btRigidBody_setAngularFactor_1=le._emscripten_bind_btRigidBody_setAngularFactor_1,Im=a._emscripten_bind_btRigidBody_setAngularVelocity_1=le._emscripten_bind_btRigidBody_setAngularVelocity_1,xm=a._emscripten_bind_btRigidBody_setAnisotropicFriction_2=le._emscripten_bind_btRigidBody_setAnisotropicFriction_2,Pm=a._emscripten_bind_btRigidBody_setCcdMotionThreshold_1=le._emscripten_bind_btRigidBody_setCcdMotionThreshold_1,Dm=a._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1=le._emscripten_bind_btRigidBody_setCcdSweptSphereRadius_1,wm=a._emscripten_bind_btRigidBody_setCenterOfMassTransform_1=le._emscripten_bind_btRigidBody_setCenterOfMassTransform_1,Lm=a._emscripten_bind_btRigidBody_setCollisionFlags_1=le._emscripten_bind_btRigidBody_setCollisionFlags_1,Fm=a._emscripten_bind_btRigidBody_setCollisionShape_1=le._emscripten_bind_btRigidBody_setCollisionShape_1,Nm=a._emscripten_bind_btRigidBody_setContactProcessingThreshold_1=le._emscripten_bind_btRigidBody_setContactProcessingThreshold_1,Bm=a._emscripten_bind_btRigidBody_setDamping_2=le._emscripten_bind_btRigidBody_setDamping_2,km=a._emscripten_bind_btRigidBody_setFriction_1=le._emscripten_bind_btRigidBody_setFriction_1,Um=a._emscripten_bind_btRigidBody_setGravity_1=le._emscripten_bind_btRigidBody_setGravity_1,Hm=a._emscripten_bind_btRigidBody_setLinearFactor_1=le._emscripten_bind_btRigidBody_setLinearFactor_1,jm=a._emscripten_bind_btRigidBody_setLinearVelocity_1=le._emscripten_bind_btRigidBody_setLinearVelocity_1,Vm=a._emscripten_bind_btRigidBody_setMassProps_2=le._emscripten_bind_btRigidBody_setMassProps_2,Gm=a._emscripten_bind_btRigidBody_setMotionState_1=le._emscripten_bind_btRigidBody_setMotionState_1,Wm=a._emscripten_bind_btRigidBody_setRestitution_1=le._emscripten_bind_btRigidBody_setRestitution_1,Xm=a._emscripten_bind_btRigidBody_setRollingFriction_1=le._emscripten_bind_btRigidBody_setRollingFriction_1,zm=a._emscripten_bind_btRigidBody_setSleepingThresholds_2=le._emscripten_bind_btRigidBody_setSleepingThresholds_2,Ym=a._emscripten_bind_btRigidBody_setUserIndex_1=le._emscripten_bind_btRigidBody_setUserIndex_1,Qm=a._emscripten_bind_btRigidBody_setUserPointer_1=le._emscripten_bind_btRigidBody_setUserPointer_1,Km=a._emscripten_bind_btRigidBody_setWorldTransform_1=le._emscripten_bind_btRigidBody_setWorldTransform_1,Zm=a._emscripten_bind_btRigidBody_upcast_1=le._emscripten_bind_btRigidBody_upcast_1,Jm=a._emscripten_bind_btRigidBody_updateInertiaTensor_0=le._emscripten_bind_btRigidBody_updateInertiaTensor_0,qm=a._emscripten_bind_btScalarArray___destroy___0=le._emscripten_bind_btScalarArray___destroy___0,$m=a._emscripten_bind_btScalarArray_at_1=le._emscripten_bind_btScalarArray_at_1,eA=a._emscripten_bind_btScalarArray_size_0=le._emscripten_bind_btScalarArray_size_0,tA=a._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0=le._emscripten_bind_btSequentialImpulseConstraintSolver___destroy___0,iA=a._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0=le._emscripten_bind_btSequentialImpulseConstraintSolver_btSequentialImpulseConstraintSolver_0,nA=a._emscripten_bind_btShapeHull___destroy___0=le._emscripten_bind_btShapeHull___destroy___0,rA=a._emscripten_bind_btShapeHull_btShapeHull_1=le._emscripten_bind_btShapeHull_btShapeHull_1,oA=a._emscripten_bind_btShapeHull_buildHull_1=le._emscripten_bind_btShapeHull_buildHull_1,sA=a._emscripten_bind_btShapeHull_getVertexPointer_0=le._emscripten_bind_btShapeHull_getVertexPointer_0,aA=a._emscripten_bind_btShapeHull_numVertices_0=le._emscripten_bind_btShapeHull_numVertices_0,cA=a._emscripten_bind_btSliderConstraint___destroy___0=le._emscripten_bind_btSliderConstraint___destroy___0,lA=a._emscripten_bind_btSliderConstraint_btSliderConstraint_3=le._emscripten_bind_btSliderConstraint_btSliderConstraint_3,_A=a._emscripten_bind_btSliderConstraint_btSliderConstraint_5=le._emscripten_bind_btSliderConstraint_btSliderConstraint_5,uA=a._emscripten_bind_btSliderConstraint_enableFeedback_1=le._emscripten_bind_btSliderConstraint_enableFeedback_1,fA=a._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btSliderConstraint_getBreakingImpulseThreshold_0,dA=a._emscripten_bind_btSliderConstraint_getParam_2=le._emscripten_bind_btSliderConstraint_getParam_2,hA=a._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btSliderConstraint_setBreakingImpulseThreshold_1,pA=a._emscripten_bind_btSliderConstraint_setLowerAngLimit_1=le._emscripten_bind_btSliderConstraint_setLowerAngLimit_1,bA=a._emscripten_bind_btSliderConstraint_setLowerLinLimit_1=le._emscripten_bind_btSliderConstraint_setLowerLinLimit_1,mA=a._emscripten_bind_btSliderConstraint_setParam_3=le._emscripten_bind_btSliderConstraint_setParam_3,AA=a._emscripten_bind_btSliderConstraint_setUpperAngLimit_1=le._emscripten_bind_btSliderConstraint_setUpperAngLimit_1,gA=a._emscripten_bind_btSliderConstraint_setUpperLinLimit_1=le._emscripten_bind_btSliderConstraint_setUpperLinLimit_1,yA=a._emscripten_bind_btSoftBodyArray___destroy___0=le._emscripten_bind_btSoftBodyArray___destroy___0,vA=a._emscripten_bind_btSoftBodyArray_at_1=le._emscripten_bind_btSoftBodyArray_at_1,CA=a._emscripten_bind_btSoftBodyArray_size_0=le._emscripten_bind_btSoftBodyArray_size_0,EA=a._emscripten_bind_btSoftBodyHelpers_CreateEllipsoid_4=le._emscripten_bind_btSoftBodyHelpers_CreateEllipsoid_4,SA=a._emscripten_bind_btSoftBodyHelpers_CreateFromConvexHull_4=le._emscripten_bind_btSoftBodyHelpers_CreateFromConvexHull_4,TA=a._emscripten_bind_btSoftBodyHelpers_CreateFromTriMesh_5=le._emscripten_bind_btSoftBodyHelpers_CreateFromTriMesh_5,RA=a._emscripten_bind_btSoftBodyHelpers_CreatePatchUV_10=le._emscripten_bind_btSoftBodyHelpers_CreatePatchUV_10,MA=a._emscripten_bind_btSoftBodyHelpers_CreatePatch_9=le._emscripten_bind_btSoftBodyHelpers_CreatePatch_9,OA=a._emscripten_bind_btSoftBodyHelpers_CreateRope_5=le._emscripten_bind_btSoftBodyHelpers_CreateRope_5,IA=a._emscripten_bind_btSoftBodyHelpers___destroy___0=le._emscripten_bind_btSoftBodyHelpers___destroy___0,xA=a._emscripten_bind_btSoftBodyHelpers_btSoftBodyHelpers_0=le._emscripten_bind_btSoftBodyHelpers_btSoftBodyHelpers_0,PA=a._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration___destroy___0=le._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration___destroy___0,DA=a._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_0=le._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_0,wA=a._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_1=le._emscripten_bind_btSoftBodyRigidBodyCollisionConfiguration_btSoftBodyRigidBodyCollisionConfiguration_1,LA=a._emscripten_bind_btSoftBodySolver___destroy___0=le._emscripten_bind_btSoftBodySolver___destroy___0,FA=a._emscripten_bind_btSoftBodyWorldInfo___destroy___0=le._emscripten_bind_btSoftBodyWorldInfo___destroy___0,NA=a._emscripten_bind_btSoftBodyWorldInfo_btSoftBodyWorldInfo_0=le._emscripten_bind_btSoftBodyWorldInfo_btSoftBodyWorldInfo_0,BA=a._emscripten_bind_btSoftBodyWorldInfo_get_air_density_0=le._emscripten_bind_btSoftBodyWorldInfo_get_air_density_0,kA=a._emscripten_bind_btSoftBodyWorldInfo_get_m_broadphase_0=le._emscripten_bind_btSoftBodyWorldInfo_get_m_broadphase_0,UA=a._emscripten_bind_btSoftBodyWorldInfo_get_m_dispatcher_0=le._emscripten_bind_btSoftBodyWorldInfo_get_m_dispatcher_0,HA=a._emscripten_bind_btSoftBodyWorldInfo_get_m_gravity_0=le._emscripten_bind_btSoftBodyWorldInfo_get_m_gravity_0,jA=a._emscripten_bind_btSoftBodyWorldInfo_get_m_maxDisplacement_0=le._emscripten_bind_btSoftBodyWorldInfo_get_m_maxDisplacement_0,VA=a._emscripten_bind_btSoftBodyWorldInfo_get_water_density_0=le._emscripten_bind_btSoftBodyWorldInfo_get_water_density_0,GA=a._emscripten_bind_btSoftBodyWorldInfo_get_water_normal_0=le._emscripten_bind_btSoftBodyWorldInfo_get_water_normal_0,WA=a._emscripten_bind_btSoftBodyWorldInfo_get_water_offset_0=le._emscripten_bind_btSoftBodyWorldInfo_get_water_offset_0,XA=a._emscripten_bind_btSoftBodyWorldInfo_set_air_density_1=le._emscripten_bind_btSoftBodyWorldInfo_set_air_density_1,zA=a._emscripten_bind_btSoftBodyWorldInfo_set_m_broadphase_1=le._emscripten_bind_btSoftBodyWorldInfo_set_m_broadphase_1,YA=a._emscripten_bind_btSoftBodyWorldInfo_set_m_dispatcher_1=le._emscripten_bind_btSoftBodyWorldInfo_set_m_dispatcher_1,QA=a._emscripten_bind_btSoftBodyWorldInfo_set_m_gravity_1=le._emscripten_bind_btSoftBodyWorldInfo_set_m_gravity_1,KA=a._emscripten_bind_btSoftBodyWorldInfo_set_m_maxDisplacement_1=le._emscripten_bind_btSoftBodyWorldInfo_set_m_maxDisplacement_1,ZA=a._emscripten_bind_btSoftBodyWorldInfo_set_water_density_1=le._emscripten_bind_btSoftBodyWorldInfo_set_water_density_1,JA=a._emscripten_bind_btSoftBodyWorldInfo_set_water_normal_1=le._emscripten_bind_btSoftBodyWorldInfo_set_water_normal_1,qA=a._emscripten_bind_btSoftBodyWorldInfo_set_water_offset_1=le._emscripten_bind_btSoftBodyWorldInfo_set_water_offset_1,$A=a._emscripten_bind_btSoftBody___destroy___0=le._emscripten_bind_btSoftBody___destroy___0,eg=a._emscripten_bind_btSoftBody_activate_0=le._emscripten_bind_btSoftBody_activate_0,tg=a._emscripten_bind_btSoftBody_activate_1=le._emscripten_bind_btSoftBody_activate_1,ig=a._emscripten_bind_btSoftBody_addAeroForceToNode_2=le._emscripten_bind_btSoftBody_addAeroForceToNode_2,ng=a._emscripten_bind_btSoftBody_addForce_1=le._emscripten_bind_btSoftBody_addForce_1,rg=a._emscripten_bind_btSoftBody_addForce_2=le._emscripten_bind_btSoftBody_addForce_2,og=a._emscripten_bind_btSoftBody_appendAnchor_4=le._emscripten_bind_btSoftBody_appendAnchor_4,sg=a._emscripten_bind_btSoftBody_appendFace_4=le._emscripten_bind_btSoftBody_appendFace_4,ag=a._emscripten_bind_btSoftBody_appendLink_4=le._emscripten_bind_btSoftBody_appendLink_4,cg=a._emscripten_bind_btSoftBody_appendMaterial_0=le._emscripten_bind_btSoftBody_appendMaterial_0,lg=a._emscripten_bind_btSoftBody_appendNode_2=le._emscripten_bind_btSoftBody_appendNode_2,_g=a._emscripten_bind_btSoftBody_appendTetra_5=le._emscripten_bind_btSoftBody_appendTetra_5,ug=a._emscripten_bind_btSoftBody_btSoftBody_4=le._emscripten_bind_btSoftBody_btSoftBody_4,fg=a._emscripten_bind_btSoftBody_checkFace_3=le._emscripten_bind_btSoftBody_checkFace_3,dg=a._emscripten_bind_btSoftBody_checkLink_2=le._emscripten_bind_btSoftBody_checkLink_2,hg=a._emscripten_bind_btSoftBody_forceActivationState_1=le._emscripten_bind_btSoftBody_forceActivationState_1,pg=a._emscripten_bind_btSoftBody_generateBendingConstraints_2=le._emscripten_bind_btSoftBody_generateBendingConstraints_2,bg=a._emscripten_bind_btSoftBody_generateClusters_1=le._emscripten_bind_btSoftBody_generateClusters_1,mg=a._emscripten_bind_btSoftBody_generateClusters_2=le._emscripten_bind_btSoftBody_generateClusters_2,Ag=a._emscripten_bind_btSoftBody_getBroadphaseHandle_0=le._emscripten_bind_btSoftBody_getBroadphaseHandle_0,gg=a._emscripten_bind_btSoftBody_getCollisionFlags_0=le._emscripten_bind_btSoftBody_getCollisionFlags_0,yg=a._emscripten_bind_btSoftBody_getCollisionShape_0=le._emscripten_bind_btSoftBody_getCollisionShape_0,vg=a._emscripten_bind_btSoftBody_getFriction_0=le._emscripten_bind_btSoftBody_getFriction_0,Cg=a._emscripten_bind_btSoftBody_getRestitution_0=le._emscripten_bind_btSoftBody_getRestitution_0,Eg=a._emscripten_bind_btSoftBody_getRollingFriction_0=le._emscripten_bind_btSoftBody_getRollingFriction_0,Sg=a._emscripten_bind_btSoftBody_getTotalMass_0=le._emscripten_bind_btSoftBody_getTotalMass_0,Tg=a._emscripten_bind_btSoftBody_getUserIndex_0=le._emscripten_bind_btSoftBody_getUserIndex_0,Rg=a._emscripten_bind_btSoftBody_getUserPointer_0=le._emscripten_bind_btSoftBody_getUserPointer_0,Mg=a._emscripten_bind_btSoftBody_getWorldTransform_0=le._emscripten_bind_btSoftBody_getWorldTransform_0,Og=a._emscripten_bind_btSoftBody_get_m_anchors_0=le._emscripten_bind_btSoftBody_get_m_anchors_0,Ig=a._emscripten_bind_btSoftBody_get_m_cfg_0=le._emscripten_bind_btSoftBody_get_m_cfg_0,xg=a._emscripten_bind_btSoftBody_get_m_materials_0=le._emscripten_bind_btSoftBody_get_m_materials_0,Pg=a._emscripten_bind_btSoftBody_get_m_nodes_0=le._emscripten_bind_btSoftBody_get_m_nodes_0,Dg=a._emscripten_bind_btSoftBody_isActive_0=le._emscripten_bind_btSoftBody_isActive_0,wg=a._emscripten_bind_btSoftBody_isKinematicObject_0=le._emscripten_bind_btSoftBody_isKinematicObject_0,Lg=a._emscripten_bind_btSoftBody_isStaticObject_0=le._emscripten_bind_btSoftBody_isStaticObject_0,Fg=a._emscripten_bind_btSoftBody_isStaticOrKinematicObject_0=le._emscripten_bind_btSoftBody_isStaticOrKinematicObject_0,Ng=a._emscripten_bind_btSoftBody_rotate_1=le._emscripten_bind_btSoftBody_rotate_1,Bg=a._emscripten_bind_btSoftBody_scale_1=le._emscripten_bind_btSoftBody_scale_1,kg=a._emscripten_bind_btSoftBody_setActivationState_1=le._emscripten_bind_btSoftBody_setActivationState_1,Ug=a._emscripten_bind_btSoftBody_setAnisotropicFriction_2=le._emscripten_bind_btSoftBody_setAnisotropicFriction_2,Hg=a._emscripten_bind_btSoftBody_setCcdMotionThreshold_1=le._emscripten_bind_btSoftBody_setCcdMotionThreshold_1,jg=a._emscripten_bind_btSoftBody_setCcdSweptSphereRadius_1=le._emscripten_bind_btSoftBody_setCcdSweptSphereRadius_1,Vg=a._emscripten_bind_btSoftBody_setCollisionFlags_1=le._emscripten_bind_btSoftBody_setCollisionFlags_1,Gg=a._emscripten_bind_btSoftBody_setCollisionShape_1=le._emscripten_bind_btSoftBody_setCollisionShape_1,Wg=a._emscripten_bind_btSoftBody_setContactProcessingThreshold_1=le._emscripten_bind_btSoftBody_setContactProcessingThreshold_1,Xg=a._emscripten_bind_btSoftBody_setFriction_1=le._emscripten_bind_btSoftBody_setFriction_1,zg=a._emscripten_bind_btSoftBody_setMass_2=le._emscripten_bind_btSoftBody_setMass_2,Yg=a._emscripten_bind_btSoftBody_setRestitution_1=le._emscripten_bind_btSoftBody_setRestitution_1,Qg=a._emscripten_bind_btSoftBody_setRollingFriction_1=le._emscripten_bind_btSoftBody_setRollingFriction_1,Kg=a._emscripten_bind_btSoftBody_setTotalMass_2=le._emscripten_bind_btSoftBody_setTotalMass_2,Zg=a._emscripten_bind_btSoftBody_setUserIndex_1=le._emscripten_bind_btSoftBody_setUserIndex_1,Jg=a._emscripten_bind_btSoftBody_setUserPointer_1=le._emscripten_bind_btSoftBody_setUserPointer_1,qg=a._emscripten_bind_btSoftBody_setWorldTransform_1=le._emscripten_bind_btSoftBody_setWorldTransform_1,$g=a._emscripten_bind_btSoftBody_set_m_anchors_1=le._emscripten_bind_btSoftBody_set_m_anchors_1,ey=a._emscripten_bind_btSoftBody_set_m_cfg_1=le._emscripten_bind_btSoftBody_set_m_cfg_1,ty=a._emscripten_bind_btSoftBody_set_m_materials_1=le._emscripten_bind_btSoftBody_set_m_materials_1,iy=a._emscripten_bind_btSoftBody_set_m_nodes_1=le._emscripten_bind_btSoftBody_set_m_nodes_1,ny=a._emscripten_bind_btSoftBody_transform_1=le._emscripten_bind_btSoftBody_transform_1,ry=a._emscripten_bind_btSoftBody_translate_1=le._emscripten_bind_btSoftBody_translate_1,oy=a._emscripten_bind_btSoftBody_upcast_1=le._emscripten_bind_btSoftBody_upcast_1,sy=a._emscripten_bind_btSoftRigidDynamicsWorld___destroy___0=le._emscripten_bind_btSoftRigidDynamicsWorld___destroy___0,ay=a._emscripten_bind_btSoftRigidDynamicsWorld_addAction_1=le._emscripten_bind_btSoftRigidDynamicsWorld_addAction_1,cy=a._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_1=le._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_1,ly=a._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_2=le._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_2,_y=a._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_3=le._emscripten_bind_btSoftRigidDynamicsWorld_addCollisionObject_3,uy=a._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_1=le._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_1,fy=a._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_2=le._emscripten_bind_btSoftRigidDynamicsWorld_addConstraint_2,dy=a._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_1=le._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_1,hy=a._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_3=le._emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_3,py=a._emscripten_bind_btSoftRigidDynamicsWorld_addSoftBody_3=le._emscripten_bind_btSoftRigidDynamicsWorld_addSoftBody_3,by=a._emscripten_bind_btSoftRigidDynamicsWorld_btSoftRigidDynamicsWorld_5=le._emscripten_bind_btSoftRigidDynamicsWorld_btSoftRigidDynamicsWorld_5,my=a._emscripten_bind_btSoftRigidDynamicsWorld_contactPairTest_3=le._emscripten_bind_btSoftRigidDynamicsWorld_contactPairTest_3,Ay=a._emscripten_bind_btSoftRigidDynamicsWorld_contactTest_2=le._emscripten_bind_btSoftRigidDynamicsWorld_contactTest_2,gy=a._emscripten_bind_btSoftRigidDynamicsWorld_convexSweepTest_5=le._emscripten_bind_btSoftRigidDynamicsWorld_convexSweepTest_5,yy=a._emscripten_bind_btSoftRigidDynamicsWorld_debugDrawObject_3=le._emscripten_bind_btSoftRigidDynamicsWorld_debugDrawObject_3,vy=a._emscripten_bind_btSoftRigidDynamicsWorld_debugDrawWorld_0=le._emscripten_bind_btSoftRigidDynamicsWorld_debugDrawWorld_0,Cy=a._emscripten_bind_btSoftRigidDynamicsWorld_getBroadphase_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getBroadphase_0,Ey=a._emscripten_bind_btSoftRigidDynamicsWorld_getDebugDrawer_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getDebugDrawer_0,Sy=a._emscripten_bind_btSoftRigidDynamicsWorld_getDispatchInfo_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getDispatchInfo_0,Ty=a._emscripten_bind_btSoftRigidDynamicsWorld_getDispatcher_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getDispatcher_0,Ry=a._emscripten_bind_btSoftRigidDynamicsWorld_getGravity_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getGravity_0,My=a._emscripten_bind_btSoftRigidDynamicsWorld_getPairCache_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getPairCache_0,Oy=a._emscripten_bind_btSoftRigidDynamicsWorld_getSoftBodyArray_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getSoftBodyArray_0,Iy=a._emscripten_bind_btSoftRigidDynamicsWorld_getSolverInfo_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getSolverInfo_0,xy=a._emscripten_bind_btSoftRigidDynamicsWorld_getWorldInfo_0=le._emscripten_bind_btSoftRigidDynamicsWorld_getWorldInfo_0,Py=a._emscripten_bind_btSoftRigidDynamicsWorld_rayTest_3=le._emscripten_bind_btSoftRigidDynamicsWorld_rayTest_3,Dy=a._emscripten_bind_btSoftRigidDynamicsWorld_removeAction_1=le._emscripten_bind_btSoftRigidDynamicsWorld_removeAction_1,wy=a._emscripten_bind_btSoftRigidDynamicsWorld_removeCollisionObject_1=le._emscripten_bind_btSoftRigidDynamicsWorld_removeCollisionObject_1,Ly=a._emscripten_bind_btSoftRigidDynamicsWorld_removeConstraint_1=le._emscripten_bind_btSoftRigidDynamicsWorld_removeConstraint_1,Fy=a._emscripten_bind_btSoftRigidDynamicsWorld_removeRigidBody_1=le._emscripten_bind_btSoftRigidDynamicsWorld_removeRigidBody_1,Ny=a._emscripten_bind_btSoftRigidDynamicsWorld_removeSoftBody_1=le._emscripten_bind_btSoftRigidDynamicsWorld_removeSoftBody_1,By=a._emscripten_bind_btSoftRigidDynamicsWorld_setContactAddedCallback_1=le._emscripten_bind_btSoftRigidDynamicsWorld_setContactAddedCallback_1,ky=a._emscripten_bind_btSoftRigidDynamicsWorld_setContactDestroyedCallback_1=le._emscripten_bind_btSoftRigidDynamicsWorld_setContactDestroyedCallback_1,Uy=a._emscripten_bind_btSoftRigidDynamicsWorld_setContactProcessedCallback_1=le._emscripten_bind_btSoftRigidDynamicsWorld_setContactProcessedCallback_1,Hy=a._emscripten_bind_btSoftRigidDynamicsWorld_setDebugDrawer_1=le._emscripten_bind_btSoftRigidDynamicsWorld_setDebugDrawer_1,jy=a._emscripten_bind_btSoftRigidDynamicsWorld_setGravity_1=le._emscripten_bind_btSoftRigidDynamicsWorld_setGravity_1,Vy=a._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_1=le._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_1,Gy=a._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_2=le._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_2,Wy=a._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_3=le._emscripten_bind_btSoftRigidDynamicsWorld_stepSimulation_3,Xy=a._emscripten_bind_btSoftRigidDynamicsWorld_updateSingleAabb_1=le._emscripten_bind_btSoftRigidDynamicsWorld_updateSingleAabb_1,zy=a._emscripten_bind_btSphereShape___destroy___0=le._emscripten_bind_btSphereShape___destroy___0,Yy=a._emscripten_bind_btSphereShape_btSphereShape_1=le._emscripten_bind_btSphereShape_btSphereShape_1,Qy=a._emscripten_bind_btSphereShape_calculateLocalInertia_2=le._emscripten_bind_btSphereShape_calculateLocalInertia_2,Ky=a._emscripten_bind_btSphereShape_getLocalScaling_0=le._emscripten_bind_btSphereShape_getLocalScaling_0,Zy=a._emscripten_bind_btSphereShape_getMargin_0=le._emscripten_bind_btSphereShape_getMargin_0,Jy=a._emscripten_bind_btSphereShape_setLocalScaling_1=le._emscripten_bind_btSphereShape_setLocalScaling_1,qy=a._emscripten_bind_btSphereShape_setMargin_1=le._emscripten_bind_btSphereShape_setMargin_1,$y=a._emscripten_bind_btStaticPlaneShape___destroy___0=le._emscripten_bind_btStaticPlaneShape___destroy___0,ev=a._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2=le._emscripten_bind_btStaticPlaneShape_btStaticPlaneShape_2,tv=a._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2=le._emscripten_bind_btStaticPlaneShape_calculateLocalInertia_2,iv=a._emscripten_bind_btStaticPlaneShape_getLocalScaling_0=le._emscripten_bind_btStaticPlaneShape_getLocalScaling_0,nv=a._emscripten_bind_btStaticPlaneShape_setLocalScaling_1=le._emscripten_bind_btStaticPlaneShape_setLocalScaling_1,rv=a._emscripten_bind_btStridingMeshInterface___destroy___0=le._emscripten_bind_btStridingMeshInterface___destroy___0,ov=a._emscripten_bind_btStridingMeshInterface_setScaling_1=le._emscripten_bind_btStridingMeshInterface_setScaling_1,sv=a._emscripten_bind_btTransform___destroy___0=le._emscripten_bind_btTransform___destroy___0,av=a._emscripten_bind_btTransform_btTransform_0=le._emscripten_bind_btTransform_btTransform_0,cv=a._emscripten_bind_btTransform_btTransform_2=le._emscripten_bind_btTransform_btTransform_2,lv=a._emscripten_bind_btTransform_getBasis_0=le._emscripten_bind_btTransform_getBasis_0,_v=a._emscripten_bind_btTransform_getOrigin_0=le._emscripten_bind_btTransform_getOrigin_0,uv=a._emscripten_bind_btTransform_getRotation_0=le._emscripten_bind_btTransform_getRotation_0,fv=a._emscripten_bind_btTransform_inverse_0=le._emscripten_bind_btTransform_inverse_0,dv=a._emscripten_bind_btTransform_op_mul_1=le._emscripten_bind_btTransform_op_mul_1,hv=a._emscripten_bind_btTransform_setFromOpenGLMatrix_1=le._emscripten_bind_btTransform_setFromOpenGLMatrix_1,pv=a._emscripten_bind_btTransform_setIdentity_0=le._emscripten_bind_btTransform_setIdentity_0,bv=a._emscripten_bind_btTransform_setOrigin_1=le._emscripten_bind_btTransform_setOrigin_1,mv=a._emscripten_bind_btTransform_setRotation_1=le._emscripten_bind_btTransform_setRotation_1,Av=a._emscripten_bind_btTriangleMeshShape___destroy___0=le._emscripten_bind_btTriangleMeshShape___destroy___0,gv=a._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2=le._emscripten_bind_btTriangleMeshShape_calculateLocalInertia_2,yv=a._emscripten_bind_btTriangleMeshShape_getLocalScaling_0=le._emscripten_bind_btTriangleMeshShape_getLocalScaling_0,vv=a._emscripten_bind_btTriangleMeshShape_setLocalScaling_1=le._emscripten_bind_btTriangleMeshShape_setLocalScaling_1,Cv=a._emscripten_bind_btTriangleMesh___destroy___0=le._emscripten_bind_btTriangleMesh___destroy___0,Ev=a._emscripten_bind_btTriangleMesh_addIndex_1=le._emscripten_bind_btTriangleMesh_addIndex_1,Sv=a._emscripten_bind_btTriangleMesh_addTriangle_3=le._emscripten_bind_btTriangleMesh_addTriangle_3,Tv=a._emscripten_bind_btTriangleMesh_addTriangle_4=le._emscripten_bind_btTriangleMesh_addTriangle_4,Rv=a._emscripten_bind_btTriangleMesh_btTriangleMesh_0=le._emscripten_bind_btTriangleMesh_btTriangleMesh_0,Mv=a._emscripten_bind_btTriangleMesh_btTriangleMesh_1=le._emscripten_bind_btTriangleMesh_btTriangleMesh_1,Ov=a._emscripten_bind_btTriangleMesh_btTriangleMesh_2=le._emscripten_bind_btTriangleMesh_btTriangleMesh_2,Iv=a._emscripten_bind_btTriangleMesh_findOrAddVertex_2=le._emscripten_bind_btTriangleMesh_findOrAddVertex_2,xv=a._emscripten_bind_btTriangleMesh_getIndexedMeshArray_0=le._emscripten_bind_btTriangleMesh_getIndexedMeshArray_0,Pv=a._emscripten_bind_btTriangleMesh_setScaling_1=le._emscripten_bind_btTriangleMesh_setScaling_1,Dv=a._emscripten_bind_btTypedConstraint___destroy___0=le._emscripten_bind_btTypedConstraint___destroy___0,wv=a._emscripten_bind_btTypedConstraint_enableFeedback_1=le._emscripten_bind_btTypedConstraint_enableFeedback_1,Lv=a._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0=le._emscripten_bind_btTypedConstraint_getBreakingImpulseThreshold_0,Fv=a._emscripten_bind_btTypedConstraint_getParam_2=le._emscripten_bind_btTypedConstraint_getParam_2,Nv=a._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1=le._emscripten_bind_btTypedConstraint_setBreakingImpulseThreshold_1,Bv=a._emscripten_bind_btTypedConstraint_setParam_3=le._emscripten_bind_btTypedConstraint_setParam_3,kv=a._emscripten_bind_btVector3Array___destroy___0=le._emscripten_bind_btVector3Array___destroy___0,Uv=a._emscripten_bind_btVector3Array_at_1=le._emscripten_bind_btVector3Array_at_1,Hv=a._emscripten_bind_btVector3Array_size_0=le._emscripten_bind_btVector3Array_size_0,jv=a._emscripten_bind_btVector3___destroy___0=le._emscripten_bind_btVector3___destroy___0,Vv=a._emscripten_bind_btVector3_btVector3_0=le._emscripten_bind_btVector3_btVector3_0,Gv=a._emscripten_bind_btVector3_btVector3_3=le._emscripten_bind_btVector3_btVector3_3,Wv=a._emscripten_bind_btVector3_dot_1=le._emscripten_bind_btVector3_dot_1,Xv=a._emscripten_bind_btVector3_length_0=le._emscripten_bind_btVector3_length_0,zv=a._emscripten_bind_btVector3_normalize_0=le._emscripten_bind_btVector3_normalize_0,Yv=a._emscripten_bind_btVector3_op_add_1=le._emscripten_bind_btVector3_op_add_1,Qv=a._emscripten_bind_btVector3_op_mul_1=le._emscripten_bind_btVector3_op_mul_1,Kv=a._emscripten_bind_btVector3_op_sub_1=le._emscripten_bind_btVector3_op_sub_1,Zv=a._emscripten_bind_btVector3_rotate_2=le._emscripten_bind_btVector3_rotate_2,Jv=a._emscripten_bind_btVector3_setValue_3=le._emscripten_bind_btVector3_setValue_3,qv=a._emscripten_bind_btVector3_setX_1=le._emscripten_bind_btVector3_setX_1,$v=a._emscripten_bind_btVector3_setY_1=le._emscripten_bind_btVector3_setY_1,eC=a._emscripten_bind_btVector3_setZ_1=le._emscripten_bind_btVector3_setZ_1,tC=a._emscripten_bind_btVector3_x_0=le._emscripten_bind_btVector3_x_0,iC=a._emscripten_bind_btVector3_y_0=le._emscripten_bind_btVector3_y_0,nC=a._emscripten_bind_btVector3_z_0=le._emscripten_bind_btVector3_z_0,rC=a._emscripten_bind_btVector4___destroy___0=le._emscripten_bind_btVector4___destroy___0,oC=a._emscripten_bind_btVector4_btVector4_0=le._emscripten_bind_btVector4_btVector4_0,sC=a._emscripten_bind_btVector4_btVector4_4=le._emscripten_bind_btVector4_btVector4_4,aC=a._emscripten_bind_btVector4_dot_1=le._emscripten_bind_btVector4_dot_1,cC=a._emscripten_bind_btVector4_length_0=le._emscripten_bind_btVector4_length_0,lC=a._emscripten_bind_btVector4_normalize_0=le._emscripten_bind_btVector4_normalize_0,_C=a._emscripten_bind_btVector4_op_add_1=le._emscripten_bind_btVector4_op_add_1,uC=a._emscripten_bind_btVector4_op_mul_1=le._emscripten_bind_btVector4_op_mul_1,fC=a._emscripten_bind_btVector4_op_sub_1=le._emscripten_bind_btVector4_op_sub_1,dC=a._emscripten_bind_btVector4_rotate_2=le._emscripten_bind_btVector4_rotate_2,hC=a._emscripten_bind_btVector4_setValue_4=le._emscripten_bind_btVector4_setValue_4,pC=a._emscripten_bind_btVector4_setX_1=le._emscripten_bind_btVector4_setX_1,bC=a._emscripten_bind_btVector4_setY_1=le._emscripten_bind_btVector4_setY_1,mC=a._emscripten_bind_btVector4_setZ_1=le._emscripten_bind_btVector4_setZ_1,AC=a._emscripten_bind_btVector4_w_0=le._emscripten_bind_btVector4_w_0,gC=a._emscripten_bind_btVector4_x_0=le._emscripten_bind_btVector4_x_0,yC=a._emscripten_bind_btVector4_y_0=le._emscripten_bind_btVector4_y_0,vC=a._emscripten_bind_btVector4_z_0=le._emscripten_bind_btVector4_z_0,CC=a._emscripten_bind_btVehicleRaycasterResult___destroy___0=le._emscripten_bind_btVehicleRaycasterResult___destroy___0,EC=a._emscripten_bind_btVehicleRaycasterResult_get_m_distFraction_0=le._emscripten_bind_btVehicleRaycasterResult_get_m_distFraction_0,SC=a._emscripten_bind_btVehicleRaycasterResult_get_m_hitNormalInWorld_0=le._emscripten_bind_btVehicleRaycasterResult_get_m_hitNormalInWorld_0,TC=a._emscripten_bind_btVehicleRaycasterResult_get_m_hitPointInWorld_0=le._emscripten_bind_btVehicleRaycasterResult_get_m_hitPointInWorld_0,RC=a._emscripten_bind_btVehicleRaycasterResult_set_m_distFraction_1=le._emscripten_bind_btVehicleRaycasterResult_set_m_distFraction_1,MC=a._emscripten_bind_btVehicleRaycasterResult_set_m_hitNormalInWorld_1=le._emscripten_bind_btVehicleRaycasterResult_set_m_hitNormalInWorld_1,OC=a._emscripten_bind_btVehicleRaycasterResult_set_m_hitPointInWorld_1=le._emscripten_bind_btVehicleRaycasterResult_set_m_hitPointInWorld_1,IC=a._emscripten_bind_btVehicleRaycaster___destroy___0=le._emscripten_bind_btVehicleRaycaster___destroy___0,xC=a._emscripten_bind_btVehicleRaycaster_castRay_3=le._emscripten_bind_btVehicleRaycaster_castRay_3,PC=a._emscripten_bind_btVehicleTuning_btVehicleTuning_0=le._emscripten_bind_btVehicleTuning_btVehicleTuning_0,DC=a._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0=le._emscripten_bind_btVehicleTuning_get_m_frictionSlip_0,wC=a._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0=le._emscripten_bind_btVehicleTuning_get_m_maxSuspensionForce_0,LC=a._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0=le._emscripten_bind_btVehicleTuning_get_m_maxSuspensionTravelCm_0,FC=a._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0=le._emscripten_bind_btVehicleTuning_get_m_suspensionCompression_0,NC=a._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0=le._emscripten_bind_btVehicleTuning_get_m_suspensionDamping_0,BC=a._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0=le._emscripten_bind_btVehicleTuning_get_m_suspensionStiffness_0,kC=a._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1=le._emscripten_bind_btVehicleTuning_set_m_frictionSlip_1,UC=a._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1=le._emscripten_bind_btVehicleTuning_set_m_maxSuspensionForce_1,HC=a._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1=le._emscripten_bind_btVehicleTuning_set_m_maxSuspensionTravelCm_1,jC=a._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1=le._emscripten_bind_btVehicleTuning_set_m_suspensionCompression_1,VC=a._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1=le._emscripten_bind_btVehicleTuning_set_m_suspensionDamping_1,GC=a._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1=le._emscripten_bind_btVehicleTuning_set_m_suspensionStiffness_1,WC=a._emscripten_bind_btWheelInfoConstructionInfo___destroy___0=le._emscripten_bind_btWheelInfoConstructionInfo___destroy___0,XC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_bIsFrontWheel_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_bIsFrontWheel_0,zC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_chassisConnectionCS_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_chassisConnectionCS_0,YC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_frictionSlip_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_frictionSlip_0,QC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionForce_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionForce_0,KC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionTravelCm_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_maxSuspensionTravelCm_0,ZC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionRestLength_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionRestLength_0,JC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionStiffness_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_suspensionStiffness_0,qC=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelAxleCS_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelAxleCS_0,$C=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelDirectionCS_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelDirectionCS_0,eE=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelRadius_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelRadius_0,tE=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingCompression_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingCompression_0,iE=a._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingRelaxation_0=le._emscripten_bind_btWheelInfoConstructionInfo_get_m_wheelsDampingRelaxation_0,nE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_bIsFrontWheel_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_bIsFrontWheel_1,rE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_chassisConnectionCS_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_chassisConnectionCS_1,oE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_frictionSlip_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_frictionSlip_1,sE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionForce_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionForce_1,aE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionTravelCm_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_maxSuspensionTravelCm_1,cE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionRestLength_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionRestLength_1,lE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionStiffness_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_suspensionStiffness_1,_E=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelAxleCS_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelAxleCS_1,uE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelDirectionCS_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelDirectionCS_1,fE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelRadius_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelRadius_1,dE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingCompression_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingCompression_1,hE=a._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingRelaxation_1=le._emscripten_bind_btWheelInfoConstructionInfo_set_m_wheelsDampingRelaxation_1,pE=a._emscripten_bind_btWheelInfo___destroy___0=le._emscripten_bind_btWheelInfo___destroy___0,bE=a._emscripten_bind_btWheelInfo_btWheelInfo_1=le._emscripten_bind_btWheelInfo_btWheelInfo_1,mE=a._emscripten_bind_btWheelInfo_getSuspensionRestLength_0=le._emscripten_bind_btWheelInfo_getSuspensionRestLength_0,AE=a._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0=le._emscripten_bind_btWheelInfo_get_m_bIsFrontWheel_0,gE=a._emscripten_bind_btWheelInfo_get_m_brake_0=le._emscripten_bind_btWheelInfo_get_m_brake_0,yE=a._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0=le._emscripten_bind_btWheelInfo_get_m_chassisConnectionPointCS_0,vE=a._emscripten_bind_btWheelInfo_get_m_clippedInvContactDotSuspension_0=le._emscripten_bind_btWheelInfo_get_m_clippedInvContactDotSuspension_0,CE=a._emscripten_bind_btWheelInfo_get_m_deltaRotation_0=le._emscripten_bind_btWheelInfo_get_m_deltaRotation_0,EE=a._emscripten_bind_btWheelInfo_get_m_engineForce_0=le._emscripten_bind_btWheelInfo_get_m_engineForce_0,SE=a._emscripten_bind_btWheelInfo_get_m_frictionSlip_0=le._emscripten_bind_btWheelInfo_get_m_frictionSlip_0,TE=a._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0=le._emscripten_bind_btWheelInfo_get_m_maxSuspensionForce_0,RE=a._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0=le._emscripten_bind_btWheelInfo_get_m_maxSuspensionTravelCm_0,ME=a._emscripten_bind_btWheelInfo_get_m_raycastInfo_0=le._emscripten_bind_btWheelInfo_get_m_raycastInfo_0,OE=a._emscripten_bind_btWheelInfo_get_m_rollInfluence_0=le._emscripten_bind_btWheelInfo_get_m_rollInfluence_0,IE=a._emscripten_bind_btWheelInfo_get_m_rotation_0=le._emscripten_bind_btWheelInfo_get_m_rotation_0,xE=a._emscripten_bind_btWheelInfo_get_m_skidInfo_0=le._emscripten_bind_btWheelInfo_get_m_skidInfo_0,PE=a._emscripten_bind_btWheelInfo_get_m_steering_0=le._emscripten_bind_btWheelInfo_get_m_steering_0,DE=a._emscripten_bind_btWheelInfo_get_m_suspensionRelativeVelocity_0=le._emscripten_bind_btWheelInfo_get_m_suspensionRelativeVelocity_0,wE=a._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0=le._emscripten_bind_btWheelInfo_get_m_suspensionRestLength1_0,LE=a._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0=le._emscripten_bind_btWheelInfo_get_m_suspensionStiffness_0,FE=a._emscripten_bind_btWheelInfo_get_m_wheelAxleCS_0=le._emscripten_bind_btWheelInfo_get_m_wheelAxleCS_0,NE=a._emscripten_bind_btWheelInfo_get_m_wheelDirectionCS_0=le._emscripten_bind_btWheelInfo_get_m_wheelDirectionCS_0,BE=a._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0=le._emscripten_bind_btWheelInfo_get_m_wheelsDampingCompression_0,kE=a._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0=le._emscripten_bind_btWheelInfo_get_m_wheelsDampingRelaxation_0,UE=a._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0=le._emscripten_bind_btWheelInfo_get_m_wheelsRadius_0,HE=a._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0=le._emscripten_bind_btWheelInfo_get_m_wheelsSuspensionForce_0,jE=a._emscripten_bind_btWheelInfo_get_m_worldTransform_0=le._emscripten_bind_btWheelInfo_get_m_worldTransform_0,VE=a._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1=le._emscripten_bind_btWheelInfo_set_m_bIsFrontWheel_1,GE=a._emscripten_bind_btWheelInfo_set_m_brake_1=le._emscripten_bind_btWheelInfo_set_m_brake_1,WE=a._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1=le._emscripten_bind_btWheelInfo_set_m_chassisConnectionPointCS_1,XE=a._emscripten_bind_btWheelInfo_set_m_clippedInvContactDotSuspension_1=le._emscripten_bind_btWheelInfo_set_m_clippedInvContactDotSuspension_1,zE=a._emscripten_bind_btWheelInfo_set_m_deltaRotation_1=le._emscripten_bind_btWheelInfo_set_m_deltaRotation_1,YE=a._emscripten_bind_btWheelInfo_set_m_engineForce_1=le._emscripten_bind_btWheelInfo_set_m_engineForce_1,QE=a._emscripten_bind_btWheelInfo_set_m_frictionSlip_1=le._emscripten_bind_btWheelInfo_set_m_frictionSlip_1,KE=a._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1=le._emscripten_bind_btWheelInfo_set_m_maxSuspensionForce_1,ZE=a._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1=le._emscripten_bind_btWheelInfo_set_m_maxSuspensionTravelCm_1,JE=a._emscripten_bind_btWheelInfo_set_m_raycastInfo_1=le._emscripten_bind_btWheelInfo_set_m_raycastInfo_1,qE=a._emscripten_bind_btWheelInfo_set_m_rollInfluence_1=le._emscripten_bind_btWheelInfo_set_m_rollInfluence_1,$E=a._emscripten_bind_btWheelInfo_set_m_rotation_1=le._emscripten_bind_btWheelInfo_set_m_rotation_1,eS=a._emscripten_bind_btWheelInfo_set_m_skidInfo_1=le._emscripten_bind_btWheelInfo_set_m_skidInfo_1,tS=a._emscripten_bind_btWheelInfo_set_m_steering_1=le._emscripten_bind_btWheelInfo_set_m_steering_1,iS=a._emscripten_bind_btWheelInfo_set_m_suspensionRelativeVelocity_1=le._emscripten_bind_btWheelInfo_set_m_suspensionRelativeVelocity_1,nS=a._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1=le._emscripten_bind_btWheelInfo_set_m_suspensionRestLength1_1,rS=a._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1=le._emscripten_bind_btWheelInfo_set_m_suspensionStiffness_1,oS=a._emscripten_bind_btWheelInfo_set_m_wheelAxleCS_1=le._emscripten_bind_btWheelInfo_set_m_wheelAxleCS_1,sS=a._emscripten_bind_btWheelInfo_set_m_wheelDirectionCS_1=le._emscripten_bind_btWheelInfo_set_m_wheelDirectionCS_1,aS=a._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1=le._emscripten_bind_btWheelInfo_set_m_wheelsDampingCompression_1,cS=a._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1=le._emscripten_bind_btWheelInfo_set_m_wheelsDampingRelaxation_1,lS=a._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1=le._emscripten_bind_btWheelInfo_set_m_wheelsRadius_1,_S=a._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1=le._emscripten_bind_btWheelInfo_set_m_wheelsSuspensionForce_1,uS=a._emscripten_bind_btWheelInfo_set_m_worldTransform_1=le._emscripten_bind_btWheelInfo_set_m_worldTransform_1,fS=a._emscripten_bind_btWheelInfo_updateWheel_2=le._emscripten_bind_btWheelInfo_updateWheel_2,dS=a._emscripten_bind_tAnchorArray___destroy___0=le._emscripten_bind_tAnchorArray___destroy___0,hS=a._emscripten_bind_tAnchorArray_at_1=le._emscripten_bind_tAnchorArray_at_1,pS=a._emscripten_bind_tAnchorArray_clear_0=le._emscripten_bind_tAnchorArray_clear_0,bS=a._emscripten_bind_tAnchorArray_pop_back_0=le._emscripten_bind_tAnchorArray_pop_back_0,mS=a._emscripten_bind_tAnchorArray_push_back_1=le._emscripten_bind_tAnchorArray_push_back_1,AS=a._emscripten_bind_tAnchorArray_size_0=le._emscripten_bind_tAnchorArray_size_0,gS=a._emscripten_bind_tMaterialArray___destroy___0=le._emscripten_bind_tMaterialArray___destroy___0,yS=a._emscripten_bind_tMaterialArray_at_1=le._emscripten_bind_tMaterialArray_at_1,vS=a._emscripten_bind_tMaterialArray_size_0=le._emscripten_bind_tMaterialArray_size_0,CS=a._emscripten_bind_tNodeArray___destroy___0=le._emscripten_bind_tNodeArray___destroy___0,ES=a._emscripten_bind_tNodeArray_at_1=le._emscripten_bind_tNodeArray_at_1,SS=a._emscripten_bind_tNodeArray_size_0=le._emscripten_bind_tNodeArray_size_0,TS=a._emscripten_enum_PHY_ScalarType_PHY_DOUBLE=le._emscripten_enum_PHY_ScalarType_PHY_DOUBLE,RS=a._emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88=le._emscripten_enum_PHY_ScalarType_PHY_FIXEDPOINT88,MS=a._emscripten_enum_PHY_ScalarType_PHY_FLOAT=le._emscripten_enum_PHY_ScalarType_PHY_FLOAT,OS=a._emscripten_enum_PHY_ScalarType_PHY_INTEGER=le._emscripten_enum_PHY_ScalarType_PHY_INTEGER,IS=a._emscripten_enum_PHY_ScalarType_PHY_SHORT=le._emscripten_enum_PHY_ScalarType_PHY_SHORT,xS=a._emscripten_enum_PHY_ScalarType_PHY_UCHAR=le._emscripten_enum_PHY_ScalarType_PHY_UCHAR,PS=a._emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM=le._emscripten_enum_btConstraintParams_BT_CONSTRAINT_CFM,DS=a._emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP=le._emscripten_enum_btConstraintParams_BT_CONSTRAINT_ERP,wS=a._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM=le._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_CFM,LS=a._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP=le._emscripten_enum_btConstraintParams_BT_CONSTRAINT_STOP_ERP;if(a._free=le._free,a._i64Add=le._i64Add,a._i64Subtract=le._i64Subtract,a._llvm_bswap_i16=le._llvm_bswap_i16,a._llvm_bswap_i32=le._llvm_bswap_i32,a._malloc=le._malloc,a._memcpy=le._memcpy,a._memmove=le._memmove,a._memset=le._memset,a._sbrk=le._sbrk,a.establishStackSpace=le.establishStackSpace,a.stackAlloc=le.stackAlloc,a.stackRestore=le.stackRestore,a.stackSave=le.stackSave,a.dynCall_di=le.dynCall_di,a.dynCall_did=le.dynCall_did,a.dynCall_diidii=le.dynCall_diidii,a.dynCall_diii=le.dynCall_diii,a.dynCall_diiidii=le.dynCall_diiidii,a.dynCall_diiii=le.dynCall_diiii,a.dynCall_diiiii=le.dynCall_diiiii,a.dynCall_diiiiiiii=le.dynCall_diiiiiiii,a.dynCall_diiiiiiiii=le.dynCall_diiiiiiiii,a.dynCall_diiiiiiiiii=le.dynCall_diiiiiiiiii,a.dynCall_ii=le.dynCall_ii,a.dynCall_iidid=le.dynCall_iidid,a.dynCall_iii=le.dynCall_iii,a.dynCall_iiid=le.dynCall_iiid,a.dynCall_iiii=le.dynCall_iiii,a.dynCall_iiiii=le.dynCall_iiiii,a.dynCall_iiiiiii=le.dynCall_iiiiiii,a.dynCall_iiiiiiii=le.dynCall_iiiiiiii,a.dynCall_iiiiiiiiii=le.dynCall_iiiiiiiiii,a.dynCall_iiiiiiiiiii=le.dynCall_iiiiiiiiiii,a.dynCall_v=le.dynCall_v,a.dynCall_vi=le.dynCall_vi,a.dynCall_vid=le.dynCall_vid,a.dynCall_vidd=le.dynCall_vidd,a.dynCall_viddiii=le.dynCall_viddiii,a.dynCall_vidi=le.dynCall_vidi,a.dynCall_vidii=le.dynCall_vidii,a.dynCall_vii=le.dynCall_vii,a.dynCall_viid=le.dynCall_viid,a.dynCall_viidi=le.dynCall_viidi,a.dynCall_viidii=le.dynCall_viidii,a.dynCall_viii=le.dynCall_viii,a.dynCall_viiid=le.dynCall_viiid,a.dynCall_viiidii=le.dynCall_viiidii,a.dynCall_viiii=le.dynCall_viiii,a.dynCall_viiiid=le.dynCall_viiiid,a.dynCall_viiiidddddidi=le.dynCall_viiiidddddidi,a.dynCall_viiiiddddiid=le.dynCall_viiiiddddiid,a.dynCall_viiiii=le.dynCall_viiiii,a.dynCall_viiiiid=le.dynCall_viiiiid,a.dynCall_viiiiii=le.dynCall_viiiiii,a.dynCall_viiiiiii=le.dynCall_viiiiiii,a.dynCall_viiiiiiiid=le.dynCall_viiiiiiiid,a.dynCall_viiiiiiiii=le.dynCall_viiiiiiiii,a.dynCall_viiiiiiiiii=le.dynCall_viiiiiiiiii,a.asm=le,a.UTF8ToString=function(e,t){return e?R(I,e,t):""},W){if(String.prototype.startsWith?!W.startsWith(X):0!==W.indexOf(X)){var FS=W;W=a.locateFile?a.locateFile(FS,g):g+FS}if(f||d){var NS=b(W);I.set(NS,8)}else{j++,a.monitorRunDependencies&&a.monitorRunDependencies(j);var BS=function(e){e.byteLength&&(e=new Uint8Array(e)),I.set(e,8),a.memoryInitializerRequest&&delete a.memoryInitializerRequest.response,j--,a.monitorRunDependencies&&a.monitorRunDependencies(j),0==j&&(null!==V&&(clearInterval(V),V=null),G&&(e=G,G=null,e()))},kS=function(){p(function(){throw"could not load memory initializer "+W})},US=ce(W);if(US)BS(US.buffer);else if(a.memoryInitializerRequest){var HS=function(){var e=a.memoryInitializerRequest,t=e.response;if(200!==e.status&&0!==e.status){if(!(t=ce(a.memoryInitializerRequestURL)))return console.warn("a problem seems to have happened with Module.memoryInitializerRequest, status: "+e.status+", retrying "+W),void kS();t=t.buffer}BS(t)};a.memoryInitializerRequest.response?setTimeout(HS,0):a.memoryInitializerRequest.addEventListener("load",HS)}else kS()}}function jS(){function e(){if(!fe&&(fe=!0,!E)){if(U=!0,L(N),L(B),a.onRuntimeInitialized&&a.onRuntimeInitialized(),a.postRun)for("function"==typeof a.postRun&&(a.postRun=[a.postRun]);a.postRun.length;){var e=a.postRun.shift();k.unshift(e)}L(k)}}if(!(0<j)){if(a.preRun)for("function"==typeof a.preRun&&(a.preRun=[a.preRun]);a.preRun.length;)H();L(F),0<j||(a.setStatus?(a.setStatus("Running..."),setTimeout(function(){setTimeout(function(){a.setStatus("")},1),e()},1)):e())}}function VS(e){throw a.onAbort&&a.onAbort(e),y(e+=""),v(e),E=!0,"abort("+e+"). Build with -s ASSERTIONS=1 for more info."}if(a.then=function(e){if(fe)e(a);else{var t=a.onRuntimeInitialized;a.onRuntimeInitialized=function(){t&&t(),e(a)}}return a},G=function e(){fe||jS(),fe||(G=e)},a.run=jS,a.abort=VS,a.preInit)for("function"==typeof a.preInit&&(a.preInit=[a.preInit]);0<a.preInit.length;)a.preInit.pop()();function GS(){}function WS(e){return(e||GS).J}function XS(e,t){var i=WS(t),n=i[e];return n||((n=Object.create((t||GS).prototype)).H=e,i[e]=n)}function zS(e){if("string"===typeof e){for(var t=0,i=0;i<e.length;++i){var n=e.charCodeAt(i);55296<=n&&57343>=n&&(n=65536+((1023&n)<<10)|1023&e.charCodeAt(++i)),127>=n?++t:t=2047>=n?t+2:65535>=n?t+3:t+4}if(i=0,0<(n=(t=Array(t+1)).length)){n=i+n-1;for(var r=0;r<e.length;++r){var o=e.charCodeAt(r);if(55296<=o&&57343>=o)o=65536+((1023&o)<<10)|1023&e.charCodeAt(++r);if(127>=o){if(i>=n)break;t[i++]=o}else{if(2047>=o){if(i+1>=n)break;t[i++]=192|o>>6}else{if(65535>=o){if(i+2>=n)break;t[i++]=224|o>>12}else{if(i+3>=n)break;t[i++]=240|o>>18,t[i++]=128|o>>12&63}t[i++]=128|o>>6&63}t[i++]=128|63&o}}t[i]=0}e=s.ja(t,O),s.copy(t,O,e)}return e}function YS(e){if("object"===typeof e){var t=s.ja(e,P);return s.copy(e,P,t),t}return e}function QS(){throw"cannot construct a btCollisionWorld, no constructor in IDL"}function KS(){throw"cannot construct a btCollisionShape, no constructor in IDL"}function ZS(){throw"cannot construct a btCollisionObject, no constructor in IDL"}function JS(){throw"cannot construct a btDynamicsWorld, no constructor in IDL"}function qS(){throw"cannot construct a btTypedConstraint, no constructor in IDL"}function $S(){throw"cannot construct a btConcaveShape, no constructor in IDL"}function eT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=ao(e,t),WS(eT)[this.H]=this}function tT(){throw"cannot construct a btIDebugDraw, no constructor in IDL"}function iT(e){e&&"object"===typeof e&&(e=e.H),this.H=void 0===e?Wc():Xc(e),WS(iT)[this.H]=this}function nT(){throw"cannot construct a btTriangleMeshShape, no constructor in IDL"}function rT(){this.H=Du(),WS(rT)[this.H]=this}function oT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=ta(e,t),WS(oT)[this.H]=this}function sT(){throw"cannot construct a btActionInterface, no constructor in IDL"}function aT(e,t,i){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),this.H=void 0===e?Vv():void 0===t?_emscripten_bind_btVector3_btVector3_1(e):void 0===i?_emscripten_bind_btVector3_btVector3_2(e,t):Gv(e,t,i),WS(aT)[this.H]=this}function cT(){throw"cannot construct a btVehicleRaycaster, no constructor in IDL"}function lT(){throw"cannot construct a btQuadWord, no constructor in IDL"}function _T(e){e&&"object"===typeof e&&(e=e.H),this.H=Fc(e),WS(_T)[this.H]=this}function uT(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=bl(e,t,i,n),WS(uT)[this.H]=this}function fT(){throw"cannot construct a btConvexShape, no constructor in IDL"}function dT(){throw"cannot construct a btDispatcher, no constructor in IDL"}function hT(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=void 0===n?q_(e,t,i):void 0===r?_emscripten_bind_btGeneric6DofConstraint_btGeneric6DofConstraint_4(e,t,i,n):$_(e,t,i,n,r),WS(hT)[this.H]=this}function pT(){throw"cannot construct a btStridingMeshInterface, no constructor in IDL"}function bT(){throw"cannot construct a btMotionState, no constructor in IDL"}function mT(){throw"cannot construct a ConvexResultCallback, no constructor in IDL"}function AT(){throw"cannot construct a ContactResultCallback, no constructor in IDL"}function gT(){throw"cannot construct a btSoftBodySolver, no constructor in IDL"}function yT(){throw"cannot construct a RayResultCallback, no constructor in IDL"}function vT(){throw"cannot construct a btMatrix3x3, no constructor in IDL"}function CT(){throw"cannot construct a btScalarArray, no constructor in IDL"}function ET(){throw"cannot construct a Material, no constructor in IDL"}function ST(){throw"cannot construct a btDispatcherInfo, no constructor in IDL"}function TT(){throw"cannot construct a btWheelInfoConstructionInfo, no constructor in IDL"}function RT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=void 0===t?dc(e):hc(e,t),WS(RT)[this.H]=this}function MT(){throw"cannot construct a btBroadphaseInterface, no constructor in IDL"}function OT(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=void 0===n?mb(e,t,i):Ab(e,t,i,n),WS(OT)[this.H]=this}function IT(){throw"cannot construct a btCollisionConfiguration, no constructor in IDL"}function xT(){this.H=Fh(),WS(xT)[this.H]=this}function PT(e){e&&"object"===typeof e&&(e=e.H),this.H=void 0===e?Ms():Os(e),WS(PT)[this.H]=this}function DT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=Je(e,t),WS(DT)[this.H]=this}function wT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=de(e,t),WS(wT)[this.H]=this}function LT(){throw"cannot construct a tMaterialArray, no constructor in IDL"}function FT(e){e&&"object"===typeof e&&(e=e.H),this.H=ol(e),WS(FT)[this.H]=this}function NT(){this.H=Ta(),WS(NT)[this.H]=this}function BT(){throw"cannot construct a LocalShapeInfo, no constructor in IDL"}function kT(e){e&&"object"===typeof e&&(e=e.H),this.H=tm(e),WS(kT)[this.H]=this}function UT(){throw"cannot construct a btIndexedMeshArray, no constructor in IDL"}function HT(){this.H=Vc(),WS(HT)[this.H]=this}function jT(e,t,i,n,r,o,s,a,c){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),a&&"object"===typeof a&&(a=a.H),c&&"object"===typeof c&&(c=c.H),this.H=ff(e,t,i,n,r,o,s,a,c),WS(jT)[this.H]=this}function VT(){this.H=nl(),WS(VT)[this.H]=this}function GT(e){e&&"object"===typeof e&&(e=e.H),this.H=go(e),WS(GT)[this.H]=this}function WT(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=void 0===i?br(e,t):void 0===n?mr(e,t,i):void 0===r?Ar(e,t,i,n):gr(e,t,i,n,r),WS(WT)[this.H]=this}function XT(){throw"cannot construct a VoidPtr, no constructor in IDL"}function zT(){this.H=NA(),WS(zT)[this.H]=this}function YT(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=void 0===i?sa(e,t):void 0===n?_emscripten_bind_btConeTwistConstraint_btConeTwistConstraint_3(e,t,i):aa(e,t,i,n),WS(YT)[this.H]=this}function QT(e,t,i,n,r,o,s){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),this.H=void 0===i?gf(e,t):void 0===n?yf(e,t,i):void 0===r?vf(e,t,i,n):void 0===o?Cf(e,t,i,n,r):void 0===s?Ef(e,t,i,n,r,o):Sf(e,t,i,n,r,o,s),WS(QT)[this.H]=this}function KT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=Zs(e,t),WS(KT)[this.H]=this}function ZT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=Xs(e,t),WS(ZT)[this.H]=this}function JT(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=void 0===e?Rv():void 0===t?Mv(e):Ov(e,t),WS(JT)[this.H]=this}function qT(e,t){s.M(),"object"==typeof e&&(e=YS(e)),t&&"object"===typeof t&&(t=t.H),this.H=void 0===e?Ga():void 0===t?Wa(e):Xa(e,t),WS(qT)[this.H]=this}function $T(){this.H=PC(),WS($T)[this.H]=this}function eR(){throw"cannot construct a btCollisionObjectWrapper, no constructor in IDL"}function tR(e){e&&"object"===typeof e&&(e=e.H),this.H=rA(e),WS(tR)[this.H]=this}function iR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=void 0===e?Kc():void 0===t?Zc(e):Jc(e,t),WS(iR)[this.H]=this}function nR(e){e&&"object"===typeof e&&(e=e.H),this.H=bE(e),WS(nR)[this.H]=this}function rR(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=void 0===e?oC():void 0===t?_emscripten_bind_btVector4_btVector4_1(e):void 0===i?_emscripten_bind_btVector4_btVector4_2(e,t):void 0===n?_emscripten_bind_btVector4_btVector4_3(e,t,i):sC(e,t,i,n),WS(rR)[this.H]=this}function oR(){this.H=Yc(),WS(oR)[this.H]=this}function sR(){throw"cannot construct a Anchor, no constructor in IDL"}function aR(){throw"cannot construct a btVehicleRaycasterResult, no constructor in IDL"}function cR(){throw"cannot construct a btVector3Array, no constructor in IDL"}function lR(){throw"cannot construct a btConstraintSolver, no constructor in IDL"}function _R(e,t,i){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),this.H=jp(e,t,i),WS(_R)[this.H]=this}function uR(e){e&&"object"===typeof e&&(e=e.H),this.H=vc(e),WS(uR)[this.H]=this}function fR(e){e&&"object"===typeof e&&(e=e.H),this.H=Oc(e),WS(fR)[this.H]=this}function dR(){throw"cannot construct a btConvexPolyhedron, no constructor in IDL"}function hR(){this.H=iA(),WS(hR)[this.H]=this}function pR(){throw"cannot construct a tAnchorArray, no constructor in IDL"}function bR(){throw"cannot construct a RaycastInfo, no constructor in IDL"}function mR(e,t,i){s.M(),e&&"object"===typeof e&&(e=e.H),"object"==typeof t&&(t=YS(t)),i&&"object"===typeof i&&(i=i.H),this.H=Yd(e,t,i),WS(mR)[this.H]=this}function AR(e,t,i,n){s.M(),e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),"object"==typeof n&&(n=YS(n)),this.H=ug(e,t,i,n),WS(AR)[this.H]=this}function gR(){throw"cannot construct a btIntArray, no constructor in IDL"}function yR(){throw"cannot construct a Config, no constructor in IDL"}function vR(){throw"cannot construct a Node, no constructor in IDL"}function CR(){this.H=_f(),WS(CR)[this.H]=this}function ER(){throw"cannot construct a btOverlappingPairCallback, no constructor in IDL"}function SR(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=void 0===n?ed(e,t,i):td(e,t,i,n),WS(SR)[this.H]=this}function TR(){throw"cannot construct a btSoftBodyArray, no constructor in IDL"}function RR(){throw"cannot construct a btFaceArray, no constructor in IDL"}function MR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=ev(e,t),WS(MR)[this.H]=this}function OR(){throw"cannot construct a btOverlappingPairCache, no constructor in IDL"}function IR(){throw"cannot construct a btIndexedMesh, no constructor in IDL"}function xR(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=by(e,t,i,n,r),WS(xR)[this.H]=this}function PR(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=X_(e,t,i,n),WS(PR)[this.H]=this}function DR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=void 0===e?av():void 0===t?_emscripten_bind_btTransform_btTransform_1(e):cv(e,t),WS(DR)[this.H]=this}function wR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=ht(e,t),WS(wR)[this.H]=this}function LR(e){e&&"object"===typeof e&&(e=e.H),this.H=void 0===e?DA():wA(e),WS(LR)[this.H]=this}function FR(){this.H=wt(),WS(FR)[this.H]=this}function NR(e,t,i){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),this.H=void 0===i?Fr(e,t):Nr(e,t,i),WS(NR)[this.H]=this}function BR(){throw"cannot construct a btConstCollisionObjectArray, no constructor in IDL"}function kR(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=void 0===n?lA(e,t,i):void 0===r?_emscripten_bind_btSliderConstraint_btSliderConstraint_4(e,t,i,n):_A(e,t,i,n,r),WS(kR)[this.H]=this}function UR(){this.H=rh(),WS(UR)[this.H]=this}function HR(){throw"cannot construct a btManifoldPoint, no constructor in IDL"}function jR(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=void 0===i?jh(e,t):void 0===n?_emscripten_bind_btPoint2PointConstraint_btPoint2PointConstraint_3(e,t,i):Vh(e,t,i,n),WS(jR)[this.H]=this}function VR(){this.H=xA(),WS(VR)[this.H]=this}function GR(){throw"cannot construct a btBroadphaseProxy, no constructor in IDL"}function WR(){throw"cannot construct a tNodeArray, no constructor in IDL"}function XR(e){e&&"object"===typeof e&&(e=e.H),this.H=vr(e),WS(XR)[this.H]=this}function zR(){throw"cannot construct a btFace, no constructor in IDL"}function YR(){this.H=Gi(),WS(YR)[this.H]=this}function QR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=jr(e,t),WS(QR)[this.H]=this}function KR(e,t,i,n){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),this.H=fp(e,t,i,n),WS(KR)[this.H]=this}function ZR(e,t){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),this.H=Jr(e,t),WS(ZR)[this.H]=this}function JR(){throw"cannot construct a btContactSolverInfo, no constructor in IDL"}function qR(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=void 0===n?uu(e,t,i):void 0===r?_emscripten_bind_btGeneric6DofSpringConstraint_btGeneric6DofSpringConstraint_4(e,t,i,n):fu(e,t,i,n,r),WS(qR)[this.H]=this}function $R(e){e&&"object"===typeof e&&(e=e.H),this.H=Yy(e),WS($R)[this.H]=this}function eM(e,t,i,n,r){e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),this.H=Ji(e,t,i,n,r),WS(eM)[this.H]=this}return jS(),GS.prototype=Object.create(GS.prototype),GS.prototype.constructor=GS,GS.prototype.I=GS,GS.J={},a.WrapperObject=GS,a.getCache=WS,a.wrapPointer=XS,a.castObject=function(e,t){return XS(e.H,t)},a.NULL=XS(0),a.destroy=function(e){if(!e.__destroy__)throw"Error: Cannot destroy object. (Did you create it yourself?)";e.__destroy__(),delete WS(e.I)[e.H]},a.compare=function(e,t){return e.H===t.H},a.getPointer=function(e){return e.H},a.getClass=function(e){return e.I},s={buffer:0,size:0,$:0,ia:[],Z:0,M:function(){if(s.Z){for(var e=0;e<s.ia.length;e++)a._free(s.ia[e]);s.ia.length=0,a._free(s.buffer),s.buffer=0,s.size+=s.Z,s.Z=0}s.buffer||(s.size+=128,s.buffer=a._malloc(s.size),S(s.buffer)),s.$=0},ja:function(e,t){return S(s.buffer),e=(e=e.length*t.BYTES_PER_ELEMENT)+7&-8,s.$+e>=s.size?(S(0<e),s.Z+=e,t=a._malloc(e),s.ia.push(t)):(t=s.buffer+s.$,s.$+=e),t},copy:function(e,t,i){switch(t.BYTES_PER_ELEMENT){case 2:i>>=1;break;case 4:i>>=2;break;case 8:i>>=3}for(var n=0;n<e.length;n++)t[i+n]=e[n]}},QS.prototype=Object.create(GS.prototype),QS.prototype.constructor=QS,QS.prototype.I=QS,QS.J={},a.btCollisionWorld=QS,QS.prototype.getDispatcher=function(){return XS(gs(this.H),dT)},QS.prototype.rayTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),vs(n,e,t,i)},QS.prototype.getPairCache=function(){return XS(ys(this.H),OR)},QS.prototype.getDispatchInfo=function(){return XS(As(this.H),ST)},QS.prototype.addCollisionObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?cs(n,e):void 0===i?ls(n,e,t):_s(n,e,t,i)},QS.prototype.removeCollisionObject=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Cs(t,e)},QS.prototype.getBroadphase=function(){return XS(bs(this.H),MT)},QS.prototype.convexSweepTest=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),ds(o,e,t,i,n,r)},QS.prototype.contactPairTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),us(n,e,t,i)},QS.prototype.contactTest=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),fs(i,e,t)},QS.prototype.updateSingleAabb=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ss(t,e)},QS.prototype.setDebugDrawer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Es(t,e)},QS.prototype.getDebugDrawer=function(){return XS(ms(this.H),tT)},QS.prototype.debugDrawWorld=function(){ps(this.H)},QS.prototype.debugDrawObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),hs(n,e,t,i)},QS.prototype.__destroy__=function(){as(this.H)},KS.prototype=Object.create(GS.prototype),KS.prototype.constructor=KS,KS.prototype.I=KS,KS.J={},a.btCollisionShape=KS,KS.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),os(t,e)},KS.prototype.getLocalScaling=function(){return XS(ns(this.H),aT)},KS.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),is(i,e,t)},KS.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ss(t,e)},KS.prototype.getMargin=function(){return rs(this.H)},KS.prototype.__destroy__=function(){ts(this.H)},ZS.prototype=Object.create(GS.prototype),ZS.prototype.constructor=ZS,ZS.prototype.I=ZS,ZS.J={},a.btCollisionObject=ZS,ZS.prototype.setAnisotropicFriction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Go(i,e,t)},ZS.prototype.getCollisionShape=function(){return XS(Po(this.H),KS)},ZS.prototype.setContactProcessingThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qo(t,e)},ZS.prototype.setActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Vo(t,e)},ZS.prototype.forceActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Oo(t,e)},ZS.prototype.activate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),void 0===e?Ro(t):Mo(t,e)},ZS.prototype.isActive=function(){return!!ko(this.H)},ZS.prototype.isKinematicObject=function(){return!!Uo(this.H)},ZS.prototype.isStaticObject=function(){return!!Ho(this.H)},ZS.prototype.isStaticOrKinematicObject=function(){return!!jo(this.H)},ZS.prototype.getRestitution=function(){return wo(this.H)},ZS.prototype.getFriction=function(){return Do(this.H)},ZS.prototype.getRollingFriction=function(){return Lo(this.H)},ZS.prototype.setRestitution=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Zo(t,e)},ZS.prototype.setFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ko(t,e)},ZS.prototype.setRollingFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Jo(t,e)},ZS.prototype.getWorldTransform=function(){return XS(Bo(this.H),DR)},ZS.prototype.getCollisionFlags=function(){return xo(this.H)},ZS.prototype.setCollisionFlags=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),zo(t,e)},ZS.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),es(t,e)},ZS.prototype.setCollisionShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Yo(t,e)},ZS.prototype.setCcdMotionThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Wo(t,e)},ZS.prototype.setCcdSweptSphereRadius=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xo(t,e)},ZS.prototype.getUserIndex=function(){return Fo(this.H)},ZS.prototype.setUserIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qo(t,e)},ZS.prototype.getUserPointer=function(){return XS(No(this.H),XT)},ZS.prototype.setUserPointer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$o(t,e)},ZS.prototype.getBroadphaseHandle=function(){return XS(Io(this.H),GR)},ZS.prototype.__destroy__=function(){To(this.H)},JS.prototype=Object.create(QS.prototype),JS.prototype.constructor=JS,JS.prototype.I=JS,JS.J={},a.btDynamicsWorld=JS,JS.prototype.addAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),b_(t,e)},JS.prototype.removeAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),D_(t,e)},JS.prototype.getSolverInfo=function(){return XS(x_(this.H),JR)},JS.prototype.getDispatcher=function(){return XS(O_(this.H),dT)},JS.prototype.rayTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),P_(n,e,t,i)},JS.prototype.getPairCache=function(){return XS(I_(this.H),OR)},JS.prototype.getDispatchInfo=function(){return XS(M_(this.H),ST)},JS.prototype.addCollisionObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?m_(n,e):void 0===i?A_(n,e,t):g_(n,e,t,i)},JS.prototype.removeCollisionObject=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),w_(t,e)},JS.prototype.getBroadphase=function(){return XS(T_(this.H),MT)},JS.prototype.convexSweepTest=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),C_(o,e,t,i,n,r)},JS.prototype.contactPairTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),y_(n,e,t,i)},JS.prototype.contactTest=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),v_(i,e,t)},JS.prototype.updateSingleAabb=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),F_(t,e)},JS.prototype.setDebugDrawer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),L_(t,e)},JS.prototype.getDebugDrawer=function(){return XS(R_(this.H),tT)},JS.prototype.debugDrawWorld=function(){S_(this.H)},JS.prototype.debugDrawObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),E_(n,e,t,i)},JS.prototype.__destroy__=function(){p_(this.H)},qS.prototype=Object.create(GS.prototype),qS.prototype.constructor=qS,qS.prototype.I=qS,qS.J={},a.btTypedConstraint=qS,qS.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wv(t,e)},qS.prototype.getBreakingImpulseThreshold=function(){return Lv(this.H)},qS.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nv(t,e)},qS.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Fv(i,e,t)},qS.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Bv(n,e,t,i)},qS.prototype.__destroy__=function(){Dv(this.H)},$S.prototype=Object.create(KS.prototype),$S.prototype.constructor=$S,$S.prototype.I=$S,$S.J={},a.btConcaveShape=$S,$S.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Gs(t,e)},$S.prototype.getLocalScaling=function(){return XS(Vs(this.H),aT)},$S.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),js(i,e,t)},$S.prototype.__destroy__=function(){Hs(this.H)},eT.prototype=Object.create(KS.prototype),eT.prototype.constructor=eT,eT.prototype.I=eT,eT.J={},a.btCapsuleShape=eT,eT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bo(t,e)},eT.prototype.getMargin=function(){return uo(this.H)},eT.prototype.getUpAxis=function(){return ho(this.H)},eT.prototype.getRadius=function(){return fo(this.H)},eT.prototype.getHalfHeight=function(){return lo(this.H)},eT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),po(t,e)},eT.prototype.getLocalScaling=function(){return XS(_o(this.H),aT)},eT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),co(i,e,t)},eT.prototype.__destroy__=function(){so(this.H)},tT.prototype=Object.create(GS.prototype),tT.prototype.constructor=tT,tT.prototype.I=tT,tT.J={},a.btIDebugDraw=tT,tT.prototype.drawLine=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Hf(n,e,t,i)},tT.prototype.drawContactPoint=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),Uf(o,e,t,i,n,r)},tT.prototype.reportErrorWarning=function(e){var t=this.H;s.M(),e=e&&"object"===typeof e?e.H:zS(e),Vf(t,e)},tT.prototype.draw3dText=function(e,t){var i=this.H;s.M(),e&&"object"===typeof e&&(e=e.H),t=t&&"object"===typeof t?t.H:zS(t),kf(i,e,t)},tT.prototype.setDebugMode=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Gf(t,e)},tT.prototype.getDebugMode=function(){return jf(this.H)},tT.prototype.__destroy__=function(){Bf(this.H)},iT.prototype=Object.create(GS.prototype),iT.prototype.constructor=iT,iT.prototype.I=iT,iT.J={},a.btDefaultCollisionConfiguration=iT,iT.prototype.__destroy__=function(){Gc(this.H)},nT.prototype=Object.create($S.prototype),nT.prototype.constructor=nT,nT.prototype.I=nT,nT.J={},a.btTriangleMeshShape=nT,nT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),vv(t,e)},nT.prototype.getLocalScaling=function(){return XS(yv(this.H),aT)},nT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),gv(i,e,t)},nT.prototype.__destroy__=function(){Av(this.H)},rT.prototype=Object.create(ZS.prototype),rT.prototype.constructor=rT,rT.prototype.I=rT,rT.J={},a.btGhostObject=rT,rT.prototype.getNumOverlappingObjects=function(){return ku(this.H)},rT.prototype.getOverlappingObject=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Uu(t,e),ZS)},rT.prototype.setAnisotropicFriction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Zu(i,e,t)},rT.prototype.getCollisionShape=function(){return XS(Nu(this.H),KS)},rT.prototype.setContactProcessingThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),tf(t,e)},rT.prototype.setActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ku(t,e)},rT.prototype.forceActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wu(t,e)},rT.prototype.activate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),void 0===e?xu(t):Pu(t,e)},rT.prototype.isActive=function(){return!!Xu(this.H)},rT.prototype.isKinematicObject=function(){return!!zu(this.H)},rT.prototype.isStaticObject=function(){return!!Yu(this.H)},rT.prototype.isStaticOrKinematicObject=function(){return!!Qu(this.H)},rT.prototype.getRestitution=function(){return Hu(this.H)},rT.prototype.getFriction=function(){return Bu(this.H)},rT.prototype.getRollingFriction=function(){return ju(this.H)},rT.prototype.setRestitution=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rf(t,e)},rT.prototype.setFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),nf(t,e)},rT.prototype.setRollingFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),of(t,e)},rT.prototype.getWorldTransform=function(){return XS(Wu(this.H),DR)},rT.prototype.getCollisionFlags=function(){return Fu(this.H)},rT.prototype.setCollisionFlags=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$u(t,e)},rT.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cf(t,e)},rT.prototype.setCollisionShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ef(t,e)},rT.prototype.setCcdMotionThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ju(t,e)},rT.prototype.setCcdSweptSphereRadius=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qu(t,e)},rT.prototype.getUserIndex=function(){return Vu(this.H)},rT.prototype.setUserIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),sf(t,e)},rT.prototype.getUserPointer=function(){return XS(Gu(this.H),XT)},rT.prototype.setUserPointer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),af(t,e)},rT.prototype.getBroadphaseHandle=function(){return XS(Lu(this.H),GR)},rT.prototype.__destroy__=function(){Iu(this.H)},oT.prototype=Object.create(KS.prototype),oT.prototype.constructor=oT,oT.prototype.I=oT,oT.J={},a.btConeShape=oT,oT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ra(t,e)},oT.prototype.getLocalScaling=function(){return XS(na(this.H),aT)},oT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),ia(i,e,t)},oT.prototype.__destroy__=function(){ea(this.H)},sT.prototype=Object.create(GS.prototype),sT.prototype.constructor=sT,sT.prototype.I=sT,sT.J={},a.btActionInterface=sT,sT.prototype.updateAction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),hr(i,e,t)},sT.prototype.__destroy__=function(){dr(this.H)},aT.prototype=Object.create(GS.prototype),aT.prototype.constructor=aT,aT.prototype.I=aT,aT.J={},a.btVector3=aT,aT.prototype.length=aT.prototype.length=function(){return Xv(this.H)},aT.prototype.x=aT.prototype.x=function(){return tC(this.H)},aT.prototype.y=aT.prototype.y=function(){return iC(this.H)},aT.prototype.z=aT.prototype.z=function(){return nC(this.H)},aT.prototype.setX=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qv(t,e)},aT.prototype.setY=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$v(t,e)},aT.prototype.setZ=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),eC(t,e)},aT.prototype.setValue=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Jv(n,e,t,i)},aT.prototype.normalize=aT.prototype.normalize=function(){zv(this.H)},aT.prototype.rotate=aT.prototype.rotate=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),XS(Zv(i,e,t),aT)},aT.prototype.dot=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),Wv(t,e)},aT.prototype.op_mul=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Qv(t,e),aT)},aT.prototype.op_add=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Yv(t,e),aT)},aT.prototype.op_sub=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Kv(t,e),aT)},aT.prototype.__destroy__=function(){jv(this.H)},cT.prototype=Object.create(GS.prototype),cT.prototype.constructor=cT,cT.prototype.I=cT,cT.J={},a.btVehicleRaycaster=cT,cT.prototype.castRay=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),xC(n,e,t,i)},cT.prototype.__destroy__=function(){IC(this.H)},lT.prototype=Object.create(GS.prototype),lT.prototype.constructor=lT,lT.prototype.I=lT,lT.J={},a.btQuadWord=lT,lT.prototype.x=lT.prototype.x=function(){return sp(this.H)},lT.prototype.y=lT.prototype.y=function(){return ap(this.H)},lT.prototype.z=lT.prototype.z=function(){return cp(this.H)},lT.prototype.w=lT.prototype.Aa=function(){return op(this.H)},lT.prototype.setX=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ip(t,e)},lT.prototype.setY=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),np(t,e)},lT.prototype.setZ=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rp(t,e)},lT.prototype.setW=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),tp(t,e)},lT.prototype.__destroy__=function(){ep(this.H)},_T.prototype=Object.create(KS.prototype),_T.prototype.constructor=_T,_T.prototype.I=_T,_T.J={},a.btCylinderShape=_T,_T.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hc(t,e)},_T.prototype.getMargin=function(){return kc(this.H)},_T.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Uc(t,e)},_T.prototype.getLocalScaling=function(){return XS(Bc(this.H),aT)},_T.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Nc(i,e,t)},_T.prototype.__destroy__=function(){Lc(this.H)},uT.prototype=Object.create(JS.prototype),uT.prototype.constructor=uT,uT.prototype.I=uT,uT.J={},a.btDiscreteDynamicsWorld=uT,uT.prototype.setGravity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kl(t,e)},uT.prototype.getGravity=function(){return XS(Rl(this.H),aT)},uT.prototype.addRigidBody=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?hl(n,e):void 0===i?_emscripten_bind_btDiscreteDynamicsWorld_addRigidBody_2(n,e,t):pl(n,e,t,i)},uT.prototype.removeRigidBody=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wl(t,e)},uT.prototype.addConstraint=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?fl(i,e):dl(i,e,t)},uT.prototype.removeConstraint=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dl(t,e)},uT.prototype.stepSimulation=function(e,t,i){var n=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?Ul(n,e):void 0===i?Hl(n,e,t):jl(n,e,t,i)},uT.prototype.setContactAddedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ll(t,e)},uT.prototype.setContactProcessedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nl(t,e)},uT.prototype.setContactDestroyedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fl(t,e)},uT.prototype.getDispatcher=function(){return XS(Tl(this.H),dT)},uT.prototype.rayTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Il(n,e,t,i)},uT.prototype.getPairCache=function(){return XS(Ml(this.H),OR)},uT.prototype.getDispatchInfo=function(){return XS(Sl(this.H),ST)},uT.prototype.addCollisionObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?ll(n,e):void 0===i?_l(n,e,t):ul(n,e,t,i)},uT.prototype.removeCollisionObject=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pl(t,e)},uT.prototype.getBroadphase=function(){return XS(Cl(this.H),MT)},uT.prototype.convexSweepTest=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),gl(o,e,t,i,n,r)},uT.prototype.contactPairTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),ml(n,e,t,i)},uT.prototype.contactTest=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Al(i,e,t)},uT.prototype.updateSingleAabb=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Vl(t,e)},uT.prototype.setDebugDrawer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bl(t,e)},uT.prototype.getDebugDrawer=function(){return XS(El(this.H),tT)},uT.prototype.debugDrawWorld=function(){vl(this.H)},uT.prototype.debugDrawObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),yl(n,e,t,i)},uT.prototype.addAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cl(t,e)},uT.prototype.removeAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xl(t,e)},uT.prototype.getSolverInfo=function(){return XS(Ol(this.H),JR)},uT.prototype.__destroy__=function(){al(this.H)},fT.prototype=Object.create(KS.prototype),fT.prototype.constructor=fT,fT.prototype.I=fT,fT.J={},a.btConvexShape=fT,fT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_c(t,e)},fT.prototype.getLocalScaling=function(){return XS(cc(this.H),aT)},fT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),ac(i,e,t)},fT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),uc(t,e)},fT.prototype.getMargin=function(){return lc(this.H)},fT.prototype.__destroy__=function(){sc(this.H)},dT.prototype=Object.create(GS.prototype),dT.prototype.constructor=dT,dT.prototype.I=dT,dT.J={},a.btDispatcher=dT,dT.prototype.getNumManifolds=function(){return h_(this.H)},dT.prototype.getManifoldByIndexInternal=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(d_(t,e),xT)},dT.prototype.__destroy__=function(){f_(this.H)},hT.prototype=Object.create(qS.prototype),hT.prototype.constructor=hT,hT.prototype.I=hT,hT.J={},a.btGeneric6DofConstraint=hT,hT.prototype.setLinearLowerLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),au(t,e)},hT.prototype.setLinearUpperLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cu(t,e)},hT.prototype.setAngularLowerLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ru(t,e)},hT.prototype.setAngularUpperLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ou(t,e)},hT.prototype.getFrameOffsetA=function(){return XS(iu(this.H),DR)},hT.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),eu(t,e)},hT.prototype.getBreakingImpulseThreshold=function(){return tu(this.H)},hT.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),su(t,e)},hT.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),nu(i,e,t)},hT.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),lu(n,e,t,i)},hT.prototype.__destroy__=function(){J_(this.H)},pT.prototype=Object.create(GS.prototype),pT.prototype.constructor=pT,pT.prototype.I=pT,pT.J={},a.btStridingMeshInterface=pT,pT.prototype.setScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ov(t,e)},pT.prototype.__destroy__=function(){rv(this.H)},bT.prototype=Object.create(GS.prototype),bT.prototype.constructor=bT,bT.prototype.I=bT,bT.J={},a.btMotionState=bT,bT.prototype.getWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Wd(t,e)},bT.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xd(t,e)},bT.prototype.__destroy__=function(){Gd(this.H)},mT.prototype=Object.create(GS.prototype),mT.prototype.constructor=mT,mT.prototype.I=mT,mT.J={},a.ConvexResultCallback=mT,mT.prototype.hasHit=function(){return!!Ui(this.H)},mT.prototype.get_m_collisionFilterGroup=mT.prototype.K=function(){return Bi(this.H)},mT.prototype.set_m_collisionFilterGroup=mT.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ji(t,e)},Object.defineProperty(mT.prototype,"m_collisionFilterGroup",{get:mT.prototype.K,set:mT.prototype.N}),mT.prototype.get_m_collisionFilterMask=mT.prototype.L=function(){return ki(this.H)},mT.prototype.set_m_collisionFilterMask=mT.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Vi(t,e)},Object.defineProperty(mT.prototype,"m_collisionFilterMask",{get:mT.prototype.L,set:mT.prototype.O}),mT.prototype.get_m_closestHitFraction=mT.prototype.P=function(){return Ni(this.H)},mT.prototype.set_m_closestHitFraction=mT.prototype.R=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hi(t,e)},Object.defineProperty(mT.prototype,"m_closestHitFraction",{get:mT.prototype.P,set:mT.prototype.R}),mT.prototype.__destroy__=function(){Fi(this.H)},AT.prototype=Object.create(GS.prototype),AT.prototype.constructor=AT,AT.prototype.I=AT,AT.J={},a.ContactResultCallback=AT,AT.prototype.addSingleResult=function(e,t,i,n,r,o,s){var a=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),Li(a,e,t,i,n,r,o,s)},AT.prototype.__destroy__=function(){wi(this.H)},gT.prototype=Object.create(GS.prototype),gT.prototype.constructor=gT,gT.prototype.I=gT,gT.J={},a.btSoftBodySolver=gT,gT.prototype.__destroy__=function(){LA(this.H)},yT.prototype=Object.create(GS.prototype),yT.prototype.constructor=yT,yT.prototype.I=yT,yT.J={},a.RayResultCallback=yT,yT.prototype.hasHit=function(){return!!Wn(this.H)},yT.prototype.get_m_collisionFilterGroup=yT.prototype.K=function(){return jn(this.H)},yT.prototype.set_m_collisionFilterGroup=yT.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),zn(t,e)},Object.defineProperty(yT.prototype,"m_collisionFilterGroup",{get:yT.prototype.K,set:yT.prototype.N}),yT.prototype.get_m_collisionFilterMask=yT.prototype.L=function(){return Vn(this.H)},yT.prototype.set_m_collisionFilterMask=yT.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Yn(t,e)},Object.defineProperty(yT.prototype,"m_collisionFilterMask",{get:yT.prototype.L,set:yT.prototype.O}),yT.prototype.get_m_closestHitFraction=yT.prototype.P=function(){return Hn(this.H)},yT.prototype.set_m_closestHitFraction=yT.prototype.R=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xn(t,e)},Object.defineProperty(yT.prototype,"m_closestHitFraction",{get:yT.prototype.P,set:yT.prototype.R}),yT.prototype.get_m_collisionObject=yT.prototype.S=function(){return XS(Gn(this.H),ZS)},yT.prototype.set_m_collisionObject=yT.prototype.aa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qn(t,e)},Object.defineProperty(yT.prototype,"m_collisionObject",{get:yT.prototype.S,set:yT.prototype.aa}),yT.prototype.__destroy__=function(){Un(this.H)},vT.prototype=Object.create(GS.prototype),vT.prototype.constructor=vT,vT.prototype.I=vT,vT.J={},a.btMatrix3x3=vT,vT.prototype.setEulerZYX=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Vd(n,e,t,i)},vT.prototype.getRotation=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hd(t,e)},vT.prototype.getRow=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(jd(t,e),aT)},vT.prototype.__destroy__=function(){Ud(this.H)},CT.prototype=Object.create(GS.prototype),CT.prototype.constructor=CT,CT.prototype.I=CT,CT.J={},a.btScalarArray=CT,CT.prototype.size=CT.prototype.size=function(){return eA(this.H)},CT.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),$m(t,e)},CT.prototype.__destroy__=function(){qm(this.H)},ET.prototype=Object.create(GS.prototype),ET.prototype.constructor=ET,ET.prototype.I=ET,ET.J={},a.Material=ET,ET.prototype.get_m_kLST=ET.prototype.cc=function(){return An(this.H)},ET.prototype.set_m_kLST=ET.prototype.Me=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Cn(t,e)},Object.defineProperty(ET.prototype,"m_kLST",{get:ET.prototype.cc,set:ET.prototype.Me}),ET.prototype.get_m_kAST=ET.prototype.bc=function(){return mn(this.H)},ET.prototype.set_m_kAST=ET.prototype.Le=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),vn(t,e)},Object.defineProperty(ET.prototype,"m_kAST",{get:ET.prototype.bc,set:ET.prototype.Le}),ET.prototype.get_m_kVST=ET.prototype.dc=function(){return gn(this.H)},ET.prototype.set_m_kVST=ET.prototype.Ne=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),En(t,e)},Object.defineProperty(ET.prototype,"m_kVST",{get:ET.prototype.dc,set:ET.prototype.Ne}),ET.prototype.get_m_flags=ET.prototype.Kb=function(){return bn(this.H)},ET.prototype.set_m_flags=ET.prototype.te=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),yn(t,e)},Object.defineProperty(ET.prototype,"m_flags",{get:ET.prototype.Kb,set:ET.prototype.te}),ET.prototype.__destroy__=function(){pn(this.H)},ST.prototype=Object.create(GS.prototype),ST.prototype.constructor=ST,ST.prototype.I=ST,ST.J={},a.btDispatcherInfo=ST,ST.prototype.get_m_timeStep=ST.prototype.Rc=function(){return Jl(this.H)},ST.prototype.set_m_timeStep=ST.prototype.Bf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),c_(t,e)},Object.defineProperty(ST.prototype,"m_timeStep",{get:ST.prototype.Rc,set:ST.prototype.Bf}),ST.prototype.get_m_stepCount=ST.prototype.Ic=function(){return Kl(this.H)},ST.prototype.set_m_stepCount=ST.prototype.sf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),s_(t,e)},Object.defineProperty(ST.prototype,"m_stepCount",{get:ST.prototype.Ic,set:ST.prototype.sf}),ST.prototype.get_m_dispatchFunc=ST.prototype.Cb=function(){return zl(this.H)},ST.prototype.set_m_dispatchFunc=ST.prototype.le=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),n_(t,e)},Object.defineProperty(ST.prototype,"m_dispatchFunc",{get:ST.prototype.Cb,set:ST.prototype.le}),ST.prototype.get_m_timeOfImpact=ST.prototype.Qc=function(){return Zl(this.H)},ST.prototype.set_m_timeOfImpact=ST.prototype.Af=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),a_(t,e)},Object.defineProperty(ST.prototype,"m_timeOfImpact",{get:ST.prototype.Qc,set:ST.prototype.Af}),ST.prototype.get_m_useContinuous=ST.prototype.Tc=function(){return!!ql(this.H)},ST.prototype.set_m_useContinuous=ST.prototype.Df=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),l_(t,e)},Object.defineProperty(ST.prototype,"m_useContinuous",{get:ST.prototype.Tc,set:ST.prototype.Df}),ST.prototype.get_m_enableSatConvex=ST.prototype.Gb=function(){return!!Ql(this.H)},ST.prototype.set_m_enableSatConvex=ST.prototype.pe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),o_(t,e)},Object.defineProperty(ST.prototype,"m_enableSatConvex",{get:ST.prototype.Gb,set:ST.prototype.pe}),ST.prototype.get_m_enableSPU=ST.prototype.Fb=function(){return!!Yl(this.H)},ST.prototype.set_m_enableSPU=ST.prototype.oe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),r_(t,e)},Object.defineProperty(ST.prototype,"m_enableSPU",{get:ST.prototype.Fb,set:ST.prototype.oe}),ST.prototype.get_m_useEpa=ST.prototype.Vc=function(){return!!e_(this.H)},ST.prototype.set_m_useEpa=ST.prototype.Ff=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),u_(t,e)},Object.defineProperty(ST.prototype,"m_useEpa",{get:ST.prototype.Vc,set:ST.prototype.Ff}),ST.prototype.get_m_allowedCcdPenetration=ST.prototype.fb=function(){return Wl(this.H)},ST.prototype.set_m_allowedCcdPenetration=ST.prototype.Pd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),t_(t,e)},Object.defineProperty(ST.prototype,"m_allowedCcdPenetration",{get:ST.prototype.fb,set:ST.prototype.Pd}),ST.prototype.get_m_useConvexConservativeDistanceUtil=ST.prototype.Uc=function(){return!!$l(this.H)},ST.prototype.set_m_useConvexConservativeDistanceUtil=ST.prototype.Ef=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),__(t,e)},Object.defineProperty(ST.prototype,"m_useConvexConservativeDistanceUtil",{get:ST.prototype.Uc,set:ST.prototype.Ef}),ST.prototype.get_m_convexConservativeDistanceThreshold=ST.prototype.xb=function(){return Xl(this.H)},ST.prototype.set_m_convexConservativeDistanceThreshold=ST.prototype.ge=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),i_(t,e)},Object.defineProperty(ST.prototype,"m_convexConservativeDistanceThreshold",{get:ST.prototype.xb,set:ST.prototype.ge}),ST.prototype.__destroy__=function(){Gl(this.H)},TT.prototype=Object.create(GS.prototype),TT.prototype.constructor=TT,TT.prototype.I=TT,TT.J={},a.btWheelInfoConstructionInfo=TT,TT.prototype.get_m_chassisConnectionCS=TT.prototype.rb=function(){return XS(zC(this.H),aT)},TT.prototype.set_m_chassisConnectionCS=TT.prototype.ae=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rE(t,e)},Object.defineProperty(TT.prototype,"m_chassisConnectionCS",{get:TT.prototype.rb,set:TT.prototype.ae}),TT.prototype.get_m_wheelDirectionCS=TT.prototype.pa=function(){return XS($C(this.H),aT)},TT.prototype.set_m_wheelDirectionCS=TT.prototype.wa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),uE(t,e)},Object.defineProperty(TT.prototype,"m_wheelDirectionCS",{get:TT.prototype.pa,set:TT.prototype.wa}),TT.prototype.get_m_wheelAxleCS=TT.prototype.oa=function(){return XS(qC(this.H),aT)},TT.prototype.set_m_wheelAxleCS=TT.prototype.va=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_E(t,e)},Object.defineProperty(TT.prototype,"m_wheelAxleCS",{get:TT.prototype.oa,set:TT.prototype.va}),TT.prototype.get_m_suspensionRestLength=TT.prototype.Nc=function(){return ZC(this.H)},TT.prototype.set_m_suspensionRestLength=TT.prototype.xf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cE(t,e)},Object.defineProperty(TT.prototype,"m_suspensionRestLength",{get:TT.prototype.Nc,set:TT.prototype.xf}),TT.prototype.get_m_maxSuspensionTravelCm=TT.prototype.X=function(){return KC(this.H)},TT.prototype.set_m_maxSuspensionTravelCm=TT.prototype.ga=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),aE(t,e)},Object.defineProperty(TT.prototype,"m_maxSuspensionTravelCm",{get:TT.prototype.X,set:TT.prototype.ga}),TT.prototype.get_m_wheelRadius=TT.prototype.ad=function(){return eE(this.H)},TT.prototype.set_m_wheelRadius=TT.prototype.Lf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),fE(t,e)},Object.defineProperty(TT.prototype,"m_wheelRadius",{get:TT.prototype.ad,set:TT.prototype.Lf}),TT.prototype.get_m_suspensionStiffness=TT.prototype.Y=function(){return JC(this.H)},TT.prototype.set_m_suspensionStiffness=TT.prototype.ha=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),lE(t,e)},Object.defineProperty(TT.prototype,"m_suspensionStiffness",{get:TT.prototype.Y,set:TT.prototype.ha}),TT.prototype.get_m_wheelsDampingCompression=TT.prototype.qa=function(){return tE(this.H)},TT.prototype.set_m_wheelsDampingCompression=TT.prototype.xa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),dE(t,e)},Object.defineProperty(TT.prototype,"m_wheelsDampingCompression",{get:TT.prototype.qa,set:TT.prototype.xa}),TT.prototype.get_m_wheelsDampingRelaxation=TT.prototype.ra=function(){return iE(this.H)},TT.prototype.set_m_wheelsDampingRelaxation=TT.prototype.ya=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hE(t,e)},Object.defineProperty(TT.prototype,"m_wheelsDampingRelaxation",{get:TT.prototype.ra,set:TT.prototype.ya}),TT.prototype.get_m_frictionSlip=TT.prototype.T=function(){return YC(this.H)},TT.prototype.set_m_frictionSlip=TT.prototype.ba=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),oE(t,e)},Object.defineProperty(TT.prototype,"m_frictionSlip",{get:TT.prototype.T,set:TT.prototype.ba}),TT.prototype.get_m_maxSuspensionForce=TT.prototype.W=function(){return QC(this.H)},TT.prototype.set_m_maxSuspensionForce=TT.prototype.fa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),sE(t,e)},Object.defineProperty(TT.prototype,"m_maxSuspensionForce",{get:TT.prototype.W,set:TT.prototype.fa}),TT.prototype.get_m_bIsFrontWheel=TT.prototype.la=function(){return!!XC(this.H)},TT.prototype.set_m_bIsFrontWheel=TT.prototype.sa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),nE(t,e)},Object.defineProperty(TT.prototype,"m_bIsFrontWheel",{get:TT.prototype.la,set:TT.prototype.sa}),TT.prototype.__destroy__=function(){WC(this.H)},RT.prototype=Object.create(fT.prototype),RT.prototype.constructor=RT,RT.prototype.I=RT,RT.J={},a.btConvexTriangleMeshShape=RT,RT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ac(t,e)},RT.prototype.getLocalScaling=function(){return XS(bc(this.H),aT)},RT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),pc(i,e,t)},RT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),gc(t,e)},RT.prototype.getMargin=function(){return mc(this.H)},RT.prototype.__destroy__=function(){fc(this.H)},MT.prototype=Object.create(GS.prototype),MT.prototype.constructor=MT,MT.prototype.I=MT,MT.J={},a.btBroadphaseInterface=MT,MT.prototype.getOverlappingPairCache=function(){return XS(Or(this.H),OR)},MT.prototype.__destroy__=function(){Mr(this.H)},OT.prototype=Object.create(GS.prototype),OT.prototype.constructor=OT,OT.prototype.I=OT,OT.J={},a.btRigidBodyConstructionInfo=OT,OT.prototype.get_m_linearDamping=OT.prototype.ec=function(){return Mb(this.H)},OT.prototype.set_m_linearDamping=OT.prototype.Oe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ub(t,e)},Object.defineProperty(OT.prototype,"m_linearDamping",{get:OT.prototype.ec,set:OT.prototype.Oe}),OT.prototype.get_m_angularDamping=OT.prototype.hb=function(){return Sb(this.H)},OT.prototype.set_m_angularDamping=OT.prototype.Rd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nb(t,e)},Object.defineProperty(OT.prototype,"m_angularDamping",{get:OT.prototype.hb,set:OT.prototype.Rd}),OT.prototype.get_m_friction=OT.prototype.Lb=function(){return Rb(this.H)},OT.prototype.set_m_friction=OT.prototype.ue=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kb(t,e)},Object.defineProperty(OT.prototype,"m_friction",{get:OT.prototype.Lb,set:OT.prototype.ue}),OT.prototype.get_m_rollingFriction=OT.prototype.Ac=function(){return xb(this.H)},OT.prototype.set_m_rollingFriction=OT.prototype.jf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Vb(t,e)},Object.defineProperty(OT.prototype,"m_rollingFriction",{get:OT.prototype.Ac,set:OT.prototype.jf}),OT.prototype.get_m_restitution=OT.prototype.yc=function(){return Ib(this.H)},OT.prototype.set_m_restitution=OT.prototype.gf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),jb(t,e)},Object.defineProperty(OT.prototype,"m_restitution",{get:OT.prototype.yc,set:OT.prototype.gf}),OT.prototype.get_m_linearSleepingThreshold=OT.prototype.fc=function(){return Ob(this.H)},OT.prototype.set_m_linearSleepingThreshold=OT.prototype.Pe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hb(t,e)},Object.defineProperty(OT.prototype,"m_linearSleepingThreshold",{get:OT.prototype.fc,set:OT.prototype.Pe}),OT.prototype.get_m_angularSleepingThreshold=OT.prototype.ib=function(){return Tb(this.H)},OT.prototype.set_m_angularSleepingThreshold=OT.prototype.Sd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bb(t,e)},Object.defineProperty(OT.prototype,"m_angularSleepingThreshold",{get:OT.prototype.ib,set:OT.prototype.Sd}),OT.prototype.get_m_additionalDamping=OT.prototype.bb=function(){return!!Cb(this.H)},OT.prototype.set_m_additionalDamping=OT.prototype.Md=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Lb(t,e)},Object.defineProperty(OT.prototype,"m_additionalDamping",{get:OT.prototype.bb,set:OT.prototype.Md}),OT.prototype.get_m_additionalDampingFactor=OT.prototype.cb=function(){return vb(this.H)},OT.prototype.set_m_additionalDampingFactor=OT.prototype.Nd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wb(t,e)},Object.defineProperty(OT.prototype,"m_additionalDampingFactor",{get:OT.prototype.cb,set:OT.prototype.Nd}),OT.prototype.get_m_additionalLinearDampingThresholdSqr=OT.prototype.eb=function(){return Eb(this.H)},OT.prototype.set_m_additionalLinearDampingThresholdSqr=OT.prototype.Od=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fb(t,e)},Object.defineProperty(OT.prototype,"m_additionalLinearDampingThresholdSqr",{get:OT.prototype.eb,set:OT.prototype.Od}),OT.prototype.get_m_additionalAngularDampingThresholdSqr=OT.prototype.ab=function(){return yb(this.H)},OT.prototype.set_m_additionalAngularDampingThresholdSqr=OT.prototype.Ld=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Db(t,e)},Object.defineProperty(OT.prototype,"m_additionalAngularDampingThresholdSqr",{get:OT.prototype.ab,set:OT.prototype.Ld}),OT.prototype.get_m_additionalAngularDampingFactor=OT.prototype.$a=function(){return gb(this.H)},OT.prototype.set_m_additionalAngularDampingFactor=OT.prototype.Kd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pb(t,e)},Object.defineProperty(OT.prototype,"m_additionalAngularDampingFactor",{get:OT.prototype.$a,set:OT.prototype.Kd}),OT.prototype.__destroy__=function(){bb(this.H)},IT.prototype=Object.create(GS.prototype),IT.prototype.constructor=IT,IT.prototype.I=IT,IT.J={},a.btCollisionConfiguration=IT,IT.prototype.__destroy__=function(){mo(this.H)},xT.prototype=Object.create(GS.prototype),xT.prototype.constructor=xT,xT.prototype.I=xT,xT.J={},a.btPersistentManifold=xT,xT.prototype.getBody0=function(){return XS(Nh(this.H),ZS)},xT.prototype.getBody1=function(){return XS(Bh(this.H),ZS)},xT.prototype.getNumContacts=function(){return Uh(this.H)},xT.prototype.getContactPoint=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(kh(t,e),HR)},xT.prototype.__destroy__=function(){Lh(this.H)},PT.prototype=Object.create(KS.prototype),PT.prototype.constructor=PT,PT.prototype.I=PT,PT.J={},a.btCompoundShape=PT,PT.prototype.addChildShape=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Rs(i,e,t)},PT.prototype.removeChildShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fs(t,e)},PT.prototype.removeChildShapeByIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ls(t,e)},PT.prototype.getNumChildShapes=function(){return ws(this.H)},PT.prototype.getChildShape=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(xs(t,e),KS)},PT.prototype.updateChildTransform=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===i?ks(n,e,t):Us(n,e,t,i)},PT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bs(t,e)},PT.prototype.getMargin=function(){return Ds(this.H)},PT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ns(t,e)},PT.prototype.getLocalScaling=function(){return XS(Ps(this.H),aT)},PT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Is(i,e,t)},PT.prototype.__destroy__=function(){Ts(this.H)},DT.prototype=Object.create(mT.prototype),DT.prototype.constructor=DT,DT.prototype.I=DT,DT.J={},a.ClosestConvexResultCallback=DT,DT.prototype.hasHit=function(){return!!st(this.H)},DT.prototype.get_m_convexFromWorld=DT.prototype.yb=function(){return XS(it(this.H),aT)},DT.prototype.set_m_convexFromWorld=DT.prototype.he=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_t(t,e)},Object.defineProperty(DT.prototype,"m_convexFromWorld",{get:DT.prototype.yb,set:DT.prototype.he}),DT.prototype.get_m_convexToWorld=DT.prototype.zb=function(){return XS(nt(this.H),aT)},DT.prototype.set_m_convexToWorld=DT.prototype.ie=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ut(t,e)},Object.defineProperty(DT.prototype,"m_convexToWorld",{get:DT.prototype.zb,set:DT.prototype.ie}),DT.prototype.get_m_hitNormalWorld=DT.prototype.U=function(){return XS(rt(this.H),aT)},DT.prototype.set_m_hitNormalWorld=DT.prototype.da=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ft(t,e)},Object.defineProperty(DT.prototype,"m_hitNormalWorld",{get:DT.prototype.U,set:DT.prototype.da}),DT.prototype.get_m_hitPointWorld=DT.prototype.V=function(){return XS(ot(this.H),aT)},DT.prototype.set_m_hitPointWorld=DT.prototype.ea=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),dt(t,e)},Object.defineProperty(DT.prototype,"m_hitPointWorld",{get:DT.prototype.V,set:DT.prototype.ea}),DT.prototype.get_m_collisionFilterGroup=DT.prototype.K=function(){return et(this.H)},DT.prototype.set_m_collisionFilterGroup=DT.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ct(t,e)},Object.defineProperty(DT.prototype,"m_collisionFilterGroup",{get:DT.prototype.K,set:DT.prototype.N}),DT.prototype.get_m_collisionFilterMask=DT.prototype.L=function(){return tt(this.H)},DT.prototype.set_m_collisionFilterMask=DT.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),lt(t,e)},Object.defineProperty(DT.prototype,"m_collisionFilterMask",{get:DT.prototype.L,set:DT.prototype.O}),DT.prototype.get_m_closestHitFraction=DT.prototype.P=function(){return $e(this.H)},DT.prototype.set_m_closestHitFraction=DT.prototype.R=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),at(t,e)},Object.defineProperty(DT.prototype,"m_closestHitFraction",{get:DT.prototype.P,set:DT.prototype.R}),DT.prototype.__destroy__=function(){qe(this.H)},wT.prototype=Object.create(yT.prototype),wT.prototype.constructor=wT,wT.prototype.I=wT,wT.J={},a.AllHitsRayResultCallback=wT,wT.prototype.hasHit=function(){return!!Te(this.H)},wT.prototype.get_m_collisionObjects=wT.prototype.ub=function(){return XS(ge(this.H),BR)},wT.prototype.set_m_collisionObjects=wT.prototype.de=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xe(t,e)},Object.defineProperty(wT.prototype,"m_collisionObjects",{get:wT.prototype.ub,set:wT.prototype.de}),wT.prototype.get_m_rayFromWorld=wT.prototype.ma=function(){return XS(Ee(this.H),aT)},wT.prototype.set_m_rayFromWorld=wT.prototype.ta=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Le(t,e)},Object.defineProperty(wT.prototype,"m_rayFromWorld",{get:wT.prototype.ma,set:wT.prototype.ta}),wT.prototype.get_m_rayToWorld=wT.prototype.na=function(){return XS(Se(this.H),aT)},wT.prototype.set_m_rayToWorld=wT.prototype.ua=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fe(t,e)},Object.defineProperty(wT.prototype,"m_rayToWorld",{get:wT.prototype.na,set:wT.prototype.ua}),wT.prototype.get_m_hitNormalWorld=wT.prototype.U=function(){return XS(ve(this.H),cR)},wT.prototype.set_m_hitNormalWorld=wT.prototype.da=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),De(t,e)},Object.defineProperty(wT.prototype,"m_hitNormalWorld",{get:wT.prototype.U,set:wT.prototype.da}),wT.prototype.get_m_hitPointWorld=wT.prototype.V=function(){return XS(Ce(this.H),cR)},wT.prototype.set_m_hitPointWorld=wT.prototype.ea=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),we(t,e)},Object.defineProperty(wT.prototype,"m_hitPointWorld",{get:wT.prototype.V,set:wT.prototype.ea}),wT.prototype.get_m_hitFractions=wT.prototype.Sb=function(){return XS(ye(this.H),CT)},wT.prototype.set_m_hitFractions=wT.prototype.Be=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pe(t,e)},Object.defineProperty(wT.prototype,"m_hitFractions",{get:wT.prototype.Sb,set:wT.prototype.Be}),wT.prototype.get_m_collisionFilterGroup=wT.prototype.K=function(){return be(this.H)},wT.prototype.set_m_collisionFilterGroup=wT.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Me(t,e)},Object.defineProperty(wT.prototype,"m_collisionFilterGroup",{get:wT.prototype.K,set:wT.prototype.N}),wT.prototype.get_m_collisionFilterMask=wT.prototype.L=function(){return me(this.H)},wT.prototype.set_m_collisionFilterMask=wT.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Oe(t,e)},Object.defineProperty(wT.prototype,"m_collisionFilterMask",{get:wT.prototype.L,set:wT.prototype.O}),wT.prototype.get_m_closestHitFraction=wT.prototype.P=function(){return pe(this.H)},wT.prototype.set_m_closestHitFraction=wT.prototype.R=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Re(t,e)},Object.defineProperty(wT.prototype,"m_closestHitFraction",{get:wT.prototype.P,set:wT.prototype.R}),wT.prototype.get_m_collisionObject=wT.prototype.S=function(){return XS(Ae(this.H),ZS)},wT.prototype.set_m_collisionObject=wT.prototype.aa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ie(t,e)},Object.defineProperty(wT.prototype,"m_collisionObject",{get:wT.prototype.S,set:wT.prototype.aa}),wT.prototype.__destroy__=function(){he(this.H)},LT.prototype=Object.create(GS.prototype),LT.prototype.constructor=LT,LT.prototype.I=LT,LT.J={},a.tMaterialArray=LT,LT.prototype.size=LT.prototype.size=function(){return vS(this.H)},LT.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(yS(t,e),ET)},LT.prototype.__destroy__=function(){gS(this.H)},FT.prototype=Object.create(cT.prototype),FT.prototype.constructor=FT,FT.prototype.I=FT,FT.J={},a.btDefaultVehicleRaycaster=FT,FT.prototype.castRay=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),sl(n,e,t,i)},FT.prototype.__destroy__=function(){rl(this.H)},NT.prototype=Object.create(GS.prototype),NT.prototype.constructor=NT,NT.prototype.I=NT,NT.J={},a.btConstraintSetting=NT,NT.prototype.get_m_tau=NT.prototype.Pc=function(){return Oa(this.H)},NT.prototype.set_m_tau=NT.prototype.zf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pa(t,e)},Object.defineProperty(NT.prototype,"m_tau",{get:NT.prototype.Pc,set:NT.prototype.zf}),NT.prototype.get_m_damping=NT.prototype.Ab=function(){return Ra(this.H)},NT.prototype.set_m_damping=NT.prototype.je=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ia(t,e)},Object.defineProperty(NT.prototype,"m_damping",{get:NT.prototype.Ab,set:NT.prototype.je}),NT.prototype.get_m_impulseClamp=NT.prototype.Yb=function(){return Ma(this.H)},NT.prototype.set_m_impulseClamp=NT.prototype.He=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xa(t,e)},Object.defineProperty(NT.prototype,"m_impulseClamp",{get:NT.prototype.Yb,set:NT.prototype.He}),NT.prototype.__destroy__=function(){Sa(this.H)},BT.prototype=Object.create(GS.prototype),BT.prototype.constructor=BT,BT.prototype.I=BT,BT.J={},a.LocalShapeInfo=BT,BT.prototype.get_m_shapePart=BT.prototype.Dc=function(){return un(this.H)},BT.prototype.set_m_shapePart=BT.prototype.mf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),dn(t,e)},Object.defineProperty(BT.prototype,"m_shapePart",{get:BT.prototype.Dc,set:BT.prototype.mf}),BT.prototype.get_m_triangleIndex=BT.prototype.Sc=function(){return fn(this.H)},BT.prototype.set_m_triangleIndex=BT.prototype.Cf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hn(t,e)},Object.defineProperty(BT.prototype,"m_triangleIndex",{get:BT.prototype.Sc,set:BT.prototype.Cf}),BT.prototype.__destroy__=function(){_n(this.H)},kT.prototype=Object.create(ZS.prototype),kT.prototype.constructor=kT,kT.prototype.I=kT,kT.J={},a.btRigidBody=kT,kT.prototype.getCenterOfMassTransform=function(){return XS(lm(this.H),DR)},kT.prototype.setCenterOfMassTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wm(t,e)},kT.prototype.setSleepingThresholds=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),zm(i,e,t)},kT.prototype.getLinearDamping=function(){return hm(this.H)},kT.prototype.getAngularDamping=function(){return rm(this.H)},kT.prototype.setDamping=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Bm(i,e,t)},kT.prototype.setMassProps=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Vm(i,e,t)},kT.prototype.getLinearFactor=function(){return XS(pm(this.H),aT)},kT.prototype.setLinearFactor=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hm(t,e)},kT.prototype.applyTorque=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),em(t,e)},kT.prototype.applyLocalTorque=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qb(t,e)},kT.prototype.applyForce=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Kb(i,e,t)},kT.prototype.applyCentralForce=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),zb(t,e)},kT.prototype.applyCentralLocalForce=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qb(t,e)},kT.prototype.applyTorqueImpulse=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$b(t,e)},kT.prototype.applyImpulse=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Jb(i,e,t)},kT.prototype.applyCentralImpulse=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Yb(t,e)},kT.prototype.updateInertiaTensor=function(){Jm(this.H)},kT.prototype.getLinearVelocity=function(){return XS(bm(this.H),aT)},kT.prototype.getAngularVelocity=function(){return XS(sm(this.H),aT)},kT.prototype.setLinearVelocity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),jm(t,e)},kT.prototype.setAngularVelocity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Im(t,e)},kT.prototype.getMotionState=function(){return XS(mm(this.H),bT)},kT.prototype.setMotionState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Gm(t,e)},kT.prototype.getAngularFactor=function(){return XS(om(this.H),aT)},kT.prototype.setAngularFactor=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Om(t,e)},kT.prototype.upcast=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Zm(t,e),kT)},kT.prototype.getAabb=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),nm(i,e,t)},kT.prototype.applyGravity=function(){Zb(this.H)},kT.prototype.getGravity=function(){return XS(dm(this.H),aT)},kT.prototype.setGravity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Um(t,e)},kT.prototype.getBroadphaseProxy=function(){return XS(cm(this.H),GR)},kT.prototype.setAnisotropicFriction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),xm(i,e,t)},kT.prototype.getCollisionShape=function(){return XS(um(this.H),KS)},kT.prototype.setContactProcessingThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nm(t,e)},kT.prototype.setActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Mm(t,e)},kT.prototype.forceActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),im(t,e)},kT.prototype.activate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),void 0===e?Wb(t):Xb(t,e)},kT.prototype.isActive=function(){return!!Em(this.H)},kT.prototype.isKinematicObject=function(){return!!Sm(this.H)},kT.prototype.isStaticObject=function(){return!!Tm(this.H)},kT.prototype.isStaticOrKinematicObject=function(){return!!Rm(this.H)},kT.prototype.getRestitution=function(){return Am(this.H)},kT.prototype.getFriction=function(){return fm(this.H)},kT.prototype.getRollingFriction=function(){return gm(this.H)},kT.prototype.setRestitution=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Wm(t,e)},kT.prototype.setFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),km(t,e)},kT.prototype.setRollingFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xm(t,e)},kT.prototype.getWorldTransform=function(){return XS(Cm(this.H),DR)},kT.prototype.getCollisionFlags=function(){return _m(this.H)},kT.prototype.setCollisionFlags=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Lm(t,e)},kT.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Km(t,e)},kT.prototype.setCollisionShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fm(t,e)},kT.prototype.setCcdMotionThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pm(t,e)},kT.prototype.setCcdSweptSphereRadius=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dm(t,e)},kT.prototype.getUserIndex=function(){return ym(this.H)},kT.prototype.setUserIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ym(t,e)},kT.prototype.getUserPointer=function(){return XS(vm(this.H),XT)},kT.prototype.setUserPointer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qm(t,e)},kT.prototype.getBroadphaseHandle=function(){return XS(am(this.H),GR)},kT.prototype.__destroy__=function(){Gb(this.H)},UT.prototype=Object.create(GS.prototype),UT.prototype.constructor=UT,UT.prototype.I=UT,UT.J={},a.btIndexedMeshArray=UT,UT.prototype.size=UT.prototype.size=function(){return zf(this.H)},UT.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Xf(t,e),IR)},UT.prototype.__destroy__=function(){Wf(this.H)},HT.prototype=Object.create(GS.prototype),HT.prototype.constructor=HT,HT.prototype.I=HT,HT.J={},a.btDbvtBroadphase=HT,HT.prototype.__destroy__=function(){jc(this.H)},jT.prototype=Object.create($S.prototype),jT.prototype.constructor=jT,jT.prototype.I=jT,jT.J={},a.btHeightfieldTerrainShape=jT,jT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),mf(t,e)},jT.prototype.getMargin=function(){return pf(this.H)},jT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bf(t,e)},jT.prototype.getLocalScaling=function(){return XS(hf(this.H),aT)},jT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),df(i,e,t)},jT.prototype.__destroy__=function(){uf(this.H)},VT.prototype=Object.create(gT.prototype),VT.prototype.constructor=VT,VT.prototype.I=VT,VT.J={},a.btDefaultSoftBodySolver=VT,VT.prototype.__destroy__=function(){il(this.H)},GT.prototype=Object.create(dT.prototype),GT.prototype.constructor=GT,GT.prototype.I=GT,GT.J={},a.btCollisionDispatcher=GT,GT.prototype.getNumManifolds=function(){return vo(this.H)},GT.prototype.getManifoldByIndexInternal=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(yo(t,e),xT)},GT.prototype.__destroy__=function(){Ao(this.H)},WT.prototype=Object.create(GS.prototype),WT.prototype.constructor=WT,WT.prototype.I=WT,WT.J={},a.btAxisSweep3=WT,WT.prototype.__destroy__=function(){pr(this.H)},XT.prototype=Object.create(GS.prototype),XT.prototype.constructor=XT,XT.prototype.I=XT,XT.J={},a.VoidPtr=XT,XT.prototype.__destroy__=function(){fr(this.H)},zT.prototype=Object.create(GS.prototype),zT.prototype.constructor=zT,zT.prototype.I=zT,zT.J={},a.btSoftBodyWorldInfo=zT,zT.prototype.get_air_density=zT.prototype.Ea=function(){return BA(this.H)},zT.prototype.set_air_density=zT.prototype.od=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),XA(t,e)},Object.defineProperty(zT.prototype,"air_density",{get:zT.prototype.Ea,set:zT.prototype.od}),zT.prototype.get_water_density=zT.prototype.ld=function(){return VA(this.H)},zT.prototype.set_water_density=zT.prototype.Uf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ZA(t,e)},Object.defineProperty(zT.prototype,"water_density",{get:zT.prototype.ld,set:zT.prototype.Uf}),zT.prototype.get_water_offset=zT.prototype.nd=function(){return WA(this.H)},zT.prototype.set_water_offset=zT.prototype.Wf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qA(t,e)},Object.defineProperty(zT.prototype,"water_offset",{get:zT.prototype.nd,set:zT.prototype.Wf}),zT.prototype.get_m_maxDisplacement=zT.prototype.mc=function(){return jA(this.H)},zT.prototype.set_m_maxDisplacement=zT.prototype.Ve=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),KA(t,e)},Object.defineProperty(zT.prototype,"m_maxDisplacement",{get:zT.prototype.mc,set:zT.prototype.Ve}),zT.prototype.get_water_normal=zT.prototype.md=function(){return XS(GA(this.H),aT)},zT.prototype.set_water_normal=zT.prototype.Vf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),JA(t,e)},Object.defineProperty(zT.prototype,"water_normal",{get:zT.prototype.md,set:zT.prototype.Vf}),zT.prototype.get_m_broadphase=zT.prototype.mb=function(){return XS(kA(this.H),MT)},zT.prototype.set_m_broadphase=zT.prototype.Wd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),zA(t,e)},Object.defineProperty(zT.prototype,"m_broadphase",{get:zT.prototype.mb,set:zT.prototype.Wd}),zT.prototype.get_m_dispatcher=zT.prototype.Db=function(){return XS(UA(this.H),dT)},zT.prototype.set_m_dispatcher=zT.prototype.me=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),YA(t,e)},Object.defineProperty(zT.prototype,"m_dispatcher",{get:zT.prototype.Db,set:zT.prototype.me}),zT.prototype.get_m_gravity=zT.prototype.Nb=function(){return XS(HA(this.H),aT)},zT.prototype.set_m_gravity=zT.prototype.we=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),QA(t,e)},Object.defineProperty(zT.prototype,"m_gravity",{get:zT.prototype.Nb,set:zT.prototype.we}),zT.prototype.__destroy__=function(){FA(this.H)},YT.prototype=Object.create(qS.prototype),YT.prototype.constructor=YT,YT.prototype.I=YT,YT.J={},a.btConeTwistConstraint=YT,YT.prototype.setLimit=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),pa(i,e,t)},YT.prototype.setAngularOnly=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),fa(t,e)},YT.prototype.setDamping=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ha(t,e)},YT.prototype.enableMotor=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),la(t,e)},YT.prototype.setMaxMotorImpulse=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ma(t,e)},YT.prototype.setMaxMotorImpulseNormalized=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ba(t,e)},YT.prototype.setMotorTarget=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ga(t,e)},YT.prototype.setMotorTargetInConstraintSpace=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Aa(t,e)},YT.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ca(t,e)},YT.prototype.getBreakingImpulseThreshold=function(){return _a(this.H)},YT.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),da(t,e)},YT.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),ua(i,e,t)},YT.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),ya(n,e,t,i)},YT.prototype.__destroy__=function(){oa(this.H)},QT.prototype=Object.create(qS.prototype),QT.prototype.constructor=QT,QT.prototype.I=QT,QT.J={},a.btHingeConstraint=QT,QT.prototype.setLimit=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),void 0===r?Df(o,e,t,i,n):wf(o,e,t,i,n,r)},QT.prototype.enableAngularMotor=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Tf(n,e,t,i)},QT.prototype.setAngularOnly=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xf(t,e)},QT.prototype.enableMotor=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Mf(t,e)},QT.prototype.setMaxMotorImpulse=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Lf(t,e)},QT.prototype.setMotorTarget=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ff(i,e,t)},QT.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Rf(t,e)},QT.prototype.getBreakingImpulseThreshold=function(){return Of(this.H)},QT.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pf(t,e)},QT.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),If(i,e,t)},QT.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Nf(n,e,t,i)},QT.prototype.__destroy__=function(){Af(this.H)},KT.prototype=Object.create(oT.prototype),KT.prototype.constructor=KT,KT.prototype.I=KT,KT.J={},a.btConeShapeZ=KT,KT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$s(t,e)},KT.prototype.getLocalScaling=function(){return XS(qs(this.H),aT)},KT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Js(i,e,t)},KT.prototype.__destroy__=function(){Ks(this.H)},ZT.prototype=Object.create(oT.prototype),ZT.prototype.constructor=ZT,ZT.prototype.I=ZT,ZT.J={},a.btConeShapeX=ZT,ZT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qs(t,e)},ZT.prototype.getLocalScaling=function(){return XS(Ys(this.H),aT)},ZT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),zs(i,e,t)},ZT.prototype.__destroy__=function(){Ws(this.H)},JT.prototype=Object.create(pT.prototype),JT.prototype.constructor=JT,JT.prototype.I=JT,JT.J={},a.btTriangleMesh=JT,JT.prototype.addTriangle=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),void 0===n?Sv(r,e,t,i):Tv(r,e,t,i,n)},JT.prototype.findOrAddVertex=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Iv(i,e,t)},JT.prototype.addIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ev(t,e)},JT.prototype.getIndexedMeshArray=function(){return XS(xv(this.H),UT)},JT.prototype.setScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pv(t,e)},JT.prototype.__destroy__=function(){Cv(this.H)},qT.prototype=Object.create(KS.prototype),qT.prototype.constructor=qT,qT.prototype.I=qT,qT.J={},a.btConvexHullShape=qT,qT.prototype.addPoint=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?ja(i,e):Va(i,e,t)},qT.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ec(t,e)},qT.prototype.getMargin=function(){return Ka(this.H)},qT.prototype.getNumVertices=function(){return Za(this.H)},qT.prototype.initializePolyhedralFeatures=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),!!Ja(t,e)},qT.prototype.recalcLocalAabb=function(){qa(this.H)},qT.prototype.getConvexPolyhedron=function(){return XS(Ya(this.H),dR)},qT.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$a(t,e)},qT.prototype.getLocalScaling=function(){return XS(Qa(this.H),aT)},qT.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),za(i,e,t)},qT.prototype.__destroy__=function(){Ha(this.H)},$T.prototype=Object.create(GS.prototype),$T.prototype.constructor=$T,$T.prototype.I=$T,$T.J={},a.btVehicleTuning=$T,$T.prototype.get_m_suspensionStiffness=$T.prototype.Y=function(){return BC(this.H)},$T.prototype.set_m_suspensionStiffness=$T.prototype.ha=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),GC(t,e)},Object.defineProperty($T.prototype,"m_suspensionStiffness",{get:$T.prototype.Y,set:$T.prototype.ha}),$T.prototype.get_m_suspensionCompression=$T.prototype.Jc=function(){return FC(this.H)},$T.prototype.set_m_suspensionCompression=$T.prototype.tf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),jC(t,e)},Object.defineProperty($T.prototype,"m_suspensionCompression",{get:$T.prototype.Jc,set:$T.prototype.tf}),$T.prototype.get_m_suspensionDamping=$T.prototype.Kc=function(){return NC(this.H)},$T.prototype.set_m_suspensionDamping=$T.prototype.uf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),VC(t,e)},Object.defineProperty($T.prototype,"m_suspensionDamping",{get:$T.prototype.Kc,set:$T.prototype.uf}),$T.prototype.get_m_maxSuspensionTravelCm=$T.prototype.X=function(){return LC(this.H)},$T.prototype.set_m_maxSuspensionTravelCm=$T.prototype.ga=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),HC(t,e)},Object.defineProperty($T.prototype,"m_maxSuspensionTravelCm",{get:$T.prototype.X,set:$T.prototype.ga}),$T.prototype.get_m_frictionSlip=$T.prototype.T=function(){return DC(this.H)},$T.prototype.set_m_frictionSlip=$T.prototype.ba=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kC(t,e)},Object.defineProperty($T.prototype,"m_frictionSlip",{get:$T.prototype.T,set:$T.prototype.ba}),$T.prototype.get_m_maxSuspensionForce=$T.prototype.W=function(){return wC(this.H)},$T.prototype.set_m_maxSuspensionForce=$T.prototype.fa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),UC(t,e)},Object.defineProperty($T.prototype,"m_maxSuspensionForce",{get:$T.prototype.W,set:$T.prototype.fa}),eR.prototype=Object.create(GS.prototype),eR.prototype.constructor=eR,eR.prototype.I=eR,eR.J={},a.btCollisionObjectWrapper=eR,eR.prototype.getWorldTransform=function(){return XS(So(this.H),DR)},eR.prototype.getCollisionObject=function(){return XS(Co(this.H),ZS)},eR.prototype.getCollisionShape=function(){return XS(Eo(this.H),KS)},tR.prototype=Object.create(GS.prototype),tR.prototype.constructor=tR,tR.prototype.I=tR,tR.J={},a.btShapeHull=tR,tR.prototype.buildHull=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),!!oA(t,e)},tR.prototype.numVertices=function(){return aA(this.H)},tR.prototype.getVertexPointer=function(){return XS(sA(this.H),aT)},tR.prototype.__destroy__=function(){nA(this.H)},iR.prototype=Object.create(bT.prototype),iR.prototype.constructor=iR,iR.prototype.I=iR,iR.J={},a.btDefaultMotionState=iR,iR.prototype.getWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qc(t,e)},iR.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),el(t,e)},iR.prototype.get_m_graphicsWorldTrans=iR.prototype.Mb=function(){return XS($c(this.H),DR)},iR.prototype.set_m_graphicsWorldTrans=iR.prototype.ve=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),tl(t,e)},Object.defineProperty(iR.prototype,"m_graphicsWorldTrans",{get:iR.prototype.Mb,set:iR.prototype.ve}),iR.prototype.__destroy__=function(){Qc(this.H)},nR.prototype=Object.create(GS.prototype),nR.prototype.constructor=nR,nR.prototype.I=nR,nR.J={},a.btWheelInfo=nR,nR.prototype.getSuspensionRestLength=function(){return mE(this.H)},nR.prototype.updateWheel=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),fS(i,e,t)},nR.prototype.get_m_suspensionStiffness=nR.prototype.Y=function(){return LE(this.H)},nR.prototype.set_m_suspensionStiffness=nR.prototype.ha=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rS(t,e)},Object.defineProperty(nR.prototype,"m_suspensionStiffness",{get:nR.prototype.Y,set:nR.prototype.ha}),nR.prototype.get_m_frictionSlip=nR.prototype.T=function(){return SE(this.H)},nR.prototype.set_m_frictionSlip=nR.prototype.ba=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),QE(t,e)},Object.defineProperty(nR.prototype,"m_frictionSlip",{get:nR.prototype.T,set:nR.prototype.ba}),nR.prototype.get_m_engineForce=nR.prototype.Hb=function(){return EE(this.H)},nR.prototype.set_m_engineForce=nR.prototype.qe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),YE(t,e)},Object.defineProperty(nR.prototype,"m_engineForce",{get:nR.prototype.Hb,set:nR.prototype.qe}),nR.prototype.get_m_rollInfluence=nR.prototype.zc=function(){return OE(this.H)},nR.prototype.set_m_rollInfluence=nR.prototype.hf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qE(t,e)},Object.defineProperty(nR.prototype,"m_rollInfluence",{get:nR.prototype.zc,set:nR.prototype.hf}),nR.prototype.get_m_suspensionRestLength1=nR.prototype.Oc=function(){return wE(this.H)},nR.prototype.set_m_suspensionRestLength1=nR.prototype.yf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),nS(t,e)},Object.defineProperty(nR.prototype,"m_suspensionRestLength1",{get:nR.prototype.Oc,set:nR.prototype.yf}),nR.prototype.get_m_wheelsRadius=nR.prototype.bd=function(){return UE(this.H)},nR.prototype.set_m_wheelsRadius=nR.prototype.Mf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),lS(t,e)},Object.defineProperty(nR.prototype,"m_wheelsRadius",{get:nR.prototype.bd,set:nR.prototype.Mf}),nR.prototype.get_m_wheelsDampingCompression=nR.prototype.qa=function(){return BE(this.H)},nR.prototype.set_m_wheelsDampingCompression=nR.prototype.xa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),aS(t,e)},Object.defineProperty(nR.prototype,"m_wheelsDampingCompression",{get:nR.prototype.qa,set:nR.prototype.xa}),nR.prototype.get_m_wheelsDampingRelaxation=nR.prototype.ra=function(){return kE(this.H)},nR.prototype.set_m_wheelsDampingRelaxation=nR.prototype.ya=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cS(t,e)},Object.defineProperty(nR.prototype,"m_wheelsDampingRelaxation",{get:nR.prototype.ra,set:nR.prototype.ya}),nR.prototype.get_m_steering=nR.prototype.Hc=function(){return PE(this.H)},nR.prototype.set_m_steering=nR.prototype.rf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),tS(t,e)},Object.defineProperty(nR.prototype,"m_steering",{get:nR.prototype.Hc,set:nR.prototype.rf}),nR.prototype.get_m_maxSuspensionForce=nR.prototype.W=function(){return TE(this.H)},nR.prototype.set_m_maxSuspensionForce=nR.prototype.fa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),KE(t,e)},Object.defineProperty(nR.prototype,"m_maxSuspensionForce",{get:nR.prototype.W,set:nR.prototype.fa}),nR.prototype.get_m_maxSuspensionTravelCm=nR.prototype.X=function(){return RE(this.H)},nR.prototype.set_m_maxSuspensionTravelCm=nR.prototype.ga=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ZE(t,e)},Object.defineProperty(nR.prototype,"m_maxSuspensionTravelCm",{get:nR.prototype.X,set:nR.prototype.ga}),nR.prototype.get_m_wheelsSuspensionForce=nR.prototype.cd=function(){return HE(this.H)},nR.prototype.set_m_wheelsSuspensionForce=nR.prototype.Nf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_S(t,e)},Object.defineProperty(nR.prototype,"m_wheelsSuspensionForce",{get:nR.prototype.cd,set:nR.prototype.Nf}),nR.prototype.get_m_bIsFrontWheel=nR.prototype.la=function(){return!!AE(this.H)},nR.prototype.set_m_bIsFrontWheel=nR.prototype.sa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),VE(t,e)},Object.defineProperty(nR.prototype,"m_bIsFrontWheel",{get:nR.prototype.la,set:nR.prototype.sa}),nR.prototype.get_m_raycastInfo=nR.prototype.xc=function(){return XS(ME(this.H),bR)},nR.prototype.set_m_raycastInfo=nR.prototype.ff=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),JE(t,e)},Object.defineProperty(nR.prototype,"m_raycastInfo",{get:nR.prototype.xc,set:nR.prototype.ff}),nR.prototype.get_m_chassisConnectionPointCS=nR.prototype.sb=function(){return XS(yE(this.H),aT)},nR.prototype.set_m_chassisConnectionPointCS=nR.prototype.be=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),WE(t,e)},Object.defineProperty(nR.prototype,"m_chassisConnectionPointCS",{get:nR.prototype.sb,set:nR.prototype.be}),nR.prototype.get_m_worldTransform=nR.prototype.dd=function(){return XS(jE(this.H),DR)},nR.prototype.set_m_worldTransform=nR.prototype.Of=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),uS(t,e)},Object.defineProperty(nR.prototype,"m_worldTransform",{get:nR.prototype.dd,set:nR.prototype.Of}),nR.prototype.get_m_wheelDirectionCS=nR.prototype.pa=function(){return XS(NE(this.H),aT)},nR.prototype.set_m_wheelDirectionCS=nR.prototype.wa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),sS(t,e)},Object.defineProperty(nR.prototype,"m_wheelDirectionCS",{get:nR.prototype.pa,set:nR.prototype.wa}),nR.prototype.get_m_wheelAxleCS=nR.prototype.oa=function(){return XS(FE(this.H),aT)},nR.prototype.set_m_wheelAxleCS=nR.prototype.va=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),oS(t,e)},Object.defineProperty(nR.prototype,"m_wheelAxleCS",{get:nR.prototype.oa,set:nR.prototype.va}),nR.prototype.get_m_rotation=nR.prototype.Bc=function(){return IE(this.H)},nR.prototype.set_m_rotation=nR.prototype.kf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$E(t,e)},Object.defineProperty(nR.prototype,"m_rotation",{get:nR.prototype.Bc,set:nR.prototype.kf}),nR.prototype.get_m_deltaRotation=nR.prototype.Bb=function(){return CE(this.H)},nR.prototype.set_m_deltaRotation=nR.prototype.ke=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),zE(t,e)},Object.defineProperty(nR.prototype,"m_deltaRotation",{get:nR.prototype.Bb,set:nR.prototype.ke}),nR.prototype.get_m_brake=nR.prototype.lb=function(){return gE(this.H)},nR.prototype.set_m_brake=nR.prototype.Vd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),GE(t,e)},Object.defineProperty(nR.prototype,"m_brake",{get:nR.prototype.lb,set:nR.prototype.Vd}),nR.prototype.get_m_clippedInvContactDotSuspension=nR.prototype.tb=function(){return vE(this.H)},nR.prototype.set_m_clippedInvContactDotSuspension=nR.prototype.ce=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),XE(t,e)},Object.defineProperty(nR.prototype,"m_clippedInvContactDotSuspension",{get:nR.prototype.tb,set:nR.prototype.ce}),nR.prototype.get_m_suspensionRelativeVelocity=nR.prototype.Mc=function(){return DE(this.H)},nR.prototype.set_m_suspensionRelativeVelocity=nR.prototype.wf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),iS(t,e)},Object.defineProperty(nR.prototype,"m_suspensionRelativeVelocity",{get:nR.prototype.Mc,set:nR.prototype.wf}),nR.prototype.get_m_skidInfo=nR.prototype.Ec=function(){return xE(this.H)},nR.prototype.set_m_skidInfo=nR.prototype.nf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),eS(t,e)},Object.defineProperty(nR.prototype,"m_skidInfo",{get:nR.prototype.Ec,set:nR.prototype.nf}),nR.prototype.__destroy__=function(){pE(this.H)},rR.prototype=Object.create(aT.prototype),rR.prototype.constructor=rR,rR.prototype.I=rR,rR.J={},a.btVector4=rR,rR.prototype.w=rR.prototype.Aa=function(){return AC(this.H)},rR.prototype.setValue=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),hC(r,e,t,i,n)},rR.prototype.length=rR.prototype.length=function(){return cC(this.H)},rR.prototype.x=rR.prototype.x=function(){return gC(this.H)},rR.prototype.y=rR.prototype.y=function(){return yC(this.H)},rR.prototype.z=rR.prototype.z=function(){return vC(this.H)},rR.prototype.setX=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),pC(t,e)},rR.prototype.setY=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bC(t,e)},rR.prototype.setZ=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),mC(t,e)},rR.prototype.normalize=rR.prototype.normalize=function(){lC(this.H)},rR.prototype.rotate=rR.prototype.rotate=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),XS(dC(i,e,t),aT)},rR.prototype.dot=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),aC(t,e)},rR.prototype.op_mul=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(uC(t,e),aT)},rR.prototype.op_add=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(_C(t,e),aT)},rR.prototype.op_sub=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(fC(t,e),aT)},rR.prototype.__destroy__=function(){rC(this.H)},oR.prototype=Object.create(GS.prototype),oR.prototype.constructor=oR,oR.prototype.I=oR,oR.J={},a.btDefaultCollisionConstructionInfo=oR,oR.prototype.__destroy__=function(){zc(this.H)},sR.prototype=Object.create(GS.prototype),sR.prototype.constructor=sR,sR.prototype.I=sR,sR.J={},a.Anchor=sR,sR.prototype.get_m_node=sR.prototype.oc=function(){return XS(Ge(this.H),vR)},sR.prototype.set_m_node=sR.prototype.Xe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ze(t,e)},Object.defineProperty(sR.prototype,"m_node",{get:sR.prototype.oc,set:sR.prototype.Xe}),sR.prototype.get_m_local=sR.prototype.hc=function(){return XS(Ve(this.H),aT)},sR.prototype.set_m_local=sR.prototype.Qe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ke(t,e)},Object.defineProperty(sR.prototype,"m_local",{get:sR.prototype.hc,set:sR.prototype.Qe}),sR.prototype.get_m_body=sR.prototype.kb=function(){return XS(Be(this.H),kT)},sR.prototype.set_m_body=sR.prototype.Ud=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),We(t,e)},Object.defineProperty(sR.prototype,"m_body",{get:sR.prototype.kb,set:sR.prototype.Ud}),sR.prototype.get_m_influence=sR.prototype.$b=function(){return je(this.H)},sR.prototype.set_m_influence=sR.prototype.Je=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qe(t,e)},Object.defineProperty(sR.prototype,"m_influence",{get:sR.prototype.$b,set:sR.prototype.Je}),sR.prototype.get_m_c0=sR.prototype.nb=function(){return XS(ke(this.H),vT)},sR.prototype.set_m_c0=sR.prototype.Xd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xe(t,e)},Object.defineProperty(sR.prototype,"m_c0",{get:sR.prototype.nb,set:sR.prototype.Xd}),sR.prototype.get_m_c1=sR.prototype.ob=function(){return XS(Ue(this.H),aT)},sR.prototype.set_m_c1=sR.prototype.Yd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ze(t,e)},Object.defineProperty(sR.prototype,"m_c1",{get:sR.prototype.ob,set:sR.prototype.Yd}),sR.prototype.get_m_c2=sR.prototype.pb=function(){return He(this.H)},sR.prototype.set_m_c2=sR.prototype.Zd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ye(t,e)},Object.defineProperty(sR.prototype,"m_c2",{get:sR.prototype.pb,set:sR.prototype.Zd}),sR.prototype.__destroy__=function(){Ne(this.H)},aR.prototype=Object.create(GS.prototype),aR.prototype.constructor=aR,aR.prototype.I=aR,aR.J={},a.btVehicleRaycasterResult=aR,aR.prototype.get_m_hitPointInWorld=aR.prototype.Vb=function(){return XS(TC(this.H),aT)},aR.prototype.set_m_hitPointInWorld=aR.prototype.Ee=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),OC(t,e)},Object.defineProperty(aR.prototype,"m_hitPointInWorld",{get:aR.prototype.Vb,set:aR.prototype.Ee}),aR.prototype.get_m_hitNormalInWorld=aR.prototype.Tb=function(){return XS(SC(this.H),aT)},aR.prototype.set_m_hitNormalInWorld=aR.prototype.Ce=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),MC(t,e)},Object.defineProperty(aR.prototype,"m_hitNormalInWorld",{get:aR.prototype.Tb,set:aR.prototype.Ce}),aR.prototype.get_m_distFraction=aR.prototype.Eb=function(){return EC(this.H)},aR.prototype.set_m_distFraction=aR.prototype.ne=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),RC(t,e)},Object.defineProperty(aR.prototype,"m_distFraction",{get:aR.prototype.Eb,set:aR.prototype.ne}),aR.prototype.__destroy__=function(){CC(this.H)},cR.prototype=Object.create(GS.prototype),cR.prototype.constructor=cR,cR.prototype.I=cR,cR.J={},a.btVector3Array=cR,cR.prototype.size=cR.prototype.size=function(){return Hv(this.H)},cR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Uv(t,e),aT)},cR.prototype.__destroy__=function(){kv(this.H)},lR.prototype=Object.create(GS.prototype),lR.prototype.constructor=lR,lR.prototype.I=lR,lR.J={},a.btConstraintSolver=lR,lR.prototype.__destroy__=function(){Da(this.H)},_R.prototype=Object.create(sT.prototype),_R.prototype.constructor=_R,_R.prototype.I=_R,_R.J={},a.btRaycastVehicle=_R,_R.prototype.applyEngineForce=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Hp(i,e,t)},_R.prototype.setSteeringValue=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),sb(i,e,t)},_R.prototype.getWheelTransformWS=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(eb(t,e),DR)},_R.prototype.updateWheelTransform=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),db(i,e,t)},_R.prototype.addWheel=function(e,t,i,n,r,o,s){var a=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),XS(Up(a,e,t,i,n,r,o,s),nR)},_R.prototype.getNumWheels=function(){return zp(this.H)},_R.prototype.getRigidBody=function(){return XS(Qp(this.H),kT)},_R.prototype.getWheelInfo=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS($p(t,e),nR)},_R.prototype.setBrake=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),nb(i,e,t)},_R.prototype.setCoordinateSystem=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),rb(n,e,t,i)},_R.prototype.getCurrentSpeedKmHour=function(){return Gp(this.H)},_R.prototype.getChassisWorldTransform=function(){return XS(Vp(this.H),DR)},_R.prototype.rayCast=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),tb(t,e)},_R.prototype.updateVehicle=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),fb(t,e)},_R.prototype.resetSuspension=function(){ib(this.H)},_R.prototype.getSteeringValue=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),Kp(t,e)},_R.prototype.updateWheelTransformsWS=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?hb(i,e):pb(i,e,t)},_R.prototype.setPitchControl=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ob(t,e)},_R.prototype.updateSuspension=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ub(t,e)},_R.prototype.updateFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_b(t,e)},_R.prototype.getRightAxis=function(){return Yp(this.H)},_R.prototype.getUpAxis=function(){return Zp(this.H)},_R.prototype.getForwardAxis=function(){return Wp(this.H)},_R.prototype.getForwardVector=function(){return XS(Xp(this.H),aT)},_R.prototype.getUserConstraintType=function(){return qp(this.H)},_R.prototype.setUserConstraintType=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cb(t,e)},_R.prototype.setUserConstraintId=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ab(t,e)},_R.prototype.getUserConstraintId=function(){return Jp(this.H)},_R.prototype.updateAction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),lb(i,e,t)},_R.prototype.__destroy__=function(){kp(this.H)},uR.prototype=Object.create(_T.prototype),uR.prototype.constructor=uR,uR.prototype.I=uR,uR.J={},a.btCylinderShapeX=uR,uR.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Rc(t,e)},uR.prototype.getMargin=function(){return Sc(this.H)},uR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Tc(t,e)},uR.prototype.getLocalScaling=function(){return XS(Ec(this.H),aT)},uR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Cc(i,e,t)},uR.prototype.__destroy__=function(){yc(this.H)},fR.prototype=Object.create(_T.prototype),fR.prototype.constructor=fR,fR.prototype.I=fR,fR.J={},a.btCylinderShapeZ=fR,fR.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wc(t,e)},fR.prototype.getMargin=function(){return Pc(this.H)},fR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dc(t,e)},fR.prototype.getLocalScaling=function(){return XS(xc(this.H),aT)},fR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ic(i,e,t)},fR.prototype.__destroy__=function(){Mc(this.H)},dR.prototype=Object.create(GS.prototype),dR.prototype.constructor=dR,dR.prototype.I=dR,dR.J={},a.btConvexPolyhedron=dR,dR.prototype.get_m_vertices=dR.prototype.Yc=function(){return XS(nc(this.H),cR)},dR.prototype.set_m_vertices=dR.prototype.If=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),oc(t,e)},Object.defineProperty(dR.prototype,"m_vertices",{get:dR.prototype.Yc,set:dR.prototype.If}),dR.prototype.get_m_faces=dR.prototype.Jb=function(){return XS(ic(this.H),RR)},dR.prototype.set_m_faces=dR.prototype.se=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rc(t,e)},Object.defineProperty(dR.prototype,"m_faces",{get:dR.prototype.Jb,set:dR.prototype.se}),dR.prototype.__destroy__=function(){tc(this.H)},hR.prototype=Object.create(GS.prototype),hR.prototype.constructor=hR,hR.prototype.I=hR,hR.J={},a.btSequentialImpulseConstraintSolver=hR,hR.prototype.__destroy__=function(){tA(this.H)},pR.prototype=Object.create(GS.prototype),pR.prototype.constructor=pR,pR.prototype.I=pR,pR.J={},a.tAnchorArray=pR,pR.prototype.size=pR.prototype.size=function(){return AS(this.H)},pR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(hS(t,e),sR)},pR.prototype.clear=pR.prototype.clear=function(){pS(this.H)},pR.prototype.push_back=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),mS(t,e)},pR.prototype.pop_back=function(){bS(this.H)},pR.prototype.__destroy__=function(){dS(this.H)},bR.prototype=Object.create(GS.prototype),bR.prototype.constructor=bR,bR.prototype.I=bR,bR.J={},a.RaycastInfo=bR,bR.prototype.get_m_contactNormalWS=bR.prototype.vb=function(){return XS(Zn(this.H),aT)},bR.prototype.set_m_contactNormalWS=bR.prototype.ee=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),rr(t,e)},Object.defineProperty(bR.prototype,"m_contactNormalWS",{get:bR.prototype.vb,set:bR.prototype.ee}),bR.prototype.get_m_contactPointWS=bR.prototype.wb=function(){return XS(Jn(this.H),aT)},bR.prototype.set_m_contactPointWS=bR.prototype.fe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),or(t,e)},Object.defineProperty(bR.prototype,"m_contactPointWS",{get:bR.prototype.wb,set:bR.prototype.fe}),bR.prototype.get_m_suspensionLength=bR.prototype.Lc=function(){return tr(this.H)},bR.prototype.set_m_suspensionLength=bR.prototype.vf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),lr(t,e)},Object.defineProperty(bR.prototype,"m_suspensionLength",{get:bR.prototype.Lc,set:bR.prototype.vf}),bR.prototype.get_m_hardPointWS=bR.prototype.Pb=function(){return XS($n(this.H),aT)},bR.prototype.set_m_hardPointWS=bR.prototype.ye=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ar(t,e)},Object.defineProperty(bR.prototype,"m_hardPointWS",{get:bR.prototype.Pb,set:bR.prototype.ye}),bR.prototype.get_m_wheelDirectionWS=bR.prototype.$c=function(){return XS(nr(this.H),aT)},bR.prototype.set_m_wheelDirectionWS=bR.prototype.Kf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ur(t,e)},Object.defineProperty(bR.prototype,"m_wheelDirectionWS",{get:bR.prototype.$c,set:bR.prototype.Kf}),bR.prototype.get_m_wheelAxleWS=bR.prototype.Zc=function(){return XS(ir(this.H),aT)},bR.prototype.set_m_wheelAxleWS=bR.prototype.Jf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_r(t,e)},Object.defineProperty(bR.prototype,"m_wheelAxleWS",{get:bR.prototype.Zc,set:bR.prototype.Jf}),bR.prototype.get_m_isInContact=bR.prototype.ac=function(){return!!er(this.H)},bR.prototype.set_m_isInContact=bR.prototype.Ke=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cr(t,e)},Object.defineProperty(bR.prototype,"m_isInContact",{get:bR.prototype.ac,set:bR.prototype.Ke}),bR.prototype.get_m_groundObject=bR.prototype.Ob=function(){return qn(this.H)},bR.prototype.set_m_groundObject=bR.prototype.xe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),sr(t,e)},Object.defineProperty(bR.prototype,"m_groundObject",{get:bR.prototype.Ob,set:bR.prototype.xe}),bR.prototype.__destroy__=function(){Kn(this.H)},mR.prototype=Object.create(KS.prototype),mR.prototype.constructor=mR,mR.prototype.I=mR,mR.J={},a.btMultiSphereShape=mR,mR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Zd(t,e)},mR.prototype.getLocalScaling=function(){return XS(Kd(this.H),aT)},mR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Qd(i,e,t)},mR.prototype.__destroy__=function(){zd(this.H)},AR.prototype=Object.create(ZS.prototype),AR.prototype.constructor=AR,AR.prototype.I=AR,AR.J={},a.btSoftBody=AR,AR.prototype.checkLink=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),!!dg(i,e,t)},AR.prototype.checkFace=function(e,t,i){var n=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),!!fg(n,e,t,i)},AR.prototype.appendMaterial=function(){return XS(cg(this.H),ET)},AR.prototype.appendNode=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),lg(i,e,t)},AR.prototype.appendLink=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),ag(r,e,t,i,n)},AR.prototype.appendFace=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),sg(r,e,t,i,n)},AR.prototype.appendTetra=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),_g(o,e,t,i,n,r)},AR.prototype.appendAnchor=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),og(r,e,t,i,n)},AR.prototype.addForce=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?ng(i,e):rg(i,e,t)},AR.prototype.addAeroForceToNode=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),ig(i,e,t)},AR.prototype.getTotalMass=function(){return Sg(this.H)},AR.prototype.setTotalMass=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Kg(i,e,t)},AR.prototype.setMass=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),zg(i,e,t)},AR.prototype.transform=AR.prototype.transform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ny(t,e)},AR.prototype.translate=AR.prototype.translate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ry(t,e)},AR.prototype.rotate=AR.prototype.rotate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ng(t,e)},AR.prototype.scale=AR.prototype.scale=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bg(t,e)},AR.prototype.generateClusters=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?bg(i,e):mg(i,e,t)},AR.prototype.generateBendingConstraints=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),pg(i,e,t)},AR.prototype.upcast=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(oy(t,e),AR)},AR.prototype.setAnisotropicFriction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ug(i,e,t)},AR.prototype.getCollisionShape=function(){return XS(yg(this.H),KS)},AR.prototype.setContactProcessingThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Wg(t,e)},AR.prototype.setActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kg(t,e)},AR.prototype.forceActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hg(t,e)},AR.prototype.activate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),void 0===e?eg(t):tg(t,e)},AR.prototype.isActive=function(){return!!Dg(this.H)},AR.prototype.isKinematicObject=function(){return!!wg(this.H)},AR.prototype.isStaticObject=function(){return!!Lg(this.H)},AR.prototype.isStaticOrKinematicObject=function(){return!!Fg(this.H)},AR.prototype.getRestitution=function(){return Cg(this.H)},AR.prototype.getFriction=function(){return vg(this.H)},AR.prototype.getRollingFriction=function(){return Eg(this.H)},AR.prototype.setRestitution=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Yg(t,e)},AR.prototype.setFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xg(t,e)},AR.prototype.setRollingFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qg(t,e)},AR.prototype.getWorldTransform=function(){return XS(Mg(this.H),DR)},AR.prototype.getCollisionFlags=function(){return gg(this.H)},AR.prototype.setCollisionFlags=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Vg(t,e)},AR.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qg(t,e)},AR.prototype.setCollisionShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Gg(t,e)},AR.prototype.setCcdMotionThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hg(t,e)},AR.prototype.setCcdSweptSphereRadius=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),jg(t,e)},AR.prototype.getUserIndex=function(){return Tg(this.H)},AR.prototype.setUserIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Zg(t,e)},AR.prototype.getUserPointer=function(){return XS(Rg(this.H),XT)},AR.prototype.setUserPointer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Jg(t,e)},AR.prototype.getBroadphaseHandle=function(){return XS(Ag(this.H),GR)},AR.prototype.get_m_cfg=AR.prototype.qb=function(){return XS(Ig(this.H),yR)},AR.prototype.set_m_cfg=AR.prototype.$d=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ey(t,e)},Object.defineProperty(AR.prototype,"m_cfg",{get:AR.prototype.qb,set:AR.prototype.$d}),AR.prototype.get_m_nodes=AR.prototype.pc=function(){return XS(Pg(this.H),WR)},AR.prototype.set_m_nodes=AR.prototype.Ye=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),iy(t,e)},Object.defineProperty(AR.prototype,"m_nodes",{get:AR.prototype.pc,set:AR.prototype.Ye}),AR.prototype.get_m_materials=AR.prototype.lc=function(){return XS(xg(this.H),LT)},AR.prototype.set_m_materials=AR.prototype.Ue=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ty(t,e)},Object.defineProperty(AR.prototype,"m_materials",{get:AR.prototype.lc,set:AR.prototype.Ue}),AR.prototype.get_m_anchors=AR.prototype.gb=function(){return XS(Og(this.H),pR)},AR.prototype.set_m_anchors=AR.prototype.Qd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$g(t,e)},Object.defineProperty(AR.prototype,"m_anchors",{get:AR.prototype.gb,set:AR.prototype.Qd}),AR.prototype.__destroy__=function(){$A(this.H)},gR.prototype=Object.create(GS.prototype),gR.prototype.constructor=gR,gR.prototype.I=gR,gR.J={},a.btIntArray=gR,gR.prototype.size=gR.prototype.size=function(){return qf(this.H)},gR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),Jf(t,e)},gR.prototype.__destroy__=function(){Zf(this.H)},yR.prototype=Object.create(GS.prototype),yR.prototype.constructor=yR,yR.prototype.I=yR,yR.J={},a.Config=yR,yR.prototype.get_kVCF=yR.prototype.Za=function(){return ii(this.H)},yR.prototype.set_kVCF=yR.prototype.Jd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Mi(t,e)},Object.defineProperty(yR.prototype,"kVCF",{get:yR.prototype.Za,set:yR.prototype.Jd}),yR.prototype.get_kDP=yR.prototype.Ma=function(){return Wt(this.H)},yR.prototype.set_kDP=yR.prototype.wd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),pi(t,e)},Object.defineProperty(yR.prototype,"kDP",{get:yR.prototype.Ma,set:yR.prototype.wd}),yR.prototype.get_kDG=yR.prototype.La=function(){return Gt(this.H)},yR.prototype.set_kDG=yR.prototype.vd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hi(t,e)},Object.defineProperty(yR.prototype,"kDG",{get:yR.prototype.La,set:yR.prototype.vd}),yR.prototype.get_kLF=yR.prototype.Oa=function(){return zt(this.H)},yR.prototype.set_kLF=yR.prototype.yd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),mi(t,e)},Object.defineProperty(yR.prototype,"kLF",{get:yR.prototype.Oa,set:yR.prototype.yd}),yR.prototype.get_kPR=yR.prototype.Qa=function(){return Qt(this.H)},yR.prototype.set_kPR=yR.prototype.Ad=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),gi(t,e)},Object.defineProperty(yR.prototype,"kPR",{get:yR.prototype.Qa,set:yR.prototype.Ad}),yR.prototype.get_kVC=yR.prototype.Ya=function(){return ni(this.H)},yR.prototype.set_kVC=yR.prototype.Id=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Oi(t,e)},Object.defineProperty(yR.prototype,"kVC",{get:yR.prototype.Ya,set:yR.prototype.Id}),yR.prototype.get_kDF=yR.prototype.Ka=function(){return Vt(this.H)},yR.prototype.set_kDF=yR.prototype.ud=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),di(t,e)},Object.defineProperty(yR.prototype,"kDF",{get:yR.prototype.Ka,set:yR.prototype.ud}),yR.prototype.get_kMT=yR.prototype.Pa=function(){return Yt(this.H)},yR.prototype.set_kMT=yR.prototype.zd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ai(t,e)},Object.defineProperty(yR.prototype,"kMT",{get:yR.prototype.Pa,set:yR.prototype.zd}),yR.prototype.get_kCHR=yR.prototype.Ja=function(){return jt(this.H)},yR.prototype.set_kCHR=yR.prototype.td=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),fi(t,e)},Object.defineProperty(yR.prototype,"kCHR",{get:yR.prototype.Ja,set:yR.prototype.td}),yR.prototype.get_kKHR=yR.prototype.Na=function(){return Xt(this.H)},yR.prototype.set_kKHR=yR.prototype.xd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bi(t,e)},Object.defineProperty(yR.prototype,"kKHR",{get:yR.prototype.Na,set:yR.prototype.xd}),yR.prototype.get_kSHR=yR.prototype.Ra=function(){return Kt(this.H)},yR.prototype.set_kSHR=yR.prototype.Bd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),yi(t,e)},Object.defineProperty(yR.prototype,"kSHR",{get:yR.prototype.Ra,set:yR.prototype.Bd}),yR.prototype.get_kAHR=yR.prototype.Ia=function(){return Ht(this.H)},yR.prototype.set_kAHR=yR.prototype.sd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ui(t,e)},Object.defineProperty(yR.prototype,"kAHR",{get:yR.prototype.Ia,set:yR.prototype.sd}),yR.prototype.get_kSRHR_CL=yR.prototype.Ua=function(){return qt(this.H)},yR.prototype.set_kSRHR_CL=yR.prototype.Ed=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ei(t,e)},Object.defineProperty(yR.prototype,"kSRHR_CL",{get:yR.prototype.Ua,set:yR.prototype.Ed}),yR.prototype.get_kSKHR_CL=yR.prototype.Sa=function(){return Zt(this.H)},yR.prototype.set_kSKHR_CL=yR.prototype.Cd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),vi(t,e)},Object.defineProperty(yR.prototype,"kSKHR_CL",{get:yR.prototype.Sa,set:yR.prototype.Cd}),yR.prototype.get_kSSHR_CL=yR.prototype.Wa=function(){return ei(this.H)},yR.prototype.set_kSSHR_CL=yR.prototype.Gd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ti(t,e)},Object.defineProperty(yR.prototype,"kSSHR_CL",{get:yR.prototype.Wa,set:yR.prototype.Gd}),yR.prototype.get_kSR_SPLT_CL=yR.prototype.Va=function(){return $t(this.H)},yR.prototype.set_kSR_SPLT_CL=yR.prototype.Fd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Si(t,e)},Object.defineProperty(yR.prototype,"kSR_SPLT_CL",{get:yR.prototype.Va,set:yR.prototype.Fd}),yR.prototype.get_kSK_SPLT_CL=yR.prototype.Ta=function(){return Jt(this.H)},yR.prototype.set_kSK_SPLT_CL=yR.prototype.Dd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ci(t,e)},Object.defineProperty(yR.prototype,"kSK_SPLT_CL",{get:yR.prototype.Ta,set:yR.prototype.Dd}),yR.prototype.get_kSS_SPLT_CL=yR.prototype.Xa=function(){return ti(this.H)},yR.prototype.set_kSS_SPLT_CL=yR.prototype.Hd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ri(t,e)},Object.defineProperty(yR.prototype,"kSS_SPLT_CL",{get:yR.prototype.Xa,set:yR.prototype.Hd}),yR.prototype.get_maxvolume=yR.prototype.gd=function(){return ri(this.H)},yR.prototype.set_maxvolume=yR.prototype.Qf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ii(t,e)},Object.defineProperty(yR.prototype,"maxvolume",{get:yR.prototype.gd,set:yR.prototype.Qf}),yR.prototype.get_timescale=yR.prototype.jd=function(){return si(this.H)},yR.prototype.set_timescale=yR.prototype.Sf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pi(t,e)},Object.defineProperty(yR.prototype,"timescale",{get:yR.prototype.jd,set:yR.prototype.Sf}),yR.prototype.get_viterations=yR.prototype.kd=function(){return ai(this.H)},yR.prototype.set_viterations=yR.prototype.Tf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Di(t,e)},Object.defineProperty(yR.prototype,"viterations",{get:yR.prototype.kd,set:yR.prototype.Tf}),yR.prototype.get_piterations=yR.prototype.hd=function(){return oi(this.H)},yR.prototype.set_piterations=yR.prototype.Rf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xi(t,e)},Object.defineProperty(yR.prototype,"piterations",{get:yR.prototype.hd,set:yR.prototype.Rf}),yR.prototype.get_diterations=yR.prototype.Ha=function(){return Ut(this.H)},yR.prototype.set_diterations=yR.prototype.rd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_i(t,e)},Object.defineProperty(yR.prototype,"diterations",{get:yR.prototype.Ha,set:yR.prototype.rd}),yR.prototype.get_citerations=yR.prototype.Fa=function(){return Bt(this.H)},yR.prototype.set_citerations=yR.prototype.pd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ci(t,e)},Object.defineProperty(yR.prototype,"citerations",{get:yR.prototype.Fa,set:yR.prototype.pd}),yR.prototype.get_collisions=yR.prototype.Ga=function(){return kt(this.H)},yR.prototype.set_collisions=yR.prototype.qd=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),li(t,e)},Object.defineProperty(yR.prototype,"collisions",{get:yR.prototype.Ga,set:yR.prototype.qd}),yR.prototype.__destroy__=function(){Nt(this.H)},vR.prototype=Object.create(GS.prototype),vR.prototype.constructor=vR,vR.prototype.I=vR,vR.J={},a.Node=vR,vR.prototype.get_m_x=vR.prototype.ed=function(){return XS(Pn(this.H),aT)},vR.prototype.set_m_x=vR.prototype.Pf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kn(t,e)},Object.defineProperty(vR.prototype,"m_x",{get:vR.prototype.ed,set:vR.prototype.Pf}),vR.prototype.get_m_q=vR.prototype.wc=function(){return XS(In(this.H),aT)},vR.prototype.set_m_q=vR.prototype.ef=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nn(t,e)},Object.defineProperty(vR.prototype,"m_q",{get:vR.prototype.wc,set:vR.prototype.ef}),vR.prototype.get_m_v=vR.prototype.Xc=function(){return XS(xn(this.H),aT)},vR.prototype.set_m_v=vR.prototype.Hf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bn(t,e)},Object.defineProperty(vR.prototype,"m_v",{get:vR.prototype.Xc,set:vR.prototype.Hf}),vR.prototype.get_m_f=vR.prototype.Ib=function(){return XS(Rn(this.H),aT)},vR.prototype.set_m_f=vR.prototype.re=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wn(t,e)},Object.defineProperty(vR.prototype,"m_f",{get:vR.prototype.Ib,set:vR.prototype.re}),vR.prototype.get_m_n=vR.prototype.nc=function(){return XS(On(this.H),aT)},vR.prototype.set_m_n=vR.prototype.We=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fn(t,e)},Object.defineProperty(vR.prototype,"m_n",{get:vR.prototype.nc,set:vR.prototype.We}),vR.prototype.get_m_im=vR.prototype.Xb=function(){return Mn(this.H)},vR.prototype.set_m_im=vR.prototype.Ge=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ln(t,e)},Object.defineProperty(vR.prototype,"m_im",{get:vR.prototype.Xb,set:vR.prototype.Ge}),vR.prototype.get_m_area=vR.prototype.jb=function(){return Tn(this.H)},vR.prototype.set_m_area=vR.prototype.Td=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dn(t,e)},Object.defineProperty(vR.prototype,"m_area",{get:vR.prototype.jb,set:vR.prototype.Td}),vR.prototype.__destroy__=function(){Sn(this.H)},CR.prototype=Object.create(GS.prototype),CR.prototype.constructor=CR,CR.prototype.I=CR,CR.J={},a.btGhostPairCallback=CR,CR.prototype.__destroy__=function(){lf(this.H)},ER.prototype=Object.create(GS.prototype),ER.prototype.constructor=ER,ER.prototype.I=ER,ER.J={},a.btOverlappingPairCallback=ER,ER.prototype.__destroy__=function(){eh(this.H)},SR.prototype=Object.create(sT.prototype),SR.prototype.constructor=SR,SR.prototype.I=SR,SR.J={},a.btKinematicCharacterController=SR,SR.prototype.setUpAxis=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),pd(t,e)},SR.prototype.setWalkDirection=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),gd(t,e)},SR.prototype.setVelocityForTimeInterval=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ad(i,e,t)},SR.prototype.warp=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),vd(t,e)},SR.prototype.preStep=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ld(t,e)},SR.prototype.playerStep=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),cd(i,e,t)},SR.prototype.setFallSpeed=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),_d(t,e)},SR.prototype.setJumpSpeed=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),fd(t,e)},SR.prototype.setMaxJumpHeight=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),dd(t,e)},SR.prototype.canJump=function(){return!!id(this.H)},SR.prototype.jump=function(){sd(this.H)},SR.prototype.setGravity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ud(t,e)},SR.prototype.getGravity=function(){return rd(this.H)},SR.prototype.setMaxSlope=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hd(t,e)},SR.prototype.getMaxSlope=function(){return od(this.H)},SR.prototype.getGhostObject=function(){return XS(nd(this.H),UR)},SR.prototype.setUseGhostSweepTest=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),md(t,e)},SR.prototype.onGround=function(){return!!ad(this.H)},SR.prototype.setUpInterpolate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bd(t,e)},SR.prototype.updateAction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),yd(i,e,t)},SR.prototype.__destroy__=function(){$f(this.H)},TR.prototype=Object.create(GS.prototype),TR.prototype.constructor=TR,TR.prototype.I=TR,TR.J={},a.btSoftBodyArray=TR,TR.prototype.size=TR.prototype.size=function(){return CA(this.H)},TR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(vA(t,e),AR)},TR.prototype.__destroy__=function(){yA(this.H)},RR.prototype=Object.create(GS.prototype),RR.prototype.constructor=RR,RR.prototype.I=RR,RR.J={},a.btFaceArray=RR,RR.prototype.size=RR.prototype.size=function(){return k_(this.H)},RR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(B_(t,e),zR)},RR.prototype.__destroy__=function(){N_(this.H)},MR.prototype=Object.create($S.prototype),MR.prototype.constructor=MR,MR.prototype.I=MR,MR.J={},a.btStaticPlaneShape=MR,MR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),nv(t,e)},MR.prototype.getLocalScaling=function(){return XS(iv(this.H),aT)},MR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),tv(i,e,t)},MR.prototype.__destroy__=function(){$y(this.H)},OR.prototype=Object.create(GS.prototype),OR.prototype.constructor=OR,OR.prototype.I=OR,OR.J={},a.btOverlappingPairCache=OR,OR.prototype.setInternalGhostPairCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$d(t,e)},OR.prototype.getNumOverlappingPairs=function(){return qd(this.H)},OR.prototype.__destroy__=function(){Jd(this.H)},IR.prototype=Object.create(GS.prototype),IR.prototype.constructor=IR,IR.prototype.I=IR,IR.J={},a.btIndexedMesh=IR,IR.prototype.get_m_numTriangles=IR.prototype.sc=function(){return Qf(this.H)},IR.prototype.set_m_numTriangles=IR.prototype.af=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Kf(t,e)},Object.defineProperty(IR.prototype,"m_numTriangles",{get:IR.prototype.sc,set:IR.prototype.af}),IR.prototype.__destroy__=function(){Yf(this.H)},xR.prototype=Object.create(uT.prototype),xR.prototype.constructor=xR,xR.prototype.I=xR,xR.J={},a.btSoftRigidDynamicsWorld=xR,xR.prototype.addSoftBody=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),py(n,e,t,i)},xR.prototype.removeSoftBody=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ny(t,e)},xR.prototype.removeCollisionObject=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wy(t,e)},xR.prototype.getWorldInfo=function(){return XS(xy(this.H),zT)},xR.prototype.getSoftBodyArray=function(){return XS(Oy(this.H),TR)},xR.prototype.getDispatcher=function(){return XS(Ty(this.H),dT)},xR.prototype.rayTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Py(n,e,t,i)},xR.prototype.getPairCache=function(){return XS(My(this.H),OR)},xR.prototype.getDispatchInfo=function(){return XS(Sy(this.H),ST)},xR.prototype.addCollisionObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?cy(n,e):void 0===i?ly(n,e,t):_y(n,e,t,i)},xR.prototype.getBroadphase=function(){return XS(Cy(this.H),MT)},xR.prototype.convexSweepTest=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),gy(o,e,t,i,n,r)},xR.prototype.contactPairTest=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),my(n,e,t,i)},xR.prototype.contactTest=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ay(i,e,t)},xR.prototype.updateSingleAabb=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Xy(t,e)},xR.prototype.setDebugDrawer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Hy(t,e)},xR.prototype.getDebugDrawer=function(){return XS(Ey(this.H),tT)},xR.prototype.debugDrawWorld=function(){vy(this.H)},xR.prototype.debugDrawObject=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),yy(n,e,t,i)},xR.prototype.setGravity=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),jy(t,e)},xR.prototype.getGravity=function(){return XS(Ry(this.H),aT)},xR.prototype.addRigidBody=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?dy(n,e):void 0===i?_emscripten_bind_btSoftRigidDynamicsWorld_addRigidBody_2(n,e,t):hy(n,e,t,i)},xR.prototype.removeRigidBody=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fy(t,e)},xR.prototype.addConstraint=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===t?uy(i,e):fy(i,e,t)},xR.prototype.removeConstraint=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ly(t,e)},xR.prototype.stepSimulation=function(e,t,i){var n=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),void 0===t?Vy(n,e):void 0===i?Gy(n,e,t):Wy(n,e,t,i)},xR.prototype.setContactAddedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),By(t,e)},xR.prototype.setContactProcessedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Uy(t,e)},xR.prototype.setContactDestroyedCallback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ky(t,e)},xR.prototype.addAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ay(t,e)},xR.prototype.removeAction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dy(t,e)},xR.prototype.getSolverInfo=function(){return XS(Iy(this.H),JR)},xR.prototype.__destroy__=function(){sy(this.H)},PR.prototype=Object.create(qS.prototype),PR.prototype.constructor=PR,PR.prototype.I=PR,PR.J={},a.btFixedConstraint=PR,PR.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),z_(t,e)},PR.prototype.getBreakingImpulseThreshold=function(){return Y_(this.H)},PR.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),K_(t,e)},PR.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Q_(i,e,t)},PR.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Z_(n,e,t,i)},PR.prototype.__destroy__=function(){W_(this.H)},DR.prototype=Object.create(GS.prototype),DR.prototype.constructor=DR,DR.prototype.I=DR,DR.J={},a.btTransform=DR,DR.prototype.setIdentity=function(){pv(this.H)},DR.prototype.setOrigin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bv(t,e)},DR.prototype.setRotation=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),mv(t,e)},DR.prototype.getOrigin=function(){return XS(_v(this.H),aT)},DR.prototype.getRotation=function(){return XS(uv(this.H),KR)},DR.prototype.getBasis=function(){return XS(lv(this.H),vT)},DR.prototype.setFromOpenGLMatrix=function(e){var t=this.H;s.M(),"object"==typeof e&&(e=YS(e)),hv(t,e)},DR.prototype.inverse=DR.prototype.inverse=function(){return XS(fv(this.H),DR)},DR.prototype.op_mul=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(dv(t,e),DR)},DR.prototype.__destroy__=function(){sv(this.H)},wR.prototype=Object.create(yT.prototype),wR.prototype.constructor=wR,wR.prototype.I=wR,wR.J={},a.ClosestRayResultCallback=wR,wR.prototype.hasHit=function(){return!!St(this.H)},wR.prototype.get_m_rayFromWorld=wR.prototype.ma=function(){return XS(Ct(this.H),aT)},wR.prototype.set_m_rayFromWorld=wR.prototype.ta=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pt(t,e)},Object.defineProperty(wR.prototype,"m_rayFromWorld",{get:wR.prototype.ma,set:wR.prototype.ta}),wR.prototype.get_m_rayToWorld=wR.prototype.na=function(){return XS(Et(this.H),aT)},wR.prototype.set_m_rayToWorld=wR.prototype.ua=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dt(t,e)},Object.defineProperty(wR.prototype,"m_rayToWorld",{get:wR.prototype.na,set:wR.prototype.ua}),wR.prototype.get_m_hitNormalWorld=wR.prototype.U=function(){return XS(yt(this.H),aT)},wR.prototype.set_m_hitNormalWorld=wR.prototype.da=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),It(t,e)},Object.defineProperty(wR.prototype,"m_hitNormalWorld",{get:wR.prototype.U,set:wR.prototype.da}),wR.prototype.get_m_hitPointWorld=wR.prototype.V=function(){return XS(vt(this.H),aT)},wR.prototype.set_m_hitPointWorld=wR.prototype.ea=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xt(t,e)},Object.defineProperty(wR.prototype,"m_hitPointWorld",{get:wR.prototype.V,set:wR.prototype.ea}),wR.prototype.get_m_collisionFilterGroup=wR.prototype.K=function(){return mt(this.H)},wR.prototype.set_m_collisionFilterGroup=wR.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Rt(t,e)},Object.defineProperty(wR.prototype,"m_collisionFilterGroup",{get:wR.prototype.K,set:wR.prototype.N}),wR.prototype.get_m_collisionFilterMask=wR.prototype.L=function(){return At(this.H)},wR.prototype.set_m_collisionFilterMask=wR.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Mt(t,e)},Object.defineProperty(wR.prototype,"m_collisionFilterMask",{get:wR.prototype.L,set:wR.prototype.O}),wR.prototype.get_m_closestHitFraction=wR.prototype.P=function(){return bt(this.H)},wR.prototype.set_m_closestHitFraction=wR.prototype.R=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Tt(t,e)},Object.defineProperty(wR.prototype,"m_closestHitFraction",{get:wR.prototype.P,set:wR.prototype.R}),wR.prototype.get_m_collisionObject=wR.prototype.S=function(){return XS(gt(this.H),ZS)},wR.prototype.set_m_collisionObject=wR.prototype.aa=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ot(t,e)},Object.defineProperty(wR.prototype,"m_collisionObject",{get:wR.prototype.S,set:wR.prototype.aa}),wR.prototype.__destroy__=function(){pt(this.H)},LR.prototype=Object.create(iT.prototype),LR.prototype.constructor=LR,LR.prototype.I=LR,LR.J={},a.btSoftBodyRigidBodyCollisionConfiguration=LR,LR.prototype.__destroy__=function(){PA(this.H)},FR.prototype=Object.create(AT.prototype),FR.prototype.constructor=FR,FR.prototype.I=FR,FR.J={},a.ConcreteContactResultCallback=FR,FR.prototype.addSingleResult=function(e,t,i,n,r,o,s){var a=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),Ft(a,e,t,i,n,r,o,s)},FR.prototype.__destroy__=function(){Lt(this.H)},NR.prototype=Object.create(nT.prototype),NR.prototype.constructor=NR,NR.prototype.I=NR,NR.J={},a.btBvhTriangleMeshShape=NR,NR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ur(t,e)},NR.prototype.getLocalScaling=function(){return XS(kr(this.H),aT)},NR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Br(i,e,t)},NR.prototype.__destroy__=function(){Lr(this.H)},BR.prototype=Object.create(GS.prototype),BR.prototype.constructor=BR,BR.prototype.I=BR,BR.J={},a.btConstCollisionObjectArray=BR,BR.prototype.size=BR.prototype.size=function(){return Ea(this.H)},BR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Ca(t,e),ZS)},BR.prototype.__destroy__=function(){va(this.H)},kR.prototype=Object.create(qS.prototype),kR.prototype.constructor=kR,kR.prototype.I=kR,kR.J={},a.btSliderConstraint=kR,kR.prototype.setLowerLinLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),bA(t,e)},kR.prototype.setUpperLinLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),gA(t,e)},kR.prototype.setLowerAngLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),pA(t,e)},kR.prototype.setUpperAngLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),AA(t,e)},kR.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),uA(t,e)},kR.prototype.getBreakingImpulseThreshold=function(){return fA(this.H)},kR.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),hA(t,e)},kR.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),dA(i,e,t)},kR.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),mA(n,e,t,i)},kR.prototype.__destroy__=function(){cA(this.H)},UR.prototype=Object.create(rT.prototype),UR.prototype.constructor=UR,UR.prototype.I=UR,UR.J={},a.btPairCachingGhostObject=UR,UR.prototype.setAnisotropicFriction=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ch(i,e,t)},UR.prototype.getCollisionShape=function(){return XS(ch(this.H),KS)},UR.prototype.setContactProcessingThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Mh(t,e)},UR.prototype.setActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),vh(t,e)},UR.prototype.forceActivationState=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),oh(t,e)},UR.prototype.activate=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),void 0===e?ih(t):nh(t,e)},UR.prototype.isActive=function(){return!!mh(this.H)},UR.prototype.isKinematicObject=function(){return!!Ah(this.H)},UR.prototype.isStaticObject=function(){return!!gh(this.H)},UR.prototype.isStaticOrKinematicObject=function(){return!!yh(this.H)},UR.prototype.getRestitution=function(){return fh(this.H)},UR.prototype.getFriction=function(){return lh(this.H)},UR.prototype.getRollingFriction=function(){return dh(this.H)},UR.prototype.setRestitution=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ih(t,e)},UR.prototype.setFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Oh(t,e)},UR.prototype.setRollingFriction=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xh(t,e)},UR.prototype.getWorldTransform=function(){return XS(bh(this.H),DR)},UR.prototype.getCollisionFlags=function(){return ah(this.H)},UR.prototype.setCollisionFlags=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Th(t,e)},UR.prototype.setWorldTransform=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wh(t,e)},UR.prototype.setCollisionShape=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Rh(t,e)},UR.prototype.setCcdMotionThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Eh(t,e)},UR.prototype.setCcdSweptSphereRadius=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Sh(t,e)},UR.prototype.getUserIndex=function(){return hh(this.H)},UR.prototype.setUserIndex=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ph(t,e)},UR.prototype.getUserPointer=function(){return XS(ph(this.H),XT)},UR.prototype.setUserPointer=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dh(t,e)},UR.prototype.getBroadphaseHandle=function(){return XS(sh(this.H),GR)},UR.prototype.getNumOverlappingObjects=function(){return _h(this.H)},UR.prototype.getOverlappingObject=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(uh(t,e),ZS)},UR.prototype.__destroy__=function(){th(this.H)},HR.prototype=Object.create(GS.prototype),HR.prototype.constructor=HR,HR.prototype.I=HR,HR.J={},a.btManifoldPoint=HR,HR.prototype.getPositionWorldOnA=function(){return XS(Td(this.H),aT)},HR.prototype.getPositionWorldOnB=function(){return XS(Rd(this.H),aT)},HR.prototype.getAppliedImpulse=function(){return Ed(this.H)},HR.prototype.getDistance=function(){return Sd(this.H)},HR.prototype.get_m_localPointA=HR.prototype.ic=function(){return XS(Md(this.H),aT)},HR.prototype.set_m_localPointA=HR.prototype.Re=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wd(t,e)},Object.defineProperty(HR.prototype,"m_localPointA",{get:HR.prototype.ic,set:HR.prototype.Re}),HR.prototype.get_m_localPointB=HR.prototype.jc=function(){return XS(Od(this.H),aT)},HR.prototype.set_m_localPointB=HR.prototype.Se=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ld(t,e)},Object.defineProperty(HR.prototype,"m_localPointB",{get:HR.prototype.jc,set:HR.prototype.Se}),HR.prototype.get_m_positionWorldOnB=HR.prototype.vc=function(){return XS(Pd(this.H),aT)},HR.prototype.set_m_positionWorldOnB=HR.prototype.df=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Bd(t,e)},Object.defineProperty(HR.prototype,"m_positionWorldOnB",{get:HR.prototype.vc,set:HR.prototype.df}),HR.prototype.get_m_positionWorldOnA=HR.prototype.uc=function(){return XS(xd(this.H),aT)},HR.prototype.set_m_positionWorldOnA=HR.prototype.cf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Nd(t,e)},Object.defineProperty(HR.prototype,"m_positionWorldOnA",{get:HR.prototype.uc,set:HR.prototype.cf}),HR.prototype.get_m_normalWorldOnB=HR.prototype.qc=function(){return XS(Id(this.H),aT)},HR.prototype.set_m_normalWorldOnB=HR.prototype.Ze=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Fd(t,e)},Object.defineProperty(HR.prototype,"m_normalWorldOnB",{get:HR.prototype.qc,set:HR.prototype.Ze}),HR.prototype.get_m_userPersistentData=HR.prototype.Wc=function(){return Dd(this.H)},HR.prototype.set_m_userPersistentData=HR.prototype.Gf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),kd(t,e)},Object.defineProperty(HR.prototype,"m_userPersistentData",{get:HR.prototype.Wc,set:HR.prototype.Gf}),HR.prototype.__destroy__=function(){Cd(this.H)},jR.prototype=Object.create(qS.prototype),jR.prototype.constructor=jR,jR.prototype.I=jR,jR.J={},a.btPoint2PointConstraint=jR,jR.prototype.setPivotA=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Jh(t,e)},jR.prototype.setPivotB=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qh(t,e)},jR.prototype.getPivotInA=function(){return XS(zh(this.H),aT)},jR.prototype.getPivotInB=function(){return XS(Yh(this.H),aT)},jR.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Gh(t,e)},jR.prototype.getBreakingImpulseThreshold=function(){return Wh(this.H)},jR.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Kh(t,e)},jR.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Xh(i,e,t)},jR.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Zh(n,e,t,i)},jR.prototype.get_m_setting=jR.prototype.Cc=function(){return XS(Qh(this.H),NT)},jR.prototype.set_m_setting=jR.prototype.lf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),$h(t,e)},Object.defineProperty(jR.prototype,"m_setting",{get:jR.prototype.Cc,set:jR.prototype.lf}),jR.prototype.__destroy__=function(){Hh(this.H)},VR.prototype=Object.create(GS.prototype),VR.prototype.constructor=VR,VR.prototype.I=VR,VR.J={},a.btSoftBodyHelpers=VR,VR.prototype.CreateRope=function(e,t,i,n,r){var o=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),XS(OA(o,e,t,i,n,r),AR)},VR.prototype.CreatePatch=function(e,t,i,n,r,o,s,a,c){var l=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),s&&"object"===typeof s&&(s=s.H),a&&"object"===typeof a&&(a=a.H),c&&"object"===typeof c&&(c=c.H),XS(MA(l,e,t,i,n,r,o,s,a,c),AR)},VR.prototype.CreatePatchUV=function(e,t,i,n,r,o,a,c,l,_){var u=this.H;return s.M(),e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),o&&"object"===typeof o&&(o=o.H),a&&"object"===typeof a&&(a=a.H),c&&"object"===typeof c&&(c=c.H),l&&"object"===typeof l&&(l=l.H),"object"==typeof _&&(_=YS(_)),XS(RA(u,e,t,i,n,r,o,a,c,l,_),AR)},VR.prototype.CreateEllipsoid=function(e,t,i,n){var r=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),XS(EA(r,e,t,i,n),AR)},VR.prototype.CreateFromTriMesh=function(e,t,i,n,r){var o=this.H;if(s.M(),e&&"object"===typeof e&&(e=e.H),"object"==typeof t&&(t=YS(t)),"object"==typeof i&&"object"===typeof i){var a=s.ja(i,x);s.copy(i,x,a),i=a}return n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),XS(TA(o,e,t,i,n,r),AR)},VR.prototype.CreateFromConvexHull=function(e,t,i,n){var r=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),XS(SA(r,e,t,i,n),AR)},VR.prototype.__destroy__=function(){IA(this.H)},GR.prototype=Object.create(GS.prototype),GR.prototype.constructor=GR,GR.prototype.I=GR,GR.J={},a.btBroadphaseProxy=GR,GR.prototype.get_m_collisionFilterGroup=GR.prototype.K=function(){return xr(this.H)},GR.prototype.set_m_collisionFilterGroup=GR.prototype.N=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dr(t,e)},Object.defineProperty(GR.prototype,"m_collisionFilterGroup",{get:GR.prototype.K,set:GR.prototype.N}),GR.prototype.get_m_collisionFilterMask=GR.prototype.L=function(){return Pr(this.H)},GR.prototype.set_m_collisionFilterMask=GR.prototype.O=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wr(t,e)},Object.defineProperty(GR.prototype,"m_collisionFilterMask",{get:GR.prototype.L,set:GR.prototype.O}),GR.prototype.__destroy__=function(){Ir(this.H)},WR.prototype=Object.create(GS.prototype),WR.prototype.constructor=WR,WR.prototype.I=WR,WR.J={},a.tNodeArray=WR,WR.prototype.size=WR.prototype.size=function(){return SS(this.H)},WR.prototype.at=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(ES(t,e),vR)},WR.prototype.__destroy__=function(){CS(this.H)},XR.prototype=Object.create(KS.prototype),XR.prototype.constructor=XR,XR.prototype.I=XR,XR.J={},a.btBoxShape=XR,XR.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Rr(t,e)},XR.prototype.getMargin=function(){return Sr(this.H)},XR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Tr(t,e)},XR.prototype.getLocalScaling=function(){return XS(Er(this.H),aT)},XR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Cr(i,e,t)},XR.prototype.__destroy__=function(){yr(this.H)},zR.prototype=Object.create(GS.prototype),zR.prototype.constructor=zR,zR.prototype.I=zR,zR.J={},a.btFace=zR,zR.prototype.get_m_indices=zR.prototype.Zb=function(){return XS(H_(this.H),gR)},zR.prototype.set_m_indices=zR.prototype.Ie=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),V_(t,e)},Object.defineProperty(zR.prototype,"m_indices",{get:zR.prototype.Zb,set:zR.prototype.Ie}),zR.prototype.get_m_plane=zR.prototype.tc=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),j_(t,e)},zR.prototype.set_m_plane=zR.prototype.bf=function(e,t){var i=this.H;s.M(),e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),G_(i,e,t)},Object.defineProperty(zR.prototype,"m_plane",{get:zR.prototype.tc,set:zR.prototype.bf}),zR.prototype.__destroy__=function(){U_(this.H)},YR.prototype=Object.create(tT.prototype),YR.prototype.constructor=YR,YR.prototype.I=YR,YR.J={},a.DebugDrawer=YR,YR.prototype.drawLine=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Yi(n,e,t,i)},YR.prototype.drawContactPoint=function(e,t,i,n,r){var o=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),r&&"object"===typeof r&&(r=r.H),zi(o,e,t,i,n,r)},YR.prototype.reportErrorWarning=function(e){var t=this.H;s.M(),e=e&&"object"===typeof e?e.H:zS(e),Ki(t,e)},YR.prototype.draw3dText=function(e,t){var i=this.H;s.M(),e&&"object"===typeof e&&(e=e.H),t=t&&"object"===typeof t?t.H:zS(t),Xi(i,e,t)},YR.prototype.setDebugMode=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Zi(t,e)},YR.prototype.getDebugMode=function(){return Qi(this.H)},YR.prototype.__destroy__=function(){Wi(this.H)},QR.prototype=Object.create(eT.prototype),QR.prototype.constructor=QR,QR.prototype.I=QR,QR.J={},a.btCapsuleShapeX=QR,QR.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Kr(t,e)},QR.prototype.getMargin=function(){return Xr(this.H)},QR.prototype.getUpAxis=function(){return Yr(this.H)},QR.prototype.getRadius=function(){return zr(this.H)},QR.prototype.getHalfHeight=function(){return Gr(this.H)},QR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Qr(t,e)},QR.prototype.getLocalScaling=function(){return XS(Wr(this.H),aT)},QR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Vr(i,e,t)},QR.prototype.__destroy__=function(){Hr(this.H)},KR.prototype=Object.create(lT.prototype),KR.prototype.constructor=KR,KR.prototype.I=KR,KR.J={},a.btQuaternion=KR,KR.prototype.setValue=function(e,t,i,n){var r=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),n&&"object"===typeof n&&(n=n.H),Ip(r,e,t,i,n)},KR.prototype.setEulerZYX=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Mp(n,e,t,i)},KR.prototype.setRotation=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Op(i,e,t)},KR.prototype.normalize=KR.prototype.normalize=function(){yp(this.H)},KR.prototype.length2=function(){return Ap(this.H)},KR.prototype.length=KR.prototype.length=function(){return gp(this.H)},KR.prototype.dot=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),dp(t,e)},KR.prototype.normalized=function(){return XS(vp(this.H),KR)},KR.prototype.getAxis=function(){return XS(bp(this.H),aT)},KR.prototype.inverse=KR.prototype.inverse=function(){return XS(mp(this.H),KR)},KR.prototype.getAngle=function(){return pp(this.H)},KR.prototype.getAngleShortestPath=function(){return hp(this.H)},KR.prototype.angle=KR.prototype.angle=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),up(t,e)},KR.prototype.angleShortestPath=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),_p(t,e)},KR.prototype.op_add=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Cp(t,e),KR)},KR.prototype.op_sub=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Rp(t,e),KR)},KR.prototype.op_mul=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Sp(t,e),KR)},KR.prototype.op_mulq=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Tp(t,e),KR)},KR.prototype.op_div=function(e){var t=this.H;return e&&"object"===typeof e&&(e=e.H),XS(Ep(t,e),KR)},KR.prototype.x=KR.prototype.x=function(){return Fp(this.H)},KR.prototype.y=KR.prototype.y=function(){return Np(this.H)},KR.prototype.z=KR.prototype.z=function(){return Bp(this.H)},KR.prototype.w=KR.prototype.Aa=function(){return Lp(this.H)},KR.prototype.setX=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Pp(t,e)},KR.prototype.setY=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Dp(t,e)},KR.prototype.setZ=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),wp(t,e)},KR.prototype.setW=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),xp(t,e)},KR.prototype.__destroy__=function(){lp(this.H)},ZR.prototype=Object.create(eT.prototype),ZR.prototype.constructor=ZR,ZR.prototype.I=ZR,ZR.J={},a.btCapsuleShapeZ=ZR,ZR.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),oo(t,e)},ZR.prototype.getMargin=function(){return to(this.H)},ZR.prototype.getUpAxis=function(){return no(this.H)},ZR.prototype.getRadius=function(){return io(this.H)},ZR.prototype.getHalfHeight=function(){return $r(this.H)},ZR.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ro(t,e)},ZR.prototype.getLocalScaling=function(){return XS(eo(this.H),aT)},ZR.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),qr(i,e,t)},ZR.prototype.__destroy__=function(){Zr(this.H)},JR.prototype=Object.create(GS.prototype),JR.prototype.constructor=JR,JR.prototype.I=JR,JR.J={},a.btContactSolverInfo=JR,JR.prototype.get_m_splitImpulse=JR.prototype.Fc=function(){return!!Na(this.H)},JR.prototype.set_m_splitImpulse=JR.prototype.pf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ua(t,e)},Object.defineProperty(JR.prototype,"m_splitImpulse",{get:JR.prototype.Fc,set:JR.prototype.pf}),JR.prototype.get_m_splitImpulsePenetrationThreshold=JR.prototype.Gc=function(){return Fa(this.H)},JR.prototype.set_m_splitImpulsePenetrationThreshold=JR.prototype.qf=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ka(t,e)},Object.defineProperty(JR.prototype,"m_splitImpulsePenetrationThreshold",{get:JR.prototype.Gc,set:JR.prototype.qf}),JR.prototype.get_m_numIterations=JR.prototype.rc=function(){return La(this.H)},JR.prototype.set_m_numIterations=JR.prototype.$e=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ba(t,e)},Object.defineProperty(JR.prototype,"m_numIterations",{get:JR.prototype.rc,set:JR.prototype.$e}),JR.prototype.__destroy__=function(){wa(this.H)},qR.prototype=Object.create(hT.prototype),qR.prototype.constructor=qR,qR.prototype.I=qR,qR.J={},a.btGeneric6DofSpringConstraint=qR,qR.prototype.enableSpring=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),hu(i,e,t)},qR.prototype.setStiffness=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Ou(i,e,t)},qR.prototype.setDamping=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),vu(i,e,t)},qR.prototype.setEquilibriumPoint=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),void 0===e?Cu(i):void 0===t?Eu(i,e):Su(i,e,t)},qR.prototype.setLinearLowerLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Tu(t,e)},qR.prototype.setLinearUpperLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Ru(t,e)},qR.prototype.setAngularLowerLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Au(t,e)},qR.prototype.setAngularUpperLimit=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),gu(t,e)},qR.prototype.getFrameOffsetA=function(){return XS(bu(this.H),DR)},qR.prototype.enableFeedback=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),du(t,e)},qR.prototype.getBreakingImpulseThreshold=function(){return pu(this.H)},qR.prototype.setBreakingImpulseThreshold=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),yu(t,e)},qR.prototype.getParam=function(e,t){var i=this.H;return e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),mu(i,e,t)},qR.prototype.setParam=function(e,t,i){var n=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),i&&"object"===typeof i&&(i=i.H),Mu(n,e,t,i)},qR.prototype.__destroy__=function(){_u(this.H)},$R.prototype=Object.create(KS.prototype),$R.prototype.constructor=$R,$R.prototype.I=$R,$R.J={},a.btSphereShape=$R,$R.prototype.setMargin=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),qy(t,e)},$R.prototype.getMargin=function(){return Zy(this.H)},$R.prototype.setLocalScaling=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),Jy(t,e)},$R.prototype.getLocalScaling=function(){return XS(Ky(this.H),aT)},$R.prototype.calculateLocalInertia=function(e,t){var i=this.H;e&&"object"===typeof e&&(e=e.H),t&&"object"===typeof t&&(t=t.H),Qy(i,e,t)},$R.prototype.__destroy__=function(){zy(this.H)},eM.prototype=Object.create(GS.prototype),eM.prototype.constructor=eM,eM.prototype.I=eM,eM.J={},a.LocalConvexResult=eM,eM.prototype.get_m_hitCollisionObject=eM.prototype.Qb=function(){return XS($i(this.H),ZS)},eM.prototype.set_m_hitCollisionObject=eM.prototype.ze=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),on(t,e)},Object.defineProperty(eM.prototype,"m_hitCollisionObject",{get:eM.prototype.Qb,set:eM.prototype.ze}),eM.prototype.get_m_localShapeInfo=eM.prototype.kc=function(){return XS(rn(this.H),BT)},eM.prototype.set_m_localShapeInfo=eM.prototype.Te=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),ln(t,e)},Object.defineProperty(eM.prototype,"m_localShapeInfo",{get:eM.prototype.kc,set:eM.prototype.Te}),eM.prototype.get_m_hitNormalLocal=eM.prototype.Ub=function(){return XS(tn(this.H),aT)},eM.prototype.set_m_hitNormalLocal=eM.prototype.De=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),an(t,e)},Object.defineProperty(eM.prototype,"m_hitNormalLocal",{get:eM.prototype.Ub,set:eM.prototype.De}),eM.prototype.get_m_hitPointLocal=eM.prototype.Wb=function(){return XS(nn(this.H),aT)},eM.prototype.set_m_hitPointLocal=eM.prototype.Fe=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),cn(t,e)},Object.defineProperty(eM.prototype,"m_hitPointLocal",{get:eM.prototype.Wb,set:eM.prototype.Fe}),eM.prototype.get_m_hitFraction=eM.prototype.Rb=function(){return en(this.H)},eM.prototype.set_m_hitFraction=eM.prototype.Ae=function(e){var t=this.H;e&&"object"===typeof e&&(e=e.H),sn(t,e)},Object.defineProperty(eM.prototype,"m_hitFraction",{get:eM.prototype.Rb,set:eM.prototype.Ae}),eM.prototype.__destroy__=function(){qi(this.H)},function(){function e(){a.BT_CONSTRAINT_ERP=DS(),a.BT_CONSTRAINT_STOP_ERP=LS(),a.BT_CONSTRAINT_CFM=PS(),a.BT_CONSTRAINT_STOP_CFM=wS(),a.PHY_FLOAT=MS(),a.PHY_DOUBLE=TS(),a.PHY_INTEGER=OS(),a.PHY_SHORT=IS(),a.PHY_FIXEDPOINT88=RS(),a.PHY_UCHAR=xS()}U?e():B.unshift(e)}(),this.Ammo=a,o}}();e.exports=o}).call(this,i(197),"/",i(358).Buffer)},1037:function(e,t){},1038:function(e,t,i){"use strict";var n=i(30),r=i(244),o=i(675),s=i(694);s.a.CreateBox=function(e){var t,i=[0,1,2,0,2,3,4,5,6,4,6,7,8,9,10,8,10,11,12,13,14,12,14,15,16,17,18,16,18,19,20,21,22,20,22,23],o=[0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0,0,0,1,0,0,1,0,0,1,0,0,1,0,0,-1,0,0,-1,0,0,-1,0,0,-1,0],a=[],c=e.width||e.size||1,l=e.height||e.size||1,_=e.depth||e.size||1,u=e.wrap||!1,f=void 0===e.topBaseAt?1:e.topBaseAt,d=void 0===e.bottomBaseAt?0:e.bottomBaseAt,h=[2,0,3,1][f=(f+4)%4],p=[2,0,1,3][d=(d+4)%4],b=[1,-1,1,-1,-1,1,-1,1,1,1,1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,-1,1,-1,1,1,1,1,-1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,-1,1,-1,1,1,-1,1,1,1,1,-1,1,1,-1,-1,-1,-1,-1,-1,-1,1];if(u){i=[2,3,0,2,0,1,4,5,6,4,6,7,9,10,11,9,11,8,12,14,15,12,13,14],b=[-1,1,1,1,1,1,1,-1,1,-1,-1,1,1,1,-1,-1,1,-1,-1,-1,-1,1,-1,-1,1,1,1,1,1,-1,1,-1,-1,1,-1,1,-1,1,-1,-1,1,1,-1,-1,1,-1,-1,-1];for(var m=[[1,1,1],[-1,1,1],[-1,1,-1],[1,1,-1]],A=[[-1,-1,1],[1,-1,1],[1,-1,-1],[-1,-1,-1]],g=[17,18,19,16],y=[22,23,20,21];h>0;)m.unshift(m.pop()),g.unshift(g.pop()),h--;for(;p>0;)A.unshift(A.pop()),y.unshift(y.pop()),p--;m=m.flat(),A=A.flat(),b=b.concat(m).concat(A),i.push(g[0],g[2],g[3],g[0],g[1],g[2]),i.push(y[0],y[2],y[3],y[0],y[1],y[2])}var v=[c/2,l/2,_/2];t=b.reduce(function(e,t,i){return e.concat(t*v[i%3])},[]);for(var C=0===e.sideOrientation?0:e.sideOrientation||s.a.DEFAULTSIDE,E=e.faceUV||new Array(6),S=e.faceColors,T=[],R=0;R<6;R++)void 0===E[R]&&(E[R]=new n.f(0,0,1,1)),S&&void 0===S[R]&&(S[R]=new r.b(1,1,1,1));for(var M=0;M<6;M++)if(a.push(E[M].z,E[M].w),a.push(E[M].x,E[M].w),a.push(E[M].x,E[M].y),a.push(E[M].z,E[M].y),S)for(var O=0;O<4;O++)T.push(S[M].r,S[M].g,S[M].b,S[M].a);s.a._ComputeSides(C,t,i,o,a,e.frontUVs,e.backUVs);var I=new s.a;if(I.indices=i,I.positions=t,I.normals=o,I.uvs=a,S){var x=C===s.a.DOUBLESIDE?T.concat(T):T;I.colors=x}return I},o.a.CreateBox=function(e,t,i,n,r){void 0===i&&(i=null);var o={size:t,sideOrientation:r,updatable:n};return a.CreateBox(e,o,i)};var a=function(){function e(){}return e.CreateBox=function(e,t,i){void 0===i&&(i=null);var n=new o.a(e,i);return t.sideOrientation=o.a._GetDefaultSideOrientation(t.sideOrientation),n._originalBuilderSideOrientation=t.sideOrientation,s.a.CreateBox(t).applyToMesh(n,t.updatable),n},e}()},1039:function(e,t,i){"use strict";var n=i(76),r=i(30),o=i(869),s=i(943),a=i(695),c=i(733),l=function(){function e(e,t,i){void 0===i&&(i=Number.MAX_VALUE),this.origin=e,this.direction=t,this.length=i}return e.prototype.intersectsBoxMinMax=function(t,i,n){void 0===n&&(n=0);var r,o,s,a,c=e._TmpVector3[0].copyFromFloats(t.x-n,t.y-n,t.z-n),l=e._TmpVector3[1].copyFromFloats(i.x+n,i.y+n,i.z+n),_=0,u=Number.MAX_VALUE;if(Math.abs(this.direction.x)<1e-7){if(this.origin.x<c.x||this.origin.x>l.x)return!1}else if(r=1/this.direction.x,o=(c.x-this.origin.x)*r,(s=(l.x-this.origin.x)*r)===-1/0&&(s=1/0),o>s&&(a=o,o=s,s=a),(_=Math.max(o,_))>(u=Math.min(s,u)))return!1;if(Math.abs(this.direction.y)<1e-7){if(this.origin.y<c.y||this.origin.y>l.y)return!1}else if(r=1/this.direction.y,o=(c.y-this.origin.y)*r,(s=(l.y-this.origin.y)*r)===-1/0&&(s=1/0),o>s&&(a=o,o=s,s=a),(_=Math.max(o,_))>(u=Math.min(s,u)))return!1;if(Math.abs(this.direction.z)<1e-7){if(this.origin.z<c.z||this.origin.z>l.z)return!1}else if(r=1/this.direction.z,o=(c.z-this.origin.z)*r,(s=(l.z-this.origin.z)*r)===-1/0&&(s=1/0),o>s&&(a=o,o=s,s=a),(_=Math.max(o,_))>(u=Math.min(s,u)))return!1;return!0},e.prototype.intersectsBox=function(e,t){return void 0===t&&(t=0),this.intersectsBoxMinMax(e.minimum,e.maximum,t)},e.prototype.intersectsSphere=function(e,t){void 0===t&&(t=0);var i=e.center.x-this.origin.x,n=e.center.y-this.origin.y,r=e.center.z-this.origin.z,o=i*i+n*n+r*r,s=e.radius+t,a=s*s;if(o<=a)return!0;var c=i*this.direction.x+n*this.direction.y+r*this.direction.z;return!(c<0)&&o-c*c<=a},e.prototype.intersectsTriangle=function(t,i,n){var o=e._TmpVector3[0],a=e._TmpVector3[1],c=e._TmpVector3[2],l=e._TmpVector3[3],_=e._TmpVector3[4];i.subtractToRef(t,o),n.subtractToRef(t,a),r.e.CrossToRef(this.direction,a,c);var u=r.e.Dot(o,c);if(0===u)return null;var f=1/u;this.origin.subtractToRef(t,l);var d=r.e.Dot(l,c)*f;if(d<0||d>1)return null;r.e.CrossToRef(l,o,_);var h=r.e.Dot(this.direction,_)*f;if(h<0||d+h>1)return null;var p=r.e.Dot(a,_)*f;return p>this.length?null:new s.a(1-d-h,d,p)},e.prototype.intersectsPlane=function(e){var t,i=r.e.Dot(e.normal,this.direction);if(Math.abs(i)<9.99999997475243e-7)return null;var n=r.e.Dot(e.normal,this.origin);return(t=(-e.d-n)/i)<0?t<-9.99999997475243e-7?null:0:t},e.prototype.intersectsAxis=function(e,t){switch(void 0===t&&(t=0),e){case"y":return(i=(this.origin.y-t)/this.direction.y)>0?null:new r.e(this.origin.x+this.direction.x*-i,t,this.origin.z+this.direction.z*-i);case"x":return(i=(this.origin.x-t)/this.direction.x)>0?null:new r.e(t,this.origin.y+this.direction.y*-i,this.origin.z+this.direction.z*-i);case"z":var i;return(i=(this.origin.z-t)/this.direction.z)>0?null:new r.e(this.origin.x+this.direction.x*-i,this.origin.y+this.direction.y*-i,t);default:return null}},e.prototype.intersectsMesh=function(t,i){var n=r.c.Matrix[0];return t.getWorldMatrix().invertToRef(n),this._tmpRay?e.TransformToRef(this,n,this._tmpRay):this._tmpRay=e.Transform(this,n),t.intersects(this._tmpRay,i)},e.prototype.intersectsMeshes=function(e,t,i){i?i.length=0:i=[];for(var n=0;n<e.length;n++){var r=this.intersectsMesh(e[n],t);r.hit&&i.push(r)}return i.sort(this._comparePickingInfo),i},e.prototype._comparePickingInfo=function(e,t){return e.distance<t.distance?-1:e.distance>t.distance?1:0},e.prototype.intersectionSegment=function(t,i,n){var o=this.origin,s=r.c.Vector3[0],a=r.c.Vector3[1],c=r.c.Vector3[2],l=r.c.Vector3[3];i.subtractToRef(t,s),this.direction.scaleToRef(e.rayl,c),o.addToRef(c,a),t.subtractToRef(o,l);var _,u,f,d,h=r.e.Dot(s,s),p=r.e.Dot(s,c),b=r.e.Dot(c,c),m=r.e.Dot(s,l),A=r.e.Dot(c,l),g=h*b-p*p,y=g,v=g;g<e.smallnum?(u=0,y=1,d=A,v=b):(d=h*A-p*m,(u=p*A-b*m)<0?(u=0,d=A,v=b):u>y&&(u=y,d=A+p,v=b)),d<0?(d=0,-m<0?u=0:-m>h?u=y:(u=-m,y=h)):d>v&&(d=v,-m+p<0?u=0:-m+p>h?u=y:(u=-m+p,y=h)),_=Math.abs(u)<e.smallnum?0:u/y,f=Math.abs(d)<e.smallnum?0:d/v;var C=r.c.Vector3[4];c.scaleToRef(f,C);var E=r.c.Vector3[5];s.scaleToRef(_,E),E.addInPlace(l);var S=r.c.Vector3[6];return E.subtractToRef(C,S),f>0&&f<=this.length&&S.lengthSquared()<n*n?E.length():-1},e.prototype.update=function(e,t,i,n,r,o,s){return this.unprojectRayToRef(e,t,i,n,r,o,s),this},e.Zero=function(){return new e(r.e.Zero(),r.e.Zero())},e.CreateNew=function(t,i,n,r,o,s,a){return e.Zero().update(t,i,n,r,o,s,a)},e.CreateNewFromTo=function(t,i,n){void 0===n&&(n=r.a.IdentityReadOnly);var o=i.subtract(t),s=Math.sqrt(o.x*o.x+o.y*o.y+o.z*o.z);return o.normalize(),e.Transform(new e(t,o,s),n)},e.Transform=function(t,i){var n=new e(new r.e(0,0,0),new r.e(0,0,0));return e.TransformToRef(t,i,n),n},e.TransformToRef=function(e,t,i){r.e.TransformCoordinatesToRef(e.origin,t,i.origin),r.e.TransformNormalToRef(e.direction,t,i.direction),i.length=e.length;var n=i.direction,o=n.length();if(0!==o&&1!==o){var s=1/o;n.x*=s,n.y*=s,n.z*=s,i.length*=o}},e.prototype.unprojectRayToRef=function(e,t,i,n,o,s,a){var c=r.c.Matrix[0];o.multiplyToRef(s,c),c.multiplyToRef(a,c),c.invert();var l=r.c.Vector3[0];l.x=e/i*2-1,l.y=-(t/n*2-1),l.z=-1;var _=r.c.Vector3[1].copyFromFloats(l.x,l.y,1),u=r.c.Vector3[2],f=r.c.Vector3[3];r.e._UnprojectFromInvertedMatrixToRef(l,c,u),r.e._UnprojectFromInvertedMatrixToRef(_,c,f),this.origin.copyFrom(u),f.subtractToRef(u,this.direction),this.direction.normalize()},e._TmpVector3=n.a.BuildArray(6,r.e.Zero),e.smallnum=1e-8,e.rayl=1e9,e}();a.a.prototype.createPickingRay=function(e,t,i,n,r){void 0===r&&(r=!1);var o=l.Zero();return this.createPickingRayToRef(e,t,i,o,n,r),o},a.a.prototype.createPickingRayToRef=function(e,t,i,n,o,s){void 0===s&&(s=!1);var a=this.getEngine();if(!o){if(!this.activeCamera)return this;o=this.activeCamera}var c=o.viewport.toGlobal(a.getRenderWidth(),a.getRenderHeight());return e=e/a.getHardwareScalingLevel()-c.x,t=t/a.getHardwareScalingLevel()-(a.getRenderHeight()-c.y-c.height),n.update(e,t,c.width,c.height,i||r.a.IdentityReadOnly,s?r.a.IdentityReadOnly:o.getViewMatrix(),o.getProjectionMatrix()),this},a.a.prototype.createPickingRayInCameraSpace=function(e,t,i){var n=l.Zero();return this.createPickingRayInCameraSpaceToRef(e,t,n,i),n},a.a.prototype.createPickingRayInCameraSpaceToRef=function(e,t,i,n){if(!o.a)return this;var s=this.getEngine();if(!n){if(!this.activeCamera)throw new Error("Active camera not set");n=this.activeCamera}var a=n.viewport.toGlobal(s.getRenderWidth(),s.getRenderHeight()),c=r.a.Identity();return e=e/s.getHardwareScalingLevel()-a.x,t=t/s.getHardwareScalingLevel()-(s.getRenderHeight()-a.y-a.height),i.update(e,t,a.width,a.height,c,c,n.getProjectionMatrix()),this},a.a.prototype._internalPickForMesh=function(e,t,i,n,r,o,s,a){var c=t(n),l=i.intersects(c,r,s,o,n,a);return l&&l.hit?!r&&null!=e&&l.distance>=e.distance?null:l:null},a.a.prototype._internalPick=function(e,t,i,n,s){if(!o.a)return null;for(var a=null,c=0;c<this.meshes.length;c++){var l=this.meshes[c];if(t){if(!t(l))continue}else if(!l.isEnabled()||!l.isVisible||!l.isPickable)continue;var _,u=l.skeleton&&l.skeleton.overrideMesh?l.skeleton.overrideMesh.getWorldMatrix():l.getWorldMatrix();if(l.hasThinInstances&&l.thinInstanceEnablePicking){if(_=this._internalPickForMesh(a,e,l,u,!0,!0,s)){if(n)return a;for(var f=r.c.Matrix[1],d=l.thinInstanceGetWorldMatrices(),h=0;h<d.length;h++){d[h].multiplyToRef(u,f);var p=this._internalPickForMesh(a,e,l,f,i,n,s,!0);if(p&&((a=p).thinInstanceIndex=h,i))return a}}}else if((_=this._internalPickForMesh(a,e,l,u,i,n,s))&&(a=_,i))return a}return a||new o.a},a.a.prototype._internalMultiPick=function(e,t,i){if(!o.a)return null;for(var n=new Array,s=0;s<this.meshes.length;s++){var a=this.meshes[s];if(t){if(!t(a))continue}else if(!a.isEnabled()||!a.isVisible||!a.isPickable)continue;var c,l=a.skeleton&&a.skeleton.overrideMesh?a.skeleton.overrideMesh.getWorldMatrix():a.getWorldMatrix();if(a.hasThinInstances&&a.thinInstanceEnablePicking){if(c=this._internalPickForMesh(null,e,a,l,!0,!0,i))for(var _=r.c.Matrix[1],u=a.thinInstanceGetWorldMatrices(),f=0;f<u.length;f++){u[f].multiplyToRef(l,_);var d=this._internalPickForMesh(null,e,a,_,!1,!1,i,!0);d&&(d.thinInstanceIndex=f,n.push(d))}}else(c=this._internalPickForMesh(null,e,a,l,!1,!1,i))&&n.push(c)}return n},a.a.prototype.pickWithBoundingInfo=function(e,t,i,n,s){var a=this;if(!o.a)return null;var c=this._internalPick(function(i){return a._tempPickingRay||(a._tempPickingRay=l.Zero()),a.createPickingRayToRef(e,t,i,a._tempPickingRay,s||null),a._tempPickingRay},i,n,!0);return c&&(c.ray=this.createPickingRay(e,t,r.a.Identity(),s||null)),c},a.a.prototype.pick=function(e,t,i,n,s,a){var c=this;if(!o.a)return null;var _=this._internalPick(function(i){return c._tempPickingRay||(c._tempPickingRay=l.Zero()),c.createPickingRayToRef(e,t,i,c._tempPickingRay,s||null),c._tempPickingRay},i,n,!1,a);return _&&(_.ray=this.createPickingRay(e,t,r.a.Identity(),s||null)),_},a.a.prototype.pickWithRay=function(e,t,i,n){var o=this,s=this._internalPick(function(t){return o._pickWithRayInverseMatrix||(o._pickWithRayInverseMatrix=r.a.Identity()),t.invertToRef(o._pickWithRayInverseMatrix),o._cachedRayForTransform||(o._cachedRayForTransform=l.Zero()),l.TransformToRef(e,o._pickWithRayInverseMatrix,o._cachedRayForTransform),o._cachedRayForTransform},t,i,!1,n);return s&&(s.ray=e),s},a.a.prototype.multiPick=function(e,t,i,n,r){var o=this;return this._internalMultiPick(function(i){return o.createPickingRay(e,t,i,n||null)},i,r)},a.a.prototype.multiPickWithRay=function(e,t,i){var n=this;return this._internalMultiPick(function(t){return n._pickWithRayInverseMatrix||(n._pickWithRayInverseMatrix=r.a.Identity()),t.invertToRef(n._pickWithRayInverseMatrix),n._cachedRayForTransform||(n._cachedRayForTransform=l.Zero()),l.TransformToRef(e,n._pickWithRayInverseMatrix,n._cachedRayForTransform),n._cachedRayForTransform},t,i)},c.a.prototype.getForwardRay=function(e,t,i){return void 0===e&&(e=100),this.getForwardRayToRef(new l(r.e.Zero(),r.e.Zero(),e),e,t,i)},c.a.prototype.getForwardRayToRef=function(e,t,i,n){return void 0===t&&(t=100),i||(i=this.getWorldMatrix()),e.length=t,n?e.origin.copyFrom(n):e.origin.copyFrom(this.position),r.c.Vector3[2].set(0,0,this._scene.useRightHandedSystem?-1:1),r.e.TransformNormalToRef(r.c.Vector3[2],i,r.c.Vector3[3]),r.e.NormalizeToRef(r.c.Vector3[3],e.direction),e}},1040:function(e,t,i){"use strict";var n=i(650),r=i(658),o=i(880),s=i(644),a=i(871),c=i(675),l=i(649),_=i(668),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.c)(t,e),t}(a.a),f=function(){this.rootNodes=[],this.skeletons=[],this.animationGroups=[]},d=function(e){function t(t){var i=e.call(this)||this;return i._wasAddedToScene=!1,i.scene=t,i.sounds=[],i.effectLayers=[],i.layers=[],i.lensFlareSystems=[],i.proceduralTextures=[],i.reflectionProbes=[],t.onDisposeObservable.add(function(){i._wasAddedToScene||i.dispose()}),i}return Object(s.c)(t,e),t.prototype.instantiateModelsToScene=function(e,t){var i=this;void 0===t&&(t=!1);var n={},r={},o=new f,s=[],a=[],l={doNotInstantiate:!0},_=function(t,i){if(n[t.uniqueId]=i.uniqueId,r[i.uniqueId]=i,e&&(i.name=e(t.name)),i instanceof c.a){var o=i;if(o.morphTargetManager){var s=t.morphTargetManager;o.morphTargetManager=s.clone();for(var a=0;a<s.numTargets;a++){var l=s.getTarget(a),_=o.morphTargetManager.getTarget(a);n[l.uniqueId]=_.uniqueId,r[_.uniqueId]=_}}}};return this.transformNodes.forEach(function(e){if(!e.parent){var t=e.instantiateHierarchy(null,l,function(e,t){_(e,t)});t&&o.rootNodes.push(t)}}),this.meshes.forEach(function(s){if(!s.parent){var c=s.instantiateHierarchy(null,l,function(o,s){if(_(o,s),s.material){var c=s;if(c.material)if(t){var l=o.material;if(-1===a.indexOf(l)){var u=l.clone(e?e(l.name):"Clone of "+l.name);if(a.push(l),n[l.uniqueId]=u.uniqueId,r[u.uniqueId]=u,"MultiMaterial"===l.getClassName()){for(var f=l,d=0,h=f.subMaterials;d<h.length;d++){var p=h[d];p&&(u=p.clone(e?e(p.name):"Clone of "+p.name),a.push(p),n[p.uniqueId]=u.uniqueId,r[u.uniqueId]=u)}f.subMaterials=f.subMaterials.map(function(e){return e&&r[n[e.uniqueId]]})}}c.material=r[n[l.uniqueId]]}else"MultiMaterial"===c.material.getClassName()?-1===i.scene.multiMaterials.indexOf(c.material)&&i.scene.addMultiMaterial(c.material):-1===i.scene.materials.indexOf(c.material)&&i.scene.addMaterial(c.material)}});c&&o.rootNodes.push(c)}}),this.skeletons.forEach(function(t){var a=t.clone(e?e(t.name):"Clone of "+t.name);t.overrideMesh&&(a.overrideMesh=r[n[t.overrideMesh.uniqueId]]);for(var c=0,l=i.meshes;c<l.length;c++){var _=l[c];if(_.skeleton===t&&!_.isAnInstance){if(r[n[_.uniqueId]].skeleton=a,-1!==s.indexOf(a))continue;s.push(a);for(var u=0,f=a.bones;u<f.length;u++){var d=f[u];d._linkedTransformNode&&(d._linkedTransformNode=r[n[d._linkedTransformNode.uniqueId]])}}}o.skeletons.push(a)}),this.animationGroups.forEach(function(e){var t=e.clone(e.name,function(e){return r[n[e.uniqueId]]||e});o.animationGroups.push(t)}),o},t.prototype.addAllToScene=function(){var e=this;this._wasAddedToScene=!0,this.cameras.forEach(function(t){e.scene.addCamera(t)}),this.lights.forEach(function(t){e.scene.addLight(t)}),this.meshes.forEach(function(t){e.scene.addMesh(t)}),this.skeletons.forEach(function(t){e.scene.addSkeleton(t)}),this.animations.forEach(function(t){e.scene.addAnimation(t)}),this.animationGroups.forEach(function(t){e.scene.addAnimationGroup(t)}),this.multiMaterials.forEach(function(t){e.scene.addMultiMaterial(t)}),this.materials.forEach(function(t){e.scene.addMaterial(t)}),this.morphTargetManagers.forEach(function(t){e.scene.addMorphTargetManager(t)}),this.geometries.forEach(function(t){e.scene.addGeometry(t)}),this.transformNodes.forEach(function(t){e.scene.addTransformNode(t)}),this.actionManagers.forEach(function(t){e.scene.addActionManager(t)}),this.textures.forEach(function(t){e.scene.addTexture(t)}),this.reflectionProbes.forEach(function(t){e.scene.addReflectionProbe(t)}),this.environmentTexture&&(this.scene.environmentTexture=this.environmentTexture);for(var t=0,i=this.scene._serializableComponents;t<i.length;t++){i[t].addFromContainer(this)}},t.prototype.removeAllFromScene=function(){var e=this;this._wasAddedToScene=!1,this.cameras.forEach(function(t){e.scene.removeCamera(t)}),this.lights.forEach(function(t){e.scene.removeLight(t)}),this.meshes.forEach(function(t){e.scene.removeMesh(t)}),this.skeletons.forEach(function(t){e.scene.removeSkeleton(t)}),this.animations.forEach(function(t){e.scene.removeAnimation(t)}),this.animationGroups.forEach(function(t){e.scene.removeAnimationGroup(t)}),this.multiMaterials.forEach(function(t){e.scene.removeMultiMaterial(t)}),this.materials.forEach(function(t){e.scene.removeMaterial(t)}),this.morphTargetManagers.forEach(function(t){e.scene.removeMorphTargetManager(t)}),this.geometries.forEach(function(t){e.scene.removeGeometry(t)}),this.transformNodes.forEach(function(t){e.scene.removeTransformNode(t)}),this.actionManagers.forEach(function(t){e.scene.removeActionManager(t)}),this.textures.forEach(function(t){e.scene.removeTexture(t)}),this.reflectionProbes.forEach(function(t){e.scene.removeReflectionProbe(t)}),this.environmentTexture===this.scene.environmentTexture&&(this.scene.environmentTexture=null);for(var t=0,i=this.scene._serializableComponents;t<i.length;t++){i[t].removeFromContainer(this)}},t.prototype.dispose=function(){this.cameras.forEach(function(e){e.dispose()}),this.cameras=[],this.lights.forEach(function(e){e.dispose()}),this.lights=[],this.meshes.forEach(function(e){e.dispose()}),this.meshes=[],this.skeletons.forEach(function(e){e.dispose()}),this.skeletons=[],this.animationGroups.forEach(function(e){e.dispose()}),this.animationGroups=[],this.multiMaterials.forEach(function(e){e.dispose()}),this.multiMaterials=[],this.materials.forEach(function(e){e.dispose()}),this.materials=[],this.geometries.forEach(function(e){e.dispose()}),this.geometries=[],this.transformNodes.forEach(function(e){e.dispose()}),this.transformNodes=[],this.actionManagers.forEach(function(e){e.dispose()}),this.actionManagers=[],this.textures.forEach(function(e){e.dispose()}),this.textures=[],this.reflectionProbes.forEach(function(e){e.dispose()}),this.reflectionProbes=[],this.environmentTexture&&(this.environmentTexture.dispose(),this.environmentTexture=null);for(var e=0,t=this.scene._serializableComponents;e<t.length;e++){t[e].removeFromContainer(this,!0)}},t.prototype._moveAssets=function(e,t,i){if(e)for(var n=0,r=e;n<r.length;n++){var o=r[n],s=!0;if(i)for(var a=0,c=i;a<c.length;a++){if(o===c[a]){s=!1;break}}s&&t.push(o)}},t.prototype.moveAllFromScene=function(e){for(var t in this._wasAddedToScene=!1,void 0===e&&(e=new u),this)this.hasOwnProperty(t)&&(this[t]=this[t]||("environmentTexture"===t?null:[]),this._moveAssets(this.scene[t],this[t],e[t]));this.environmentTexture=this.scene.environmentTexture,this.removeAllFromScene()},t.prototype.createRootMesh=function(){var e=new c.a("assetContainerRootMesh",this.scene);return this.meshes.forEach(function(t){t.parent||e.addChild(t)}),this.meshes.unshift(e),e},t.prototype.mergeAnimationsTo=function(e,t,i){if(void 0===e&&(e=_.a.LastCreatedScene),void 0===i&&(i=null),!e)return l.a.Error("No scene available to merge animations to"),[];var n=i||function(t){var i=null,n=t.animations.length?t.animations[0].targetProperty:"",r=t.name.split(".").join("").split("_primitive")[0];switch(n){case"position":case"rotationQuaternion":i=e.getTransformNodeByName(t.name)||e.getTransformNodeByName(r);break;case"influence":i=e.getMorphTargetByName(t.name)||e.getMorphTargetByName(r);break;default:i=e.getNodeByName(t.name)||e.getNodeByName(r)}return i};this.getNodes().forEach(function(e){var t=n(e);if(null!==t){for(var i=function(e){for(var i=0,n=t.animations.filter(function(t){return t.targetProperty===e.targetProperty});i<n.length;i++){var r=n[i],o=t.animations.indexOf(r,0);o>-1&&t.animations.splice(o,1)}},r=0,o=e.animations;r<o.length;r++){i(o[r])}t.animations=t.animations.concat(e.animations)}});var r=new Array;return this.animationGroups.slice().forEach(function(e){r.push(e.clone(e.name,n)),e.animatables.forEach(function(e){e.stop()})}),t.forEach(function(t){var i=n(t.target);i&&(e.beginAnimation(i,t.fromFrame,t.toFrame,t.loopAnimation,t.speedRatio,t.onAnimationEnd?t.onAnimationEnd:void 0,void 0,!0,void 0,t.onAnimationLoop?t.onAnimationLoop:void 0),e.stopAnimation(t.target))}),r},t}(a.a),h=i(702),p=function(){function e(e){this.byteOffset=0,this.buffer=e}return e.prototype.loadAsync=function(e){var t=this;return this.buffer.readAsync(this.byteOffset,e).then(function(e){t._dataView=new DataView(e.buffer,e.byteOffset,e.byteLength),t._dataByteOffset=0})},e.prototype.readUint32=function(){var e=this._dataView.getUint32(this._dataByteOffset,!0);return this._dataByteOffset+=4,this.byteOffset+=4,e},e.prototype.readUint8Array=function(e){var t=new Uint8Array(this._dataView.buffer,this._dataView.byteOffset+this._dataByteOffset,e);return this._dataByteOffset+=e,this.byteOffset+=e,t},e.prototype.readString=function(e){return h.a.Decode(this.readUint8Array(e))},e.prototype.skipBytes=function(e){this._dataByteOffset+=e,this.byteOffset+=e},e}();function b(e,t,i,n){var r={externalResourceFunction:function(e){return n(e).then(function(e){return new Uint8Array(e)})}};return i&&(r.uri="file:"===t?i:t+i),e instanceof ArrayBuffer?GLTFValidator.validateBytes(new Uint8Array(e),r):GLTFValidator.validateString(e,r)}function m(){var e=[];onmessage=function(t){var i=t.data;switch(i.id){case"init":importScripts(i.url);break;case"validate":b(i.data,i.rootUrl,i.fileName,function(t){return new Promise(function(i,n){var r=e.length;e.push({resolve:i,reject:n}),postMessage({id:"getExternalResource",index:r,uri:t})})}).then(function(e){postMessage({id:"validate.resolve",value:e})},function(e){postMessage({id:"validate.reject",reason:e})});break;case"getExternalResource.resolve":e[i.index].resolve(i.value);break;case"getExternalResource.reject":e[i.index].reject(i.reason)}}}var A,g,y,v=function(){function e(){}return e.ValidateAsync=function(e,t,i,n){var o=this;return"function"===typeof Worker?new Promise(function(s,a){var c=b+"("+m+")()",l=URL.createObjectURL(new Blob([c],{type:"application/javascript"})),_=new Worker(l),u=function e(t){_.removeEventListener("error",e),_.removeEventListener("message",f),a(t)},f=function e(t){var i=t.data;switch(i.id){case"getExternalResource":n(i.uri).then(function(e){_.postMessage({id:"getExternalResource.resolve",index:i.index,value:e},[e])},function(e){_.postMessage({id:"getExternalResource.reject",index:i.index,reason:e})});break;case"validate.resolve":_.removeEventListener("error",u),_.removeEventListener("message",e),s(i.value);break;case"validate.reject":_.removeEventListener("error",u),_.removeEventListener("message",e),a(i.reason)}};_.addEventListener("error",u),_.addEventListener("message",f),_.postMessage({id:"init",url:r.b.GetAbsoluteUrl(o.Configuration.url)}),_.postMessage({id:"validate",data:e,rootUrl:t,fileName:i})}):(this._LoadScriptPromise||(this._LoadScriptPromise=r.b.LoadScriptAsync(this.Configuration.url)),this._LoadScriptPromise.then(function(){return b(e,t,i,n)}))},e.Configuration={url:"https://preview.babylonjs.com/gltf_validator.js"},e}();!function(e){e[e.AUTO=0]="AUTO",e[e.FORCE_RIGHT_HANDED=1]="FORCE_RIGHT_HANDED"}(A||(A={})),function(e){e[e.NONE=0]="NONE",e[e.FIRST=1]="FIRST",e[e.ALL=2]="ALL"}(g||(g={})),function(e){e[e.LOADING=0]="LOADING",e[e.READY=1]="READY",e[e.COMPLETE=2]="COMPLETE"}(y||(y={}));var C=function(){function e(){this.onParsedObservable=new n.a,this.coordinateSystemMode=A.AUTO,this.animationStartMode=g.FIRST,this.compileMaterials=!1,this.useClipPlane=!1,this.compileShadowGenerators=!1,this.transparencyAsCoverage=!1,this.useRangeRequests=!1,this.createInstances=!0,this.alwaysComputeBoundingBox=!1,this.loadAllMaterials=!1,this.preprocessUrlAsync=function(e){return Promise.resolve(e)},this.onMeshLoadedObservable=new n.a,this.onTextureLoadedObservable=new n.a,this.onMaterialLoadedObservable=new n.a,this.onCameraLoadedObservable=new n.a,this.onCompleteObservable=new n.a,this.onErrorObservable=new n.a,this.onDisposeObservable=new n.a,this.onExtensionLoadedObservable=new n.a,this.validate=!1,this.onValidatedObservable=new n.a,this._loader=null,this._requests=new Array,this.name="gltf",this.extensions={".gltf":{isBinary:!1},".glb":{isBinary:!0}},this._logIndentLevel=0,this._loggingEnabled=!1,this._log=this._logDisabled,this._capturePerformanceCounters=!1,this._startPerformanceCounter=this._startPerformanceCounterDisabled,this._endPerformanceCounter=this._endPerformanceCounterDisabled}return Object.defineProperty(e.prototype,"onParsed",{set:function(e){this._onParsedObserver&&this.onParsedObservable.remove(this._onParsedObserver),this._onParsedObserver=this.onParsedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMeshLoaded",{set:function(e){this._onMeshLoadedObserver&&this.onMeshLoadedObservable.remove(this._onMeshLoadedObserver),this._onMeshLoadedObserver=this.onMeshLoadedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onTextureLoaded",{set:function(e){this._onTextureLoadedObserver&&this.onTextureLoadedObservable.remove(this._onTextureLoadedObserver),this._onTextureLoadedObserver=this.onTextureLoadedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onMaterialLoaded",{set:function(e){this._onMaterialLoadedObserver&&this.onMaterialLoadedObservable.remove(this._onMaterialLoadedObserver),this._onMaterialLoadedObserver=this.onMaterialLoadedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onCameraLoaded",{set:function(e){this._onCameraLoadedObserver&&this.onCameraLoadedObservable.remove(this._onCameraLoadedObserver),this._onCameraLoadedObserver=this.onCameraLoadedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onComplete",{set:function(e){this._onCompleteObserver&&this.onCompleteObservable.remove(this._onCompleteObserver),this._onCompleteObserver=this.onCompleteObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onError",{set:function(e){this._onErrorObserver&&this.onErrorObservable.remove(this._onErrorObserver),this._onErrorObserver=this.onErrorObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onExtensionLoaded",{set:function(e){this._onExtensionLoadedObserver&&this.onExtensionLoadedObservable.remove(this._onExtensionLoadedObserver),this._onExtensionLoadedObserver=this.onExtensionLoadedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loggingEnabled",{get:function(){return this._loggingEnabled},set:function(e){this._loggingEnabled!==e&&(this._loggingEnabled=e,this._loggingEnabled?this._log=this._logEnabled:this._log=this._logDisabled)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"capturePerformanceCounters",{get:function(){return this._capturePerformanceCounters},set:function(e){this._capturePerformanceCounters!==e&&(this._capturePerformanceCounters=e,this._capturePerformanceCounters?(this._startPerformanceCounter=this._startPerformanceCounterEnabled,this._endPerformanceCounter=this._endPerformanceCounterEnabled):(this._startPerformanceCounter=this._startPerformanceCounterDisabled,this._endPerformanceCounter=this._endPerformanceCounterDisabled))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onValidated",{set:function(e){this._onValidatedObserver&&this.onValidatedObservable.remove(this._onValidatedObserver),this._onValidatedObserver=this.onValidatedObservable.add(e)},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._loader&&(this._loader.dispose(),this._loader=null);for(var e=0,t=this._requests;e<t.length;e++){t[e].abort()}this._requests.length=0,delete this._progressCallback,this.preprocessUrlAsync=function(e){return Promise.resolve(e)},this.onMeshLoadedObservable.clear(),this.onTextureLoadedObservable.clear(),this.onMaterialLoadedObservable.clear(),this.onCameraLoadedObservable.clear(),this.onCompleteObservable.clear(),this.onExtensionLoadedObservable.clear(),this.onDisposeObservable.notifyObservers(void 0),this.onDisposeObservable.clear()},e.prototype.requestFile=function(e,t,i,o,s,a){var c=this;if(this._progressCallback=o,s){if(this.useRangeRequests){this.validate&&l.a.Warn("glTF validation is not supported when range requests are enabled");var _={abort:function(){},onCompleteObservable:new n.a},u={readAsync:function(i,n){return new Promise(function(r,o){c._requestFile(t,e,function(e){r(new Uint8Array(e))},!0,function(e){o(e)},function(e){e.setRequestHeader("Range","bytes="+i+"-"+(i+n-1))})})},byteLength:0};return this._unpackBinaryAsync(new p(u)).then(function(e){_.onCompleteObservable.notifyObservers(_),i(e)},a),_}return this._requestFile(t,e,function(e,t){var n=e;c._unpackBinaryAsync(new p({readAsync:function(e,t){return Promise.resolve(new Uint8Array(n,e,t))},byteLength:n.byteLength})).then(function(e){i(e,t)},a)},!0,a)}return this._requestFile(t,e,function(n,o){c._validate(e,n,r.b.GetFolderPath(t),r.b.GetFilename(t)),i({json:c._parseJson(n)},o)},s,a)},e.prototype.readFile=function(e,t,i,n,r,o){var s=this;return e._readFile(t,function(n){if(s._validate(e,n,"file:",t.name),r){var a=n;s._unpackBinaryAsync(new p({readAsync:function(e,t){return Promise.resolve(new Uint8Array(a,e,t))},byteLength:a.byteLength})).then(i,o)}else i({json:s._parseJson(n)})},n,r,o)},e.prototype.importMeshAsync=function(e,t,i,n,r,o){var s=this;return Promise.resolve().then(function(){return s.onParsedObservable.notifyObservers(i),s.onParsedObservable.clear(),s._log("Loading "+(o||"")),s._loader=s._getLoader(i),s._loader.importMeshAsync(e,t,!1,i,n,r,o)})},e.prototype.loadAsync=function(e,t,i,n,r){var o=this;return Promise.resolve().then(function(){return o.onParsedObservable.notifyObservers(t),o.onParsedObservable.clear(),o._log("Loading "+(r||"")),o._loader=o._getLoader(t),o._loader.loadAsync(e,t,i,n,r)})},e.prototype.loadAssetContainerAsync=function(e,t,i,n,r){var o=this;return Promise.resolve().then(function(){o.onParsedObservable.notifyObservers(t),o.onParsedObservable.clear(),o._log("Loading "+(r||"")),o._loader=o._getLoader(t);var s=new d(e),a=[];o.onMaterialLoadedObservable.add(function(e){a.push(e),e.onDisposeObservable.addOnce(function(){var t=s.materials.indexOf(e);t>-1&&s.materials.splice(t,1),(t=a.indexOf(e))>-1&&a.splice(t,1)})});var c=[];o.onTextureLoadedObservable.add(function(e){c.push(e),e.onDisposeObservable.addOnce(function(){var t=s.textures.indexOf(e);t>-1&&s.textures.splice(t,1),(t=c.indexOf(e))>-1&&c.splice(t,1)})});var l=[];return o.onCameraLoadedObservable.add(function(e){l.push(e)}),o._loader.importMeshAsync(null,e,!0,t,i,n,r).then(function(e){return Array.prototype.push.apply(s.geometries,e.geometries),Array.prototype.push.apply(s.meshes,e.meshes),Array.prototype.push.apply(s.particleSystems,e.particleSystems),Array.prototype.push.apply(s.skeletons,e.skeletons),Array.prototype.push.apply(s.animationGroups,e.animationGroups),Array.prototype.push.apply(s.materials,a),Array.prototype.push.apply(s.textures,c),Array.prototype.push.apply(s.lights,e.lights),Array.prototype.push.apply(s.transformNodes,e.transformNodes),Array.prototype.push.apply(s.cameras,l),s})})},e.prototype.canDirectLoad=function(t){return-1!==t.indexOf("asset")&&-1!==t.indexOf("version")||h.a.StartsWith(t,"data:base64,"+e.magicBase64Encoded)||h.a.StartsWith(t,"data:application/octet-stream;base64,"+e.magicBase64Encoded)||h.a.StartsWith(t,"data:model/gltf-binary;base64,"+e.magicBase64Encoded)},e.prototype.directLoad=function(t,i){if(h.a.StartsWith(i,"base64,"+e.magicBase64Encoded)||h.a.StartsWith(i,"application/octet-stream;base64,"+e.magicBase64Encoded)||h.a.StartsWith(i,"model/gltf-binary;base64,"+e.magicBase64Encoded)){var n=r.b.DecodeBase64(i);return this._validate(t,n),this._unpackBinaryAsync(new p({readAsync:function(e,t){return Promise.resolve(new Uint8Array(n,e,t))},byteLength:n.byteLength}))}return this._validate(t,i),Promise.resolve({json:this._parseJson(i)})},e.prototype.createPlugin=function(){return new e},Object.defineProperty(e.prototype,"loaderState",{get:function(){return this._loader?this._loader.state:null},enumerable:!1,configurable:!0}),e.prototype.whenCompleteAsync=function(){var e=this;return new Promise(function(t,i){e.onCompleteObservable.addOnce(function(){t()}),e.onErrorObservable.addOnce(function(e){i(e)})})},e.prototype._loadFile=function(e,t,i,n,r){var o=this,s=t._loadFile(e,i,function(e){o._onProgress(e,s)},void 0,n,r);return s.onCompleteObservable.add(function(e){o._requests.splice(o._requests.indexOf(e),1)}),this._requests.push(s),s},e.prototype._requestFile=function(e,t,i,n,r,o){var s=this,a=t._requestFile(e,i,function(e){s._onProgress(e,a)},void 0,n,r,o);return a.onCompleteObservable.add(function(e){s._requests.splice(s._requests.indexOf(e),1)}),this._requests.push(a),a},e.prototype._onProgress=function(e,t){if(this._progressCallback){t._lengthComputable=e.lengthComputable,t._loaded=e.loaded,t._total=e.total;for(var i=!0,n=0,r=0,o=0,s=this._requests;o<s.length;o++){var a=s[o];if(void 0===a._lengthComputable||void 0===a._loaded||void 0===a._total)return;i=i&&a._lengthComputable,n+=a._loaded,r+=a._total}this._progressCallback({lengthComputable:i,loaded:n,total:i?r:0})}},e.prototype._validate=function(e,t,i,n){var o=this;void 0===i&&(i=""),void 0===n&&(n=""),this.validate&&(this._startPerformanceCounter("Validate JSON"),v.ValidateAsync(t,i,n,function(t){return o.preprocessUrlAsync(i+t).then(function(t){return e._loadFileAsync(t,void 0,!0,!0)})}).then(function(e){o._endPerformanceCounter("Validate JSON"),o.onValidatedObservable.notifyObservers(e),o.onValidatedObservable.clear()},function(e){o._endPerformanceCounter("Validate JSON"),r.b.Warn("Failed to validate: "+e.message),o.onValidatedObservable.clear()}))},e.prototype._getLoader=function(t){var i=t.json.asset||{};this._log("Asset version: "+i.version),i.minVersion&&this._log("Asset minimum version: "+i.minVersion),i.generator&&this._log("Asset generator: "+i.generator);var n=e._parseVersion(i.version);if(!n)throw new Error("Invalid version: "+i.version);if(void 0!==i.minVersion){var r=e._parseVersion(i.minVersion);if(!r)throw new Error("Invalid minimum version: "+i.minVersion);if(e._compareVersion(r,{major:2,minor:0})>0)throw new Error("Incompatible minimum version: "+i.minVersion)}var o={1:e._CreateGLTF1Loader,2:e._CreateGLTF2Loader}[n.major];if(!o)throw new Error("Unsupported version: "+i.version);return o(this)},e.prototype._parseJson=function(e){this._startPerformanceCounter("Parse JSON"),this._log("JSON length: "+e.length);var t=JSON.parse(e);return this._endPerformanceCounter("Parse JSON"),t},e.prototype._unpackBinaryAsync=function(e){var t=this;return this._startPerformanceCounter("Unpack Binary"),e.loadAsync(20).then(function(){var i=e.readUint32();if(1179937895!==i)throw new Error("Unexpected magic: "+i);var n=e.readUint32();t.loggingEnabled&&t._log("Binary version: "+n);var r,o=e.readUint32();if(0!==e.buffer.byteLength&&o!==e.buffer.byteLength)throw new Error("Length in header does not match actual data length: "+o+" != "+e.buffer.byteLength);switch(n){case 1:r=t._unpackBinaryV1Async(e,o);break;case 2:r=t._unpackBinaryV2Async(e,o);break;default:throw new Error("Unsupported version: "+n)}return t._endPerformanceCounter("Unpack Binary"),r})},e.prototype._unpackBinaryV1Async=function(e,t){var i=e.readUint32(),n=e.readUint32();if(0!==n)throw new Error("Unexpected content format: "+n);var r=t-e.byteOffset,o={json:this._parseJson(e.readString(i)),bin:null};if(0!==r){var s=e.byteOffset;o.bin={readAsync:function(t,i){return e.buffer.readAsync(s+t,i)},byteLength:r}}return Promise.resolve(o)},e.prototype._unpackBinaryV2Async=function(e,t){var i=this,n=1313821514,r=5130562,o=e.readUint32();if(e.readUint32()!==n)throw new Error("First chunk format is not JSON");return e.byteOffset+o===t?e.loadAsync(o).then(function(){return{json:i._parseJson(e.readString(o)),bin:null}}):e.loadAsync(o+8).then(function(){var s={json:i._parseJson(e.readString(o)),bin:null};return function i(){var o=e.readUint32();switch(e.readUint32()){case n:throw new Error("Unexpected JSON chunk");case r:var a=e.byteOffset;s.bin={readAsync:function(t,i){return e.buffer.readAsync(a+t,i)},byteLength:o},e.skipBytes(o);break;default:e.skipBytes(o)}return e.byteOffset!==t?e.loadAsync(8).then(i):Promise.resolve(s)}()})},e._parseVersion=function(e){if("1.0"===e||"1.0.1"===e)return{major:1,minor:0};var t=(e+"").match(/^(\d+)\.(\d+)/);return t?{major:parseInt(t[1]),minor:parseInt(t[2])}:null},e._compareVersion=function(e,t){return e.major>t.major?1:e.major<t.major?-1:e.minor>t.minor?1:e.minor<t.minor?-1:0},e.prototype._logOpen=function(e){this._log(e),this._logIndentLevel++},e.prototype._logClose=function(){--this._logIndentLevel},e.prototype._logEnabled=function(t){var i=e._logSpaces.substr(0,2*this._logIndentLevel);l.a.Log(""+i+t)},e.prototype._logDisabled=function(e){},e.prototype._startPerformanceCounterEnabled=function(e){r.b.StartPerformanceCounter(e)},e.prototype._startPerformanceCounterDisabled=function(e){},e.prototype._endPerformanceCounterEnabled=function(e){r.b.EndPerformanceCounter(e)},e.prototype._endPerformanceCounterDisabled=function(e){},e.IncrementalLoading=!0,e.HomogeneousCoordinates=!1,e.magicBase64Encoded="Z2xURg",e._logSpaces="                                ",e}();o.a&&o.a.RegisterPlugin(new C);var E=function(e,t){return E=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},E(e,t)};function S(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}E(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var T=function(){return T=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},T.apply(this,arguments)};Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;var R,M,O,I,x,P,D,w;!function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.FLOAT=5126]="FLOAT"}(R||(R={})),function(e){e[e.FRAGMENT=35632]="FRAGMENT",e[e.VERTEX=35633]="VERTEX"}(M||(M={})),function(e){e[e.BYTE=5120]="BYTE",e[e.UNSIGNED_BYTE=5121]="UNSIGNED_BYTE",e[e.SHORT=5122]="SHORT",e[e.UNSIGNED_SHORT=5123]="UNSIGNED_SHORT",e[e.INT=5124]="INT",e[e.UNSIGNED_INT=5125]="UNSIGNED_INT",e[e.FLOAT=5126]="FLOAT",e[e.FLOAT_VEC2=35664]="FLOAT_VEC2",e[e.FLOAT_VEC3=35665]="FLOAT_VEC3",e[e.FLOAT_VEC4=35666]="FLOAT_VEC4",e[e.INT_VEC2=35667]="INT_VEC2",e[e.INT_VEC3=35668]="INT_VEC3",e[e.INT_VEC4=35669]="INT_VEC4",e[e.BOOL=35670]="BOOL",e[e.BOOL_VEC2=35671]="BOOL_VEC2",e[e.BOOL_VEC3=35672]="BOOL_VEC3",e[e.BOOL_VEC4=35673]="BOOL_VEC4",e[e.FLOAT_MAT2=35674]="FLOAT_MAT2",e[e.FLOAT_MAT3=35675]="FLOAT_MAT3",e[e.FLOAT_MAT4=35676]="FLOAT_MAT4",e[e.SAMPLER_2D=35678]="SAMPLER_2D"}(O||(O={})),function(e){e[e.CLAMP_TO_EDGE=33071]="CLAMP_TO_EDGE",e[e.MIRRORED_REPEAT=33648]="MIRRORED_REPEAT",e[e.REPEAT=10497]="REPEAT"}(I||(I={})),function(e){e[e.NEAREST=9728]="NEAREST",e[e.LINEAR=9728]="LINEAR",e[e.NEAREST_MIPMAP_NEAREST=9984]="NEAREST_MIPMAP_NEAREST",e[e.LINEAR_MIPMAP_NEAREST=9985]="LINEAR_MIPMAP_NEAREST",e[e.NEAREST_MIPMAP_LINEAR=9986]="NEAREST_MIPMAP_LINEAR",e[e.LINEAR_MIPMAP_LINEAR=9987]="LINEAR_MIPMAP_LINEAR"}(x||(x={})),function(e){e[e.ALPHA=6406]="ALPHA",e[e.RGB=6407]="RGB",e[e.RGBA=6408]="RGBA",e[e.LUMINANCE=6409]="LUMINANCE",e[e.LUMINANCE_ALPHA=6410]="LUMINANCE_ALPHA"}(P||(P={})),function(e){e[e.FRONT=1028]="FRONT",e[e.BACK=1029]="BACK",e[e.FRONT_AND_BACK=1032]="FRONT_AND_BACK"}(D||(D={})),function(e){e[e.ZERO=0]="ZERO",e[e.ONE=1]="ONE",e[e.SRC_COLOR=768]="SRC_COLOR",e[e.ONE_MINUS_SRC_COLOR=769]="ONE_MINUS_SRC_COLOR",e[e.DST_COLOR=774]="DST_COLOR",e[e.ONE_MINUS_DST_COLOR=775]="ONE_MINUS_DST_COLOR",e[e.SRC_ALPHA=770]="SRC_ALPHA",e[e.ONE_MINUS_SRC_ALPHA=771]="ONE_MINUS_SRC_ALPHA",e[e.DST_ALPHA=772]="DST_ALPHA",e[e.ONE_MINUS_DST_ALPHA=773]="ONE_MINUS_DST_ALPHA",e[e.CONSTANT_COLOR=32769]="CONSTANT_COLOR",e[e.ONE_MINUS_CONSTANT_COLOR=32770]="ONE_MINUS_CONSTANT_COLOR",e[e.CONSTANT_ALPHA=32771]="CONSTANT_ALPHA",e[e.ONE_MINUS_CONSTANT_ALPHA=32772]="ONE_MINUS_CONSTANT_ALPHA",e[e.SRC_ALPHA_SATURATE=776]="SRC_ALPHA_SATURATE"}(w||(w={}));var L=i(30),F=i(244),N=i(733),B=i(648),k=i(690),U=i(951),H={},j=function(){function e(e){this.attachedToElement=!1,this.attached={},this.camera=e,this.checkInputs=function(){}}return e.prototype.add=function(e){var t=e.getSimpleName();this.attached[t]?l.a.Warn("camera input of type "+t+" already exists on camera"):(this.attached[t]=e,e.camera=this.camera,e.checkInputs&&(this.checkInputs=this._addCheckInputs(e.checkInputs.bind(e))),this.attachedToElement&&e.attachControl())},e.prototype.remove=function(e){for(var t in this.attached){var i=this.attached[t];i===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},e.prototype.removeByType=function(e){for(var t in this.attached){var i=this.attached[t];i.getClassName()===e&&(i.detachControl(),i.camera=null,delete this.attached[t],this.rebuildInputCheck())}},e.prototype._addCheckInputs=function(e){var t=this.checkInputs;return function(){t(),e()}},e.prototype.attachInput=function(e){this.attachedToElement&&e.attachControl(this.noPreventDefault)},e.prototype.attachElement=function(e){if(void 0===e&&(e=!1),!this.attachedToElement)for(var t in e=!N.a.ForceAttachControlToAlwaysPreventDefault&&e,this.attachedToElement=!0,this.noPreventDefault=e,this.attached)this.attached[t].attachControl(e)},e.prototype.detachElement=function(e){for(var t in void 0===e&&(e=!1),this.attached)this.attached[t].detachControl(),e&&(this.attached[t].camera=null);this.attachedToElement=!1},e.prototype.rebuildInputCheck=function(){for(var e in this.checkInputs=function(){},this.attached){var t=this.attached[e];t.checkInputs&&(this.checkInputs=this._addCheckInputs(t.checkInputs.bind(t)))}},e.prototype.clear=function(){this.attachedToElement&&this.detachElement(!0),this.attached={},this.attachedToElement=!1,this.checkInputs=function(){}},e.prototype.serialize=function(e){var t={};for(var i in this.attached){var n=this.attached[i],r=B.a.Serialize(n);t[n.getClassName()]=r}e.inputsmgr=t},e.prototype.parse=function(e){var t=e.inputsmgr;if(t)for(var i in this.clear(),t){if(o=H[i]){var n=t[i],r=B.a.Parse(function(){return new o},n,null);this.add(r)}}else for(var i in this.attached){var o;if(o=H[this.attached[i].getClassName()]){r=B.a.Parse(function(){return new o},e,null);this.remove(this.attached[i]),this.add(r)}}},e}(),V=i(945),G=function(){function e(){this.keysUp=[38],this.keysUpward=[33],this.keysDown=[40],this.keysDownward=[34],this.keysLeft=[37],this.keysRight=[39],this._keys=new Array}return e.prototype.attachControl=function(e){var t=this;e=r.b.BackCompatCameraNoPreventDefault(arguments),this._onCanvasBlurObserver||(this._scene=this.camera.getScene(),this._engine=this._scene.getEngine(),this._onCanvasBlurObserver=this._engine.onCanvasBlurObservable.add(function(){t._keys=[]}),this._onKeyboardObserver=this._scene.onKeyboardObservable.add(function(i){var n,r=i.event;r.metaKey||(i.type===V.a.KEYDOWN?-1===t.keysUp.indexOf(r.keyCode)&&-1===t.keysDown.indexOf(r.keyCode)&&-1===t.keysLeft.indexOf(r.keyCode)&&-1===t.keysRight.indexOf(r.keyCode)&&-1===t.keysUpward.indexOf(r.keyCode)&&-1===t.keysDownward.indexOf(r.keyCode)||(-1===(n=t._keys.indexOf(r.keyCode))&&t._keys.push(r.keyCode),e||r.preventDefault()):-1===t.keysUp.indexOf(r.keyCode)&&-1===t.keysDown.indexOf(r.keyCode)&&-1===t.keysLeft.indexOf(r.keyCode)&&-1===t.keysRight.indexOf(r.keyCode)&&-1===t.keysUpward.indexOf(r.keyCode)&&-1===t.keysDownward.indexOf(r.keyCode)||((n=t._keys.indexOf(r.keyCode))>=0&&t._keys.splice(n,1),e||r.preventDefault()))}))},e.prototype.detachControl=function(e){this._scene&&(this._onKeyboardObserver&&this._scene.onKeyboardObservable.remove(this._onKeyboardObserver),this._onCanvasBlurObserver&&this._engine.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onKeyboardObserver=null,this._onCanvasBlurObserver=null),this._keys=[]},e.prototype.checkInputs=function(){if(this._onKeyboardObserver)for(var e=this.camera,t=0;t<this._keys.length;t++){var i=this._keys[t],n=e._computeLocalCameraSpeed();-1!==this.keysLeft.indexOf(i)?e._localDirection.copyFromFloats(-n,0,0):-1!==this.keysUp.indexOf(i)?e._localDirection.copyFromFloats(0,0,n):-1!==this.keysRight.indexOf(i)?e._localDirection.copyFromFloats(n,0,0):-1!==this.keysDown.indexOf(i)?e._localDirection.copyFromFloats(0,0,-n):-1!==this.keysUpward.indexOf(i)?e._localDirection.copyFromFloats(0,n,0):-1!==this.keysDownward.indexOf(i)&&e._localDirection.copyFromFloats(0,-n,0),e.getScene().useRightHandedSystem&&(e._localDirection.z*=-1),e.getViewMatrix().invertToRef(e._cameraTransformMatrix),L.e.TransformNormalToRef(e._localDirection,e._cameraTransformMatrix,e._transformedDirection),e.cameraDirection.addInPlace(e._transformedDirection)}},e.prototype.getClassName=function(){return"FreeCameraKeyboardMoveInput"},e.prototype._onLostFocus=function(){this._keys=[]},e.prototype.getSimpleName=function(){return"keyboard"},Object(s.b)([Object(B.c)()],e.prototype,"keysUp",void 0),Object(s.b)([Object(B.c)()],e.prototype,"keysUpward",void 0),Object(s.b)([Object(B.c)()],e.prototype,"keysDown",void 0),Object(s.b)([Object(B.c)()],e.prototype,"keysDownward",void 0),Object(s.b)([Object(B.c)()],e.prototype,"keysLeft",void 0),Object(s.b)([Object(B.c)()],e.prototype,"keysRight",void 0),e}();H.FreeCameraKeyboardMoveInput=G;var W=i(806),X=function(){function e(e){void 0===e&&(e=!0),this.touchEnabled=e,this.buttons=[0,1,2],this.angularSensibility=2e3,this.previousPosition=null,this.onPointerMovedObservable=new n.a,this._allowCameraRotation=!0}return e.prototype.attachControl=function(e){var t=this;e=r.b.BackCompatCameraNoPreventDefault(arguments);var i=this.camera.getEngine(),n=i.getInputElement();this._pointerInput||(this._pointerInput=function(r){var o=r.event;if(!i.isInVRExclusivePointerMode&&(t.touchEnabled||"touch"!==o.pointerType)&&(r.type===W.a.POINTERMOVE||-1!==t.buttons.indexOf(o.button))){var s=o.srcElement||o.target;if(r.type===W.a.POINTERDOWN&&s){try{s.setPointerCapture(o.pointerId)}catch(l){}t.previousPosition={x:o.clientX,y:o.clientY},e||(o.preventDefault(),n&&n.focus()),i.isPointerLock&&t._onMouseMove&&t._onMouseMove(r.event)}else if(r.type===W.a.POINTERUP&&s){try{s.releasePointerCapture(o.pointerId)}catch(l){}t.previousPosition=null,e||o.preventDefault()}else if(r.type===W.a.POINTERMOVE){if(!t.previousPosition)return void(i.isPointerLock&&t._onMouseMove&&t._onMouseMove(r.event));var a=o.clientX-t.previousPosition.x,c=o.clientY-t.previousPosition.y;t.camera.getScene().useRightHandedSystem&&(a*=-1),t.camera.parent&&t.camera.parent._getWorldMatrixDeterminant()<0&&(a*=-1),t._allowCameraRotation&&(t.camera.cameraRotation.y+=a/t.angularSensibility,t.camera.cameraRotation.x+=c/t.angularSensibility),t.onPointerMovedObservable.notifyObservers({offsetX:a,offsetY:c}),t.previousPosition={x:o.clientX,y:o.clientY},e||o.preventDefault()}}}),this._onMouseMove=function(n){if(i.isPointerLock&&!i.isInVRExclusivePointerMode){var r=n.movementX||n.mozMovementX||n.webkitMovementX||n.msMovementX||0;t.camera.getScene().useRightHandedSystem&&(r*=-1),t.camera.parent&&t.camera.parent._getWorldMatrixDeterminant()<0&&(r*=-1),t.camera.cameraRotation.y+=r/t.angularSensibility;var o=n.movementY||n.mozMovementY||n.webkitMovementY||n.msMovementY||0;t.camera.cameraRotation.x+=o/t.angularSensibility,t.previousPosition=null,e||n.preventDefault()}},this._observer=this.camera.getScene().onPointerObservable.add(this._pointerInput,W.a.POINTERDOWN|W.a.POINTERUP|W.a.POINTERMOVE),n&&n.addEventListener("contextmenu",this.onContextMenu.bind(this),!1)},e.prototype.onContextMenu=function(e){e.preventDefault()},e.prototype.detachControl=function(e){if(this._observer){if(this.camera.getScene().onPointerObservable.remove(this._observer),this.onContextMenu){var t=this.camera.getEngine().getInputElement();t&&t.removeEventListener("contextmenu",this.onContextMenu)}this.onPointerMovedObservable&&this.onPointerMovedObservable.clear(),this._observer=null,this._onMouseMove=null,this.previousPosition=null}},e.prototype.getClassName=function(){return"FreeCameraMouseInput"},e.prototype.getSimpleName=function(){return"mouse"},Object(s.b)([Object(B.c)()],e.prototype,"buttons",void 0),Object(s.b)([Object(B.c)()],e.prototype,"angularSensibility",void 0),e}();H.FreeCameraMouseInput=X;var z,Y=function(){function e(){this.wheelPrecisionX=3,this.wheelPrecisionY=3,this.wheelPrecisionZ=3,this.onChangedObservable=new n.a,this._wheelDeltaX=0,this._wheelDeltaY=0,this._wheelDeltaZ=0,this._ffMultiplier=12,this._normalize=120}return e.prototype.attachControl=function(e){var t=this;e=r.b.BackCompatCameraNoPreventDefault(arguments),this._wheel=function(i){if(i.type===W.a.POINTERWHEEL){var n=i.event,r=n.deltaMode===WheelEvent.DOM_DELTA_LINE?t._ffMultiplier:1;void 0!==n.deltaY?(t._wheelDeltaX+=t.wheelPrecisionX*r*n.deltaX/t._normalize,t._wheelDeltaY-=t.wheelPrecisionY*r*n.deltaY/t._normalize,t._wheelDeltaZ+=t.wheelPrecisionZ*r*n.deltaZ/t._normalize):void 0!==n.wheelDeltaY?(t._wheelDeltaX+=t.wheelPrecisionX*r*n.wheelDeltaX/t._normalize,t._wheelDeltaY-=t.wheelPrecisionY*r*n.wheelDeltaY/t._normalize,t._wheelDeltaZ+=t.wheelPrecisionZ*r*n.wheelDeltaZ/t._normalize):n.wheelDelta&&(t._wheelDeltaY-=t.wheelPrecisionY*n.wheelDelta/t._normalize),n.preventDefault&&(e||n.preventDefault())}},this._observer=this.camera.getScene().onPointerObservable.add(this._wheel,W.a.POINTERWHEEL)},e.prototype.detachControl=function(e){this._observer&&(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null,this._wheel=null),this.onChangedObservable&&this.onChangedObservable.clear()},e.prototype.checkInputs=function(){this.onChangedObservable.notifyObservers({wheelDeltaX:this._wheelDeltaX,wheelDeltaY:this._wheelDeltaY,wheelDeltaZ:this._wheelDeltaZ}),this._wheelDeltaX=0,this._wheelDeltaY=0,this._wheelDeltaZ=0},e.prototype.getClassName=function(){return"BaseCameraMouseWheelInput"},e.prototype.getSimpleName=function(){return"mousewheel"},Object(s.b)([Object(B.c)()],e.prototype,"wheelPrecisionX",void 0),Object(s.b)([Object(B.c)()],e.prototype,"wheelPrecisionY",void 0),Object(s.b)([Object(B.c)()],e.prototype,"wheelPrecisionZ",void 0),e}(),Q=i(245);!function(e){e[e.MoveRelative=0]="MoveRelative",e[e.RotateRelative=1]="RotateRelative",e[e.MoveScene=2]="MoveScene"}(z||(z={}));var K=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._moveRelative=L.e.Zero(),t._rotateRelative=L.e.Zero(),t._moveScene=L.e.Zero(),t._wheelXAction=z.MoveRelative,t._wheelXActionCoordinate=Q.b.X,t._wheelYAction=z.MoveRelative,t._wheelYActionCoordinate=Q.b.Z,t._wheelZAction=null,t._wheelZActionCoordinate=null,t}return Object(s.c)(t,e),t.prototype.getClassName=function(){return"FreeCameraMouseWheelInput"},Object.defineProperty(t.prototype,"wheelXMoveRelative",{get:function(){return this._wheelXAction!==z.MoveRelative?null:this._wheelXActionCoordinate},set:function(e){null===e&&this._wheelXAction!==z.MoveRelative||(this._wheelXAction=z.MoveRelative,this._wheelXActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelYMoveRelative",{get:function(){return this._wheelYAction!==z.MoveRelative?null:this._wheelYActionCoordinate},set:function(e){null===e&&this._wheelYAction!==z.MoveRelative||(this._wheelYAction=z.MoveRelative,this._wheelYActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelZMoveRelative",{get:function(){return this._wheelZAction!==z.MoveRelative?null:this._wheelZActionCoordinate},set:function(e){null===e&&this._wheelZAction!==z.MoveRelative||(this._wheelZAction=z.MoveRelative,this._wheelZActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelXRotateRelative",{get:function(){return this._wheelXAction!==z.RotateRelative?null:this._wheelXActionCoordinate},set:function(e){null===e&&this._wheelXAction!==z.RotateRelative||(this._wheelXAction=z.RotateRelative,this._wheelXActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelYRotateRelative",{get:function(){return this._wheelYAction!==z.RotateRelative?null:this._wheelYActionCoordinate},set:function(e){null===e&&this._wheelYAction!==z.RotateRelative||(this._wheelYAction=z.RotateRelative,this._wheelYActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelZRotateRelative",{get:function(){return this._wheelZAction!==z.RotateRelative?null:this._wheelZActionCoordinate},set:function(e){null===e&&this._wheelZAction!==z.RotateRelative||(this._wheelZAction=z.RotateRelative,this._wheelZActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelXMoveScene",{get:function(){return this._wheelXAction!==z.MoveScene?null:this._wheelXActionCoordinate},set:function(e){null===e&&this._wheelXAction!==z.MoveScene||(this._wheelXAction=z.MoveScene,this._wheelXActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelYMoveScene",{get:function(){return this._wheelYAction!==z.MoveScene?null:this._wheelYActionCoordinate},set:function(e){null===e&&this._wheelYAction!==z.MoveScene||(this._wheelYAction=z.MoveScene,this._wheelYActionCoordinate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wheelZMoveScene",{get:function(){return this._wheelZAction!==z.MoveScene?null:this._wheelZActionCoordinate},set:function(e){null===e&&this._wheelZAction!==z.MoveScene||(this._wheelZAction=z.MoveScene,this._wheelZActionCoordinate=e)},enumerable:!1,configurable:!0}),t.prototype.checkInputs=function(){if(0!==this._wheelDeltaX||0!==this._wheelDeltaY||0!=this._wheelDeltaZ){this._moveRelative.setAll(0),this._rotateRelative.setAll(0),this._moveScene.setAll(0),this._updateCamera(),this.camera.getScene().useRightHandedSystem&&(this._moveRelative.z*=-1);var t=L.a.Zero();this.camera.getViewMatrix().invertToRef(t);var i=L.e.Zero();L.e.TransformNormalToRef(this._moveRelative,t,i),this.camera.cameraRotation.x+=this._rotateRelative.x/200,this.camera.cameraRotation.y+=this._rotateRelative.y/200,this.camera.cameraDirection.addInPlace(i),this.camera.cameraDirection.addInPlace(this._moveScene),e.prototype.checkInputs.call(this)}},t.prototype._updateCamera=function(){var e=this._moveRelative,t=this._rotateRelative,i=this._moveScene,n=function(n,r,o){if(0!==n&&null!==r&&null!==o){var s=null;switch(r){case z.MoveRelative:s=e;break;case z.RotateRelative:s=t;break;case z.MoveScene:s=i}switch(o){case Q.b.X:s.set(n,0,0);break;case Q.b.Y:s.set(0,n,0);break;case Q.b.Z:s.set(0,0,n)}}};n(this._wheelDeltaX,this._wheelXAction,this._wheelXActionCoordinate),n(this._wheelDeltaY,this._wheelYAction,this._wheelYActionCoordinate),n(this._wheelDeltaZ,this._wheelZAction,this._wheelZActionCoordinate)},Object(s.b)([Object(B.c)()],t.prototype,"wheelXMoveRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelYMoveRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelZMoveRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelXRotateRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelYRotateRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelZRotateRelative",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelXMoveScene",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelYMoveScene",null),Object(s.b)([Object(B.c)()],t.prototype,"wheelZMoveScene",null),t}(Y);H.FreeCameraMouseWheelInput=K;var Z=function(){function e(e){void 0===e&&(e=!1),this.allowMouse=e,this.touchAngularSensibility=2e5,this.touchMoveSensibility=250,this._offsetX=null,this._offsetY=null,this._pointerPressed=new Array}return e.prototype.attachControl=function(e){var t=this;e=r.b.BackCompatCameraNoPreventDefault(arguments);var i=null;if(void 0===this._pointerInput&&(this._onLostFocus=function(){t._offsetX=null,t._offsetY=null},this._pointerInput=function(n){var r=n.event,o=!t.camera.getEngine().hostInformation.isMobile&&r instanceof MouseEvent;if(t.allowMouse||"mouse"!==r.pointerType&&!o)if(n.type===W.a.POINTERDOWN){if(e||r.preventDefault(),t._pointerPressed.push(r.pointerId),1!==t._pointerPressed.length)return;i={x:r.clientX,y:r.clientY}}else if(n.type===W.a.POINTERUP){if(e||r.preventDefault(),-1===(s=t._pointerPressed.indexOf(r.pointerId)))return;if(t._pointerPressed.splice(s,1),0!=s)return;i=null,t._offsetX=null,t._offsetY=null}else if(n.type===W.a.POINTERMOVE){if(e||r.preventDefault(),!i)return;var s;if(0!=(s=t._pointerPressed.indexOf(r.pointerId)))return;t._offsetX=r.clientX-i.x,t._offsetY=-(r.clientY-i.y)}}),this._observer=this.camera.getScene().onPointerObservable.add(this._pointerInput,W.a.POINTERDOWN|W.a.POINTERUP|W.a.POINTERMOVE),this._onLostFocus){var n=this.camera.getEngine().getInputElement();n&&n.addEventListener("blur",this._onLostFocus)}},e.prototype.detachControl=function(e){if(this._pointerInput){if(this._observer&&(this.camera.getScene().onPointerObservable.remove(this._observer),this._observer=null),this._onLostFocus){var t=this.camera.getEngine().getInputElement();t&&t.removeEventListener("blur",this._onLostFocus),this._onLostFocus=null}this._pointerPressed=[],this._offsetX=null,this._offsetY=null}},e.prototype.checkInputs=function(){if(null!==this._offsetX&&null!==this._offsetY&&(0!==this._offsetX||0!==this._offsetY)){var e=this.camera;if(e.cameraRotation.y=this._offsetX/this.touchAngularSensibility,this._pointerPressed.length>1)e.cameraRotation.x=-this._offsetY/this.touchAngularSensibility;else{var t=e._computeLocalCameraSpeed(),i=new L.e(0,0,t*this._offsetY/this.touchMoveSensibility);L.a.RotationYawPitchRollToRef(e.rotation.y,e.rotation.x,0,e._cameraRotationMatrix),e.cameraDirection.addInPlace(L.e.TransformCoordinates(i,e._cameraRotationMatrix))}}},e.prototype.getClassName=function(){return"FreeCameraTouchInput"},e.prototype.getSimpleName=function(){return"touch"},Object(s.b)([Object(B.c)()],e.prototype,"touchAngularSensibility",void 0),Object(s.b)([Object(B.c)()],e.prototype,"touchMoveSensibility",void 0),e}();H.FreeCameraTouchInput=Z;var J,q=function(e){function t(t){var i=e.call(this,t)||this;return i._mouseInput=null,i._mouseWheelInput=null,i}return Object(s.c)(t,e),t.prototype.addKeyboard=function(){return this.add(new G),this},t.prototype.addMouse=function(e){return void 0===e&&(e=!0),this._mouseInput||(this._mouseInput=new X(e),this.add(this._mouseInput)),this},t.prototype.removeMouse=function(){return this._mouseInput&&this.remove(this._mouseInput),this},t.prototype.addMouseWheel=function(){return this._mouseWheelInput||(this._mouseWheelInput=new K,this.add(this._mouseWheelInput)),this},t.prototype.removeMouseWheel=function(){return this._mouseWheelInput&&this.remove(this._mouseWheelInput),this},t.prototype.addTouch=function(){return this.add(new Z),this},t.prototype.clear=function(){e.prototype.clear.call(this),this._mouseInput=null},t}(j),$=function(e){function t(t,i,n,r){void 0===r&&(r=!0);var o=e.call(this,t,i,n,r)||this;return o.ellipsoid=new L.e(.5,1,.5),o.ellipsoidOffset=new L.e(0,0,0),o.checkCollisions=!1,o.applyGravity=!1,o._needMoveForGravity=!1,o._oldPosition=L.e.Zero(),o._diffPosition=L.e.Zero(),o._newPosition=L.e.Zero(),o._collisionMask=-1,o._onCollisionPositionChange=function(e,t,i){void 0===i&&(i=null);var n;n=t,o._newPosition.copyFrom(n),o._newPosition.subtractToRef(o._oldPosition,o._diffPosition),o._diffPosition.length()>k.a.CollisionsEpsilon&&(o.position.addInPlace(o._diffPosition),o.onCollide&&i&&o.onCollide(i))},o.inputs=new q(o),o.inputs.addKeyboard().addMouse(),o}return Object(s.c)(t,e),Object.defineProperty(t.prototype,"angularSensibility",{get:function(){var e=this.inputs.attached.mouse;return e?e.angularSensibility:0},set:function(e){var t=this.inputs.attached.mouse;t&&(t.angularSensibility=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysUp",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysUp:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysUp=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysUpward",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysUpward:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysUpward=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysDown",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysDown:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysDown=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysDownward",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysDownward:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysDownward=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysLeft",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysLeft:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysLeft=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"keysRight",{get:function(){var e=this.inputs.attached.keyboard;return e?e.keysRight:[]},set:function(e){var t=this.inputs.attached.keyboard;t&&(t.keysRight=e)},enumerable:!1,configurable:!0}),t.prototype.attachControl=function(e,t){t=r.b.BackCompatCameraNoPreventDefault(arguments),this.inputs.attachElement(t)},t.prototype.detachControl=function(e){this.inputs.detachElement(),this.cameraDirection=new L.e(0,0,0),this.cameraRotation=new L.d(0,0)},Object.defineProperty(t.prototype,"collisionMask",{get:function(){return this._collisionMask},set:function(e){this._collisionMask=isNaN(e)?-1:e},enumerable:!1,configurable:!0}),t.prototype._collideWithWorld=function(e){(this.parent?L.e.TransformCoordinates(this.position,this.parent.getWorldMatrix()):this.position).subtractFromFloatsToRef(0,this.ellipsoid.y,0,this._oldPosition),this._oldPosition.addInPlace(this.ellipsoidOffset);var t=this.getScene().collisionCoordinator;this._collider||(this._collider=t.createCollider()),this._collider._radius=this.ellipsoid,this._collider.collisionMask=this._collisionMask;var i=e;this.applyGravity&&(i=e.add(this.getScene().gravity)),t.getNewPosition(this._oldPosition,i,this._collider,3,null,this._onCollisionPositionChange,this.uniqueId)},t.prototype._checkInputs=function(){this._localDirection||(this._localDirection=L.e.Zero(),this._transformedDirection=L.e.Zero()),this.inputs.checkInputs(),e.prototype._checkInputs.call(this)},t.prototype._decideIfNeedsToMove=function(){return this._needMoveForGravity||Math.abs(this.cameraDirection.x)>0||Math.abs(this.cameraDirection.y)>0||Math.abs(this.cameraDirection.z)>0},t.prototype._updatePosition=function(){this.checkCollisions&&this.getScene().collisionsEnabled?this._collideWithWorld(this.cameraDirection):e.prototype._updatePosition.call(this)},t.prototype.dispose=function(){this.inputs.clear(),e.prototype.dispose.call(this)},t.prototype.getClassName=function(){return"FreeCamera"},Object(s.b)([Object(B.n)()],t.prototype,"ellipsoid",void 0),Object(s.b)([Object(B.n)()],t.prototype,"ellipsoidOffset",void 0),Object(s.b)([Object(B.c)()],t.prototype,"checkCollisions",void 0),Object(s.b)([Object(B.c)()],t.prototype,"applyGravity",void 0),t}(U.a),ee=i(37),te=i(105);!function(e){e[e.STEP=1]="STEP"}(J||(J={}));var ie=function(){function e(e,t,i){this.name=e,this.from=t,this.to=i}return e.prototype.clone=function(){return new e(this.name,this.from,this.to)},e}(),ne=i(689),re=i(247),oe=i(802),se=function(){function e(t,i,n,r,o,s){this.name=t,this.targetProperty=i,this.framePerSecond=n,this.dataType=r,this.loopMode=o,this.enableBlending=s,this._runtimeAnimations=new Array,this._events=new Array,this.blendingSpeed=.01,this._ranges={},this.targetPropertyPath=i.split("."),this.dataType=r,this.loopMode=void 0===o?e.ANIMATIONLOOPMODE_CYCLE:o}return e._PrepareAnimation=function(t,i,n,r,o,s,a,c){var l=void 0;if(!isNaN(parseFloat(o))&&isFinite(o)?l=e.ANIMATIONTYPE_FLOAT:o instanceof L.b?l=e.ANIMATIONTYPE_QUATERNION:o instanceof L.e?l=e.ANIMATIONTYPE_VECTOR3:o instanceof L.d?l=e.ANIMATIONTYPE_VECTOR2:o instanceof F.a?l=e.ANIMATIONTYPE_COLOR3:o instanceof F.b?l=e.ANIMATIONTYPE_COLOR4:o instanceof re.a&&(l=e.ANIMATIONTYPE_SIZE),void 0==l)return null;var _=new e(t,i,n,l,a),u=[{frame:0,value:o},{frame:r,value:s}];return _.setKeys(u),void 0!==c&&_.setEasingFunction(c),_},e.CreateAnimation=function(t,i,n,r){var o=new e(t+"Animation",t,n,i,e.ANIMATIONLOOPMODE_CONSTANT);return o.setEasingFunction(r),o},e.CreateAndStartAnimation=function(t,i,n,r,o,s,a,c,l,_){var u=e._PrepareAnimation(t,n,r,o,s,a,c,l);return u?i.getScene().beginDirectAnimation(i,[u],0,o,1===u.loopMode,1,_):null},e.CreateAndStartHierarchyAnimation=function(t,i,n,r,o,s,a,c,l,_,u){var f=e._PrepareAnimation(t,r,o,s,a,c,l,_);return f?i.getScene().beginDirectHierarchyAnimation(i,n,[f],0,s,1===f.loopMode,1,u):null},e.CreateMergeAndStartAnimation=function(t,i,n,r,o,s,a,c,l,_){var u=e._PrepareAnimation(t,n,r,o,s,a,c,l);return u?(i.animations.push(u),i.getScene().beginAnimation(i,0,o,1===u.loopMode,1,_)):null},e.MakeAnimationAdditive=function(t,i,n,r,o){void 0===i&&(i=0),void 0===r&&(r=!1);var s=t;if(r&&((s=t.clone()).name=o||s.name),!s._keys.length)return s;i=i>=0?i:0;var a=0,c=s._keys[0],l=s._keys.length-1,_=s._keys[l],u={referenceValue:c.value,referencePosition:L.c.Vector3[0],referenceQuaternion:L.c.Quaternion[0],referenceScaling:L.c.Vector3[1],keyPosition:L.c.Vector3[2],keyQuaternion:L.c.Quaternion[1],keyScaling:L.c.Vector3[3]},f=!1,d=c.frame,h=_.frame;if(n){var p=s.getRange(n);p&&(d=p.from,h=p.to)}var b=c.frame===d,m=_.frame===h;if(1===s._keys.length){var A=s._getKeyValue(s._keys[0]);u.referenceValue=A.clone?A.clone():A,f=!0}else if(i<=c.frame){A=s._getKeyValue(c.value);u.referenceValue=A.clone?A.clone():A,f=!0}else if(i>=_.frame){A=s._getKeyValue(_.value);u.referenceValue=A.clone?A.clone():A,f=!0}for(var g=0;!f||!b||!m&&g<s._keys.length-1;){var y=s._keys[g],v=s._keys[g+1];if(!f&&i>=y.frame&&i<=v.frame){A=void 0;if(i===y.frame)A=s._getKeyValue(y.value);else if(i===v.frame)A=s._getKeyValue(v.value);else{var C={key:g,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT};A=s._interpolate(i,C)}u.referenceValue=A.clone?A.clone():A,f=!0}if(!b&&d>=y.frame&&d<=v.frame){if(d===y.frame)a=g;else if(d===v.frame)a=g+1;else{C={key:g,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT};var E={frame:d,value:(A=s._interpolate(d,C)).clone?A.clone():A};s._keys.splice(g+1,0,E),a=g+1}b=!0}if(!m&&h>=y.frame&&h<=v.frame){if(h===y.frame)l=g;else if(h===v.frame)l=g+1;else{C={key:g,repeatCount:0,loopMode:this.ANIMATIONLOOPMODE_CONSTANT},E={frame:h,value:(A=s._interpolate(h,C)).clone?A.clone():A};s._keys.splice(g+1,0,E),l=g+1}m=!0}g++}s.dataType===e.ANIMATIONTYPE_QUATERNION?u.referenceValue.normalize().conjugateInPlace():s.dataType===e.ANIMATIONTYPE_MATRIX&&(u.referenceValue.decompose(u.referenceScaling,u.referenceQuaternion,u.referencePosition),u.referenceQuaternion.normalize().conjugateInPlace());for(g=a;g<=l;g++){E=s._keys[g];if(!g||s.dataType===e.ANIMATIONTYPE_FLOAT||E.value!==c.value)switch(s.dataType){case e.ANIMATIONTYPE_MATRIX:E.value.decompose(u.keyScaling,u.keyQuaternion,u.keyPosition),u.keyPosition.subtractInPlace(u.referencePosition),u.keyScaling.divideInPlace(u.referenceScaling),u.referenceQuaternion.multiplyToRef(u.keyQuaternion,u.keyQuaternion),L.a.ComposeToRef(u.keyScaling,u.keyQuaternion,u.keyPosition,E.value);break;case e.ANIMATIONTYPE_QUATERNION:u.referenceValue.multiplyToRef(E.value,E.value);break;case e.ANIMATIONTYPE_VECTOR2:case e.ANIMATIONTYPE_VECTOR3:case e.ANIMATIONTYPE_COLOR3:case e.ANIMATIONTYPE_COLOR4:E.value.subtractToRef(u.referenceValue,E.value);break;case e.ANIMATIONTYPE_SIZE:E.value.width-=u.referenceValue.width,E.value.height-=u.referenceValue.height;break;default:E.value-=u.referenceValue}}return s},e.TransitionTo=function(e,t,i,n,r,o,s,a){if(void 0===a&&(a=null),s<=0)return i[e]=t,a&&a(),null;var c=r*(s/1e3);o.setKeys([{frame:0,value:i[e].clone?i[e].clone():i[e]},{frame:c,value:t}]),i.animations||(i.animations=[]),i.animations.push(o);var l=n.beginAnimation(i,0,c,!1);return l.onAnimationEnd=a,l},Object.defineProperty(e.prototype,"runtimeAnimations",{get:function(){return this._runtimeAnimations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRunningRuntimeAnimations",{get:function(){for(var e=0,t=this._runtimeAnimations;e<t.length;e++){if(!t[e].isStopped)return!0}return!1},enumerable:!1,configurable:!0}),e.prototype.toString=function(e){var t="Name: "+this.name+", property: "+this.targetProperty;if(t+=", datatype: "+["Float","Vector3","Quaternion","Matrix","Color3","Vector2"][this.dataType],t+=", nKeys: "+(this._keys?this._keys.length:"none"),t+=", nRanges: "+(this._ranges?Object.keys(this._ranges).length:"none"),e){t+=", Ranges: {";var i=!0;for(var n in this._ranges)i&&(t+=", ",i=!1),t+=n;t+="}"}return t},e.prototype.addEvent=function(e){this._events.push(e),this._events.sort(function(e,t){return e.frame-t.frame})},e.prototype.removeEvents=function(e){for(var t=0;t<this._events.length;t++)this._events[t].frame===e&&(this._events.splice(t,1),t--)},e.prototype.getEvents=function(){return this._events},e.prototype.createRange=function(e,t,i){this._ranges[e]||(this._ranges[e]=new ie(e,t,i))},e.prototype.deleteRange=function(e,t){void 0===t&&(t=!0);var i=this._ranges[e];if(i){if(t)for(var n=i.from,r=i.to,o=this._keys.length-1;o>=0;o--)this._keys[o].frame>=n&&this._keys[o].frame<=r&&this._keys.splice(o,1);this._ranges[e]=null}},e.prototype.getRange=function(e){return this._ranges[e]},e.prototype.getKeys=function(){return this._keys},e.prototype.getHighestFrame=function(){for(var e=0,t=0,i=this._keys.length;t<i;t++)e<this._keys[t].frame&&(e=this._keys[t].frame);return e},e.prototype.getEasingFunction=function(){return this._easingFunction},e.prototype.setEasingFunction=function(e){this._easingFunction=e},e.prototype.floatInterpolateFunction=function(e,t,i){return ee.a.Lerp(e,t,i)},e.prototype.floatInterpolateFunctionWithTangents=function(e,t,i,n,r){return ee.a.Hermite(e,t,i,n,r)},e.prototype.quaternionInterpolateFunction=function(e,t,i){return L.b.Slerp(e,t,i)},e.prototype.quaternionInterpolateFunctionWithTangents=function(e,t,i,n,r){return L.b.Hermite(e,t,i,n,r).normalize()},e.prototype.vector3InterpolateFunction=function(e,t,i){return L.e.Lerp(e,t,i)},e.prototype.vector3InterpolateFunctionWithTangents=function(e,t,i,n,r){return L.e.Hermite(e,t,i,n,r)},e.prototype.vector2InterpolateFunction=function(e,t,i){return L.d.Lerp(e,t,i)},e.prototype.vector2InterpolateFunctionWithTangents=function(e,t,i,n,r){return L.d.Hermite(e,t,i,n,r)},e.prototype.sizeInterpolateFunction=function(e,t,i){return re.a.Lerp(e,t,i)},e.prototype.color3InterpolateFunction=function(e,t,i){return F.a.Lerp(e,t,i)},e.prototype.color4InterpolateFunction=function(e,t,i){return F.b.Lerp(e,t,i)},e.prototype._getKeyValue=function(e){return"function"===typeof e?e():e},e.prototype._interpolate=function(t,i){if(i.loopMode===e.ANIMATIONLOOPMODE_CONSTANT&&i.repeatCount>0)return i.highLimitValue.clone?i.highLimitValue.clone():i.highLimitValue;var n=this._keys;if(1===n.length)return this._getKeyValue(n[0].value);var r=i.key;if(n[r].frame>=t)for(;r-1>=0&&n[r].frame>=t;)r--;for(var o=r;o<n.length;o++){var s=n[o+1];if(s.frame>=t){i.key=o;var a=n[o],c=this._getKeyValue(a.value);if(a.interpolation===J.STEP)return c;var l=this._getKeyValue(s.value),_=void 0!==a.outTangent&&void 0!==s.inTangent,u=s.frame-a.frame,f=(t-a.frame)/u,d=this.getEasingFunction();switch(null!=d&&(f=d.ease(f)),this.dataType){case e.ANIMATIONTYPE_FLOAT:var h=_?this.floatInterpolateFunctionWithTangents(c,a.outTangent*u,l,s.inTangent*u,f):this.floatInterpolateFunction(c,l,f);switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return h;case e.ANIMATIONLOOPMODE_RELATIVE:return i.offsetValue*i.repeatCount+h}break;case e.ANIMATIONTYPE_QUATERNION:var p=_?this.quaternionInterpolateFunctionWithTangents(c,a.outTangent.scale(u),l,s.inTangent.scale(u),f):this.quaternionInterpolateFunction(c,l,f);switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return p;case e.ANIMATIONLOOPMODE_RELATIVE:return p.addInPlace(i.offsetValue.scale(i.repeatCount))}return p;case e.ANIMATIONTYPE_VECTOR3:var b=_?this.vector3InterpolateFunctionWithTangents(c,a.outTangent.scale(u),l,s.inTangent.scale(u),f):this.vector3InterpolateFunction(c,l,f);switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return b;case e.ANIMATIONLOOPMODE_RELATIVE:return b.add(i.offsetValue.scale(i.repeatCount))}case e.ANIMATIONTYPE_VECTOR2:var m=_?this.vector2InterpolateFunctionWithTangents(c,a.outTangent.scale(u),l,s.inTangent.scale(u),f):this.vector2InterpolateFunction(c,l,f);switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return m;case e.ANIMATIONLOOPMODE_RELATIVE:return m.add(i.offsetValue.scale(i.repeatCount))}case e.ANIMATIONTYPE_SIZE:switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return this.sizeInterpolateFunction(c,l,f);case e.ANIMATIONLOOPMODE_RELATIVE:return this.sizeInterpolateFunction(c,l,f).add(i.offsetValue.scale(i.repeatCount))}case e.ANIMATIONTYPE_COLOR3:switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return this.color3InterpolateFunction(c,l,f);case e.ANIMATIONLOOPMODE_RELATIVE:return this.color3InterpolateFunction(c,l,f).add(i.offsetValue.scale(i.repeatCount))}case e.ANIMATIONTYPE_COLOR4:switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:return this.color4InterpolateFunction(c,l,f);case e.ANIMATIONLOOPMODE_RELATIVE:return this.color4InterpolateFunction(c,l,f).add(i.offsetValue.scale(i.repeatCount))}case e.ANIMATIONTYPE_MATRIX:switch(i.loopMode){case e.ANIMATIONLOOPMODE_CYCLE:case e.ANIMATIONLOOPMODE_CONSTANT:if(e.AllowMatricesInterpolation)return this.matrixInterpolateFunction(c,l,f,i.workValue);case e.ANIMATIONLOOPMODE_RELATIVE:return c}}break}}return this._getKeyValue(n[n.length-1].value)},e.prototype.matrixInterpolateFunction=function(t,i,n,r){return e.AllowMatrixDecomposeForInterpolation?r?(L.a.DecomposeLerpToRef(t,i,n,r),r):L.a.DecomposeLerp(t,i,n):r?(L.a.LerpToRef(t,i,n,r),r):L.a.Lerp(t,i,n)},e.prototype.clone=function(){var t=new e(this.name,this.targetPropertyPath.join("."),this.framePerSecond,this.dataType,this.loopMode);if(t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed,this._keys&&t.setKeys(this._keys),this._ranges)for(var i in t._ranges={},this._ranges){var n=this._ranges[i];n&&(t._ranges[i]=n.clone())}return t},e.prototype.setKeys=function(e){this._keys=e.slice(0)},e.prototype.serialize=function(){var t={};t.name=this.name,t.property=this.targetProperty,t.framePerSecond=this.framePerSecond,t.dataType=this.dataType,t.loopBehavior=this.loopMode,t.enableBlending=this.enableBlending,t.blendingSpeed=this.blendingSpeed;var i=this.dataType;t.keys=[];for(var n=this.getKeys(),r=0;r<n.length;r++){var o=n[r],s={};switch(s.frame=o.frame,i){case e.ANIMATIONTYPE_FLOAT:s.values=[o.value],void 0!==o.inTangent&&s.values.push(o.inTangent),void 0!==o.outTangent&&(void 0===o.inTangent&&s.values.push(void 0),s.values.push(o.outTangent));break;case e.ANIMATIONTYPE_QUATERNION:case e.ANIMATIONTYPE_MATRIX:case e.ANIMATIONTYPE_VECTOR3:case e.ANIMATIONTYPE_COLOR3:case e.ANIMATIONTYPE_COLOR4:s.values=o.value.asArray(),void 0!=o.inTangent&&s.values.push(o.inTangent.asArray()),void 0!=o.outTangent&&(void 0===o.inTangent&&s.values.push(void 0),s.values.push(o.outTangent.asArray()))}t.keys.push(s)}for(var a in t.ranges=[],this._ranges){var c=this._ranges[a];if(c){var l={};l.name=a,l.from=c.from,l.to=c.to,t.ranges.push(l)}}return t},e._UniversalLerp=function(e,t,i){var n=e.constructor;return n.Lerp?n.Lerp(e,t,i):n.Slerp?n.Slerp(e,t,i):e.toFixed?e*(1-i)+i*t:t},e.Parse=function(t){var i,n,r=new e(t.name,t.property,t.framePerSecond,t.dataType,t.loopBehavior),o=t.dataType,s=[];for(t.enableBlending&&(r.enableBlending=t.enableBlending),t.blendingSpeed&&(r.blendingSpeed=t.blendingSpeed),n=0;n<t.keys.length;n++){var a,c,l=t.keys[n];switch(o){case e.ANIMATIONTYPE_FLOAT:i=l.values[0],l.values.length>=1&&(a=l.values[1]),l.values.length>=2&&(c=l.values[2]);break;case e.ANIMATIONTYPE_QUATERNION:if(i=L.b.FromArray(l.values),l.values.length>=8){var _=L.b.FromArray(l.values.slice(4,8));_.equals(L.b.Zero())||(a=_)}if(l.values.length>=12){var u=L.b.FromArray(l.values.slice(8,12));u.equals(L.b.Zero())||(c=u)}break;case e.ANIMATIONTYPE_MATRIX:i=L.a.FromArray(l.values);break;case e.ANIMATIONTYPE_COLOR3:i=F.a.FromArray(l.values);break;case e.ANIMATIONTYPE_COLOR4:i=F.b.FromArray(l.values);break;case e.ANIMATIONTYPE_VECTOR3:default:i=L.e.FromArray(l.values)}var f={};f.frame=l.frame,f.value=i,void 0!=a&&(f.inTangent=a),void 0!=c&&(f.outTangent=c),s.push(f)}if(r.setKeys(s),t.ranges)for(n=0;n<t.ranges.length;n++)i=t.ranges[n],r.createRange(i.name,i.from,i.to);return r},e.AppendSerializedAnimations=function(e,t){B.a.AppendSerializedAnimations(e,t)},e.ParseFromFileAsync=function(e,t){var i=this;return new Promise(function(n,r){var o=new oe.a;o.addEventListener("readystatechange",function(){if(4==o.readyState)if(200==o.status){var t=JSON.parse(o.responseText);if(t.length){for(var s=new Array,a=0,c=t;a<c.length;a++){var l=c[a];s.push(i.Parse(l))}n(s)}else{s=i.Parse(t);e&&(s.name=e),n(s)}}else r("Unable to load the animation")}),o.open("GET",t),o.send()})},e.CreateFromSnippetAsync=function(e){var t=this;return new Promise(function(i,n){var r=new oe.a;r.addEventListener("readystatechange",function(){if(4==r.readyState)if(200==r.status){var o=JSON.parse(JSON.parse(r.responseText).jsonPayload);if(o.animations){for(var s=JSON.parse(o.animations),a=new Array,c=0,l=s;c<l.length;c++){var _=l[c];a.push(t.Parse(_))}i(a)}else{s=JSON.parse(o.animation);(a=t.Parse(s)).snippetId=e,i(a)}}else n("Unable to load the snippet "+e)}),r.open("GET",t.SnippetUrl+"/"+e.replace(/#/g,"/")),r.send()})},e.AllowMatricesInterpolation=!1,e.AllowMatrixDecomposeForInterpolation=!0,e.SnippetUrl="https://snippet.babylonjs.com",e.ANIMATIONTYPE_FLOAT=0,e.ANIMATIONTYPE_VECTOR3=1,e.ANIMATIONTYPE_QUATERNION=2,e.ANIMATIONTYPE_MATRIX=3,e.ANIMATIONTYPE_COLOR3=4,e.ANIMATIONTYPE_COLOR4=7,e.ANIMATIONTYPE_VECTOR2=5,e.ANIMATIONTYPE_SIZE=6,e.ANIMATIONLOOPMODE_RELATIVE=0,e.ANIMATIONLOOPMODE_CYCLE=1,e.ANIMATIONLOOPMODE_CONSTANT=2,e}();te.a.RegisteredTypes["BABYLON.Animation"]=se,ne.a._AnimationRangeFactory=function(e,t,i){return new ie(e,t,i)};var ae=i(76),ce=function(e){function t(t,i,n,r,o,s,a){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null);var c=e.call(this,t,i.getScene())||this;return c.name=t,c.children=new Array,c.animations=new Array,c._index=null,c._absoluteTransform=new L.a,c._invertedAbsoluteTransform=new L.a,c._scalingDeterminant=1,c._worldTransform=new L.a,c._needToDecompose=!0,c._needToCompose=!1,c._linkedTransformNode=null,c._waitingTransformNodeId=null,c._skeleton=i,c._localMatrix=r?r.clone():L.a.Identity(),c._restPose=o||c._localMatrix.clone(),c._bindPose=c._localMatrix.clone(),c._baseMatrix=s||c._localMatrix.clone(),c._index=a,i.bones.push(c),c.setParent(n,!1),(s||r)&&c._updateDifferenceMatrix(),c}return Object(s.c)(t,e),Object.defineProperty(t.prototype,"_matrix",{get:function(){return this._compose(),this._localMatrix},set:function(e){this._localMatrix.copyFrom(e),this._needToDecompose=!0},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"Bone"},t.prototype.getSkeleton=function(){return this._skeleton},t.prototype.getParent=function(){return this._parent},t.prototype.getChildren=function(){return this.children},t.prototype.getIndex=function(){return null===this._index?this.getSkeleton().bones.indexOf(this):this._index},t.prototype.setParent=function(e,t){if(void 0===t&&(t=!0),this._parent!==e){if(this._parent){var i=this._parent.children.indexOf(this);-1!==i&&this._parent.children.splice(i,1)}this._parent=e,this._parent&&this._parent.children.push(this),t&&this._updateDifferenceMatrix(),this.markAsDirty()}},t.prototype.getLocalMatrix=function(){return this._compose(),this._localMatrix},t.prototype.getBaseMatrix=function(){return this._baseMatrix},t.prototype.getRestPose=function(){return this._restPose},t.prototype.setRestPose=function(e){this._restPose.copyFrom(e)},t.prototype.getBindPose=function(){return this._bindPose},t.prototype.setBindPose=function(e){this._bindPose.copyFrom(e)},t.prototype.getWorldMatrix=function(){return this._worldTransform},t.prototype.returnToRest=function(){this._skeleton._numBonesWithLinkedTransformNode>0?this.updateMatrix(this._restPose,!1,!1):this.updateMatrix(this._restPose,!1,!0)},t.prototype.getInvertedAbsoluteTransform=function(){return this._invertedAbsoluteTransform},t.prototype.getAbsoluteTransform=function(){return this._absoluteTransform},t.prototype.linkTransformNode=function(e){this._linkedTransformNode&&this._skeleton._numBonesWithLinkedTransformNode--,this._linkedTransformNode=e,this._linkedTransformNode&&this._skeleton._numBonesWithLinkedTransformNode++},t.prototype.getTransformNode=function(){return this._linkedTransformNode},Object.defineProperty(t.prototype,"position",{get:function(){return this._decompose(),this._localPosition},set:function(e){this._decompose(),this._localPosition.copyFrom(e),this._markAsDirtyAndCompose()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this.getRotation()},set:function(e){this.setRotation(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationQuaternion",{get:function(){return this._decompose(),this._localRotation},set:function(e){this.setRotationQuaternion(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaling",{get:function(){return this.getScale()},set:function(e){this.setScale(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationPropertiesOverride",{get:function(){return this._skeleton.animationPropertiesOverride},enumerable:!1,configurable:!0}),t.prototype._decompose=function(){this._needToDecompose&&(this._needToDecompose=!1,this._localScaling||(this._localScaling=L.e.Zero(),this._localRotation=L.b.Zero(),this._localPosition=L.e.Zero()),this._localMatrix.decompose(this._localScaling,this._localRotation,this._localPosition))},t.prototype._compose=function(){this._needToCompose&&(this._localScaling?(this._needToCompose=!1,L.a.ComposeToRef(this._localScaling,this._localRotation,this._localPosition,this._localMatrix)):this._needToCompose=!1)},t.prototype.updateMatrix=function(e,t,i){void 0===t&&(t=!0),void 0===i&&(i=!0),this._baseMatrix.copyFrom(e),t&&this._updateDifferenceMatrix(),i?(this._needToCompose=!1,this._localMatrix.copyFrom(e),this._markAsDirtyAndDecompose()):this.markAsDirty()},t.prototype._updateDifferenceMatrix=function(e,t){if(void 0===t&&(t=!0),e||(e=this._baseMatrix),this._parent?e.multiplyToRef(this._parent._absoluteTransform,this._absoluteTransform):this._absoluteTransform.copyFrom(e),this._absoluteTransform.invertToRef(this._invertedAbsoluteTransform),t)for(var i=0;i<this.children.length;i++)this.children[i]._updateDifferenceMatrix();this._scalingDeterminant=this._absoluteTransform.determinant()<0?-1:1},t.prototype.markAsDirty=function(){this._currentRenderId++,this._childUpdateId++,this._skeleton._markAsDirty()},t.prototype._markAsDirtyAndCompose=function(){this.markAsDirty(),this._needToCompose=!0},t.prototype._markAsDirtyAndDecompose=function(){this.markAsDirty(),this._needToDecompose=!0},t.prototype.translate=function(e,i,n){void 0===i&&(i=Q.c.LOCAL);var r=this.getLocalMatrix();if(i==Q.c.LOCAL)r.addAtIndex(12,e.x),r.addAtIndex(13,e.y),r.addAtIndex(14,e.z);else{var o=null;n&&(o=n.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var s=t._tmpMats[0],a=t._tmpVecs[0];this._parent?n&&o?(s.copyFrom(this._parent.getAbsoluteTransform()),s.multiplyToRef(o,s)):s.copyFrom(this._parent.getAbsoluteTransform()):L.a.IdentityToRef(s),s.setTranslationFromFloats(0,0,0),s.invert(),L.e.TransformCoordinatesToRef(e,s,a),r.addAtIndex(12,a.x),r.addAtIndex(13,a.y),r.addAtIndex(14,a.z)}this._markAsDirtyAndDecompose()},t.prototype.setPosition=function(e,i,n){void 0===i&&(i=Q.c.LOCAL);var r=this.getLocalMatrix();if(i==Q.c.LOCAL)r.setTranslationFromFloats(e.x,e.y,e.z);else{var o=null;n&&(o=n.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var s=t._tmpMats[0],a=t._tmpVecs[0];this._parent?(n&&o?(s.copyFrom(this._parent.getAbsoluteTransform()),s.multiplyToRef(o,s)):s.copyFrom(this._parent.getAbsoluteTransform()),s.invert()):L.a.IdentityToRef(s),L.e.TransformCoordinatesToRef(e,s,a),r.setTranslationFromFloats(a.x,a.y,a.z)}this._markAsDirtyAndDecompose()},t.prototype.setAbsolutePosition=function(e,t){this.setPosition(e,Q.c.WORLD,t)},t.prototype.scale=function(e,i,n,r){void 0===r&&(r=!1);var o=this.getLocalMatrix(),s=t._tmpMats[0];L.a.ScalingToRef(e,i,n,s),s.multiplyToRef(o,o),s.invert();for(var a=0,c=this.children;a<c.length;a++){var l=(f=c[a]).getLocalMatrix();l.multiplyToRef(s,l),l.multiplyAtIndex(12,e),l.multiplyAtIndex(13,i),l.multiplyAtIndex(14,n),f._markAsDirtyAndDecompose()}if(this._markAsDirtyAndDecompose(),r)for(var _=0,u=this.children;_<u.length;_++){var f;(f=u[_]).scale(e,i,n,r)}},t.prototype.setScale=function(e){this._decompose(),this._localScaling.copyFrom(e),this._markAsDirtyAndCompose()},t.prototype.getScale=function(){return this._decompose(),this._localScaling},t.prototype.getScaleToRef=function(e){this._decompose(),e.copyFrom(this._localScaling)},t.prototype.setYawPitchRoll=function(e,i,n,r,o){if(void 0===r&&(r=Q.c.LOCAL),r===Q.c.LOCAL){var s=t._tmpQuat;return L.b.RotationYawPitchRollToRef(e,i,n,s),void this.setRotationQuaternion(s,r,o)}var a=t._tmpMats[0];if(this._getNegativeRotationToRef(a,o)){var c=t._tmpMats[1];L.a.RotationYawPitchRollToRef(e,i,n,c),a.multiplyToRef(c,c),this._rotateWithMatrix(c,r,o)}},t.prototype.rotate=function(e,i,n,r){void 0===n&&(n=Q.c.LOCAL);var o=t._tmpMats[0];o.setTranslationFromFloats(0,0,0),L.a.RotationAxisToRef(e,i,o),this._rotateWithMatrix(o,n,r)},t.prototype.setAxisAngle=function(e,i,n,r){if(void 0===n&&(n=Q.c.LOCAL),n===Q.c.LOCAL){var o=t._tmpQuat;return L.b.RotationAxisToRef(e,i,o),void this.setRotationQuaternion(o,n,r)}var s=t._tmpMats[0];if(this._getNegativeRotationToRef(s,r)){var a=t._tmpMats[1];L.a.RotationAxisToRef(e,i,a),s.multiplyToRef(a,a),this._rotateWithMatrix(a,n,r)}},t.prototype.setRotation=function(e,t,i){void 0===t&&(t=Q.c.LOCAL),this.setYawPitchRoll(e.y,e.x,e.z,t,i)},t.prototype.setRotationQuaternion=function(e,i,n){if(void 0===i&&(i=Q.c.LOCAL),i===Q.c.LOCAL)return this._decompose(),this._localRotation.copyFrom(e),void this._markAsDirtyAndCompose();var r=t._tmpMats[0];if(this._getNegativeRotationToRef(r,n)){var o=t._tmpMats[1];L.a.FromQuaternionToRef(e,o),r.multiplyToRef(o,o),this._rotateWithMatrix(o,i,n)}},t.prototype.setRotationMatrix=function(e,i,n){if(void 0===i&&(i=Q.c.LOCAL),i===Q.c.LOCAL){var r=t._tmpQuat;return L.b.FromRotationMatrixToRef(e,r),void this.setRotationQuaternion(r,i,n)}var o=t._tmpMats[0];if(this._getNegativeRotationToRef(o,n)){var s=t._tmpMats[1];s.copyFrom(e),o.multiplyToRef(e,s),this._rotateWithMatrix(s,i,n)}},t.prototype._rotateWithMatrix=function(e,i,n){void 0===i&&(i=Q.c.LOCAL);var r=this.getLocalMatrix(),o=r.m[12],s=r.m[13],a=r.m[14],c=this.getParent(),l=t._tmpMats[3],_=t._tmpMats[4];c&&i==Q.c.WORLD?(n?(l.copyFrom(n.getWorldMatrix()),c.getAbsoluteTransform().multiplyToRef(l,l)):l.copyFrom(c.getAbsoluteTransform()),_.copyFrom(l),_.invert(),r.multiplyToRef(l,r),r.multiplyToRef(e,r),r.multiplyToRef(_,r)):i==Q.c.WORLD&&n?(l.copyFrom(n.getWorldMatrix()),_.copyFrom(l),_.invert(),r.multiplyToRef(l,r),r.multiplyToRef(e,r),r.multiplyToRef(_,r)):r.multiplyToRef(e,r),r.setTranslationFromFloats(o,s,a),this.computeAbsoluteTransforms(),this._markAsDirtyAndDecompose()},t.prototype._getNegativeRotationToRef=function(e,i){var n=t._tmpMats[2];return e.copyFrom(this.getAbsoluteTransform()),i&&(e.multiplyToRef(i.getWorldMatrix(),e),L.a.ScalingToRef(i.scaling.x,i.scaling.y,i.scaling.z,n)),e.invert(),!isNaN(e.m[0])&&(n.multiplyAtIndex(0,this._scalingDeterminant),e.multiplyToRef(n,e),!0)},t.prototype.getPosition=function(e,t){void 0===e&&(e=Q.c.LOCAL),void 0===t&&(t=null);var i=L.e.Zero();return this.getPositionToRef(e,t,i),i},t.prototype.getPositionToRef=function(e,i,n){if(void 0===e&&(e=Q.c.LOCAL),e==Q.c.LOCAL){var r=this.getLocalMatrix();n.x=r.m[12],n.y=r.m[13],n.z=r.m[14]}else{var o=null;i&&(o=i.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var s=t._tmpMats[0];i&&o?(s.copyFrom(this.getAbsoluteTransform()),s.multiplyToRef(o,s)):s=this.getAbsoluteTransform(),n.x=s.m[12],n.y=s.m[13],n.z=s.m[14]}},t.prototype.getAbsolutePosition=function(e){void 0===e&&(e=null);var t=L.e.Zero();return this.getPositionToRef(Q.c.WORLD,e,t),t},t.prototype.getAbsolutePositionToRef=function(e,t){this.getPositionToRef(Q.c.WORLD,e,t)},t.prototype.computeAbsoluteTransforms=function(){if(this._compose(),this._parent)this._localMatrix.multiplyToRef(this._parent._absoluteTransform,this._absoluteTransform);else{this._absoluteTransform.copyFrom(this._localMatrix);var e=this._skeleton.getPoseMatrix();e&&this._absoluteTransform.multiplyToRef(e,this._absoluteTransform)}for(var t=this.children,i=t.length,n=0;n<i;n++)t[n].computeAbsoluteTransforms()},t.prototype.getDirection=function(e,t){void 0===t&&(t=null);var i=L.e.Zero();return this.getDirectionToRef(e,t,i),i},t.prototype.getDirectionToRef=function(e,i,n){void 0===i&&(i=null);var r=null;i&&(r=i.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var o=t._tmpMats[0];o.copyFrom(this.getAbsoluteTransform()),i&&r&&o.multiplyToRef(r,o),L.e.TransformNormalToRef(e,o,n),n.normalize()},t.prototype.getRotation=function(e,t){void 0===e&&(e=Q.c.LOCAL),void 0===t&&(t=null);var i=L.e.Zero();return this.getRotationToRef(e,t,i),i},t.prototype.getRotationToRef=function(e,i,n){void 0===e&&(e=Q.c.LOCAL),void 0===i&&(i=null);var r=t._tmpQuat;this.getRotationQuaternionToRef(e,i,r),r.toEulerAnglesToRef(n)},t.prototype.getRotationQuaternion=function(e,t){void 0===e&&(e=Q.c.LOCAL),void 0===t&&(t=null);var i=L.b.Identity();return this.getRotationQuaternionToRef(e,t,i),i},t.prototype.getRotationQuaternionToRef=function(e,i,n){if(void 0===e&&(e=Q.c.LOCAL),void 0===i&&(i=null),e==Q.c.LOCAL)this._decompose(),n.copyFrom(this._localRotation);else{var r=t._tmpMats[0],o=this.getAbsoluteTransform();i?o.multiplyToRef(i.getWorldMatrix(),r):r.copyFrom(o),r.multiplyAtIndex(0,this._scalingDeterminant),r.multiplyAtIndex(1,this._scalingDeterminant),r.multiplyAtIndex(2,this._scalingDeterminant),r.decompose(void 0,n,void 0)}},t.prototype.getRotationMatrix=function(e,t){void 0===e&&(e=Q.c.LOCAL);var i=L.a.Identity();return this.getRotationMatrixToRef(e,t,i),i},t.prototype.getRotationMatrixToRef=function(e,i,n){if(void 0===e&&(e=Q.c.LOCAL),e==Q.c.LOCAL)this.getLocalMatrix().getRotationMatrixToRef(n);else{var r=t._tmpMats[0],o=this.getAbsoluteTransform();i?o.multiplyToRef(i.getWorldMatrix(),r):r.copyFrom(o),r.multiplyAtIndex(0,this._scalingDeterminant),r.multiplyAtIndex(1,this._scalingDeterminant),r.multiplyAtIndex(2,this._scalingDeterminant),r.getRotationMatrixToRef(n)}},t.prototype.getAbsolutePositionFromLocal=function(e,t){void 0===t&&(t=null);var i=L.e.Zero();return this.getAbsolutePositionFromLocalToRef(e,t,i),i},t.prototype.getAbsolutePositionFromLocalToRef=function(e,i,n){void 0===i&&(i=null);var r=null;i&&(r=i.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var o=t._tmpMats[0];i&&r?(o.copyFrom(this.getAbsoluteTransform()),o.multiplyToRef(r,o)):o=this.getAbsoluteTransform(),L.e.TransformCoordinatesToRef(e,o,n)},t.prototype.getLocalPositionFromAbsolute=function(e,t){void 0===t&&(t=null);var i=L.e.Zero();return this.getLocalPositionFromAbsoluteToRef(e,t,i),i},t.prototype.getLocalPositionFromAbsoluteToRef=function(e,i,n){void 0===i&&(i=null);var r=null;i&&(r=i.getWorldMatrix()),this._skeleton.computeAbsoluteTransforms();var o=t._tmpMats[0];o.copyFrom(this.getAbsoluteTransform()),i&&r&&o.multiplyToRef(r,o),o.invert(),L.e.TransformCoordinatesToRef(e,o,n)},t.prototype.setCurrentPoseAsRest=function(){this.setRestPose(this.getLocalMatrix())},t._tmpVecs=ae.a.BuildArray(2,L.e.Zero),t._tmpQuat=L.b.Identity(),t._tmpMats=ae.a.BuildArray(5,L.a.Identity),t}(ne.a),le=i(669),_e=i(703),ue=i(685);function fe(e,t,i,n){var r;r=1===n?new Float32Array(t*i*4):new Uint32Array(t*i*4);for(var o=0;o<t;o++)for(var s=0;s<i;s++){var a=3*(s*t+o),c=4*(s*t+o);r[c+0]=e[a+0],r[c+1]=e[a+1],r[c+2]=e[a+2],r[c+3]=1}return r}function de(e){return function(t,i,n,r,o,s,a,c,l,_){void 0===l&&(l=null),void 0===_&&(_=0);var u=e?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D_ARRAY,f=e?_e.b.Raw3D:_e.b.Raw2DArray,d=new _e.a(this,f);d.baseWidth=i,d.baseHeight=n,d.baseDepth=r,d.width=i,d.height=n,d.depth=r,d.format=o,d.type=_,d.generateMipMaps=s,d.samplingMode=c,e?d.is3D=!0:d.is2DArray=!0,this._doNotHandleContextLost||(d._bufferView=t),e?this.updateRawTexture3D(d,t,o,a,l,_):this.updateRawTexture2DArray(d,t,o,a,l,_),this._bindTextureDirectly(u,d,!0);var h=this._getSamplingParameters(c,s);return this._gl.texParameteri(u,this._gl.TEXTURE_MAG_FILTER,h.mag),this._gl.texParameteri(u,this._gl.TEXTURE_MIN_FILTER,h.min),s&&this._gl.generateMipmap(u),this._bindTextureDirectly(u,null),this._internalTexturesCache.push(d),d}}function he(e){return function(t,i,n,r,o,s){void 0===o&&(o=null),void 0===s&&(s=0);var a=e?this._gl.TEXTURE_3D:this._gl.TEXTURE_2D_ARRAY,c=this._getWebGLTextureType(s),l=this._getInternalFormat(n),_=this._getRGBABufferInternalSizedFormat(s,n);this._bindTextureDirectly(a,t,!0),this._unpackFlipY(void 0===r||!!r),this._doNotHandleContextLost||(t._bufferView=i,t.format=n,t.invertY=r,t._compression=o),t.width%4!==0&&this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,1),o&&i?this._gl.compressedTexImage3D(a,0,this.getCaps().s3tc[o],t.width,t.height,t.depth,0,i):this._gl.texImage3D(a,0,_,t.width,t.height,t.depth,0,l,c,i),t.generateMipMaps&&this._gl.generateMipmap(a),this._bindTextureDirectly(a,null),t.isReady=!0}}ue.a.prototype.updateRawTexture=function(e,t,i,n,r,o){if(void 0===r&&(r=null),void 0===o&&(o=0),e){var s=this._getRGBABufferInternalSizedFormat(o,i),a=this._getInternalFormat(i),c=this._getWebGLTextureType(o);this._bindTextureDirectly(this._gl.TEXTURE_2D,e,!0),this._unpackFlipY(void 0===n||!!n),this._doNotHandleContextLost||(e._bufferView=t,e.format=i,e.type=o,e.invertY=n,e._compression=r),e.width%4!==0&&this._gl.pixelStorei(this._gl.UNPACK_ALIGNMENT,1),r&&t?this._gl.compressedTexImage2D(this._gl.TEXTURE_2D,0,this.getCaps().s3tc[r],e.width,e.height,0,t):this._gl.texImage2D(this._gl.TEXTURE_2D,0,s,e.width,e.height,0,a,c,t),e.generateMipMaps&&this._gl.generateMipmap(this._gl.TEXTURE_2D),this._bindTextureDirectly(this._gl.TEXTURE_2D,null),e.isReady=!0}},ue.a.prototype.createRawTexture=function(e,t,i,n,r,o,s,a,c){void 0===a&&(a=null),void 0===c&&(c=0);var l=new _e.a(this,_e.b.Raw);l.baseWidth=t,l.baseHeight=i,l.width=t,l.height=i,l.format=n,l.generateMipMaps=r,l.samplingMode=s,l.invertY=o,l._compression=a,l.type=c,this._doNotHandleContextLost||(l._bufferView=e),this.updateRawTexture(l,e,n,o,a,c),this._bindTextureDirectly(this._gl.TEXTURE_2D,l,!0);var _=this._getSamplingParameters(s,r);return this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,_.mag),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,_.min),r&&this._gl.generateMipmap(this._gl.TEXTURE_2D),this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._internalTexturesCache.push(l),l},ue.a.prototype.createRawCubeTexture=function(e,t,i,n,o,s,a,c){void 0===c&&(c=null);var _=this._gl,u=new _e.a(this,_e.b.CubeRaw);u.isCube=!0,u.format=i,u.type=n,this._doNotHandleContextLost||(u._bufferViewArray=e);var f=this._getWebGLTextureType(n),d=this._getInternalFormat(i);d===_.RGB&&(d=_.RGBA),f!==_.FLOAT||this._caps.textureFloatLinearFiltering?f!==this._gl.HALF_FLOAT_OES||this._caps.textureHalfFloatLinearFiltering?f!==_.FLOAT||this._caps.textureFloatRender?f!==_.HALF_FLOAT||this._caps.colorBufferFloat||(o=!1,l.a.Warn("Render to half float textures is not supported. Mipmap generation forced to false.")):(o=!1,l.a.Warn("Render to float textures is not supported. Mipmap generation forced to false.")):(o=!1,a=1,l.a.Warn("Half float texture filtering is not supported. Mipmap generation and sampling mode are forced to false and TEXTURE_NEAREST_SAMPLINGMODE, respectively.")):(o=!1,a=1,l.a.Warn("Float texture filtering is not supported. Mipmap generation and sampling mode are forced to false and TEXTURE_NEAREST_SAMPLINGMODE, respectively."));var h=t,p=h;u.width=h,u.height=p,!this.needPOTTextures||r.b.IsExponentOfTwo(u.width)&&r.b.IsExponentOfTwo(u.height)||(o=!1),e&&this.updateRawCubeTexture(u,e,i,n,s,c),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,u,!0),e&&o&&this._gl.generateMipmap(this._gl.TEXTURE_CUBE_MAP);var b=this._getSamplingParameters(a,o);return _.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_MAG_FILTER,b.mag),_.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_MIN_FILTER,b.min),_.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_WRAP_S,_.CLAMP_TO_EDGE),_.texParameteri(_.TEXTURE_CUBE_MAP,_.TEXTURE_WRAP_T,_.CLAMP_TO_EDGE),this._bindTextureDirectly(_.TEXTURE_CUBE_MAP,null),u.generateMipMaps=o,u},ue.a.prototype.updateRawCubeTexture=function(e,t,i,n,o,s,a){void 0===s&&(s=null),void 0===a&&(a=0),e._bufferViewArray=t,e.format=i,e.type=n,e.invertY=o,e._compression=s;var c=this._gl,l=this._getWebGLTextureType(n),_=this._getInternalFormat(i),u=this._getRGBABufferInternalSizedFormat(n),f=!1;_===c.RGB&&(_=c.RGBA,f=!0),this._bindTextureDirectly(c.TEXTURE_CUBE_MAP,e,!0),this._unpackFlipY(void 0===o||!!o),e.width%4!==0&&c.pixelStorei(c.UNPACK_ALIGNMENT,1);for(var d=0;d<6;d++){var h=t[d];s?c.compressedTexImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+d,a,this.getCaps().s3tc[s],e.width,e.height,0,h):(f&&(h=fe(h,e.width,e.height,n)),c.texImage2D(c.TEXTURE_CUBE_MAP_POSITIVE_X+d,a,u,e.width,e.height,0,_,l,h))}(!this.needPOTTextures||r.b.IsExponentOfTwo(e.width)&&r.b.IsExponentOfTwo(e.height))&&e.generateMipMaps&&0===a&&this._gl.generateMipmap(this._gl.TEXTURE_CUBE_MAP),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),e.isReady=!0},ue.a.prototype.createRawCubeTextureFromUrl=function(e,t,i,n,r,o,s,a,c,l,_,u){var f=this;void 0===c&&(c=null),void 0===l&&(l=null),void 0===_&&(_=3),void 0===u&&(u=!1);var d=this._gl,h=this.createRawCubeTexture(null,i,n,r,!o,u,_,null);null===t||void 0===t||t._addPendingData(h),h.url=e,this._internalTexturesCache.push(h);return this._loadFile(e,function(e){!function(e){var i=h.width,o=s(e);if(o){if(a){var l=f._getWebGLTextureType(r),_=f._getInternalFormat(n),p=f._getRGBABufferInternalSizedFormat(r),b=!1;_===d.RGB&&(_=d.RGBA,b=!0),f._bindTextureDirectly(d.TEXTURE_CUBE_MAP,h,!0),f._unpackFlipY(!1);for(var m=a(o),A=0;A<m.length;A++)for(var g=i>>A,y=0;y<6;y++){var v=m[A][y];b&&(v=fe(v,g,g,r)),d.texImage2D(y,A,p,g,g,0,_,l,v)}f._bindTextureDirectly(d.TEXTURE_CUBE_MAP,null)}else f.updateRawCubeTexture(h,o,n,r,u);h.isReady=!0,null===t||void 0===t||t._removePendingData(h),c&&c()}}(e)},void 0,null===t||void 0===t?void 0:t.offlineProvider,!0,function(e,i){null===t||void 0===t||t._removePendingData(h),l&&e&&l(e.status+" "+e.statusText,i)}),h},ue.a.prototype.createRawTexture2DArray=de(!1),ue.a.prototype.createRawTexture3D=de(!0),ue.a.prototype.updateRawTexture2DArray=he(!1),ue.a.prototype.updateRawTexture3D=he(!0);var pe=function(e){function t(t,i,n,r,o,s,a,c,l){void 0===s&&(s=!0),void 0===a&&(a=!1),void 0===c&&(c=3),void 0===l&&(l=0);var _=e.call(this,null,o,!s,a)||this;return _.format=r,_._engine?(_._texture=_._engine.createRawTexture(t,i,n,r,s,a,c,null,l),_.wrapU=le.a.CLAMP_ADDRESSMODE,_.wrapV=le.a.CLAMP_ADDRESSMODE,_):_}return Object(s.c)(t,e),t.prototype.update=function(e){this._getEngine().updateRawTexture(this._texture,e,this._texture.format,this._texture.invertY,null,this._texture.type)},t.CreateLuminanceTexture=function(e,i,n,r,o,s,a){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=3),new t(e,i,n,1,r,o,s,a)},t.CreateLuminanceAlphaTexture=function(e,i,n,r,o,s,a){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=3),new t(e,i,n,2,r,o,s,a)},t.CreateAlphaTexture=function(e,i,n,r,o,s,a){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=3),new t(e,i,n,0,r,o,s,a)},t.CreateRGBTexture=function(e,i,n,r,o,s,a,c){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=3),void 0===c&&(c=0),new t(e,i,n,4,r,o,s,a,c)},t.CreateRGBATexture=function(e,i,n,r,o,s,a,c){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=3),void 0===c&&(c=0),new t(e,i,n,5,r,o,s,a,c)},t.CreateRTexture=function(e,i,n,r,o,s,a,c){return void 0===o&&(o=!0),void 0===s&&(s=!1),void 0===a&&(a=le.a.TRILINEAR_SAMPLINGMODE),void 0===c&&(c=1),new t(e,i,n,6,r,o,s,a,c)},t}(le.a),be=i(754),me=function(){function e(e,t,i){this.name=e,this.id=t,this.bones=new Array,this.needInitialSkinMatrix=!1,this.overrideMesh=null,this._isDirty=!0,this._meshesWithPoseMatrix=new Array,this._identity=L.a.Identity(),this._ranges={},this._lastAbsoluteTransformsUpdateId=-1,this._canUseTextureForBones=!1,this._uniqueId=0,this._numBonesWithLinkedTransformNode=0,this._hasWaitingData=null,this._waitingOverrideMeshId=null,this.doNotSerialize=!1,this._useTextureToStoreBoneMatrices=!0,this._animationPropertiesOverride=null,this.onBeforeComputeObservable=new n.a,this.bones=[],this._scene=i||_.a.LastCreatedScene,this._uniqueId=this._scene.getUniqueId(),this._scene.addSkeleton(this),this._isDirty=!0;var r=this._scene.getEngine().getCaps();this._canUseTextureForBones=r.textureFloat&&r.maxVertexTextureImageUnits>0}return Object.defineProperty(e.prototype,"useTextureToStoreBoneMatrices",{get:function(){return this._useTextureToStoreBoneMatrices},set:function(e){this._useTextureToStoreBoneMatrices=e,this._markAsDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride?this._animationPropertiesOverride:this._scene.animationPropertiesOverride},set:function(e){this._animationPropertiesOverride=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isUsingTextureForMatrices",{get:function(){return this.useTextureToStoreBoneMatrices&&this._canUseTextureForBones},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"Skeleton"},e.prototype.getChildren=function(){return this.bones.filter(function(e){return!e.getParent()})},e.prototype.getTransformMatrices=function(e){return this.needInitialSkinMatrix&&e._bonesTransformMatrices?e._bonesTransformMatrices:(this._transformMatrices||this.prepare(),this._transformMatrices)},e.prototype.getTransformMatrixTexture=function(e){return this.needInitialSkinMatrix&&e._transformMatrixTexture?e._transformMatrixTexture:this._transformMatrixTexture},e.prototype.getScene=function(){return this._scene},e.prototype.toString=function(e){var t="Name: "+this.name+", nBones: "+this.bones.length;if(t+=", nAnimationRanges: "+(this._ranges?Object.keys(this._ranges).length:"none"),e){t+=", Ranges: {";var i=!0;for(var n in this._ranges)i&&(t+=", ",i=!1),t+=n;t+="}"}return t},e.prototype.getBoneIndexByName=function(e){for(var t=0,i=this.bones.length;t<i;t++)if(this.bones[t].name===e)return t;return-1},e.prototype.createAnimationRange=function(e,t,i){if(!this._ranges[e]){this._ranges[e]=new ie(e,t,i);for(var n=0,r=this.bones.length;n<r;n++)this.bones[n].animations[0]&&this.bones[n].animations[0].createRange(e,t,i)}},e.prototype.deleteAnimationRange=function(e,t){void 0===t&&(t=!0);for(var i=0,n=this.bones.length;i<n;i++)this.bones[i].animations[0]&&this.bones[i].animations[0].deleteRange(e,t);this._ranges[e]=null},e.prototype.getAnimationRange=function(e){return this._ranges[e]||null},e.prototype.getAnimationRanges=function(){var e,t=[];for(e in this._ranges)t.push(this._ranges[e]);return t},e.prototype.copyAnimationRange=function(e,t,i){if(void 0===i&&(i=!1),this._ranges[t]||!e.getAnimationRange(t))return!1;var n,r,o=!0,s=this._getHighestAnimationFrame()+1,a={},c=e.bones;for(r=0,n=c.length;r<n;r++)a[c[r].name]=c[r];this.bones.length!==c.length&&(l.a.Warn("copyAnimationRange: this rig has "+this.bones.length+" bones, while source as "+c.length),o=!1);var _=i&&this.dimensionsAtRest&&e.dimensionsAtRest?this.dimensionsAtRest.divide(e.dimensionsAtRest):null;for(r=0,n=this.bones.length;r<n;r++){var u=this.bones[r].name,f=a[u];f?o=o&&this.bones[r].copyAnimationRange(f,t,s,i,_):(l.a.Warn("copyAnimationRange: not same rig, missing source bone "+u),o=!1)}var d=e.getAnimationRange(t);return d&&(this._ranges[t]=new ie(t,d.from+s,d.to+s)),o},e.prototype.returnToRest=function(){for(var e=L.c.Vector3[0],t=L.c.Quaternion[0],i=L.c.Vector3[1],n=0;n<this.bones.length;n++){var r=this.bones[n];-1!==r._index&&(r.returnToRest(),r._linkedTransformNode&&(r.getRestPose().decompose(e,t,i),r._linkedTransformNode.position=i.clone(),r._linkedTransformNode.rotationQuaternion=t.clone(),r._linkedTransformNode.scaling=e.clone()))}},e.prototype._getHighestAnimationFrame=function(){for(var e=0,t=0,i=this.bones.length;t<i;t++)if(this.bones[t].animations[0]){var n=this.bones[t].animations[0].getHighestFrame();e<n&&(e=n)}return e},e.prototype.beginAnimation=function(e,t,i,n){var r=this.getAnimationRange(e);return r?this._scene.beginAnimation(this,r.from,r.to,t,i,n):null},e.MakeAnimationAdditive=function(e,t,i){void 0===t&&(t=0);var n=e.getAnimationRange(i);if(!n)return null;for(var r=e._scene.getAllAnimatablesByTarget(e),o=null,s=0;s<r.length;s++){var a=r[s];if(a.fromFrame===(null===n||void 0===n?void 0:n.from)&&a.toFrame===(null===n||void 0===n?void 0:n.to)){o=a;break}}var c=e.getAnimatables();for(s=0;s<c.length;s++){var l=c[s].animations;if(l)for(var _=0;_<l.length;_++)se.MakeAnimationAdditive(l[_],t,i)}return o&&(o.isAdditive=!0),e},e.prototype._markAsDirty=function(){this._isDirty=!0},e.prototype._registerMeshWithPoseMatrix=function(e){this._meshesWithPoseMatrix.push(e)},e.prototype._unregisterMeshWithPoseMatrix=function(e){var t=this._meshesWithPoseMatrix.indexOf(e);t>-1&&this._meshesWithPoseMatrix.splice(t,1)},e.prototype._computeTransformMatrices=function(e,t){this.onBeforeComputeObservable.notifyObservers(this);for(var i=0;i<this.bones.length;i++){var n=this.bones[i];n._childUpdateId++;var r=n.getParent();if(r?n.getLocalMatrix().multiplyToRef(r.getWorldMatrix(),n.getWorldMatrix()):t?n.getLocalMatrix().multiplyToRef(t,n.getWorldMatrix()):n.getWorldMatrix().copyFrom(n.getLocalMatrix()),-1!==n._index){var o=null===n._index?i:n._index;n.getInvertedAbsoluteTransform().multiplyToArray(n.getWorldMatrix(),e,16*o)}}this._identity.copyToArray(e,16*this.bones.length)},e.prototype.prepare=function(){if(this._numBonesWithLinkedTransformNode>0)for(var e=0,t=this.bones;e<t.length;e++){var i=t[e];i._linkedTransformNode&&(i._linkedTransformNode.computeWorldMatrix(),i._matrix=i._linkedTransformNode._localMatrix,i.markAsDirty())}if(this._isDirty){if(this.needInitialSkinMatrix)for(var n=0;n<this._meshesWithPoseMatrix.length;n++){var r=this._meshesWithPoseMatrix[n],o=r.getPoseMatrix();if(r._bonesTransformMatrices&&r._bonesTransformMatrices.length===16*(this.bones.length+1)||(r._bonesTransformMatrices=new Float32Array(16*(this.bones.length+1))),this._synchronizedWithMesh!==r){this._synchronizedWithMesh=r;for(var s=0;s<this.bones.length;s++){var a=this.bones[s];if(!a.getParent())a.getBaseMatrix().multiplyToRef(o,L.c.Matrix[1]),a._updateDifferenceMatrix(L.c.Matrix[1])}if(this.isUsingTextureForMatrices){var c=4*(this.bones.length+1);r._transformMatrixTexture&&r._transformMatrixTexture.getSize().width===c||(r._transformMatrixTexture&&r._transformMatrixTexture.dispose(),r._transformMatrixTexture=pe.CreateRGBATexture(r._bonesTransformMatrices,4*(this.bones.length+1),1,this._scene,!1,!1,1,1))}}this._computeTransformMatrices(r._bonesTransformMatrices,o),this.isUsingTextureForMatrices&&r._transformMatrixTexture&&r._transformMatrixTexture.update(r._bonesTransformMatrices)}else this._transformMatrices&&this._transformMatrices.length===16*(this.bones.length+1)||(this._transformMatrices=new Float32Array(16*(this.bones.length+1)),this.isUsingTextureForMatrices&&(this._transformMatrixTexture&&this._transformMatrixTexture.dispose(),this._transformMatrixTexture=pe.CreateRGBATexture(this._transformMatrices,4*(this.bones.length+1),1,this._scene,!1,!1,1,1))),this._computeTransformMatrices(this._transformMatrices,null),this.isUsingTextureForMatrices&&this._transformMatrixTexture&&this._transformMatrixTexture.update(this._transformMatrices);this._isDirty=!1,this._scene._activeBones.addCount(this.bones.length,!1)}},e.prototype.getAnimatables=function(){if(!this._animatables||this._animatables.length!==this.bones.length){this._animatables=[];for(var e=0;e<this.bones.length;e++)this._animatables.push(this.bones[e])}return this._animatables},e.prototype.clone=function(t,i){var n=new e(t,i||t,this._scene);n.needInitialSkinMatrix=this.needInitialSkinMatrix,n.overrideMesh=this.overrideMesh;for(var r=0;r<this.bones.length;r++){var o=this.bones[r],s=null,a=o.getParent();if(a){var c=this.bones.indexOf(a);s=n.bones[c]}var l=new ce(o.name,n,s,o.getBaseMatrix().clone(),o.getRestPose().clone());l._index=o._index,o._linkedTransformNode&&l.linkTransformNode(o._linkedTransformNode),be.a.DeepCopy(o.animations,l.animations)}if(this._ranges)for(var _ in n._ranges={},this._ranges){var u=this._ranges[_];u&&(n._ranges[_]=u.clone())}return this._isDirty=!0,n},e.prototype.enableBlending=function(e){void 0===e&&(e=.01),this.bones.forEach(function(t){t.animations.forEach(function(t){t.enableBlending=!0,t.blendingSpeed=e})})},e.prototype.dispose=function(){this._meshesWithPoseMatrix=[],this.getScene().stopAnimation(this),this.getScene().removeSkeleton(this),this._transformMatrixTexture&&(this._transformMatrixTexture.dispose(),this._transformMatrixTexture=null)},e.prototype.serialize=function(){var e,t,i={};i.name=this.name,i.id=this.id,this.dimensionsAtRest&&(i.dimensionsAtRest=this.dimensionsAtRest.asArray()),i.bones=[],i.needInitialSkinMatrix=this.needInitialSkinMatrix,i.overrideMeshId=null===(e=this.overrideMesh)||void 0===e?void 0:e.id;for(var n=0;n<this.bones.length;n++){var r=this.bones[n],o=r.getParent(),s={parentBoneIndex:o?this.bones.indexOf(o):-1,index:r.getIndex(),name:r.name,matrix:r.getBaseMatrix().toArray(),rest:r.getRestPose().toArray(),linkedTransformNodeId:null===(t=r.getTransformNode())||void 0===t?void 0:t.id};for(var a in i.bones.push(s),r.length&&(s.length=r.length),r.metadata&&(s.metadata=r.metadata),r.animations&&r.animations.length>0&&(s.animation=r.animations[0].serialize()),i.ranges=[],this._ranges){var c=this._ranges[a];if(c){var l={};l.name=a,l.from=c.from,l.to=c.to,i.ranges.push(l)}}}return i},e.Parse=function(t,i){var n,r=new e(t.name,t.id,i);for(t.dimensionsAtRest&&(r.dimensionsAtRest=L.e.FromArray(t.dimensionsAtRest)),r.needInitialSkinMatrix=t.needInitialSkinMatrix,t.overrideMeshId&&(r._hasWaitingData=!0,r._waitingOverrideMeshId=t.overrideMeshId),n=0;n<t.bones.length;n++){var o=t.bones[n],s=t.bones[n].index,a=null;o.parentBoneIndex>-1&&(a=r.bones[o.parentBoneIndex]);var c=o.rest?L.a.FromArray(o.rest):null,l=new ce(o.name,r,a,L.a.FromArray(o.matrix),c,null,s);void 0!==o.id&&null!==o.id&&(l.id=o.id),o.length&&(l.length=o.length),o.metadata&&(l.metadata=o.metadata),o.animation&&l.animations.push(se.Parse(o.animation)),void 0!==o.linkedTransformNodeId&&null!==o.linkedTransformNodeId&&(r._hasWaitingData=!0,l._waitingTransformNodeId=o.linkedTransformNodeId)}if(t.ranges)for(n=0;n<t.ranges.length;n++){var _=t.ranges[n];r.createAnimationRange(_.name,_.from,_.to)}return r},e.prototype.computeAbsoluteTransforms=function(e){void 0===e&&(e=!1);var t=this._scene.getRenderId();(this._lastAbsoluteTransformsUpdateId!=t||e)&&(this.bones[0].computeAbsoluteTransforms(),this._lastAbsoluteTransformsUpdateId=t)},e.prototype.getPoseMatrix=function(){var e=null;return this._meshesWithPoseMatrix.length>0&&(e=this._meshesWithPoseMatrix[0].getPoseMatrix()),e},e.prototype.sortBones=function(){for(var e=new Array,t=new Array(this.bones.length),i=0;i<this.bones.length;i++)this._sortBones(i,e,t);this.bones=e},e.prototype._sortBones=function(e,t,i){if(!i[e]){i[e]=!0;var n=this.bones[e];void 0===n._index&&(n._index=e);var r=n.getParent();r&&this._sortBones(this.bones.indexOf(r),t,i),t.push(n)}},e.prototype.setCurrentPoseAsRest=function(){this.bones.forEach(function(e){e.setCurrentPoseAsRest()})},e}(),Ae=i(642),ge=i(677),ye=i(950),ve=i(718),Ce=i(695),Ee=i(660),Se=i(953),Te=i(885),Re=i(872),Me=i(954),Oe=i(686),Ie=i(720),xe="defaultFragmentDeclaration",Pe="uniform vec4 vDiffuseColor;\n#ifdef SPECULARTERM\nuniform vec4 vSpecularColor;\n#endif\nuniform vec3 vEmissiveColor;\nuniform float visibility;\n\n#ifdef DIFFUSE\nuniform vec2 vDiffuseInfos;\n#endif\n#ifdef AMBIENT\nuniform vec2 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform vec2 vTangentSpaceParams;\n#endif\n#if defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_PROJECTION) || defined(REFRACTION)\nuniform mat4 view;\n#endif\n#ifdef REFRACTION\nuniform vec4 vRefractionInfos;\n#ifndef REFRACTIONMAP_3D\nuniform mat4 refractionMatrix;\n#endif\n#ifdef REFRACTIONFRESNEL\nuniform vec4 refractionLeftColor;\nuniform vec4 refractionRightColor;\n#endif\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\nuniform vec2 vSpecularInfos;\n#endif\n#ifdef DIFFUSEFRESNEL\nuniform vec4 diffuseLeftColor;\nuniform vec4 diffuseRightColor;\n#endif\n#ifdef OPACITYFRESNEL\nuniform vec4 opacityParts;\n#endif\n#ifdef EMISSIVEFRESNEL\nuniform vec4 emissiveLeftColor;\nuniform vec4 emissiveRightColor;\n#endif\n\n#ifdef REFLECTION\nuniform vec2 vReflectionInfos;\n#if defined(REFLECTIONMAP_PLANAR) || defined(REFLECTIONMAP_CUBIC) || defined(REFLECTIONMAP_PROJECTION) || defined(REFLECTIONMAP_EQUIRECTANGULAR) || defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_SKYBOX)\nuniform mat4 reflectionMatrix;\n#endif\n#ifndef REFLECTIONMAP_SKYBOX\n#if defined(USE_LOCAL_REFLECTIONMAP_CUBIC) && defined(REFLECTIONMAP_CUBIC)\nuniform vec3 vReflectionPosition;\nuniform vec3 vReflectionSize;\n#endif\n#endif\n#ifdef REFLECTIONFRESNEL\nuniform vec4 reflectionLeftColor;\nuniform vec4 reflectionRightColor;\n#endif\n#endif";Ae.a.IncludesShadersStore[xe]=Pe;var De="defaultUboDeclaration",we="layout(std140,column_major) uniform;\nuniform Material\n{\nvec4 diffuseLeftColor;\nvec4 diffuseRightColor;\nvec4 opacityParts;\nvec4 reflectionLeftColor;\nvec4 reflectionRightColor;\nvec4 refractionLeftColor;\nvec4 refractionRightColor;\nvec4 emissiveLeftColor;\nvec4 emissiveRightColor;\nvec2 vDiffuseInfos;\nvec2 vAmbientInfos;\nvec2 vOpacityInfos;\nvec2 vReflectionInfos;\nvec3 vReflectionPosition;\nvec3 vReflectionSize;\nvec2 vEmissiveInfos;\nvec2 vLightmapInfos;\nvec2 vSpecularInfos;\nvec3 vBumpInfos;\nmat4 diffuseMatrix;\nmat4 ambientMatrix;\nmat4 opacityMatrix;\nmat4 reflectionMatrix;\nmat4 emissiveMatrix;\nmat4 lightmapMatrix;\nmat4 specularMatrix;\nmat4 bumpMatrix;\nvec2 vTangentSpaceParams;\nfloat pointSize;\nmat4 refractionMatrix;\nvec4 vRefractionInfos;\nvec4 vSpecularColor;\nvec3 vEmissiveColor;\nfloat visibility;\nvec4 vDiffuseColor;\nvec4 vDetailInfos;\nmat4 detailMatrix;\n};\nuniform Scene {\nmat4 viewProjection;\n#ifdef MULTIVIEW\nmat4 viewProjectionR;\n#endif\nmat4 view;\n};\n";Ae.a.IncludesShadersStore[De]=we;i(955),i(719),i(817),i(818);var Le="lightsFragmentFunctions",Fe="\nstruct lightingInfo\n{\nvec3 diffuse;\n#ifdef SPECULARTERM\nvec3 specular;\n#endif\n#ifdef NDOTL\nfloat ndl;\n#endif\n};\nlightingInfo computeLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\nlightingInfo result;\nvec3 lightVectorW;\nfloat attenuation=1.0;\nif (lightData.w == 0.)\n{\nvec3 direction=lightData.xyz-vPositionW;\nattenuation=max(0.,1.0-length(direction)/range);\nlightVectorW=normalize(direction);\n}\nelse\n{\nlightVectorW=normalize(-lightData.xyz);\n}\n\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=ndl*diffuseColor*attenuation;\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor*attenuation;\n#endif\nreturn result;\n}\nlightingInfo computeSpotLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec4 lightDirection,vec3 diffuseColor,vec3 specularColor,float range,float glossiness) {\nlightingInfo result;\nvec3 direction=lightData.xyz-vPositionW;\nvec3 lightVectorW=normalize(direction);\nfloat attenuation=max(0.,1.0-length(direction)/range);\n\nfloat cosAngle=max(0.,dot(lightDirection.xyz,-lightVectorW));\nif (cosAngle>=lightDirection.w)\n{\ncosAngle=max(0.,pow(cosAngle,lightData.w));\nattenuation*=cosAngle;\n\nfloat ndl=max(0.,dot(vNormal,lightVectorW));\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=ndl*diffuseColor*attenuation;\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightVectorW);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor*attenuation;\n#endif\nreturn result;\n}\nresult.diffuse=vec3(0.);\n#ifdef SPECULARTERM\nresult.specular=vec3(0.);\n#endif\n#ifdef NDOTL\nresult.ndl=0.;\n#endif\nreturn result;\n}\nlightingInfo computeHemisphericLighting(vec3 viewDirectionW,vec3 vNormal,vec4 lightData,vec3 diffuseColor,vec3 specularColor,vec3 groundColor,float glossiness) {\nlightingInfo result;\n\nfloat ndl=dot(vNormal,lightData.xyz)*0.5+0.5;\n#ifdef NDOTL\nresult.ndl=ndl;\n#endif\nresult.diffuse=mix(groundColor,diffuseColor,ndl);\n#ifdef SPECULARTERM\n\nvec3 angleW=normalize(viewDirectionW+lightData.xyz);\nfloat specComp=max(0.,dot(vNormal,angleW));\nspecComp=pow(specComp,max(1.,glossiness));\nresult.specular=specComp*specularColor;\n#endif\nreturn result;\n}\n#define inline\nvec3 computeProjectionTextureDiffuseLighting(sampler2D projectionLightSampler,mat4 textureProjectionMatrix){\nvec4 strq=textureProjectionMatrix*vec4(vPositionW,1.0);\nstrq/=strq.w;\nvec3 textureColor=texture2D(projectionLightSampler,strq.xy).rgb;\nreturn textureColor;\n}";Ae.a.IncludesShadersStore[Le]=Fe;i(956);var Ne="fresnelFunction",Be="#ifdef FRESNEL\nfloat computeFresnelTerm(vec3 viewDirection,vec3 worldNormal,float bias,float power)\n{\nfloat fresnelTerm=pow(bias+abs(dot(viewDirection,worldNormal)),power);\nreturn clamp(fresnelTerm,0.,1.);\n}\n#endif";Ae.a.IncludesShadersStore[Ne]=Be;i(957),i(958),i(959),i(960),i(961),i(808),i(819),i(962),i(809),i(963),i(964),i(965),i(966),i(967);var ke="defaultPixelShader",Ue="#include<__decl__defaultFragment>\n#if defined(BUMP) || !defined(NORMAL)\n#extension GL_OES_standard_derivatives : enable\n#endif\n#include<prePassDeclaration>[SCENE_MRT_COUNT]\n#define CUSTOM_FRAGMENT_BEGIN\n#ifdef LOGARITHMICDEPTH\n#extension GL_EXT_frag_depth : enable\n#endif\n\n#define RECIPROCAL_PI2 0.15915494\nuniform vec3 vEyePosition;\nuniform vec3 vAmbientColor;\n\nvarying vec3 vPositionW;\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n\n#include<helperFunctions>\n\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<lightsFragmentFunctions>\n#include<shadowsFragmentFunctions>\n\n#ifdef DIFFUSE\n#if DIFFUSEDIRECTUV == 1\n#define vDiffuseUV vMainUV1\n#elif DIFFUSEDIRECTUV == 2\n#define vDiffuseUV vMainUV2\n#else\nvarying vec2 vDiffuseUV;\n#endif\nuniform sampler2D diffuseSampler;\n#endif\n#ifdef AMBIENT\n#if AMBIENTDIRECTUV == 1\n#define vAmbientUV vMainUV1\n#elif AMBIENTDIRECTUV == 2\n#define vAmbientUV vMainUV2\n#else\nvarying vec2 vAmbientUV;\n#endif\nuniform sampler2D ambientSampler;\n#endif\n#ifdef OPACITY\n#if OPACITYDIRECTUV == 1\n#define vOpacityUV vMainUV1\n#elif OPACITYDIRECTUV == 2\n#define vOpacityUV vMainUV2\n#else\nvarying vec2 vOpacityUV;\n#endif\nuniform sampler2D opacitySampler;\n#endif\n#ifdef EMISSIVE\n#if EMISSIVEDIRECTUV == 1\n#define vEmissiveUV vMainUV1\n#elif EMISSIVEDIRECTUV == 2\n#define vEmissiveUV vMainUV2\n#else\nvarying vec2 vEmissiveUV;\n#endif\nuniform sampler2D emissiveSampler;\n#endif\n#ifdef LIGHTMAP\n#if LIGHTMAPDIRECTUV == 1\n#define vLightmapUV vMainUV1\n#elif LIGHTMAPDIRECTUV == 2\n#define vLightmapUV vMainUV2\n#else\nvarying vec2 vLightmapUV;\n#endif\nuniform sampler2D lightmapSampler;\n#endif\n#ifdef REFRACTION\n#ifdef REFRACTIONMAP_3D\nuniform samplerCube refractionCubeSampler;\n#else\nuniform sampler2D refraction2DSampler;\n#endif\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\n#if SPECULARDIRECTUV == 1\n#define vSpecularUV vMainUV1\n#elif SPECULARDIRECTUV == 2\n#define vSpecularUV vMainUV2\n#else\nvarying vec2 vSpecularUV;\n#endif\nuniform sampler2D specularSampler;\n#endif\n#ifdef ALPHATEST\nuniform float alphaCutOff;\n#endif\n\n#include<fresnelFunction>\n\n#ifdef REFLECTION\n#ifdef REFLECTIONMAP_3D\nuniform samplerCube reflectionCubeSampler;\n#else\nuniform sampler2D reflection2DSampler;\n#endif\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#else\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#endif\n#include<reflectionFunction>\n#endif\n#include<imageProcessingDeclaration>\n#include<imageProcessingFunctions>\n#include<bumpFragmentMainFunctions>\n#include<bumpFragmentFunctions>\n#include<clipPlaneFragmentDeclaration>\n#include<logDepthDeclaration>\n#include<fogFragmentDeclaration>\n#define CUSTOM_FRAGMENT_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\n#include<clipPlaneFragment>\nvec3 viewDirectionW=normalize(vEyePosition-vPositionW);\n\nvec4 baseColor=vec4(1.,1.,1.,1.);\nvec3 diffuseColor=vDiffuseColor.rgb;\n\nfloat alpha=vDiffuseColor.a;\n\n#ifdef NORMAL\nvec3 normalW=normalize(vNormalW);\n#else\nvec3 normalW=normalize(-cross(dFdx(vPositionW),dFdy(vPositionW)));\n#endif\n#include<bumpFragment>\n#ifdef TWOSIDEDLIGHTING\nnormalW=gl_FrontFacing ? normalW : -normalW;\n#endif\n#ifdef DIFFUSE\nbaseColor=texture2D(diffuseSampler,vDiffuseUV+uvOffset);\n#if defined(ALPHATEST) && !defined(ALPHATEST_AFTERALLALPHACOMPUTATIONS)\nif (baseColor.a<alphaCutOff)\ndiscard;\n#endif\n#ifdef ALPHAFROMDIFFUSE\nalpha*=baseColor.a;\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_ALPHA\nbaseColor.rgb*=vDiffuseInfos.y;\n#endif\n#include<depthPrePass>\n#ifdef VERTEXCOLOR\nbaseColor.rgb*=vColor.rgb;\n#endif\n#ifdef DETAIL\nbaseColor.rgb=baseColor.rgb*2.0*mix(0.5,detailColor.r,vDetailInfos.y);\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_DIFFUSE\n\nvec3 baseAmbientColor=vec3(1.,1.,1.);\n#ifdef AMBIENT\nbaseAmbientColor=texture2D(ambientSampler,vAmbientUV+uvOffset).rgb*vAmbientInfos.y;\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\n\n#ifdef SPECULARTERM\nfloat glossiness=vSpecularColor.a;\nvec3 specularColor=vSpecularColor.rgb;\n#ifdef SPECULAR\nvec4 specularMapColor=texture2D(specularSampler,vSpecularUV+uvOffset);\nspecularColor=specularMapColor.rgb;\n#ifdef GLOSSINESS\nglossiness=glossiness*specularMapColor.a;\n#endif\n#endif\n#else\nfloat glossiness=0.;\n#endif\n\nvec3 diffuseBase=vec3(0.,0.,0.);\nlightingInfo info;\n#ifdef SPECULARTERM\nvec3 specularBase=vec3(0.,0.,0.);\n#endif\nfloat shadow=1.;\n#ifdef LIGHTMAP\nvec4 lightmapColor=texture2D(lightmapSampler,vLightmapUV+uvOffset);\n#ifdef RGBDLIGHTMAP\nlightmapColor.rgb=fromRGBD(lightmapColor);\n#endif\nlightmapColor.rgb*=vLightmapInfos.y;\n#endif\n#include<lightFragment>[0..maxSimultaneousLights]\n\nvec4 refractionColor=vec4(0.,0.,0.,1.);\n#ifdef REFRACTION\nvec3 refractionVector=normalize(refract(-viewDirectionW,normalW,vRefractionInfos.y));\n#ifdef REFRACTIONMAP_3D\nrefractionVector.y=refractionVector.y*vRefractionInfos.w;\nif (dot(refractionVector,viewDirectionW)<1.0) {\nrefractionColor=textureCube(refractionCubeSampler,refractionVector);\n}\n#else\nvec3 vRefractionUVW=vec3(refractionMatrix*(view*vec4(vPositionW+refractionVector*vRefractionInfos.z,1.0)));\nvec2 refractionCoords=vRefractionUVW.xy/vRefractionUVW.z;\nrefractionCoords.y=1.0-refractionCoords.y;\nrefractionColor=texture2D(refraction2DSampler,refractionCoords);\n#endif\n#ifdef RGBDREFRACTION\nrefractionColor.rgb=fromRGBD(refractionColor);\n#endif\n#ifdef IS_REFRACTION_LINEAR\nrefractionColor.rgb=toGammaSpace(refractionColor.rgb);\n#endif\nrefractionColor.rgb*=vRefractionInfos.x;\n#endif\n\nvec4 reflectionColor=vec4(0.,0.,0.,1.);\n#ifdef REFLECTION\nvec3 vReflectionUVW=computeReflectionCoords(vec4(vPositionW,1.0),normalW);\n#ifdef REFLECTIONMAP_3D\n#ifdef ROUGHNESS\nfloat bias=vReflectionInfos.y;\n#ifdef SPECULARTERM\n#ifdef SPECULAR\n#ifdef GLOSSINESS\nbias*=(1.0-specularMapColor.a);\n#endif\n#endif\n#endif\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW,bias);\n#else\nreflectionColor=textureCube(reflectionCubeSampler,vReflectionUVW);\n#endif\n#else\nvec2 coords=vReflectionUVW.xy;\n#ifdef REFLECTIONMAP_PROJECTION\ncoords/=vReflectionUVW.z;\n#endif\ncoords.y=1.0-coords.y;\nreflectionColor=texture2D(reflection2DSampler,coords);\n#endif\n#ifdef RGBDREFLECTION\nreflectionColor.rgb=fromRGBD(reflectionColor);\n#endif\n#ifdef IS_REFLECTION_LINEAR\nreflectionColor.rgb=toGammaSpace(reflectionColor.rgb);\n#endif\nreflectionColor.rgb*=vReflectionInfos.x;\n#ifdef REFLECTIONFRESNEL\nfloat reflectionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,reflectionRightColor.a,reflectionLeftColor.a);\n#ifdef REFLECTIONFRESNELFROMSPECULAR\n#ifdef SPECULARTERM\nreflectionColor.rgb*=specularColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#else\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#endif\n#else\nreflectionColor.rgb*=reflectionLeftColor.rgb*(1.0-reflectionFresnelTerm)+reflectionFresnelTerm*reflectionRightColor.rgb;\n#endif\n#endif\n#endif\n#ifdef REFRACTIONFRESNEL\nfloat refractionFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,refractionRightColor.a,refractionLeftColor.a);\nrefractionColor.rgb*=refractionLeftColor.rgb*(1.0-refractionFresnelTerm)+refractionFresnelTerm*refractionRightColor.rgb;\n#endif\n#ifdef OPACITY\nvec4 opacityMap=texture2D(opacitySampler,vOpacityUV+uvOffset);\n#ifdef OPACITYRGB\nopacityMap.rgb=opacityMap.rgb*vec3(0.3,0.59,0.11);\nalpha*=(opacityMap.x+opacityMap.y+opacityMap.z)* vOpacityInfos.y;\n#else\nalpha*=opacityMap.a*vOpacityInfos.y;\n#endif\n#endif\n#ifdef VERTEXALPHA\nalpha*=vColor.a;\n#endif\n#ifdef OPACITYFRESNEL\nfloat opacityFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,opacityParts.z,opacityParts.w);\nalpha+=opacityParts.x*(1.0-opacityFresnelTerm)+opacityFresnelTerm*opacityParts.y;\n#endif\n#ifdef ALPHATEST\n#ifdef ALPHATEST_AFTERALLALPHACOMPUTATIONS\nif (alpha<alphaCutOff)\ndiscard;\n#endif\n#ifndef ALPHABLEND\n\nalpha=1.0;\n#endif\n#endif\n\nvec3 emissiveColor=vEmissiveColor;\n#ifdef EMISSIVE\nemissiveColor+=texture2D(emissiveSampler,vEmissiveUV+uvOffset).rgb*vEmissiveInfos.y;\n#endif\n#ifdef EMISSIVEFRESNEL\nfloat emissiveFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,emissiveRightColor.a,emissiveLeftColor.a);\nemissiveColor*=emissiveLeftColor.rgb*(1.0-emissiveFresnelTerm)+emissiveFresnelTerm*emissiveRightColor.rgb;\n#endif\n\n#ifdef DIFFUSEFRESNEL\nfloat diffuseFresnelTerm=computeFresnelTerm(viewDirectionW,normalW,diffuseRightColor.a,diffuseLeftColor.a);\ndiffuseBase*=diffuseLeftColor.rgb*(1.0-diffuseFresnelTerm)+diffuseFresnelTerm*diffuseRightColor.rgb;\n#endif\n\n#ifdef EMISSIVEASILLUMINATION\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#else\n#ifdef LINKEMISSIVEWITHDIFFUSE\nvec3 finalDiffuse=clamp((diffuseBase+emissiveColor)*diffuseColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#else\nvec3 finalDiffuse=clamp(diffuseBase*diffuseColor+emissiveColor+vAmbientColor,0.0,1.0)*baseColor.rgb;\n#endif\n#endif\n#ifdef SPECULARTERM\nvec3 finalSpecular=specularBase*specularColor;\n#ifdef SPECULAROVERALPHA\nalpha=clamp(alpha+dot(finalSpecular,vec3(0.3,0.59,0.11)),0.,1.);\n#endif\n#else\nvec3 finalSpecular=vec3(0.0);\n#endif\n#ifdef REFLECTIONOVERALPHA\nalpha=clamp(alpha+dot(reflectionColor.rgb,vec3(0.3,0.59,0.11)),0.,1.);\n#endif\n\n#ifdef EMISSIVEASILLUMINATION\nvec4 color=vec4(clamp(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+emissiveColor+refractionColor.rgb,0.0,1.0),alpha);\n#else\nvec4 color=vec4(finalDiffuse*baseAmbientColor+finalSpecular+reflectionColor.rgb+refractionColor.rgb,alpha);\n#endif\n\n#ifdef LIGHTMAP\n#ifndef LIGHTMAPEXCLUDED\n#ifdef USELIGHTMAPASSHADOWMAP\ncolor.rgb*=lightmapColor.rgb;\n#else\ncolor.rgb+=lightmapColor.rgb;\n#endif\n#endif\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_FOG\ncolor.rgb=max(color.rgb,0.);\n#include<logDepthFragment>\n#include<fogFragment>\n\n\n#ifdef IMAGEPROCESSINGPOSTPROCESS\ncolor.rgb=toLinearSpace(color.rgb);\n#else\n#ifdef IMAGEPROCESSING\ncolor.rgb=toLinearSpace(color.rgb);\ncolor=applyImageProcessing(color);\n#endif\n#endif\ncolor.a*=visibility;\n#ifdef PREMULTIPLYALPHA\n\ncolor.rgb*=color.a;\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\n#ifdef PREPASS\ngl_FragData[0]=color;\n#ifdef PREPASS_POSITION\ngl_FragData[PREPASS_POSITION_INDEX]=vec4(vPositionW,1.0);\n#endif\n#ifdef PREPASS_VELOCITY\nvec2 a=(vCurrentPosition.xy/vCurrentPosition.w)*0.5+0.5;\nvec2 b=(vPreviousPosition.xy/vPreviousPosition.w)*0.5+0.5;\nvec2 velocity=abs(a-b);\nvelocity=vec2(pow(velocity.x,1.0/3.0),pow(velocity.y,1.0/3.0))*sign(a-b)*0.5+0.5;\ngl_FragData[PREPASS_VELOCITY_INDEX]=vec4(velocity,0.0,1.0);\n#endif\n#ifdef PREPASS_IRRADIANCE\ngl_FragData[PREPASS_IRRADIANCE_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#ifdef PREPASS_DEPTHNORMAL\ngl_FragData[PREPASS_DEPTHNORMAL_INDEX]=vec4(vViewPos.z,(view*vec4(normalW,0.0)).rgb);\n#endif\n#ifdef PREPASS_ALBEDO\ngl_FragData[PREPASS_ALBEDO_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#ifdef PREPASS_REFLECTIVITY\n#if defined(SPECULAR)\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=specularMapColor;\n#else\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#endif\n#endif\n#if !defined(PREPASS) || defined(WEBGL2)\ngl_FragColor=color;\n#endif\n}\n";Ae.a.ShadersStore[ke]=Ue;var He="defaultVertexDeclaration",je="\nuniform mat4 viewProjection;\nuniform mat4 view;\n#ifdef DIFFUSE\nuniform mat4 diffuseMatrix;\nuniform vec2 vDiffuseInfos;\n#endif\n#ifdef AMBIENT\nuniform mat4 ambientMatrix;\nuniform vec2 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform mat4 opacityMatrix;\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\nuniform mat4 emissiveMatrix;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\nuniform mat4 lightmapMatrix;\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM)\nuniform vec2 vSpecularInfos;\nuniform mat4 specularMatrix;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform mat4 bumpMatrix;\n#endif\n#ifdef REFLECTION\nuniform mat4 reflectionMatrix;\n#endif\n#ifdef POINTSIZE\nuniform float pointSize;\n#endif\n";Ae.a.IncludesShadersStore[He]=je;i(756),i(757),i(968),i(969),i(812),i(970),i(810),i(811),i(813),i(758),i(759),i(971),i(972),i(814),i(973),i(974);var Ve="pointCloudVertex",Ge="#ifdef POINTSIZE\ngl_PointSize=pointSize;\n#endif";Ae.a.IncludesShadersStore[Ve]=Ge;i(975);var We="defaultVertexShader",Xe="#include<__decl__defaultVertex>\n\n#define CUSTOM_VERTEX_BEGIN\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#ifdef TANGENT\nattribute vec4 tangent;\n#endif\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<helperFunctions>\n#include<bonesDeclaration>\n\n#include<instancesDeclaration>\n#include<prePassVertexDeclaration>\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nvarying vec2 vDiffuseUV;\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nvarying vec2 vDetailUV;\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nvarying vec2 vAmbientUV;\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nvarying vec2 vOpacityUV;\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nvarying vec2 vEmissiveUV;\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nvarying vec2 vLightmapUV;\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM) && SPECULARDIRECTUV == 0\nvarying vec2 vSpecularUV;\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nvarying vec2 vBumpUV;\n#endif\n\nvarying vec3 vPositionW;\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#include<bumpVertexDeclaration>\n#include<clipPlaneVertexDeclaration>\n#include<fogVertexDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#include<logDepthDeclaration>\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\nvec3 positionUpdated=position;\n#ifdef NORMAL\nvec3 normalUpdated=normal;\n#endif\n#ifdef TANGENT\nvec4 tangentUpdated=tangent;\n#endif\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvPositionUVW=positionUpdated;\n#endif\n#define CUSTOM_VERTEX_UPDATE_POSITION\n#define CUSTOM_VERTEX_UPDATE_NORMAL\n#include<instancesVertex>\n#if defined(PREPASS) && defined(PREPASS_VELOCITY) && !defined(BONES_VELOCITY_ENABLED)\n\nvCurrentPosition=viewProjection*finalWorld*vec4(positionUpdated,1.0);\nvPreviousPosition=previousViewProjection*previousWorld*vec4(positionUpdated,1.0);\n#endif\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\nvNormalW=normalUpdated/vec3(dot(normalWorld[0],normalWorld[0]),dot(normalWorld[1],normalWorld[1]),dot(normalWorld[2],normalWorld[2]));\nvNormalW=normalize(normalWorld*vNormalW);\n#else\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvNormalW=normalize(normalWorld*normalUpdated);\n#endif\n#endif\n#define CUSTOM_VERTEX_UPDATE_WORLDPOS\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\nvPositionW=vec3(worldPos);\n#include<prePassVertex>\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvDirectionW=normalize(vec3(finalWorld*vec4(positionUpdated,0.0)));\n#endif\n\n#ifndef UV1\nvec2 uvUpdated=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\n#ifdef MAINUV1\nvMainUV1=uvUpdated;\n#endif\n#ifdef MAINUV2\nvMainUV2=uv2;\n#endif\n#if defined(DIFFUSE) && DIFFUSEDIRECTUV == 0\nif (vDiffuseInfos.x == 0.)\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvDiffuseUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nif (vDetailInfos.x == 0.)\n{\nvDetailUV=vec2(detailMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvDetailUV=vec2(detailMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nif (vAmbientInfos.x == 0.)\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nif (vOpacityInfos.x == 0.)\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nif (vEmissiveInfos.x == 0.)\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nif (vLightmapInfos.x == 0.)\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(SPECULAR) && defined(SPECULARTERM) && SPECULARDIRECTUV == 0\nif (vSpecularInfos.x == 0.)\n{\nvSpecularUV=vec2(specularMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvSpecularUV=vec2(specularMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nif (vBumpInfos.x == 0.)\n{\nvBumpUV=vec2(bumpMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvBumpUV=vec2(bumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#include<bumpVertex>\n#include<clipPlaneVertex>\n#include<fogVertex>\n#include<shadowsVertex>[0..maxSimultaneousLights]\n#ifdef VERTEXCOLOR\n\nvColor=color;\n#endif\n#include<pointCloudVertex>\n#include<logDepthVertex>\n#define CUSTOM_VERTEX_MAIN_END\n}\n";Ae.a.ShadersStore[We]=Xe;var ze=i(815),Ye=i(976),Qe={effect:null,subMesh:null},Ke=function(e){function t(){var t=e.call(this)||this;return t.MAINUV1=!1,t.MAINUV2=!1,t.DIFFUSE=!1,t.DIFFUSEDIRECTUV=0,t.DETAIL=!1,t.DETAILDIRECTUV=0,t.DETAIL_NORMALBLENDMETHOD=0,t.AMBIENT=!1,t.AMBIENTDIRECTUV=0,t.OPACITY=!1,t.OPACITYDIRECTUV=0,t.OPACITYRGB=!1,t.REFLECTION=!1,t.EMISSIVE=!1,t.EMISSIVEDIRECTUV=0,t.SPECULAR=!1,t.SPECULARDIRECTUV=0,t.BUMP=!1,t.BUMPDIRECTUV=0,t.PARALLAX=!1,t.PARALLAXOCCLUSION=!1,t.SPECULAROVERALPHA=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.ALPHAFROMDIFFUSE=!1,t.POINTSIZE=!1,t.FOG=!1,t.SPECULARTERM=!1,t.DIFFUSEFRESNEL=!1,t.OPACITYFRESNEL=!1,t.REFLECTIONFRESNEL=!1,t.REFRACTIONFRESNEL=!1,t.EMISSIVEFRESNEL=!1,t.FRESNEL=!1,t.NORMAL=!1,t.UV1=!1,t.UV2=!1,t.VERTEXCOLOR=!1,t.VERTEXALPHA=!1,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.BONETEXTURE=!1,t.BONES_VELOCITY_ENABLED=!1,t.INSTANCES=!1,t.THIN_INSTANCES=!1,t.GLOSSINESS=!1,t.ROUGHNESS=!1,t.EMISSIVEASILLUMINATION=!1,t.LINKEMISSIVEWITHDIFFUSE=!1,t.REFLECTIONFRESNELFROMSPECULAR=!1,t.LIGHTMAP=!1,t.LIGHTMAPDIRECTUV=0,t.OBJECTSPACE_NORMALMAP=!1,t.USELIGHTMAPASSHADOWMAP=!1,t.REFLECTIONMAP_3D=!1,t.REFLECTIONMAP_SPHERICAL=!1,t.REFLECTIONMAP_PLANAR=!1,t.REFLECTIONMAP_CUBIC=!1,t.USE_LOCAL_REFLECTIONMAP_CUBIC=!1,t.REFLECTIONMAP_PROJECTION=!1,t.REFLECTIONMAP_SKYBOX=!1,t.REFLECTIONMAP_EXPLICIT=!1,t.REFLECTIONMAP_EQUIRECTANGULAR=!1,t.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!1,t.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!1,t.INVERTCUBICMAP=!1,t.LOGARITHMICDEPTH=!1,t.REFRACTION=!1,t.REFRACTIONMAP_3D=!1,t.REFLECTIONOVERALPHA=!1,t.TWOSIDEDLIGHTING=!1,t.SHADOWFLOAT=!1,t.MORPHTARGETS=!1,t.MORPHTARGETS_NORMAL=!1,t.MORPHTARGETS_TANGENT=!1,t.MORPHTARGETS_UV=!1,t.NUM_MORPH_INFLUENCERS=0,t.NONUNIFORMSCALING=!1,t.PREMULTIPLYALPHA=!1,t.ALPHATEST_AFTERALLALPHACOMPUTATIONS=!1,t.ALPHABLEND=!0,t.PREPASS=!1,t.PREPASS_IRRADIANCE=!1,t.PREPASS_IRRADIANCE_INDEX=-1,t.PREPASS_ALBEDO=!1,t.PREPASS_ALBEDO_INDEX=-1,t.PREPASS_DEPTHNORMAL=!1,t.PREPASS_DEPTHNORMAL_INDEX=-1,t.PREPASS_POSITION=!1,t.PREPASS_POSITION_INDEX=-1,t.PREPASS_VELOCITY=!1,t.PREPASS_VELOCITY_INDEX=-1,t.PREPASS_REFLECTIVITY=!1,t.PREPASS_REFLECTIVITY_INDEX=-1,t.SCENE_MRT_COUNT=0,t.RGBDLIGHTMAP=!1,t.RGBDREFLECTION=!1,t.RGBDREFRACTION=!1,t.IMAGEPROCESSING=!1,t.VIGNETTE=!1,t.VIGNETTEBLENDMODEMULTIPLY=!1,t.VIGNETTEBLENDMODEOPAQUE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=!1,t.SAMPLER3DBGRMAP=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.MULTIVIEW=!1,t.IS_REFLECTION_LINEAR=!1,t.IS_REFRACTION_LINEAR=!1,t.EXPOSURE=!1,t.rebuild(),t}return Object(s.c)(t,e),t.prototype.setReflectionMode=function(e){for(var t=0,i=["REFLECTIONMAP_CUBIC","REFLECTIONMAP_EXPLICIT","REFLECTIONMAP_PLANAR","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_PROJECTION","REFLECTIONMAP_SKYBOX","REFLECTIONMAP_SPHERICAL","REFLECTIONMAP_EQUIRECTANGULAR","REFLECTIONMAP_EQUIRECTANGULAR_FIXED","REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED"];t<i.length;t++){var n=i[t];this[n]=n===e}},t}(Re.a),Ze=function(e){function t(i,n){var r=e.call(this,i,n)||this;return r._diffuseTexture=null,r._ambientTexture=null,r._opacityTexture=null,r._reflectionTexture=null,r._emissiveTexture=null,r._specularTexture=null,r._bumpTexture=null,r._lightmapTexture=null,r._refractionTexture=null,r.ambientColor=new F.a(0,0,0),r.diffuseColor=new F.a(1,1,1),r.specularColor=new F.a(1,1,1),r.emissiveColor=new F.a(0,0,0),r.specularPower=64,r._useAlphaFromDiffuseTexture=!1,r._useEmissiveAsIllumination=!1,r._linkEmissiveWithDiffuse=!1,r._useSpecularOverAlpha=!1,r._useReflectionOverAlpha=!1,r._disableLighting=!1,r._useObjectSpaceNormalMap=!1,r._useParallax=!1,r._useParallaxOcclusion=!1,r.parallaxScaleBias=.05,r._roughness=0,r.indexOfRefraction=.98,r.invertRefractionY=!0,r.alphaCutOff=.4,r._useLightmapAsShadowmap=!1,r._useReflectionFresnelFromSpecular=!1,r._useGlossinessFromSpecularMapAlpha=!1,r._maxSimultaneousLights=4,r._invertNormalMapX=!1,r._invertNormalMapY=!1,r._twoSidedLighting=!1,r.detailMap=new Ye.a(r._markAllSubMeshesAsTexturesDirty.bind(r)),r._renderTargets=new ve.a(16),r._worldViewProjectionMatrix=L.a.Zero(),r._globalAmbientColor=new F.a(0,0,0),r._rebuildInParallel=!1,r._attachImageProcessingConfiguration(null),r.prePassConfiguration=new Se.a,r.getRenderTargetTextures=function(){return r._renderTargets.reset(),t.ReflectionTextureEnabled&&r._reflectionTexture&&r._reflectionTexture.isRenderTarget&&r._renderTargets.push(r._reflectionTexture),t.RefractionTextureEnabled&&r._refractionTexture&&r._refractionTexture.isRenderTarget&&r._renderTargets.push(r._refractionTexture),r._renderTargets},r}return Object(s.c)(t,e),Object.defineProperty(t.prototype,"imageProcessingConfiguration",{get:function(){return this._imageProcessingConfiguration},set:function(e){this._attachImageProcessingConfiguration(e),this._markAllSubMeshesAsTexturesDirty()},enumerable:!1,configurable:!0}),t.prototype._attachImageProcessingConfiguration=function(e){var t=this;e!==this._imageProcessingConfiguration&&(this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),this._imageProcessingConfiguration=e||this.getScene().imageProcessingConfiguration,this._imageProcessingConfiguration&&(this._imageProcessingObserver=this._imageProcessingConfiguration.onUpdateParameters.add(function(){t._markAllSubMeshesAsImageProcessingDirty()})))},Object.defineProperty(t.prototype,"cameraColorCurvesEnabled",{get:function(){return this.imageProcessingConfiguration.colorCurvesEnabled},set:function(e){this.imageProcessingConfiguration.colorCurvesEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorGradingEnabled",{get:function(){return this.imageProcessingConfiguration.colorGradingEnabled},set:function(e){this.imageProcessingConfiguration.colorGradingEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraToneMappingEnabled",{get:function(){return this._imageProcessingConfiguration.toneMappingEnabled},set:function(e){this._imageProcessingConfiguration.toneMappingEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraExposure",{get:function(){return this._imageProcessingConfiguration.exposure},set:function(e){this._imageProcessingConfiguration.exposure=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraContrast",{get:function(){return this._imageProcessingConfiguration.contrast},set:function(e){this._imageProcessingConfiguration.contrast=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorGradingTexture",{get:function(){return this._imageProcessingConfiguration.colorGradingTexture},set:function(e){this._imageProcessingConfiguration.colorGradingTexture=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorCurves",{get:function(){return this._imageProcessingConfiguration.colorCurves},set:function(e){this._imageProcessingConfiguration.colorCurves=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRenderToMRT",{get:function(){return!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasRenderTargetTextures",{get:function(){return!!(t.ReflectionTextureEnabled&&this._reflectionTexture&&this._reflectionTexture.isRenderTarget)||!!(t.RefractionTextureEnabled&&this._refractionTexture&&this._refractionTexture.isRenderTarget)},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"StandardMaterial"},Object.defineProperty(t.prototype,"useLogarithmicDepth",{get:function(){return this._useLogarithmicDepth},set:function(e){this._useLogarithmicDepth=e&&this.getScene().getEngine().getCaps().fragmentDepthSupported,this._markAllSubMeshesAsMiscDirty()},enumerable:!1,configurable:!0}),t.prototype.needAlphaBlending=function(){return!this._disableAlphaBlending&&(this.alpha<1||null!=this._opacityTexture||this._shouldUseAlphaFromDiffuseTexture()||this._opacityFresnelParameters&&this._opacityFresnelParameters.isEnabled)},t.prototype.needAlphaTesting=function(){return!!this._forceAlphaTest||this._hasAlphaChannel()&&(null==this._transparencyMode||this._transparencyMode===ge.a.MATERIAL_ALPHATEST)},t.prototype._shouldUseAlphaFromDiffuseTexture=function(){return null!=this._diffuseTexture&&this._diffuseTexture.hasAlpha&&this._useAlphaFromDiffuseTexture&&this._transparencyMode!==ge.a.MATERIAL_OPAQUE},t.prototype._hasAlphaChannel=function(){return null!=this._diffuseTexture&&this._diffuseTexture.hasAlpha||null!=this._opacityTexture},t.prototype.getAlphaTestTexture=function(){return this._diffuseTexture},t.prototype.isReadyForSubMesh=function(e,i,n){if(void 0===n&&(n=!1),i.effect&&this.isFrozen&&i.effect._wasPreviouslyReady)return!0;i._materialDefines||(i._materialDefines=new Ke);var r=this.getScene(),o=i._materialDefines;if(this._isReadyForSubMesh(i))return!0;var s=r.getEngine();if(o._needNormals=Oe.a.PrepareDefinesForLights(r,e,o,!0,this._maxSimultaneousLights,this._disableLighting),Oe.a.PrepareDefinesForMultiview(r,o),Oe.a.PrepareDefinesForPrePass(r,o,this.canRenderToMRT),o._areTexturesDirty){if(o._needUVs=!1,o.MAINUV1=!1,o.MAINUV2=!1,r.texturesEnabled){if(this._diffuseTexture&&t.DiffuseTextureEnabled){if(!this._diffuseTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._diffuseTexture,o,"DIFFUSE")}else o.DIFFUSE=!1;if(this._ambientTexture&&t.AmbientTextureEnabled){if(!this._ambientTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._ambientTexture,o,"AMBIENT")}else o.AMBIENT=!1;if(this._opacityTexture&&t.OpacityTextureEnabled){if(!this._opacityTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._opacityTexture,o,"OPACITY"),o.OPACITYRGB=this._opacityTexture.getAlphaFromRGB}else o.OPACITY=!1;if(this._reflectionTexture&&t.ReflectionTextureEnabled){if(!this._reflectionTexture.isReadyOrNotBlocking())return!1;switch(o._needNormals=!0,o.REFLECTION=!0,o.ROUGHNESS=this._roughness>0,o.REFLECTIONOVERALPHA=this._useReflectionOverAlpha,o.INVERTCUBICMAP=this._reflectionTexture.coordinatesMode===le.a.INVCUBIC_MODE,o.REFLECTIONMAP_3D=this._reflectionTexture.isCube,o.RGBDREFLECTION=this._reflectionTexture.isRGBD,this._reflectionTexture.coordinatesMode){case le.a.EXPLICIT_MODE:o.setReflectionMode("REFLECTIONMAP_EXPLICIT");break;case le.a.PLANAR_MODE:o.setReflectionMode("REFLECTIONMAP_PLANAR");break;case le.a.PROJECTION_MODE:o.setReflectionMode("REFLECTIONMAP_PROJECTION");break;case le.a.SKYBOX_MODE:o.setReflectionMode("REFLECTIONMAP_SKYBOX");break;case le.a.SPHERICAL_MODE:o.setReflectionMode("REFLECTIONMAP_SPHERICAL");break;case le.a.EQUIRECTANGULAR_MODE:o.setReflectionMode("REFLECTIONMAP_EQUIRECTANGULAR");break;case le.a.FIXED_EQUIRECTANGULAR_MODE:o.setReflectionMode("REFLECTIONMAP_EQUIRECTANGULAR_FIXED");break;case le.a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE:o.setReflectionMode("REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED");break;case le.a.CUBIC_MODE:case le.a.INVCUBIC_MODE:default:o.setReflectionMode("REFLECTIONMAP_CUBIC")}o.USE_LOCAL_REFLECTIONMAP_CUBIC=!!this._reflectionTexture.boundingBoxSize}else o.REFLECTION=!1;if(this._emissiveTexture&&t.EmissiveTextureEnabled){if(!this._emissiveTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._emissiveTexture,o,"EMISSIVE")}else o.EMISSIVE=!1;if(this._lightmapTexture&&t.LightmapTextureEnabled){if(!this._lightmapTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._lightmapTexture,o,"LIGHTMAP"),o.USELIGHTMAPASSHADOWMAP=this._useLightmapAsShadowmap,o.RGBDLIGHTMAP=this._lightmapTexture.isRGBD}else o.LIGHTMAP=!1;if(this._specularTexture&&t.SpecularTextureEnabled){if(!this._specularTexture.isReadyOrNotBlocking())return!1;Oe.a.PrepareDefinesForMergedUV(this._specularTexture,o,"SPECULAR"),o.GLOSSINESS=this._useGlossinessFromSpecularMapAlpha}else o.SPECULAR=!1;if(r.getEngine().getCaps().standardDerivatives&&this._bumpTexture&&t.BumpTextureEnabled){if(!this._bumpTexture.isReady())return!1;Oe.a.PrepareDefinesForMergedUV(this._bumpTexture,o,"BUMP"),o.PARALLAX=this._useParallax,o.PARALLAXOCCLUSION=this._useParallaxOcclusion,o.OBJECTSPACE_NORMALMAP=this._useObjectSpaceNormalMap}else o.BUMP=!1;if(this._refractionTexture&&t.RefractionTextureEnabled){if(!this._refractionTexture.isReadyOrNotBlocking())return!1;o._needUVs=!0,o.REFRACTION=!0,o.REFRACTIONMAP_3D=this._refractionTexture.isCube,o.RGBDREFRACTION=this._refractionTexture.isRGBD}else o.REFRACTION=!1;o.TWOSIDEDLIGHTING=!this._backFaceCulling&&this._twoSidedLighting}else o.DIFFUSE=!1,o.AMBIENT=!1,o.OPACITY=!1,o.REFLECTION=!1,o.EMISSIVE=!1,o.LIGHTMAP=!1,o.BUMP=!1,o.REFRACTION=!1;o.ALPHAFROMDIFFUSE=this._shouldUseAlphaFromDiffuseTexture(),o.EMISSIVEASILLUMINATION=this._useEmissiveAsIllumination,o.LINKEMISSIVEWITHDIFFUSE=this._linkEmissiveWithDiffuse,o.SPECULAROVERALPHA=this._useSpecularOverAlpha,o.PREMULTIPLYALPHA=7===this.alphaMode||8===this.alphaMode,o.ALPHATEST_AFTERALLALPHACOMPUTATIONS=null!==this.transparencyMode,o.ALPHABLEND=null===this.transparencyMode||this.needAlphaBlendingForMesh(e)}if(!this.detailMap.isReadyForSubMesh(o,r))return!1;if(o._areImageProcessingDirty&&this._imageProcessingConfiguration){if(!this._imageProcessingConfiguration.isReady())return!1;this._imageProcessingConfiguration.prepareDefines(o),o.IS_REFLECTION_LINEAR=null!=this.reflectionTexture&&!this.reflectionTexture.gammaSpace,o.IS_REFRACTION_LINEAR=null!=this.refractionTexture&&!this.refractionTexture.gammaSpace}if(o._areFresnelDirty&&(t.FresnelEnabled?(this._diffuseFresnelParameters||this._opacityFresnelParameters||this._emissiveFresnelParameters||this._refractionFresnelParameters||this._reflectionFresnelParameters)&&(o.DIFFUSEFRESNEL=this._diffuseFresnelParameters&&this._diffuseFresnelParameters.isEnabled,o.OPACITYFRESNEL=this._opacityFresnelParameters&&this._opacityFresnelParameters.isEnabled,o.REFLECTIONFRESNEL=this._reflectionFresnelParameters&&this._reflectionFresnelParameters.isEnabled,o.REFLECTIONFRESNELFROMSPECULAR=this._useReflectionFresnelFromSpecular,o.REFRACTIONFRESNEL=this._refractionFresnelParameters&&this._refractionFresnelParameters.isEnabled,o.EMISSIVEFRESNEL=this._emissiveFresnelParameters&&this._emissiveFresnelParameters.isEnabled,o._needNormals=!0,o.FRESNEL=!0):o.FRESNEL=!1),Oe.a.PrepareDefinesForMisc(e,r,this._useLogarithmicDepth,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e)||this._forceAlphaTest,o),Oe.a.PrepareDefinesForAttributes(e,o,!0,!0,!0),Oe.a.PrepareDefinesForFrameBoundValues(r,s,o,n,null,i.getRenderingMesh().hasThinInstances),this.detailMap.prepareDefines(o,r),o.isDirty){var a=o._areLightsDisposed;o.markAsProcessed();var c=new ze.a;o.REFLECTION&&c.addFallback(0,"REFLECTION"),o.SPECULAR&&c.addFallback(0,"SPECULAR"),o.BUMP&&c.addFallback(0,"BUMP"),o.PARALLAX&&c.addFallback(1,"PARALLAX"),o.PARALLAXOCCLUSION&&c.addFallback(0,"PARALLAXOCCLUSION"),o.SPECULAROVERALPHA&&c.addFallback(0,"SPECULAROVERALPHA"),o.FOG&&c.addFallback(1,"FOG"),o.POINTSIZE&&c.addFallback(0,"POINTSIZE"),o.LOGARITHMICDEPTH&&c.addFallback(0,"LOGARITHMICDEPTH"),Oe.a.HandleFallbacksForShadows(o,c,this._maxSimultaneousLights),o.SPECULARTERM&&c.addFallback(0,"SPECULARTERM"),o.DIFFUSEFRESNEL&&c.addFallback(1,"DIFFUSEFRESNEL"),o.OPACITYFRESNEL&&c.addFallback(2,"OPACITYFRESNEL"),o.REFLECTIONFRESNEL&&c.addFallback(3,"REFLECTIONFRESNEL"),o.EMISSIVEFRESNEL&&c.addFallback(4,"EMISSIVEFRESNEL"),o.FRESNEL&&c.addFallback(4,"FRESNEL"),o.MULTIVIEW&&c.addFallback(0,"MULTIVIEW");var l=[Ee.b.PositionKind];o.NORMAL&&l.push(Ee.b.NormalKind),o.UV1&&l.push(Ee.b.UVKind),o.UV2&&l.push(Ee.b.UV2Kind),o.VERTEXCOLOR&&l.push(Ee.b.ColorKind),Oe.a.PrepareAttributesForBones(l,e,o,c),Oe.a.PrepareAttributesForInstances(l,o),Oe.a.PrepareAttributesForMorphTargets(l,e,o);var _="default",u=["world","view","viewProjection","vEyePosition","vLightsType","vAmbientColor","vDiffuseColor","vSpecularColor","vEmissiveColor","visibility","vFogInfos","vFogColor","pointSize","vDiffuseInfos","vAmbientInfos","vOpacityInfos","vReflectionInfos","vEmissiveInfos","vSpecularInfos","vBumpInfos","vLightmapInfos","vRefractionInfos","mBones","vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","diffuseMatrix","ambientMatrix","opacityMatrix","reflectionMatrix","emissiveMatrix","specularMatrix","bumpMatrix","normalMatrix","lightmapMatrix","refractionMatrix","diffuseLeftColor","diffuseRightColor","opacityParts","reflectionLeftColor","reflectionRightColor","emissiveLeftColor","emissiveRightColor","refractionLeftColor","refractionRightColor","vReflectionPosition","vReflectionSize","logarithmicDepthConstant","vTangentSpaceParams","alphaCutOff","boneTextureWidth"],f=["diffuseSampler","ambientSampler","opacitySampler","reflectionCubeSampler","reflection2DSampler","emissiveSampler","specularSampler","bumpSampler","lightmapSampler","refractionCubeSampler","refraction2DSampler","boneSampler"],d=["Material","Scene"];Ye.a.AddUniforms(u),Ye.a.AddSamplers(f),Se.a.AddUniforms(u),Se.a.AddSamplers(u),Te.a&&(Te.a.PrepareUniforms(u,o),Te.a.PrepareSamplers(f,o)),Oe.a.PrepareUniformsAndSamplersList({uniformsNames:u,uniformBuffersNames:d,samplers:f,defines:o,maxSimultaneousLights:this._maxSimultaneousLights});var h={};this.customShaderNameResolve&&(_=this.customShaderNameResolve(_,u,d,f,o,l,h));var p=o.toString(),b=i.effect,m=r.getEngine().createEffect(_,{attributes:l,uniformsNames:u,uniformBuffersNames:d,samplers:f,defines:p,fallbacks:c,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights,maxSimultaneousMorphTargets:o.NUM_MORPH_INFLUENCERS},processFinalCode:h.processFinalCode,multiTarget:o.PREPASS},s);if(m)if(this._onEffectCreatedObservable&&(Qe.effect=m,Qe.subMesh=i,this._onEffectCreatedObservable.notifyObservers(Qe)),this.allowShaderHotSwapping&&b&&!m.isReady()){if(m=b,this._rebuildInParallel=!0,o.markAsUnprocessed(),a)return o._areLightsDisposed=!0,!1}else this._rebuildInParallel=!1,r.resetCachedMaterial(),i.setEffect(m,o),this.buildUniformLayout()}return!(!i.effect||!i.effect.isReady())&&(o._renderId=r.getRenderId(),i.effect._wasPreviouslyReady=!0,!0)},t.prototype.buildUniformLayout=function(){var e=this._uniformBuffer;e.addUniform("diffuseLeftColor",4),e.addUniform("diffuseRightColor",4),e.addUniform("opacityParts",4),e.addUniform("reflectionLeftColor",4),e.addUniform("reflectionRightColor",4),e.addUniform("refractionLeftColor",4),e.addUniform("refractionRightColor",4),e.addUniform("emissiveLeftColor",4),e.addUniform("emissiveRightColor",4),e.addUniform("vDiffuseInfos",2),e.addUniform("vAmbientInfos",2),e.addUniform("vOpacityInfos",2),e.addUniform("vReflectionInfos",2),e.addUniform("vReflectionPosition",3),e.addUniform("vReflectionSize",3),e.addUniform("vEmissiveInfos",2),e.addUniform("vLightmapInfos",2),e.addUniform("vSpecularInfos",2),e.addUniform("vBumpInfos",3),e.addUniform("diffuseMatrix",16),e.addUniform("ambientMatrix",16),e.addUniform("opacityMatrix",16),e.addUniform("reflectionMatrix",16),e.addUniform("emissiveMatrix",16),e.addUniform("lightmapMatrix",16),e.addUniform("specularMatrix",16),e.addUniform("bumpMatrix",16),e.addUniform("vTangentSpaceParams",2),e.addUniform("pointSize",1),e.addUniform("refractionMatrix",16),e.addUniform("vRefractionInfos",4),e.addUniform("vSpecularColor",4),e.addUniform("vEmissiveColor",3),e.addUniform("visibility",1),e.addUniform("vDiffuseColor",4),Ye.a.PrepareUniformBuffer(e),e.create()},t.prototype.unbind=function(){if(this._activeEffect){var t=!1;this._reflectionTexture&&this._reflectionTexture.isRenderTarget&&(this._activeEffect.setTexture("reflection2DSampler",null),t=!0),this._refractionTexture&&this._refractionTexture.isRenderTarget&&(this._activeEffect.setTexture("refraction2DSampler",null),t=!0),t&&this._markAllSubMeshesAsTexturesDirty()}e.prototype.unbind.call(this)},t.prototype.bindForSubMesh=function(e,i,n){var r=this.getScene(),o=n._materialDefines;if(o){var s=n.effect;if(s){this._activeEffect=s,o.INSTANCES&&!o.THIN_INSTANCES||this.bindOnlyWorldMatrix(e),this.prePassConfiguration.bindForSubMesh(this._activeEffect,r,i,e,this.isFrozen),o.OBJECTSPACE_NORMALMAP&&(e.toNormalMatrix(this._normalMatrix),this.bindOnlyNormalMatrix(this._normalMatrix));var a=this._mustRebind(r,s,i.visibility);Oe.a.BindBonesParameters(i,s);var c=this._uniformBuffer;if(a){if(c.bindToEffect(s,"Material"),this.bindViewProjection(s),!c.useUbo||!this.isFrozen||!c.isSync){if(t.FresnelEnabled&&o.FRESNEL&&(this.diffuseFresnelParameters&&this.diffuseFresnelParameters.isEnabled&&(c.updateColor4("diffuseLeftColor",this.diffuseFresnelParameters.leftColor,this.diffuseFresnelParameters.power),c.updateColor4("diffuseRightColor",this.diffuseFresnelParameters.rightColor,this.diffuseFresnelParameters.bias)),this.opacityFresnelParameters&&this.opacityFresnelParameters.isEnabled&&c.updateColor4("opacityParts",new F.a(this.opacityFresnelParameters.leftColor.toLuminance(),this.opacityFresnelParameters.rightColor.toLuminance(),this.opacityFresnelParameters.bias),this.opacityFresnelParameters.power),this.reflectionFresnelParameters&&this.reflectionFresnelParameters.isEnabled&&(c.updateColor4("reflectionLeftColor",this.reflectionFresnelParameters.leftColor,this.reflectionFresnelParameters.power),c.updateColor4("reflectionRightColor",this.reflectionFresnelParameters.rightColor,this.reflectionFresnelParameters.bias)),this.refractionFresnelParameters&&this.refractionFresnelParameters.isEnabled&&(c.updateColor4("refractionLeftColor",this.refractionFresnelParameters.leftColor,this.refractionFresnelParameters.power),c.updateColor4("refractionRightColor",this.refractionFresnelParameters.rightColor,this.refractionFresnelParameters.bias)),this.emissiveFresnelParameters&&this.emissiveFresnelParameters.isEnabled&&(c.updateColor4("emissiveLeftColor",this.emissiveFresnelParameters.leftColor,this.emissiveFresnelParameters.power),c.updateColor4("emissiveRightColor",this.emissiveFresnelParameters.rightColor,this.emissiveFresnelParameters.bias))),r.texturesEnabled){if(this._diffuseTexture&&t.DiffuseTextureEnabled&&(c.updateFloat2("vDiffuseInfos",this._diffuseTexture.coordinatesIndex,this._diffuseTexture.level),Oe.a.BindTextureMatrix(this._diffuseTexture,c,"diffuse")),this._ambientTexture&&t.AmbientTextureEnabled&&(c.updateFloat2("vAmbientInfos",this._ambientTexture.coordinatesIndex,this._ambientTexture.level),Oe.a.BindTextureMatrix(this._ambientTexture,c,"ambient")),this._opacityTexture&&t.OpacityTextureEnabled&&(c.updateFloat2("vOpacityInfos",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),Oe.a.BindTextureMatrix(this._opacityTexture,c,"opacity")),this._hasAlphaChannel()&&s.setFloat("alphaCutOff",this.alphaCutOff),this._reflectionTexture&&t.ReflectionTextureEnabled&&(c.updateFloat2("vReflectionInfos",this._reflectionTexture.level,this.roughness),c.updateMatrix("reflectionMatrix",this._reflectionTexture.getReflectionTextureMatrix()),this._reflectionTexture.boundingBoxSize)){var l=this._reflectionTexture;c.updateVector3("vReflectionPosition",l.boundingBoxPosition),c.updateVector3("vReflectionSize",l.boundingBoxSize)}if(this._emissiveTexture&&t.EmissiveTextureEnabled&&(c.updateFloat2("vEmissiveInfos",this._emissiveTexture.coordinatesIndex,this._emissiveTexture.level),Oe.a.BindTextureMatrix(this._emissiveTexture,c,"emissive")),this._lightmapTexture&&t.LightmapTextureEnabled&&(c.updateFloat2("vLightmapInfos",this._lightmapTexture.coordinatesIndex,this._lightmapTexture.level),Oe.a.BindTextureMatrix(this._lightmapTexture,c,"lightmap")),this._specularTexture&&t.SpecularTextureEnabled&&(c.updateFloat2("vSpecularInfos",this._specularTexture.coordinatesIndex,this._specularTexture.level),Oe.a.BindTextureMatrix(this._specularTexture,c,"specular")),this._bumpTexture&&r.getEngine().getCaps().standardDerivatives&&t.BumpTextureEnabled&&(c.updateFloat3("vBumpInfos",this._bumpTexture.coordinatesIndex,1/this._bumpTexture.level,this.parallaxScaleBias),Oe.a.BindTextureMatrix(this._bumpTexture,c,"bump"),r._mirroredCameraPosition?c.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?1:-1,this._invertNormalMapY?1:-1):c.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?-1:1,this._invertNormalMapY?-1:1)),this._refractionTexture&&t.RefractionTextureEnabled){var _=1;this._refractionTexture.isCube||(c.updateMatrix("refractionMatrix",this._refractionTexture.getReflectionTextureMatrix()),this._refractionTexture.depth&&(_=this._refractionTexture.depth)),c.updateFloat4("vRefractionInfos",this._refractionTexture.level,this.indexOfRefraction,_,this.invertRefractionY?-1:1)}}this.pointsCloud&&c.updateFloat("pointSize",this.pointSize),o.SPECULARTERM&&c.updateColor4("vSpecularColor",this.specularColor,this.specularPower),c.updateColor3("vEmissiveColor",t.EmissiveTextureEnabled?this.emissiveColor:F.a.BlackReadOnly),c.updateColor4("vDiffuseColor",this.diffuseColor,this.alpha)}if(c.updateFloat("visibility",i.visibility),r.texturesEnabled&&(this._diffuseTexture&&t.DiffuseTextureEnabled&&s.setTexture("diffuseSampler",this._diffuseTexture),this._ambientTexture&&t.AmbientTextureEnabled&&s.setTexture("ambientSampler",this._ambientTexture),this._opacityTexture&&t.OpacityTextureEnabled&&s.setTexture("opacitySampler",this._opacityTexture),this._reflectionTexture&&t.ReflectionTextureEnabled&&(this._reflectionTexture.isCube?s.setTexture("reflectionCubeSampler",this._reflectionTexture):s.setTexture("reflection2DSampler",this._reflectionTexture)),this._emissiveTexture&&t.EmissiveTextureEnabled&&s.setTexture("emissiveSampler",this._emissiveTexture),this._lightmapTexture&&t.LightmapTextureEnabled&&s.setTexture("lightmapSampler",this._lightmapTexture),this._specularTexture&&t.SpecularTextureEnabled&&s.setTexture("specularSampler",this._specularTexture),this._bumpTexture&&r.getEngine().getCaps().standardDerivatives&&t.BumpTextureEnabled&&s.setTexture("bumpSampler",this._bumpTexture),this._refractionTexture&&t.RefractionTextureEnabled)){_=1;this._refractionTexture.isCube?s.setTexture("refractionCubeSampler",this._refractionTexture):s.setTexture("refraction2DSampler",this._refractionTexture)}this.detailMap.bindForSubMesh(c,r,this.isFrozen),Oe.a.BindClipPlane(s,r),r.ambientColor.multiplyToRef(this.ambientColor,this._globalAmbientColor),Oe.a.BindEyePosition(s,r),s.setColor3("vAmbientColor",this._globalAmbientColor)}!a&&this.isFrozen||(r.lightsEnabled&&!this._disableLighting&&Oe.a.BindLights(r,i,s,o,this._maxSimultaneousLights,this._rebuildInParallel),(r.fogEnabled&&i.applyFog&&r.fogMode!==Ce.a.FOGMODE_NONE||this._reflectionTexture||this._refractionTexture)&&this.bindView(s),Oe.a.BindFogParameters(r,i,s),o.NUM_MORPH_INFLUENCERS&&Oe.a.BindMorphTargetParameters(i,s),this.useLogarithmicDepth&&Oe.a.BindLogDepth(o,s,r),this._imageProcessingConfiguration&&!this._imageProcessingConfiguration.applyByPostProcess&&this._imageProcessingConfiguration.bind(this._activeEffect)),c.update(),this._afterBind(i,this._activeEffect)}}},t.prototype.getAnimatables=function(){var e=[];return this._diffuseTexture&&this._diffuseTexture.animations&&this._diffuseTexture.animations.length>0&&e.push(this._diffuseTexture),this._ambientTexture&&this._ambientTexture.animations&&this._ambientTexture.animations.length>0&&e.push(this._ambientTexture),this._opacityTexture&&this._opacityTexture.animations&&this._opacityTexture.animations.length>0&&e.push(this._opacityTexture),this._reflectionTexture&&this._reflectionTexture.animations&&this._reflectionTexture.animations.length>0&&e.push(this._reflectionTexture),this._emissiveTexture&&this._emissiveTexture.animations&&this._emissiveTexture.animations.length>0&&e.push(this._emissiveTexture),this._specularTexture&&this._specularTexture.animations&&this._specularTexture.animations.length>0&&e.push(this._specularTexture),this._bumpTexture&&this._bumpTexture.animations&&this._bumpTexture.animations.length>0&&e.push(this._bumpTexture),this._lightmapTexture&&this._lightmapTexture.animations&&this._lightmapTexture.animations.length>0&&e.push(this._lightmapTexture),this._refractionTexture&&this._refractionTexture.animations&&this._refractionTexture.animations.length>0&&e.push(this._refractionTexture),this.detailMap.getAnimatables(e),e},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._diffuseTexture&&t.push(this._diffuseTexture),this._ambientTexture&&t.push(this._ambientTexture),this._opacityTexture&&t.push(this._opacityTexture),this._reflectionTexture&&t.push(this._reflectionTexture),this._emissiveTexture&&t.push(this._emissiveTexture),this._specularTexture&&t.push(this._specularTexture),this._bumpTexture&&t.push(this._bumpTexture),this._lightmapTexture&&t.push(this._lightmapTexture),this._refractionTexture&&t.push(this._refractionTexture),this.detailMap.getActiveTextures(t),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._diffuseTexture===t||(this._ambientTexture===t||(this._opacityTexture===t||(this._reflectionTexture===t||(this._emissiveTexture===t||(this._specularTexture===t||(this._bumpTexture===t||(this._lightmapTexture===t||(this._refractionTexture===t||this.detailMap.hasTexture(t))))))))))},t.prototype.dispose=function(t,i){var n,r,o,s,a,c,l,_,u;i&&(null===(n=this._diffuseTexture)||void 0===n||n.dispose(),null===(r=this._ambientTexture)||void 0===r||r.dispose(),null===(o=this._opacityTexture)||void 0===o||o.dispose(),null===(s=this._reflectionTexture)||void 0===s||s.dispose(),null===(a=this._emissiveTexture)||void 0===a||a.dispose(),null===(c=this._specularTexture)||void 0===c||c.dispose(),null===(l=this._bumpTexture)||void 0===l||l.dispose(),null===(_=this._lightmapTexture)||void 0===_||_.dispose(),null===(u=this._refractionTexture)||void 0===u||u.dispose()),this.detailMap.dispose(i),this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),e.prototype.dispose.call(this,t,i)},t.prototype.clone=function(e){var i=this,n=B.a.Clone(function(){return new t(e,i.getScene())},this);return n.name=e,n.id=e,n},t.prototype.serialize=function(){return B.a.Serialize(this)},t.Parse=function(e,i,n){return B.a.Parse(function(){return new t(e.name,i)},e,i,n)},Object.defineProperty(t,"DiffuseTextureEnabled",{get:function(){return Ie.a.DiffuseTextureEnabled},set:function(e){Ie.a.DiffuseTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DetailTextureEnabled",{get:function(){return Ie.a.DetailTextureEnabled},set:function(e){Ie.a.DetailTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"AmbientTextureEnabled",{get:function(){return Ie.a.AmbientTextureEnabled},set:function(e){Ie.a.AmbientTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"OpacityTextureEnabled",{get:function(){return Ie.a.OpacityTextureEnabled},set:function(e){Ie.a.OpacityTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ReflectionTextureEnabled",{get:function(){return Ie.a.ReflectionTextureEnabled},set:function(e){Ie.a.ReflectionTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"EmissiveTextureEnabled",{get:function(){return Ie.a.EmissiveTextureEnabled},set:function(e){Ie.a.EmissiveTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"SpecularTextureEnabled",{get:function(){return Ie.a.SpecularTextureEnabled},set:function(e){Ie.a.SpecularTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BumpTextureEnabled",{get:function(){return Ie.a.BumpTextureEnabled},set:function(e){Ie.a.BumpTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LightmapTextureEnabled",{get:function(){return Ie.a.LightmapTextureEnabled},set:function(e){Ie.a.LightmapTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"RefractionTextureEnabled",{get:function(){return Ie.a.RefractionTextureEnabled},set:function(e){Ie.a.RefractionTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ColorGradingTextureEnabled",{get:function(){return Ie.a.ColorGradingTextureEnabled},set:function(e){Ie.a.ColorGradingTextureEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"FresnelEnabled",{get:function(){return Ie.a.FresnelEnabled},set:function(e){Ie.a.FresnelEnabled=e},enumerable:!1,configurable:!0}),Object(s.b)([Object(B.l)("diffuseTexture")],t.prototype,"_diffuseTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"diffuseTexture",void 0),Object(s.b)([Object(B.l)("ambientTexture")],t.prototype,"_ambientTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"ambientTexture",void 0),Object(s.b)([Object(B.l)("opacityTexture")],t.prototype,"_opacityTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"opacityTexture",void 0),Object(s.b)([Object(B.l)("reflectionTexture")],t.prototype,"_reflectionTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"reflectionTexture",void 0),Object(s.b)([Object(B.l)("emissiveTexture")],t.prototype,"_emissiveTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"emissiveTexture",void 0),Object(s.b)([Object(B.l)("specularTexture")],t.prototype,"_specularTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"specularTexture",void 0),Object(s.b)([Object(B.l)("bumpTexture")],t.prototype,"_bumpTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"bumpTexture",void 0),Object(s.b)([Object(B.l)("lightmapTexture")],t.prototype,"_lightmapTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"lightmapTexture",void 0),Object(s.b)([Object(B.l)("refractionTexture")],t.prototype,"_refractionTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"refractionTexture",void 0),Object(s.b)([Object(B.d)("ambient")],t.prototype,"ambientColor",void 0),Object(s.b)([Object(B.d)("diffuse")],t.prototype,"diffuseColor",void 0),Object(s.b)([Object(B.d)("specular")],t.prototype,"specularColor",void 0),Object(s.b)([Object(B.d)("emissive")],t.prototype,"emissiveColor",void 0),Object(s.b)([Object(B.c)()],t.prototype,"specularPower",void 0),Object(s.b)([Object(B.c)("useAlphaFromDiffuseTexture")],t.prototype,"_useAlphaFromDiffuseTexture",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"useAlphaFromDiffuseTexture",void 0),Object(s.b)([Object(B.c)("useEmissiveAsIllumination")],t.prototype,"_useEmissiveAsIllumination",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useEmissiveAsIllumination",void 0),Object(s.b)([Object(B.c)("linkEmissiveWithDiffuse")],t.prototype,"_linkEmissiveWithDiffuse",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"linkEmissiveWithDiffuse",void 0),Object(s.b)([Object(B.c)("useSpecularOverAlpha")],t.prototype,"_useSpecularOverAlpha",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useSpecularOverAlpha",void 0),Object(s.b)([Object(B.c)("useReflectionOverAlpha")],t.prototype,"_useReflectionOverAlpha",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useReflectionOverAlpha",void 0),Object(s.b)([Object(B.c)("disableLighting")],t.prototype,"_disableLighting",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsLightsDirty")],t.prototype,"disableLighting",void 0),Object(s.b)([Object(B.c)("useObjectSpaceNormalMap")],t.prototype,"_useObjectSpaceNormalMap",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useObjectSpaceNormalMap",void 0),Object(s.b)([Object(B.c)("useParallax")],t.prototype,"_useParallax",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useParallax",void 0),Object(s.b)([Object(B.c)("useParallaxOcclusion")],t.prototype,"_useParallaxOcclusion",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useParallaxOcclusion",void 0),Object(s.b)([Object(B.c)()],t.prototype,"parallaxScaleBias",void 0),Object(s.b)([Object(B.c)("roughness")],t.prototype,"_roughness",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"roughness",void 0),Object(s.b)([Object(B.c)()],t.prototype,"indexOfRefraction",void 0),Object(s.b)([Object(B.c)()],t.prototype,"invertRefractionY",void 0),Object(s.b)([Object(B.c)()],t.prototype,"alphaCutOff",void 0),Object(s.b)([Object(B.c)("useLightmapAsShadowmap")],t.prototype,"_useLightmapAsShadowmap",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useLightmapAsShadowmap",void 0),Object(s.b)([Object(B.g)("diffuseFresnelParameters")],t.prototype,"_diffuseFresnelParameters",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelDirty")],t.prototype,"diffuseFresnelParameters",void 0),Object(s.b)([Object(B.g)("opacityFresnelParameters")],t.prototype,"_opacityFresnelParameters",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelAndMiscDirty")],t.prototype,"opacityFresnelParameters",void 0),Object(s.b)([Object(B.g)("reflectionFresnelParameters")],t.prototype,"_reflectionFresnelParameters",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelDirty")],t.prototype,"reflectionFresnelParameters",void 0),Object(s.b)([Object(B.g)("refractionFresnelParameters")],t.prototype,"_refractionFresnelParameters",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelDirty")],t.prototype,"refractionFresnelParameters",void 0),Object(s.b)([Object(B.g)("emissiveFresnelParameters")],t.prototype,"_emissiveFresnelParameters",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelDirty")],t.prototype,"emissiveFresnelParameters",void 0),Object(s.b)([Object(B.c)("useReflectionFresnelFromSpecular")],t.prototype,"_useReflectionFresnelFromSpecular",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsFresnelDirty")],t.prototype,"useReflectionFresnelFromSpecular",void 0),Object(s.b)([Object(B.c)("useGlossinessFromSpecularMapAlpha")],t.prototype,"_useGlossinessFromSpecularMapAlpha",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useGlossinessFromSpecularMapAlpha",void 0),Object(s.b)([Object(B.c)("maxSimultaneousLights")],t.prototype,"_maxSimultaneousLights",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsLightsDirty")],t.prototype,"maxSimultaneousLights",void 0),Object(s.b)([Object(B.c)("invertNormalMapX")],t.prototype,"_invertNormalMapX",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"invertNormalMapX",void 0),Object(s.b)([Object(B.c)("invertNormalMapY")],t.prototype,"_invertNormalMapY",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"invertNormalMapY",void 0),Object(s.b)([Object(B.c)("twoSidedLighting")],t.prototype,"_twoSidedLighting",void 0),Object(s.b)([Object(B.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"twoSidedLighting",void 0),Object(s.b)([Object(B.c)()],t.prototype,"useLogarithmicDepth",null),t}(Me.a);te.a.RegisteredTypes["BABYLON.StandardMaterial"]=Ze,Ce.a.DefaultMaterialFactory=function(e){return new Ze("default material",e)};var Je=i(879),qe=i(694),$e=i(816),et=i(804),tt=i(735),it=i(693);ne.a.AddNodeConstructor("Light_Type_3",function(e,t){return function(){return new nt(e,L.e.Zero(),t)}});var nt=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r.groundColor=new F.a(0,0,0),r.direction=i||L.e.Up(),r}return Object(s.c)(t,e),t.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightGround",3),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},t.prototype.getClassName=function(){return"HemisphericLight"},t.prototype.setDirectionToTarget=function(e){return this.direction=L.e.Normalize(e.subtract(L.e.Zero())),this.direction},t.prototype.getShadowGenerator=function(){return null},t.prototype.transferToEffect=function(e,t){var i=L.e.Normalize(this.direction);return this._uniformBuffer.updateFloat4("vLightData",i.x,i.y,i.z,0,t),this._uniformBuffer.updateColor3("vLightGround",this.groundColor.scale(this.intensity),t),this},t.prototype.transferToNodeMaterialEffect=function(e,t){var i=L.e.Normalize(this.direction);return e.setFloat3(t,i.x,i.y,i.z),this},t.prototype.computeWorldMatrix=function(){return this._worldMatrix||(this._worldMatrix=L.a.Identity()),this._worldMatrix},t.prototype.getTypeID=function(){return it.a.LIGHTTYPEID_HEMISPHERICLIGHT},t.prototype.prepareLightSpecificDefines=function(e,t){e["HEMILIGHT"+t]=!0},Object(s.b)([Object(B.d)()],t.prototype,"groundColor",void 0),Object(s.b)([Object(B.n)()],t.prototype,"direction",void 0),t}(it.a),rt=i(801),ot=i(868);ne.a.AddNodeConstructor("Light_Type_0",function(e,t){return function(){return new st(e,L.e.Zero(),t)}});var st=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._shadowAngle=Math.PI/2,r.position=i,r}return Object(s.c)(t,e),Object.defineProperty(t.prototype,"shadowAngle",{get:function(){return this._shadowAngle},set:function(e){this._shadowAngle=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){var t=this.needCube();this._direction=e,this.needCube()!==t&&this._shadowGenerator&&this._shadowGenerator.recreateShadowMap()},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"PointLight"},t.prototype.getTypeID=function(){return it.a.LIGHTTYPEID_POINTLIGHT},t.prototype.needCube=function(){return!this.direction},t.prototype.getShadowDirection=function(t){if(this.direction)return e.prototype.getShadowDirection.call(this,t);switch(t){case 0:return new L.e(1,0,0);case 1:return new L.e(-1,0,0);case 2:return new L.e(0,-1,0);case 3:return new L.e(0,1,0);case 4:return new L.e(0,0,1);case 5:return new L.e(0,0,-1)}return L.e.Zero()},t.prototype._setDefaultShadowProjectionMatrix=function(e,t,i){var n=this.getScene().activeCamera;n&&L.a.PerspectiveFovLHToRef(this.shadowAngle,1,this.getDepthMinZ(n),this.getDepthMaxZ(n),e)},t.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightFalloff",4),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},t.prototype.transferToEffect=function(e,t){return this.computeTransformedInformation()?this._uniformBuffer.updateFloat4("vLightData",this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z,0,t):this._uniformBuffer.updateFloat4("vLightData",this.position.x,this.position.y,this.position.z,0,t),this._uniformBuffer.updateFloat4("vLightFalloff",this.range,this._inverseSquaredRange,0,0,t),this},t.prototype.transferToNodeMaterialEffect=function(e,t){return this.computeTransformedInformation()?e.setFloat3(t,this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z):e.setFloat3(t,this.position.x,this.position.y,this.position.z),this},t.prototype.prepareLightSpecificDefines=function(e,t){e["POINTLIGHT"+t]=!0},Object(s.b)([Object(B.c)()],t.prototype,"shadowAngle",null),t}(ot.a);ne.a.AddNodeConstructor("Light_Type_2",function(e,t){return function(){return new ct(e,L.e.Zero(),L.e.Zero(),0,0,t)}});var at,ct=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,s)||this;return a._innerAngle=0,a._projectionTextureMatrix=L.a.Zero(),a._projectionTextureLightNear=1e-6,a._projectionTextureLightFar=1e3,a._projectionTextureUpDirection=L.e.Up(),a._projectionTextureViewLightDirty=!0,a._projectionTextureProjectionLightDirty=!0,a._projectionTextureDirty=!0,a._projectionTextureViewTargetVector=L.e.Zero(),a._projectionTextureViewLightMatrix=L.a.Zero(),a._projectionTextureProjectionLightMatrix=L.a.Zero(),a._projectionTextureScalingMatrix=L.a.FromValues(.5,0,0,0,0,.5,0,0,0,0,.5,0,.5,.5,.5,1),a.position=i,a.direction=n,a.angle=r,a.exponent=o,a}return Object(s.c)(t,e),Object.defineProperty(t.prototype,"angle",{get:function(){return this._angle},set:function(e){this._angle=e,this._cosHalfAngle=Math.cos(.5*e),this._projectionTextureProjectionLightDirty=!0,this.forceProjectionMatrixCompute(),this._computeAngleValues()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"innerAngle",{get:function(){return this._innerAngle},set:function(e){this._innerAngle=e,this._computeAngleValues()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowAngleScale",{get:function(){return this._shadowAngleScale},set:function(e){this._shadowAngleScale=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectionTextureMatrix",{get:function(){return this._projectionTextureMatrix},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectionTextureLightNear",{get:function(){return this._projectionTextureLightNear},set:function(e){this._projectionTextureLightNear=e,this._projectionTextureProjectionLightDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectionTextureLightFar",{get:function(){return this._projectionTextureLightFar},set:function(e){this._projectionTextureLightFar=e,this._projectionTextureProjectionLightDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectionTextureUpDirection",{get:function(){return this._projectionTextureUpDirection},set:function(e){this._projectionTextureUpDirection=e,this._projectionTextureProjectionLightDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"projectionTexture",{get:function(){return this._projectionTexture},set:function(e){var i=this;this._projectionTexture!==e&&(this._projectionTexture=e,this._projectionTextureDirty=!0,this._projectionTexture&&!this._projectionTexture.isReady()&&(t._IsProceduralTexture(this._projectionTexture)?this._projectionTexture.getEffect().executeWhenCompiled(function(){i._markMeshesAsLightDirty()}):t._IsTexture(this._projectionTexture)&&this._projectionTexture.onLoadObservable.addOnce(function(){i._markMeshesAsLightDirty()})))},enumerable:!1,configurable:!0}),t._IsProceduralTexture=function(e){return void 0!==e.onGeneratedObservable},t._IsTexture=function(e){return void 0!==e.onLoadObservable},t.prototype.getClassName=function(){return"SpotLight"},t.prototype.getTypeID=function(){return it.a.LIGHTTYPEID_SPOTLIGHT},t.prototype._setDirection=function(t){e.prototype._setDirection.call(this,t),this._projectionTextureViewLightDirty=!0},t.prototype._setPosition=function(t){e.prototype._setPosition.call(this,t),this._projectionTextureViewLightDirty=!0},t.prototype._setDefaultShadowProjectionMatrix=function(e,t,i){var n=this.getScene().activeCamera;if(n){this._shadowAngleScale=this._shadowAngleScale||1;var r=this._shadowAngleScale*this._angle;L.a.PerspectiveFovLHToRef(r,1,this.getDepthMinZ(n),this.getDepthMaxZ(n),e)}},t.prototype._computeProjectionTextureViewLightMatrix=function(){this._projectionTextureViewLightDirty=!1,this._projectionTextureDirty=!0,this.position.addToRef(this.direction,this._projectionTextureViewTargetVector),L.a.LookAtLHToRef(this.position,this._projectionTextureViewTargetVector,this._projectionTextureUpDirection,this._projectionTextureViewLightMatrix)},t.prototype._computeProjectionTextureProjectionLightMatrix=function(){this._projectionTextureProjectionLightDirty=!1,this._projectionTextureDirty=!0;var e=this.projectionTextureLightFar,t=this.projectionTextureLightNear,i=e/(e-t),n=-i*t,r=1/Math.tan(this._angle/2);L.a.FromValuesToRef(r/1,0,0,0,0,r,0,0,0,0,i,1,0,0,n,0,this._projectionTextureProjectionLightMatrix)},t.prototype._computeProjectionTextureMatrix=function(){if(this._projectionTextureDirty=!1,this._projectionTextureViewLightMatrix.multiplyToRef(this._projectionTextureProjectionLightMatrix,this._projectionTextureMatrix),this._projectionTexture instanceof le.a){var e=this._projectionTexture.uScale/2,t=this._projectionTexture.vScale/2;L.a.FromValuesToRef(e,0,0,0,0,t,0,0,0,0,.5,0,.5,.5,.5,1,this._projectionTextureScalingMatrix)}this._projectionTextureMatrix.multiplyToRef(this._projectionTextureScalingMatrix,this._projectionTextureMatrix)},t.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("vLightDirection",3),this._uniformBuffer.addUniform("vLightFalloff",4),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},t.prototype._computeAngleValues=function(){this._lightAngleScale=1/Math.max(.001,Math.cos(.5*this._innerAngle)-this._cosHalfAngle),this._lightAngleOffset=-this._cosHalfAngle*this._lightAngleScale},t.prototype.transferTexturesToEffect=function(e,t){return this.projectionTexture&&this.projectionTexture.isReady()&&(this._projectionTextureViewLightDirty&&this._computeProjectionTextureViewLightMatrix(),this._projectionTextureProjectionLightDirty&&this._computeProjectionTextureProjectionLightMatrix(),this._projectionTextureDirty&&this._computeProjectionTextureMatrix(),e.setMatrix("textureProjectionMatrix"+t,this._projectionTextureMatrix),e.setTexture("projectionLightSampler"+t,this.projectionTexture)),this},t.prototype.transferToEffect=function(e,t){var i;return this.computeTransformedInformation()?(this._uniformBuffer.updateFloat4("vLightData",this.transformedPosition.x,this.transformedPosition.y,this.transformedPosition.z,this.exponent,t),i=L.e.Normalize(this.transformedDirection)):(this._uniformBuffer.updateFloat4("vLightData",this.position.x,this.position.y,this.position.z,this.exponent,t),i=L.e.Normalize(this.direction)),this._uniformBuffer.updateFloat4("vLightDirection",i.x,i.y,i.z,this._cosHalfAngle,t),this._uniformBuffer.updateFloat4("vLightFalloff",this.range,this._inverseSquaredRange,this._lightAngleScale,this._lightAngleOffset,t),this},t.prototype.transferToNodeMaterialEffect=function(e,t){var i;return i=this.computeTransformedInformation()?L.e.Normalize(this.transformedDirection):L.e.Normalize(this.direction),this.getScene().useRightHandedSystem?e.setFloat3(t,-i.x,-i.y,-i.z):e.setFloat3(t,i.x,i.y,i.z),this},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._projectionTexture&&this._projectionTexture.dispose()},t.prototype.prepareLightSpecificDefines=function(e,t){e["SPOTLIGHT"+t]=!0,e["PROJECTEDLIGHTTEXTURE"+t]=!(!this.projectionTexture||!this.projectionTexture.isReady())},Object(s.b)([Object(B.c)()],t.prototype,"angle",null),Object(s.b)([Object(B.c)()],t.prototype,"innerAngle",null),Object(s.b)([Object(B.c)()],t.prototype,"shadowAngleScale",null),Object(s.b)([Object(B.c)()],t.prototype,"exponent",void 0),Object(s.b)([Object(B.c)()],t.prototype,"projectionTextureLightNear",null),Object(s.b)([Object(B.c)()],t.prototype,"projectionTextureLightFar",null),Object(s.b)([Object(B.c)()],t.prototype,"projectionTextureUpDirection",null),Object(s.b)([Object(B.l)("projectedLightTexture")],t.prototype,"_projectionTexture",void 0),t}(ot.a),lt=function(){function e(){}return e.SetMatrix=function(e,t,i,n,r){var o=null;if("MODEL"===i.semantic?o=t.getWorldMatrix():"PROJECTION"===i.semantic?o=e.getProjectionMatrix():"VIEW"===i.semantic?o=e.getViewMatrix():"MODELVIEWINVERSETRANSPOSE"===i.semantic?o=L.a.Transpose(t.getWorldMatrix().multiply(e.getViewMatrix()).invert()):"MODELVIEW"===i.semantic?o=t.getWorldMatrix().multiply(e.getViewMatrix()):"MODELVIEWPROJECTION"===i.semantic?o=t.getWorldMatrix().multiply(e.getTransformMatrix()):"MODELINVERSE"===i.semantic?o=t.getWorldMatrix().invert():"VIEWINVERSE"===i.semantic?o=e.getViewMatrix().invert():"PROJECTIONINVERSE"===i.semantic?o=e.getProjectionMatrix().invert():"MODELVIEWINVERSE"===i.semantic?o=t.getWorldMatrix().multiply(e.getViewMatrix()).invert():"MODELVIEWPROJECTIONINVERSE"===i.semantic?o=t.getWorldMatrix().multiply(e.getTransformMatrix()).invert():"MODELINVERSETRANSPOSE"===i.semantic&&(o=L.a.Transpose(t.getWorldMatrix().invert())),o)switch(i.type){case O.FLOAT_MAT2:r.setMatrix2x2(n,L.a.GetAsMatrix2x2(o));break;case O.FLOAT_MAT3:r.setMatrix3x3(n,L.a.GetAsMatrix3x3(o));break;case O.FLOAT_MAT4:r.setMatrix(n,o)}},e.SetUniform=function(e,t,i,n){switch(n){case O.FLOAT:return e.setFloat(t,i),!0;case O.FLOAT_VEC2:return e.setVector2(t,L.d.FromArray(i)),!0;case O.FLOAT_VEC3:return e.setVector3(t,L.e.FromArray(i)),!0;case O.FLOAT_VEC4:return e.setVector4(t,L.f.FromArray(i)),!0;default:return!1}},e.GetWrapMode=function(e){switch(e){case I.CLAMP_TO_EDGE:return le.a.CLAMP_ADDRESSMODE;case I.MIRRORED_REPEAT:return le.a.MIRROR_ADDRESSMODE;case I.REPEAT:default:return le.a.WRAP_ADDRESSMODE}},e.GetByteStrideFromType=function(e){switch(e.type){case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16;default:return 1}},e.GetTextureFilterMode=function(e){switch(e){case x.LINEAR:case x.LINEAR_MIPMAP_NEAREST:case x.LINEAR_MIPMAP_LINEAR:return le.a.TRILINEAR_SAMPLINGMODE;case x.NEAREST:case x.NEAREST_MIPMAP_NEAREST:return le.a.NEAREST_SAMPLINGMODE;default:return le.a.BILINEAR_SAMPLINGMODE}},e.GetBufferFromBufferView=function(e,t,i,n,r){i=t.byteOffset+i;var o=e.loadedBufferViews[t.buffer];if(i+n>o.byteLength)throw new Error("Buffer access is out of range");var s=o.buffer;switch(i+=o.byteOffset,r){case R.BYTE:return new Int8Array(s,i,n);case R.UNSIGNED_BYTE:return new Uint8Array(s,i,n);case R.SHORT:return new Int16Array(s,i,n);case R.UNSIGNED_SHORT:return new Uint16Array(s,i,n);default:return new Float32Array(s,i,n)}},e.GetBufferFromAccessor=function(t,i){var n=t.bufferViews[i.bufferView],r=i.count*e.GetByteStrideFromType(i);return e.GetBufferFromBufferView(t,n,i.byteOffset,r,i.componentType)},e.DecodeBufferToText=function(e){for(var t="",i=e.byteLength,n=0;n<i;++n)t+=String.fromCharCode(e[n]);return t},e.GetDefaultMaterial=function(t){if(!e._DefaultMaterial){Ae.a.ShadersStore.GLTFDefaultMaterialVertexShader=["precision highp float;","","uniform mat4 worldView;","uniform mat4 projection;","","attribute vec3 position;","","void main(void)","{","    gl_Position = projection * worldView * vec4(position, 1.0);","}"].join("\n"),Ae.a.ShadersStore.GLTFDefaultMaterialPixelShader=["precision highp float;","","uniform vec4 u_emission;","","void main(void)","{","    gl_FragColor = u_emission;","}"].join("\n");var i={attributes:["position"],uniforms:["worldView","projection","u_emission"],samplers:new Array,needAlphaBlending:!1};e._DefaultMaterial=new Je.a("GLTFDefaultMaterial",t,{vertex:"GLTFDefaultMaterial",fragment:"GLTFDefaultMaterial"},i),e._DefaultMaterial.setColor4("u_emission",new F.b(.5,.5,.5,1))}return e._DefaultMaterial},e._DefaultMaterial=null,e}(),_t=function(){function e(){}return e.ALPHA_DISABLE=0,e.ALPHA_ADD=1,e.ALPHA_COMBINE=2,e.ALPHA_SUBTRACT=3,e.ALPHA_MULTIPLY=4,e.ALPHA_MAXIMIZED=5,e.ALPHA_ONEONE=6,e.ALPHA_PREMULTIPLIED=7,e.ALPHA_PREMULTIPLIED_PORTERDUFF=8,e.ALPHA_INTERPOLATE=9,e.ALPHA_SCREENMODE=10,e.ALPHA_ONEONE_ONEONE=11,e.ALPHA_ALPHATOCOLOR=12,e.ALPHA_REVERSEONEMINUS=13,e.ALPHA_SRC_DSTONEMINUSSRCALPHA=14,e.ALPHA_ONEONE_ONEZERO=15,e.ALPHA_EXCLUSION=16,e.ALPHA_EQUATION_ADD=0,e.ALPHA_EQUATION_SUBSTRACT=1,e.ALPHA_EQUATION_REVERSE_SUBTRACT=2,e.ALPHA_EQUATION_MAX=3,e.ALPHA_EQUATION_MIN=4,e.ALPHA_EQUATION_DARKEN=5,e.DELAYLOADSTATE_NONE=0,e.DELAYLOADSTATE_LOADED=1,e.DELAYLOADSTATE_LOADING=2,e.DELAYLOADSTATE_NOTLOADED=4,e.NEVER=512,e.ALWAYS=519,e.LESS=513,e.EQUAL=514,e.LEQUAL=515,e.GREATER=516,e.GEQUAL=518,e.NOTEQUAL=517,e.KEEP=7680,e.REPLACE=7681,e.INCR=7682,e.DECR=7683,e.INVERT=5386,e.INCR_WRAP=34055,e.DECR_WRAP=34056,e.TEXTURE_CLAMP_ADDRESSMODE=0,e.TEXTURE_WRAP_ADDRESSMODE=1,e.TEXTURE_MIRROR_ADDRESSMODE=2,e.TEXTUREFORMAT_ALPHA=0,e.TEXTUREFORMAT_LUMINANCE=1,e.TEXTUREFORMAT_LUMINANCE_ALPHA=2,e.TEXTUREFORMAT_RGB=4,e.TEXTUREFORMAT_RGBA=5,e.TEXTUREFORMAT_RED=6,e.TEXTUREFORMAT_R=6,e.TEXTUREFORMAT_RG=7,e.TEXTUREFORMAT_RED_INTEGER=8,e.TEXTUREFORMAT_R_INTEGER=8,e.TEXTUREFORMAT_RG_INTEGER=9,e.TEXTUREFORMAT_RGB_INTEGER=10,e.TEXTUREFORMAT_RGBA_INTEGER=11,e.TEXTURETYPE_UNSIGNED_BYTE=0,e.TEXTURETYPE_UNSIGNED_INT=0,e.TEXTURETYPE_FLOAT=1,e.TEXTURETYPE_HALF_FLOAT=2,e.TEXTURETYPE_BYTE=3,e.TEXTURETYPE_SHORT=4,e.TEXTURETYPE_UNSIGNED_SHORT=5,e.TEXTURETYPE_INT=6,e.TEXTURETYPE_UNSIGNED_INTEGER=7,e.TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4=8,e.TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1=9,e.TEXTURETYPE_UNSIGNED_SHORT_5_6_5=10,e.TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV=11,e.TEXTURETYPE_UNSIGNED_INT_24_8=12,e.TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV=13,e.TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV=14,e.TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV=15,e.TEXTURE_NEAREST_SAMPLINGMODE=1,e.TEXTURE_NEAREST_NEAREST=1,e.TEXTURE_BILINEAR_SAMPLINGMODE=2,e.TEXTURE_LINEAR_LINEAR=2,e.TEXTURE_TRILINEAR_SAMPLINGMODE=3,e.TEXTURE_LINEAR_LINEAR_MIPLINEAR=3,e.TEXTURE_NEAREST_NEAREST_MIPNEAREST=4,e.TEXTURE_NEAREST_LINEAR_MIPNEAREST=5,e.TEXTURE_NEAREST_LINEAR_MIPLINEAR=6,e.TEXTURE_NEAREST_LINEAR=7,e.TEXTURE_NEAREST_NEAREST_MIPLINEAR=8,e.TEXTURE_LINEAR_NEAREST_MIPNEAREST=9,e.TEXTURE_LINEAR_NEAREST_MIPLINEAR=10,e.TEXTURE_LINEAR_LINEAR_MIPNEAREST=11,e.TEXTURE_LINEAR_NEAREST=12,e.TEXTURE_EXPLICIT_MODE=0,e.TEXTURE_SPHERICAL_MODE=1,e.TEXTURE_PLANAR_MODE=2,e.TEXTURE_CUBIC_MODE=3,e.TEXTURE_PROJECTION_MODE=4,e.TEXTURE_SKYBOX_MODE=5,e.TEXTURE_INVCUBIC_MODE=6,e.TEXTURE_EQUIRECTANGULAR_MODE=7,e.TEXTURE_FIXED_EQUIRECTANGULAR_MODE=8,e.TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,e.TEXTURE_FILTERING_QUALITY_OFFLINE=4096,e.TEXTURE_FILTERING_QUALITY_HIGH=64,e.TEXTURE_FILTERING_QUALITY_MEDIUM=16,e.TEXTURE_FILTERING_QUALITY_LOW=8,e.SCALEMODE_FLOOR=1,e.SCALEMODE_NEAREST=2,e.SCALEMODE_CEILING=3,e.MATERIAL_TextureDirtyFlag=1,e.MATERIAL_LightDirtyFlag=2,e.MATERIAL_FresnelDirtyFlag=4,e.MATERIAL_AttributesDirtyFlag=8,e.MATERIAL_MiscDirtyFlag=16,e.MATERIAL_PrePassDirtyFlag=32,e.MATERIAL_AllDirtyFlag=63,e.MATERIAL_TriangleFillMode=0,e.MATERIAL_WireFrameFillMode=1,e.MATERIAL_PointFillMode=2,e.MATERIAL_PointListDrawMode=3,e.MATERIAL_LineListDrawMode=4,e.MATERIAL_LineLoopDrawMode=5,e.MATERIAL_LineStripDrawMode=6,e.MATERIAL_TriangleStripDrawMode=7,e.MATERIAL_TriangleFanDrawMode=8,e.MATERIAL_ClockWiseSideOrientation=0,e.MATERIAL_CounterClockWiseSideOrientation=1,e.ACTION_NothingTrigger=0,e.ACTION_OnPickTrigger=1,e.ACTION_OnLeftPickTrigger=2,e.ACTION_OnRightPickTrigger=3,e.ACTION_OnCenterPickTrigger=4,e.ACTION_OnPickDownTrigger=5,e.ACTION_OnDoublePickTrigger=6,e.ACTION_OnPickUpTrigger=7,e.ACTION_OnPickOutTrigger=16,e.ACTION_OnLongPressTrigger=8,e.ACTION_OnPointerOverTrigger=9,e.ACTION_OnPointerOutTrigger=10,e.ACTION_OnEveryFrameTrigger=11,e.ACTION_OnIntersectionEnterTrigger=12,e.ACTION_OnIntersectionExitTrigger=13,e.ACTION_OnKeyDownTrigger=14,e.ACTION_OnKeyUpTrigger=15,e.PARTICLES_BILLBOARDMODE_Y=2,e.PARTICLES_BILLBOARDMODE_ALL=7,e.PARTICLES_BILLBOARDMODE_STRETCHED=8,e.MESHES_CULLINGSTRATEGY_STANDARD=0,e.MESHES_CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY=1,e.MESHES_CULLINGSTRATEGY_OPTIMISTIC_INCLUSION=2,e.MESHES_CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY=3,e.SCENELOADER_NO_LOGGING=0,e.SCENELOADER_MINIMAL_LOGGING=1,e.SCENELOADER_SUMMARY_LOGGING=2,e.SCENELOADER_DETAILED_LOGGING=3,e.PREPASS_IRRADIANCE_TEXTURE_TYPE=0,e.PREPASS_POSITION_TEXTURE_TYPE=1,e.PREPASS_VELOCITY_TEXTURE_TYPE=2,e.PREPASS_REFLECTIVITY_TEXTURE_TYPE=3,e.PREPASS_COLOR_TEXTURE_TYPE=4,e.PREPASS_DEPTHNORMAL_TEXTURE_TYPE=5,e.PREPASS_ALBEDO_TEXTURE_TYPE=6,e}();!function(e){e[e.IDENTIFIER=1]="IDENTIFIER",e[e.UNKNOWN=2]="UNKNOWN",e[e.END_OF_INPUT=3]="END_OF_INPUT"}(at||(at={}));var ut=function(){function e(e){this._pos=0,this.currentToken=at.UNKNOWN,this.currentIdentifier="",this.currentString="",this.isLetterOrDigitPattern=/^[a-zA-Z0-9]+$/,this._toParse=e,this._maxPos=e.length}return e.prototype.getNextToken=function(){if(this.isEnd())return at.END_OF_INPUT;if(this.currentString=this.read(),this.currentToken=at.UNKNOWN,"_"===this.currentString||this.isLetterOrDigitPattern.test(this.currentString))for(this.currentToken=at.IDENTIFIER,this.currentIdentifier=this.currentString;!this.isEnd()&&(this.isLetterOrDigitPattern.test(this.currentString=this.peek())||"_"===this.currentString);)this.currentIdentifier+=this.currentString,this.forward();return this.currentToken},e.prototype.peek=function(){return this._toParse[this._pos]},e.prototype.read=function(){return this._toParse[this._pos++]},e.prototype.forward=function(){this._pos++},e.prototype.isEnd=function(){return this._pos>=this._maxPos},e}(),ft=["MODEL","VIEW","PROJECTION","MODELVIEW","MODELVIEWPROJECTION","JOINTMATRIX"],dt=["world","view","projection","worldView","worldViewProjection","mBones"],ht=["translation","rotation","scale"],pt=["position","rotationQuaternion","scaling"],bt=function(e,t,i){for(var n in e){var r=e[n];i[t][n]=r}},mt=function(e){if(e)for(var t=0;t<e.length/2;t++)e[2*t+1]=1-e[2*t+1]},At=function(e){if("NORMAL"===e.semantic)return"normal";if("POSITION"===e.semantic)return"position";if("JOINT"===e.semantic)return"matricesIndices";if("WEIGHT"===e.semantic)return"matricesWeights";if("COLOR"===e.semantic)return"color";if(e.semantic&&-1!==e.semantic.indexOf("TEXCOORD_")){var t=Number(e.semantic.split("_")[1]);return"uv"+(0===t?"":t+1)}return null},gt=function(e){var t=null;if(e.translation||e.rotation||e.scale){var i=L.e.FromArray(e.scale||[1,1,1]),n=L.b.FromArray(e.rotation||[0,0,0,1]),r=L.e.FromArray(e.translation||[0,0,0]);t=L.a.Compose(i,n,r)}else t=L.a.FromArray(e.matrix);return t},yt=function e(t,i,n,r){for(var o=0;o<r.bones.length;o++)if(r.bones[o].name===n)return r.bones[o];var s=t.nodes;for(var a in s){var c=s[a];if(c.jointName){var l=c.children;for(o=0;o<l.length;o++){var _=t.nodes[l[o]];if(_.jointName&&_.jointName===n){var u=gt(c),f=new ce(c.name||"",r,e(t,i,c.jointName,r),u);return f.id=a,f}}}}return null},vt=function(e,t){for(var i=0;i<e.length;i++)for(var n=e[i],r=0;r<n.node.children.length;r++){if(n.node.children[r]===t)return n.bone}return null},Ct=function(e,t){var i=e.nodes,n=i[t];if(n)return{node:n,id:t};for(var r in i)if((n=i[r]).jointName===t)return{node:n,id:r};return null},Et=function(e,t){for(var i=0;i<e.jointNames.length;i++)if(e.jointNames[i]===t)return!0;return!1},St=function(e,t,i,n,o){if(n||(n=new me(t.name||"","",e.scene)),!t.babylonSkeleton)return n;var s=[],a=[];!function(e,t,i,n){for(var r in e.nodes){var o=e.nodes[r],s=r;if(o.jointName&&!Et(i,o.jointName)){var a=gt(o),c=new ce(o.name||"",t,null,a);c.id=s,n.push({bone:c,node:o,id:s})}}for(var l=0;l<n.length;l++)for(var _=n[l],u=_.node.children,f=0;f<u.length;f++){for(var d=null,h=0;h<n.length;h++)if(n[h].id===u[f]){d=n[h];break}d&&(d.bone._parent=_.bone,_.bone.children.push(d.bone))}}(e,n,t,s),n.bones=[];for(var c=0;c<t.jointNames.length;c++){if(y=Ct(e,t.jointNames[c])){var l=y.node;if(l){o=y.id;var _=e.scene.getBoneByID(o);if(_)n.bones.push(_);else{for(var u=!1,f=null,d=0;d<c;d++){var h=Ct(e,t.jointNames[d]);if(h){var p=h.node;if(p){var b=p.children;if(b){u=!1;for(var m=0;m<b.length;m++)if(b[m]===o){f=yt(e,t,t.jointNames[d],n),u=!0;break}if(u)break}}else r.b.Warn("Joint named "+t.jointNames[d]+" does not exist when looking for parent")}}var A=gt(l);!f&&s.length>0&&(f=vt(s,o))&&-1===a.indexOf(f)&&a.push(f),new ce(l.jointName||"",n,f,A).id=o}}else r.b.Warn("Joint named "+t.jointNames[c]+" does not exist")}}var g=n.bones;n.bones=[];for(c=0;c<t.jointNames.length;c++){var y;if(y=Ct(e,t.jointNames[c]))for(d=0;d<g.length;d++)if(g[d].id===y.id){n.bones.push(g[d]);break}}n.prepare();for(c=0;c<a.length;c++)n.bones.push(a[c]);return n},Tt=function(e,t,i,n,r){if(r||(e.scene._blockEntityCollection=e.forAssetContainer,r=new c.a(t.name||"",e.scene),e.scene._blockEntityCollection=!1,r.id=n),!t.babylonNode)return r;for(var o,s=[],a=null,l=new Array,_=new Array,u=new Array,f=new Array,d=0;d<i.length;d++){var h=i[d];if(x=e.meshes[h])for(var p=0;p<x.primitives.length;p++){var b=new qe.a,m=x.primitives[p];m.mode;var A=m.attributes,g=null,y=null;for(var v in A)if(g=e.accessors[A[v]],y=lt.GetBufferFromAccessor(e,g),"NORMAL"===v)b.normals=new Float32Array(y.length),b.normals.set(y);else if("POSITION"===v){if(C.HomogeneousCoordinates){b.positions=new Float32Array(y.length-y.length/4);for(var E=0;E<y.length;E+=4)b.positions[E]=y[E],b.positions[E+1]=y[E+1],b.positions[E+2]=y[E+2]}else b.positions=new Float32Array(y.length),b.positions.set(y);_.push(b.positions.length)}else if(-1!==v.indexOf("TEXCOORD_")){var S=Number(v.split("_")[1]),T=Ee.b.UVKind+(0===S?"":S+1),R=new Float32Array(y.length);R.set(y),mt(R),b.set(R,T)}else"JOINT"===v?(b.matricesIndices=new Float32Array(y.length),b.matricesIndices.set(y)):"WEIGHT"===v?(b.matricesWeights=new Float32Array(y.length),b.matricesWeights.set(y)):"COLOR"===v&&(b.colors=new Float32Array(y.length),b.colors.set(y));if(g=e.accessors[m.indices])y=lt.GetBufferFromAccessor(e,g),b.indices=new Int32Array(y.length),b.indices.set(y),f.push(b.indices.length);else{var M=[];for(E=0;E<b.positions.length/3;E++)M.push(E);b.indices=new Int32Array(M),f.push(b.indices.length)}a?a.merge(b):a=b;var O=e.scene.getMaterialByID(m.material);s.push(null===O?lt.GetDefaultMaterial(e.scene):O),l.push(0===l.length?0:l[l.length-1]+_[_.length-2]),u.push(0===u.length?0:u[u.length-1]+f[f.length-2])}}e.scene._blockEntityCollection=e.forAssetContainer,s.length>1?(o=new ye.a("multimat"+n,e.scene)).subMaterials=s:o=new Ze("multimat"+n,e.scene),1===s.length&&(o=s[0]),r.material||(r.material=o),new $e.a(n,e.scene,a,!1,r),r.computeWorldMatrix(!0),e.scene._blockEntityCollection=!1,r.subMeshes=[];var I=0;for(d=0;d<i.length;d++){var x;h=i[d];if(x=e.meshes[h])for(p=0;p<x.primitives.length;p++)x.primitives[p].mode,et.a.AddToMesh(I,l[I],_[I],u[I],f[I],r,r,!0),I++}return r},Rt=function(e,t,i,n){e.position&&(e.position=t),(e.rotationQuaternion||e.rotation)&&(e.rotationQuaternion=i),e.scaling&&(e.scaling=n)},Mt=function(e,t,i,n){var r=null;if(e.importOnlyMeshes&&(t.skin||t.meshes)&&e.importMeshesNames&&e.importMeshesNames.length>0&&-1===e.importMeshesNames.indexOf(t.name||""))return null;if(t.skin){if(t.meshes){var o=e.skins[t.skin];(s=Tt(e,t,t.meshes,i,t.babylonNode)).skeleton=e.scene.getLastSkeletonByID(t.skin),null===s.skeleton&&(s.skeleton=St(e,o,0,o.babylonSkeleton,t.skin),o.babylonSkeleton||(o.babylonSkeleton=s.skeleton)),r=s}}else if(t.meshes){var s;r=s=Tt(e,t,t.mesh?[t.mesh]:t.meshes,i,t.babylonNode)}else if(!t.light||t.babylonNode||e.importOnlyMeshes){if(t.camera&&!t.babylonNode&&!e.importOnlyMeshes){var a=e.cameras[t.camera];if(a){if(e.scene._blockEntityCollection=e.forAssetContainer,"orthographic"===a.type){var l=new $(t.camera,L.e.Zero(),e.scene,!1);l.name=t.name||"",l.mode=N.a.ORTHOGRAPHIC_CAMERA,l.attachControl(),r=l}else if("perspective"===a.type){var _=a[a.type],u=new $(t.camera,L.e.Zero(),e.scene,!1);u.name=t.name||"",u.attachControl(),_.aspectRatio||(_.aspectRatio=e.scene.getEngine().getRenderWidth()/e.scene.getEngine().getRenderHeight()),_.znear&&_.zfar&&(u.maxZ=_.zfar,u.minZ=_.znear),r=u}e.scene._blockEntityCollection=!1}}}else{var f=e.lights[t.light];if(f)if("ambient"===f.type){var d=f[f.type],h=new nt(t.light,L.e.Zero(),e.scene);h.name=t.name||"",d.color&&(h.diffuse=F.a.FromArray(d.color)),r=h}else if("directional"===f.type){var p=f[f.type],b=new rt.a(t.light,L.e.Zero(),e.scene);b.name=t.name||"",p.color&&(b.diffuse=F.a.FromArray(p.color)),r=b}else if("point"===f.type){var m=f[f.type],A=new st(t.light,L.e.Zero(),e.scene);A.name=t.name||"",m.color&&(A.diffuse=F.a.FromArray(m.color)),r=A}else if("spot"===f.type){var g=f[f.type],y=new ct(t.light,L.e.Zero(),L.e.Zero(),0,0,e.scene);y.name=t.name||"",g.color&&(y.diffuse=F.a.FromArray(g.color)),g.fallOfAngle&&(y.angle=g.fallOfAngle),g.fallOffExponent&&(y.exponent=g.fallOffExponent),r=y}}if(!t.jointName){if(t.babylonNode)return t.babylonNode;if(null===r){e.scene._blockEntityCollection=e.forAssetContainer;var v=new c.a(t.name||"",e.scene);e.scene._blockEntityCollection=!1,t.babylonNode=v,r=v}}if(null!==r){if(t.matrix&&r instanceof c.a)!function(e,t){if(t.matrix){var i=new L.e(0,0,0),n=new L.b,r=new L.e(0,0,0);L.a.FromArray(t.matrix).decompose(r,n,i),Rt(e,i,n,r)}else t.translation&&t.rotation&&t.scale&&Rt(e,L.e.FromArray(t.translation),L.b.FromArray(t.rotation),L.e.FromArray(t.scale));e.computeWorldMatrix(!0)}(r,t);else{var C=t.translation||[0,0,0],E=t.rotation||[0,0,0,1],S=t.scale||[1,1,1];Rt(r,L.e.FromArray(C),L.b.FromArray(E),L.e.FromArray(S))}r.updateCache(!0),t.babylonNode=r}return r},Ot=function e(t,i,n,r){void 0===r&&(r=!1);var o=t.nodes[i],s=null;if(r=!(t.importOnlyMeshes&&!r&&t.importMeshesNames)||(-1!==t.importMeshesNames.indexOf(o.name||"")||0===t.importMeshesNames.length),!o.jointName&&r&&null!==(s=Mt(t,o,i))&&(s.id=i,s.parent=n),o.children)for(var a=0;a<o.children.length;a++)e(t,o.children[a],s,r)},It=function(e){var t=e.currentScene;if(t)for(var i=0;i<t.nodes.length;i++)Ot(e,t.nodes[i],null);else for(var n in e.scenes){t=e.scenes[n];for(i=0;i<t.nodes.length;i++)Ot(e,t.nodes[i],null)}!function(e){for(var t in e.animations){var i=e.animations[t];if(i.channels&&i.samplers)for(var n=null,o=0;o<i.channels.length;o++){var s=i.channels[o],a=i.samplers[s.sampler];if(a){var c=null,l=null;i.parameters?(c=i.parameters[a.input],l=i.parameters[a.output]):(c=a.input,l=a.output);var _=lt.GetBufferFromAccessor(e,e.accessors[c]),u=lt.GetBufferFromAccessor(e,e.accessors[l]),f=s.target.id,d=e.scene.getNodeByID(f);if(null===d&&(d=e.scene.getNodeByName(f)),null!==d){var h=d instanceof ce,p=s.target.path,b=ht.indexOf(p);-1!==b&&(p=pt[b]);var m=se.ANIMATIONTYPE_MATRIX;h||("rotationQuaternion"===p?(m=se.ANIMATIONTYPE_QUATERNION,d.rotationQuaternion=new L.b):m=se.ANIMATIONTYPE_VECTOR3);var A=null,g=[],y=0,v=!1;h&&n&&n.getKeys().length===_.length&&(A=n,v=!0),v||(e.scene._blockEntityCollection=e.forAssetContainer,A=new se(t,h?"_matrix":p,1,m,se.ANIMATIONLOOPMODE_CYCLE),e.scene._blockEntityCollection=!1);for(var C=0;C<_.length;C++){var E=null;if("rotationQuaternion"===p?(E=L.b.FromArray([u[y],u[y+1],u[y+2],u[y+3]]),y+=4):(E=L.e.FromArray([u[y],u[y+1],u[y+2]]),y+=3),h){var S=d,T=L.e.Zero(),R=new L.b,M=L.e.Zero(),O=S.getBaseMatrix();v&&n&&(O=n.getKeys()[C].value),O.decompose(M,R,T),"position"===p?T=E:"rotationQuaternion"===p?R=E:M=E,E=L.a.Compose(M,R,T)}v?n&&(n.getKeys()[C].value=E):g.push({frame:_[C],value:E})}!v&&A&&(A.setKeys(g),d.animations.push(A)),n=A,e.scene.stopAnimation(d),e.scene.beginAnimation(d,0,_[_.length-1],!0,1)}else r.b.Warn("Creating animation named "+t+". But cannot find node named "+f+" to attach to")}}}}(e);for(i=0;i<e.scene.skeletons.length;i++){var o=e.scene.skeletons[i];e.scene.beginAnimation(o,0,Number.MAX_VALUE,!0,1)}},xt=function(e,t,i,n,r,o){return function(s){!function(e,t,i,n,r){var o=n.values||i.parameters,s=i.uniforms;for(var a in r){var c=r[a],l=c.type,_=o[s[a]];if(void 0===_&&(_=c.value),_){var u=function(e){return function(i){c.value&&e&&(t.setTexture(e,i),delete r[e])}};l===O.SAMPLER_2D?Ft.LoadTextureAsync(e,n.values?_:c.value,u(a),function(){return u(null)}):c.value&&lt.SetUniform(t,a,n.values?_:c.value,l)&&delete r[a]}}}(e,t,i,n,r),t.onBind=function(s){!function(e,t,i,n,r,o,s){var a=o.values||r.parameters;for(var c in i){var l=i[c],_=l.type;if(_===O.FLOAT_MAT2||_===O.FLOAT_MAT3||_===O.FLOAT_MAT4)if(!l.semantic||l.source||l.node){if(l.semantic&&(l.source||l.node)){var u=t.scene.getNodeByName(l.source||l.node||"");if(null===u&&(u=t.scene.getNodeByID(l.source||l.node||"")),null===u)continue;lt.SetMatrix(t.scene,u,l,c,n.getEffect())}}else lt.SetMatrix(t.scene,e,l,c,n.getEffect());else{var f=a[r.uniforms[c]];if(!f)continue;if(_===O.SAMPLER_2D){var d=t.textures[o.values?f:l.value].babylonTexture;if(null===d||void 0===d)continue;n.getEffect().setTexture(c,d)}else lt.SetUniform(n.getEffect(),c,f,_)}}s(n)}(s,e,r,t,i,n,o)}}},Pt=function(e,t,i){for(var n in t.uniforms){var r=t.uniforms[n],o=t.parameters[r];if(e.currentIdentifier===n&&o.semantic&&!o.source&&!o.node){var s=ft.indexOf(o.semantic);if(-1!==s)return delete i[n],dt[s]}}return e.currentIdentifier},Dt=function(e){for(var t in e.materials)Ft.LoadMaterialAsync(e,t,function(e){},function(){})},wt=function(){function e(){}return e.CreateRuntime=function(e,t,i){var n={extensions:{},accessors:{},buffers:{},bufferViews:{},meshes:{},lights:{},cameras:{},nodes:{},images:{},textures:{},shaders:{},programs:{},samplers:{},techniques:{},materials:{},animations:{},skins:{},extensionsUsed:[],scenes:{},buffersCount:0,shaderscount:0,scene:t,rootUrl:i,loadedBufferCount:0,loadedBufferViews:{},loadedShaderCount:0,importOnlyMeshes:!1,dummyNodes:[],forAssetContainer:!1};return e.extensions&&bt(e.extensions,"extensions",n),e.extensionsUsed&&bt(e.extensionsUsed,"extensionsUsed",n),e.buffers&&function(e,t){for(var i in e){var n=e[i];t.buffers[i]=n,t.buffersCount++}}(e.buffers,n),e.bufferViews&&bt(e.bufferViews,"bufferViews",n),e.accessors&&bt(e.accessors,"accessors",n),e.meshes&&bt(e.meshes,"meshes",n),e.lights&&bt(e.lights,"lights",n),e.cameras&&bt(e.cameras,"cameras",n),e.nodes&&bt(e.nodes,"nodes",n),e.images&&bt(e.images,"images",n),e.textures&&bt(e.textures,"textures",n),e.shaders&&function(e,t){for(var i in e){var n=e[i];t.shaders[i]=n,t.shaderscount++}}(e.shaders,n),e.programs&&bt(e.programs,"programs",n),e.samplers&&bt(e.samplers,"samplers",n),e.techniques&&bt(e.techniques,"techniques",n),e.materials&&bt(e.materials,"materials",n),e.animations&&bt(e.animations,"animations",n),e.skins&&bt(e.skins,"skins",n),e.scenes&&(n.scenes=e.scenes),e.scene&&e.scenes&&(n.currentScene=e.scenes[e.scene]),n},e.LoadBufferAsync=function(e,t,i,n,o){var s=e.buffers[t];r.b.IsBase64(s.uri)?setTimeout(function(){return i(new Uint8Array(r.b.DecodeBase64(s.uri)))}):r.b.LoadFile(e.rootUrl+s.uri,function(e){return i(new Uint8Array(e))},o,void 0,!0,function(e){e&&n(e.status+" "+e.statusText)})},e.LoadTextureBufferAsync=function(e,t,i,n){var o=e.textures[t];if(o&&o.source)if(o.babylonTexture)i(null);else{var s=e.images[o.source];r.b.IsBase64(s.uri)?setTimeout(function(){return i(new Uint8Array(r.b.DecodeBase64(s.uri)))}):r.b.LoadFile(e.rootUrl+s.uri,function(e){return i(new Uint8Array(e))},void 0,void 0,!0,function(e){e&&n(e.status+" "+e.statusText)})}else n("")},e.CreateTextureAsync=function(e,t,i,n,r){var o=e.textures[t];if(o.babylonTexture)n(o.babylonTexture);else{var s=e.samplers[o.sampler],a=s.minFilter===x.NEAREST_MIPMAP_NEAREST||s.minFilter===x.NEAREST_MIPMAP_LINEAR||s.minFilter===x.LINEAR_MIPMAP_NEAREST||s.minFilter===x.LINEAR_MIPMAP_LINEAR,c=le.a.BILINEAR_SAMPLINGMODE,l=null==i?new Blob:new Blob([i]),_=URL.createObjectURL(l),u=function(){return URL.revokeObjectURL(_)},f=new le.a(_,e.scene,!a,!0,c,u,u);void 0!==s.wrapS&&(f.wrapU=lt.GetWrapMode(s.wrapS)),void 0!==s.wrapT&&(f.wrapV=lt.GetWrapMode(s.wrapT)),f.name=t,o.babylonTexture=f,n(f)}},e.LoadShaderStringAsync=function(e,t,i,n){var o=e.shaders[t];if(r.b.IsBase64(o.uri)){var s=atob(o.uri.split(",")[1]);i&&i(s)}else r.b.LoadFile(e.rootUrl+o.uri,i,void 0,void 0,!1,function(e){e&&n&&n(e.status+" "+e.statusText)})},e.LoadMaterialAsync=function(e,t,i,n){var r=e.materials[t];if(r.technique){var o=e.techniques[r.technique];if(!o){e.scene._blockEntityCollection=e.forAssetContainer;var s=new Ze(t,e.scene);return e.scene._blockEntityCollection=!1,s.diffuseColor=new F.a(.5,.5,.5),s.sideOrientation=ge.a.CounterClockWiseSideOrientation,void i(s)}var a=e.programs[o.program],c=o.states,l=Ae.a.ShadersStore[a.vertexShader+"VertexShader"],_=Ae.a.ShadersStore[a.fragmentShader+"PixelShader"],u="",f="",d=new ut(l),h=new ut(_),p={},b=[],m=[],A=[];for(var g in o.uniforms){var y=o.uniforms[g],v=o.parameters[y];if(p[g]=v,!v.semantic||v.node||v.source)v.type===O.SAMPLER_2D?A.push(g):b.push(g);else{var C=ft.indexOf(v.semantic);-1!==C?(b.push(dt[C]),delete p[g]):b.push(g)}}for(var E in o.attributes){var S=o.attributes[E];if((M=o.parameters[S]).semantic){var T=At(M);T&&m.push(T)}}for(;!d.isEnd()&&d.getNextToken();){if(d.currentToken===at.IDENTIFIER){var R=!1;for(var E in o.attributes){S=o.attributes[E];var M=o.parameters[S];if(d.currentIdentifier===E&&M.semantic){u+=At(M),R=!0;break}}R||(u+=Pt(d,o,p))}else u+=d.currentString}for(;!h.isEnd()&&h.getNextToken();){h.currentToken===at.IDENTIFIER?f+=Pt(h,o,p):f+=h.currentString}var I={vertex:a.vertexShader+t,fragment:a.fragmentShader+t},x={attributes:m,uniforms:b,samplers:A,needAlphaBlending:c&&c.enable&&-1!==c.enable.indexOf(3042)};Ae.a.ShadersStore[a.vertexShader+t+"VertexShader"]=u,Ae.a.ShadersStore[a.fragmentShader+t+"PixelShader"]=f;var P=new Je.a(t,e.scene,I,x);if(P.onError=function(e,t,i){return function(n,r){t.dispose(!0),i("Cannot compile program named "+e.name+". Error: "+r+". Default material will be applied")}}(a,P,n),P.onCompiled=xt(e,P,o,r,p,i),P.sideOrientation=ge.a.CounterClockWiseSideOrientation,c&&c.functions){var L=c.functions;L.cullFace&&L.cullFace[0]!==D.BACK&&(P.backFaceCulling=!1);var N=L.blendFuncSeparate;N&&(N[0]===w.SRC_ALPHA&&N[1]===w.ONE_MINUS_SRC_ALPHA&&N[2]===w.ONE&&N[3]===w.ONE?P.alphaMode=_t.ALPHA_COMBINE:N[0]===w.ONE&&N[1]===w.ONE&&N[2]===w.ZERO&&N[3]===w.ONE?P.alphaMode=_t.ALPHA_ONEONE:N[0]===w.SRC_ALPHA&&N[1]===w.ONE&&N[2]===w.ZERO&&N[3]===w.ONE?P.alphaMode=_t.ALPHA_ADD:N[0]===w.ZERO&&N[1]===w.ONE_MINUS_SRC_COLOR&&N[2]===w.ONE&&N[3]===w.ONE?P.alphaMode=_t.ALPHA_SUBTRACT:N[0]===w.DST_COLOR&&N[1]===w.ZERO&&N[2]===w.ONE&&N[3]===w.ONE?P.alphaMode=_t.ALPHA_MULTIPLY:N[0]===w.SRC_ALPHA&&N[1]===w.ONE_MINUS_SRC_COLOR&&N[2]===w.ONE&&N[3]===w.ONE&&(P.alphaMode=_t.ALPHA_MAXIMIZED))}}else n&&n("No technique found.")},e}(),Lt=function(){function e(){this.state=null}return e.RegisterExtension=function(t){e.Extensions[t.name]?r.b.Error('Tool with the same name "'+t.name+'" already exists'):e.Extensions[t.name]=t},e.prototype.dispose=function(){},e.prototype._importMeshAsync=function(e,t,i,n,o,s,a,c){var l=this;return t.useRightHandedSystem=!0,Ft.LoadRuntimeAsync(t,i,n,function(t){t.forAssetContainer=o,t.importOnlyMeshes=!0,""===e?t.importMeshesNames=[]:"string"===typeof e?t.importMeshesNames=[e]:!e||e instanceof Array?(t.importMeshesNames=[],r.b.Warn("Argument meshesNames must be of type string or string[]")):t.importMeshesNames=[e],l._createNodes(t);var i=new Array,n=new Array;for(var c in t.nodes){var _=t.nodes[c];_.babylonNode instanceof tt.a&&i.push(_.babylonNode)}for(var u in t.skins){var f=t.skins[u];f.babylonSkeleton instanceof me&&n.push(f.babylonSkeleton)}l._loadBuffersAsync(t,function(){l._loadShadersAsync(t,function(){Dt(t),It(t),!C.IncrementalLoading&&s&&s(i,n)})},a),C.IncrementalLoading&&s&&s(i,n)},c),!0},e.prototype.importMeshAsync=function(e,t,i,n,r,o){var s=this;return new Promise(function(a,c){s._importMeshAsync(e,t,n,r,i,function(e,t){a({meshes:e,particleSystems:[],skeletons:t,animationGroups:[],lights:[],transformNodes:[],geometries:[]})},o,function(e){c(new Error(e))})})},e.prototype._loadAsync=function(e,t,i,n,r,o,s){var a=this;e.useRightHandedSystem=!0,Ft.LoadRuntimeAsync(e,t,i,function(e){Ft.LoadRuntimeExtensionsAsync(e,function(){a._createNodes(e),a._loadBuffersAsync(e,function(){a._loadShadersAsync(e,function(){Dt(e),It(e),C.IncrementalLoading||r()})}),C.IncrementalLoading&&r()},s)},s)},e.prototype.loadAsync=function(e,t,i,n){var r=this;return new Promise(function(o,s){r._loadAsync(e,t,i,!1,function(){o()},n,function(e){s(new Error(e))})})},e.prototype._loadShadersAsync=function(e,t){var i=!1,n=function(i,n){Ft.LoadShaderStringAsync(e,i,function(r){r instanceof ArrayBuffer||(e.loadedShaderCount++,r&&(Ae.a.ShadersStore[i+(n.type===M.VERTEX?"VertexShader":"PixelShader")]=r),e.loadedShaderCount===e.shaderscount&&t())},function(){r.b.Error("Error when loading shader program named "+i+" located at "+n.uri)})};for(var o in e.shaders){i=!0;var s=e.shaders[o];s?n.bind(this,o,s)():r.b.Error("No shader named: "+o)}i||t()},e.prototype._loadBuffersAsync=function(e,t,i){var n=!1,o=function(i,n){Ft.LoadBufferAsync(e,i,function(o){e.loadedBufferCount++,o&&(o.byteLength!=e.buffers[i].byteLength&&r.b.Error("Buffer named "+i+" is length "+o.byteLength+". Expected: "+n.byteLength),e.loadedBufferViews[i]=o),e.loadedBufferCount===e.buffersCount&&t()},function(){r.b.Error("Error when loading buffer named "+i+" located at "+n.uri)})};for(var s in e.buffers){n=!0;var a=e.buffers[s];a?o.bind(this,s,a)():r.b.Error("No buffer named: "+s)}n||t()},e.prototype._createNodes=function(e){var t=e.currentScene;if(t)for(var i=0;i<t.nodes.length;i++)Ot(e,t.nodes[i],null);else for(var n in e.scenes){t=e.scenes[n];for(i=0;i<t.nodes.length;i++)Ot(e,t.nodes[i],null)}},e.Extensions={},e}(),Ft=function(){function e(e){this._name=e}return Object.defineProperty(e.prototype,"name",{get:function(){return this._name},enumerable:!1,configurable:!0}),e.prototype.loadRuntimeAsync=function(e,t,i,n,r){return!1},e.prototype.loadRuntimeExtensionsAsync=function(e,t,i){return!1},e.prototype.loadBufferAsync=function(e,t,i,n,r){return!1},e.prototype.loadTextureBufferAsync=function(e,t,i,n){return!1},e.prototype.createTextureAsync=function(e,t,i,n,r){return!1},e.prototype.loadShaderStringAsync=function(e,t,i,n){return!1},e.prototype.loadMaterialAsync=function(e,t,i,n){return!1},e.LoadRuntimeAsync=function(t,i,n,r,o){e.ApplyExtensions(function(e){return e.loadRuntimeAsync(t,i,n,r,o)},function(){setTimeout(function(){r&&r(wt.CreateRuntime(i.json,t,n))})})},e.LoadRuntimeExtensionsAsync=function(t,i,n){e.ApplyExtensions(function(e){return e.loadRuntimeExtensionsAsync(t,i,n)},function(){setTimeout(function(){i()})})},e.LoadBufferAsync=function(t,i,n,r,o){e.ApplyExtensions(function(e){return e.loadBufferAsync(t,i,n,r,o)},function(){wt.LoadBufferAsync(t,i,n,r,o)})},e.LoadTextureAsync=function(t,i,n,r){e.LoadTextureBufferAsync(t,i,function(o){o&&e.CreateTextureAsync(t,i,o,n,r)},r)},e.LoadShaderStringAsync=function(t,i,n,r){e.ApplyExtensions(function(e){return e.loadShaderStringAsync(t,i,n,r)},function(){wt.LoadShaderStringAsync(t,i,n,r)})},e.LoadMaterialAsync=function(t,i,n,r){e.ApplyExtensions(function(e){return e.loadMaterialAsync(t,i,n,r)},function(){wt.LoadMaterialAsync(t,i,n,r)})},e.LoadTextureBufferAsync=function(t,i,n,r){e.ApplyExtensions(function(e){return e.loadTextureBufferAsync(t,i,n,r)},function(){wt.LoadTextureBufferAsync(t,i,n,r)})},e.CreateTextureAsync=function(t,i,n,r,o){e.ApplyExtensions(function(e){return e.createTextureAsync(t,i,n,r,o)},function(){wt.CreateTextureAsync(t,i,n,r,o)})},e.ApplyExtensions=function(e,t){for(var i in Lt.Extensions){if(e(Lt.Extensions[i]))return}t()},e}();C._CreateGLTF1Loader=function(){return new Lt};var Nt=function(e){function t(){return e.call(this,"KHR_binary_glTF")||this}return S(t,e),t.prototype.loadRuntimeAsync=function(e,t,i,n,r){var o=t.json.extensionsUsed;return!(!o||-1===o.indexOf(this.name)||!t.bin)&&(this._bin=t.bin,n(wt.CreateRuntime(t.json,e,i)),!0)},t.prototype.loadBufferAsync=function(e,t,i,n){return-1!==e.extensionsUsed.indexOf(this.name)&&("binary_glTF"===t&&(this._bin.readAsync(0,this._bin.byteLength).then(i,function(e){return n(e.message)}),!0))},t.prototype.loadTextureBufferAsync=function(e,t,i,n){var r=e.textures[t],o=e.images[r.source];if(!o.extensions||!(this.name in o.extensions))return!1;var s=o.extensions[this.name],a=e.bufferViews[s.bufferView];return i(lt.GetBufferFromBufferView(e,a,0,a.byteLength,R.UNSIGNED_BYTE)),!0},t.prototype.loadShaderStringAsync=function(e,t,i,n){var r=e.shaders[t];if(!r.extensions||!(this.name in r.extensions))return!1;var o=r.extensions[this.name],s=e.bufferViews[o.bufferView],a=lt.GetBufferFromBufferView(e,s,0,s.byteLength,R.UNSIGNED_BYTE);return setTimeout(function(){var e=lt.DecodeBufferToText(a);i(e)}),!0},t}(Ft);Lt.RegisterExtension(new Nt);var Bt=function(e){function t(){return e.call(this,"KHR_materials_common")||this}return S(t,e),t.prototype.loadRuntimeExtensionsAsync=function(e,t,i){if(!e.extensions)return!1;var n=e.extensions[this.name];if(!n)return!1;var o=n.lights;if(o)for(var s in o){var a=o[s];switch(a.type){case"ambient":var c=new nt(a.name,new L.e(0,1,0),e.scene),l=a.ambient;l&&(c.diffuse=F.a.FromArray(l.color||[1,1,1]));break;case"point":var _=new st(a.name,new L.e(10,10,10),e.scene),u=a.point;u&&(_.diffuse=F.a.FromArray(u.color||[1,1,1]));break;case"directional":var f=new rt.a(a.name,new L.e(0,-1,0),e.scene),d=a.directional;d&&(f.diffuse=F.a.FromArray(d.color||[1,1,1]));break;case"spot":var h=a.spot;if(h)new ct(a.name,new L.e(0,10,0),new L.e(0,-1,0),h.fallOffAngle||Math.PI,h.fallOffExponent||0,e.scene).diffuse=F.a.FromArray(h.color||[1,1,1]);break;default:r.b.Warn('GLTF Material Common extension: light type "'+a.type+"\u201d not supported")}}return!1},t.prototype.loadMaterialAsync=function(e,t,i,n){var r=e.materials[t];if(!r||!r.extensions)return!1;var o=r.extensions[this.name];if(!o)return!1;var s=new Ze(t,e.scene);return s.sideOrientation=ge.a.CounterClockWiseSideOrientation,"CONSTANT"===o.technique&&(s.disableLighting=!0),s.backFaceCulling=void 0!==o.doubleSided&&!o.doubleSided,s.alpha=void 0===o.values.transparency?1:o.values.transparency,s.specularPower=void 0===o.values.shininess?0:o.values.shininess,"string"===typeof o.values.ambient?this._loadTexture(e,o.values.ambient,s,"ambientTexture",n):s.ambientColor=F.a.FromArray(o.values.ambient||[0,0,0]),"string"===typeof o.values.diffuse?this._loadTexture(e,o.values.diffuse,s,"diffuseTexture",n):s.diffuseColor=F.a.FromArray(o.values.diffuse||[0,0,0]),"string"===typeof o.values.emission?this._loadTexture(e,o.values.emission,s,"emissiveTexture",n):s.emissiveColor=F.a.FromArray(o.values.emission||[0,0,0]),"string"===typeof o.values.specular?this._loadTexture(e,o.values.specular,s,"specularTexture",n):s.specularColor=F.a.FromArray(o.values.specular||[0,0,0]),!0},t.prototype._loadTexture=function(e,t,i,n,r){wt.LoadTextureBufferAsync(e,t,function(o){wt.CreateTextureAsync(e,t,o,function(e){return i[n]=e},r)},r)},t}(Ft);Lt.RegisterExtension(new Bt);var kt=function(){function e(){var e=this;this.promise=new Promise(function(t,i){e._resolve=t,e._reject=i})}return Object.defineProperty(e.prototype,"resolve",{get:function(){return this._resolve},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"reject",{get:function(){return this._reject},enumerable:!1,configurable:!0}),e}(),Ut=Object.freeze(new L.b(0,0,0,0)),Ht=Object.freeze(L.e.Zero()),jt=Object.freeze(L.d.Zero()),Vt=Object.freeze(re.a.Zero()),Gt=Object.freeze(F.a.Black()),Wt=function(){function e(e,t,i,n){var r=this;if(this._events=new Array,this._currentFrame=0,this._originalValue=new Array,this._originalBlendValue=null,this._offsetsCache={},this._highLimitsCache={},this._stopped=!1,this._blendingFactor=0,this._currentValue=null,this._currentActiveTarget=null,this._directTarget=null,this._targetPath="",this._weight=1,this._ratioOffset=0,this._previousDelay=0,this._previousRatio=0,this._targetIsArray=!1,this._animation=t,this._target=e,this._scene=i,this._host=n,this._activeTargets=[],t._runtimeAnimations.push(this),this._animationState={key:0,repeatCount:0,loopMode:this._getCorrectLoopMode()},this._animation.dataType===se.ANIMATIONTYPE_MATRIX&&(this._animationState.workValue=L.a.Zero()),this._keys=this._animation.getKeys(),this._minFrame=this._keys[0].frame,this._maxFrame=this._keys[this._keys.length-1].frame,this._minValue=this._keys[0].value,this._maxValue=this._keys[this._keys.length-1].value,0!==this._minFrame){var o={frame:0,value:this._minValue};this._keys.splice(0,0,o)}if(this._target instanceof Array){for(var s=0,a=0,c=this._target;a<c.length;a++){var l=c[a];this._preparePath(l,s),this._getOriginalValues(s),s++}this._targetIsArray=!0}else this._preparePath(this._target),this._getOriginalValues(),this._targetIsArray=!1,this._directTarget=this._activeTargets[0];var _=t.getEvents();_&&_.length>0&&_.forEach(function(e){r._events.push(e._clone())}),this._enableBlending=e&&e.animationPropertiesOverride?e.animationPropertiesOverride.enableBlending:this._animation.enableBlending}return Object.defineProperty(e.prototype,"currentFrame",{get:function(){return this._currentFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weight",{get:function(){return this._weight},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentValue",{get:function(){return this._currentValue},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetPath",{get:function(){return this._targetPath},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"target",{get:function(){return this._currentActiveTarget},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdditive",{get:function(){return this._host&&this._host.isAdditive},enumerable:!1,configurable:!0}),e.prototype._preparePath=function(e,t){void 0===t&&(t=0);var i=this._animation.targetPropertyPath;if(i.length>1){for(var n=e[i[0]],r=1;r<i.length-1;r++)n=n[i[r]];this._targetPath=i[i.length-1],this._activeTargets[t]=n}else this._targetPath=i[0],this._activeTargets[t]=e},Object.defineProperty(e.prototype,"animation",{get:function(){return this._animation},enumerable:!1,configurable:!0}),e.prototype.reset=function(e){if(void 0===e&&(e=!1),e)if(this._target instanceof Array)for(var t=0,i=0,n=this._target;i<n.length;i++){var r=n[i];void 0!==this._originalValue[t]&&this._setValue(r,this._activeTargets[t],this._originalValue[t],-1,t),t++}else void 0!==this._originalValue[0]&&this._setValue(this._target,this._directTarget,this._originalValue[0],-1,0);this._offsetsCache={},this._highLimitsCache={},this._currentFrame=0,this._blendingFactor=0;for(t=0;t<this._events.length;t++)this._events[t].isDone=!1},e.prototype.isStopped=function(){return this._stopped},e.prototype.dispose=function(){var e=this._animation.runtimeAnimations.indexOf(this);e>-1&&this._animation.runtimeAnimations.splice(e,1)},e.prototype.setValue=function(e,t){if(this._targetIsArray)for(var i=0;i<this._target.length;i++){var n=this._target[i];this._setValue(n,this._activeTargets[i],e,t,i)}else this._setValue(this._target,this._directTarget,e,t,0)},e.prototype._getOriginalValues=function(e){var t;void 0===e&&(e=0);var i=this._activeTargets[e];(t=i.getRestPose&&"_matrix"===this._targetPath?i.getRestPose():i[this._targetPath])&&t.clone?this._originalValue[e]=t.clone():this._originalValue[e]=t},e.prototype._setValue=function(e,t,i,n,r){if(this._currentActiveTarget=t,this._weight=n,this._enableBlending&&this._blendingFactor<=1){if(!this._originalBlendValue){var o=t[this._targetPath];o.clone?this._originalBlendValue=o.clone():this._originalBlendValue=o}this._originalBlendValue.m?se.AllowMatrixDecomposeForInterpolation?this._currentValue?L.a.DecomposeLerpToRef(this._originalBlendValue,i,this._blendingFactor,this._currentValue):this._currentValue=L.a.DecomposeLerp(this._originalBlendValue,i,this._blendingFactor):this._currentValue?L.a.LerpToRef(this._originalBlendValue,i,this._blendingFactor,this._currentValue):this._currentValue=L.a.Lerp(this._originalBlendValue,i,this._blendingFactor):this._currentValue=se._UniversalLerp(this._originalBlendValue,i,this._blendingFactor);var s=e&&e.animationPropertiesOverride?e.animationPropertiesOverride.blendingSpeed:this._animation.blendingSpeed;this._blendingFactor+=s}else this._currentValue=i;-1!==n?this._scene._registerTargetForLateAnimationBinding(this,this._originalValue[r]):t[this._targetPath]=this._currentValue,e.markAsDirty&&e.markAsDirty(this._animation.targetProperty)},e.prototype._getCorrectLoopMode=function(){return this._target&&this._target.animationPropertiesOverride?this._target.animationPropertiesOverride.loopMode:this._animation.loopMode},e.prototype.goToFrame=function(e){var t=this._animation.getKeys();e<t[0].frame?e=t[0].frame:e>t[t.length-1].frame&&(e=t[t.length-1].frame);var i=this._events;if(i.length)for(var n=0;n<i.length;n++)i[n].onlyOnce||(i[n].isDone=i[n].frame<e);this._currentFrame=e;var r=this._animation._interpolate(e,this._animationState);this.setValue(r,-1)},e.prototype._prepareForSpeedRatioChange=function(e){var t=this._previousDelay*(this._animation.framePerSecond*e)/1e3;this._ratioOffset=this._previousRatio-t},e.prototype.animate=function(e,t,i,n,r,o){void 0===o&&(o=-1);var s=this._animation,a=s.targetPropertyPath;if(!a||a.length<1)return this._stopped=!0,!1;var c=!0;(t<this._minFrame||t>this._maxFrame)&&(t=this._minFrame),(i<this._minFrame||i>this._maxFrame)&&(i=this._maxFrame);var l,_,u=i-t,f=e*(s.framePerSecond*r)/1e3+this._ratioOffset,d=0;if(this._previousDelay=e,this._previousRatio=f,!n&&i>=t&&f>=u)c=!1,d=s._getKeyValue(this._maxValue);else if(!n&&t>=i&&f<=u)c=!1,d=s._getKeyValue(this._minValue);else if(this._animationState.loopMode!==se.ANIMATIONLOOPMODE_CYCLE){var h=i.toString()+t.toString();if(!this._offsetsCache[h]){this._animationState.repeatCount=0,this._animationState.loopMode=se.ANIMATIONLOOPMODE_CYCLE;var p=s._interpolate(t,this._animationState),b=s._interpolate(i,this._animationState);switch(this._animationState.loopMode=this._getCorrectLoopMode(),s.dataType){case se.ANIMATIONTYPE_FLOAT:this._offsetsCache[h]=b-p;break;case se.ANIMATIONTYPE_QUATERNION:this._offsetsCache[h]=b.subtract(p);break;case se.ANIMATIONTYPE_VECTOR3:this._offsetsCache[h]=b.subtract(p);case se.ANIMATIONTYPE_VECTOR2:this._offsetsCache[h]=b.subtract(p);case se.ANIMATIONTYPE_SIZE:this._offsetsCache[h]=b.subtract(p);case se.ANIMATIONTYPE_COLOR3:this._offsetsCache[h]=b.subtract(p)}this._highLimitsCache[h]=b}d=this._highLimitsCache[h],l=this._offsetsCache[h]}if(void 0===l)switch(s.dataType){case se.ANIMATIONTYPE_FLOAT:l=0;break;case se.ANIMATIONTYPE_QUATERNION:l=Ut;break;case se.ANIMATIONTYPE_VECTOR3:l=Ht;break;case se.ANIMATIONTYPE_VECTOR2:l=jt;break;case se.ANIMATIONTYPE_SIZE:l=Vt;break;case se.ANIMATIONTYPE_COLOR3:l=Gt}if(this._host&&this._host.syncRoot){var m=this._host.syncRoot;_=t+(i-t)*((m.masterFrame-m.fromFrame)/(m.toFrame-m.fromFrame))}else _=c&&0!==u?t+f%u:i;var A=this._events;if((u>0&&this.currentFrame>_||u<0&&this.currentFrame<_)&&(this._onLoop(),A.length))for(var g=0;g<A.length;g++)A[g].onlyOnce||(A[g].isDone=!1);this._currentFrame=_,this._animationState.repeatCount=0===u?0:f/u|0,this._animationState.highLimitValue=d,this._animationState.offsetValue=l;var y=s._interpolate(_,this._animationState);if(this.setValue(y,o),A.length)for(g=0;g<A.length;g++)if(u>0&&_>=A[g].frame&&A[g].frame>=t||u<0&&_<=A[g].frame&&A[g].frame<=t){var v=A[g];v.isDone||(v.onlyOnce&&(A.splice(g,1),g--),v.isDone=!0,v.action(_))}return c||(this._stopped=!0),c},e}(),Xt=i(755),zt=function(){function e(e,t,i,r,o,s,a,c,l,_){void 0===i&&(i=0),void 0===r&&(r=100),void 0===o&&(o=!1),void 0===s&&(s=1),void 0===_&&(_=!1),this.target=t,this.fromFrame=i,this.toFrame=r,this.loopAnimation=o,this.onAnimationEnd=a,this.onAnimationLoop=l,this.isAdditive=_,this._localDelayOffset=null,this._pausedDelay=null,this._runtimeAnimations=new Array,this._paused=!1,this._speedRatio=1,this._weight=-1,this._syncRoot=null,this.disposeOnEnd=!0,this.animationStarted=!1,this.onAnimationEndObservable=new n.a,this.onAnimationLoopObservable=new n.a,this._scene=e,c&&this.appendAnimations(t,c),this._speedRatio=s,e._activeAnimatables.push(this)}return Object.defineProperty(e.prototype,"syncRoot",{get:function(){return this._syncRoot},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"masterFrame",{get:function(){return 0===this._runtimeAnimations.length?0:this._runtimeAnimations[0].currentFrame},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"weight",{get:function(){return this._weight},set:function(e){this._weight=-1!==e?Math.min(Math.max(e,0),1):-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speedRatio",{get:function(){return this._speedRatio},set:function(e){for(var t=0;t<this._runtimeAnimations.length;t++){this._runtimeAnimations[t]._prepareForSpeedRatioChange(e)}this._speedRatio=e},enumerable:!1,configurable:!0}),e.prototype.syncWith=function(e){if(this._syncRoot=e,e){var t=this._scene._activeAnimatables.indexOf(this);t>-1&&(this._scene._activeAnimatables.splice(t,1),this._scene._activeAnimatables.push(this))}return this},e.prototype.getAnimations=function(){return this._runtimeAnimations},e.prototype.appendAnimations=function(e,t){for(var i=this,n=0;n<t.length;n++){var r=t[n],o=new Wt(e,r,this._scene,this);o._onLoop=function(){i.onAnimationLoopObservable.notifyObservers(i),i.onAnimationLoop&&i.onAnimationLoop()},this._runtimeAnimations.push(o)}},e.prototype.getAnimationByTargetProperty=function(e){for(var t=this._runtimeAnimations,i=0;i<t.length;i++)if(t[i].animation.targetProperty===e)return t[i].animation;return null},e.prototype.getRuntimeAnimationByTargetProperty=function(e){for(var t=this._runtimeAnimations,i=0;i<t.length;i++)if(t[i].animation.targetProperty===e)return t[i];return null},e.prototype.reset=function(){for(var e=this._runtimeAnimations,t=0;t<e.length;t++)e[t].reset(!0);this._localDelayOffset=null,this._pausedDelay=null},e.prototype.enableBlending=function(e){for(var t=this._runtimeAnimations,i=0;i<t.length;i++)t[i].animation.enableBlending=!0,t[i].animation.blendingSpeed=e},e.prototype.disableBlending=function(){for(var e=this._runtimeAnimations,t=0;t<e.length;t++)e[t].animation.enableBlending=!1},e.prototype.goToFrame=function(e){var t=this._runtimeAnimations;if(t[0]){var i=t[0].animation.framePerSecond,n=t[0].currentFrame,r=0===this.speedRatio?0:(e-n)/i*1e3/this.speedRatio;null===this._localDelayOffset&&(this._localDelayOffset=0),this._localDelayOffset-=r}for(var o=0;o<t.length;o++)t[o].goToFrame(e)},e.prototype.pause=function(){this._paused||(this._paused=!0)},e.prototype.restart=function(){this._paused=!1},e.prototype._raiseOnAnimationEnd=function(){this.onAnimationEnd&&this.onAnimationEnd(),this.onAnimationEndObservable.notifyObservers(this)},e.prototype.stop=function(e,t){if(e||t){var i=this._scene._activeAnimatables.indexOf(this);if(i>-1){for(var n=(o=this._runtimeAnimations).length-1;n>=0;n--){var r=o[n];e&&r.animation.name!=e||(t&&!t(r.target)||(r.dispose(),o.splice(n,1)))}0==o.length&&(this._scene._activeAnimatables.splice(i,1),this._raiseOnAnimationEnd())}}else{if((n=this._scene._activeAnimatables.indexOf(this))>-1){this._scene._activeAnimatables.splice(n,1);var o=this._runtimeAnimations;for(n=0;n<o.length;n++)o[n].dispose();this._raiseOnAnimationEnd()}}},e.prototype.waitAsync=function(){var e=this;return new Promise(function(t,i){e.onAnimationEndObservable.add(function(){t(e)},void 0,void 0,e,!0)})},e.prototype._animate=function(e){if(this._paused)return this.animationStarted=!1,null===this._pausedDelay&&(this._pausedDelay=e),!0;if(null===this._localDelayOffset?(this._localDelayOffset=e,this._pausedDelay=null):null!==this._pausedDelay&&(this._localDelayOffset+=e-this._pausedDelay,this._pausedDelay=null),0===this._weight)return!0;var t,i=!1,n=this._runtimeAnimations;for(t=0;t<n.length;t++){var r=n[t].animate(e-this._localDelayOffset,this.fromFrame,this.toFrame,this.loopAnimation,this._speedRatio,this._weight);i=i||r}if(this.animationStarted=i,!i){if(this.disposeOnEnd)for(t=this._scene._activeAnimatables.indexOf(this),this._scene._activeAnimatables.splice(t,1),t=0;t<n.length;t++)n[t].dispose();this._raiseOnAnimationEnd(),this.disposeOnEnd&&(this.onAnimationEnd=null,this.onAnimationLoop=null,this.onAnimationLoopObservable.clear(),this.onAnimationEndObservable.clear())}return i},e}();Ce.a.prototype._animate=function(){if(this.animationsEnabled){var e=Xt.a.Now;if(!this._animationTimeLast){if(this._pendingData.length>0)return;this._animationTimeLast=e}this.deltaTime=this.useConstantAnimationDeltaTime?16:(e-this._animationTimeLast)*this.animationTimeScale,this._animationTimeLast=e;var t=this._activeAnimatables;if(0!==t.length){this._animationTime+=this.deltaTime;for(var i=this._animationTime,n=0;n<t.length;n++){var r=t[n];!r._animate(i)&&r.disposeOnEnd&&n--}this._processLateAnimationBindings()}}},Ce.a.prototype.beginWeightedAnimation=function(e,t,i,n,r,o,s,a,c,l,_){void 0===n&&(n=1),void 0===o&&(o=1),void 0===_&&(_=!1);var u=this.beginAnimation(e,t,i,r,o,s,a,!1,c,l,_);return u.weight=n,u},Ce.a.prototype.beginAnimation=function(e,t,i,n,r,o,s,a,c,l,_){void 0===r&&(r=1),void 0===a&&(a=!0),void 0===_&&(_=!1),t>i&&r>0&&(r*=-1),a&&this.stopAnimation(e,void 0,c),s||(s=new zt(this,e,t,i,n,r,o,void 0,l,_));var u=!c||c(e);if(e.animations&&u&&s.appendAnimations(e,e.animations),e.getAnimatables)for(var f=e.getAnimatables(),d=0;d<f.length;d++)this.beginAnimation(f[d],t,i,n,r,o,s,a,c,l);return s.reset(),s},Ce.a.prototype.beginHierarchyAnimation=function(e,t,i,n,r,o,s,a,c,l,_,u){void 0===o&&(o=1),void 0===c&&(c=!0),void 0===u&&(u=!1);var f=e.getDescendants(t),d=[];d.push(this.beginAnimation(e,i,n,r,o,s,a,c,l,void 0,u));for(var h=0,p=f;h<p.length;h++){var b=p[h];d.push(this.beginAnimation(b,i,n,r,o,s,a,c,l,void 0,u))}return d},Ce.a.prototype.beginDirectAnimation=function(e,t,i,n,r,o,s,a,c){return void 0===c&&(c=!1),void 0===o&&(o=1),i>n&&o>0&&(o*=-1),new zt(this,e,i,n,r,o,s,t,a,c)},Ce.a.prototype.beginDirectHierarchyAnimation=function(e,t,i,n,r,o,s,a,c,l){void 0===l&&(l=!1);var _=e.getDescendants(t),u=[];u.push(this.beginDirectAnimation(e,i,n,r,o,s,a,c,l));for(var f=0,d=_;f<d.length;f++){var h=d[f];u.push(this.beginDirectAnimation(h,i,n,r,o,s,a,c,l))}return u},Ce.a.prototype.getAnimatableByTarget=function(e){for(var t=0;t<this._activeAnimatables.length;t++)if(this._activeAnimatables[t].target===e)return this._activeAnimatables[t];return null},Ce.a.prototype.getAllAnimatablesByTarget=function(e){for(var t=[],i=0;i<this._activeAnimatables.length;i++)this._activeAnimatables[i].target===e&&t.push(this._activeAnimatables[i]);return t},Ce.a.prototype.stopAnimation=function(e,t,i){for(var n=0,r=this.getAllAnimatablesByTarget(e);n<r.length;n++){r[n].stop(t,i)}},Ce.a.prototype.stopAllAnimations=function(){if(this._activeAnimatables){for(var e=0;e<this._activeAnimatables.length;e++)this._activeAnimatables[e].stop();this._activeAnimatables=[]}for(var t=0,i=this.animationGroups;t<i.length;t++){i[t].stop()}},Ce.a.prototype._registerTargetForLateAnimationBinding=function(e,t){var i=e.target;this._registeredForLateAnimationBindings.pushNoDuplicate(i),i._lateAnimationHolders||(i._lateAnimationHolders={}),i._lateAnimationHolders[e.targetPath]||(i._lateAnimationHolders[e.targetPath]={totalWeight:0,totalAdditiveWeight:0,animations:[],additiveAnimations:[],originalValue:t}),e.isAdditive?(i._lateAnimationHolders[e.targetPath].additiveAnimations.push(e),i._lateAnimationHolders[e.targetPath].totalAdditiveWeight+=e.weight):(i._lateAnimationHolders[e.targetPath].animations.push(e),i._lateAnimationHolders[e.targetPath].totalWeight+=e.weight)},Ce.a.prototype._processLateAnimationBindingsForMatrices=function(e){if(0===e.totalWeight&&0===e.totalAdditiveWeight)return e.originalValue;var t=1,i=L.c.Vector3[0],n=L.c.Vector3[1],r=L.c.Quaternion[0],o=0,s=e.animations[0],a=e.originalValue,c=1,l=!1;if(e.totalWeight<1)c=1-e.totalWeight,a.decompose(n,r,i);else{if(o=1,t=e.totalWeight,1==(c=s.weight/t)){if(!e.totalAdditiveWeight)return s.currentValue;l=!0}s.currentValue.decompose(n,r,i)}if(!l){n.scaleInPlace(c),i.scaleInPlace(c),r.scaleInPlace(c);for(var _=o;_<e.animations.length;_++){if(0!==(p=e.animations[_]).weight){c=p.weight/t;var u=L.c.Vector3[2],f=L.c.Vector3[3],d=L.c.Quaternion[1];p.currentValue.decompose(f,d,u),f.scaleAndAddToRef(c,n),d.scaleAndAddToRef(c,r),u.scaleAndAddToRef(c,i)}}}for(var h=0;h<e.additiveAnimations.length;h++){var p;if(0!==(p=e.additiveAnimations[h]).weight){u=L.c.Vector3[2],f=L.c.Vector3[3],d=L.c.Quaternion[1];p.currentValue.decompose(f,d,u),f.multiplyToRef(n,f),L.e.LerpToRef(n,f,p.weight,n),r.multiplyToRef(d,d),L.b.SlerpToRef(r,d,p.weight,r),u.scaleAndAddToRef(p.weight,i)}}var b=s?s._animationState.workValue:L.c.Matrix[0].clone();return L.a.ComposeToRef(n,r,i,b),b},Ce.a.prototype._processLateAnimationBindingsForQuaternions=function(e,t){if(0===e.totalWeight&&0===e.totalAdditiveWeight)return t;var i=e.animations[0],n=e.originalValue,r=t;if(0===e.totalWeight&&e.totalAdditiveWeight>0)r.copyFrom(n);else if(1===e.animations.length){if(L.b.SlerpToRef(n,i.currentValue,Math.min(1,e.totalWeight),r),0===e.totalAdditiveWeight)return r}else if(e.animations.length>1){var o=1,s=void 0,a=void 0;if(e.totalWeight<1){var c=1-e.totalWeight;a=[],(s=[]).push(n),a.push(c)}else{if(2===e.animations.length&&(L.b.SlerpToRef(e.animations[0].currentValue,e.animations[1].currentValue,e.animations[1].weight/e.totalWeight,t),0===e.totalAdditiveWeight))return t;s=[],a=[],o=e.totalWeight}for(var l=0;l<e.animations.length;l++){var _=e.animations[l];s.push(_.currentValue),a.push(_.weight/o)}for(var u=0,f=0;f<s.length;)f?(u+=a[f],L.b.SlerpToRef(r,s[f],a[f]/u,r),f++):(L.b.SlerpToRef(s[f],s[f+1],a[f+1]/(a[f]+a[f+1]),t),r=t,u=a[f]+a[f+1],f+=2)}for(var d=0;d<e.additiveAnimations.length;d++){0!==(_=e.additiveAnimations[d]).weight&&(r.multiplyToRef(_.currentValue,L.c.Quaternion[0]),L.b.SlerpToRef(r,L.c.Quaternion[0],_.weight,r))}return r},Ce.a.prototype._processLateAnimationBindings=function(){if(this._registeredForLateAnimationBindings.length){for(var e=0;e<this._registeredForLateAnimationBindings.length;e++){var t=this._registeredForLateAnimationBindings.data[e];for(var i in t._lateAnimationHolders){var n=t._lateAnimationHolders[i],r=n.animations[0],o=n.originalValue,s=se.AllowMatrixDecomposeForInterpolation&&o.m,a=t[i];if(s)a=this._processLateAnimationBindingsForMatrices(n);else if(void 0!==o.w)a=this._processLateAnimationBindingsForQuaternions(n,a||L.b.Identity());else{var c=0,l=1;if(n.totalWeight<1)a=r&&o.scale?o.scale(1-n.totalWeight):r?o*(1-n.totalWeight):o.clone?o.clone():o;else if(r){l=n.totalWeight;var _=r.weight/l;a=1!==_?r.currentValue.scale?r.currentValue.scale(_):r.currentValue*_:r.currentValue,c=1}for(var u=c;u<n.animations.length;u++){(h=(d=n.animations[u]).weight/l)&&(d.currentValue.scaleAndAddToRef?d.currentValue.scaleAndAddToRef(h,a):a+=d.currentValue*h)}for(var f=0;f<n.additiveAnimations.length;f++){var d,h;(h=(d=n.additiveAnimations[f]).weight)&&(d.currentValue.scaleAndAddToRef?d.currentValue.scaleAndAddToRef(h,a):a+=d.currentValue*h)}}t[i]=a}t._lateAnimationHolders={}}this._registeredForLateAnimationBindings.reset()}},ce.prototype.copyAnimationRange=function(e,t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=null),0===this.animations.length&&(this.animations.push(new se(this.name,"_matrix",e.animations[0].framePerSecond,se.ANIMATIONTYPE_MATRIX,0)),this.animations[0].setKeys([]));var o=e.animations[0].getRange(t);if(!o)return!1;for(var s,a,c,l=o.from,_=o.to,u=e.animations[0].getKeys(),f=e.length,d=e.getParent(),h=this.getParent(),p=n&&d&&f&&this.length&&f!==this.length,b=p&&h&&d?h.length/d.length:1,m=n&&!h&&r&&(1!==r.x||1!==r.y||1!==r.z),A=this.animations[0].getKeys(),g=0,y=u.length;g<y;g++)(s=u[g]).frame>=l&&s.frame<=_&&(n?(c=s.value.clone(),p?(a=c.getTranslation(),c.setTranslation(a.scaleInPlace(b))):m&&r?(a=c.getTranslation(),c.setTranslation(a.multiplyInPlace(r))):c=s.value):c=s.value,A.push({frame:s.frame+i,value:c}));return this.animations[0].createRange(t,l+i,_+i),!0};var Yt=function(){function e(){}return e.prototype.getClassName=function(){return"TargetedAnimation"},e.prototype.serialize=function(){var e={};return e.animation=this.animation.serialize(),e.targetId=this.target.id,e},e}(),Qt=function(){function e(e,t){void 0===t&&(t=null),this.name=e,this._targetedAnimations=new Array,this._animatables=new Array,this._from=Number.MAX_VALUE,this._to=-Number.MAX_VALUE,this._speedRatio=1,this._loopAnimation=!1,this._isAdditive=!1,this.onAnimationEndObservable=new n.a,this.onAnimationLoopObservable=new n.a,this.onAnimationGroupLoopObservable=new n.a,this.onAnimationGroupEndObservable=new n.a,this.onAnimationGroupPauseObservable=new n.a,this.onAnimationGroupPlayObservable=new n.a,this._scene=t||_.a.LastCreatedScene,this.uniqueId=this._scene.getUniqueId(),this._scene.addAnimationGroup(this)}return Object.defineProperty(e.prototype,"from",{get:function(){return this._from},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"to",{get:function(){return this._to},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isStarted",{get:function(){return this._isStarted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isPlaying",{get:function(){return this._isStarted&&!this._isPaused},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"speedRatio",{get:function(){return this._speedRatio},set:function(e){if(this._speedRatio!==e){this._speedRatio=e;for(var t=0;t<this._animatables.length;t++){this._animatables[t].speedRatio=this._speedRatio}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"loopAnimation",{get:function(){return this._loopAnimation},set:function(e){if(this._loopAnimation!==e){this._loopAnimation=e;for(var t=0;t<this._animatables.length;t++){this._animatables[t].loopAnimation=this._loopAnimation}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isAdditive",{get:function(){return this._isAdditive},set:function(e){if(this._isAdditive!==e){this._isAdditive=e;for(var t=0;t<this._animatables.length;t++){this._animatables[t].isAdditive=this._isAdditive}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"targetedAnimations",{get:function(){return this._targetedAnimations},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animatables",{get:function(){return this._animatables},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"children",{get:function(){return this._targetedAnimations},enumerable:!1,configurable:!0}),e.prototype.addTargetedAnimation=function(e,t){var i=new Yt;i.animation=e,i.target=t;var n=e.getKeys();return this._from>n[0].frame&&(this._from=n[0].frame),this._to<n[n.length-1].frame&&(this._to=n[n.length-1].frame),this._targetedAnimations.push(i),i},e.prototype.normalize=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null),null==e&&(e=this._from),null==t&&(t=this._to);for(var i=0;i<this._targetedAnimations.length;i++){var n=this._targetedAnimations[i].animation.getKeys(),r=n[0],o=n[n.length-1];if(r.frame>e){var s={frame:e,value:r.value,inTangent:r.inTangent,outTangent:r.outTangent,interpolation:r.interpolation};n.splice(0,0,s)}if(o.frame<t){s={frame:t,value:o.value,inTangent:o.inTangent,outTangent:o.outTangent,interpolation:o.interpolation};n.push(s)}}return this._from=e,this._to=t,this},e.prototype._processLoop=function(e,t,i){var n=this;e.onAnimationLoop=function(){n.onAnimationLoopObservable.notifyObservers(t),n._animationLoopFlags[i]||(n._animationLoopFlags[i]=!0,n._animationLoopCount++,n._animationLoopCount===n._targetedAnimations.length&&(n.onAnimationGroupLoopObservable.notifyObservers(n),n._animationLoopCount=0,n._animationLoopFlags=[]))}},e.prototype.start=function(e,t,i,n,r){var o=this;if(void 0===e&&(e=!1),void 0===t&&(t=1),this._isStarted||0===this._targetedAnimations.length)return this;this._loopAnimation=e,this._animationLoopCount=0,this._animationLoopFlags=[];for(var s=function(){var s=a._targetedAnimations[c],l=a._scene.beginDirectAnimation(s.target,[s.animation],void 0!==i?i:a._from,void 0!==n?n:a._to,e,t,void 0,void 0,void 0!==r?r:a._isAdditive);l.onAnimationEnd=function(){o.onAnimationEndObservable.notifyObservers(s),o._checkAnimationGroupEnded(l)},a._processLoop(l,s,c),a._animatables.push(l)},a=this,c=0;c<this._targetedAnimations.length;c++)s();if(this._speedRatio=t,void 0!==i&&void 0!==n)if(i<n&&this._speedRatio<0){var l=n;n=i,i=l}else i>n&&this._speedRatio>0&&(this._speedRatio=-t);return this._isStarted=!0,this._isPaused=!1,this.onAnimationGroupPlayObservable.notifyObservers(this),this},e.prototype.pause=function(){if(!this._isStarted)return this;this._isPaused=!0;for(var e=0;e<this._animatables.length;e++){this._animatables[e].pause()}return this.onAnimationGroupPauseObservable.notifyObservers(this),this},e.prototype.play=function(e){return this.isStarted&&this._animatables.length===this._targetedAnimations.length?(void 0!==e&&(this.loopAnimation=e),this.restart()):(this.stop(),this.start(e,this._speedRatio)),this._isPaused=!1,this},e.prototype.reset=function(){if(!this._isStarted)return this.play(),this.goToFrame(0),this.stop(),this;for(var e=0;e<this._animatables.length;e++){this._animatables[e].reset()}return this},e.prototype.restart=function(){if(!this._isStarted)return this;for(var e=0;e<this._animatables.length;e++){this._animatables[e].restart()}return this.onAnimationGroupPlayObservable.notifyObservers(this),this},e.prototype.stop=function(){if(!this._isStarted)return this;for(var e=this._animatables.slice(),t=0;t<e.length;t++)e[t].stop();return this._isStarted=!1,this},e.prototype.setWeightForAllAnimatables=function(e){for(var t=0;t<this._animatables.length;t++){this._animatables[t].weight=e}return this},e.prototype.syncAllAnimationsWith=function(e){for(var t=0;t<this._animatables.length;t++){this._animatables[t].syncWith(e)}return this},e.prototype.goToFrame=function(e){if(!this._isStarted)return this;for(var t=0;t<this._animatables.length;t++){this._animatables[t].goToFrame(e)}return this},e.prototype.dispose=function(){this._targetedAnimations=[],this._animatables=[];var e=this._scene.animationGroups.indexOf(this);e>-1&&this._scene.animationGroups.splice(e,1),this.onAnimationEndObservable.clear(),this.onAnimationGroupEndObservable.clear(),this.onAnimationGroupPauseObservable.clear(),this.onAnimationGroupPlayObservable.clear(),this.onAnimationLoopObservable.clear(),this.onAnimationGroupLoopObservable.clear()},e.prototype._checkAnimationGroupEnded=function(e){var t=this._animatables.indexOf(e);t>-1&&this._animatables.splice(t,1),0===this._animatables.length&&(this._isStarted=!1,this.onAnimationGroupEndObservable.notifyObservers(this))},e.prototype.clone=function(t,i){for(var n=new e(t||this.name,this._scene),r=0,o=this._targetedAnimations;r<o.length;r++){var s=o[r];n.addTargetedAnimation(s.animation.clone(),i?i(s.target):s.target)}return n},e.prototype.serialize=function(){var e={};e.name=this.name,e.from=this.from,e.to=this.to,e.targetedAnimations=[];for(var t=0;t<this.targetedAnimations.length;t++){var i=this.targetedAnimations[t];e.targetedAnimations[t]=i.serialize()}return e},e.Parse=function(t,i){for(var n=new e(t.name,i),r=0;r<t.targetedAnimations.length;r++){var o=t.targetedAnimations[r],s=se.Parse(o.animation),a=o.targetId;if("influence"===o.animation.property){var c=i.getMorphTargetById(a);c&&n.addTargetedAnimation(s,c)}else{var l=i.getNodeByID(a);null!=l&&n.addTargetedAnimation(s,l)}}return null!==t.from&&null!==t.to&&n.normalize(t.from,t.to),n},e.MakeAnimationAdditive=function(e,t,i,n,r){void 0===t&&(t=0),void 0===n&&(n=!1);var o=e;n&&(o=e.clone(r||o.name));for(var s=o.targetedAnimations,a=0;a<s.length;a++){var c=s[a];se.MakeAnimationAdditive(c.animation,t,i)}return o.isAdditive=!0,o},e.prototype.getClassName=function(){return"AnimationGroup"},e.prototype.toString=function(e){var t="Name: "+this.name;return t+=", type: "+this.getClassName(),e&&(t+=", from: "+this._from,t+=", to: "+this._to,t+=", isStarted: "+this._isStarted,t+=", speedRatio: "+this._speedRatio,t+=", targetedAnimations length: "+this._targetedAnimations.length,t+=", animatables length: "+this._animatables),t},e}(),Kt=i(671),Zt=i(803),Jt=function(){function e(e,t,i){void 0===t&&(t=0),void 0===i&&(i=null),this.name=e,this.animations=new Array,this._positions=null,this._normals=null,this._tangents=null,this._uvs=null,this._uniqueId=0,this.onInfluenceChanged=new n.a,this._onDataLayoutChanged=new n.a,this._animationPropertiesOverride=null,this._scene=i||_.a.LastCreatedScene,this.influence=t,this._scene&&(this._uniqueId=this._scene.getUniqueId())}return Object.defineProperty(e.prototype,"influence",{get:function(){return this._influence},set:function(e){if(this._influence!==e){var t=this._influence;this._influence=e,this.onInfluenceChanged.hasObservers()&&this.onInfluenceChanged.notifyObservers(0===t||0===e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"animationPropertiesOverride",{get:function(){return!this._animationPropertiesOverride&&this._scene?this._scene.animationPropertiesOverride:this._animationPropertiesOverride},set:function(e){this._animationPropertiesOverride=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasPositions",{get:function(){return!!this._positions},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasNormals",{get:function(){return!!this._normals},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasTangents",{get:function(){return!!this._tangents},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasUVs",{get:function(){return!!this._uvs},enumerable:!1,configurable:!0}),e.prototype.setPositions=function(e){var t=this.hasPositions;this._positions=e,t!==this.hasPositions&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getPositions=function(){return this._positions},e.prototype.setNormals=function(e){var t=this.hasNormals;this._normals=e,t!==this.hasNormals&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getNormals=function(){return this._normals},e.prototype.setTangents=function(e){var t=this.hasTangents;this._tangents=e,t!==this.hasTangents&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getTangents=function(){return this._tangents},e.prototype.setUVs=function(e){var t=this.hasUVs;this._uvs=e,t!==this.hasUVs&&this._onDataLayoutChanged.notifyObservers(void 0)},e.prototype.getUVs=function(){return this._uvs},e.prototype.clone=function(){var t=this,i=B.a.Clone(function(){return new e(t.name,t.influence,t._scene)},this);return i._positions=this._positions,i._normals=this._normals,i._tangents=this._tangents,i._uvs=this._uvs,i},e.prototype.serialize=function(){var e={};return e.name=this.name,e.influence=this.influence,e.positions=Array.prototype.slice.call(this.getPositions()),null!=this.id&&(e.id=this.id),this.hasNormals&&(e.normals=Array.prototype.slice.call(this.getNormals())),this.hasTangents&&(e.tangents=Array.prototype.slice.call(this.getTangents())),this.hasUVs&&(e.uvs=Array.prototype.slice.call(this.getUVs())),B.a.AppendSerializedAnimations(this,e),e},e.prototype.getClassName=function(){return"MorphTarget"},e.Parse=function(t){var i=new e(t.name,t.influence);if(i.setPositions(t.positions),null!=t.id&&(i.id=t.id),t.normals&&i.setNormals(t.normals),t.tangents&&i.setTangents(t.tangents),t.uvs&&i.setUVs(t.uvs),t.animations)for(var n=0;n<t.animations.length;n++){var r=t.animations[n],o=te.a.GetClass("BABYLON.Animation");o&&i.animations.push(o.Parse(r))}return i},e.FromMesh=function(t,i,n){i||(i=t.name);var r=new e(i,n,t.getScene());return r.setPositions(t.getVerticesData(Ee.b.PositionKind)),t.isVerticesDataPresent(Ee.b.NormalKind)&&r.setNormals(t.getVerticesData(Ee.b.NormalKind)),t.isVerticesDataPresent(Ee.b.TangentKind)&&r.setTangents(t.getVerticesData(Ee.b.TangentKind)),t.isVerticesDataPresent(Ee.b.UVKind)&&r.setUVs(t.getVerticesData(Ee.b.UVKind)),r},Object(s.b)([Object(B.c)()],e.prototype,"id",void 0),e}(),qt=function(){function e(e){void 0===e&&(e=null),this._targets=new Array,this._targetInfluenceChangedObservers=new Array,this._targetDataLayoutChangedObservers=new Array,this._activeTargets=new ve.a(16),this._supportsNormals=!1,this._supportsTangents=!1,this._supportsUVs=!1,this._vertexCount=0,this._uniqueId=0,this._tempInfluences=new Array,this.enableNormalMorphing=!0,this.enableTangentMorphing=!0,this.enableUVMorphing=!0,e||(e=_.a.LastCreatedScene),this._scene=e,this._scene&&(this._scene.morphTargetManagers.push(this),this._uniqueId=this._scene.getUniqueId())}return Object.defineProperty(e.prototype,"uniqueId",{get:function(){return this._uniqueId},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vertexCount",{get:function(){return this._vertexCount},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsNormals",{get:function(){return this._supportsNormals&&this.enableNormalMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsTangents",{get:function(){return this._supportsTangents&&this.enableTangentMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsUVs",{get:function(){return this._supportsUVs&&this.enableUVMorphing},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numTargets",{get:function(){return this._targets.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"numInfluencers",{get:function(){return this._activeTargets.length},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"influences",{get:function(){return this._influences},enumerable:!1,configurable:!0}),e.prototype.getActiveTarget=function(e){return this._activeTargets.data[e]},e.prototype.getTarget=function(e){return this._targets[e]},e.prototype.addTarget=function(e){var t=this;this._targets.push(e),this._targetInfluenceChangedObservers.push(e.onInfluenceChanged.add(function(e){t._syncActiveTargets(e)})),this._targetDataLayoutChangedObservers.push(e._onDataLayoutChanged.add(function(){t._syncActiveTargets(!0)})),this._syncActiveTargets(!0)},e.prototype.removeTarget=function(e){var t=this._targets.indexOf(e);t>=0&&(this._targets.splice(t,1),e.onInfluenceChanged.remove(this._targetInfluenceChangedObservers.splice(t,1)[0]),e._onDataLayoutChanged.remove(this._targetDataLayoutChangedObservers.splice(t,1)[0]),this._syncActiveTargets(!0))},e.prototype.clone=function(){for(var t=new e(this._scene),i=0,n=this._targets;i<n.length;i++){var r=n[i];t.addTarget(r.clone())}return t.enableNormalMorphing=this.enableNormalMorphing,t.enableTangentMorphing=this.enableTangentMorphing,t.enableUVMorphing=this.enableUVMorphing,t},e.prototype.serialize=function(){var e={};e.id=this.uniqueId,e.targets=[];for(var t=0,i=this._targets;t<i.length;t++){var n=i[t];e.targets.push(n.serialize())}return e},e.prototype._syncActiveTargets=function(e){var t=0;this._activeTargets.reset(),this._supportsNormals=!0,this._supportsTangents=!0,this._supportsUVs=!0,this._vertexCount=0;for(var i=0,n=this._targets;i<n.length;i++){var r=n[i];if(0!==r.influence){this._activeTargets.push(r),this._tempInfluences[t++]=r.influence,this._supportsNormals=this._supportsNormals&&r.hasNormals,this._supportsTangents=this._supportsTangents&&r.hasTangents,this._supportsUVs=this._supportsUVs&&r.hasUVs;var o=r.getPositions();if(o){var s=o.length/3;if(0===this._vertexCount)this._vertexCount=s;else if(this._vertexCount!==s)return void l.a.Error("Incompatible target. Targets must all have the same vertices count.")}}}this._influences&&this._influences.length===t||(this._influences=new Float32Array(t));for(var a=0;a<t;a++)this._influences[a]=this._tempInfluences[a];e&&this.synchronize()},e.prototype.synchronize=function(){if(this._scene)for(var e=0,t=this._scene.meshes;e<t.length;e++){var i=t[e];i.morphTargetManager===this&&i._syncGeometryWithMorphTargetManager()}},e.Parse=function(t,i){var n=new e(i);n._uniqueId=t.id;for(var r=0,o=t.targets;r<o.length;r++){var s=o[r];n.addTarget(Jt.Parse(s))}return n},e}(),$t=i(761),ei=i(704),ti=function(){function e(){}return e.Get=function(e,t,i){if(!t||void 0==i||!t[i])throw new Error(e+": Failed to find index ("+i+")");return t[i]},e.Assign=function(e){if(e)for(var t=0;t<e.length;t++)e[t].index=t},e}(),ii=function(){function e(e){this._completePromises=new Array,this._forAssetContainer=!1,this._babylonLights=[],this._disableInstancedMesh=0,this._disposed=!1,this._state=null,this._extensions=new Array,this._defaultBabylonMaterialData={},this._parent=e}return e.RegisterExtension=function(t,i){e.UnregisterExtension(t)&&l.a.Warn("Extension with the name '"+t+"' already exists"),e._RegisteredExtensions[t]={factory:i}},e.UnregisterExtension=function(t){return!!e._RegisteredExtensions[t]&&(delete e._RegisteredExtensions[t],!0)},Object.defineProperty(e.prototype,"state",{get:function(){return this._state},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"gltf",{get:function(){return this._gltf},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"bin",{get:function(){return this._bin},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this._parent},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"babylonScene",{get:function(){return this._babylonScene},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rootBabylonMesh",{get:function(){return this._rootBabylonMesh},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){if(!this._disposed){for(var e in this._disposed=!0,this._completePromises.length=0,this._extensions){var t=this._extensions[e];t.dispose&&t.dispose(),delete this._extensions[e]}this._gltf=null,this._babylonScene=null,this._rootBabylonMesh=null,this._parent.dispose()}},e.prototype.importMeshAsync=function(e,t,i,n,r,o,s){var a=this;return Promise.resolve().then(function(){a._babylonScene=t,a._rootUrl=r,a._fileName=s||"scene",a._forAssetContainer=i,a._loadData(n);var o=null;if(e){var c={};if(a._gltf.nodes)for(var l=0,_=a._gltf.nodes;l<_.length;l++){var u=_[l];u.name&&(c[u.name]=u.index)}o=(e instanceof Array?e:[e]).map(function(e){var t=c[e];if(void 0===t)throw new Error("Failed to find node '"+e+"'");return t})}return a._loadAsync(o,function(){return{meshes:a._getMeshes(),particleSystems:[],skeletons:a._getSkeletons(),animationGroups:a._getAnimationGroups(),lights:a._babylonLights,transformNodes:a._getTransformNodes(),geometries:a._getGeometries()}})})},e.prototype.loadAsync=function(e,t,i,n,r){var o=this;return Promise.resolve().then(function(){return o._babylonScene=e,o._rootUrl=i,o._fileName=r||"scene",o._loadData(t),o._loadAsync(null,function(){})})},e.prototype._loadAsync=function(e,t){var i=this;return Promise.resolve().then(function(){i._uniqueRootUrl=-1===i._rootUrl.indexOf("file:")&&i._fileName?i._rootUrl:""+i._rootUrl+Date.now()+"/",i._loadExtensions(),i._checkExtensions();var n=y[y.LOADING]+" => "+y[y.READY],o=y[y.LOADING]+" => "+y[y.COMPLETE];i._parent._startPerformanceCounter(n),i._parent._startPerformanceCounter(o),i._setState(y.LOADING),i._extensionsOnLoading();var s=new Array,a=i._babylonScene.blockMaterialDirtyMechanism;if(i._babylonScene.blockMaterialDirtyMechanism=!0,e)s.push(i.loadSceneAsync("/nodes",{nodes:e,index:-1}));else if(void 0!=i._gltf.scene||i._gltf.scenes&&i._gltf.scenes[0]){var c=ti.Get("/scene",i._gltf.scenes,i._gltf.scene||0);s.push(i.loadSceneAsync("/scenes/"+c.index,c))}if(i.parent.loadAllMaterials&&i._gltf.materials)for(var l=0;l<i._gltf.materials.length;++l){var _=i._gltf.materials[l],u="/materials/"+l,f=ge.a.TriangleFillMode;s.push(i._loadMaterialAsync(u,_,null,f,function(e){}))}i._babylonScene.blockMaterialDirtyMechanism=a,i._parent.compileMaterials&&s.push(i._compileMaterialsAsync()),i._parent.compileShadowGenerators&&s.push(i._compileShadowGeneratorsAsync());var d=Promise.all(s).then(function(){return i._rootBabylonMesh&&i._rootBabylonMesh.setEnabled(!0),i._extensionsOnReady(),i._setState(y.READY),i._startAnimations(),t()});return d.then(function(){i._parent._endPerformanceCounter(n),r.b.SetImmediate(function(){i._disposed||Promise.all(i._completePromises).then(function(){i._parent._endPerformanceCounter(o),i._setState(y.COMPLETE),i._parent.onCompleteObservable.notifyObservers(void 0),i._parent.onCompleteObservable.clear(),i.dispose()},function(e){i._parent.onErrorObservable.notifyObservers(e),i._parent.onErrorObservable.clear(),i.dispose()})})}),d}).catch(function(e){throw i._disposed||(i._parent.onErrorObservable.notifyObservers(e),i._parent.onErrorObservable.clear(),i.dispose()),e})},e.prototype._loadData=function(e){if(this._gltf=e.json,this._setupData(),e.bin){var t=this._gltf.buffers;if(t&&t[0]&&!t[0].uri){var i=t[0];(i.byteLength<e.bin.byteLength-3||i.byteLength>e.bin.byteLength)&&l.a.Warn("Binary buffer length ("+i.byteLength+") from JSON does not match chunk length ("+e.bin.byteLength+")"),this._bin=e.bin}else l.a.Warn("Unexpected BIN chunk")}},e.prototype._setupData=function(){if(ti.Assign(this._gltf.accessors),ti.Assign(this._gltf.animations),ti.Assign(this._gltf.buffers),ti.Assign(this._gltf.bufferViews),ti.Assign(this._gltf.cameras),ti.Assign(this._gltf.images),ti.Assign(this._gltf.materials),ti.Assign(this._gltf.meshes),ti.Assign(this._gltf.nodes),ti.Assign(this._gltf.samplers),ti.Assign(this._gltf.scenes),ti.Assign(this._gltf.skins),ti.Assign(this._gltf.textures),this._gltf.nodes){for(var e={},t=0,i=this._gltf.nodes;t<i.length;t++){if((c=i[t]).children)for(var n=0,r=c.children;n<r.length;n++){e[r[n]]=c.index}}for(var o=this._createRootNode(),s=0,a=this._gltf.nodes;s<a.length;s++){var c,l=e[(c=a[s]).index];c.parent=void 0===l?o:this._gltf.nodes[l]}}},e.prototype._loadExtensions=function(){for(var t in e._RegisteredExtensions){var i=e._RegisteredExtensions[t].factory(this);i.name!==t&&l.a.Warn("The name of the glTF loader extension instance does not match the registered name: "+i.name+" !== "+t),this._extensions.push(i),this._parent.onExtensionLoadedObservable.notifyObservers(i)}this._extensions.sort(function(e,t){return(e.order||Number.MAX_VALUE)-(t.order||Number.MAX_VALUE)}),this._parent.onExtensionLoadedObservable.clear()},e.prototype._checkExtensions=function(){if(this._gltf.extensionsRequired)for(var e=function(e){if(!t._extensions.some(function(t){return t.name===e&&t.enabled}))throw new Error("Require extension "+e+" is not available")},t=this,i=0,n=this._gltf.extensionsRequired;i<n.length;i++){e(n[i])}},e.prototype._setState=function(e){this._state=e,this.log(y[this._state])},e.prototype._createRootNode=function(){this._babylonScene._blockEntityCollection=this._forAssetContainer,this._rootBabylonMesh=new c.a("__root__",this._babylonScene),this._babylonScene._blockEntityCollection=!1,this._rootBabylonMesh.setEnabled(!1);var t={_babylonTransformNode:this._rootBabylonMesh,index:-1};switch(this._parent.coordinateSystemMode){case A.AUTO:this._babylonScene.useRightHandedSystem||(t.rotation=[0,1,0,0],t.scale=[1,1,-1],e._LoadTransform(t,this._rootBabylonMesh));break;case A.FORCE_RIGHT_HANDED:this._babylonScene.useRightHandedSystem=!0;break;default:throw new Error("Invalid coordinate system mode ("+this._parent.coordinateSystemMode+")")}return this._parent.onMeshLoadedObservable.notifyObservers(this._rootBabylonMesh),t},e.prototype.loadSceneAsync=function(e,t){var i=this,n=this._extensionsLoadSceneAsync(e,t);if(n)return n;var r=new Array;if(this.logOpen(e+" "+(t.name||"")),t.nodes)for(var o=0,s=t.nodes;o<s.length;o++){var a=s[o],c=ti.Get(e+"/nodes/"+a,this._gltf.nodes,a);r.push(this.loadNodeAsync("/nodes/"+c.index,c,function(e){e.parent=i._rootBabylonMesh}))}if(this._gltf.nodes)for(var l=0,_=this._gltf.nodes;l<_.length;l++){if((c=_[l])._babylonTransformNode&&c._babylonBones)for(var u=0,f=c._babylonBones;u<f.length;u++){f[u].linkTransformNode(c._babylonTransformNode)}}return r.push(this._loadAnimationsAsync()),this.logClose(),Promise.all(r).then(function(){})},e.prototype._forEachPrimitive=function(e,t){if(e._primitiveBabylonMeshes)for(var i=0,n=e._primitiveBabylonMeshes;i<n.length;i++){t(n[i])}},e.prototype._getGeometries=function(){var e=new Array,t=this._gltf.nodes;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];this._forEachPrimitive(r,function(t){var i=t.geometry;i&&-1===e.indexOf(i)&&e.push(i)})}return e},e.prototype._getMeshes=function(){var e=new Array;e.push(this._rootBabylonMesh);var t=this._gltf.nodes;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];this._forEachPrimitive(r,function(t){e.push(t)})}return e},e.prototype._getTransformNodes=function(){var e=new Array,t=this._gltf.nodes;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];r._babylonTransformNode&&"TransformNode"===r._babylonTransformNode.getClassName()&&e.push(r._babylonTransformNode)}return e},e.prototype._getSkeletons=function(){var e=new Array,t=this._gltf.skins;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];r._data&&e.push(r._data.babylonSkeleton)}return e},e.prototype._getAnimationGroups=function(){var e=new Array,t=this._gltf.animations;if(t)for(var i=0,n=t;i<n.length;i++){var r=n[i];r._babylonAnimationGroup&&e.push(r._babylonAnimationGroup)}return e},e.prototype._startAnimations=function(){switch(this._parent.animationStartMode){case g.NONE:break;case g.FIRST:0!==(e=this._getAnimationGroups()).length&&e[0].start(!0);break;case g.ALL:for(var e,t=0,i=e=this._getAnimationGroups();t<i.length;t++){i[t].start(!0)}break;default:return void l.a.Error("Invalid animation start mode ("+this._parent.animationStartMode+")")}},e.prototype.loadNodeAsync=function(t,i,n){var r=this;void 0===n&&(n=function(){});var o=this._extensionsLoadNodeAsync(t,i,n);if(o)return o;if(i._babylonTransformNode)throw new Error(t+": Invalid recursive node hierarchy");var s=new Array;this.logOpen(t+" "+(i.name||""));var a=function(o){if(e.AddPointerMetadata(o,t),e._LoadTransform(i,o),void 0!=i.camera){var a=ti.Get(t+"/camera",r._gltf.cameras,i.camera);s.push(r.loadCameraAsync("/cameras/"+a.index,a,function(e){e.parent=o}))}if(i.children)for(var c=0,l=i.children;c<l.length;c++){var _=l[c],u=ti.Get(t+"/children/"+_,r._gltf.nodes,_);s.push(r.loadNodeAsync("/nodes/"+u.index,u,function(e){e.parent=o}))}n(o)};if(void 0==i.mesh){var c=i.name||"node"+i.index;this._babylonScene._blockEntityCollection=this._forAssetContainer,i._babylonTransformNode=new Zt.a(c,this._babylonScene),this._babylonScene._blockEntityCollection=!1,a(i._babylonTransformNode)}else{var l=ti.Get(t+"/mesh",this._gltf.meshes,i.mesh);s.push(this._loadMeshAsync("/meshes/"+l.index,i,l,a))}return this.logClose(),Promise.all(s).then(function(){return r._forEachPrimitive(i,function(e){e.geometry&&e.geometry.useBoundingInfoFromGeometry?e._updateBoundingInfo():e.refreshBoundingInfo(!0)}),i._babylonTransformNode})},e.prototype._loadMeshAsync=function(e,t,i,n){var r=i.primitives;if(!r||!r.length)throw new Error(e+": Primitives are missing");void 0==r[0].index&&ti.Assign(r);var o=new Array;this.logOpen(e+" "+(i.name||""));var s=t.name||"node"+t.index;if(1===r.length){var a=i.primitives[0];o.push(this._loadMeshPrimitiveAsync(e+"/primitives/"+a.index,s,t,i,a,function(e){t._babylonTransformNode=e,t._primitiveBabylonMeshes=[e]}))}else{this._babylonScene._blockEntityCollection=this._forAssetContainer,t._babylonTransformNode=new Zt.a(s,this._babylonScene),this._babylonScene._blockEntityCollection=!1,t._primitiveBabylonMeshes=[];for(var c=0,l=r;c<l.length;c++){a=l[c];o.push(this._loadMeshPrimitiveAsync(e+"/primitives/"+a.index,s+"_primitive"+a.index,t,i,a,function(e){e.parent=t._babylonTransformNode,t._primitiveBabylonMeshes.push(e)}))}}if(void 0!=t.skin){var _=ti.Get(e+"/skin",this._gltf.skins,t.skin);o.push(this._loadSkinAsync("/skins/"+_.index,t,_))}return n(t._babylonTransformNode),this.logClose(),Promise.all(o).then(function(){return t._babylonTransformNode})},e.prototype._loadMeshPrimitiveAsync=function(t,i,n,r,o,s){var a=this,l=this._extensionsLoadMeshPrimitiveAsync(t,i,n,r,o,s);if(l)return l;this.logOpen(""+t);var _,u,f=0===this._disableInstancedMesh&&this._parent.createInstances&&void 0==n.skin&&!r.primitives[0].targets;if(f&&o._instanceData)_=o._instanceData.babylonSourceMesh.createInstance(i),u=o._instanceData.promise;else{var d=new Array;this._babylonScene._blockEntityCollection=this._forAssetContainer;var h=new c.a(i,this._babylonScene);this._babylonScene._blockEntityCollection=!1,h.overrideMaterialSideOrientation=this._babylonScene.useRightHandedSystem?ge.a.CounterClockWiseSideOrientation:ge.a.ClockWiseSideOrientation,this._createMorphTargets(t,n,r,o,h),d.push(this._loadVertexDataAsync(t,o,h).then(function(e){return a._loadMorphTargetsAsync(t,o,h,e).then(function(){a._babylonScene._blockEntityCollection=a._forAssetContainer,e.applyToMesh(h),a._babylonScene._blockEntityCollection=!1})}));var p=e._GetDrawMode(t,o.mode);if(void 0==o.material){var b=this._defaultBabylonMaterialData[p];b||(b=this._createDefaultMaterial("__GLTFLoader._default",p),this._parent.onMaterialLoadedObservable.notifyObservers(b),this._defaultBabylonMaterialData[p]=b),h.material=b}else{var m=ti.Get(t+"/material",this._gltf.materials,o.material);d.push(this._loadMaterialAsync("/materials/"+m.index,m,h,p,function(e){h.material=e}))}u=Promise.all(d),f&&(o._instanceData={babylonSourceMesh:h,promise:u}),_=h}return e.AddPointerMetadata(_,t),this._parent.onMeshLoadedObservable.notifyObservers(_),s(_),this.logClose(),u.then(function(){return _})},e.prototype._loadVertexDataAsync=function(e,t,i){var n=this,r=this._extensionsLoadVertexDataAsync(e,t,i);if(r)return r;var o=t.attributes;if(!o)throw new Error(e+": Attributes are missing");var s=new Array,a=new $e.a(i.name,this._babylonScene);if(void 0==t.indices)i.isUnIndexed=!0;else{var c=ti.Get(e+"/indices",this._gltf.accessors,t.indices);s.push(this._loadIndicesAccessorAsync("/accessors/"+c.index,c).then(function(e){a.setIndices(e)}))}var l=function(t,r,c){if(void 0!=o[t]){i._delayInfo=i._delayInfo||[],-1===i._delayInfo.indexOf(r)&&i._delayInfo.push(r);var l=ti.Get(e+"/attributes/"+t,n._gltf.accessors,o[t]);s.push(n._loadVertexAccessorAsync("/accessors/"+l.index,l,r).then(function(e){if(e.getKind()===Ee.b.PositionKind&&!n.parent.alwaysComputeBoundingBox&&!i.skeleton){var t=l.min,r=l.max;if(void 0!==t&&void 0!==r){var o=L.c.Vector3[0],s=L.c.Vector3[1];o.copyFromFloats.apply(o,t),s.copyFromFloats.apply(s,r),a._boundingInfo=new ei.a(o,s),a.useBoundingInfoFromGeometry=!0}}a.setVerticesBuffer(e,l.count)})),r==Ee.b.MatricesIndicesExtraKind&&(i.numBoneInfluencers=8),c&&c(l)}};return l("POSITION",Ee.b.PositionKind),l("NORMAL",Ee.b.NormalKind),l("TANGENT",Ee.b.TangentKind),l("TEXCOORD_0",Ee.b.UVKind),l("TEXCOORD_1",Ee.b.UV2Kind),l("JOINTS_0",Ee.b.MatricesIndicesKind),l("WEIGHTS_0",Ee.b.MatricesWeightsKind),l("JOINTS_1",Ee.b.MatricesIndicesExtraKind),l("WEIGHTS_1",Ee.b.MatricesWeightsExtraKind),l("COLOR_0",Ee.b.ColorKind,function(e){"VEC4"===e.type&&(i.hasVertexAlpha=!0)}),Promise.all(s).then(function(){return a})},e.prototype._createMorphTargets=function(e,t,i,n,r){if(n.targets){if(void 0==t._numMorphTargets)t._numMorphTargets=n.targets.length;else if(n.targets.length!==t._numMorphTargets)throw new Error(e+": Primitives do not have the same number of targets");var o=i.extras?i.extras.targetNames:null;r.morphTargetManager=new qt(r.getScene());for(var s=0;s<n.targets.length;s++){var a=t.weights?t.weights[s]:i.weights?i.weights[s]:0,c=o?o[s]:"morphTarget"+s;r.morphTargetManager.addTarget(new Jt(c,a,r.getScene()))}}},e.prototype._loadMorphTargetsAsync=function(e,t,i,n){if(!t.targets)return Promise.resolve();for(var r=new Array,o=i.morphTargetManager,s=0;s<o.numTargets;s++){var a=o.getTarget(s);r.push(this._loadMorphTargetVertexDataAsync(e+"/targets/"+s,n,t.targets[s],a))}return Promise.all(r).then(function(){})},e.prototype._loadMorphTargetVertexDataAsync=function(e,t,i,n){var r=this,o=new Array,s=function(n,s,a){if(void 0!=i[n]){var c=t.getVertexBuffer(s);if(c){var l=ti.Get(e+"/"+n,r._gltf.accessors,i[n]);o.push(r._loadFloatAccessorAsync("/accessors/"+l.index,l).then(function(e){a(c,e)}))}}};return s("POSITION",Ee.b.PositionKind,function(e,t){var i=new Float32Array(t.length);e.forEach(t.length,function(e,n){i[n]=t[n]+e}),n.setPositions(i)}),s("NORMAL",Ee.b.NormalKind,function(e,t){var i=new Float32Array(t.length);e.forEach(i.length,function(e,n){i[n]=t[n]+e}),n.setNormals(i)}),s("TANGENT",Ee.b.TangentKind,function(e,t){var i=new Float32Array(t.length/3*4),r=0;e.forEach(t.length/3*4,function(e,n){(n+1)%4!==0&&(i[r]=t[r]+e,r++)}),n.setTangents(i)}),Promise.all(o).then(function(){})},e._LoadTransform=function(e,t){if(void 0==e.skin){var i=L.e.Zero(),n=L.b.Identity(),r=L.e.One();if(e.matrix)L.a.FromArray(e.matrix).decompose(r,n,i);else e.translation&&(i=L.e.FromArray(e.translation)),e.rotation&&(n=L.b.FromArray(e.rotation)),e.scale&&(r=L.e.FromArray(e.scale));t.position=i,t.rotationQuaternion=n,t.scaling=r}},e.prototype._loadSkinAsync=function(e,t,i){var n=this,r=this._extensionsLoadSkinAsync(e,t,i);if(r)return r;var o=function(e){n._forEachPrimitive(t,function(t){t.skeleton=e})};if(i._data)return o(i._data.babylonSkeleton),i._data.promise;var s="skeleton"+i.index;this._babylonScene._blockEntityCollection=this._forAssetContainer;var a=new me(i.name||s,s,this._babylonScene);this._babylonScene._blockEntityCollection=!1,a.overrideMesh=this._rootBabylonMesh,this._loadBones(e,i,a),o(a);var c=this._loadSkinInverseBindMatricesDataAsync(e,i).then(function(e){n._updateBoneMatrices(a,e)});return i._data={babylonSkeleton:a,promise:c},c},e.prototype._loadBones=function(e,t,i){for(var n={},r=0,o=t.joints;r<o.length;r++){var s=o[r],a=ti.Get(e+"/joints/"+s,this._gltf.nodes,s);this._loadBone(a,t,i,n)}},e.prototype._loadBone=function(e,t,i,n){var r=n[e.index];if(r)return r;var o=null;e.parent&&e.parent._babylonTransformNode!==this._rootBabylonMesh&&(o=this._loadBone(e.parent,t,i,n));var s=t.joints.indexOf(e.index);return r=new ce(e.name||"joint"+e.index,i,o,this._getNodeMatrix(e),null,null,s),n[e.index]=r,e._babylonBones=e._babylonBones||[],e._babylonBones.push(r),r},e.prototype._loadSkinInverseBindMatricesDataAsync=function(e,t){if(void 0==t.inverseBindMatrices)return Promise.resolve(null);var i=ti.Get(e+"/inverseBindMatrices",this._gltf.accessors,t.inverseBindMatrices);return this._loadFloatAccessorAsync("/accessors/"+i.index,i)},e.prototype._updateBoneMatrices=function(e,t){for(var i=0,n=e.bones;i<n.length;i++){var r=n[i],o=L.a.Identity(),s=r._index;t&&-1!==s&&(L.a.FromArrayToRef(t,16*s,o),o.invertToRef(o));var a=r.getParent();a&&o.multiplyToRef(a.getInvertedAbsoluteTransform(),o),r.setBindPose(o),r.updateMatrix(o,!1,!1),r._updateDifferenceMatrix(void 0,!1)}},e.prototype._getNodeMatrix=function(e){return e.matrix?L.a.FromArray(e.matrix):L.a.Compose(e.scale?L.e.FromArray(e.scale):L.e.One(),e.rotation?L.b.FromArray(e.rotation):L.b.Identity(),e.translation?L.e.FromArray(e.translation):L.e.Zero())},e.prototype.loadCameraAsync=function(t,i,n){void 0===n&&(n=function(){});var r=this._extensionsLoadCameraAsync(t,i,n);if(r)return r;var o=new Array;this.logOpen(t+" "+(i.name||"")),this._babylonScene._blockEntityCollection=this._forAssetContainer;var s=new $(i.name||"camera"+i.index,L.e.Zero(),this._babylonScene,!1);switch(this._babylonScene._blockEntityCollection=!1,s.ignoreParentScaling=!0,s.rotation=new L.e(0,Math.PI,0),i.type){case"perspective":var a=i.perspective;if(!a)throw new Error(t+": Camera perspective properties are missing");s.fov=a.yfov,s.minZ=a.znear,s.maxZ=a.zfar||Number.MAX_VALUE;break;case"orthographic":if(!i.orthographic)throw new Error(t+": Camera orthographic properties are missing");s.mode=N.a.ORTHOGRAPHIC_CAMERA,s.orthoLeft=-i.orthographic.xmag,s.orthoRight=i.orthographic.xmag,s.orthoBottom=-i.orthographic.ymag,s.orthoTop=i.orthographic.ymag,s.minZ=i.orthographic.znear,s.maxZ=i.orthographic.zfar;break;default:throw new Error(t+": Invalid camera type ("+i.type+")")}return e.AddPointerMetadata(s,t),this._parent.onCameraLoadedObservable.notifyObservers(s),n(s),this.logClose(),Promise.all(o).then(function(){return s})},e.prototype._loadAnimationsAsync=function(){var e=this._gltf.animations;if(!e)return Promise.resolve();for(var t=new Array,i=0;i<e.length;i++){var n=e[i];t.push(this.loadAnimationAsync("/animations/"+n.index,n))}return Promise.all(t).then(function(){})},e.prototype.loadAnimationAsync=function(e,t){var i=this._extensionsLoadAnimationAsync(e,t);if(i)return i;this._babylonScene._blockEntityCollection=this._forAssetContainer;var n=new Qt(t.name||"animation"+t.index,this._babylonScene);this._babylonScene._blockEntityCollection=!1,t._babylonAnimationGroup=n;var r=new Array;ti.Assign(t.channels),ti.Assign(t.samplers);for(var o=0,s=t.channels;o<s.length;o++){var a=s[o];r.push(this._loadAnimationChannelAsync(e+"/channels/"+a.index,e,t,a,n))}return Promise.all(r).then(function(){return n.normalize(0),n})},e.prototype._loadAnimationChannelAsync=function(e,t,i,n,r,o){var s=this;if(void 0===o&&(o=null),void 0==n.target.node)return Promise.resolve();var a=ti.Get(e+"/target/node",this._gltf.nodes,n.target.node);if("weights"===n.target.path&&!a._numMorphTargets||"weights"!==n.target.path&&!a._babylonTransformNode)return Promise.resolve();var c=ti.Get(e+"/sampler",i.samplers,n.sampler);return this._loadAnimationSamplerAsync(t+"/samplers/"+n.sampler,c).then(function(t){var i,c;switch(n.target.path){case"translation":i="position",c=se.ANIMATIONTYPE_VECTOR3;break;case"rotation":i="rotationQuaternion",c=se.ANIMATIONTYPE_QUATERNION;break;case"scale":i="scaling",c=se.ANIMATIONTYPE_VECTOR3;break;case"weights":i="influence",c=se.ANIMATIONTYPE_FLOAT;break;default:throw new Error(e+"/target/path: Invalid value ("+n.target.path+")")}var l,_,u=0;switch(i){case"position":l=function(){var e=L.e.FromArray(t.output,u);return u+=3,e};break;case"rotationQuaternion":l=function(){var e=L.b.FromArray(t.output,u);return u+=4,e};break;case"scaling":l=function(){var e=L.e.FromArray(t.output,u);return u+=3,e};break;case"influence":l=function(){for(var e=new Array(a._numMorphTargets),i=0;i<a._numMorphTargets;i++)e[i]=t.output[u++];return e}}switch(t.interpolation){case"STEP":_=function(e){return{frame:t.input[e],value:l(),interpolation:J.STEP}};break;case"LINEAR":_=function(e){return{frame:t.input[e],value:l()}};break;case"CUBICSPLINE":_=function(e){return{frame:t.input[e],inTangent:l(),value:l(),outTangent:l()}}}for(var f=new Array(t.input.length),d=0;d<t.input.length;d++)f[d]=_(d);if("influence"===i)for(var h=function(e){var t=r.name+"_channel"+r.targetedAnimations.length,n=new se(t,i,1,c);n.setKeys(f.map(function(t){return{frame:t.frame,inTangent:t.inTangent?t.inTangent[e]:void 0,value:t.value[e],outTangent:t.outTangent?t.outTangent[e]:void 0}})),s._forEachPrimitive(a,function(t){var i=t.morphTargetManager.getTarget(e),o=n.clone();i.animations.push(o),r.addTargetedAnimation(o,i)})},p=0;p<a._numMorphTargets;p++)h(p);else{var b=r.name+"_channel"+r.targetedAnimations.length,m=new se(b,i,1,c);m.setKeys(f),null!=o&&null!=o.animations?(o.animations.push(m),r.addTargetedAnimation(m,o)):(a._babylonTransformNode.animations.push(m),r.addTargetedAnimation(m,a._babylonTransformNode))}})},e.prototype._loadAnimationSamplerAsync=function(e,t){if(t._data)return t._data;var i=t.interpolation||"LINEAR";switch(i){case"STEP":case"LINEAR":case"CUBICSPLINE":break;default:throw new Error(e+"/interpolation: Invalid value ("+t.interpolation+")")}var n=ti.Get(e+"/input",this._gltf.accessors,t.input),r=ti.Get(e+"/output",this._gltf.accessors,t.output);return t._data=Promise.all([this._loadFloatAccessorAsync("/accessors/"+n.index,n),this._loadFloatAccessorAsync("/accessors/"+r.index,r)]).then(function(e){var t=e[0],n=e[1];return{input:t,interpolation:i,output:n}}),t._data},e.prototype._loadBufferAsync=function(e,t,i,n){var r=this._extensionsLoadBufferAsync(e,t,i,n);if(r)return r;if(!t._data)if(t.uri)t._data=this.loadUriAsync(e+"/uri",t,t.uri);else{if(!this._bin)throw new Error(e+": Uri is missing or the binary glTF is missing its binary chunk");t._data=this._bin.readAsync(0,t.byteLength)}return t._data.then(function(t){try{return new Uint8Array(t.buffer,t.byteOffset+i,n)}catch(r){throw new Error(e+": "+r.message)}})},e.prototype.loadBufferViewAsync=function(e,t){var i=this._extensionsLoadBufferViewAsync(e,t);if(i)return i;if(t._data)return t._data;var n=ti.Get(e+"/buffer",this._gltf.buffers,t.buffer);return t._data=this._loadBufferAsync("/buffers/"+n.index,n,t.byteOffset||0,t.byteLength),t._data},e.prototype._loadAccessorAsync=function(t,i,n){var r=this;if(i._data)return i._data;var o=e._GetNumComponents(t,i.type),s=o*Ee.b.GetTypeByteLength(i.componentType),a=o*i.count;if(void 0==i.bufferView)i._data=Promise.resolve(new n(a));else{var c=ti.Get(t+"/bufferView",this._gltf.bufferViews,i.bufferView);i._data=this.loadBufferViewAsync("/bufferViews/"+c.index,c).then(function(r){if(5126!==i.componentType||i.normalized||c.byteStride&&c.byteStride!==s){var l=new n(a);return Ee.b.ForEach(r,i.byteOffset||0,c.byteStride||s,o,i.componentType,l.length,i.normalized||!1,function(e,t){l[t]=e}),l}return e._GetTypedArray(t,i.componentType,r,i.byteOffset,a)})}if(i.sparse){var l=i.sparse;i._data=i._data.then(function(a){var c=a,_=ti.Get(t+"/sparse/indices/bufferView",r._gltf.bufferViews,l.indices.bufferView),u=ti.Get(t+"/sparse/values/bufferView",r._gltf.bufferViews,l.values.bufferView);return Promise.all([r.loadBufferViewAsync("/bufferViews/"+_.index,_),r.loadBufferViewAsync("/bufferViews/"+u.index,u)]).then(function(r){var a,_=r[0],u=r[1],f=e._GetTypedArray(t+"/sparse/indices",l.indices.componentType,_,l.indices.byteOffset,l.count),d=o*l.count;if(5126!==i.componentType||i.normalized){var h=e._GetTypedArray(t+"/sparse/values",i.componentType,u,l.values.byteOffset,d);a=new n(d),Ee.b.ForEach(h,0,s,o,i.componentType,a.length,i.normalized||!1,function(e,t){a[t]=e})}else a=e._GetTypedArray(t+"/sparse/values",i.componentType,u,l.values.byteOffset,d);for(var p=0,b=0;b<f.length;b++)for(var m=f[b]*o,A=0;A<o;A++)c[m++]=a[p++];return c})})}return i._data},e.prototype._loadFloatAccessorAsync=function(e,t){return this._loadAccessorAsync(e,t,Float32Array)},e.prototype._loadIndicesAccessorAsync=function(t,i){if("SCALAR"!==i.type)throw new Error(t+"/type: Invalid value "+i.type);if(5121!==i.componentType&&5123!==i.componentType&&5125!==i.componentType)throw new Error(t+"/componentType: Invalid value "+i.componentType);if(i._data)return i._data;if(i.sparse){var n=e._GetTypedArrayConstructor(t+"/componentType",i.componentType);i._data=this._loadAccessorAsync(t,i,n)}else{var r=ti.Get(t+"/bufferView",this._gltf.bufferViews,i.bufferView);i._data=this.loadBufferViewAsync("/bufferViews/"+r.index,r).then(function(n){return e._GetTypedArray(t,i.componentType,n,i.byteOffset,i.count)})}return i._data},e.prototype._loadVertexBufferViewAsync=function(e,t){var i=this;return e._babylonBuffer||(e._babylonBuffer=this.loadBufferViewAsync("/bufferViews/"+e.index,e).then(function(e){return new Ee.a(i._babylonScene.getEngine(),e,!1)})),e._babylonBuffer},e.prototype._loadVertexAccessorAsync=function(t,i,n){var r=this;if(i._babylonVertexBuffer)return i._babylonVertexBuffer;if(i.sparse)i._babylonVertexBuffer=this._loadFloatAccessorAsync("/accessors/"+i.index,i).then(function(e){return new Ee.b(r._babylonScene.getEngine(),e,n,!1)});else if(i.byteOffset&&i.byteOffset%Ee.b.GetTypeByteLength(i.componentType)!==0)l.a.Warn("Accessor byte offset is not a multiple of component type byte length"),i._babylonVertexBuffer=this._loadFloatAccessorAsync("/accessors/"+i.index,i).then(function(e){return new Ee.b(r._babylonScene.getEngine(),e,n,!1)});else if(n===Ee.b.MatricesIndicesKind||n===Ee.b.MatricesIndicesExtraKind)i._babylonVertexBuffer=this._loadFloatAccessorAsync("/accessors/"+i.index,i).then(function(e){return new Ee.b(r._babylonScene.getEngine(),e,n,!1)});else{var o=ti.Get(t+"/bufferView",this._gltf.bufferViews,i.bufferView);i._babylonVertexBuffer=this._loadVertexBufferViewAsync(o,n).then(function(s){var a=e._GetNumComponents(t,i.type);return new Ee.b(r._babylonScene.getEngine(),s,n,!1,!1,o.byteStride,!1,i.byteOffset,a,i.componentType,i.normalized,!0,1,!0)})}return i._babylonVertexBuffer},e.prototype._loadMaterialMetallicRoughnessPropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;return t&&(t.baseColorFactor?(i.albedoColor=F.a.FromArray(t.baseColorFactor),i.alpha=t.baseColorFactor[3]):i.albedoColor=F.a.White(),i.metallic=void 0==t.metallicFactor?1:t.metallicFactor,i.roughness=void 0==t.roughnessFactor?1:t.roughnessFactor,t.baseColorTexture&&n.push(this.loadTextureInfoAsync(e+"/baseColorTexture",t.baseColorTexture,function(e){e.name=i.name+" (Base Color)",i.albedoTexture=e})),t.metallicRoughnessTexture&&(t.metallicRoughnessTexture.nonColorData=!0,n.push(this.loadTextureInfoAsync(e+"/metallicRoughnessTexture",t.metallicRoughnessTexture,function(e){e.name=i.name+" (Metallic Roughness)",i.metallicTexture=e})),i.useMetallnessFromMetallicTextureBlue=!0,i.useRoughnessFromMetallicTextureGreen=!0,i.useRoughnessFromMetallicTextureAlpha=!1)),Promise.all(n).then(function(){})},e.prototype._loadMaterialAsync=function(t,i,n,r,o){void 0===o&&(o=function(){});var s=this._extensionsLoadMaterialAsync(t,i,n,r,o);if(s)return s;i._data=i._data||{};var a=i._data[r];if(!a){this.logOpen(t+" "+(i.name||""));var c=this.createMaterial(t,i,r);a={babylonMaterial:c,babylonMeshes:[],promise:this.loadMaterialPropertiesAsync(t,i,c)},i._data[r]=a,e.AddPointerMetadata(c,t),this._parent.onMaterialLoadedObservable.notifyObservers(c),this.logClose()}return n&&(a.babylonMeshes.push(n),n.onDisposeObservable.addOnce(function(){var e=a.babylonMeshes.indexOf(n);-1!==e&&a.babylonMeshes.splice(e,1)})),o(a.babylonMaterial),a.promise.then(function(){return a.babylonMaterial})},e.prototype._createDefaultMaterial=function(e,t){this._babylonScene._blockEntityCollection=this._forAssetContainer;var i=new Kt.a(e,this._babylonScene);return this._babylonScene._blockEntityCollection=!1,i.fillMode=t,i.enableSpecularAntiAliasing=!0,i.useRadianceOverAlpha=!this._parent.transparencyAsCoverage,i.useSpecularOverAlpha=!this._parent.transparencyAsCoverage,i.transparencyMode=Kt.a.PBRMATERIAL_OPAQUE,i.metallic=1,i.roughness=1,i},e.prototype.createMaterial=function(e,t,i){var n=this._extensionsCreateMaterial(e,t,i);if(n)return n;var r=t.name||"material"+t.index;return this._createDefaultMaterial(r,i)},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this._extensionsLoadMaterialPropertiesAsync(e,t,i);if(n)return n;var r=new Array;return r.push(this.loadMaterialBasePropertiesAsync(e,t,i)),t.pbrMetallicRoughness&&r.push(this._loadMaterialMetallicRoughnessPropertiesAsync(e+"/pbrMetallicRoughness",t.pbrMetallicRoughness,i)),this.loadMaterialAlphaProperties(e,t,i),Promise.all(r).then(function(){})},e.prototype.loadMaterialBasePropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;return i.emissiveColor=t.emissiveFactor?F.a.FromArray(t.emissiveFactor):new F.a(0,0,0),t.doubleSided&&(i.backFaceCulling=!1,i.twoSidedLighting=!0),t.normalTexture&&(t.normalTexture.nonColorData=!0,n.push(this.loadTextureInfoAsync(e+"/normalTexture",t.normalTexture,function(e){e.name=i.name+" (Normal)",i.bumpTexture=e})),i.invertNormalMapX=!this._babylonScene.useRightHandedSystem,i.invertNormalMapY=this._babylonScene.useRightHandedSystem,void 0!=t.normalTexture.scale&&(i.bumpTexture.level=t.normalTexture.scale),i.forceIrradianceInFragment=!0),t.occlusionTexture&&(t.occlusionTexture.nonColorData=!0,n.push(this.loadTextureInfoAsync(e+"/occlusionTexture",t.occlusionTexture,function(e){e.name=i.name+" (Occlusion)",i.ambientTexture=e})),i.useAmbientInGrayScale=!0,void 0!=t.occlusionTexture.strength&&(i.ambientTextureStrength=t.occlusionTexture.strength)),t.emissiveTexture&&n.push(this.loadTextureInfoAsync(e+"/emissiveTexture",t.emissiveTexture,function(e){e.name=i.name+" (Emissive)",i.emissiveTexture=e})),Promise.all(n).then(function(){})},e.prototype.loadMaterialAlphaProperties=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");switch(t.alphaMode||"OPAQUE"){case"OPAQUE":i.transparencyMode=Kt.a.PBRMATERIAL_OPAQUE;break;case"MASK":i.transparencyMode=Kt.a.PBRMATERIAL_ALPHATEST,i.alphaCutOff=void 0==t.alphaCutoff?.5:t.alphaCutoff,i.albedoTexture&&(i.albedoTexture.hasAlpha=!0);break;case"BLEND":i.transparencyMode=Kt.a.PBRMATERIAL_ALPHABLEND,i.albedoTexture&&(i.albedoTexture.hasAlpha=!0,i.useAlphaFromAlbedoTexture=!0);break;default:throw new Error(e+"/alphaMode: Invalid value ("+t.alphaMode+")")}},e.prototype.loadTextureInfoAsync=function(t,i,n){var r=this;void 0===n&&(n=function(){});var o=this._extensionsLoadTextureInfoAsync(t,i,n);if(o)return o;if(this.logOpen(""+t),i.texCoord>=2)throw new Error(t+"/texCoord: Invalid value ("+i.texCoord+")");var s=ti.Get(t+"/index",this._gltf.textures,i.index);s._textureInfo=i;var a=this._loadTextureAsync("/textures/"+i.index,s,function(o){o.coordinatesIndex=i.texCoord||0,e.AddPointerMetadata(o,t),r._parent.onTextureLoadedObservable.notifyObservers(o),n(o)});return this.logClose(),a},e.prototype._loadTextureAsync=function(t,i,n){void 0===n&&(n=function(){});var r=this._extensionsLoadTextureAsync(t,i,n);if(r)return r;this.logOpen(t+" "+(i.name||""));var o=void 0==i.sampler?e.DefaultSampler:ti.Get(t+"/sampler",this._gltf.samplers,i.sampler),s=ti.Get(t+"/source",this._gltf.images,i.source),a=this._createTextureAsync(t,o,s,n);return this.logClose(),a},e.prototype._createTextureAsync=function(e,t,i,n,r){var o=this;void 0===n&&(n=function(){});var s=this._loadSampler("/samplers/"+t.index,t),a=new Array,c=new kt;this._babylonScene._blockEntityCollection=this._forAssetContainer;var l=new le.a(null,this._babylonScene,s.noMipMaps,!1,s.samplingMode,function(){o._disposed||c.resolve()},function(t,i){o._disposed||c.reject(new Error(e+": "+(i&&i.message?i.message:t||"Failed to load texture")))},void 0,void 0,void 0,i.mimeType,r);return this._babylonScene._blockEntityCollection=!1,a.push(c.promise),a.push(this.loadImageAsync("/images/"+i.index,i).then(function(e){var t=i.uri||o._fileName+"#image"+i.index,n="data:"+o._uniqueRootUrl+t;l.updateURL(n,e)})),l.wrapU=s.wrapU,l.wrapV=s.wrapV,n(l),Promise.all(a).then(function(){return l})},e.prototype._loadSampler=function(t,i){return i._data||(i._data={noMipMaps:9728===i.minFilter||9729===i.minFilter,samplingMode:e._GetTextureSamplingMode(t,i),wrapU:e._GetTextureWrapMode(t+"/wrapS",i.wrapS),wrapV:e._GetTextureWrapMode(t+"/wrapT",i.wrapT)}),i._data},e.prototype.loadImageAsync=function(e,t){if(!t._data){if(this.logOpen(e+" "+(t.name||"")),t.uri)t._data=this.loadUriAsync(e+"/uri",t,t.uri);else{var i=ti.Get(e+"/bufferView",this._gltf.bufferViews,t.bufferView);t._data=this.loadBufferViewAsync("/bufferViews/"+i.index,i)}this.logClose()}return t._data},e.prototype.loadUriAsync=function(t,i,n){var o=this,s=this._extensionsLoadUriAsync(t,i,n);if(s)return s;if(!e._ValidateUri(n))throw new Error(t+": '"+n+"' is invalid");if(r.b.IsBase64(n)){var a=new Uint8Array(r.b.DecodeBase64(n));return this.log("Decoded "+n.substr(0,64)+"... ("+a.length+" bytes)"),Promise.resolve(a)}return this.log("Loading "+n),this._parent.preprocessUrlAsync(this._rootUrl+n).then(function(e){return new Promise(function(i,r){o._parent._loadFile(e,o._babylonScene,function(e){o._disposed||(o.log("Loaded "+n+" ("+e.byteLength+" bytes)"),i(new Uint8Array(e)))},!0,function(e){r(new $t.b(t+": Failed to load '"+n+"'"+(e?": "+e.status+" "+e.statusText:""),e))})})})},e.AddPointerMetadata=function(e,t){var i=e.metadata=e.metadata||{},n=i.gltf=i.gltf||{};(n.pointers=n.pointers||[]).push(t)},e._GetTextureWrapMode=function(e,t){switch(t=void 0==t?10497:t){case 33071:return le.a.CLAMP_ADDRESSMODE;case 33648:return le.a.MIRROR_ADDRESSMODE;case 10497:return le.a.WRAP_ADDRESSMODE;default:return l.a.Warn(e+": Invalid value ("+t+")"),le.a.WRAP_ADDRESSMODE}},e._GetTextureSamplingMode=function(e,t){var i=void 0==t.magFilter?9729:t.magFilter,n=void 0==t.minFilter?9987:t.minFilter;if(9729===i)switch(n){case 9728:return le.a.LINEAR_NEAREST;case 9729:return le.a.LINEAR_LINEAR;case 9984:return le.a.LINEAR_NEAREST_MIPNEAREST;case 9985:return le.a.LINEAR_LINEAR_MIPNEAREST;case 9986:return le.a.LINEAR_NEAREST_MIPLINEAR;case 9987:return le.a.LINEAR_LINEAR_MIPLINEAR;default:return l.a.Warn(e+"/minFilter: Invalid value ("+n+")"),le.a.LINEAR_LINEAR_MIPLINEAR}else switch(9728!==i&&l.a.Warn(e+"/magFilter: Invalid value ("+i+")"),n){case 9728:return le.a.NEAREST_NEAREST;case 9729:return le.a.NEAREST_LINEAR;case 9984:return le.a.NEAREST_NEAREST_MIPNEAREST;case 9985:return le.a.NEAREST_LINEAR_MIPNEAREST;case 9986:return le.a.NEAREST_NEAREST_MIPLINEAR;case 9987:return le.a.NEAREST_LINEAR_MIPLINEAR;default:return l.a.Warn(e+"/minFilter: Invalid value ("+n+")"),le.a.NEAREST_NEAREST_MIPNEAREST}},e._GetTypedArrayConstructor=function(e,t){switch(t){case 5120:return Int8Array;case 5121:return Uint8Array;case 5122:return Int16Array;case 5123:return Uint16Array;case 5125:return Uint32Array;case 5126:return Float32Array;default:throw new Error(e+": Invalid component type "+t)}},e._GetTypedArray=function(t,i,n,r,o){var s=n.buffer;r=n.byteOffset+(r||0);var a=e._GetTypedArrayConstructor(t+"/componentType",i);try{return new a(s,r,o)}catch(c){throw new Error(t+": "+c)}},e._GetNumComponents=function(e,t){switch(t){case"SCALAR":return 1;case"VEC2":return 2;case"VEC3":return 3;case"VEC4":case"MAT2":return 4;case"MAT3":return 9;case"MAT4":return 16}throw new Error(e+": Invalid type ("+t+")")},e._ValidateUri=function(e){return r.b.IsBase64(e)||-1===e.indexOf("..")},e._GetDrawMode=function(e,t){switch(void 0==t&&(t=4),t){case 0:return ge.a.PointListDrawMode;case 1:return ge.a.LineListDrawMode;case 2:return ge.a.LineLoopDrawMode;case 3:return ge.a.LineStripDrawMode;case 4:return ge.a.TriangleFillMode;case 5:return ge.a.TriangleStripDrawMode;case 6:return ge.a.TriangleFanDrawMode}throw new Error(e+": Invalid mesh primitive mode ("+t+")")},e.prototype._compileMaterialsAsync=function(){var e=this;this._parent._startPerformanceCounter("Compile materials");var t=new Array;if(this._gltf.materials)for(var i=0,n=this._gltf.materials;i<n.length;i++){var r=n[i];if(r._data)for(var o in r._data)for(var s=r._data[o],a=0,c=s.babylonMeshes;a<c.length;a++){var l=c[a];l.computeWorldMatrix(!0);var _=s.babylonMaterial;t.push(_.forceCompilationAsync(l)),t.push(_.forceCompilationAsync(l,{useInstances:!0})),this._parent.useClipPlane&&(t.push(_.forceCompilationAsync(l,{clipPlane:!0})),t.push(_.forceCompilationAsync(l,{clipPlane:!0,useInstances:!0})))}}return Promise.all(t).then(function(){e._parent._endPerformanceCounter("Compile materials")})},e.prototype._compileShadowGeneratorsAsync=function(){var e=this;this._parent._startPerformanceCounter("Compile shadow generators");for(var t=new Array,i=0,n=this._babylonScene.lights;i<n.length;i++){var r=n[i].getShadowGenerator();r&&t.push(r.forceCompilationAsync())}return Promise.all(t).then(function(){e._parent._endPerformanceCounter("Compile shadow generators")})},e.prototype._forEachExtensions=function(e){for(var t=0,i=this._extensions;t<i.length;t++){var n=i[t];n.enabled&&e(n)}},e.prototype._applyExtensions=function(e,t,i){for(var n=0,r=this._extensions;n<r.length;n++){var o=r[n];if(o.enabled){var s=o.name+"."+t,a=e;a._activeLoaderExtensionFunctions=a._activeLoaderExtensionFunctions||{};var c=a._activeLoaderExtensionFunctions;if(!c[s]){c[s]=!0;try{var l=i(o);if(l)return l}finally{delete c[s]}}}}return null},e.prototype._extensionsOnLoading=function(){this._forEachExtensions(function(e){return e.onLoading&&e.onLoading()})},e.prototype._extensionsOnReady=function(){this._forEachExtensions(function(e){return e.onReady&&e.onReady()})},e.prototype._extensionsLoadSceneAsync=function(e,t){return this._applyExtensions(t,"loadScene",function(i){return i.loadSceneAsync&&i.loadSceneAsync(e,t)})},e.prototype._extensionsLoadNodeAsync=function(e,t,i){return this._applyExtensions(t,"loadNode",function(n){return n.loadNodeAsync&&n.loadNodeAsync(e,t,i)})},e.prototype._extensionsLoadCameraAsync=function(e,t,i){return this._applyExtensions(t,"loadCamera",function(n){return n.loadCameraAsync&&n.loadCameraAsync(e,t,i)})},e.prototype._extensionsLoadVertexDataAsync=function(e,t,i){return this._applyExtensions(t,"loadVertexData",function(n){return n._loadVertexDataAsync&&n._loadVertexDataAsync(e,t,i)})},e.prototype._extensionsLoadMeshPrimitiveAsync=function(e,t,i,n,r,o){return this._applyExtensions(r,"loadMeshPrimitive",function(s){return s._loadMeshPrimitiveAsync&&s._loadMeshPrimitiveAsync(e,t,i,n,r,o)})},e.prototype._extensionsLoadMaterialAsync=function(e,t,i,n,r){return this._applyExtensions(t,"loadMaterial",function(o){return o._loadMaterialAsync&&o._loadMaterialAsync(e,t,i,n,r)})},e.prototype._extensionsCreateMaterial=function(e,t,i){return this._applyExtensions(t,"createMaterial",function(n){return n.createMaterial&&n.createMaterial(e,t,i)})},e.prototype._extensionsLoadMaterialPropertiesAsync=function(e,t,i){return this._applyExtensions(t,"loadMaterialProperties",function(n){return n.loadMaterialPropertiesAsync&&n.loadMaterialPropertiesAsync(e,t,i)})},e.prototype._extensionsLoadTextureInfoAsync=function(e,t,i){return this._applyExtensions(t,"loadTextureInfo",function(n){return n.loadTextureInfoAsync&&n.loadTextureInfoAsync(e,t,i)})},e.prototype._extensionsLoadTextureAsync=function(e,t,i){return this._applyExtensions(t,"loadTexture",function(n){return n._loadTextureAsync&&n._loadTextureAsync(e,t,i)})},e.prototype._extensionsLoadAnimationAsync=function(e,t){return this._applyExtensions(t,"loadAnimation",function(i){return i.loadAnimationAsync&&i.loadAnimationAsync(e,t)})},e.prototype._extensionsLoadSkinAsync=function(e,t,i){return this._applyExtensions(i,"loadSkin",function(n){return n._loadSkinAsync&&n._loadSkinAsync(e,t,i)})},e.prototype._extensionsLoadUriAsync=function(e,t,i){return this._applyExtensions(t,"loadUri",function(n){return n._loadUriAsync&&n._loadUriAsync(e,t,i)})},e.prototype._extensionsLoadBufferViewAsync=function(e,t){return this._applyExtensions(t,"loadBufferView",function(i){return i.loadBufferViewAsync&&i.loadBufferViewAsync(e,t)})},e.prototype._extensionsLoadBufferAsync=function(e,t,i,n){return this._applyExtensions(t,"loadBuffer",function(r){return r.loadBufferAsync&&r.loadBufferAsync(e,t,i,n)})},e.LoadExtensionAsync=function(e,t,i,n){if(!t.extensions)return null;var r=t.extensions[i];return r?n(e+"/extensions/"+i,r):null},e.LoadExtraAsync=function(e,t,i,n){if(!t.extras)return null;var r=t.extras[i];return r?n(e+"/extras/"+i,r):null},e.prototype.isExtensionUsed=function(e){return!!this._gltf.extensionsUsed&&-1!==this._gltf.extensionsUsed.indexOf(e)},e.prototype.logOpen=function(e){this._parent._logOpen(e)},e.prototype.logClose=function(){this._parent._logClose()},e.prototype.log=function(e){this._parent._log(e)},e.prototype.startPerformanceCounter=function(e){this._parent._startPerformanceCounter(e)},e.prototype.endPerformanceCounter=function(e){this._parent._endPerformanceCounter(e)},e._RegisteredExtensions={},e.DefaultSampler={index:-1},e}();C._CreateGLTF2Loader=function(e){return new ii(e)};var ni=i(760),ri=i(762),oi=i(763),si=(i(946),i(942),i(978),"rgbdEncodePixelShader"),ai="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n#include<helperFunctions>\nvoid main(void)\n{\ngl_FragColor=toRGBD(texture2D(textureSampler,vUV).rgb);\n}";Ae.a.ShadersStore[si]=ai;i(977);var ci=function(){function e(){}return e.GetEnvInfo=function(t){for(var i=new DataView(t.buffer,t.byteOffset,t.byteLength),n=0,r=0;r<e._MagicBytes.length;r++)if(i.getUint8(n++)!==e._MagicBytes[r])return l.a.Error("Not a babylon environment map"),null;for(var o="",s=0;s=i.getUint8(n++);)o+=String.fromCharCode(s);var a=JSON.parse(o);return a.specular&&(a.specular.specularDataPosition=n,a.specular.lodGenerationScale=a.specular.lodGenerationScale||.8),a},e.CreateEnvTextureAsync=function(t){var i=this,n=t.getInternalTexture();if(!n)return Promise.reject("The cube texture is invalid.");var o=n.getEngine();if(o&&o.premultipliedAlpha)return Promise.reject("Env texture can only be created when the engine is created with the premultipliedAlpha option set to false.");if(0===t.textureType)return Promise.reject("The cube texture should allow HDR (Full Float or Half Float).");var s=o.getRenderingCanvas();if(!s)return Promise.reject("Env texture can only be created when the engine is associated to a canvas.");var a=1;if(!o.getCaps().textureFloatRender&&(a=2,!o.getCaps().textureHalfFloatRender))return Promise.reject("Env texture can only be created when the browser supports half float or full float rendering.");var c=n.width,l=new Ce.a(o),_={},u=[],f=ee.a.Log2(n.width);f=Math.round(f);for(var d=function(e){for(var i=Math.pow(2,f-e),n=function(n){var c=t.readPixels(n,e),f=o.createRawTexture(c,i,i,5,!1,!1,1,null,a),d=new Promise(function(t,a){var c=new oi.a("rgbdEncode","rgbdEncode",null,null,1,null,1,o,!1,void 0,0,void 0,null,!1);c.getEffect().executeWhenCompiled(function(){c.onApply=function(e){e._bindTexture("textureSampler",f)};var a=o.getRenderWidth(),u=o.getRenderHeight();o.setSize(i,i),l.postProcessManager.directRender([c],null),r.b.ToBlob(s,function(i){var r=new FileReader;r.onload=function(i){var r=i.target.result;_[6*e+n]=r,t()},r.readAsArrayBuffer(i)}),o.setSize(a,u)})});u.push(d)},c=0;c<6;c++)n(c)},h=0;h<=f;h++)d(h);return Promise.all(u).then(function(){l.dispose();for(var n={version:1,width:c,irradiance:i._CreateEnvTextureIrradiance(t),specular:{mipmaps:[],lodGenerationScale:t.lodGenerationScale}},r=0,o=0;o<=f;o++)for(var s=0;s<6;s++){var a=_[6*o+s].byteLength;n.specular.mipmaps.push({length:a,position:r}),r+=a}for(var u=JSON.stringify(n),d=new ArrayBuffer(u.length+1),h=new Uint8Array(d),p=(o=0,u.length);o<p;o++)h[o]=u.charCodeAt(o);h[u.length]=0;var b=e._MagicBytes.length+r+d.byteLength,m=new ArrayBuffer(b),A=new Uint8Array(m),g=new DataView(m),y=0;for(o=0;o<e._MagicBytes.length;o++)g.setUint8(y++,e._MagicBytes[o]);A.set(new Uint8Array(d),y),y+=d.byteLength;for(o=0;o<=f;o++)for(s=0;s<6;s++){var v=_[6*o+s];A.set(new Uint8Array(v),y),y+=v.byteLength}return m})},e._CreateEnvTextureIrradiance=function(e){var t=e.sphericalPolynomial;return null==t?null:{x:[t.x.x,t.x.y,t.x.z],y:[t.y.x,t.y.y,t.y.z],z:[t.z.x,t.z.y,t.z.z],xx:[t.xx.x,t.xx.y,t.xx.z],yy:[t.yy.x,t.yy.y,t.yy.z],zz:[t.zz.x,t.zz.y,t.zz.z],yz:[t.yz.x,t.yz.y,t.yz.z],zx:[t.zx.x,t.zx.y,t.zx.z],xy:[t.xy.x,t.xy.y,t.xy.z]}},e.CreateImageDataArrayBufferViews=function(e,t){if(1!==t.version)throw new Error('Unsupported babylon environment map version "'+t.version+'"');var i=t.specular,n=ee.a.Log2(t.width);if(n=Math.round(n)+1,i.mipmaps.length!==6*n)throw new Error('Unsupported specular mipmaps number "'+i.mipmaps.length+'"');for(var r=new Array(n),o=0;o<n;o++){r[o]=new Array(6);for(var s=0;s<6;s++){var a=i.mipmaps[6*o+s];r[o][s]=new Uint8Array(e.buffer,e.byteOffset+i.specularDataPosition+a.position,a.length)}}return r},e.UploadEnvLevelsAsync=function(t,i,n){if(1!==n.version)throw new Error('Unsupported babylon environment map version "'+n.version+'"');var r=n.specular;if(!r)return Promise.resolve();t._lodGenerationScale=r.lodGenerationScale;var o=e.CreateImageDataArrayBufferViews(i,n);return e.UploadLevelsAsync(t,o)},e._OnImageReadyAsync=function(e,t,i,n,r,o,s,a,c,l,_){return new Promise(function(u,f){if(i){var d=t.createTexture(null,!0,!0,null,1,null,function(e){f(e)},e);n.getEffect().executeWhenCompiled(function(){n.onApply=function(e){e._bindTexture("textureSampler",d),e.setFloat2("scale",1,1)},t.scenes[0].postProcessManager.directRender([n],l,!0,o,s),t.restoreDefaultFramebuffer(),d.dispose(),URL.revokeObjectURL(r),u()})}else{if(t._uploadImageToTexture(_,e,o,s),a){var h=c[s];h&&t._uploadImageToTexture(h._texture,e,o,0)}u()}})},e.UploadLevelsAsync=function(e,t){var i=this;if(!r.b.IsExponentOfTwo(e.width))throw new Error("Texture size must be a power of two");var n=Math.round(ee.a.Log2(e.width))+1,o=e.getEngine(),s=!1,a=!1,c=null,l=null,_=null,u=o.getCaps();if(e.format=5,e.type=0,e.generateMipMaps=!0,e._cachedAnisotropicFilteringLevel=null,o.updateTextureSamplingMode(3,e),u.textureLOD?o.webGLVersion<2?s=!1:u.textureHalfFloatRender&&u.textureHalfFloatLinearFiltering?(s=!0,e.type=2):u.textureFloatRender&&u.textureFloatLinearFiltering&&(s=!0,e.type=1):(s=!1,a=!0,_={}),s)c=new oi.a("rgbdDecode","rgbdDecode",null,null,1,null,3,o,!1,void 0,e.type,void 0,null,!1),e._isRGBD=!1,e.invertY=!1,l=o.createRenderTargetCubeTexture(e.width,{generateDepthBuffer:!1,generateMipMaps:!0,generateStencilBuffer:!1,samplingMode:3,type:e.type,format:5});else if(e._isRGBD=!0,e.invertY=!0,a)for(var f=e._lodGenerationScale,d=e._lodGenerationOffset,h=0;h<3;h++){var p=(n-1)*f+d,b=d+(p-d)*(1-h/2),m=Math.round(Math.min(Math.max(b,0),p)),A=new _e.a(o,_e.b.Temp);A.isCube=!0,A.invertY=!0,A.generateMipMaps=!1,o.updateTextureSamplingMode(2,A);var g=new ri.a(null);switch(g.isCube=!0,g._texture=A,_[m]=g,h){case 0:e._lodTextureLow=g;break;case 1:e._lodTextureMid=g;break;case 2:e._lodTextureHigh=g}}var y=[],v=function(n){for(var r=function(r){var u=t[n][r],f=new Blob([u],{type:"image/png"}),d=URL.createObjectURL(f),h=void 0;if("undefined"===typeof Image)h=createImageBitmap(f).then(function(t){return i._OnImageReadyAsync(t,o,s,c,d,r,n,a,_,l,e)});else{var p=new Image;p.src=d,h=new Promise(function(t,u){p.onload=function(){i._OnImageReadyAsync(p,o,s,c,d,r,n,a,_,l,e).then(function(){return t()}).catch(function(e){u(e)})},p.onerror=function(e){u(e)}})}y.push(h)},u=0;u<6;u++)r(u)};for(h=0;h<t.length;h++)v(h);if(t.length<n){var C=void 0,E=Math.pow(2,n-1-t.length),S=E*E*4;switch(e.type){case 0:C=new Uint8Array(S);break;case 2:C=new Uint16Array(S);break;case 1:C=new Float32Array(S)}for(h=t.length;h<n;h++)for(var T=0;T<6;T++)o._uploadArrayBufferViewToTexture(e,C,T,h)}return Promise.all(y).then(function(){l&&(o._releaseFramebufferObjects(l),o._releaseTexture(e),l._swapAndDie(e)),c&&c.dispose(),a&&(e._lodTextureHigh&&e._lodTextureHigh._texture&&(e._lodTextureHigh._texture.isReady=!0),e._lodTextureMid&&e._lodTextureMid._texture&&(e._lodTextureMid._texture.isReady=!0),e._lodTextureLow&&e._lodTextureLow._texture&&(e._lodTextureLow._texture.isReady=!0))})},e.UploadEnvSpherical=function(e,t){1!==t.version&&l.a.Warn('Unsupported babylon environment map version "'+t.version+'"');var i=t.irradiance;if(i){var n=new ni.b;L.e.FromArrayToRef(i.x,0,n.x),L.e.FromArrayToRef(i.y,0,n.y),L.e.FromArrayToRef(i.z,0,n.z),L.e.FromArrayToRef(i.xx,0,n.xx),L.e.FromArrayToRef(i.yy,0,n.yy),L.e.FromArrayToRef(i.zz,0,n.zz),L.e.FromArrayToRef(i.yz,0,n.yz),L.e.FromArrayToRef(i.zx,0,n.zx),L.e.FromArrayToRef(i.xy,0,n.xy),e._sphericalPolynomial=n}},e._UpdateRGBDAsync=function(t,i,n,r,o){return t._source=_e.b.CubeRawRGBD,t._bufferViewArrayArray=i,t._lodGenerationScale=r,t._lodGenerationOffset=o,t._sphericalPolynomial=n,e.UploadLevelsAsync(t,i).then(function(){t.isReady=!0})},e._MagicBytes=[134,22,135,150,246,214,150,54],e}();_e.a._UpdateRGBDAsync=ci._UpdateRGBDAsync;var li=function(e){function t(t,i,n,r,o,s,a,c,l){void 0===r&&(r=5),void 0===o&&(o=0),void 0===s&&(s=!1),void 0===a&&(a=!1),void 0===c&&(c=3),void 0===l&&(l=null);var _=e.call(this,"",t)||this;return _._texture=t.getEngine().createRawCubeTexture(i,n,r,o,s,a,c,l),_}return Object(s.c)(t,e),t.prototype.update=function(e,t,i,n,r){void 0===r&&(r=null),this._texture.getEngine().updateRawCubeTexture(this._texture,e,t,i,n,r)},t.prototype.updateRGBDAsync=function(e,i,n,r){return void 0===i&&(i=null),void 0===n&&(n=.8),void 0===r&&(r=0),t._UpdateRGBDAsync(this._texture,e,i,n,r)},t.prototype.clone=function(){var e=this;return B.a.Clone(function(){var i=e.getScene(),n=e._texture,r=new t(i,n._bufferViewArray,n.width,n.format,n.type,n.generateMipMaps,n.invertY,n.samplingMode,n._compression);return n.source===_e.b.CubeRawRGBD&&r.updateRGBDAsync(n._bufferViewArrayArray,n._sphericalPolynomial,n._lodGenerationScale,n._lodGenerationOffset),r},this)},t._UpdateRGBDAsync=function(e,t,i,n,r){return e._source=_e.b.CubeRawRGBD,e._bufferViewArrayArray=t,e._lodGenerationScale=n,e._lodGenerationOffset=r,e._sphericalPolynomial=i,ci.UploadLevelsAsync(e,t).then(function(){e.isReady=!0})},t}(i(948).a),_i="EXT_lights_image_based",ui=function(){function e(e){this.name=_i,this._loader=e,this.enabled=this._loader.isExtensionUsed(_i)}return e.prototype.dispose=function(){this._loader=null,delete this._lights},e.prototype.onLoading=function(){var e=this._loader.gltf.extensions;if(e&&e[this.name]){var t=e[this.name];this._lights=t.lights}},e.prototype.loadSceneAsync=function(e,t){var i=this;return ii.LoadExtensionAsync(e,t,this.name,function(n,r){var o=new Array;o.push(i._loader.loadSceneAsync(e,t)),i._loader.logOpen(""+n);var s=ti.Get(n+"/light",i._lights,r.light);return o.push(i._loadLightAsync("/extensions/"+i.name+"/lights/"+r.light,s).then(function(e){i._loader.babylonScene.environmentTexture=e})),i._loader.logClose(),Promise.all(o).then(function(){})})},e.prototype._loadLightAsync=function(e,t){var i=this;if(!t._loaded){var n=new Array;this._loader.logOpen(""+e);for(var r=new Array(t.specularImages.length),o=function(i){var o=t.specularImages[i];r[i]=new Array(o.length);for(var a=function(t){var a=e+"/specularImages/"+i+"/"+t;s._loader.logOpen(""+a);var c=o[t],l=ti.Get(a,s._loader.gltf.images,c);n.push(s._loader.loadImageAsync("/images/"+c,l).then(function(e){r[i][t]=e})),s._loader.logClose()},c=0;c<o.length;c++)a(c)},s=this,a=0;a<t.specularImages.length;a++)o(a);this._loader.logClose(),t._loaded=Promise.all(n).then(function(){var e=new li(i._loader.babylonScene,null,t.specularImageSize);if(e.name=t.name||"environment",t._babylonTexture=e,void 0!=t.intensity&&(e.level=t.intensity),t.rotation){var n=L.b.FromArray(t.rotation);i._loader.babylonScene.useRightHandedSystem||(n=L.b.Inverse(n)),L.a.FromQuaternionToRef(n,e.getReflectionTextureMatrix())}var o=ni.a.FromArray(t.irradianceCoefficients);o.scaleInPlace(t.intensity),o.convertIrradianceToLambertianRadiance();var s=ni.b.FromHarmonics(o),a=(r.length-1)/ee.a.Log2(t.specularImageSize);return e.updateRGBDAsync(r,s,a)})}return t._loaded.then(function(){return t._babylonTexture})},e}();ii.RegisterExtension(_i,function(e){return new ui(e)});var fi="EXT_mesh_gpu_instancing",di=function(){function e(e){this.name=fi,this._loader=e,this.enabled=this._loader.isExtensionUsed(fi)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadNodeAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(e,r){n._loader._disableInstancedMesh++;var o=n._loader.loadNodeAsync("/nodes/"+t.index,t,i);if(n._loader._disableInstancedMesh--,!t._primitiveBabylonMeshes)return o;var s=new Array,a=0,c=function(t){if(void 0!=r.attributes[t]){var i=ti.Get(e+"/attributes/"+t,n._loader.gltf.accessors,r.attributes[t]);if(s.push(n._loader._loadFloatAccessorAsync("/accessors/"+i.bufferView,i)),0===a)a=i.count;else if(a!==i.count)throw new Error(e+"/attributes: Instance buffer accessors do not have the same count.")}else s.push(Promise.resolve(null))};return c("TRANSLATION"),c("ROTATION"),c("SCALE"),o.then(function(e){return Promise.all(s).then(function(i){var n=i[0],r=i[1],o=i[2],s=new Float32Array(16*a);L.c.Vector3[0].copyFromFloats(0,0,0),L.c.Quaternion[0].copyFromFloats(0,0,0,1),L.c.Vector3[1].copyFromFloats(1,1,1);for(var c=0;c<a;++c)n&&L.e.FromArrayToRef(n,3*c,L.c.Vector3[0]),r&&L.b.FromArrayToRef(r,4*c,L.c.Quaternion[0]),o&&L.e.FromArrayToRef(o,3*c,L.c.Vector3[1]),L.a.ComposeToRef(L.c.Vector3[1],L.c.Quaternion[0],L.c.Vector3[0],L.c.Matrix[0]),L.c.Matrix[0].copyToArray(s,16*c);for(var l=0,_=t._primitiveBabylonMeshes;l<_.length;l++){_[l].thinInstanceSetBuffer("matrix",s,16,!0)}return e})})})},e}();ii.RegisterExtension(fi,function(e){return new di(e)});var hi="EXT_texture_webp",pi=function(){function e(e){this.name=hi,this._loader=e,this.enabled=e.isExtensionUsed(hi)}return e.prototype.dispose=function(){this._loader=null},e.prototype._loadTextureAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=void 0==t.sampler?ii.DefaultSampler:ti.Get(e+"/sampler",n._loader.gltf.samplers,t.sampler),a=ti.Get(r+"/source",n._loader.gltf.images,o.source);return n._loader._createTextureAsync(e,s,a,function(e){i(e)})})},e}();ii.RegisterExtension(hi,function(e){return new pi(e)});var bi=function(){function e(e){this._pendingActions=new Array,this._workerInfos=e.map(function(e){return{worker:e,active:!1}})}return e.prototype.dispose=function(){for(var e=0,t=this._workerInfos;e<t.length;e++){t[e].worker.terminate()}this._workerInfos=[],this._pendingActions=[]},e.prototype.push=function(e){for(var t=0,i=this._workerInfos;t<i.length;t++){var n=i[t];if(!n.active)return void this._execute(n,e)}this._pendingActions.push(e)},e.prototype._execute=function(e,t){var i=this;e.active=!0,t(e.worker,function(){e.active=!1;var t=i._pendingActions.shift();t&&i._execute(e,t)})},e}();function mi(e,t,i,n,r){var o=new e.DecoderBuffer;o.Init(t,t.byteLength);var s,a,c=new e.Decoder;try{var l=c.GetEncodedGeometryType(o);switch(l){case e.TRIANGULAR_MESH:s=new e.Mesh,a=c.DecodeBufferToMesh(o,s);break;case e.POINT_CLOUD:s=new e.PointCloud,a=c.DecodeBufferToPointCloud(o,s);break;default:throw new Error("Invalid geometry type "+l)}if(!a.ok()||!s.ptr)throw new Error(a.error_msg());if(l===e.TRIANGULAR_MESH){var _=3*s.num_faces(),u=4*_,f=e._malloc(u);try{c.GetTrianglesUInt32Array(s,u,f);var d=new Uint32Array(_);d.set(new Uint32Array(e.HEAPF32.buffer,f,_)),n(d)}finally{e._free(f)}}var h=function(t,i){var n=i.num_components(),o=s.num_points(),a=o*n,l=a*Float32Array.BYTES_PER_ELEMENT,_=e._malloc(l);try{c.GetAttributeDataArrayForAllPoints(s,i,e.DT_FLOAT32,l,_);var u=new Float32Array(e.HEAPF32.buffer,_,a);if("color"===t&&3===n){for(var f=new Float32Array(4*o),d=0,h=0;d<f.length;d+=4,h+=n)f[d+0]=u[h+0],f[d+1]=u[h+1],f[d+2]=u[h+2],f[d+3]=1;r(t,f)}else{(f=new Float32Array(a)).set(new Float32Array(e.HEAPF32.buffer,_,a)),r(t,f)}}finally{e._free(_)}};if(i)for(var p in i){var b=i[p];h(p,c.GetAttributeByUniqueId(s,b))}else{var m={position:"POSITION",normal:"NORMAL",color:"COLOR",uv:"TEX_COORD"};for(var p in m){if(-1!==(b=c.GetAttributeId(s,e[m[p]])))h(p,c.GetAttribute(s,b))}}}finally{s&&e.destroy(s),e.destroy(c),e.destroy(o)}}function Ai(){var e;onmessage=function(t){var i=t.data;switch(i.id){case"init":var n=i.decoder;n.url&&(importScripts(n.url),e=DracoDecoderModule({wasmBinary:n.wasmBinary})),postMessage("done");break;case"decodeMesh":if(!e)throw new Error("Draco decoder module is not available");e.then(function(e){mi(e,i.dataView,i.attributes,function(e){postMessage({id:"indices",value:e},[e.buffer])},function(e,t){postMessage({id:e,value:t},[t.buffer])}),postMessage("done")})}}}function gi(e){return"object"!==typeof document||"string"!==typeof e?e:r.b.GetAbsoluteUrl(e)}var yi=function(){function e(t){void 0===t&&(t=e.DefaultNumWorkers);var i=e.Configuration.decoder,n=i.wasmUrl&&i.wasmBinaryUrl&&"object"===typeof WebAssembly?{url:i.wasmUrl,wasmBinaryPromise:r.b.LoadFileAsync(gi(i.wasmBinaryUrl))}:{url:i.fallbackUrl,wasmBinaryPromise:Promise.resolve(void 0)};t&&"function"===typeof Worker?this._workerPoolPromise=n.wasmBinaryPromise.then(function(e){for(var i=mi+"("+Ai+")()",r=URL.createObjectURL(new Blob([i],{type:"application/javascript"})),o=new Array(t),s=0;s<o.length;s++)o[s]=new Promise(function(t,i){var o=new Worker(r),s=function e(t){o.removeEventListener("error",e),o.removeEventListener("message",a),i(t)},a=function e(i){"done"===i.data&&(o.removeEventListener("error",s),o.removeEventListener("message",e),t(o))};o.addEventListener("error",s),o.addEventListener("message",a),o.postMessage({id:"init",decoder:{url:gi(n.url),wasmBinary:e}})});return Promise.all(o).then(function(e){return new bi(e)})}):this._decoderModulePromise=n.wasmBinaryPromise.then(function(e){if(!n.url)throw new Error("Draco decoder module is not available");return r.b.LoadScriptAsync(n.url).then(function(){return t=e,new Promise(function(e){DracoDecoderModule({wasmBinary:t}).then(function(t){e({module:t})})});var t})})}return Object.defineProperty(e,"DecoderAvailable",{get:function(){var t=e.Configuration.decoder;return!!(t.wasmUrl&&t.wasmBinaryUrl&&"object"===typeof WebAssembly||t.fallbackUrl)},enumerable:!1,configurable:!0}),e.GetDefaultNumWorkers=function(){return"object"===typeof navigator&&navigator.hardwareConcurrency?Math.min(Math.floor(.5*navigator.hardwareConcurrency),4):1},Object.defineProperty(e,"Default",{get:function(){return e._Default||(e._Default=new e),e._Default},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){this._workerPoolPromise&&this._workerPoolPromise.then(function(e){e.dispose()}),delete this._workerPoolPromise,delete this._decoderModulePromise},e.prototype.whenReadyAsync=function(){return this._workerPoolPromise?this._workerPoolPromise.then(function(){}):this._decoderModulePromise?this._decoderModulePromise.then(function(){}):Promise.resolve()},e.prototype.decodeMeshAsync=function(e,t){var i=e instanceof ArrayBuffer?new Uint8Array(e):e;if(this._workerPoolPromise)return this._workerPoolPromise.then(function(e){return new Promise(function(n,r){e.push(function(e,o){var s=new qe.a,a=function t(i){e.removeEventListener("error",t),e.removeEventListener("message",c),r(i),o()},c=function t(i){"done"===i.data?(e.removeEventListener("error",a),e.removeEventListener("message",t),n(s),o()):"indices"===i.data.id?s.indices=i.data.value:s.set(i.data.value,i.data.id)};e.addEventListener("error",a),e.addEventListener("message",c);var l=new Uint8Array(i.byteLength);l.set(new Uint8Array(i.buffer,i.byteOffset,i.byteLength)),e.postMessage({id:"decodeMesh",dataView:l,attributes:t},[l.buffer])})})});if(this._decoderModulePromise)return this._decoderModulePromise.then(function(e){var n=new qe.a;return mi(e.module,i,t,function(e){n.indices=e},function(e,t){n.set(t,e)}),n});throw new Error("Draco decoder module is not available")},e.Configuration={decoder:{wasmUrl:"https://preview.babylonjs.com/draco_wasm_wrapper_gltf.js",wasmBinaryUrl:"https://preview.babylonjs.com/draco_decoder_gltf.wasm",fallbackUrl:"https://preview.babylonjs.com/draco_decoder_gltf.js"}},e.DefaultNumWorkers=e.GetDefaultNumWorkers(),e._Default=null,e}(),vi="KHR_draco_mesh_compression",Ci=function(){function e(e){this.name=vi,this._loader=e,this.enabled=yi.DecoderAvailable&&this._loader.isExtensionUsed(vi)}return e.prototype.dispose=function(){delete this.dracoCompression,this._loader=null},e.prototype._loadVertexDataAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){if(void 0!=t.mode){if(5!==t.mode&&4!==t.mode)throw new Error(e+": Unsupported mode "+t.mode);if(5===t.mode)throw new Error(e+": Mode "+t.mode+" is not currently supported")}var s={},a=function(e,t){var n=o.attributes[e];void 0!=n&&(i._delayInfo=i._delayInfo||[],-1===i._delayInfo.indexOf(t)&&i._delayInfo.push(t),s[t]=n)};a("POSITION",Ee.b.PositionKind),a("NORMAL",Ee.b.NormalKind),a("TANGENT",Ee.b.TangentKind),a("TEXCOORD_0",Ee.b.UVKind),a("TEXCOORD_1",Ee.b.UV2Kind),a("JOINTS_0",Ee.b.MatricesIndicesKind),a("WEIGHTS_0",Ee.b.MatricesWeightsKind),a("COLOR_0",Ee.b.ColorKind);var c=ti.Get(r,n._loader.gltf.bufferViews,o.bufferView);return c._dracoBabylonGeometry||(c._dracoBabylonGeometry=n._loader.loadBufferViewAsync("/bufferViews/"+c.index,c).then(function(t){return(n.dracoCompression||yi.Default).decodeMeshAsync(t,s).then(function(e){var t=new $e.a(i.name,n._loader.babylonScene);return e.applyToGeometry(t),t}).catch(function(t){throw new Error(e+": "+t.message)})})),c._dracoBabylonGeometry})},e}();ii.RegisterExtension(vi,function(e){return new Ci(e)});var Ei="KHR_lights_punctual",Si=function(){function e(e){this.name=Ei,this._loader=e,this.enabled=this._loader.isExtensionUsed(Ei)}return e.prototype.dispose=function(){this._loader=null,delete this._lights},e.prototype.onLoading=function(){var e=this._loader.gltf.extensions;if(e&&e[this.name]){var t=e[this.name];this._lights=t.lights}},e.prototype.loadNodeAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){return n._loader.loadNodeAsync(e,t,function(e){var t,s=ti.Get(r,n._lights,o.light),a=s.name||e.name;switch(n._loader.babylonScene._blockEntityCollection=n._loader._forAssetContainer,s.type){case"directional":t=new rt.a(a,L.e.Backward(),n._loader.babylonScene);break;case"point":t=new st(a,L.e.Zero(),n._loader.babylonScene);break;case"spot":var c=new ct(a,L.e.Zero(),L.e.Backward(),0,1,n._loader.babylonScene);c.angle=2*(s.spot&&s.spot.outerConeAngle||Math.PI/4),c.innerAngle=2*(s.spot&&s.spot.innerConeAngle||0),t=c;break;default:throw n._loader.babylonScene._blockEntityCollection=!1,new Error(r+": Invalid light type ("+s.type+")")}n._loader.babylonScene._blockEntityCollection=!1,t.falloffType=it.a.FALLOFF_GLTF,t.diffuse=s.color?F.a.FromArray(s.color):F.a.White(),t.intensity=void 0==s.intensity?1:s.intensity,t.range=void 0==s.range?Number.MAX_VALUE:s.range,t.parent=e,n._loader._babylonLights.push(t),ii.AddPointerMetadata(t,r),i(e)})})},e}();ii.RegisterExtension(Ei,function(e){return new Si(e)});var Ti="KHR_materials_pbrSpecularGlossiness",Ri=function(){function e(e){this.name=Ti,this.order=200,this._loader=e,this.enabled=this._loader.isExtensionUsed(Ti)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialBasePropertiesAsync(e,t,i)),s.push(n._loadSpecularGlossinessPropertiesAsync(r,t,o,i)),n._loader.loadMaterialAlphaProperties(e,t,i),Promise.all(s).then(function(){})})},e.prototype._loadSpecularGlossinessPropertiesAsync=function(e,t,i,n){if(!(n instanceof Kt.a))throw new Error(e+": Material type not supported");var r=new Array;return n.metallic=null,n.roughness=null,i.diffuseFactor?(n.albedoColor=F.a.FromArray(i.diffuseFactor),n.alpha=i.diffuseFactor[3]):n.albedoColor=F.a.White(),n.reflectivityColor=i.specularFactor?F.a.FromArray(i.specularFactor):F.a.White(),n.microSurface=void 0==i.glossinessFactor?1:i.glossinessFactor,i.diffuseTexture&&r.push(this._loader.loadTextureInfoAsync(e+"/diffuseTexture",i.diffuseTexture,function(e){e.name=n.name+" (Diffuse)",n.albedoTexture=e})),i.specularGlossinessTexture&&(i.specularGlossinessTexture.nonColorData=!0,r.push(this._loader.loadTextureInfoAsync(e+"/specularGlossinessTexture",i.specularGlossinessTexture,function(e){e.name=n.name+" (Specular Glossiness)",n.reflectivityTexture=e})),n.reflectivityTexture.hasAlpha=!0,n.useMicroSurfaceFromReflectivityMapAlpha=!0),Promise.all(r).then(function(){})},e}();ii.RegisterExtension(Ti,function(e){return new Ri(e)});var Mi="KHR_materials_unlit",Oi=function(){function e(e){this.name=Mi,this.order=210,this._loader=e,this.enabled=this._loader.isExtensionUsed(Mi)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(){return n._loadUnlitPropertiesAsync(e,t,i)})},e.prototype._loadUnlitPropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;i.unlit=!0;var r=t.pbrMetallicRoughness;return r&&(r.baseColorFactor?(i.albedoColor=F.a.FromArray(r.baseColorFactor),i.alpha=r.baseColorFactor[3]):i.albedoColor=F.a.White(),r.baseColorTexture&&n.push(this._loader.loadTextureInfoAsync(e+"/baseColorTexture",r.baseColorTexture,function(e){e.name=i.name+" (Base Color)",i.albedoTexture=e}))),t.doubleSided&&(i.backFaceCulling=!1,i.twoSidedLighting=!0),this._loader.loadMaterialAlphaProperties(e,t,i),Promise.all(n).then(function(){})},e}();ii.RegisterExtension(Mi,function(e){return new Oi(e)});var Ii="KHR_materials_clearcoat",xi=function(){function e(e){this.name=Ii,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(Ii)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadClearCoatPropertiesAsync(r,o,i)),Promise.all(s).then(function(){})})},e.prototype._loadClearCoatPropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;return i.clearCoat.isEnabled=!0,i.clearCoat.useRoughnessFromMainTexture=!1,i.clearCoat.remapF0OnInterfaceChange=!1,void 0!=t.clearcoatFactor?i.clearCoat.intensity=t.clearcoatFactor:i.clearCoat.intensity=0,t.clearcoatTexture&&n.push(this._loader.loadTextureInfoAsync(e+"/clearcoatTexture",t.clearcoatTexture,function(e){e.name=i.name+" (ClearCoat Intensity)",i.clearCoat.texture=e})),void 0!=t.clearcoatRoughnessFactor?i.clearCoat.roughness=t.clearcoatRoughnessFactor:i.clearCoat.roughness=0,t.clearcoatRoughnessTexture&&(t.clearcoatRoughnessTexture.nonColorData=!0,n.push(this._loader.loadTextureInfoAsync(e+"/clearcoatRoughnessTexture",t.clearcoatRoughnessTexture,function(e){e.name=i.name+" (ClearCoat Roughness)",i.clearCoat.textureRoughness=e}))),t.clearcoatNormalTexture&&(t.clearcoatNormalTexture.nonColorData=!0,n.push(this._loader.loadTextureInfoAsync(e+"/clearcoatNormalTexture",t.clearcoatNormalTexture,function(e){e.name=i.name+" (ClearCoat Normal)",i.clearCoat.bumpTexture=e})),i.invertNormalMapX=!i.getScene().useRightHandedSystem,i.invertNormalMapY=i.getScene().useRightHandedSystem,void 0!=t.clearcoatNormalTexture.scale&&(i.clearCoat.bumpTexture.level=t.clearcoatNormalTexture.scale)),Promise.all(n).then(function(){})},e}();ii.RegisterExtension(Ii,function(e){return new xi(e)});var Pi="KHR_materials_sheen",Di=function(){function e(e){this.name=Pi,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(Pi)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadSheenPropertiesAsync(r,o,i)),Promise.all(s).then(function(){})})},e.prototype._loadSheenPropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;return i.sheen.isEnabled=!0,i.sheen.intensity=1,void 0!=t.sheenColorFactor?i.sheen.color=F.a.FromArray(t.sheenColorFactor):i.sheen.color=F.a.Black(),t.sheenColorTexture&&n.push(this._loader.loadTextureInfoAsync(e+"/sheenColorTexture",t.sheenColorTexture,function(e){e.name=i.name+" (Sheen Color)",i.sheen.texture=e})),void 0!==t.sheenRoughnessFactor?i.sheen.roughness=t.sheenRoughnessFactor:i.sheen.roughness=0,t.sheenRoughnessTexture&&(t.sheenRoughnessTexture.nonColorData=!0,n.push(this._loader.loadTextureInfoAsync(e+"/sheenRoughnessTexture",t.sheenRoughnessTexture,function(e){e.name=i.name+" (Sheen Roughness)",i.sheen.textureRoughness=e}))),i.sheen.albedoScaling=!0,i.sheen.useRoughnessFromMainTexture=!1,Promise.all(n).then(function(){})},e}();ii.RegisterExtension(Pi,function(e){return new Di(e)});var wi="KHR_materials_specular",Li=function(){function e(e){this.name=wi,this.order=190,this._loader=e,this.enabled=this._loader.isExtensionUsed(wi)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadSpecularPropertiesAsync(r,o,i)),Promise.all(s).then(function(){})})},e.prototype._loadSpecularPropertiesAsync=function(e,t,i){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var n=new Array;return void 0!==t.specularFactor&&(i.metallicF0Factor=t.specularFactor),void 0!==t.specularColorFactor&&(i.metallicReflectanceColor=F.a.FromArray(t.specularColorFactor)),t.specularTexture&&(t.specularTexture.nonColorData=!0,n.push(this._loader.loadTextureInfoAsync(e+"/specularTexture",t.specularTexture,function(e){e.name=i.name+" (Specular F0 Color)",i.metallicReflectanceTexture=e}))),Promise.all(n).then(function(){})},e}();ii.RegisterExtension(wi,function(e){return new Li(e)});var Fi="KHR_materials_ior",Ni=function(){function e(e){this.name=Fi,this.order=180,this._loader=e,this.enabled=this._loader.isExtensionUsed(Fi)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadIorPropertiesAsync(r,o,i)),Promise.all(s).then(function(){})})},e.prototype._loadIorPropertiesAsync=function(t,i,n){if(!(n instanceof Kt.a))throw new Error(t+": Material type not supported");return void 0!==i.ior?n.indexOfRefraction=i.ior:n.indexOfRefraction=e._DEFAULT_IOR,Promise.resolve()},e._DEFAULT_IOR=1.5,e}();ii.RegisterExtension(Fi,function(e){return new Ni(e)});var Bi="KHR_materials_variants",ki=function(){function e(e){this.name=Bi,this._loader=e,this.enabled=this._loader.isExtensionUsed(Bi)}return e.prototype.dispose=function(){this._loader=null},e.GetAvailableVariants=function(e){var t=this._GetExtensionMetadata(e);return t?Object.keys(t.variants):[]},e.prototype.getAvailableVariants=function(t){return e.GetAvailableVariants(t)},e.SelectVariant=function(e,t){var i=this._GetExtensionMetadata(e);if(!i)throw new Error("Cannot select variant on a glTF mesh that does not have the "+Bi+" extension");var n=function(e){var t=i.variants[e];if(t)for(var n=0,r=t;n<r.length;n++){var o=r[n];o.mesh.material=o.material}};if(t instanceof Array)for(var r=0,o=t;r<o.length;r++){n(o[r])}else n(t);i.lastSelected=t},e.prototype.selectVariant=function(t,i){return e.SelectVariant(t,i)},e.Reset=function(e){var t=this._GetExtensionMetadata(e);if(!t)throw new Error("Cannot reset on a glTF mesh that does not have the "+Bi+" extension");for(var i=0,n=t.original;i<n.length;i++){var r=n[i];r.mesh.material=r.material}t.lastSelected=null},e.prototype.reset=function(t){return e.Reset(t)},e.GetLastSelectedVariant=function(e){var t=this._GetExtensionMetadata(e);if(!t)throw new Error("Cannot get the last selected variant on a glTF mesh that does not have the "+Bi+" extension");return t.lastSelected},e.prototype.getLastSelectedVariant=function(t){return e.GetLastSelectedVariant(t)},e._GetExtensionMetadata=function(e){var t,i;return(null===(i=null===(t=null===e||void 0===e?void 0:e.metadata)||void 0===t?void 0:t.gltf)||void 0===i?void 0:i[Bi])||null},e.prototype.onLoading=function(){var e=this._loader.gltf.extensions;if(e&&e[this.name]){var t=e[this.name];this._variants=t.variants}},e.prototype._loadMeshPrimitiveAsync=function(e,t,i,n,r,o){var s=this;return ii.LoadExtensionAsync(e,r,this.name,function(a,l){var _=new Array;return _.push(s._loader._loadMeshPrimitiveAsync(e,t,i,n,r,function(t){if(o(t),t instanceof c.a){var i=ii._GetDrawMode(e,r.mode),n=s._loader.rootBabylonMesh,u=n.metadata=n.metadata||{},f=u.gltf=u.gltf||{},d=f[Bi]=f[Bi]||{lastSelected:null,original:[],variants:{}};d.original.push({mesh:t,material:t.material});for(var h=d.variants,p=0,b=l.mappings;p<b.length;p++)for(var m=b[p],A=function(e){var n=ti.Get(a+"/mapping/"+e,s._variants,e),r=ti.Get("#/materials/",s._loader.gltf.materials,m.material);_.push(s._loader._loadMaterialAsync("#/materials/"+m.material,r,t,i,function(e){h[n.name]=h[n.name]||[],h[n.name].push({mesh:t,material:e})}))},g=0,y=m.variants;g<y.length;g++){A(y[g])}}})),Promise.all(_).then(function(e){return e[0]})})},e}();ii.RegisterExtension(Bi,function(e){return new ki(e)});var Ui=i(807),Hi=function(){function e(t,i){var r=this;this._opaqueRenderTarget=null,this._opaqueMeshesCache=[],this._transparentMeshesCache=[],this._options=T(T({},e._getDefaultOptions()),t),this._scene=i,this._scene._transmissionHelper=this,this.onErrorObservable=new n.a,this._scene.onDisposeObservable.addOnce(function(e){r.dispose()}),this._parseScene(),this._setupRenderTargets()}return e._getDefaultOptions=function(){return{renderSize:512}},e.prototype.updateOptions=function(e){var t=this;if(Object.keys(e).filter(function(i){return t._options[i]!==e[i]}).length){var i=T(T({},this._options),e),n=this._options;this._options=i,i.renderSize!==n.renderSize&&this._setupRenderTargets()}},e.prototype.getOpaqueTarget=function(){return this._opaqueRenderTarget},e.prototype.shouldRenderAsTransmission=function(e){return!!e&&!!(e instanceof Kt.a&&e.subSurface.isRefractionEnabled)},e.prototype._addMesh=function(e){e instanceof c.a&&(e.onMaterialChangedObservable.add(this.onMeshMaterialChanged.bind(this)),this.shouldRenderAsTransmission(e.material)?this._transparentMeshesCache.push(e):this._opaqueMeshesCache.push(e))},e.prototype._removeMesh=function(e){if(e instanceof c.a){e.onMaterialChangedObservable.remove(this.onMeshMaterialChanged.bind(this));var t=this._transparentMeshesCache.indexOf(e);-1!==t&&this._transparentMeshesCache.splice(t,1),-1!==(t=this._opaqueMeshesCache.indexOf(e))&&this._opaqueMeshesCache.splice(t,1)}},e.prototype._parseScene=function(){this._scene.meshes.forEach(this._addMesh.bind(this)),this._scene.onNewMeshAddedObservable.add(this._addMesh.bind(this)),this._scene.onMeshRemovedObservable.add(this._removeMesh.bind(this))},e.prototype.onMeshMaterialChanged=function(e){if(e instanceof c.a){var t=this._transparentMeshesCache.indexOf(e),i=this._opaqueMeshesCache.indexOf(e);this.shouldRenderAsTransmission(e.material)?(e.material instanceof Kt.a&&(e.material.subSurface.refractionTexture=this._opaqueRenderTarget),-1!==i?(this._opaqueMeshesCache.splice(i,1),this._transparentMeshesCache.push(e)):-1===t&&this._transparentMeshesCache.push(e)):-1!==t?(this._transparentMeshesCache.splice(t,1),this._opaqueMeshesCache.push(e)):-1===i&&this._opaqueMeshesCache.push(e)}},e.prototype._setupRenderTargets=function(){var e=this,t=-1;if(this._scene.layers&&this._opaqueRenderTarget)for(var i=0,n=this._scene.layers;i<n.length;i++){var r=(a=n[i]).renderTargetTextures.indexOf(this._opaqueRenderTarget);r>=0&&a.renderTargetTextures.splice(r,1)}if(this._opaqueRenderTarget&&(t=this._scene.customRenderTargets.indexOf(this._opaqueRenderTarget),this._opaqueRenderTarget.dispose()),this._opaqueRenderTarget=new Ui.a("opaqueSceneTexture",this._options.renderSize,this._scene,!0),this._opaqueRenderTarget.renderList=this._opaqueMeshesCache,this._opaqueRenderTarget.gammaSpace=!0,this._opaqueRenderTarget.lodGenerationScale=1,this._opaqueRenderTarget.lodGenerationOffset=-4,t>=0?this._scene.customRenderTargets.splice(t,0,this._opaqueRenderTarget):(t=this._scene.customRenderTargets.length,this._scene.customRenderTargets.push(this._opaqueRenderTarget)),this._scene.layers&&this._opaqueRenderTarget)for(var o=0,s=this._scene.layers;o<s.length;o++){var a;(a=s[o]).renderTargetTextures.push(this._opaqueRenderTarget)}this._transparentMeshesCache.forEach(function(t){e.shouldRenderAsTransmission(t.material)&&t.material instanceof Kt.a&&(t.material.refractionTexture=e._opaqueRenderTarget)})},e.prototype.dispose=function(){this._scene._transmissionHelper=void 0,this._opaqueRenderTarget&&(this._opaqueRenderTarget.dispose(),this._opaqueRenderTarget=null),this._transparentMeshesCache=[],this._opaqueMeshesCache=[]},e}(),ji="KHR_materials_transmission",Vi=function(){function e(e){this.name=ji,this.order=175,this._loader=e,this.enabled=this._loader.isExtensionUsed(ji),this.enabled&&(e.parent.transparencyAsCoverage=!0)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialBasePropertiesAsync(e,t,i)),s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadTransparentPropertiesAsync(r,t,i,o)),Promise.all(s).then(function(){})})},e.prototype._loadTransparentPropertiesAsync=function(e,t,i,n){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var r=i;if(r.subSurface.isRefractionEnabled=!0,r.subSurface.volumeIndexOfRefraction=1,r.subSurface.useAlbedoToTintRefraction=!0,void 0===n.transmissionFactor)return r.subSurface.refractionIntensity=0,r.subSurface.isRefractionEnabled=!1,Promise.resolve();r.subSurface.refractionIntensity=n.transmissionFactor;var o=r.getScene();return r.subSurface.refractionIntensity&&!o._transmissionHelper&&new Hi({},r.getScene()),n.transmissionTexture?(n.transmissionTexture.nonColorData=!0,this._loader.loadTextureInfoAsync(e+"/transmissionTexture",n.transmissionTexture,void 0).then(function(e){r.subSurface.thicknessTexture=e,r.subSurface.useMaskFromThicknessTextureGltf=!0})):Promise.resolve()},e}();ii.RegisterExtension(ji,function(e){return new Vi(e)});var Gi="KHR_materials_translucency",Wi=function(){function e(e){this.name=Gi,this.order=175,this._loader=e,this.enabled=this._loader.isExtensionUsed(Gi),this.enabled&&(e.parent.transparencyAsCoverage=!0)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=new Array;return s.push(n._loader.loadMaterialBasePropertiesAsync(e,t,i)),s.push(n._loader.loadMaterialPropertiesAsync(e,t,i)),s.push(n._loadTranslucentPropertiesAsync(r,t,i,o)),Promise.all(s).then(function(){})})},e.prototype._loadTranslucentPropertiesAsync=function(e,t,i,n){if(!(i instanceof Kt.a))throw new Error(e+": Material type not supported");var r=i;return r.subSurface.isTranslucencyEnabled=!0,r.subSurface.volumeIndexOfRefraction=1,r.subSurface.minimumThickness=0,r.subSurface.maximumThickness=0,r.subSurface.useAlbedoToTintRefraction=!0,void 0===n.translucencyFactor?(r.subSurface.translucencyIntensity=0,r.subSurface.isTranslucencyEnabled=!1,Promise.resolve()):(r.subSurface.translucencyIntensity=n.translucencyFactor,n.translucencyTexture?this._loader.loadTextureInfoAsync(e+"/translucencyTexture",n.translucencyTexture).then(function(e){r.subSurface.thicknessTexture=e,r.subSurface.useMaskFromThicknessTextureGltf=!0}):Promise.resolve())},e}();ii.RegisterExtension(Gi,function(e){return new Wi(e)});var Xi="KHR_mesh_quantization",zi=function(){function e(e){this.name=Xi,this.enabled=e.isExtensionUsed(Xi)}return e.prototype.dispose=function(){},e}();ii.RegisterExtension(Xi,function(e){return new zi(e)});var Yi="KHR_texture_basisu",Qi=function(){function e(e){this.name=Yi,this._loader=e,this.enabled=e.isExtensionUsed(Yi)}return e.prototype.dispose=function(){this._loader=null},e.prototype._loadTextureAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){var s=void 0==t.sampler?ii.DefaultSampler:ti.Get(e+"/sampler",n._loader.gltf.samplers,t.sampler),a=ti.Get(r+"/source",n._loader.gltf.images,o.source);return n._loader._createTextureAsync(e,s,a,function(e){i(e)},t._textureInfo.nonColorData?{useRGBAIfASTCBC7NotAvailableWhenUASTC:!0}:void 0)})},e}();ii.RegisterExtension(Yi,function(e){return new Qi(e)});var Ki="KHR_texture_transform",Zi=function(){function e(e){this.name=Ki,this._loader=e,this.enabled=this._loader.isExtensionUsed(Ki)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadTextureInfoAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(r,o){return n._loader.loadTextureInfoAsync(e,t,function(e){if(!(e instanceof le.a))throw new Error(r+": Texture type not supported");o.offset&&(e.uOffset=o.offset[0],e.vOffset=o.offset[1]),e.uRotationCenter=0,e.vRotationCenter=0,o.rotation&&(e.wAng=-o.rotation),o.scale&&(e.uScale=o.scale[0],e.vScale=o.scale[1]),void 0!=o.texCoord&&(e.coordinatesIndex=o.texCoord),i(e)})})},e}();ii.RegisterExtension(Ki,function(e){return new Zi(e)});var Ji=function(){function e(e,t,i){this.frame=e,this.action=t,this.onlyOnce=i,this.isDone=!1}return e.prototype._clone=function(){return new e(this.frame,this.action,this.onlyOnce)},e}(),qi=i(667),$i=function(){function e(t,i,o,s,a){var c,_,u,f,d=this;if(void 0===s&&(s=null),this.autoplay=!1,this.loop=!1,this.useCustomAttenuation=!1,this.isPlaying=!1,this.isPaused=!1,this.spatialSound=!1,this.refDistance=1,this.rolloffFactor=1,this.maxDistance=100,this.distanceModel="linear",this.metadata=null,this.onEndedObservable=new n.a,this._panningModel="equalpower",this._playbackRate=1,this._streaming=!1,this._startTime=0,this._startOffset=0,this._position=L.e.Zero(),this._positionInEmitterSpace=!1,this._localDirection=new L.e(1,0,0),this._volume=1,this._isReadyToPlay=!1,this._isDirectional=!1,this._coneInnerAngle=360,this._coneOuterAngle=360,this._coneOuterGain=0,this._isOutputConnected=!1,this._urlType="Unknown",this.name=t,this._scene=o,e._SceneComponentInitialization(o),this._readyToPlayCallback=s,this._customAttenuationFunction=function(e,t,i,n,r){return t<i?e*(1-t/i):0},a&&(this.autoplay=a.autoplay||!1,this.loop=a.loop||!1,void 0!==a.volume&&(this._volume=a.volume),this.spatialSound=null!==(c=a.spatialSound)&&void 0!==c&&c,this.maxDistance=null!==(_=a.maxDistance)&&void 0!==_?_:100,this.useCustomAttenuation=null!==(u=a.useCustomAttenuation)&&void 0!==u&&u,this.rolloffFactor=a.rolloffFactor||1,this.refDistance=a.refDistance||1,this.distanceModel=a.distanceModel||"linear",this._playbackRate=a.playbackRate||1,this._streaming=null!==(f=a.streaming)&&void 0!==f&&f,this._length=a.length,this._offset=a.offset),k.a.audioEngine.canUseWebAudio&&k.a.audioEngine.audioContext){this._soundGain=k.a.audioEngine.audioContext.createGain(),this._soundGain.gain.value=this._volume,this._inputAudioNode=this._soundGain,this._outputAudioNode=this._soundGain,this.spatialSound&&this._createSpatialParameters(),this._scene.mainSoundTrack.addSound(this);var h=!0;if(i)try{"string"===typeof i?this._urlType="String":i instanceof ArrayBuffer?this._urlType="ArrayBuffer":i instanceof MediaStream?this._urlType="MediaStream":Array.isArray(i)&&(this._urlType="Array");var p=[],b=!1;switch(this._urlType){case"MediaStream":this._streaming=!0,this._isReadyToPlay=!0,this._streamingSource=k.a.audioEngine.audioContext.createMediaStreamSource(i),this.autoplay&&this.play(0,this._offset,this._length),this._readyToPlayCallback&&this._readyToPlayCallback();break;case"ArrayBuffer":i.byteLength>0&&(b=!0,this._soundLoaded(i));break;case"String":p.push(i);case"Array":0===p.length&&(p=i);for(var m=0;m<p.length;m++){var A=p[m];if(b=a&&a.skipCodecCheck||-1!==A.indexOf(".mp3",A.length-4)&&k.a.audioEngine.isMP3supported||-1!==A.indexOf(".ogg",A.length-4)&&k.a.audioEngine.isOGGsupported||-1!==A.indexOf(".wav",A.length-4)||-1!==A.indexOf(".m4a",A.length-4)||-1!==A.indexOf("blob:")){this._streaming?(this._htmlAudioElement=new Audio(A),this._htmlAudioElement.controls=!1,this._htmlAudioElement.loop=this.loop,r.b.SetCorsBehavior(A,this._htmlAudioElement),this._htmlAudioElement.preload="auto",this._htmlAudioElement.addEventListener("canplaythrough",function(){d._isReadyToPlay=!0,d.autoplay&&d.play(0,d._offset,d._length),d._readyToPlayCallback&&d._readyToPlayCallback()}),document.body.appendChild(this._htmlAudioElement),this._htmlAudioElement.load()):this._scene._loadFile(A,function(e){d._soundLoaded(e)},void 0,!0,!0,function(e){e&&l.a.Error("XHR "+e.status+" error on: "+A+"."),l.a.Error("Sound creation aborted."),d._scene.mainSoundTrack.removeSound(d)});break}}break;default:h=!1}h?b||(this._isReadyToPlay=!0,this._readyToPlayCallback&&window.setTimeout(function(){d._readyToPlayCallback&&d._readyToPlayCallback()},1e3)):l.a.Error("Parameter must be a URL to the sound, an Array of URLs (.mp3 & .ogg) or an ArrayBuffer of the sound.")}catch(g){l.a.Error("Unexpected error. Sound creation aborted."),this._scene.mainSoundTrack.removeSound(this)}}else this._scene.mainSoundTrack.addSound(this),k.a.audioEngine.WarnedWebAudioUnsupported||(l.a.Error("Web Audio is not supported by your browser."),k.a.audioEngine.WarnedWebAudioUnsupported=!0),this._readyToPlayCallback&&window.setTimeout(function(){d._readyToPlayCallback&&d._readyToPlayCallback()},1e3)}return Object.defineProperty(e.prototype,"currentTime",{get:function(){if(this._htmlAudioElement)return this._htmlAudioElement.currentTime;var e=this._startOffset;return this.isPlaying&&k.a.audioEngine.audioContext&&(e+=k.a.audioEngine.audioContext.currentTime-this._startTime),e},enumerable:!1,configurable:!0}),e.prototype.dispose=function(){k.a.audioEngine.canUseWebAudio&&(this.isPlaying&&this.stop(),this._isReadyToPlay=!1,-1===this.soundTrackId?this._scene.mainSoundTrack.removeSound(this):this._scene.soundTracks&&this._scene.soundTracks[this.soundTrackId].removeSound(this),this._soundGain&&(this._soundGain.disconnect(),this._soundGain=null),this._soundPanner&&(this._soundPanner.disconnect(),this._soundPanner=null),this._soundSource&&(this._soundSource.disconnect(),this._soundSource=null),this._audioBuffer=null,this._htmlAudioElement&&(this._htmlAudioElement.pause(),this._htmlAudioElement.src="",document.body.removeChild(this._htmlAudioElement)),this._streamingSource&&this._streamingSource.disconnect(),this._connectedTransformNode&&this._registerFunc&&(this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(this._registerFunc),this._connectedTransformNode=null))},e.prototype.isReady=function(){return this._isReadyToPlay},e.prototype._soundLoaded=function(e){var t=this;k.a.audioEngine.audioContext&&k.a.audioEngine.audioContext.decodeAudioData(e,function(e){t._audioBuffer=e,t._isReadyToPlay=!0,t.autoplay&&t.play(0,t._offset,t._length),t._readyToPlayCallback&&t._readyToPlayCallback()},function(e){l.a.Error("Error while decoding audio data for: "+t.name+" / Error: "+e)})},e.prototype.setAudioBuffer=function(e){k.a.audioEngine.canUseWebAudio&&(this._audioBuffer=e,this._isReadyToPlay=!0)},e.prototype.updateOptions=function(e){var t,i,n,r,o,s,a,c,l;e&&(this.loop=null!==(t=e.loop)&&void 0!==t?t:this.loop,this.maxDistance=null!==(i=e.maxDistance)&&void 0!==i?i:this.maxDistance,this.useCustomAttenuation=null!==(n=e.useCustomAttenuation)&&void 0!==n?n:this.useCustomAttenuation,this.rolloffFactor=null!==(r=e.rolloffFactor)&&void 0!==r?r:this.rolloffFactor,this.refDistance=null!==(o=e.refDistance)&&void 0!==o?o:this.refDistance,this.distanceModel=null!==(s=e.distanceModel)&&void 0!==s?s:this.distanceModel,this._playbackRate=null!==(a=e.playbackRate)&&void 0!==a?a:this._playbackRate,this._length=null!==(c=e.length)&&void 0!==c?c:void 0,this._offset=null!==(l=e.offset)&&void 0!==l?l:void 0,this._updateSpatialParameters(),this.isPlaying&&(this._streaming&&this._htmlAudioElement?(this._htmlAudioElement.playbackRate=this._playbackRate,this._htmlAudioElement.loop!==this.loop&&(this._htmlAudioElement.loop=this.loop)):this._soundSource&&(this._soundSource.playbackRate.value=this._playbackRate,this._soundSource.loop!==this.loop&&(this._soundSource.loop=this.loop),void 0!==this._offset&&this._soundSource.loopStart!==this._offset&&(this._soundSource.loopStart=this._offset),void 0!==this._length&&this._length!==this._soundSource.loopEnd&&(this._soundSource.loopEnd=(0|this._offset)+this._length))))},e.prototype._createSpatialParameters=function(){k.a.audioEngine.canUseWebAudio&&k.a.audioEngine.audioContext&&(this._scene.headphone&&(this._panningModel="HRTF"),this._soundPanner=k.a.audioEngine.audioContext.createPanner(),this._soundPanner&&this._outputAudioNode&&(this._updateSpatialParameters(),this._soundPanner.connect(this._outputAudioNode),this._inputAudioNode=this._soundPanner))},e.prototype._updateSpatialParameters=function(){this.spatialSound&&this._soundPanner&&(this.useCustomAttenuation?(this._soundPanner.distanceModel="linear",this._soundPanner.maxDistance=Number.MAX_VALUE,this._soundPanner.refDistance=1,this._soundPanner.rolloffFactor=1,this._soundPanner.panningModel=this._panningModel):(this._soundPanner.distanceModel=this.distanceModel,this._soundPanner.maxDistance=this.maxDistance,this._soundPanner.refDistance=this.refDistance,this._soundPanner.rolloffFactor=this.rolloffFactor,this._soundPanner.panningModel=this._panningModel))},e.prototype.switchPanningModelToHRTF=function(){this._panningModel="HRTF",this._switchPanningModel()},e.prototype.switchPanningModelToEqualPower=function(){this._panningModel="equalpower",this._switchPanningModel()},e.prototype._switchPanningModel=function(){k.a.audioEngine.canUseWebAudio&&this.spatialSound&&this._soundPanner&&(this._soundPanner.panningModel=this._panningModel)},e.prototype.connectToSoundTrackAudioNode=function(e){k.a.audioEngine.canUseWebAudio&&this._outputAudioNode&&(this._isOutputConnected&&this._outputAudioNode.disconnect(),this._outputAudioNode.connect(e),this._isOutputConnected=!0)},e.prototype.setDirectionalCone=function(e,t,i){t<e?l.a.Error("setDirectionalCone(): outer angle of the cone must be superior or equal to the inner angle."):(this._coneInnerAngle=e,this._coneOuterAngle=t,this._coneOuterGain=i,this._isDirectional=!0,this.isPlaying&&this.loop&&(this.stop(),this.play(0,this._offset,this._length)))},Object.defineProperty(e.prototype,"directionalConeInnerAngle",{get:function(){return this._coneInnerAngle},set:function(e){if(e!=this._coneInnerAngle){if(this._coneOuterAngle<e)return void l.a.Error("directionalConeInnerAngle: outer angle of the cone must be superior or equal to the inner angle.");this._coneInnerAngle=e,k.a.audioEngine.canUseWebAudio&&this.spatialSound&&this._soundPanner&&(this._soundPanner.coneInnerAngle=this._coneInnerAngle)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"directionalConeOuterAngle",{get:function(){return this._coneOuterAngle},set:function(e){if(e!=this._coneOuterAngle){if(e<this._coneInnerAngle)return void l.a.Error("directionalConeOuterAngle: outer angle of the cone must be superior or equal to the inner angle.");this._coneOuterAngle=e,k.a.audioEngine.canUseWebAudio&&this.spatialSound&&this._soundPanner&&(this._soundPanner.coneOuterAngle=this._coneOuterAngle)}},enumerable:!1,configurable:!0}),e.prototype.setPosition=function(e){this._position=e,k.a.audioEngine.canUseWebAudio&&this.spatialSound&&this._soundPanner&&!isNaN(this._position.x)&&!isNaN(this._position.y)&&!isNaN(this._position.z)&&this._soundPanner.setPosition(this._position.x,this._position.y,this._position.z)},e.prototype.setLocalDirectionToMesh=function(e){this._localDirection=e,k.a.audioEngine.canUseWebAudio&&this._connectedTransformNode&&this.isPlaying&&this._updateDirection()},e.prototype._updateDirection=function(){if(this._connectedTransformNode&&this._soundPanner){var e=this._connectedTransformNode.getWorldMatrix(),t=L.e.TransformNormal(this._localDirection,e);t.normalize(),this._soundPanner.setOrientation(t.x,t.y,t.z)}},e.prototype.updateDistanceFromListener=function(){if(k.a.audioEngine.canUseWebAudio&&this._connectedTransformNode&&this.useCustomAttenuation&&this._soundGain&&this._scene.activeCamera){var e=this._connectedTransformNode.getDistanceToCamera(this._scene.activeCamera);this._soundGain.gain.value=this._customAttenuationFunction(this._volume,e,this.maxDistance,this.refDistance,this.rolloffFactor)}},e.prototype.setAttenuationFunction=function(e){this._customAttenuationFunction=e},e.prototype.play=function(e,t,i){var n=this;if(this._isReadyToPlay&&this._scene.audioEnabled&&k.a.audioEngine.audioContext)try{this._startOffset<0&&(e=-this._startOffset,this._startOffset=0);var r=e?k.a.audioEngine.audioContext.currentTime+e:k.a.audioEngine.audioContext.currentTime;if(this._soundSource&&this._streamingSource||this.spatialSound&&this._soundPanner&&(isNaN(this._position.x)||isNaN(this._position.y)||isNaN(this._position.z)||this._soundPanner.setPosition(this._position.x,this._position.y,this._position.z),this._isDirectional&&(this._soundPanner.coneInnerAngle=this._coneInnerAngle,this._soundPanner.coneOuterAngle=this._coneOuterAngle,this._soundPanner.coneOuterGain=this._coneOuterGain,this._connectedTransformNode?this._updateDirection():this._soundPanner.setOrientation(this._localDirection.x,this._localDirection.y,this._localDirection.z))),this._streaming){if(this._streamingSource||(this._streamingSource=k.a.audioEngine.audioContext.createMediaElementSource(this._htmlAudioElement),this._htmlAudioElement.onended=function(){n._onended()},this._htmlAudioElement.playbackRate=this._playbackRate),this._streamingSource.disconnect(),this._inputAudioNode&&this._streamingSource.connect(this._inputAudioNode),this._htmlAudioElement)(o=function(){if(k.a.audioEngine.unlocked){var e=n._htmlAudioElement.play();void 0!==e&&e.catch(function(e){k.a.audioEngine.lock(),(n.loop||n.autoplay)&&k.a.audioEngine.onAudioUnlockedObservable.addOnce(function(){o()})})}else(n.loop||n.autoplay)&&k.a.audioEngine.onAudioUnlockedObservable.addOnce(function(){o()})})()}else{var o=function(){if(k.a.audioEngine.audioContext){if(i=i||n._length,t=t||n._offset,n._soundSource){var o=n._soundSource;o.onended=function(){o.disconnect()}}if(n._soundSource=k.a.audioEngine.audioContext.createBufferSource(),n._soundSource&&n._inputAudioNode){n._soundSource.buffer=n._audioBuffer,n._soundSource.connect(n._inputAudioNode),n._soundSource.loop=n.loop,void 0!==t&&(n._soundSource.loopStart=t),void 0!==i&&(n._soundSource.loopEnd=(0|t)+i),n._soundSource.playbackRate.value=n._playbackRate,n._soundSource.onended=function(){n._onended()},r=e?k.a.audioEngine.audioContext.currentTime+e:k.a.audioEngine.audioContext.currentTime;var s=n.isPaused?n._startOffset%n._soundSource.buffer.duration:t||0;n._soundSource.start(r,s,n.loop?void 0:i)}}};"suspended"===k.a.audioEngine.audioContext.state?setTimeout(function(){"suspended"===k.a.audioEngine.audioContext.state?(k.a.audioEngine.lock(),(n.loop||n.autoplay)&&k.a.audioEngine.onAudioUnlockedObservable.addOnce(function(){o()})):o()},500):o()}this._startTime=r,this.isPlaying=!0,this.isPaused=!1}catch(s){l.a.Error("Error while trying to play audio: "+this.name+", "+s.message)}},e.prototype._onended=function(){this.isPlaying=!1,this._startOffset=0,this.onended&&this.onended(),this.onEndedObservable.notifyObservers(this)},e.prototype.stop=function(e){var t=this;if(this.isPlaying)if(this._streaming)this._htmlAudioElement?(this._htmlAudioElement.pause(),this._htmlAudioElement.currentTime>0&&(this._htmlAudioElement.currentTime=0)):this._streamingSource.disconnect(),this.isPlaying=!1;else if(k.a.audioEngine.audioContext&&this._soundSource){var i=e?k.a.audioEngine.audioContext.currentTime+e:k.a.audioEngine.audioContext.currentTime;this._soundSource.stop(i),this._soundSource.onended=function(){t.isPlaying=!1},this.isPaused||(this._startOffset=0)}},e.prototype.pause=function(){this.isPlaying&&(this.isPaused=!0,this._streaming?this._htmlAudioElement?this._htmlAudioElement.pause():this._streamingSource.disconnect():k.a.audioEngine.audioContext&&(this.stop(0),this._startOffset+=k.a.audioEngine.audioContext.currentTime-this._startTime))},e.prototype.setVolume=function(e,t){k.a.audioEngine.canUseWebAudio&&this._soundGain&&(t&&k.a.audioEngine.audioContext?(this._soundGain.gain.cancelScheduledValues(k.a.audioEngine.audioContext.currentTime),this._soundGain.gain.setValueAtTime(this._soundGain.gain.value,k.a.audioEngine.audioContext.currentTime),this._soundGain.gain.linearRampToValueAtTime(e,k.a.audioEngine.audioContext.currentTime+t)):this._soundGain.gain.value=e),this._volume=e},e.prototype.setPlaybackRate=function(e){this._playbackRate=e,this.isPlaying&&(this._streaming&&this._htmlAudioElement?this._htmlAudioElement.playbackRate=this._playbackRate:this._soundSource&&(this._soundSource.playbackRate.value=this._playbackRate))},e.prototype.getVolume=function(){return this._volume},e.prototype.attachToMesh=function(e){var t=this;this._connectedTransformNode&&this._registerFunc&&(this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(this._registerFunc),this._registerFunc=null),this._connectedTransformNode=e,this.spatialSound||(this.spatialSound=!0,this._createSpatialParameters(),this.isPlaying&&this.loop&&(this.stop(),this.play(0,this._offset,this._length))),this._onRegisterAfterWorldMatrixUpdate(this._connectedTransformNode),this._registerFunc=function(e){return t._onRegisterAfterWorldMatrixUpdate(e)},this._connectedTransformNode.registerAfterWorldMatrixUpdate(this._registerFunc)},e.prototype.detachFromMesh=function(){this._connectedTransformNode&&this._registerFunc&&(this._connectedTransformNode.unregisterAfterWorldMatrixUpdate(this._registerFunc),this._registerFunc=null,this._connectedTransformNode=null)},e.prototype._onRegisterAfterWorldMatrixUpdate=function(e){if(this._positionInEmitterSpace)e.worldMatrixFromCache.invertToRef(L.c.Matrix[0]),this.setPosition(L.c.Matrix[0].getTranslation());else if(e.getBoundingInfo){var t=e.getBoundingInfo();this.setPosition(t.boundingSphere.centerWorld)}else this.setPosition(e.absolutePosition);k.a.audioEngine.canUseWebAudio&&this._isDirectional&&this.isPlaying&&this._updateDirection()},e.prototype.clone=function(){var t=this;if(this._streaming)return null;var i={autoplay:this.autoplay,loop:this.loop,volume:this._volume,spatialSound:this.spatialSound,maxDistance:this.maxDistance,useCustomAttenuation:this.useCustomAttenuation,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,distanceModel:this.distanceModel},n=new e(this.name+"_cloned",new ArrayBuffer(0),this._scene,null,i);return this.useCustomAttenuation&&n.setAttenuationFunction(this._customAttenuationFunction),n.setPosition(this._position),n.setPlaybackRate(this._playbackRate),function e(){t._isReadyToPlay?(n._audioBuffer=t.getAudioBuffer(),n._isReadyToPlay=!0,n.autoplay&&n.play(0,t._offset,t._length)):window.setTimeout(e,300)}(),n},e.prototype.getAudioBuffer=function(){return this._audioBuffer},e.prototype.getSoundSource=function(){return this._soundSource},e.prototype.getSoundGain=function(){return this._soundGain},e.prototype.serialize=function(){var e={name:this.name,url:this.name,autoplay:this.autoplay,loop:this.loop,volume:this._volume,spatialSound:this.spatialSound,maxDistance:this.maxDistance,rolloffFactor:this.rolloffFactor,refDistance:this.refDistance,distanceModel:this.distanceModel,playbackRate:this._playbackRate,panningModel:this._panningModel,soundTrackId:this.soundTrackId,metadata:this.metadata};return this.spatialSound&&(this._connectedTransformNode&&(e.connectedMeshId=this._connectedTransformNode.id),e.position=this._position.asArray(),e.refDistance=this.refDistance,e.distanceModel=this.distanceModel,e.isDirectional=this._isDirectional,e.localDirectionToMesh=this._localDirection.asArray(),e.coneInnerAngle=this._coneInnerAngle,e.coneOuterAngle=this._coneOuterAngle,e.coneOuterGain=this._coneOuterGain),e},e.Parse=function(t,i,n,r){var o,s=t.name;o=t.url?n+t.url:n+s;var a,c={autoplay:t.autoplay,loop:t.loop,volume:t.volume,spatialSound:t.spatialSound,maxDistance:t.maxDistance,rolloffFactor:t.rolloffFactor,refDistance:t.refDistance,distanceModel:t.distanceModel,playbackRate:t.playbackRate};if(r){a=new e(s,new ArrayBuffer(0),i,null,c),function e(){r._isReadyToPlay?(a._audioBuffer=r.getAudioBuffer(),a._isReadyToPlay=!0,a.autoplay&&a.play(0,a._offset,a._length)):window.setTimeout(e,300)}()}else a=new e(s,o,i,function(){i._removePendingData(a)},c),i._addPendingData(a);if(t.position){var l=L.e.FromArray(t.position);a.setPosition(l)}if(t.isDirectional&&(a.setDirectionalCone(t.coneInnerAngle||360,t.coneOuterAngle||360,t.coneOuterGain||0),t.localDirectionToMesh)){var _=L.e.FromArray(t.localDirectionToMesh);a.setLocalDirectionToMesh(_)}if(t.connectedMeshId){var u=i.getMeshByID(t.connectedMeshId);u&&a.attachToMesh(u)}return t.metadata&&(a.metadata=t.metadata),a},e._SceneComponentInitialization=function(e){throw qi.a.WarnImport("AudioSceneComponent")},e}(),en=function(){function e(e,t,i){var n=this;if(this.loop=!1,this._coneInnerAngle=360,this._coneOuterAngle=360,this._volume=1,this.isPlaying=!1,this.isPaused=!1,this._sounds=[],this._weights=[],t.length!==i.length)throw new Error("Sounds length does not equal weights length");this.loop=e,this._weights=i;for(var r=0,o=0,s=i;o<s.length;o++){r+=s[o]}for(var a=r>0?1/r:0,c=0;c<this._weights.length;c++)this._weights[c]*=a;this._sounds=t;for(var l=0,_=this._sounds;l<_.length;l++){_[l].onEndedObservable.add(function(){n._onended()})}}return Object.defineProperty(e.prototype,"directionalConeInnerAngle",{get:function(){return this._coneInnerAngle},set:function(e){if(e!==this._coneInnerAngle){if(this._coneOuterAngle<e)return void l.a.Error("directionalConeInnerAngle: outer angle of the cone must be superior or equal to the inner angle.");this._coneInnerAngle=e;for(var t=0,i=this._sounds;t<i.length;t++){i[t].directionalConeInnerAngle=e}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"directionalConeOuterAngle",{get:function(){return this._coneOuterAngle},set:function(e){if(e!==this._coneOuterAngle){if(e<this._coneInnerAngle)return void l.a.Error("directionalConeOuterAngle: outer angle of the cone must be superior or equal to the inner angle.");this._coneOuterAngle=e;for(var t=0,i=this._sounds;t<i.length;t++){i[t].directionalConeOuterAngle=e}}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volume",{get:function(){return this._volume},set:function(e){if(e!==this._volume)for(var t=0,i=this._sounds;t<i.length;t++){i[t].setVolume(e)}},enumerable:!1,configurable:!0}),e.prototype._onended=function(){void 0!==this._currentIndex&&(this._sounds[this._currentIndex].autoplay=!1),this.loop&&this.isPlaying?this.play():this.isPlaying=!1},e.prototype.pause=function(){this.isPaused=!0,void 0!==this._currentIndex&&this._sounds[this._currentIndex].pause()},e.prototype.stop=function(){this.isPlaying=!1,void 0!==this._currentIndex&&this._sounds[this._currentIndex].stop()},e.prototype.play=function(e){if(!this.isPaused){this.stop();for(var t=Math.random(),i=0,n=0;n<this._weights.length;n++)if(t<=(i+=this._weights[n])){this._currentIndex=n;break}}var r=this._sounds[this._currentIndex];r.isReady()?r.play(0,this.isPaused?void 0:e):r.autoplay=!0,this.isPlaying=!0,this.isPaused=!1},e}(),tn="MSFT_audio_emitter",nn=function(){function e(e){this.name=tn,this._loader=e,this.enabled=this._loader.isExtensionUsed(tn)}return e.prototype.dispose=function(){this._loader=null,this._clips=null,this._emitters=null},e.prototype.onLoading=function(){var e=this._loader.gltf.extensions;if(e&&e[this.name]){var t=e[this.name];this._clips=t.clips,this._emitters=t.emitters,ti.Assign(this._clips),ti.Assign(this._emitters)}},e.prototype.loadSceneAsync=function(e,t){var i=this;return ii.LoadExtensionAsync(e,t,this.name,function(n,r){var o=new Array;o.push(i._loader.loadSceneAsync(e,t));for(var s=0,a=r.emitters;s<a.length;s++){var c=a[s],l=ti.Get(n+"/emitters",i._emitters,c);if(void 0!=l.refDistance||void 0!=l.maxDistance||void 0!=l.rolloffFactor||void 0!=l.distanceModel||void 0!=l.innerAngle||void 0!=l.outerAngle)throw new Error(n+": Direction or Distance properties are not allowed on emitters attached to a scene");o.push(i._loadEmitterAsync(n+"/emitters/"+l.index,l))}return Promise.all(o).then(function(){})})},e.prototype.loadNodeAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(e,o){var s=new Array;return n._loader.loadNodeAsync(e,t,function(t){for(var a=function(i){var o=ti.Get(e+"/emitters",n._emitters,i);s.push(n._loadEmitterAsync(e+"/emitters/"+o.index,o).then(function(){for(var e=0,i=o._babylonSounds;e<i.length;e++){var n=i[e];n.attachToMesh(t),void 0==o.innerAngle&&void 0==o.outerAngle||(n.setLocalDirectionToMesh(L.e.Forward()),n.setDirectionalCone(2*r.b.ToDegrees(void 0==o.innerAngle?Math.PI:o.innerAngle),2*r.b.ToDegrees(void 0==o.outerAngle?Math.PI:o.outerAngle),0))}}))},c=0,l=o.emitters;c<l.length;c++){a(l[c])}i(t)}).then(function(e){return Promise.all(s).then(function(){return e})})})},e.prototype.loadAnimationAsync=function(e,t){var i=this;return ii.LoadExtensionAsync(e,t,this.name,function(n,r){return i._loader.loadAnimationAsync(e,t).then(function(o){var s=new Array;ti.Assign(r.events);for(var a=0,c=r.events;a<c.length;a++){var l=c[a];s.push(i._loadAnimationEventAsync(n+"/events/"+l.index,e,t,l,o))}return Promise.all(s).then(function(){return o})})})},e.prototype._loadClipAsync=function(e,t){if(t._objectURL)return t._objectURL;var i;if(t.uri)i=this._loader.loadUriAsync(e,t,t.uri);else{var n=ti.Get(e+"/bufferView",this._loader.gltf.bufferViews,t.bufferView);i=this._loader.loadBufferViewAsync("/bufferViews/"+n.index,n)}return t._objectURL=i.then(function(e){return URL.createObjectURL(new Blob([e],{type:t.mimeType}))}),t._objectURL},e.prototype._loadEmitterAsync=function(e,t){var i=this;if(t._babylonSounds=t._babylonSounds||[],!t._babylonData){for(var n=new Array,o=t.name||"emitter"+t.index,s={loop:!1,autoplay:!1,volume:void 0==t.volume?1:t.volume},a=function(e){var r="/extensions/"+c.name+"/clips",a=ti.Get(r,c._clips,t.clips[e].clip);n.push(c._loadClipAsync(r+"/"+t.clips[e].clip,a).then(function(n){var r=t._babylonSounds[e]=new $i(o,n,i._loader.babylonScene,null,s);r.refDistance=t.refDistance||1,r.maxDistance=t.maxDistance||256,r.rolloffFactor=t.rolloffFactor||1,r.distanceModel=t.distanceModel||"exponential",r._positionInEmitterSpace=!0}))},c=this,l=0;l<t.clips.length;l++)a(l);var _=Promise.all(n).then(function(){var e=t.clips.map(function(e){return e.weight||1}),i=new en(t.loop||!1,t._babylonSounds,e);t.innerAngle&&(i.directionalConeInnerAngle=2*r.b.ToDegrees(t.innerAngle)),t.outerAngle&&(i.directionalConeOuterAngle=2*r.b.ToDegrees(t.outerAngle)),t.volume&&(i.volume=t.volume),t._babylonData.sound=i});t._babylonData={loaded:_}}return t._babylonData.loaded},e.prototype._getEventAction=function(e,t,i,n,r){switch(i){case"play":return function(e){var i=(r||0)+(e-n);t.play(i)};case"stop":return function(e){t.stop()};case"pause":return function(e){t.pause()};default:throw new Error(e+": Unsupported action "+i)}},e.prototype._loadAnimationEventAsync=function(e,t,i,n,r){var o=this;if(0==r.targetedAnimations.length)return Promise.resolve();var s=r.targetedAnimations[0],a=n.emitter,c=ti.Get("/extensions/"+this.name+"/emitters",this._emitters,a);return this._loadEmitterAsync(e,c).then(function(){var t=c._babylonData.sound;if(t){var i=new Ji(n.time,o._getEventAction(e,t,n.action,n.time,n.startOffset));s.animation.addEvent(i),r.onAnimationGroupEndObservable.add(function(){t.stop()}),r.onAnimationGroupPauseObservable.add(function(){t.pause()})}})},e}();ii.RegisterExtension(tn,function(e){return new nn(e)});var rn="MSFT_lod",on=function(){function e(e){this.name=rn,this.order=100,this.maxLODsToLoad=10,this.onNodeLODsLoadedObservable=new n.a,this.onMaterialLODsLoadedObservable=new n.a,this._bufferLODs=new Array,this._nodeIndexLOD=null,this._nodeSignalLODs=new Array,this._nodePromiseLODs=new Array,this._nodeBufferLODs=new Array,this._materialIndexLOD=null,this._materialSignalLODs=new Array,this._materialPromiseLODs=new Array,this._materialBufferLODs=new Array,this._loader=e,this.enabled=this._loader.isExtensionUsed(rn)}return e.prototype.dispose=function(){this._loader=null,this._nodeIndexLOD=null,this._nodeSignalLODs.length=0,this._nodePromiseLODs.length=0,this._nodeBufferLODs.length=0,this._materialIndexLOD=null,this._materialSignalLODs.length=0,this._materialPromiseLODs.length=0,this._materialBufferLODs.length=0,this.onMaterialLODsLoadedObservable.clear(),this.onNodeLODsLoadedObservable.clear()},e.prototype.onReady=function(){for(var e=this,t=function(t){var n=Promise.all(i._nodePromiseLODs[t]).then(function(){0!==t&&(e._loader.endPerformanceCounter("Node LOD "+t),e._loader.log("Loaded node LOD "+t)),e.onNodeLODsLoadedObservable.notifyObservers(t),t!==e._nodePromiseLODs.length-1&&(e._loader.startPerformanceCounter("Node LOD "+(t+1)),e._loadBufferLOD(e._nodeBufferLODs,t+1),e._nodeSignalLODs[t]&&e._nodeSignalLODs[t].resolve())});i._loader._completePromises.push(n)},i=this,n=0;n<this._nodePromiseLODs.length;n++)t(n);var r=function(t){var i=Promise.all(o._materialPromiseLODs[t]).then(function(){0!==t&&(e._loader.endPerformanceCounter("Material LOD "+t),e._loader.log("Loaded material LOD "+t)),e.onMaterialLODsLoadedObservable.notifyObservers(t),t!==e._materialPromiseLODs.length-1&&(e._loader.startPerformanceCounter("Material LOD "+(t+1)),e._loadBufferLOD(e._materialBufferLODs,t+1),e._materialSignalLODs[t]&&e._materialSignalLODs[t].resolve())});o._loader._completePromises.push(i)},o=this;for(n=0;n<this._materialPromiseLODs.length;n++)r(n)},e.prototype.loadSceneAsync=function(e,t){var i=this._loader.loadSceneAsync(e,t);return this._loadBufferLOD(this._bufferLODs,0),i},e.prototype.loadNodeAsync=function(e,t,i){var n=this;return ii.LoadExtensionAsync(e,t,this.name,function(e,i){var r,o=n._getLODs(e,t,n._loader.gltf.nodes,i.ids);n._loader.logOpen(""+e);for(var s=function(e){var t=o[e];0!==e&&(n._nodeIndexLOD=e,n._nodeSignalLODs[e]=n._nodeSignalLODs[e]||new kt);var i=n._loader.loadNodeAsync("/nodes/"+t.index,t,function(e){e.setEnabled(!1)}).then(function(t){if(0!==e){var i=o[e-1];i._babylonTransformNode&&(n._disposeTransformNode(i._babylonTransformNode),delete i._babylonTransformNode)}return t.setEnabled(!0),t});n._nodePromiseLODs[e]=n._nodePromiseLODs[e]||[],0===e?r=i:(n._nodeIndexLOD=null,n._nodePromiseLODs[e].push(i))},a=0;a<o.length;a++)s(a);return n._loader.logClose(),r})},e.prototype._loadMaterialAsync=function(e,t,i,n,r){var o=this;return this._nodeIndexLOD?null:ii.LoadExtensionAsync(e,t,this.name,function(e,s){var a,c=o._getLODs(e,t,o._loader.gltf.materials,s.ids);o._loader.logOpen(""+e);for(var l=function(e){var t=c[e];0!==e&&(o._materialIndexLOD=e);var s=o._loader._loadMaterialAsync("/materials/"+t.index,t,i,n,function(t){0===e&&r(t)}).then(function(t){if(0!==e){r(t);var i=c[e-1]._data;i[n]&&(o._disposeMaterials([i[n].babylonMaterial]),delete i[n])}return t});o._materialPromiseLODs[e]=o._materialPromiseLODs[e]||[],0===e?a=s:(o._materialIndexLOD=null,o._materialPromiseLODs[e].push(s))},_=0;_<c.length;_++)l(_);return o._loader.logClose(),a})},e.prototype._loadUriAsync=function(e,t,i){var n=this;if(null!==this._nodeIndexLOD){this._loader.log("deferred");var r=this._nodeIndexLOD-1;return this._nodeSignalLODs[r]=this._nodeSignalLODs[r]||new kt,this._nodeSignalLODs[this._nodeIndexLOD-1].promise.then(function(){return n._loader.loadUriAsync(e,t,i)})}if(null!==this._materialIndexLOD){this._loader.log("deferred");r=this._materialIndexLOD-1;return this._materialSignalLODs[r]=this._materialSignalLODs[r]||new kt,this._materialSignalLODs[r].promise.then(function(){return n._loader.loadUriAsync(e,t,i)})}return null},e.prototype.loadBufferAsync=function(e,t,i,n){if(this._loader.parent.useRangeRequests&&!t.uri){if(!this._loader.bin)throw new Error(e+": Uri is missing or the binary glTF is missing its binary chunk");var r=function(e,t){var r=i,o=r+n-1,s=e[t];return s?(s.start=Math.min(s.start,r),s.end=Math.max(s.end,o)):(s={start:r,end:o,loaded:new kt},e[t]=s),s.loaded.promise.then(function(e){return new Uint8Array(e.buffer,e.byteOffset+i-s.start,n)})};return this._loader.log("deferred"),null!==this._nodeIndexLOD?r(this._nodeBufferLODs,this._nodeIndexLOD):null!==this._materialIndexLOD?r(this._materialBufferLODs,this._materialIndexLOD):r(this._bufferLODs,0)}return null},e.prototype._loadBufferLOD=function(e,t){var i=e[t];i&&(this._loader.log("Loading buffer range ["+i.start+"-"+i.end+"]"),this._loader.bin.readAsync(i.start,i.end-i.start+1).then(function(e){i.loaded.resolve(e)},function(e){i.loaded.reject(e)}))},e.prototype._getLODs=function(e,t,i,n){if(this.maxLODsToLoad<=0)throw new Error("maxLODsToLoad must be greater than zero");for(var r=new Array,o=n.length-1;o>=0;o--)if(r.push(ti.Get(e+"/ids/"+n[o],i,n[o])),r.length===this.maxLODsToLoad)return r;return r.push(t),r},e.prototype._disposeTransformNode=function(e){var t=this,i=new Array,n=e.material;n&&i.push(n);for(var r=0,o=e.getChildMeshes();r<o.length;r++){var s=o[r];s.material&&i.push(s.material)}e.dispose();var a=i.filter(function(e){return t._loader.babylonScene.meshes.every(function(t){return t.material!=e})});this._disposeMaterials(a)},e.prototype._disposeMaterials=function(e){for(var t={},i=0,n=e;i<n.length;i++){for(var r=0,o=(_=n[i]).getActiveTextures();r<o.length;r++){var s=o[r];t[s.uniqueId]=s}_.dispose()}for(var a in t)for(var c=0,l=this._loader.babylonScene.materials;c<l.length;c++){var _;(_=l[c]).hasTexture(t[a])&&delete t[a]}for(var a in t)t[a].dispose()},e}();ii.RegisterExtension(rn,function(e){return new on(e)});var sn="MSFT_minecraftMesh",an=function(){function e(e){this.name=sn,this._loader=e,this.enabled=this._loader.isExtensionUsed(sn)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtraAsync(e,t,this.name,function(r,o){if(o){if(!(i instanceof Kt.a))throw new Error(r+": Material type not supported");var s=n._loader.loadMaterialPropertiesAsync(e,t,i);return i.needAlphaBlending()&&(i.forceDepthWrite=!0,i.separateCullingPass=!0),i.backFaceCulling=i.forceDepthWrite,i.twoSidedLighting=!0,s}return null})},e}();ii.RegisterExtension(sn,function(e){return new an(e)});var cn="MSFT_sRGBFactors",ln=function(){function e(e){this.name=cn,this._loader=e,this.enabled=this._loader.isExtensionUsed(cn)}return e.prototype.dispose=function(){this._loader=null},e.prototype.loadMaterialPropertiesAsync=function(e,t,i){var n=this;return ii.LoadExtraAsync(e,t,this.name,function(r,o){if(o){if(!(i instanceof Kt.a))throw new Error(r+": Material type not supported");var s=n._loader.loadMaterialPropertiesAsync(e,t,i);return i.albedoTexture||i.albedoColor.toLinearSpaceToRef(i.albedoColor),i.reflectivityTexture||i.reflectivityColor.toLinearSpaceToRef(i.reflectivityColor),s}return null})},e}();ii.RegisterExtension(cn,function(e){return new ln(e)});var _n="ExtrasAsMetadata",un=function(){function e(e){this.name=_n,this.enabled=!0,this._loader=e}return e.prototype._assignExtras=function(e,t){if(t.extras&&Object.keys(t.extras).length>0){var i=e.metadata=e.metadata||{};(i.gltf=i.gltf||{}).extras=t.extras}},e.prototype.dispose=function(){this._loader=null},e.prototype.loadNodeAsync=function(e,t,i){var n=this;return this._loader.loadNodeAsync(e,t,function(e){n._assignExtras(e,t),i(e)})},e.prototype.loadCameraAsync=function(e,t,i){var n=this;return this._loader.loadCameraAsync(e,t,function(e){n._assignExtras(e,t),i(e)})},e.prototype.createMaterial=function(e,t,i){var n=this._loader.createMaterial(e,t,i);return this._assignExtras(n,t),n},e}();ii.RegisterExtension(_n,function(e){return new un(e)})},1041:function(e,t,i){"use strict";i.d(t,"a",function(){return F});var n=i(30),r=i(649),o=i(876),s=i(878),a=i(660),c=i(694),l=i(675),_=i(704);c.a.CreateRibbon=function(e){var t=e.pathArray,i=e.closeArray||!1,n=e.closePath||!1,r=e.invertUV||!1,o=Math.floor(t[0].length/2),s=e.offset||o;s=s>o?o:Math.floor(s);var l,_,u,f,d=0===e.sideOrientation?0:e.sideOrientation||c.a.DEFAULTSIDE,h=e.uvs,p=e.colors,b=[],m=[],A=[],g=[],y=[],v=[],C=[],E=[],S=[],T=[];if(t.length<2){var R=[],M=[];for(u=0;u<t[0].length-s;u++)R.push(t[0][u]),M.push(t[0][u+s]);t=[R,M]}var O,I,x,P,D,w=0,L=n?1:0;for(l=t[0].length,_=0;_<t.length;_++){for(C[_]=0,y[_]=[0],l=l<(I=(O=t[_]).length)?l:I,f=0;f<I;)b.push(O[f].x,O[f].y,O[f].z),f>0&&(x=O[f].subtract(O[f-1]).length()+C[_],y[_].push(x),C[_]=x),f++;n&&(f--,b.push(O[0].x,O[0].y,O[0].z),x=O[f].subtract(O[0]).length()+C[_],y[_].push(x),C[_]=x),S[_]=I+L,T[_]=w,w+=I+L}var F,N,B=null,k=null;for(u=0;u<l+L;u++){for(E[u]=0,v[u]=[0],_=0;_<t.length-1;_++)P=t[_],D=t[_+1],u===l?(B=P[0],k=D[0]):(B=P[u],k=D[u]),x=k.subtract(B).length()+E[u],v[u].push(x),E[u]=x;i&&k&&B&&(P=t[_],D=t[0],u===l&&(k=D[0]),x=k.subtract(B).length()+E[u],E[u]=x)}if(h)for(_=0;_<h.length;_++)g.push(h[_].x,h[_].y);else for(_=0;_<t.length;_++)for(u=0;u<l+L;u++)F=0!=C[_]?y[_][u]/C[_]:0,N=0!=E[u]?v[u][_]/E[u]:0,r?g.push(N,F):g.push(F,N);for(var U=0,H=S[_=0]-1,j=S[_+1]-1,V=H<j?H:j,G=T[1]-T[0],W=i?S.length:S.length-1;U<=V&&_<W;)m.push(U,U+G,U+1),m.push(U+G+1,U+1,U+G),(U+=1)===V&&(++_===S.length-1?(G=T[0]-T[_],H=S[_]-1,j=S[0]-1):(G=T[_+1]-T[_],H=S[_]-1,j=S[_+1]-1),U=T[_],V=H<j?H+U:j+U);if(c.a.ComputeNormals(b,m,A),n){var X=0,z=0;for(_=0;_<t.length;_++)X=3*T[_],z=_+1<t.length?3*(T[_+1]-1):A.length-3,A[X]=.5*(A[X]+A[z]),A[X+1]=.5*(A[X+1]+A[z+1]),A[X+2]=.5*(A[X+2]+A[z+2]),A[z]=A[X],A[z+1]=A[X+1],A[z+2]=A[X+2]}c.a._ComputeSides(d,b,m,A,g,e.frontUVs,e.backUVs);var Y=null;if(p){Y=new Float32Array(4*p.length);for(var Q=0;Q<p.length;Q++)Y[4*Q]=p[Q].r,Y[4*Q+1]=p[Q].g,Y[4*Q+2]=p[Q].b,Y[4*Q+3]=p[Q].a}var K=new c.a,Z=new Float32Array(b),J=new Float32Array(A),q=new Float32Array(g);return K.indices=m,K.positions=Z,K.normals=J,K.uvs=q,Y&&K.set(Y,a.b.ColorKind),n&&(K._idx=T),K},l.a.CreateRibbon=function(e,t,i,n,r,o,s,a,c){return void 0===i&&(i=!1),void 0===s&&(s=!1),u.CreateRibbon(e,{pathArray:t,closeArray:i,closePath:n,offset:r,updatable:s,sideOrientation:a,instance:c},o)};var u=function(){function e(){}return e.CreateRibbon=function(e,t,i){void 0===i&&(i=null);var r=t.pathArray,o=t.closeArray,s=t.closePath,u=l.a._GetDefaultSideOrientation(t.sideOrientation),f=t.instance,d=t.updatable;if(f){var h=n.c.Vector3[0].setAll(Number.MAX_VALUE),p=n.c.Vector3[1].setAll(-Number.MAX_VALUE),b=f.getVerticesData(a.b.PositionKind);if(function(e){for(var t=r[0].length,i=f,n=0,o=i._originalBuilderSideOrientation===l.a.DOUBLESIDE?2:1,s=1;s<=o;++s)for(var a=0;a<r.length;++a){var c=r[a],_=c.length;t=t<_?t:_;for(var u=0;u<t;++u){var d=c[u];e[n]=d.x,e[n+1]=d.y,e[n+2]=d.z,h.minimizeInPlaceFromFloats(d.x,d.y,d.z),p.maximizeInPlaceFromFloats(d.x,d.y,d.z),n+=3}if(i._creationDataStorage&&i._creationDataStorage.closePath){d=c[0];e[n]=d.x,e[n+1]=d.y,e[n+2]=d.z,n+=3}}}(b),f._boundingInfo?f._boundingInfo.reConstruct(h,p,f._worldMatrix):f._boundingInfo=new _.a(h,p,f._worldMatrix),f.updateVerticesData(a.b.PositionKind,b,!1,!1),t.colors){for(var m=f.getVerticesData(a.b.ColorKind),A=0,g=0;A<t.colors.length;A++,g+=4){var y=t.colors[A];m[g]=y.r,m[g+1]=y.g,m[g+2]=y.b,m[g+3]=y.a}f.updateVerticesData(a.b.ColorKind,m,!1,!1)}if(t.uvs){for(var v=f.getVerticesData(a.b.UVKind),C=0;C<t.uvs.length;C++)v[2*C]=t.uvs[C].x,v[2*C+1]=t.uvs[C].y;f.updateVerticesData(a.b.UVKind,v,!1,!1)}if(!f.areNormalsFrozen||f.isFacetDataEnabled){var E=f.getIndices(),S=f.getVerticesData(a.b.NormalKind),T=f.isFacetDataEnabled?f.getFacetDataParameters():null;if(c.a.ComputeNormals(b,E,S,T),f._creationDataStorage&&f._creationDataStorage.closePath)for(var R=0,M=0,O=0;O<r.length;O++)R=3*f._creationDataStorage.idx[O],M=O+1<r.length?3*(f._creationDataStorage.idx[O+1]-1):S.length-3,S[R]=.5*(S[R]+S[M]),S[R+1]=.5*(S[R+1]+S[M+1]),S[R+2]=.5*(S[R+2]+S[M+2]),S[M]=S[R],S[M+1]=S[R+1],S[M+2]=S[R+2];f.areNormalsFrozen||f.updateVerticesData(a.b.NormalKind,S,!1,!1)}return f}var I=new l.a(e,i);I._originalBuilderSideOrientation=u,I._creationDataStorage=new l.b;var x=c.a.CreateRibbon(t);return s&&(I._creationDataStorage.idx=x._idx),I._creationDataStorage.closePath=s,I._creationDataStorage.closeArray=o,x.applyToMesh(I,d),I},e}(),f=i(251);l.a.ExtrudeShape=function(e,t,i,n,r,o,s,a,c,_){void 0===s&&(s=null);var u={shape:t,path:i,scale:n,rotation:r,cap:0===o?0:o||l.a.NO_CAP,sideOrientation:c,instance:_,updatable:a};return d.ExtrudeShape(e,u,s)},l.a.ExtrudeShapeCustom=function(e,t,i,n,r,o,s,a,c,_,u,f){var h={shape:t,path:i,scaleFunction:n,rotationFunction:r,ribbonCloseArray:o,ribbonClosePath:s,cap:0===a?0:a||l.a.NO_CAP,sideOrientation:u,instance:f,updatable:_};return d.ExtrudeShapeCustom(e,h,c)};var d=function(){function e(){}return e.ExtrudeShape=function(t,i,n){void 0===n&&(n=null);var r=i.path,o=i.shape,s=i.scale||1,a=i.rotation||0,c=0===i.cap?0:i.cap||l.a.NO_CAP,_=i.updatable,u=l.a._GetDefaultSideOrientation(i.sideOrientation),f=i.instance||null,d=i.invertUV||!1;return e._ExtrudeShapeGeneric(t,o,r,s,a,null,null,!1,!1,c,!1,n,!!_,u,f,d,i.frontUVs||null,i.backUVs||null)},e.ExtrudeShapeCustom=function(t,i,n){void 0===n&&(n=null);var r=i.path,o=i.shape,s=i.scaleFunction||function(){return 1},a=i.rotationFunction||function(){return 0},c=i.ribbonCloseArray||!1,_=i.ribbonClosePath||!1,u=0===i.cap?0:i.cap||l.a.NO_CAP,f=i.updatable,d=l.a._GetDefaultSideOrientation(i.sideOrientation),h=i.instance,p=i.invertUV||!1;return e._ExtrudeShapeGeneric(t,o,r,null,null,s,a,c,_,u,!0,n,!!f,d,h||null,p,i.frontUVs||null,i.backUVs||null)},e._ExtrudeShapeGeneric=function(e,t,i,r,o,s,a,c,_,d,h,p,b,m,A,g,y,v){var C,E,S=function(e,t,i,r,o,s,a,c,_,u){for(var f=i.getTangents(),d=i.getNormals(),h=i.getBinormals(),p=i.getDistances(),b=0,m=u&&c?c:function(){return null!==s?s:0},A=u&&a?a:function(){return null!==o?o:1},g=_===l.a.NO_CAP||_===l.a.CAP_END?0:2,y=n.c.Matrix[0],v=0;v<t.length;v++){for(var C=new Array,E=m(v,p[v]),S=A(v,p[v]),T=0;T<e.length;T++){n.a.RotationAxisToRef(f[v],b,y);var R=f[v].scale(e[T].z).add(d[v].scale(e[T].x)).add(h[v].scale(e[T].y)),M=C[T]?C[T]:n.e.Zero();n.e.TransformCoordinatesToRef(R,y,M),M.scaleInPlace(S).addInPlace(t[v]),C[T]=M}r[g]=C,b+=E,g++}var O=function(e){var t,i=Array(),r=n.e.Zero();for(t=0;t<e.length;t++)r.addInPlace(e[t]);for(r.scaleInPlace(1/e.length),t=0;t<e.length;t++)i.push(r);return i};switch(_){case l.a.NO_CAP:break;case l.a.CAP_START:r[0]=O(r[2]),r[1]=r[2];break;case l.a.CAP_END:r[g]=r[g-1],r[g+1]=O(r[g-1]);break;case l.a.CAP_ALL:r[0]=O(r[2]),r[1]=r[2],r[g]=r[g-1],r[g+1]=O(r[g-1])}return r};if(A){var T=A._creationDataStorage;return C=T.path3D.update(i),E=S(t,i,T.path3D,T.pathArray,r,o,s,a,T.cap,h),A=l.a.CreateRibbon("",E,!1,!1,0,p||void 0,!1,0,A)}E=S(t,i,C=new f.a(i),new Array,r,o,s,a,d=d<0||d>3?0:d,h);var R=u.CreateRibbon(e,{pathArray:E,closeArray:c,closePath:_,updatable:b,sideOrientation:m,invertUV:g,frontUVs:y||void 0,backUVs:v||void 0},p);return R._creationDataStorage.pathArray=E,R._creationDataStorage.path3D=C,R._creationDataStorage.cap=d,R},e}(),h=i(644),p=i(244),b=i(735),m=i(754),A=i(803),g=i(658);l.a._instancedMeshFactory=function(e,t){var i=new y(e,t);if(t.instancedBuffers)for(var n in i.instancedBuffers={},t.instancedBuffers)i.instancedBuffers[n]=t.instancedBuffers[n];return i};var y=function(e){function t(t,i){var n=e.call(this,t,i.getScene())||this;n._indexInSourceMeshInstanceArray=-1,i.addInstance(n),n._sourceMesh=i,n._unIndexed=i._unIndexed,n.position.copyFrom(i.position),n.rotation.copyFrom(i.rotation),n.scaling.copyFrom(i.scaling),i.rotationQuaternion&&(n.rotationQuaternion=i.rotationQuaternion.clone()),n.animations=g.b.Slice(i.animations);for(var r=0,o=i.getAnimationRanges();r<o.length;r++){var s=o[r];null!=s&&n.createAnimationRange(s.name,s.from,s.to)}return n.infiniteDistance=i.infiniteDistance,n.setPivotMatrix(i.getPivotMatrix()),n.refreshBoundingInfo(),n._syncSubMeshes(),n}return Object(h.c)(t,e),t.prototype.getClassName=function(){return"InstancedMesh"},Object.defineProperty(t.prototype,"lightSources",{get:function(){return this._sourceMesh._lightSources},enumerable:!1,configurable:!0}),t.prototype._resyncLightSources=function(){},t.prototype._resyncLightSource=function(e){},t.prototype._removeLightSource=function(e,t){},Object.defineProperty(t.prototype,"receiveShadows",{get:function(){return this._sourceMesh.receiveShadows},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this._sourceMesh.material},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._sourceMesh.visibility},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skeleton",{get:function(){return this._sourceMesh.skeleton},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._sourceMesh.renderingGroupId},set:function(e){this._sourceMesh&&e!==this._sourceMesh.renderingGroupId&&r.a.Warn("Note - setting renderingGroupId of an instanced mesh has no effect on the scene")},enumerable:!1,configurable:!0}),t.prototype.getTotalVertices=function(){return this._sourceMesh?this._sourceMesh.getTotalVertices():0},t.prototype.getTotalIndices=function(){return this._sourceMesh.getTotalIndices()},Object.defineProperty(t.prototype,"sourceMesh",{get:function(){return this._sourceMesh},enumerable:!1,configurable:!0}),t.prototype.createInstance=function(e){return this._sourceMesh.createInstance(e)},t.prototype.isReady=function(e){return void 0===e&&(e=!1),this._sourceMesh.isReady(e,!0)},t.prototype.getVerticesData=function(e,t){return this._sourceMesh.getVerticesData(e,t)},t.prototype.setVerticesData=function(e,t,i,n){return this.sourceMesh&&this.sourceMesh.setVerticesData(e,t,i,n),this.sourceMesh},t.prototype.updateVerticesData=function(e,t,i,n){return this.sourceMesh&&this.sourceMesh.updateVerticesData(e,t,i,n),this.sourceMesh},t.prototype.setIndices=function(e,t){return void 0===t&&(t=null),this.sourceMesh&&this.sourceMesh.setIndices(e,t),this.sourceMesh},t.prototype.isVerticesDataPresent=function(e){return this._sourceMesh.isVerticesDataPresent(e)},t.prototype.getIndices=function(){return this._sourceMesh.getIndices()},Object.defineProperty(t.prototype,"_positions",{get:function(){return this._sourceMesh._positions},enumerable:!1,configurable:!0}),t.prototype.refreshBoundingInfo=function(e){if(void 0===e&&(e=!1),this._boundingInfo&&this._boundingInfo.isLocked)return this;var t=this._sourceMesh.geometry?this._sourceMesh.geometry.boundingBias:null;return this._refreshBoundingInfo(this._sourceMesh._getPositionData(e),t),this},t.prototype._preActivate=function(){return this._currentLOD&&this._currentLOD._preActivate(),this},t.prototype._activate=function(e,t){if(this._sourceMesh.subMeshes||r.a.Warn("Instances should only be created for meshes with geometry."),this._currentLOD){if(this._currentLOD._getWorldMatrixDeterminant()>0!==this._getWorldMatrixDeterminant()>0)return this._internalAbstractMeshDataInfo._actAsRegularMesh=!0,!0;if(this._internalAbstractMeshDataInfo._actAsRegularMesh=!1,this._currentLOD._registerInstanceForRenderId(this,e),t){if(!this._currentLOD._internalAbstractMeshDataInfo._isActiveIntermediate)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstancesIntermediate=!0,!0}else if(!this._currentLOD._internalAbstractMeshDataInfo._isActive)return this._currentLOD._internalAbstractMeshDataInfo._onlyForInstances=!0,!0}return!1},t.prototype._postActivate=function(){this._sourceMesh.edgesShareWithInstances&&this._sourceMesh._edgesRenderer&&this._sourceMesh._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup?(this._sourceMesh._renderingGroup._edgesRenderers.pushNoDuplicate(this._sourceMesh._edgesRenderer),this._sourceMesh._edgesRenderer.customInstances.push(this.getWorldMatrix())):this._edgesRenderer&&this._edgesRenderer.isEnabled&&this._sourceMesh._renderingGroup&&this._sourceMesh._renderingGroup._edgesRenderers.push(this._edgesRenderer)},t.prototype.getWorldMatrix=function(){if(this._currentLOD&&this._currentLOD.billboardMode!==A.a.BILLBOARDMODE_NONE&&this._currentLOD._masterMesh!==this){var t=this._currentLOD._masterMesh;return this._currentLOD._masterMesh=this,n.c.Vector3[7].copyFrom(this._currentLOD.position),this._currentLOD.position.set(0,0,0),n.c.Matrix[0].copyFrom(this._currentLOD.computeWorldMatrix(!0)),this._currentLOD.position.copyFrom(n.c.Vector3[7]),this._currentLOD._masterMesh=t,n.c.Matrix[0]}return e.prototype.getWorldMatrix.call(this)},Object.defineProperty(t.prototype,"isAnInstance",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getLOD=function(e){if(!e)return this;var t=this.getBoundingInfo();return this._currentLOD=this.sourceMesh.getLOD(e,t.boundingSphere),this._currentLOD===this.sourceMesh?this.sourceMesh:this._currentLOD},t.prototype._preActivateForIntermediateRendering=function(e){return this.sourceMesh._preActivateForIntermediateRendering(e)},t.prototype._syncSubMeshes=function(){if(this.releaseSubMeshes(),this._sourceMesh.subMeshes)for(var e=0;e<this._sourceMesh.subMeshes.length;e++)this._sourceMesh.subMeshes[e].clone(this,this._sourceMesh);return this},t.prototype._generatePointsArray=function(){return this._sourceMesh._generatePointsArray()},t.prototype._updateBoundingInfo=function(){var e=this;return this._boundingInfo?this._boundingInfo.update(e.worldMatrixFromCache):this._boundingInfo=new _.a(this.absolutePosition,this.absolutePosition,e.worldMatrixFromCache),this._updateSubMeshesBoundingInfo(e.worldMatrixFromCache),this},t.prototype.clone=function(e,t,i){void 0===t&&(t=null);var n=this._sourceMesh.createInstance(e);if(m.a.DeepCopy(this,n,["name","subMeshes","uniqueId","parent","lightSources","receiveShadows","material","visibility","skeleton","sourceMesh","isAnInstance","facetNb","isFacetDataEnabled","isBlocked","useBones","hasInstances","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances"],[]),this.refreshBoundingInfo(),t&&(n.parent=t),!i)for(var r=0;r<this.getScene().meshes.length;r++){var o=this.getScene().meshes[r];o.parent===this&&o.clone(o.name,n)}return n.computeWorldMatrix(!0),n},t.prototype.dispose=function(t,i){void 0===i&&(i=!1),this._sourceMesh.removeInstance(this),e.prototype.dispose.call(this,t,i)},t}(b.a);l.a.prototype.edgesShareWithInstances=!1,l.a.prototype.registerInstancedBuffer=function(e,t){if(this.removeVerticesData(e),!this.instancedBuffers){this.instancedBuffers={};for(var i=0,n=this.instances;i<n.length;i++){n[i].instancedBuffers={}}this._userInstancedBuffersStorage={data:{},vertexBuffers:{},strides:{},sizes:{}}}this.instancedBuffers[e]=null,this._userInstancedBuffersStorage.strides[e]=t,this._userInstancedBuffersStorage.sizes[e]=32*t,this._userInstancedBuffersStorage.data[e]=new Float32Array(this._userInstancedBuffersStorage.sizes[e]),this._userInstancedBuffersStorage.vertexBuffers[e]=new a.b(this.getEngine(),this._userInstancedBuffersStorage.data[e],e,!0,!1,t,!0),this.setVerticesBuffer(this._userInstancedBuffersStorage.vertexBuffers[e]);for(var r=0,o=this.instances;r<o.length;r++){o[r].instancedBuffers[e]=null}},l.a.prototype._processInstancedBuffers=function(e,t){var i=e.length;for(var n in this.instancedBuffers){for(var r=this._userInstancedBuffersStorage.sizes[n],o=this._userInstancedBuffersStorage.strides[n],s=(i+1)*o;r<s;)r*=2;this._userInstancedBuffersStorage.data[n].length!=r&&(this._userInstancedBuffersStorage.data[n]=new Float32Array(r),this._userInstancedBuffersStorage.sizes[n]=r,this._userInstancedBuffersStorage.vertexBuffers[n]&&(this._userInstancedBuffersStorage.vertexBuffers[n].dispose(),this._userInstancedBuffersStorage.vertexBuffers[n]=null));var c=this._userInstancedBuffersStorage.data[n],l=0;if(t)(u=this.instancedBuffers[n]).toArray?u.toArray(c,l):u.copyToArray(c,l),l+=o;for(var _=0;_<i;_++){var u;(u=e[_].instancedBuffers[n]).toArray?u.toArray(c,l):u.copyToArray(c,l),l+=o}this._userInstancedBuffersStorage.vertexBuffers[n]?this._userInstancedBuffersStorage.vertexBuffers[n].updateDirectly(c,0):(this._userInstancedBuffersStorage.vertexBuffers[n]=new a.b(this.getEngine(),this._userInstancedBuffersStorage.data[n],n,!0,!1,o,!0),this.setVerticesBuffer(this._userInstancedBuffersStorage.vertexBuffers[n]))}},l.a.prototype._disposeInstanceSpecificData=function(){for(this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null);this.instances.length;)this.instances[0].dispose();for(var e in this.instancedBuffers)this._userInstancedBuffersStorage.vertexBuffers[e]&&this._userInstancedBuffersStorage.vertexBuffers[e].dispose();this.instancedBuffers={}};var v=i(677),C=i(879),E=i(686),S=i(642),T=(i(808),i(809),"colorPixelShader"),R="#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#else\nuniform vec4 color;\n#endif\n#include<clipPlaneFragmentDeclaration>\nvoid main(void) {\n#include<clipPlaneFragment>\n#ifdef VERTEXCOLOR\ngl_FragColor=vColor;\n#else\ngl_FragColor=color;\n#endif\n}";S.a.ShadersStore[T]=R;i(756),i(812),i(757),i(758),i(759),i(814);var M="colorVertexShader",O="\nattribute vec3 position;\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<bonesDeclaration>\n#include<clipPlaneVertexDeclaration>\n\n#include<instancesDeclaration>\nuniform mat4 viewProjection;\n#ifdef MULTIVIEW\nuniform mat4 viewProjectionR;\n#endif\n\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\nvoid main(void) {\n#include<instancesVertex>\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(position,1.0);\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\n#include<clipPlaneVertex>\n#ifdef VERTEXCOLOR\n\nvColor=color;\n#endif\n}";S.a.ShadersStore[M]=O;var I=function(e){function t(t,i,n,r,o,s,c){void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null);var l=e.call(this,t,i,n,r,o)||this;l.useVertexColor=s,l.useVertexAlpha=c,l.color=new p.a(1,1,1),l.alpha=1,r&&(l.color=r.color.clone(),l.alpha=r.alpha,l.useVertexColor=r.useVertexColor,l.useVertexAlpha=r.useVertexAlpha),l.intersectionThreshold=.1;var _={attributes:[a.b.PositionKind,"world0","world1","world2","world3"],uniforms:["vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","world","viewProjection"],needAlphaBlending:!0,defines:[]};return!1===c&&(_.needAlphaBlending=!1),s?(_.defines.push("#define VERTEXCOLOR"),_.attributes.push(a.b.ColorKind)):(_.uniforms.push("color"),l.color4=new p.b),l._colorShader=new C.a("colorShader",l.getScene(),"color",_),l}return Object(h.c)(t,e),t.prototype._addClipPlaneDefine=function(e){var t="#define "+e;-1===this._colorShader.options.defines.indexOf(t)&&this._colorShader.options.defines.push(t)},t.prototype._removeClipPlaneDefine=function(e){var t="#define "+e,i=this._colorShader.options.defines.indexOf(t);-1!==i&&this._colorShader.options.defines.splice(i,1)},t.prototype.isReady=function(){var t=this.getScene();return t.clipPlane?this._addClipPlaneDefine("CLIPPLANE"):this._removeClipPlaneDefine("CLIPPLANE"),t.clipPlane2?this._addClipPlaneDefine("CLIPPLANE2"):this._removeClipPlaneDefine("CLIPPLANE2"),t.clipPlane3?this._addClipPlaneDefine("CLIPPLANE3"):this._removeClipPlaneDefine("CLIPPLANE3"),t.clipPlane4?this._addClipPlaneDefine("CLIPPLANE4"):this._removeClipPlaneDefine("CLIPPLANE4"),t.clipPlane5?this._addClipPlaneDefine("CLIPPLANE5"):this._removeClipPlaneDefine("CLIPPLANE5"),t.clipPlane6?this._addClipPlaneDefine("CLIPPLANE6"):this._removeClipPlaneDefine("CLIPPLANE6"),!!this._colorShader.isReady(this)&&e.prototype.isReady.call(this)},t.prototype.getClassName=function(){return"LinesMesh"},Object.defineProperty(t.prototype,"material",{get:function(){return this._colorShader},set:function(e){},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"checkCollisions",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype._bind=function(e,t,i){if(!this._geometry)return this;var n=this._colorShader.getEffect(),r=this.isUnIndexed?null:this._geometry.getIndexBuffer();if(this._geometry._bind(n,r),!this.useVertexColor){var o=this.color,s=o.r,a=o.g,c=o.b;this.color4.set(s,a,c,this.alpha),this._colorShader.setColor4("color",this.color4)}return E.a.BindClipPlane(n,this.getScene()),this},t.prototype._draw=function(e,t,i){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;var n=this.getScene().getEngine();return this._unIndexed?n.drawArraysType(v.a.LineListDrawMode,e.verticesStart,e.verticesCount,i):n.drawElementsType(v.a.LineListDrawMode,e.indexStart,e.indexCount,i),this},t.prototype.dispose=function(t){this._colorShader.dispose(!1,!1,!0),e.prototype.dispose.call(this,t)},t.prototype.clone=function(e,i,n){return void 0===i&&(i=null),new t(e,this.getScene(),i,this,n)},t.prototype.createInstance=function(e){return new x(e,this)},t}(l.a),x=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.intersectionThreshold=i.intersectionThreshold,n}return Object(h.c)(t,e),t.prototype.getClassName=function(){return"InstancedLinesMesh"},t}(y);c.a.CreateLineSystem=function(e){for(var t=[],i=[],n=e.lines,r=e.colors,o=[],s=0,a=0;a<n.length;a++)for(var l=n[a],_=0;_<l.length;_++){if(i.push(l[_].x,l[_].y,l[_].z),r){var u=r[a];o.push(u[_].r,u[_].g,u[_].b,u[_].a)}_>0&&(t.push(s-1),t.push(s)),s++}var f=new c.a;return f.indices=t,f.positions=i,r&&(f.colors=o),f},c.a.CreateDashedLines=function(e){var t,i,r=e.dashSize||3,o=e.gapSize||1,s=e.dashNb||200,a=e.points,l=new Array,_=new Array,u=n.e.Zero(),f=0,d=0,h=0,p=0,b=0;for(b=0;b<a.length-1;b++)a[b+1].subtractToRef(a[b],u),f+=u.length();for(i=r*(t=f/s)/(r+o),b=0;b<a.length-1;b++){a[b+1].subtractToRef(a[b],u),d=Math.floor(u.length()/t),u.normalize();for(var m=0;m<d;m++)h=t*m,l.push(a[b].x+h*u.x,a[b].y+h*u.y,a[b].z+h*u.z),l.push(a[b].x+(h+i)*u.x,a[b].y+(h+i)*u.y,a[b].z+(h+i)*u.z),_.push(p,p+1),p+=2}var A=new c.a;return A.positions=l,A.indices=_,A},l.a.CreateLines=function(e,t,i,n,r){void 0===i&&(i=null),void 0===n&&(n=!1),void 0===r&&(r=null);var o={points:t,updatable:n,instance:r};return P.CreateLines(e,o,i)},l.a.CreateDashedLines=function(e,t,i,n,r,o,s,a){void 0===o&&(o=null);var c={points:t,dashSize:i,gapSize:n,dashNb:r,updatable:s,instance:a};return P.CreateDashedLines(e,c,o)};var P=function(){function e(){}return e.CreateLineSystem=function(e,t,i){var n=t.instance,r=t.lines,o=t.colors;if(n){var s,l,_=n.getVerticesData(a.b.PositionKind);o&&(s=n.getVerticesData(a.b.ColorKind));for(var u=0,f=0,d=0;d<r.length;d++)for(var h=r[d],p=0;p<h.length;p++)_[u]=h[p].x,_[u+1]=h[p].y,_[u+2]=h[p].z,o&&s&&(l=o[d],s[f]=l[p].r,s[f+1]=l[p].g,s[f+2]=l[p].b,s[f+3]=l[p].a,f+=4),u+=3;return n.updateVerticesData(a.b.PositionKind,_,!1,!1),o&&s&&n.updateVerticesData(a.b.ColorKind,s,!1,!1),n}var b=new I(e,i,null,void 0,void 0,!!o,t.useVertexAlpha);return c.a.CreateLineSystem(t).applyToMesh(b,t.updatable),b},e.CreateLines=function(t,i,n){void 0===n&&(n=null);var r=i.colors?[i.colors]:null;return e.CreateLineSystem(t,{lines:[i.points],updatable:i.updatable,instance:i.instance,colors:r,useVertexAlpha:i.useVertexAlpha},n)},e.CreateDashedLines=function(e,t,i){void 0===i&&(i=null);var r=t.points,o=t.instance,s=t.gapSize||1,a=t.dashSize||3;if(o){return o.updateMeshPositions(function(e){var t,i,s=n.e.Zero(),a=e.length/6,c=0,l=0,_=0,u=0,f=0,d=0;for(f=0;f<r.length-1;f++)r[f+1].subtractToRef(r[f],s),c+=s.length();t=c/a;var h=o._creationDataStorage.dashSize;for(i=h*t/(h+o._creationDataStorage.gapSize),f=0;f<r.length-1;f++)for(r[f+1].subtractToRef(r[f],s),l=Math.floor(s.length()/t),s.normalize(),d=0;d<l&&u<e.length;)_=t*d,e[u]=r[f].x+_*s.x,e[u+1]=r[f].y+_*s.y,e[u+2]=r[f].z+_*s.z,e[u+3]=r[f].x+(_+i)*s.x,e[u+4]=r[f].y+(_+i)*s.y,e[u+5]=r[f].z+(_+i)*s.z,u+=6,d++;for(;u<e.length;)e[u]=r[f].x,e[u+1]=r[f].y,e[u+2]=r[f].z,u+=3},!1),o}var _=new I(e,i,null,void 0,void 0,void 0,t.useVertexAlpha);return c.a.CreateDashedLines(t).applyToMesh(_,t.updatable),_._creationDataStorage=new l.b,_._creationDataStorage.dashSize=a,_._creationDataStorage.gapSize=s,_},e}(),D=function(){function e(){this._hasHit=!1,this._hitDistance=0,this._hitNormalWorld=n.e.Zero(),this._hitPointWorld=n.e.Zero(),this._rayFromWorld=n.e.Zero(),this._rayToWorld=n.e.Zero()}return Object.defineProperty(e.prototype,"hasHit",{get:function(){return this._hasHit},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hitDistance",{get:function(){return this._hitDistance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hitNormalWorld",{get:function(){return this._hitNormalWorld},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hitPointWorld",{get:function(){return this._hitPointWorld},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rayFromWorld",{get:function(){return this._rayFromWorld},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rayToWorld",{get:function(){return this._rayToWorld},enumerable:!1,configurable:!0}),e.prototype.setHitData=function(e,t){this._hasHit=!0,this._hitNormalWorld=new n.e(e.x,e.y,e.z),this._hitPointWorld=new n.e(t.x,t.y,t.z)},e.prototype.setHitDistance=function(e){this._hitDistance=e},e.prototype.calculateHitDistance=function(){this._hitDistance=n.e.Distance(this._rayFromWorld,this._hitPointWorld)},e.prototype.reset=function(e,t){void 0===e&&(e=n.e.Zero()),void 0===t&&(t=n.e.Zero()),this._rayFromWorld=e,this._rayToWorld=t,this._hasHit=!1,this._hitDistance=0,this._hitNormalWorld=n.e.Zero(),this._hitPointWorld=n.e.Zero()},e}(),w=i(37),L=i(50),F=function(){function e(e,t,i){var o=this;void 0===e&&(e=!0),void 0===t&&(t=Ammo),void 0===i&&(i=null),this._useDeltaForWorldStep=e,this.bjsAMMO={},this.name="AmmoJSPlugin",this._timeStep=1/60,this._fixedTimeStep=1/60,this._maxSteps=5,this._tmpQuaternion=new n.b,this._tmpContactCallbackResult=!1,this._tmpContactPoint=new n.e,this._tmpMatrix=new n.a,"function"===typeof t?t(this.bjsAMMO):this.bjsAMMO=t,this.isSupported()?(this._collisionConfiguration=new this.bjsAMMO.btSoftBodyRigidBodyCollisionConfiguration,this._dispatcher=new this.bjsAMMO.btCollisionDispatcher(this._collisionConfiguration),this._overlappingPairCache=i||new this.bjsAMMO.btDbvtBroadphase,this._solver=new this.bjsAMMO.btSequentialImpulseConstraintSolver,this._softBodySolver=new this.bjsAMMO.btDefaultSoftBodySolver,this.world=new this.bjsAMMO.btSoftRigidDynamicsWorld(this._dispatcher,this._overlappingPairCache,this._solver,this._collisionConfiguration,this._softBodySolver),this._tmpAmmoConcreteContactResultCallback=new this.bjsAMMO.ConcreteContactResultCallback,this._tmpAmmoConcreteContactResultCallback.addSingleResult=function(e,t,i,n){var r=(e=o.bjsAMMO.wrapPointer(e,Ammo.btManifoldPoint)).getPositionWorldOnA();o._tmpContactPoint.x=r.x(),o._tmpContactPoint.y=r.y(),o._tmpContactPoint.z=r.z(),o._tmpContactCallbackResult=!0},this._raycastResult=new D,this._tmpAmmoTransform=new this.bjsAMMO.btTransform,this._tmpAmmoTransform.setIdentity(),this._tmpAmmoQuaternion=new this.bjsAMMO.btQuaternion(0,0,0,1),this._tmpAmmoVectorA=new this.bjsAMMO.btVector3(0,0,0),this._tmpAmmoVectorB=new this.bjsAMMO.btVector3(0,0,0),this._tmpAmmoVectorC=new this.bjsAMMO.btVector3(0,0,0),this._tmpAmmoVectorD=new this.bjsAMMO.btVector3(0,0,0)):r.a.Error("AmmoJS is not available. Please make sure you included the js file.")}return e.prototype.setGravity=function(e){this._tmpAmmoVectorA.setValue(e.x,e.y,e.z),this.world.setGravity(this._tmpAmmoVectorA),this.world.getWorldInfo().set_m_gravity(this._tmpAmmoVectorA)},e.prototype.setTimeStep=function(e){this._timeStep=e},e.prototype.setFixedTimeStep=function(e){this._fixedTimeStep=e},e.prototype.setMaxSteps=function(e){this._maxSteps=e},e.prototype.getTimeStep=function(){return this._timeStep},e.prototype._isImpostorInContact=function(e){return this._tmpContactCallbackResult=!1,this.world.contactTest(e.physicsBody,this._tmpAmmoConcreteContactResultCallback),this._tmpContactCallbackResult},e.prototype._isImpostorPairInContact=function(e,t){return this._tmpContactCallbackResult=!1,this.world.contactPairTest(e.physicsBody,t.physicsBody,this._tmpAmmoConcreteContactResultCallback),this._tmpContactCallbackResult},e.prototype._stepSimulation=function(e,t,i){if(void 0===e&&(e=1/60),void 0===t&&(t=10),void 0===i&&(i=1/60),0==t)this.world.stepSimulation(e,0);else for(;t>0&&e>0;)e-i<i?(this.world.stepSimulation(e,0),e=0):(e-=i,this.world.stepSimulation(i,0)),t--},e.prototype.executeStep=function(e,t){for(var i=0,n=t;i<n.length;i++){var r=n[i];r.soft||r.beforeStep()}this._stepSimulation(this._useDeltaForWorldStep?e:this._timeStep,this._maxSteps,this._fixedTimeStep);for(var o=0,s=t;o<s.length;o++){var a=s[o];if(a.soft?this._afterSoftStep(a):a.afterStep(),a._onPhysicsCollideCallbacks.length>0&&this._isImpostorInContact(a))for(var c=0,l=a._onPhysicsCollideCallbacks;c<l.length;c++)for(var _=0,u=l[c].otherImpostors;_<u.length;_++){var f=u[_];(a.physicsBody.isActive()||f.physicsBody.isActive())&&this._isImpostorPairInContact(a,f)&&(a.onCollide({body:f.physicsBody,point:this._tmpContactPoint}),f.onCollide({body:a.physicsBody,point:this._tmpContactPoint}))}}},e.prototype._afterSoftStep=function(e){e.type===o.a.RopeImpostor?this._ropeStep(e):this._softbodyOrClothStep(e)},e.prototype._ropeStep=function(e){for(var t,i,r,o,s=e.physicsBody.get_m_nodes(),a=s.size(),c=new Array,l=0;l<a;l++)i=(t=s.at(l).get_m_x()).x(),r=t.y(),o=t.z(),c.push(new n.e(i,r,o));var _=e.object,u=e.getParam("shape");e._isFromLine?e.object=P.CreateLines("lines",{points:c,instance:_}):e.object=d.ExtrudeShape("ext",{shape:u,path:c,instance:_})},e.prototype._softbodyOrClothStep=function(e){var t=e.type===o.a.ClothImpostor?1:-1,i=e.object,n=i.getVerticesData(a.b.PositionKind);n||(n=[]);var r=i.getVerticesData(a.b.NormalKind);r||(r=[]);for(var s,l,_,u,f,d,h,p,b=n.length/3,m=e.physicsBody.get_m_nodes(),A=0;A<b;A++){var g;_=(l=(s=m.at(A)).get_m_x()).x(),u=l.y(),f=l.z()*t,d=(g=s.get_m_n()).x(),h=g.y(),p=g.z()*t,n[3*A]=_,n[3*A+1]=u,n[3*A+2]=f,r[3*A]=d,r[3*A+1]=h,r[3*A+2]=p}var y=new c.a;y.positions=n,y.normals=r,y.uvs=i.getVerticesData(a.b.UVKind),y.colors=i.getVerticesData(a.b.ColorKind),i&&i.getIndices&&(y.indices=i.getIndices()),y.applyToMesh(i)},e.prototype.applyImpulse=function(e,t,i){if(e.soft)r.a.Warn("Cannot be applied to a soft body");else{e.physicsBody.activate();var n=this._tmpAmmoVectorA,o=this._tmpAmmoVectorB;e.object&&e.object.getWorldMatrix&&i.subtractInPlace(e.object.getWorldMatrix().getTranslation()),n.setValue(i.x,i.y,i.z),o.setValue(t.x,t.y,t.z),e.physicsBody.applyImpulse(o,n)}},e.prototype.applyForce=function(e,t,i){if(e.soft)r.a.Warn("Cannot be applied to a soft body");else{e.physicsBody.activate();var n=this._tmpAmmoVectorA,o=this._tmpAmmoVectorB;e.object&&e.object.getWorldMatrix&&i.subtractInPlace(e.object.getWorldMatrix().getTranslation()),n.setValue(i.x,i.y,i.z),o.setValue(t.x,t.y,t.z),e.physicsBody.applyForce(o,n)}},e.prototype.generatePhysicsBody=function(t){if(t._pluginData.toDispose=[],t.parent)t.physicsBody&&(this.removePhysicsBody(t),t.forceUpdate());else if(t.isBodyInitRequired()){var i=this._createShape(t),n=t.getParam("mass");if(t._pluginData.mass=n,t.soft)i.get_m_cfg().set_collisions(17),i.get_m_cfg().set_kDP(t.getParam("damping")),this.bjsAMMO.castObject(i,this.bjsAMMO.btCollisionObject).getCollisionShape().setMargin(t.getParam("margin")),i.setActivationState(e.DISABLE_DEACTIVATION_FLAG),this.world.addSoftBody(i,1,-1),t.physicsBody=i,t._pluginData.toDispose.push(i),this.setBodyPressure(t,0),t.type===o.a.SoftbodyImpostor&&this.setBodyPressure(t,t.getParam("pressure")),this.setBodyStiffness(t,t.getParam("stiffness")),this.setBodyVelocityIterations(t,t.getParam("velocityIterations")),this.setBodyPositionIterations(t,t.getParam("positionIterations"));else{var r=new this.bjsAMMO.btVector3(0,0,0),s=new this.bjsAMMO.btTransform;s.setIdentity(),0!==n&&i.calculateLocalInertia(n,r),this._tmpAmmoVectorA.setValue(t.object.position.x,t.object.position.y,t.object.position.z),this._tmpAmmoQuaternion.setValue(t.object.rotationQuaternion.x,t.object.rotationQuaternion.y,t.object.rotationQuaternion.z,t.object.rotationQuaternion.w),s.setOrigin(this._tmpAmmoVectorA),s.setRotation(this._tmpAmmoQuaternion);var a=new this.bjsAMMO.btDefaultMotionState(s),c=new this.bjsAMMO.btRigidBodyConstructionInfo(n,a,i,r),l=new this.bjsAMMO.btRigidBody(c);0===n&&(l.setCollisionFlags(l.getCollisionFlags()|e.KINEMATIC_FLAG),l.setActivationState(e.DISABLE_DEACTIVATION_FLAG)),t.type!=o.a.NoImpostor||i.getChildShape||l.setCollisionFlags(l.getCollisionFlags()|e.DISABLE_COLLISION_FLAG);var _=t.getParam("group"),u=t.getParam("mask");_&&u?this.world.addRigidBody(l,_,u):this.world.addRigidBody(l),t.physicsBody=l,t._pluginData.toDispose=t._pluginData.toDispose.concat([l,c,a,s,r,i])}this.setBodyRestitution(t,t.getParam("restitution")),this.setBodyFriction(t,t.getParam("friction"))}},e.prototype.removePhysicsBody=function(e){var t=this;this.world&&(e.soft?this.world.removeSoftBody(e.physicsBody):this.world.removeRigidBody(e.physicsBody),e._pluginData&&(e._pluginData.toDispose.forEach(function(e){t.bjsAMMO.destroy(e)}),e._pluginData.toDispose=[]))},e.prototype.generateJoint=function(e){var t=e.mainImpostor.physicsBody,i=e.connectedImpostor.physicsBody;if(t&&i){var o,a=e.joint.jointData;switch(a.mainPivot||(a.mainPivot=new n.e(0,0,0)),a.connectedPivot||(a.connectedPivot=new n.e(0,0,0)),e.joint.type){case s.a.DistanceJoint:var c=a.maxDistance;c&&(a.mainPivot=new n.e(0,-c/2,0),a.connectedPivot=new n.e(0,c/2,0)),o=new this.bjsAMMO.btPoint2PointConstraint(t,i,new this.bjsAMMO.btVector3(a.mainPivot.x,a.mainPivot.y,a.mainPivot.z),new this.bjsAMMO.btVector3(a.connectedPivot.x,a.connectedPivot.y,a.connectedPivot.z));break;case s.a.HingeJoint:a.mainAxis||(a.mainAxis=new n.e(0,0,0)),a.connectedAxis||(a.connectedAxis=new n.e(0,0,0));var l=new this.bjsAMMO.btVector3(a.mainAxis.x,a.mainAxis.y,a.mainAxis.z),_=new this.bjsAMMO.btVector3(a.connectedAxis.x,a.connectedAxis.y,a.connectedAxis.z);o=new this.bjsAMMO.btHingeConstraint(t,i,new this.bjsAMMO.btVector3(a.mainPivot.x,a.mainPivot.y,a.mainPivot.z),new this.bjsAMMO.btVector3(a.connectedPivot.x,a.connectedPivot.y,a.connectedPivot.z),l,_);break;case s.a.BallAndSocketJoint:o=new this.bjsAMMO.btPoint2PointConstraint(t,i,new this.bjsAMMO.btVector3(a.mainPivot.x,a.mainPivot.y,a.mainPivot.z),new this.bjsAMMO.btVector3(a.connectedPivot.x,a.connectedPivot.y,a.connectedPivot.z));break;default:r.a.Warn("JointType not currently supported by the Ammo plugin, falling back to PhysicsJoint.BallAndSocketJoint"),o=new this.bjsAMMO.btPoint2PointConstraint(t,i,new this.bjsAMMO.btVector3(a.mainPivot.x,a.mainPivot.y,a.mainPivot.z),new this.bjsAMMO.btVector3(a.connectedPivot.x,a.connectedPivot.y,a.connectedPivot.z))}this.world.addConstraint(o,!e.joint.jointData.collision),e.joint.physicsJoint=o}},e.prototype.removeJoint=function(e){this.world&&this.world.removeConstraint(e.joint.physicsJoint)},e.prototype._addMeshVerts=function(e,t,i){var r=this,o=0;if(i&&i.getIndices&&i.getWorldMatrix&&i.getChildMeshes){var s=i.getIndices();s||(s=[]);var c=i.getVerticesData(a.b.PositionKind);c||(c=[]),i.computeWorldMatrix(!1);for(var l=s.length/3,_=0;_<l;_++){for(var u=[],f=0;f<3;f++){var d,h=new n.e(c[3*s[3*_+f]+0],c[3*s[3*_+f]+1],c[3*s[3*_+f]+2]);n.a.ScalingToRef(i.scaling.x,i.scaling.y,i.scaling.z,this._tmpMatrix),h=n.e.TransformCoordinates(h,this._tmpMatrix),(d=0==f?this._tmpAmmoVectorA:1==f?this._tmpAmmoVectorB:this._tmpAmmoVectorC).setValue(h.x,h.y,h.z),u.push(d)}e.addTriangle(u[0],u[1],u[2]),o++}i.getChildMeshes().forEach(function(i){o+=r._addMeshVerts(e,t,i)})}return o},e.prototype._softVertexData=function(e){var t=e.object;if(t&&t.getIndices&&t.getWorldMatrix&&t.getChildMeshes){var i=t.getIndices();i||(i=[]);var r=t.getVerticesData(a.b.PositionKind);r||(r=[]);var o=t.getVerticesData(a.b.NormalKind);o||(o=[]),t.computeWorldMatrix(!1);for(var s=[],l=[],_=0;_<r.length;_+=3){var u=new n.e(r[_],r[_+1],r[_+2]),f=new n.e(o[_],o[_+1],o[_+2]);u=n.e.TransformCoordinates(u,t.getWorldMatrix()),f=n.e.TransformNormal(f,t.getWorldMatrix()),s.push(u.x,u.y,u.z),l.push(f.x,f.y,f.z)}var d=new c.a;return d.positions=s,d.normals=l,d.uvs=t.getVerticesData(a.b.UVKind),d.colors=t.getVerticesData(a.b.ColorKind),t&&t.getIndices&&(d.indices=t.getIndices()),d.applyToMesh(t),t.position=n.e.Zero(),t.rotationQuaternion=null,t.rotation=n.e.Zero(),t.computeWorldMatrix(!0),d}return c.a.ExtractFromMesh(t)},e.prototype._createSoftbody=function(e){var t=e.object;if(t&&t.getIndices){var i=t.getIndices();i||(i=[]);var r=this._softVertexData(e),o=r.positions,s=r.normals;if(null===o||null===s)return new this.bjsAMMO.btCompoundShape;for(var a=[],c=[],l=0;l<o.length;l+=3){var _=new n.e(o[l],o[l+1],o[l+2]),u=new n.e(s[l],s[l+1],s[l+2]);a.push(_.x,_.y,-_.z),c.push(u.x,u.y,-u.z)}var f=(new this.bjsAMMO.btSoftBodyHelpers).CreateFromTriMesh(this.world.getWorldInfo(),a,t.getIndices(),i.length/3,!0),d=o.length/3,h=f.get_m_nodes();for(l=0;l<d;l++){var p;(p=h.at(l).get_m_n()).setX(c[3*l]),p.setY(c[3*l+1]),p.setZ(c[3*l+2])}return f}},e.prototype._createCloth=function(e){var t=e.object;if(t&&t.getIndices){var i=t.getIndices();i||(i=[]);var n=this._softVertexData(e),r=n.positions,o=n.normals;if(null===r||null===o)return new this.bjsAMMO.btCompoundShape;var s=r.length,a=Math.sqrt(s/3);e.segments=a;var c=a-1;return this._tmpAmmoVectorA.setValue(r[0],r[1],r[2]),this._tmpAmmoVectorB.setValue(r[3*c],r[3*c+1],r[3*c+2]),this._tmpAmmoVectorD.setValue(r[s-3],r[s-2],r[s-1]),this._tmpAmmoVectorC.setValue(r[s-3-3*c],r[s-2-3*c],r[s-1-3*c]),(new this.bjsAMMO.btSoftBodyHelpers).CreatePatch(this.world.getWorldInfo(),this._tmpAmmoVectorA,this._tmpAmmoVectorB,this._tmpAmmoVectorC,this._tmpAmmoVectorD,a,a,e.getParam("fixedPoints"),!0)}},e.prototype._createRope=function(e){var t,i,n=this._softVertexData(e),o=n.positions,s=n.normals;if(null===o||null===s)return new this.bjsAMMO.btCompoundShape;n.applyToMesh(e.object,!0),e._isFromLine=!0;if(0===s.map(function(e){return e*e}).reduce(function(e,t){return e+t}))i=(t=o.length)/3-1,this._tmpAmmoVectorA.setValue(o[0],o[1],o[2]),this._tmpAmmoVectorB.setValue(o[t-3],o[t-2],o[t-1]);else{e._isFromLine=!1;var a=e.getParam("path");if(null===e.getParam("shape"))return r.a.Warn("No shape available for extruded mesh"),new this.bjsAMMO.btCompoundShape;if(o.length%(3*a.length)!==0)return r.a.Warn("Path does not match extrusion"),new this.bjsAMMO.btCompoundShape;i=(t=a.length)-1,this._tmpAmmoVectorA.setValue(a[0].x,a[0].y,a[0].z),this._tmpAmmoVectorB.setValue(a[t-1].x,a[t-1].y,a[t-1].z)}e.segments=i;var c=e.getParam("fixedPoints");c=c>3?3:c;var l=(new this.bjsAMMO.btSoftBodyHelpers).CreateRope(this.world.getWorldInfo(),this._tmpAmmoVectorA,this._tmpAmmoVectorB,i-1,c);return l.get_m_cfg().set_collisions(17),l},e.prototype._createCustom=function(e){var t=null;return this.onCreateCustomShape&&(t=this.onCreateCustomShape(e)),null==t&&(t=new this.bjsAMMO.btCompoundShape),t},e.prototype._addHullVerts=function(e,t,i){var r=this,o=0;if(i&&i.getIndices&&i.getWorldMatrix&&i.getChildMeshes){var s=i.getIndices();s||(s=[]);var c=i.getVerticesData(a.b.PositionKind);c||(c=[]),i.computeWorldMatrix(!1);for(var l=s.length/3,_=0;_<l;_++){for(var u=[],f=0;f<3;f++){var d,h=new n.e(c[3*s[3*_+f]+0],c[3*s[3*_+f]+1],c[3*s[3*_+f]+2]);n.a.ScalingToRef(i.scaling.x,i.scaling.y,i.scaling.z,this._tmpMatrix),h=n.e.TransformCoordinates(h,this._tmpMatrix),(d=0==f?this._tmpAmmoVectorA:1==f?this._tmpAmmoVectorB:this._tmpAmmoVectorC).setValue(h.x,h.y,h.z),u.push(d)}e.addPoint(u[0],!0),e.addPoint(u[1],!0),e.addPoint(u[2],!0),o++}i.getChildMeshes().forEach(function(i){o+=r._addHullVerts(e,t,i)})}return o},e.prototype._createShape=function(e,t){var i=this;void 0===t&&(t=!1);var s,a=e.object,c=e.getObjectExtendSize();if(!t){var l=e.object.getChildMeshes?e.object.getChildMeshes(!0):[];s=new this.bjsAMMO.btCompoundShape;var _=0;if(l.forEach(function(e){var t=e.getPhysicsImpostor();if(t){if(t.type==o.a.MeshImpostor)throw"A child MeshImpostor is not supported. Only primitive impostors are supported as children (eg. box or sphere)";var r=i._createShape(t),a=e.parent.getWorldMatrix().clone(),c=new n.e;a.decompose(c),i._tmpAmmoTransform.getOrigin().setValue(e.position.x*c.x,e.position.y*c.y,e.position.z*c.z),i._tmpAmmoQuaternion.setValue(e.rotationQuaternion.x,e.rotationQuaternion.y,e.rotationQuaternion.z,e.rotationQuaternion.w),i._tmpAmmoTransform.setRotation(i._tmpAmmoQuaternion),s.addChildShape(i._tmpAmmoTransform,r),t.dispose(),_++}}),_>0){if(e.type!=o.a.NoImpostor){var u=this._createShape(e,!0);u&&(this._tmpAmmoTransform.getOrigin().setValue(0,0,0),this._tmpAmmoQuaternion.setValue(0,0,0,1),this._tmpAmmoTransform.setRotation(this._tmpAmmoQuaternion),s.addChildShape(this._tmpAmmoTransform,u))}return s}this.bjsAMMO.destroy(s),s=null}switch(e.type){case o.a.SphereImpostor:if(w.a.WithinEpsilon(c.x,c.y,1e-4)&&w.a.WithinEpsilon(c.x,c.z,1e-4))s=new this.bjsAMMO.btSphereShape(c.x/2);else{var f=[new this.bjsAMMO.btVector3(0,0,0)];(s=new this.bjsAMMO.btMultiSphereShape(f,[1],1)).setLocalScaling(new this.bjsAMMO.btVector3(c.x/2,c.y/2,c.z/2))}break;case o.a.CapsuleImpostor:s=new this.bjsAMMO.btCapsuleShape(c.x/2,c.y/2);break;case o.a.CylinderImpostor:this._tmpAmmoVectorA.setValue(c.x/2,c.y/2,c.z/2),s=new this.bjsAMMO.btCylinderShape(this._tmpAmmoVectorA);break;case o.a.PlaneImpostor:case o.a.BoxImpostor:this._tmpAmmoVectorA.setValue(c.x/2,c.y/2,c.z/2),s=new this.bjsAMMO.btBoxShape(this._tmpAmmoVectorA);break;case o.a.MeshImpostor:if(0==e.getParam("mass")){var d=new this.bjsAMMO.btTriangleMesh;e._pluginData.toDispose.push(d);var h=this._addMeshVerts(d,a,a);s=0==h?new this.bjsAMMO.btCompoundShape:new this.bjsAMMO.btBvhTriangleMeshShape(d);break}case o.a.ConvexHullImpostor:var p=new this.bjsAMMO.btConvexHullShape;0==(h=this._addHullVerts(p,a,a))?(e._pluginData.toDispose.push(p),s=new this.bjsAMMO.btCompoundShape):s=p;break;case o.a.NoImpostor:s=new this.bjsAMMO.btSphereShape(c.x/2);break;case o.a.CustomImpostor:s=this._createCustom(e);break;case o.a.SoftbodyImpostor:s=this._createSoftbody(e);break;case o.a.ClothImpostor:s=this._createCloth(e);break;case o.a.RopeImpostor:s=this._createRope(e);break;default:r.a.Warn("The impostor type is not currently supported by the ammo plugin.")}return s},e.prototype.setTransformationFromPhysicsBody=function(e){e.physicsBody.getMotionState().getWorldTransform(this._tmpAmmoTransform),e.object.position.set(this._tmpAmmoTransform.getOrigin().x(),this._tmpAmmoTransform.getOrigin().y(),this._tmpAmmoTransform.getOrigin().z()),e.object.rotationQuaternion?e.object.rotationQuaternion.set(this._tmpAmmoTransform.getRotation().x(),this._tmpAmmoTransform.getRotation().y(),this._tmpAmmoTransform.getRotation().z(),this._tmpAmmoTransform.getRotation().w()):e.object.rotation&&(this._tmpQuaternion.set(this._tmpAmmoTransform.getRotation().x(),this._tmpAmmoTransform.getRotation().y(),this._tmpAmmoTransform.getRotation().z(),this._tmpAmmoTransform.getRotation().w()),this._tmpQuaternion.toEulerAnglesToRef(e.object.rotation))},e.prototype.setPhysicsBodyTransformation=function(e,t,i){var n=e.physicsBody.getWorldTransform();if(Math.abs(n.getOrigin().x()-t.x)>L.a||Math.abs(n.getOrigin().y()-t.y)>L.a||Math.abs(n.getOrigin().z()-t.z)>L.a||Math.abs(n.getRotation().x()-i.x)>L.a||Math.abs(n.getRotation().y()-i.y)>L.a||Math.abs(n.getRotation().z()-i.z)>L.a||Math.abs(n.getRotation().w()-i.w)>L.a)if(this._tmpAmmoVectorA.setValue(t.x,t.y,t.z),n.setOrigin(this._tmpAmmoVectorA),this._tmpAmmoQuaternion.setValue(i.x,i.y,i.z,i.w),n.setRotation(this._tmpAmmoQuaternion),e.physicsBody.setWorldTransform(n),0==e.mass){var r=e.physicsBody.getMotionState();r&&r.setWorldTransform(n)}else e.physicsBody.activate()},e.prototype.isSupported=function(){return void 0!==this.bjsAMMO},e.prototype.setLinearVelocity=function(e,t){this._tmpAmmoVectorA.setValue(t.x,t.y,t.z),e.soft?e.physicsBody.linearVelocity(this._tmpAmmoVectorA):e.physicsBody.setLinearVelocity(this._tmpAmmoVectorA)},e.prototype.setAngularVelocity=function(e,t){this._tmpAmmoVectorA.setValue(t.x,t.y,t.z),e.soft?e.physicsBody.angularVelocity(this._tmpAmmoVectorA):e.physicsBody.setAngularVelocity(this._tmpAmmoVectorA)},e.prototype.getLinearVelocity=function(e){if(e.soft)var t=e.physicsBody.linearVelocity();else t=e.physicsBody.getLinearVelocity();if(!t)return null;var i=new n.e(t.x(),t.y(),t.z());return this.bjsAMMO.destroy(t),i},e.prototype.getAngularVelocity=function(e){if(e.soft)var t=e.physicsBody.angularVelocity();else t=e.physicsBody.getAngularVelocity();if(!t)return null;var i=new n.e(t.x(),t.y(),t.z());return this.bjsAMMO.destroy(t),i},e.prototype.setBodyMass=function(e,t){e.soft?e.physicsBody.setTotalMass(t,!1):e.physicsBody.setMassProps(t),e._pluginData.mass=t},e.prototype.getBodyMass=function(e){return e._pluginData.mass||0},e.prototype.getBodyFriction=function(e){return e._pluginData.friction||0},e.prototype.setBodyFriction=function(e,t){e.soft?e.physicsBody.get_m_cfg().set_kDF(t):e.physicsBody.setFriction(t),e._pluginData.friction=t},e.prototype.getBodyRestitution=function(e){return e._pluginData.restitution||0},e.prototype.setBodyRestitution=function(e,t){e.physicsBody.setRestitution(t),e._pluginData.restitution=t},e.prototype.getBodyPressure=function(e){return e.soft?e._pluginData.pressure||0:(r.a.Warn("Pressure is not a property of a rigid body"),0)},e.prototype.setBodyPressure=function(e,t){e.soft?e.type===o.a.SoftbodyImpostor?(e.physicsBody.get_m_cfg().set_kPR(t),e._pluginData.pressure=t):(e.physicsBody.get_m_cfg().set_kPR(0),e._pluginData.pressure=0):r.a.Warn("Pressure can only be applied to a softbody")},e.prototype.getBodyStiffness=function(e){return e.soft?e._pluginData.stiffness||0:(r.a.Warn("Stiffness is not a property of a rigid body"),0)},e.prototype.setBodyStiffness=function(e,t){e.soft?(t=(t=t<0?0:t)>1?1:t,e.physicsBody.get_m_materials().at(0).set_m_kLST(t),e._pluginData.stiffness=t):r.a.Warn("Stiffness cannot be applied to a rigid body")},e.prototype.getBodyVelocityIterations=function(e){return e.soft?e._pluginData.velocityIterations||0:(r.a.Warn("Velocity iterations is not a property of a rigid body"),0)},e.prototype.setBodyVelocityIterations=function(e,t){e.soft?(t=t<0?0:t,e.physicsBody.get_m_cfg().set_viterations(t),e._pluginData.velocityIterations=t):r.a.Warn("Velocity iterations cannot be applied to a rigid body")},e.prototype.getBodyPositionIterations=function(e){return e.soft?e._pluginData.positionIterations||0:(r.a.Warn("Position iterations is not a property of a rigid body"),0)},e.prototype.setBodyPositionIterations=function(e,t){e.soft?(t=t<0?0:t,e.physicsBody.get_m_cfg().set_piterations(t),e._pluginData.positionIterations=t):r.a.Warn("Position iterations cannot be applied to a rigid body")},e.prototype.appendAnchor=function(e,t,i,n,r,o){void 0===r&&(r=1),void 0===o&&(o=!1);var s=e.segments,a=Math.round((s-1)*i)+s*(s-1-Math.round((s-1)*n));e.physicsBody.appendAnchor(a,t.physicsBody,o,r)},e.prototype.appendHook=function(e,t,i,n,r){void 0===n&&(n=1),void 0===r&&(r=!1);var o=Math.round(e.segments*i);e.physicsBody.appendAnchor(o,t.physicsBody,r,n)},e.prototype.sleepBody=function(e){r.a.Warn("sleepBody is not currently supported by the Ammo physics plugin")},e.prototype.wakeUpBody=function(e){e.physicsBody.activate()},e.prototype.updateDistanceJoint=function(e,t,i){r.a.Warn("updateDistanceJoint is not currently supported by the Ammo physics plugin")},e.prototype.setMotor=function(e,t,i,n){e.physicsJoint.enableAngularMotor(!0,t,i)},e.prototype.setLimit=function(e,t,i){r.a.Warn("setLimit is not currently supported by the Ammo physics plugin")},e.prototype.syncMeshWithImpostor=function(e,t){t.physicsBody.getMotionState().getWorldTransform(this._tmpAmmoTransform),e.position.x=this._tmpAmmoTransform.getOrigin().x(),e.position.y=this._tmpAmmoTransform.getOrigin().y(),e.position.z=this._tmpAmmoTransform.getOrigin().z(),e.rotationQuaternion&&(e.rotationQuaternion.x=this._tmpAmmoTransform.getRotation().x(),e.rotationQuaternion.y=this._tmpAmmoTransform.getRotation().y(),e.rotationQuaternion.z=this._tmpAmmoTransform.getRotation().z(),e.rotationQuaternion.w=this._tmpAmmoTransform.getRotation().w())},e.prototype.getRadius=function(e){return e.getObjectExtendSize().x/2},e.prototype.getBoxSizeToRef=function(e,t){var i=e.getObjectExtendSize();t.x=i.x,t.y=i.y,t.z=i.z},e.prototype.dispose=function(){this.bjsAMMO.destroy(this.world),this.bjsAMMO.destroy(this._solver),this.bjsAMMO.destroy(this._overlappingPairCache),this.bjsAMMO.destroy(this._dispatcher),this.bjsAMMO.destroy(this._collisionConfiguration),this.bjsAMMO.destroy(this._tmpAmmoVectorA),this.bjsAMMO.destroy(this._tmpAmmoVectorB),this.bjsAMMO.destroy(this._tmpAmmoVectorC),this.bjsAMMO.destroy(this._tmpAmmoTransform),this.bjsAMMO.destroy(this._tmpAmmoQuaternion),this.bjsAMMO.destroy(this._tmpAmmoConcreteContactResultCallback),this.world=null},e.prototype.raycast=function(e,t){this._tmpAmmoVectorRCA=new this.bjsAMMO.btVector3(e.x,e.y,e.z),this._tmpAmmoVectorRCB=new this.bjsAMMO.btVector3(t.x,t.y,t.z);var i=new this.bjsAMMO.ClosestRayResultCallback(this._tmpAmmoVectorRCA,this._tmpAmmoVectorRCB);return this.world.rayTest(this._tmpAmmoVectorRCA,this._tmpAmmoVectorRCB,i),this._raycastResult.reset(e,t),i.hasHit()&&(this._raycastResult.setHitData({x:i.get_m_hitNormalWorld().x(),y:i.get_m_hitNormalWorld().y(),z:i.get_m_hitNormalWorld().z()},{x:i.get_m_hitPointWorld().x(),y:i.get_m_hitPointWorld().y(),z:i.get_m_hitPointWorld().z()}),this._raycastResult.calculateHitDistance()),this.bjsAMMO.destroy(i),this.bjsAMMO.destroy(this._tmpAmmoVectorRCA),this.bjsAMMO.destroy(this._tmpAmmoVectorRCB),this._raycastResult},e.DISABLE_COLLISION_FLAG=4,e.KINEMATIC_FLAG=2,e.DISABLE_DEACTIVATION_FLAG=4,e}()},1042:function(e,t,i){"use strict";var n=i(881),r=i(644),o=i(30),s=i(807),a=(i(980),i(981),i(947),i(667)),c=i(704),l=i(244),_=i(660),u=i(669),f=i(686),d=i(642),h=(i(875),"depthPixelShader"),p="#ifdef ALPHATEST\nvarying vec2 vUV;\nuniform sampler2D diffuseSampler;\n#endif\nvarying float vDepthMetric;\n#ifdef PACKED\n#include<packingFunctions>\n#endif\nvoid main(void)\n{\n#ifdef ALPHATEST\nif (texture2D(diffuseSampler,vUV).a<0.4)\ndiscard;\n#endif\n#ifdef NONLINEARDEPTH\n#ifdef PACKED\ngl_FragColor=pack(gl_FragCoord.z);\n#else\ngl_FragColor=vec4(gl_FragCoord.z,0.0,0.0,0.0);\n#endif\n#else\n#ifdef PACKED\ngl_FragColor=pack(vDepthMetric);\n#else\ngl_FragColor=vec4(vDepthMetric,0.0,0.0,1.0);\n#endif\n#endif\n}";d.a.ShadersStore[h]=p;i(756),i(810),i(811),i(757),i(813),i(758),i(759);var b="depthVertexShader",m="\nattribute vec3 position;\n#include<bonesDeclaration>\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n\n#include<instancesDeclaration>\nuniform mat4 viewProjection;\nuniform vec2 depthValues;\n#if defined(ALPHATEST) || defined(NEED_UV)\nvarying vec2 vUV;\nuniform mat4 diffuseMatrix;\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#endif\nvarying float vDepthMetric;\nvoid main(void)\n{\nvec3 positionUpdated=position;\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#include<instancesVertex>\n#include<bonesVertex>\ngl_Position=viewProjection*finalWorld*vec4(positionUpdated,1.0);\nvDepthMetric=((gl_Position.z+depthValues.x)/(depthValues.y));\n#if defined(ALPHATEST) || defined(BASIC_RENDER)\n#ifdef UV1\nvUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\n#endif\n#ifdef UV2\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n}\n";d.a.ShadersStore[b]=m;var A=function(){function e(t,i,n,r){var o=this;void 0===i&&(i=1),void 0===n&&(n=null),void 0===r&&(r=!1),this.enabled=!0,this.useOnlyInActiveCamera=!1,this._scene=t,this._storeNonLinearDepth=r,this.isPacked=0===i,this.isPacked?this._clearColor=new l.b(1,1,1,1):this._clearColor=new l.b(1,0,0,1),e._SceneComponentInitialization(this._scene),this._camera=n;var a=t.getEngine(),c=this.isPacked||1===a.webGLVersion?5:6;this._depthMap=new s.a("depthMap",{width:a.getRenderWidth(),height:a.getRenderHeight()},this._scene,!1,!0,i,!1,void 0,void 0,void 0,void 0,c),this._depthMap.wrapU=u.a.CLAMP_ADDRESSMODE,this._depthMap.wrapV=u.a.CLAMP_ADDRESSMODE,this._depthMap.refreshRate=1,this._depthMap.renderParticles=!1,this._depthMap.renderList=null,this._depthMap.activeCamera=this._camera,this._depthMap.ignoreCameraViewport=!0,this._depthMap.useCameraPostProcesses=!1,this._depthMap.onClearObservable.add(function(e){e.clear(o._clearColor,!0,!0,!0)});var _=function(e){var t=e.getRenderingMesh(),i=e.getEffectiveMesh(),n=o._scene,r=n.getEngine(),s=e.getMaterial();if(i._internalAbstractMeshDataInfo._isActiveIntermediate=!1,s&&0!==e.verticesCount&&e._renderId!==n.getRenderId()){r.setState(s.backFaceCulling,0,!1,n.useRightHandedSystem);var a=t._getInstancesRenderList(e._id,!!e.getReplacementMesh());if(!a.mustReturn){var c=r.getCaps().instancedArrays&&(null!==a.visibleInstances[e._id]&&void 0!==a.visibleInstances[e._id]||t.hasThinInstances),l=o._camera||n.activeCamera;if(o.isReady(e,c)&&l){if(e._renderId=n.getRenderId(),r.enableEffect(o._effect),t._bind(e,o._effect,s.fillMode),o._effect.setMatrix("viewProjection",n.getTransformMatrix()),o._effect.setFloat2("depthValues",l.minZ,l.minZ+l.maxZ),s&&s.needAlphaTesting()){var _=s.getAlphaTestTexture();_&&(o._effect.setTexture("diffuseSampler",_),o._effect.setMatrix("diffuseMatrix",_.getTextureMatrix()))}t.useBones&&t.computeBonesUsingShaders&&t.skeleton&&o._effect.setMatrices("mBones",t.skeleton.getTransformMatrices(t)),f.a.BindMorphTargetParameters(t,o._effect),t._processRendering(i,e,o._effect,s.fillMode,a,c,function(e,t){return o._effect.setMatrix("world",t)})}}}};this._depthMap.customRenderFunction=function(e,t,i,n){var r;if(n.length){for(a.setColorWrite(!1),r=0;r<n.length;r++)_(n.data[r]);a.setColorWrite(!0)}for(r=0;r<e.length;r++)_(e.data[r]);for(r=0;r<t.length;r++)_(t.data[r])}}return e.prototype.isReady=function(e,t){var i=e.getMaterial();if(i.disableDepthWrite)return!1;var n=[],r=[_.b.PositionKind],o=e.getMesh();i&&i.needAlphaTesting()&&i.getAlphaTestTexture()&&(n.push("#define ALPHATEST"),o.isVerticesDataPresent(_.b.UVKind)&&(r.push(_.b.UVKind),n.push("#define UV1")),o.isVerticesDataPresent(_.b.UV2Kind)&&(r.push(_.b.UV2Kind),n.push("#define UV2"))),o.useBones&&o.computeBonesUsingShaders?(r.push(_.b.MatricesIndicesKind),r.push(_.b.MatricesWeightsKind),o.numBoneInfluencers>4&&(r.push(_.b.MatricesIndicesExtraKind),r.push(_.b.MatricesWeightsExtraKind)),n.push("#define NUM_BONE_INFLUENCERS "+o.numBoneInfluencers),n.push("#define BonesPerMesh "+(o.skeleton?o.skeleton.bones.length+1:0))):n.push("#define NUM_BONE_INFLUENCERS 0");var s=o.morphTargetManager,a=0;s&&s.numInfluencers>0&&(a=s.numInfluencers,n.push("#define MORPHTARGETS"),n.push("#define NUM_MORPH_INFLUENCERS "+a),f.a.PrepareAttributesForMorphTargetsInfluencers(r,o,a)),t&&(n.push("#define INSTANCES"),f.a.PushAttributesForInstances(r),e.getRenderingMesh().hasThinInstances&&n.push("#define THIN_INSTANCES")),this._storeNonLinearDepth&&n.push("#define NONLINEARDEPTH"),this.isPacked&&n.push("#define PACKED");var c=n.join("\n");return this._cachedDefines!==c&&(this._cachedDefines=c,this._effect=this._scene.getEngine().createEffect("depth",r,["world","mBones","viewProjection","diffuseMatrix","depthValues","morphTargetInfluences"],["diffuseSampler"],c,void 0,void 0,void 0,{maxSimultaneousMorphTargets:a})),this._effect.isReady()},e.prototype.getDepthMap=function(){return this._depthMap},e.prototype.dispose=function(){this._depthMap.dispose()},e._SceneComponentInitialization=function(e){throw a.a.WarnImport("DepthRendererSceneComponent")},e}(),g=i(763),y=i(873),v=i(650),C="minmaxReduxPixelShader",E="attribute vec2 vUV;\nuniform sampler2D textureSampler;\n#if defined(INITIAL)\nuniform sampler2D sourceTexture;\nuniform vec2 texSize;\nvoid main(void)\n{\nivec2 coord=ivec2(vUV*(texSize-1.0));\nfloat f1=texelFetch(sourceTexture,coord,0).r;\nfloat f2=texelFetch(sourceTexture,coord+ivec2(1,0),0).r;\nfloat f3=texelFetch(sourceTexture,coord+ivec2(1,1),0).r;\nfloat f4=texelFetch(sourceTexture,coord+ivec2(0,1),0).r;\nfloat minz=min(min(min(f1,f2),f3),f4);\n#ifdef DEPTH_REDUX\nfloat maxz=max(max(max(sign(1.0-f1)*f1,sign(1.0-f2)*f2),sign(1.0-f3)*f3),sign(1.0-f4)*f4);\n#else\nfloat maxz=max(max(max(f1,f2),f3),f4);\n#endif\nglFragColor=vec4(minz,maxz,0.,0.);\n}\n#elif defined(MAIN)\nuniform vec2 texSize;\nvoid main(void)\n{\nivec2 coord=ivec2(vUV*(texSize-1.0));\nvec2 f1=texelFetch(textureSampler,coord,0).rg;\nvec2 f2=texelFetch(textureSampler,coord+ivec2(1,0),0).rg;\nvec2 f3=texelFetch(textureSampler,coord+ivec2(1,1),0).rg;\nvec2 f4=texelFetch(textureSampler,coord+ivec2(0,1),0).rg;\nfloat minz=min(min(min(f1.x,f2.x),f3.x),f4.x);\nfloat maxz=max(max(max(f1.y,f2.y),f3.y),f4.y);\nglFragColor=vec4(minz,maxz,0.,0.);\n}\n#elif defined(ONEBEFORELAST)\nuniform ivec2 texSize;\nvoid main(void)\n{\nivec2 coord=ivec2(vUV*vec2(texSize-1));\nvec2 f1=texelFetch(textureSampler,coord % texSize,0).rg;\nvec2 f2=texelFetch(textureSampler,(coord+ivec2(1,0)) % texSize,0).rg;\nvec2 f3=texelFetch(textureSampler,(coord+ivec2(1,1)) % texSize,0).rg;\nvec2 f4=texelFetch(textureSampler,(coord+ivec2(0,1)) % texSize,0).rg;\nfloat minz=min(f1.x,f2.x);\nfloat maxz=max(f1.y,f2.y);\nglFragColor=vec4(minz,maxz,0.,0.);\n}\n#elif defined(LAST)\nvoid main(void)\n{\ndiscard;\nglFragColor=vec4(0.);\n}\n#endif\n";d.a.ShadersStore[C]=E;var S=function(){function e(e){this.onAfterReductionPerformed=new v.a,this._forceFullscreenViewport=!0,this._activated=!1,this._camera=e,this._postProcessManager=new y.a(e.getScene())}return Object.defineProperty(e.prototype,"sourceTexture",{get:function(){return this._sourceTexture},enumerable:!1,configurable:!0}),e.prototype.setSourceTexture=function(e,t,i,n){var r=this;if(void 0===i&&(i=2),void 0===n&&(n=!0),e!==this._sourceTexture){this.dispose(!1),this._sourceTexture=e,this._reductionSteps=[],this._forceFullscreenViewport=n;var o=this._camera.getScene(),s=new g.a("Initial reduction phase","minmaxRedux",["texSize"],["sourceTexture"],1,null,1,o.getEngine(),!1,"#define INITIAL"+(t?"\n#define DEPTH_REDUX":""),i,void 0,void 0,void 0,7);s.autoClear=!1,s.forceFullscreenViewport=n;var a=this._sourceTexture.getRenderWidth(),c=this._sourceTexture.getRenderHeight();s.onApply=function(e,t){return function(i){i.setTexture("sourceTexture",r._sourceTexture),i.setFloatArray2("texSize",new Float32Array([e,t]))}}(a,c),this._reductionSteps.push(s);for(var l=1;a>1||c>1;){a=Math.max(Math.round(a/2),1),c=Math.max(Math.round(c/2),1);var _=new g.a("Reduction phase "+l,"minmaxRedux",["texSize"],null,{width:a,height:c},null,1,o.getEngine(),!1,"#define "+(1==a&&1==c?"LAST":1==a||1==c?"ONEBEFORELAST":"MAIN"),i,void 0,void 0,void 0,7);if(_.autoClear=!1,_.forceFullscreenViewport=n,_.onApply=function(e,t){return function(i){1==e||1==t?i.setIntArray2("texSize",new Int32Array([e,t])):i.setFloatArray2("texSize",new Float32Array([e,t]))}}(a,c),this._reductionSteps.push(_),l++,1==a&&1==c){var u=function(e,t,i){var n=new Float32Array(4*e*t),s={min:0,max:0};return function(){o.getEngine()._readTexturePixels(i.inputTexture,e,t,-1,0,n),s.min=n[0],s.max=n[1],r.onAfterReductionPerformed.notifyObservers(s)}};_.onAfterRenderObservable.add(u(a,c,_))}}}},Object.defineProperty(e.prototype,"refreshRate",{get:function(){return this._sourceTexture?this._sourceTexture.refreshRate:-1},set:function(e){this._sourceTexture&&(this._sourceTexture.refreshRate=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"activated",{get:function(){return this._activated},enumerable:!1,configurable:!0}),e.prototype.activate=function(){var e=this;!this._onAfterUnbindObserver&&this._sourceTexture&&(this._onAfterUnbindObserver=this._sourceTexture.onAfterUnbindObservable.add(function(){e._reductionSteps[0].activate(e._camera),e._postProcessManager.directRender(e._reductionSteps,e._reductionSteps[0].inputTexture,e._forceFullscreenViewport),e._camera.getScene().getEngine().unBindFramebuffer(e._reductionSteps[0].inputTexture,!1)}),this._activated=!0)},e.prototype.deactivate=function(){this._onAfterUnbindObserver&&this._sourceTexture&&(this._sourceTexture.onAfterUnbindObservable.remove(this._onAfterUnbindObserver),this._onAfterUnbindObserver=null,this._activated=!1)},e.prototype.dispose=function(e){if(void 0===e&&(e=!0),e&&this.onAfterReductionPerformed.clear(),this.deactivate(),this._reductionSteps){for(var t=0;t<this._reductionSteps.length;++t)this._reductionSteps[t].dispose();this._reductionSteps=null}this._postProcessManager&&e&&this._postProcessManager.dispose(),this._sourceTexture=null},e}(),T=function(e){function t(t){return e.call(this,t)||this}return Object(r.c)(t,e),Object.defineProperty(t.prototype,"depthRenderer",{get:function(){return this._depthRenderer},enumerable:!1,configurable:!0}),t.prototype.setDepthRenderer=function(t,i,n){void 0===t&&(t=null),void 0===i&&(i=2),void 0===n&&(n=!0);var r=this._camera.getScene();this._depthRenderer&&(delete r._depthRenderer[this._depthRendererId],this._depthRenderer.dispose(),this._depthRenderer=null),null===t&&(r._depthRenderer||(r._depthRenderer={}),(t=this._depthRenderer=new A(r,i,this._camera,!1)).enabled=!1,this._depthRendererId="minmax"+this._camera.id,r._depthRenderer[this._depthRendererId]=t),e.prototype.setSourceTexture.call(this,t.getDepthMap(),!0,i,n)},t.prototype.setSourceTexture=function(t,i,n,r){void 0===n&&(n=2),void 0===r&&(r=!0),e.prototype.setSourceTexture.call(this,t,i,n,r)},t.prototype.activate=function(){this._depthRenderer&&(this._depthRenderer.enabled=!0),e.prototype.activate.call(this)},t.prototype.deactivate=function(){e.prototype.deactivate.call(this),this._depthRenderer&&(this._depthRenderer.enabled=!1)},t.prototype.dispose=function(t){if(void 0===t&&(t=!0),e.prototype.dispose.call(this,t),this._depthRenderer&&t){var i=this._depthRenderer.getDepthMap().getScene();i&&delete i._depthRenderer[this._depthRendererId],this._depthRenderer.dispose(),this._depthRenderer=null}},t}(S),R=i(649),M=i(668),O=o.e.Up(),I=o.e.Zero(),x=new o.e,P=new o.e,D=new o.a,w=new o.a,L=function(e){function t(i,n,r){var o=this;if(t.IsSupported)return(o=e.call(this,i,n,r)||this).usePercentageCloserFiltering=!0,o;R.a.Error("CascadedShadowMap needs WebGL 2 support.")}return Object(r.c)(t,e),t.prototype._validateFilter=function(e){return e===n.a.FILTER_NONE||e===n.a.FILTER_PCF||e===n.a.FILTER_PCSS?e:(console.error('Unsupported filter "'+e+'"!'),n.a.FILTER_NONE)},Object.defineProperty(t.prototype,"numCascades",{get:function(){return this._numCascades},set:function(e){(e=Math.min(Math.max(e,t.MIN_CASCADES_COUNT),t.MAX_CASCADES_COUNT))!==this._numCascades&&(this._numCascades=e,this.recreateShadowMap())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"freezeShadowCastersBoundingInfo",{get:function(){return this._freezeShadowCastersBoundingInfo},set:function(e){this._freezeShadowCastersBoundingInfoObservable&&e&&(this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable),this._freezeShadowCastersBoundingInfoObservable=null),this._freezeShadowCastersBoundingInfoObservable||e||(this._freezeShadowCastersBoundingInfoObservable=this._scene.onBeforeRenderObservable.add(this._computeShadowCastersBoundingInfo.bind(this))),this._freezeShadowCastersBoundingInfo=e,e&&this._computeShadowCastersBoundingInfo()},enumerable:!1,configurable:!0}),t.prototype._computeShadowCastersBoundingInfo=function(){if(this._scbiMin.copyFromFloats(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._scbiMax.copyFromFloats(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),this._shadowMap&&this._shadowMap.renderList){for(var e=this._shadowMap.renderList,t=0;t<e.length;t++){if(r=e[t]){var i=r.getBoundingInfo().boundingBox;this._scbiMin.minimizeInPlace(i.minimumWorld),this._scbiMax.maximizeInPlace(i.maximumWorld)}}var n=this._scene.meshes;for(t=0;t<n.length;t++){var r;if((r=n[t])&&r.isVisible&&r.isEnabled&&r.receiveShadows){i=r.getBoundingInfo().boundingBox;this._scbiMin.minimizeInPlace(i.minimumWorld),this._scbiMax.maximizeInPlace(i.maximumWorld)}}}this._shadowCastersBoundingInfo.reConstruct(this._scbiMin,this._scbiMax)},Object.defineProperty(t.prototype,"shadowCastersBoundingInfo",{get:function(){return this._shadowCastersBoundingInfo},set:function(e){this._shadowCastersBoundingInfo=e},enumerable:!1,configurable:!0}),t.prototype.setMinMaxDistance=function(e,t){this._minDistance===e&&this._maxDistance===t||(e>t&&(e=0,t=1),e<0&&(e=0),t>1&&(t=1),this._minDistance=e,this._maxDistance=t,this._breaksAreDirty=!0)},Object.defineProperty(t.prototype,"minDistance",{get:function(){return this._minDistance},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"maxDistance",{get:function(){return this._maxDistance},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return t.CLASSNAME},t.prototype.getCascadeMinExtents=function(e){return e>=0&&e<this._numCascades?this._cascadeMinExtents[e]:null},t.prototype.getCascadeMaxExtents=function(e){return e>=0&&e<this._numCascades?this._cascadeMaxExtents[e]:null},Object.defineProperty(t.prototype,"shadowMaxZ",{get:function(){return this._scene&&this._scene.activeCamera?this._shadowMaxZ:0},set:function(e){this._scene&&this._scene.activeCamera?this._shadowMaxZ===e||e<this._scene.activeCamera.minZ||e>this._scene.activeCamera.maxZ||(this._shadowMaxZ=e,this._light._markMeshesAsLightDirty(),this._breaksAreDirty=!0):this._shadowMaxZ=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"debug",{get:function(){return this._debug},set:function(e){this._debug=e,this._light._markMeshesAsLightDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthClamp",{get:function(){return this._depthClamp},set:function(e){this._depthClamp=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cascadeBlendPercentage",{get:function(){return this._cascadeBlendPercentage},set:function(e){this._cascadeBlendPercentage=e,this._light._markMeshesAsLightDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lambda",{get:function(){return this._lambda},set:function(e){var t=Math.min(Math.max(e,0),1);this._lambda!=t&&(this._lambda=t,this._breaksAreDirty=!0)},enumerable:!1,configurable:!0}),t.prototype.getCascadeViewMatrix=function(e){return e>=0&&e<this._numCascades?this._viewMatrices[e]:null},t.prototype.getCascadeProjectionMatrix=function(e){return e>=0&&e<this._numCascades?this._projectionMatrices[e]:null},t.prototype.getCascadeTransformMatrix=function(e){return e>=0&&e<this._numCascades?this._transformMatrices[e]:null},t.prototype.setDepthRenderer=function(e){this._depthRenderer=e,this._depthReducer&&this._depthReducer.setDepthRenderer(this._depthRenderer)},Object.defineProperty(t.prototype,"autoCalcDepthBounds",{get:function(){return this._autoCalcDepthBounds},set:function(e){var t=this,i=this._scene.activeCamera;if(i){if(this._autoCalcDepthBounds=e,!e)return this._depthReducer&&this._depthReducer.deactivate(),void this.setMinMaxDistance(0,1);this._depthReducer||(this._depthReducer=new T(i),this._depthReducer.onAfterReductionPerformed.add(function(e){var i=e.min,n=e.max;i>=n&&(i=0,n=1),i==t._minDistance&&n==t._maxDistance||t.setMinMaxDistance(i,n)}),this._depthReducer.setDepthRenderer(this._depthRenderer)),this._depthReducer.activate()}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"autoCalcDepthBoundsRefreshRate",{get:function(){var e,t,i;return null!==(i=null===(t=null===(e=this._depthReducer)||void 0===e?void 0:e.depthRenderer)||void 0===t?void 0:t.getDepthMap().refreshRate)&&void 0!==i?i:-1},set:function(e){var t;(null===(t=this._depthReducer)||void 0===t?void 0:t.depthRenderer)&&(this._depthReducer.depthRenderer.getDepthMap().refreshRate=e)},enumerable:!1,configurable:!0}),t.prototype.splitFrustum=function(){this._breaksAreDirty=!0},t.prototype._splitFrustum=function(){var e=this._scene.activeCamera;if(e){for(var t=e.minZ,i=e.maxZ,n=i-t,r=this._minDistance,o=t+r*n,s=t+(this._shadowMaxZ<i&&this._shadowMaxZ>=t?Math.min((this._shadowMaxZ-t)/(i-t),this._maxDistance):this._maxDistance)*n,a=s-o,c=s/o,l=0;l<this._cascades.length;++l){var _=(l+1)/this._numCascades,u=o*Math.pow(c,_),f=o+a*_,d=this._lambda*(u-f)+f;this._cascades[l].prevBreakDistance=0===l?r:this._cascades[l-1].breakDistance,this._cascades[l].breakDistance=(d-t)/n,this._viewSpaceFrustumsZ[l]=t+this._cascades[l].breakDistance*n,this._frustumLengths[l]=(this._cascades[l].breakDistance-this._cascades[l].prevBreakDistance)*n}this._breaksAreDirty=!1}},t.prototype._computeMatrices=function(){if(this._scene.activeCamera){o.e.NormalizeToRef(this._light.getShadowDirection(0),this._lightDirection),1===Math.abs(o.e.Dot(this._lightDirection,o.e.Up()))&&(this._lightDirection.z=1e-13),this._cachedDirection.copyFrom(this._lightDirection);for(var e=0;e<this._numCascades;++e){this._computeFrustumInWorldSpace(e),this._computeCascadeFrustum(e),this._cascadeMaxExtents[e].subtractToRef(this._cascadeMinExtents[e],x),this._frustumCenter[e].addToRef(this._lightDirection.scale(this._cascadeMinExtents[e].z),this._shadowCameraPos[e]),o.a.LookAtLHToRef(this._shadowCameraPos[e],this._frustumCenter[e],O,this._viewMatrices[e]);var t=0,i=x.z,r=this._shadowCastersBoundingInfo;r.update(this._viewMatrices[e]),i=Math.min(i,r.boundingBox.maximumWorld.z),t=this._depthClamp&&this.filter!==n.a.FILTER_PCSS?Math.max(t,r.boundingBox.minimumWorld.z):Math.min(t,r.boundingBox.minimumWorld.z),o.a.OrthoOffCenterLHToRef(this._cascadeMinExtents[e].x,this._cascadeMaxExtents[e].x,this._cascadeMinExtents[e].y,this._cascadeMaxExtents[e].y,t,i,this._projectionMatrices[e]),this._cascadeMinExtents[e].z=t,this._cascadeMaxExtents[e].z=i,this._viewMatrices[e].multiplyToRef(this._projectionMatrices[e],this._transformMatrices[e]),o.e.TransformCoordinatesToRef(I,this._transformMatrices[e],x),x.scaleInPlace(this._mapSize/2),P.copyFromFloats(Math.round(x.x),Math.round(x.y),Math.round(x.z)),P.subtractInPlace(x).scaleInPlace(2/this._mapSize),o.a.TranslationToRef(P.x,P.y,0,D),this._projectionMatrices[e].multiplyToRef(D,this._projectionMatrices[e]),this._viewMatrices[e].multiplyToRef(this._projectionMatrices[e],this._transformMatrices[e]),this._transformMatrices[e].copyToArray(this._transformMatricesAsArray,16*e)}}},t.prototype._computeFrustumInWorldSpace=function(e){if(this._scene.activeCamera){var i=this._cascades[e].prevBreakDistance,n=this._cascades[e].breakDistance;this._scene.activeCamera.getViewMatrix();for(var r=o.a.Invert(this._scene.activeCamera.getTransformationMatrix()),s=0;s<t.frustumCornersNDCSpace.length;++s)o.e.TransformCoordinatesToRef(t.frustumCornersNDCSpace[s],r,this._frustumCornersWorldSpace[e][s]);for(s=0;s<t.frustumCornersNDCSpace.length/2;++s)x.copyFrom(this._frustumCornersWorldSpace[e][s+4]).subtractInPlace(this._frustumCornersWorldSpace[e][s]),P.copyFrom(x).scaleInPlace(i),x.scaleInPlace(n),x.addInPlace(this._frustumCornersWorldSpace[e][s]),this._frustumCornersWorldSpace[e][s+4].copyFrom(x),this._frustumCornersWorldSpace[e][s].addInPlace(P)}},t.prototype._computeCascadeFrustum=function(e){if(this._cascadeMinExtents[e].copyFromFloats(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cascadeMaxExtents[e].copyFromFloats(Number.MIN_VALUE,Number.MIN_VALUE,Number.MIN_VALUE),this._frustumCenter[e].copyFromFloats(0,0,0),this._scene.activeCamera){for(var t=0;t<this._frustumCornersWorldSpace[e].length;++t)this._frustumCenter[e].addInPlace(this._frustumCornersWorldSpace[e][t]);if(this._frustumCenter[e].scaleInPlace(1/this._frustumCornersWorldSpace[e].length),this.stabilizeCascades){var i=0;for(t=0;t<this._frustumCornersWorldSpace[e].length;++t){var n=this._frustumCornersWorldSpace[e][t].subtractToRef(this._frustumCenter[e],x).length();i=Math.max(i,n)}i=Math.ceil(16*i)/16,this._cascadeMaxExtents[e].copyFromFloats(i,i,i),this._cascadeMinExtents[e].copyFromFloats(-i,-i,-i)}else{var r=this._frustumCenter[e];this._frustumCenter[e].addToRef(this._lightDirection,x),o.a.LookAtLHToRef(r,x,O,D);for(t=0;t<this._frustumCornersWorldSpace[e].length;++t)o.e.TransformCoordinatesToRef(this._frustumCornersWorldSpace[e][t],D,x),this._cascadeMinExtents[e].minimizeInPlace(x),this._cascadeMaxExtents[e].maximizeInPlace(x)}}},Object.defineProperty(t,"IsSupported",{get:function(){var e=M.a.LastCreatedEngine;return!!e&&1!=e.webGLVersion},enumerable:!1,configurable:!0}),t.prototype._initializeGenerator=function(){var i,n,r,s,a,l,_,u,f,d,h,p,b,m,A,g,y,v,C,E;this.penumbraDarkness=null!==(i=this.penumbraDarkness)&&void 0!==i?i:1,this._numCascades=null!==(n=this._numCascades)&&void 0!==n?n:t.DEFAULT_CASCADES_COUNT,this.stabilizeCascades=null!==(r=this.stabilizeCascades)&&void 0!==r&&r,this._freezeShadowCastersBoundingInfoObservable=null!==(s=this._freezeShadowCastersBoundingInfoObservable)&&void 0!==s?s:null,this.freezeShadowCastersBoundingInfo=null!==(a=this.freezeShadowCastersBoundingInfo)&&void 0!==a&&a,this._scbiMin=null!==(l=this._scbiMin)&&void 0!==l?l:new o.e(0,0,0),this._scbiMax=null!==(_=this._scbiMax)&&void 0!==_?_:new o.e(0,0,0),this._shadowCastersBoundingInfo=null!==(u=this._shadowCastersBoundingInfo)&&void 0!==u?u:new c.a(new o.e(0,0,0),new o.e(0,0,0)),this._breaksAreDirty=null===(f=this._breaksAreDirty)||void 0===f||f,this._minDistance=null!==(d=this._minDistance)&&void 0!==d?d:0,this._maxDistance=null!==(h=this._maxDistance)&&void 0!==h?h:1,this._currentLayer=null!==(p=this._currentLayer)&&void 0!==p?p:0,this._shadowMaxZ=null!==(A=null!==(b=this._shadowMaxZ)&&void 0!==b?b:null===(m=this._scene.activeCamera)||void 0===m?void 0:m.maxZ)&&void 0!==A?A:1e4,this._debug=null!==(g=this._debug)&&void 0!==g&&g,this._depthClamp=null===(y=this._depthClamp)||void 0===y||y,this._cascadeBlendPercentage=null!==(v=this._cascadeBlendPercentage)&&void 0!==v?v:.1,this._lambda=null!==(C=this._lambda)&&void 0!==C?C:.5,this._autoCalcDepthBounds=null!==(E=this._autoCalcDepthBounds)&&void 0!==E&&E,e.prototype._initializeGenerator.call(this)},t.prototype._createTargetRenderTexture=function(){var e={width:this._mapSize,height:this._mapSize,layers:this.numCascades};this._shadowMap=new s.a(this._light.name+"_shadowMap",e,this._scene,!1,!0,this._textureType,!1,void 0,!1,!1,void 0),this._shadowMap.createDepthStencilTexture(513,!0)},t.prototype._initializeShadowMap=function(){var i=this;if(e.prototype._initializeShadowMap.call(this),null!==this._shadowMap){this._transformMatricesAsArray=new Float32Array(16*this._numCascades),this._viewSpaceFrustumsZ=new Array(this._numCascades),this._frustumLengths=new Array(this._numCascades),this._lightSizeUVCorrection=new Array(2*this._numCascades),this._depthCorrection=new Array(this._numCascades),this._cascades=[],this._viewMatrices=[],this._projectionMatrices=[],this._transformMatrices=[],this._cascadeMinExtents=[],this._cascadeMaxExtents=[],this._frustumCenter=[],this._shadowCameraPos=[],this._frustumCornersWorldSpace=[];for(var n=0;n<this._numCascades;++n){this._cascades[n]={prevBreakDistance:0,breakDistance:0},this._viewMatrices[n]=o.a.Zero(),this._projectionMatrices[n]=o.a.Zero(),this._transformMatrices[n]=o.a.Zero(),this._cascadeMinExtents[n]=new o.e,this._cascadeMaxExtents[n]=new o.e,this._frustumCenter[n]=new o.e,this._shadowCameraPos[n]=new o.e,this._frustumCornersWorldSpace[n]=new Array(t.frustumCornersNDCSpace.length);for(var r=0;r<t.frustumCornersNDCSpace.length;++r)this._frustumCornersWorldSpace[n][r]=new o.e}this._shadowMap.onBeforeRenderObservable.add(function(e){if(i._currentLayer=e,i._scene.getSceneUniformBuffer().useUbo){var t=i._scene.getSceneUniformBuffer();t.updateMatrix("viewProjection",i.getCascadeTransformMatrix(e)),t.updateMatrix("view",i.getCascadeViewMatrix(e)),t.update()}}),this._shadowMap.onBeforeBindObservable.add(function(){i._breaksAreDirty&&i._splitFrustum(),i._computeMatrices()}),this._splitFrustum()}},t.prototype._bindCustomEffectForRenderSubMeshForShadowMap=function(e,t,i,n){var r,o,s,a,c,l;t.setMatrix(null!==(r=null===i||void 0===i?void 0:i.viewProjection)&&void 0!==r?r:"viewProjection",this.getCascadeTransformMatrix(this._currentLayer)),t.setMatrix(null!==(o=null===i||void 0===i?void 0:i.view)&&void 0!==o?o:"view",this.getCascadeViewMatrix(this._currentLayer)),t.setMatrix(null!==(s=null===i||void 0===i?void 0:i.projection)&&void 0!==s?s:"projection",this.getCascadeProjectionMatrix(this._currentLayer));var _=n.getWorldMatrix();t.setMatrix(null!==(a=null===i||void 0===i?void 0:i.world)&&void 0!==a?a:"world",_),_.multiplyToRef(this.getCascadeTransformMatrix(this._currentLayer),D),t.setMatrix(null!==(c=null===i||void 0===i?void 0:i.worldViewProjection)&&void 0!==c?c:"worldViewProjection",D),_.multiplyToRef(this.getCascadeViewMatrix(this._currentLayer),w),t.setMatrix(null!==(l=null===i||void 0===i?void 0:i.worldView)&&void 0!==l?l:"worldView",w)},t.prototype._isReadyCustomDefines=function(e,t,i){e.push("#define SM_DEPTHCLAMP "+(this._depthClamp&&this._filter!==n.a.FILTER_PCSS?"1":"0"))},t.prototype.prepareDefines=function(t,i){e.prototype.prepareDefines.call(this,t,i);var n=this._scene,r=this._light;if(n.shadowsEnabled&&r.shadowEnabled){t["SHADOWCSM"+i]=!0,t["SHADOWCSMDEBUG"+i]=this.debug,t["SHADOWCSMNUM_CASCADES"+i]=this.numCascades,t["SHADOWCSM_RIGHTHANDED"+i]=n.useRightHandedSystem;var o=n.activeCamera;o&&this._shadowMaxZ<o.maxZ&&(t["SHADOWCSMUSESHADOWMAXZ"+i]=!0),0===this.cascadeBlendPercentage&&(t["SHADOWCSMNOBLEND"+i]=!0)}},t.prototype.bindShadowLight=function(e,t){var i=this._light,r=this._scene;if(r.shadowsEnabled&&i.shadowEnabled){var o=r.activeCamera;if(o){var s=this.getShadowMap();if(s){var a=s.getSize().width;if(t.setMatrices("lightMatrix"+e,this._transformMatricesAsArray),t.setArray("viewFrustumZ"+e,this._viewSpaceFrustumsZ),t.setFloat("cascadeBlendFactor"+e,0===this.cascadeBlendPercentage?1e4:1/this.cascadeBlendPercentage),t.setArray("frustumLengths"+e,this._frustumLengths),this._filter===n.a.FILTER_PCF)t.setDepthStencilTexture("shadowSampler"+e,s),i._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),a,1/a,this.frustumEdgeFalloff,e);else if(this._filter===n.a.FILTER_PCSS){for(var c=0;c<this._numCascades;++c)this._lightSizeUVCorrection[2*c+0]=0===c?1:(this._cascadeMaxExtents[0].x-this._cascadeMinExtents[0].x)/(this._cascadeMaxExtents[c].x-this._cascadeMinExtents[c].x),this._lightSizeUVCorrection[2*c+1]=0===c?1:(this._cascadeMaxExtents[0].y-this._cascadeMinExtents[0].y)/(this._cascadeMaxExtents[c].y-this._cascadeMinExtents[c].y),this._depthCorrection[c]=0===c?1:(this._cascadeMaxExtents[c].z-this._cascadeMinExtents[c].z)/(this._cascadeMaxExtents[0].z-this._cascadeMinExtents[0].z);t.setDepthStencilTexture("shadowSampler"+e,s),t.setTexture("depthSampler"+e,s),t.setArray2("lightSizeUVCorrection"+e,this._lightSizeUVCorrection),t.setArray("depthCorrection"+e,this._depthCorrection),t.setFloat("penumbraDarkness"+e,this.penumbraDarkness),i._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),1/a,this._contactHardeningLightSizeUVRatio*a,this.frustumEdgeFalloff,e)}else t.setTexture("shadowSampler"+e,s),i._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),a,1/a,this.frustumEdgeFalloff,e);i._uniformBuffer.updateFloat2("depthValues",this.getLight().getDepthMinZ(o),this.getLight().getDepthMinZ(o)+this.getLight().getDepthMaxZ(o),e)}}}},t.prototype.getTransformMatrix=function(){return this.getCascadeTransformMatrix(0)},t.prototype.dispose=function(){e.prototype.dispose.call(this),this._freezeShadowCastersBoundingInfoObservable&&(this._scene.onBeforeRenderObservable.remove(this._freezeShadowCastersBoundingInfoObservable),this._freezeShadowCastersBoundingInfoObservable=null),this._depthReducer&&(this._depthReducer.dispose(),this._depthReducer=null)},t.prototype.serialize=function(){var t=e.prototype.serialize.call(this),i=this.getShadowMap();if(!i)return t;if(t.numCascades=this._numCascades,t.debug=this._debug,t.stabilizeCascades=this.stabilizeCascades,t.lambda=this._lambda,t.cascadeBlendPercentage=this.cascadeBlendPercentage,t.depthClamp=this._depthClamp,t.autoCalcDepthBounds=this.autoCalcDepthBounds,t.shadowMaxZ=this._shadowMaxZ,t.penumbraDarkness=this.penumbraDarkness,t.freezeShadowCastersBoundingInfo=this._freezeShadowCastersBoundingInfo,t.minDistance=this.minDistance,t.maxDistance=this.maxDistance,t.renderList=[],i.renderList)for(var n=0;n<i.renderList.length;n++){var r=i.renderList[n];t.renderList.push(r.id)}return t},t.Parse=function(e,i){var r=n.a.Parse(e,i,function(e,i){return new t(e,i)});return void 0!==e.numCascades&&(r.numCascades=e.numCascades),void 0!==e.debug&&(r.debug=e.debug),void 0!==e.stabilizeCascades&&(r.stabilizeCascades=e.stabilizeCascades),void 0!==e.lambda&&(r.lambda=e.lambda),void 0!==e.cascadeBlendPercentage&&(r.cascadeBlendPercentage=e.cascadeBlendPercentage),void 0!==e.depthClamp&&(r.depthClamp=e.depthClamp),void 0!==e.autoCalcDepthBounds&&(r.autoCalcDepthBounds=e.autoCalcDepthBounds),void 0!==e.shadowMaxZ&&(r.shadowMaxZ=e.shadowMaxZ),void 0!==e.penumbraDarkness&&(r.penumbraDarkness=e.penumbraDarkness),void 0!==e.freezeShadowCastersBoundingInfo&&(r.freezeShadowCastersBoundingInfo=e.freezeShadowCastersBoundingInfo),void 0!==e.minDistance&&void 0!==e.maxDistance&&r.setMinMaxDistance(e.minDistance,e.maxDistance),r},t.frustumCornersNDCSpace=[new o.e(-1,1,-1),new o.e(1,1,-1),new o.e(1,-1,-1),new o.e(-1,-1,-1),new o.e(-1,1,1),new o.e(1,1,1),new o.e(1,-1,1),new o.e(-1,-1,1)],t.CLASSNAME="CascadedShadowGenerator",t.DEFAULT_CASCADES_COUNT=4,t.MIN_CASCADES_COUNT=2,t.MAX_CASCADES_COUNT=4,t._SceneComponentInitialization=function(e){throw a.a.WarnImport("ShadowGeneratorSceneComponent")},t}(n.a),F=i(805);i(871).a.AddParser(F.a.NAME_SHADOWGENERATOR,function(e,t){if(void 0!==e.shadowGenerators&&null!==e.shadowGenerators)for(var i=0,r=e.shadowGenerators.length;i<r;i++){var o=e.shadowGenerators[i];o.className===L.CLASSNAME?L.Parse(o,t):n.a.Parse(o,t)}});var N=function(){function e(e){this.name=F.a.NAME_SHADOWGENERATOR,this.scene=e}return e.prototype.register=function(){this.scene._gatherRenderTargetsStage.registerStep(F.a.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR,this,this._gatherRenderTargets)},e.prototype.rebuild=function(){},e.prototype.serialize=function(e){e.shadowGenerators=[];for(var t=0,i=this.scene.lights;t<i.length;t++){var n=i[t].getShadowGenerator();n&&e.shadowGenerators.push(n.serialize())}},e.prototype.addFromContainer=function(e){},e.prototype.removeFromContainer=function(e,t){},e.prototype.dispose=function(){},e.prototype._gatherRenderTargets=function(e){var t=this.scene;if(this.scene.shadowsEnabled)for(var i=0;i<t.lights.length;i++){var n=t.lights[i],r=n.getShadowGenerator();if(n.isEnabled()&&n.shadowEnabled&&r){var o=r.getShadowMap();-1!==t.textures.indexOf(o)&&e.push(o)}}},e}();n.a._SceneComponentInitialization=function(e){var t=e._getComponent(F.a.NAME_SHADOWGENERATOR);t||(t=new N(e),e._addComponent(t))}},1043:function(e,t,i){"use strict";var n=i(644),r=i(30),o=i(244),s=i(650),a=i(105),c=function(){function e(e,t){this.triggerOptions=e,this.onBeforeExecuteObservable=new s.a,e.parameter?(this.trigger=e.trigger,this._triggerParameter=e.parameter):e.trigger?this.trigger=e.trigger:this.trigger=e,this._nextActiveAction=this,this._condition=t}return e.prototype._prepare=function(){},e.prototype.getTriggerParameter=function(){return this._triggerParameter},e.prototype._executeCurrent=function(e){if(this._nextActiveAction._condition){var t=this._nextActiveAction._condition,i=this._actionManager.getScene().getRenderId();if(t._evaluationId===i){if(!t._currentResult)return}else{if(t._evaluationId=i,!t.isValid())return void(t._currentResult=!1);t._currentResult=!0}}this.onBeforeExecuteObservable.notifyObservers(this),this._nextActiveAction.execute(e),this.skipToNextActiveAction()},e.prototype.execute=function(e){},e.prototype.skipToNextActiveAction=function(){this._nextActiveAction._child?(this._nextActiveAction._child._actionManager||(this._nextActiveAction._child._actionManager=this._actionManager),this._nextActiveAction=this._nextActiveAction._child):this._nextActiveAction=this},e.prototype.then=function(e){return this._child=e,e._actionManager=this._actionManager,e._prepare(),e},e.prototype._getProperty=function(e){return this._actionManager._getProperty(e)},e.prototype._getEffectiveTarget=function(e,t){return this._actionManager._getEffectiveTarget(e,t)},e.prototype.serialize=function(e){},e.prototype._serialize=function(e,t){var i={type:1,children:[],name:e.name,properties:e.properties||[]};if(this._child&&this._child.serialize(i),this._condition){var n=this._condition.serialize();return n.children.push(i),t&&t.children.push(n),n}return t&&t.children.push(i),i},e._SerializeValueAsString=function(e){return"number"===typeof e?e.toString():"boolean"===typeof e?e?"true":"false":e instanceof r.d?e.x+", "+e.y:e instanceof r.e?e.x+", "+e.y+", "+e.z:e instanceof o.a?e.r+", "+e.g+", "+e.b:e instanceof o.b?e.r+", "+e.g+", "+e.b+", "+e.a:e},e._GetTargetProperty=function(e){return{name:"target",targetType:e._isMesh?"MeshProperties":e._isLight?"LightProperties":e._isCamera?"CameraProperties":"SceneProperties",value:e._isScene?"Scene":e.name}},e}();a.a.RegisteredTypes["BABYLON.Action"]=c;var l=function(){function e(e){this._actionManager=e}return e.prototype.isValid=function(){return!0},e.prototype._getProperty=function(e){return this._actionManager._getProperty(e)},e.prototype._getEffectiveTarget=function(e,t){return this._actionManager._getEffectiveTarget(e,t)},e.prototype.serialize=function(){},e.prototype._serialize=function(e){return{type:2,children:[],name:e.name,properties:e.properties}},e}(),_=function(e){function t(i,n,r,o,s){void 0===s&&(s=t.IsEqual);var a=e.call(this,i)||this;return a.propertyPath=r,a.value=o,a.operator=s,a._target=n,a._effectiveTarget=a._getEffectiveTarget(n,a.propertyPath),a._property=a._getProperty(a.propertyPath),a}return Object(n.c)(t,e),Object.defineProperty(t,"IsEqual",{get:function(){return t._IsEqual},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsDifferent",{get:function(){return t._IsDifferent},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsGreater",{get:function(){return t._IsGreater},enumerable:!1,configurable:!0}),Object.defineProperty(t,"IsLesser",{get:function(){return t._IsLesser},enumerable:!1,configurable:!0}),t.prototype.isValid=function(){switch(this.operator){case t.IsGreater:return this._effectiveTarget[this._property]>this.value;case t.IsLesser:return this._effectiveTarget[this._property]<this.value;case t.IsEqual:case t.IsDifferent:var e;return e=this.value.equals?this.value.equals(this._effectiveTarget[this._property]):this.value===this._effectiveTarget[this._property],this.operator===t.IsEqual?e:!e}return!1},t.prototype.serialize=function(){return this._serialize({name:"ValueCondition",properties:[c._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:c._SerializeValueAsString(this.value)},{name:"operator",value:t.GetOperatorName(this.operator)}]})},t.GetOperatorName=function(e){switch(e){case t._IsEqual:return"IsEqual";case t._IsDifferent:return"IsDifferent";case t._IsGreater:return"IsGreater";case t._IsLesser:return"IsLesser";default:return""}},t._IsEqual=0,t._IsDifferent=1,t._IsGreater=2,t._IsLesser=3,t}(l),u=function(e){function t(t,i){var n=e.call(this,t)||this;return n.predicate=i,n}return Object(n.c)(t,e),t.prototype.isValid=function(){return this.predicate()},t}(l),f=function(e){function t(t,i,n){var r=e.call(this,t)||this;return r.value=n,r._target=i,r}return Object(n.c)(t,e),t.prototype.isValid=function(){return this._target.state===this.value},t.prototype.serialize=function(){return this._serialize({name:"StateCondition",properties:[c._GetTargetProperty(this._target),{name:"value",value:this.value}]})},t}(l);a.a.RegisteredTypes["BABYLON.ValueCondition"]=_,a.a.RegisteredTypes["BABYLON.PredicateCondition"]=u,a.a.RegisteredTypes["BABYLON.StateCondition"]=f;var d=i(649),h=(function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o.propertyPath=n,o._target=o._effectiveTarget=i,o}Object(n.c)(t,e),t.prototype._prepare=function(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath)},t.prototype.execute=function(){this._effectiveTarget[this._property]=!this._effectiveTarget[this._property]},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"SwitchBooleanAction",properties:[c._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath}]},t)}}(c),function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o.value=n,o._target=i,o}return Object(n.c)(t,e),t.prototype.execute=function(){this._target.state=this.value},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"SetStateAction",properties:[c._GetTargetProperty(this._target),{name:"value",value:this.value}]},t)},t}(c)),p=function(e){function t(t,i,n,r,o){var s=e.call(this,t,o)||this;return s.propertyPath=n,s.value=r,s._target=s._effectiveTarget=i,s}return Object(n.c)(t,e),t.prototype._prepare=function(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath)},t.prototype.execute=function(){this._effectiveTarget[this._property]=this.value,this._target.markAsDirty&&this._target.markAsDirty(this._property)},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"SetValueAction",properties:[c._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:c._SerializeValueAsString(this.value)}]},t)},t}(c),b=function(e){function t(t,i,n,r,o){var s=e.call(this,t,o)||this;return s.propertyPath=n,s.value=r,s._target=s._effectiveTarget=i,s}return Object(n.c)(t,e),t.prototype._prepare=function(){this._effectiveTarget=this._getEffectiveTarget(this._effectiveTarget,this.propertyPath),this._property=this._getProperty(this.propertyPath),"number"!==typeof this._effectiveTarget[this._property]&&d.a.Warn("Warning: IncrementValueAction can only be used with number values")},t.prototype.execute=function(){this._effectiveTarget[this._property]+=this.value,this._target.markAsDirty&&this._target.markAsDirty(this._property)},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"IncrementValueAction",properties:[c._GetTargetProperty(this._target),{name:"propertyPath",value:this.propertyPath},{name:"value",value:c._SerializeValueAsString(this.value)}]},t)},t}(c),m=function(e){function t(t,i,n,r,o,s){var a=e.call(this,t,s)||this;return a.from=n,a.to=r,a.loop=o,a._target=i,a}return Object(n.c)(t,e),t.prototype._prepare=function(){},t.prototype.execute=function(){this._actionManager.getScene().beginAnimation(this._target,this.from,this.to,this.loop)},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"PlayAnimationAction",properties:[c._GetTargetProperty(this._target),{name:"from",value:String(this.from)},{name:"to",value:String(this.to)},{name:"loop",value:c._SerializeValueAsString(this.loop)||!1}]},t)},t}(c),A=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._target=i,r}return Object(n.c)(t,e),t.prototype._prepare=function(){},t.prototype.execute=function(){this._actionManager.getScene().stopAnimation(this._target)},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"StopAnimationAction",properties:[c._GetTargetProperty(this._target)]},t)},t}(c),g=function(e){function t(t,i){return void 0===t&&(t=0),e.call(this,t,i)||this}return Object(n.c)(t,e),t.prototype.execute=function(){},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"DoNothingAction",properties:[]},t)},t}(c),y=(function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r.children=i,r}Object(n.c)(t,e),t.prototype._prepare=function(){for(var e=0;e<this.children.length;e++)this.children[e]._actionManager=this._actionManager,this.children[e]._prepare()},t.prototype.execute=function(e){for(var t=0;t<this.children.length;t++)this.children[t].execute(e)},t.prototype.serialize=function(t){for(var i=e.prototype._serialize.call(this,{name:"CombineAction",properties:[],combine:[]},t),n=0;n<this.children.length;n++)i.combine.push(this.children[n].serialize(null));return i}}(c),function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r.func=i,r}return Object(n.c)(t,e),t.prototype.execute=function(e){this.func(e)},t}(c)),v=function(e){function t(t,i,n,r){var o=e.call(this,t,r)||this;return o._target=i,o._parent=n,o}return Object(n.c)(t,e),t.prototype._prepare=function(){},t.prototype.execute=function(){if(this._target.parent!==this._parent){var e=this._parent.getWorldMatrix().clone();e.invert(),this._target.position=r.e.TransformCoordinates(this._target.position,e),this._target.parent=this._parent}},t.prototype.serialize=function(t){return e.prototype._serialize.call(this,{name:"SetParentAction",properties:[c._GetTargetProperty(this._target),c._GetTargetProperty(this._parent)]},t)},t}(c);a.a.RegisteredTypes["BABYLON.SetParentAction"]=v,a.a.RegisteredTypes["BABYLON.ExecuteCodeAction"]=y,a.a.RegisteredTypes["BABYLON.DoNothingAction"]=g,a.a.RegisteredTypes["BABYLON.StopAnimationAction"]=A,a.a.RegisteredTypes["BABYLON.PlayAnimationAction"]=m,a.a.RegisteredTypes["BABYLON.IncrementValueAction"]=b,a.a.RegisteredTypes["BABYLON.SetValueAction"]=p,a.a.RegisteredTypes["BABYLON.SetStateAction"]=h,a.a.RegisteredTypes["BABYLON.SetParentAction"]=v;var C=i(668),E=i(754);!function(e){function t(t){var i=e.call(this)||this;return i._scene=t||C.a.LastCreatedScene,t.actionManagers.push(i),i}Object(n.c)(t,e),t.prototype.dispose=function(){for(var e=this._scene.actionManagers.indexOf(this),i=0;i<this.actions.length;i++){var n=this.actions[i];t.Triggers[n.trigger]--,0===t.Triggers[n.trigger]&&delete t.Triggers[n.trigger]}e>-1&&this._scene.actionManagers.splice(e,1)},t.prototype.getScene=function(){return this._scene},t.prototype.hasSpecificTriggers=function(e){for(var t=0;t<this.actions.length;t++){var i=this.actions[t];if(e.indexOf(i.trigger)>-1)return!0}return!1},t.prototype.hasSpecificTriggers2=function(e,t){for(var i=0;i<this.actions.length;i++){var n=this.actions[i];if(e==n.trigger||t==n.trigger)return!0}return!1},t.prototype.hasSpecificTrigger=function(e,t){for(var i=0;i<this.actions.length;i++){var n=this.actions[i];if(n.trigger===e){if(!t)return!0;if(t(n.getTriggerParameter()))return!0}}return!1},Object.defineProperty(t.prototype,"hasPointerTriggers",{get:function(){for(var e=0;e<this.actions.length;e++){var i=this.actions[e];if(i.trigger>=t.OnPickTrigger&&i.trigger<=t.OnPointerOutTrigger)return!0}return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasPickTriggers",{get:function(){for(var e=0;e<this.actions.length;e++){var i=this.actions[e];if(i.trigger>=t.OnPickTrigger&&i.trigger<=t.OnPickUpTrigger)return!0}return!1},enumerable:!1,configurable:!0}),t.prototype.registerAction=function(e){return e.trigger===t.OnEveryFrameTrigger&&this.getScene().actionManager!==this?(d.a.Warn("OnEveryFrameTrigger can only be used with scene.actionManager"),null):(this.actions.push(e),t.Triggers[e.trigger]?t.Triggers[e.trigger]++:t.Triggers[e.trigger]=1,e._actionManager=this,e._prepare(),e)},t.prototype.unregisterAction=function(e){var i=this.actions.indexOf(e);return-1!==i&&(this.actions.splice(i,1),t.Triggers[e.trigger]-=1,0===t.Triggers[e.trigger]&&delete t.Triggers[e.trigger],e._actionManager=null,!0)},t.prototype.processTrigger=function(e,i){for(var n=0;n<this.actions.length;n++){var r=this.actions[n];if(r.trigger===e){if(i&&(e===t.OnKeyUpTrigger||e===t.OnKeyDownTrigger)){var o=r.getTriggerParameter();if(o&&o!==i.sourceEvent.keyCode){if(!o.toLowerCase)continue;var s=o.toLowerCase();if(s!==i.sourceEvent.key){var a=i.sourceEvent.charCode?i.sourceEvent.charCode:i.sourceEvent.keyCode;if(String.fromCharCode(a).toLowerCase()!==s)continue}}}r._executeCurrent(i)}}},t.prototype._getEffectiveTarget=function(e,t){for(var i=t.split("."),n=0;n<i.length-1;n++)e=e[i[n]];return e},t.prototype._getProperty=function(e){var t=e.split(".");return t[t.length-1]},t.prototype.serialize=function(e){for(var i={children:new Array,name:e,type:3,properties:new Array},n=0;n<this.actions.length;n++){var r={type:0,children:new Array,name:t.GetTriggerName(this.actions[n].trigger),properties:new Array},o=this.actions[n].triggerOptions;if(o&&"number"!==typeof o)if(o.parameter instanceof Node)r.properties.push(c._GetTargetProperty(o.parameter));else{var s={};E.a.DeepCopy(o.parameter,s,["mesh"]),o.parameter&&o.parameter.mesh&&(s._meshId=o.parameter.mesh.id),r.properties.push({name:"parameter",targetType:null,value:s})}this.actions[n].serialize(r),i.children.push(r)}return i},t.Parse=function(e,i,n){var s=new t(n);null===i?n.actionManager=s:i.actionManager=s;for(var c=function(e,t,i,n){if(null===n){var s=parseFloat(t);return"true"===t||"false"===t?"true"===t:isNaN(s)?t:s}for(var a=n.split("."),c=t.split(","),l=0;l<a.length;l++)i=i[a[l]];if("boolean"===typeof i)return"true"===c[0];if("string"===typeof i)return c[0];var _=new Array;for(l=0;l<c.length;l++)_.push(parseFloat(c[l]));return i instanceof r.e?r.e.FromArray(_):i instanceof r.f?r.f.FromArray(_):i instanceof o.a?o.a.FromArray(_):i instanceof o.b?o.b.FromArray(_):parseFloat(c[0])},u=function e(i,r,o,u,f){if(void 0===f&&(f=null),!i.detached){var d=new Array,h=null,p=null,b=i.combine&&i.combine.length>0;if(2===i.type?d.push(s):d.push(r),b){for(var m=new Array,A=0;A<i.combine.length;A++)e(i.combine[A],t.NothingTrigger,o,u,m);d.push(m)}else for(var y=0;y<i.properties.length;y++){var v=i.properties[y].value,C=i.properties[y].name,E=i.properties[y].targetType;"target"===C?v=h=null!==E&&"SceneProperties"===E?n:n.getNodeByName(v):"parent"===C?v=n.getNodeByName(v):"sound"===C?n.getSoundByName&&(v=n.getSoundByName(v)):"propertyPath"!==C?v=2===i.type&&"operator"===C?_[v]:c(0,v,h,"value"===C?p:null):p=v,d.push(v)}if(null===f?d.push(o):d.push(null),"InterpolateValueAction"===i.name){var S=d[d.length-2];d[d.length-1]=S,d[d.length-2]=o}var T=function(e,t){var i=a.a.GetClass("BABYLON."+e);if(i){var n=Object.create(i.prototype);return n.constructor.apply(n,t),n}}(i.name,d);if(T instanceof l&&null!==o){var R=new g(r,o);u?u.then(R):s.registerAction(R),u=R}null===f?T instanceof l?(o=T,T=u):(o=null,u?u.then(T):s.registerAction(T)):f.push(T);for(y=0;y<i.children.length;y++)e(i.children[y],r,o,T,null)}},f=0;f<e.children.length;f++){var d,h=e.children[f];if(h.properties.length>0){var p=h.properties[0].value,b=null===h.properties[0].targetType?p:n.getMeshByName(p);b._meshId&&(b.mesh=n.getMeshByID(b._meshId)),d={trigger:t[h.name],parameter:b}}else d=t[h.name];for(var m=0;m<h.children.length;m++)h.detached||u(h.children[m],d,null,null)}},t.GetTriggerName=function(e){switch(e){case 0:return"NothingTrigger";case 1:return"OnPickTrigger";case 2:return"OnLeftPickTrigger";case 3:return"OnRightPickTrigger";case 4:return"OnCenterPickTrigger";case 5:return"OnPickDownTrigger";case 6:return"OnPickUpTrigger";case 7:return"OnLongPressTrigger";case 8:return"OnPointerOverTrigger";case 9:return"OnPointerOutTrigger";case 10:return"OnEveryFrameTrigger";case 11:return"OnIntersectionEnterTrigger";case 12:return"OnIntersectionExitTrigger";case 13:return"OnKeyDownTrigger";case 14:return"OnKeyUpTrigger";case 15:return"OnPickOutTrigger";default:return""}},t.NothingTrigger=0,t.OnPickTrigger=1,t.OnLeftPickTrigger=2,t.OnRightPickTrigger=3,t.OnCenterPickTrigger=4,t.OnPickDownTrigger=5,t.OnDoublePickTrigger=6,t.OnPickUpTrigger=7,t.OnPickOutTrigger=16,t.OnLongPressTrigger=8,t.OnPointerOverTrigger=9,t.OnPointerOutTrigger=10,t.OnEveryFrameTrigger=11,t.OnIntersectionEnterTrigger=12,t.OnIntersectionExitTrigger=13,t.OnKeyDownTrigger=14,t.OnKeyUpTrigger=15}(i(944).a)},1044:function(e,t,i){"use strict";var n=i(649),r=i(650),o=i(735),s=i(805),a=i(695),c=i(30),l=i(667),_=function(){function e(t,i){if(void 0===i&&(i=e.DefaultPluginFactory()),this._physicsPlugin=i,this._impostors=[],this._joints=[],this._subTimeStep=0,!this._physicsPlugin.isSupported())throw new Error("Physics Engine "+this._physicsPlugin.name+" cannot be found. Please make sure it is included.");t=t||new c.e(0,-9.807,0),this.setGravity(t),this.setTimeStep()}return e.DefaultPluginFactory=function(){throw l.a.WarnImport("CannonJSPlugin")},e.prototype.setGravity=function(e){this.gravity=e,this._physicsPlugin.setGravity(this.gravity)},e.prototype.setTimeStep=function(e){void 0===e&&(e=1/60),this._physicsPlugin.setTimeStep(e)},e.prototype.getTimeStep=function(){return this._physicsPlugin.getTimeStep()},e.prototype.setSubTimeStep=function(e){void 0===e&&(e=0),this._subTimeStep=e},e.prototype.getSubTimeStep=function(){return this._subTimeStep},e.prototype.dispose=function(){this._impostors.forEach(function(e){e.dispose()}),this._physicsPlugin.dispose()},e.prototype.getPhysicsPluginName=function(){return this._physicsPlugin.name},e.prototype.addImpostor=function(e){e.uniqueId=this._impostors.push(e),e.parent||this._physicsPlugin.generatePhysicsBody(e)},e.prototype.removeImpostor=function(e){var t=this._impostors.indexOf(e);t>-1&&(this._impostors.splice(t,1).length&&this.getPhysicsPlugin().removePhysicsBody(e))},e.prototype.addJoint=function(e,t,i){var n={mainImpostor:e,connectedImpostor:t,joint:i};i.physicsPlugin=this._physicsPlugin,this._joints.push(n),this._physicsPlugin.generateJoint(n)},e.prototype.removeJoint=function(e,t,i){var n=this._joints.filter(function(n){return n.connectedImpostor===t&&n.joint===i&&n.mainImpostor===e});n.length&&this._physicsPlugin.removeJoint(n[0])},e.prototype._step=function(e){var t=this;this._impostors.forEach(function(e){e.isBodyInitRequired()&&t._physicsPlugin.generatePhysicsBody(e)}),e>.1?e=.1:e<=0&&(e=1/60),this._physicsPlugin.executeStep(e,this._impostors)},e.prototype.getPhysicsPlugin=function(){return this._physicsPlugin},e.prototype.getImpostors=function(){return this._impostors},e.prototype.getImpostorForPhysicsObject=function(e){for(var t=0;t<this._impostors.length;++t)if(this._impostors[t].object===e)return this._impostors[t];return null},e.prototype.getImpostorWithPhysicsBody=function(e){for(var t=0;t<this._impostors.length;++t)if(this._impostors[t].physicsBody===e)return this._impostors[t];return null},e.prototype.raycast=function(e,t){return this._physicsPlugin.raycast(e,t)},e.Epsilon=.001,e}(),u=i(878);a.a.prototype.getPhysicsEngine=function(){return this._physicsEngine},a.a.prototype.enablePhysics=function(e,t){if(void 0===e&&(e=null),this._physicsEngine)return!0;var i=this._getComponent(s.a.NAME_PHYSICSENGINE);i||(i=new f(this),this._addComponent(i));try{return this._physicsEngine=new _(e,t),this._physicsTimeAccumulator=0,!0}catch(r){return n.a.Error(r.message),!1}},a.a.prototype.disablePhysicsEngine=function(){this._physicsEngine&&(this._physicsEngine.dispose(),this._physicsEngine=null)},a.a.prototype.isPhysicsEnabled=function(){return void 0!==this._physicsEngine},a.a.prototype.deleteCompoundImpostor=function(e){var t=e.parts[0].mesh;t.physicsImpostor&&(t.physicsImpostor.dispose(),t.physicsImpostor=null)},a.a.prototype._advancePhysicsEngineStep=function(e){if(this._physicsEngine){var t=this._physicsEngine.getSubTimeStep();if(t>0)for(this._physicsTimeAccumulator+=e;this._physicsTimeAccumulator>t;)this.onBeforePhysicsObservable.notifyObservers(this),this._physicsEngine._step(t/1e3),this.onAfterPhysicsObservable.notifyObservers(this),this._physicsTimeAccumulator-=t;else this.onBeforePhysicsObservable.notifyObservers(this),this._physicsEngine._step(e/1e3),this.onAfterPhysicsObservable.notifyObservers(this)}},Object.defineProperty(o.a.prototype,"physicsImpostor",{get:function(){return this._physicsImpostor},set:function(e){var t=this;this._physicsImpostor!==e&&(this._disposePhysicsObserver&&this.onDisposeObservable.remove(this._disposePhysicsObserver),this._physicsImpostor=e,e&&(this._disposePhysicsObserver=this.onDisposeObservable.add(function(){t.physicsImpostor&&(t.physicsImpostor.dispose(),t.physicsImpostor=null)})))},enumerable:!0,configurable:!0}),o.a.prototype.getPhysicsImpostor=function(){return this.physicsImpostor},o.a.prototype.applyImpulse=function(e,t){return this.physicsImpostor?(this.physicsImpostor.applyImpulse(e,t),this):this},o.a.prototype.setPhysicsLinkWith=function(e,t,i,n){return this.physicsImpostor&&e.physicsImpostor?(this.physicsImpostor.createJoint(e.physicsImpostor,u.a.HingeJoint,{mainPivot:t,connectedPivot:i,nativeParams:n}),this):this};var f=function(){function e(e){var t=this;this.name=s.a.NAME_PHYSICSENGINE,this.scene=e,this.scene.onBeforePhysicsObservable=new r.a,this.scene.onAfterPhysicsObservable=new r.a,this.scene.getDeterministicFrameTime=function(){return t.scene._physicsEngine?1e3*t.scene._physicsEngine.getTimeStep():1e3/60}}return e.prototype.register=function(){},e.prototype.rebuild=function(){},e.prototype.dispose=function(){this.scene.onBeforePhysicsObservable.clear(),this.scene.onAfterPhysicsObservable.clear(),this.scene._physicsEngine&&this.scene.disablePhysicsEngine()},e}()},1045:function(e,t,i){"use strict";var n=i(760),r=i(690),o=i(37),s=i(703),a=i(649),c=i(952),l=i(762),_=(i(949),i(685)),u=131072,f=131072;function d(e){return e.charCodeAt(0)+(e.charCodeAt(1)<<8)+(e.charCodeAt(2)<<16)+(e.charCodeAt(3)<<24)}var h=d("DXT1"),p=d("DXT3"),b=d("DXT5"),m=d("DX10"),A=function(){function e(){}return e.GetDDSInfo=function(e){var t=new Int32Array(e.buffer,e.byteOffset,31),i=new Int32Array(e.buffer,e.byteOffset,35),n=1;t[2]&u&&(n=Math.max(1,t[7]));var r=t[21],o=r===m?i[32]:0,s=0;switch(r){case 113:s=2;break;case 116:s=1;break;case m:if(10===o){s=2;break}if(2===o){s=1;break}}return{width:t[4],height:t[3],mipmapCount:n,isFourCC:4===(4&t[20]),isRGB:64===(64&t[20]),isLuminance:(t[20]&f)===f,isCube:512===(512&t[28]),isCompressed:r===h||r===p||r===b,dxgiFormat:o,textureType:s}},e._ToHalfFloat=function(t){e._FloatView||(e._FloatView=new Float32Array(1),e._Int32View=new Int32Array(e._FloatView.buffer)),e._FloatView[0]=t;var i=e._Int32View[0],n=i>>16&32768,r=i>>12&2047,o=i>>23&255;return o<103?n:o>142?(n|=31744,n|=(255==o?0:1)&&8388607&i):o<113?n|=((r|=2048)>>114-o)+(r>>113-o&1):(n|=o-112<<10|r>>1,n+=1&r)},e._FromHalfFloat=function(e){var t=(32768&e)>>15,i=(31744&e)>>10,n=1023&e;return 0===i?(t?-1:1)*Math.pow(2,-14)*(n/Math.pow(2,10)):31==i?n?NaN:1/0*(t?-1:1):(t?-1:1)*Math.pow(2,i-15)*(1+n/Math.pow(2,10))},e._GetHalfFloatAsFloatRGBAArrayBuffer=function(t,i,n,r,o,s){for(var a=new Float32Array(r),c=new Uint16Array(o,n),l=0,_=0;_<i;_++)for(var u=0;u<t;u++){var f=4*(u+_*t);a[l]=e._FromHalfFloat(c[f]),a[l+1]=e._FromHalfFloat(c[f+1]),a[l+2]=e._FromHalfFloat(c[f+2]),e.StoreLODInAlphaChannel?a[l+3]=s:a[l+3]=e._FromHalfFloat(c[f+3]),l+=4}return a},e._GetHalfFloatRGBAArrayBuffer=function(t,i,n,r,o,s){if(e.StoreLODInAlphaChannel){for(var a=new Uint16Array(r),c=new Uint16Array(o,n),l=0,_=0;_<i;_++)for(var u=0;u<t;u++){var f=4*(u+_*t);a[l]=c[f],a[l+1]=c[f+1],a[l+2]=c[f+2],a[l+3]=e._ToHalfFloat(s),l+=4}return a}return new Uint16Array(o,n,r)},e._GetFloatRGBAArrayBuffer=function(t,i,n,r,o,s){if(e.StoreLODInAlphaChannel){for(var a=new Float32Array(r),c=new Float32Array(o,n),l=0,_=0;_<i;_++)for(var u=0;u<t;u++){var f=4*(u+_*t);a[l]=c[f],a[l+1]=c[f+1],a[l+2]=c[f+2],a[l+3]=s,l+=4}return a}return new Float32Array(o,n,r)},e._GetFloatAsUIntRGBAArrayBuffer=function(t,i,n,r,s,a){for(var c=new Uint8Array(r),l=new Float32Array(s,n),_=0,u=0;u<i;u++)for(var f=0;f<t;f++){var d=4*(f+u*t);c[_]=255*o.a.Clamp(l[d]),c[_+1]=255*o.a.Clamp(l[d+1]),c[_+2]=255*o.a.Clamp(l[d+2]),e.StoreLODInAlphaChannel?c[_+3]=a:c[_+3]=255*o.a.Clamp(l[d+3]),_+=4}return c},e._GetHalfFloatAsUIntRGBAArrayBuffer=function(t,i,n,r,s,a){for(var c=new Uint8Array(r),l=new Uint16Array(s,n),_=0,u=0;u<i;u++)for(var f=0;f<t;f++){var d=4*(f+u*t);c[_]=255*o.a.Clamp(e._FromHalfFloat(l[d])),c[_+1]=255*o.a.Clamp(e._FromHalfFloat(l[d+1])),c[_+2]=255*o.a.Clamp(e._FromHalfFloat(l[d+2])),e.StoreLODInAlphaChannel?c[_+3]=a:c[_+3]=255*o.a.Clamp(e._FromHalfFloat(l[d+3])),_+=4}return c},e._GetRGBAArrayBuffer=function(e,t,i,n,r,o,s,a,c){for(var l=new Uint8Array(n),_=new Uint8Array(r,i),u=0,f=0;f<t;f++)for(var d=0;d<e;d++){var h=4*(d+f*e);l[u]=_[h+o],l[u+1]=_[h+s],l[u+2]=_[h+a],l[u+3]=_[h+c],u+=4}return l},e._ExtractLongWordOrder=function(t){return 0===t||255===t||-16777216===t?0:1+e._ExtractLongWordOrder(t>>8)},e._GetRGBArrayBuffer=function(e,t,i,n,r,o,s,a){for(var c=new Uint8Array(n),l=new Uint8Array(r,i),_=0,u=0;u<t;u++)for(var f=0;f<e;f++){var d=3*(f+u*e);c[_]=l[d+o],c[_+1]=l[d+s],c[_+2]=l[d+a],_+=3}return c},e._GetLuminanceArrayBuffer=function(e,t,i,n,r){for(var o=new Uint8Array(n),s=new Uint8Array(r,i),a=0,c=0;c<t;c++)for(var l=0;l<e;l++){var _=l+c*e;o[a]=s[_],a++}return o},e.UploadDDSLevels=function(t,i,n,r,o,s,l,_){void 0===l&&(l=-1);var f=null;r.sphericalPolynomial&&(f=new Array);var d,A,g,y,v,C,E,S=t.getCaps().s3tc,T=new Int32Array(n.buffer,n.byteOffset,31),R=0,M=0,O=1;if(542327876===T[0])if(r.isFourCC||r.isRGB||r.isLuminance)if(!r.isCompressed||S){var I=T[22];y=T[1]+4;var x,P=!1;if(r.isFourCC)switch(d=T[21]){case h:O=8,M=S.COMPRESSED_RGBA_S3TC_DXT1_EXT;break;case p:O=16,M=S.COMPRESSED_RGBA_S3TC_DXT3_EXT;break;case b:O=16,M=S.COMPRESSED_RGBA_S3TC_DXT5_EXT;break;case 113:case 116:P=!0;break;case m:y+=20;var D=!1;switch(r.dxgiFormat){case 10:case 2:P=!0,D=!0;break;case 88:r.isRGB=!0,r.isFourCC=!1,I=32,D=!0}if(D)break;default:return void console.error("Unsupported FourCC code:",(x=d,String.fromCharCode(255&x,x>>8&255,x>>16&255,x>>24&255)))}var w=e._ExtractLongWordOrder(T[23]),L=e._ExtractLongWordOrder(T[24]),F=e._ExtractLongWordOrder(T[25]),N=e._ExtractLongWordOrder(T[26]);P&&(M=t._getRGBABufferInternalSizedFormat(r.textureType)),C=1,T[2]&u&&!1!==o&&(C=Math.max(1,T[7]));for(var B=_||0;B<s;B++){for(A=T[4],g=T[3],E=0;E<C;++E){if(-1===l||l===E){var k=-1===l?E:0;if(!r.isCompressed&&r.isFourCC){i.format=5,R=A*g*4;var U=null;t._badOS||t._badDesktopOS||!t.getCaps().textureHalfFloat&&!t.getCaps().textureFloat?(128===I?(U=e._GetFloatAsUIntRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k),f&&0==k&&f.push(e._GetFloatRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k))):64===I&&(U=e._GetHalfFloatAsUIntRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k),f&&0==k&&f.push(e._GetHalfFloatAsFloatRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k))),i.type=0):128===I?(i.type=1,U=e._GetFloatRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k),f&&0==k&&f.push(U)):64!==I||t.getCaps().textureHalfFloat?(i.type=2,U=e._GetHalfFloatRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k),f&&0==k&&f.push(e._GetHalfFloatAsFloatRGBAArrayBuffer(A,g,y,R,n.buffer,k))):(i.type=1,U=e._GetHalfFloatAsFloatRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,k),f&&0==k&&f.push(U)),U&&t._uploadDataToTextureDirectly(i,U,B,k)}else if(r.isRGB)i.type=0,24===I?(i.format=4,R=A*g*3,v=e._GetRGBArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,w,L,F),t._uploadDataToTextureDirectly(i,v,B,k)):(i.format=5,R=A*g*4,v=e._GetRGBAArrayBuffer(A,g,n.byteOffset+y,R,n.buffer,w,L,F,N),t._uploadDataToTextureDirectly(i,v,B,k));else if(r.isLuminance){var H=t._getUnpackAlignement(),j=A;R=Math.floor((A+H-1)/H)*H*(g-1)+j,v=e._GetLuminanceArrayBuffer(A,g,n.byteOffset+y,R,n.buffer),i.format=1,i.type=0,t._uploadDataToTextureDirectly(i,v,B,k)}else R=Math.max(4,A)/4*Math.max(4,g)/4*O,v=new Uint8Array(n.buffer,n.byteOffset+y,R),i.type=0,t._uploadCompressedDataToTextureDirectly(i,M,A,g,v,B,k)}y+=I?A*g*(I/8):R,A*=.5,g*=.5,A=Math.max(1,A),g=Math.max(1,g)}if(void 0!==_)break}f&&f.length>0?r.sphericalPolynomial=c.a.ConvertCubeMapToSphericalPolynomial({size:T[4],right:f[0],left:f[1],up:f[2],down:f[3],front:f[4],back:f[5],format:5,type:1,gammaSpace:!1}):r.sphericalPolynomial=void 0}else a.a.Error("Compressed textures are not supported on this platform.");else a.a.Error("Unsupported format, must contain a FourCC, RGB or LUMINANCE code");else a.a.Error("Invalid magic number in DDS header")},e.StoreLODInAlphaChannel=!1,e}();_.a.prototype.createPrefilteredCubeTexture=function(e,t,i,r,c,_,u,f,d){var h=this;void 0===c&&(c=null),void 0===_&&(_=null),void 0===f&&(f=null),void 0===d&&(d=!0);return this.createCubeTexture(e,t,null,!1,function(e){if(e){var _=e.texture;if(d?e.info.sphericalPolynomial&&(_._sphericalPolynomial=e.info.sphericalPolynomial):_._sphericalPolynomial=new n.b,_._source=s.b.CubePrefiltered,h.getCaps().textureLOD)c&&c(_);else{var u=h._gl,f=e.width;if(f){for(var p=[],b=0;b<3;b++){var m=1-b/2,g=r,y=o.a.Log2(f)*i+r,v=g+(y-g)*m,C=Math.round(Math.min(Math.max(v,0),y)),E=new s.a(h,s.b.Temp);if(E.type=_.type,E.format=_.format,E.width=Math.pow(2,Math.max(o.a.Log2(f)-C,0)),E.height=E.width,E.isCube=!0,h._bindTextureDirectly(u.TEXTURE_CUBE_MAP,E,!0),E.samplingMode=2,u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_MAG_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_MIN_FILTER,u.LINEAR),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_WRAP_S,u.CLAMP_TO_EDGE),u.texParameteri(u.TEXTURE_CUBE_MAP,u.TEXTURE_WRAP_T,u.CLAMP_TO_EDGE),e.isDDS){var S=e.info,T=e.data;h._unpackFlipY(S.isCompressed),A.UploadDDSLevels(h,E,T,S,!0,6,C)}else a.a.Warn("DDS is the only prefiltered cube map supported so far.");h._bindTextureDirectly(u.TEXTURE_CUBE_MAP,null);var R=new l.a(t);R.isCube=!0,R._texture=E,E.isReady=!0,p.push(R)}_._lodTextureHigh=p[2],_._lodTextureMid=p[1],_._lodTextureLow=p[0],c&&c(_)}}}else c&&c(null)},_,u,f,d,i,r)};var g=i(702),y=function(){function e(){this.supportCascades=!0}return e.prototype.canLoad=function(e){return g.a.EndsWith(e,".dds")},e.prototype.loadCubeData=function(e,t,i,r,o){var s,a=t.getEngine(),c=!1;if(Array.isArray(e))for(var l=0;l<e.length;l++){var _=e[l];s=A.GetDDSInfo(_),t.width=s.width,t.height=s.height,c=(s.isRGB||s.isLuminance||s.mipmapCount>1)&&t.generateMipMaps,a._unpackFlipY(s.isCompressed),A.UploadDDSLevels(a,t,_,s,c,6,-1,l),s.isFourCC||1!==s.mipmapCount||a.generateMipMapsForCubemap(t)}else{var u=e;s=A.GetDDSInfo(u),t.width=s.width,t.height=s.height,i&&(s.sphericalPolynomial=new n.b),c=(s.isRGB||s.isLuminance||s.mipmapCount>1)&&t.generateMipMaps,a._unpackFlipY(s.isCompressed),A.UploadDDSLevels(a,t,u,s,c,6),s.isFourCC||1!==s.mipmapCount||a.generateMipMapsForCubemap(t,!1)}a._setCubeMapTextureParams(t,c),t.isReady=!0,t.onLoadedObservable.notifyObservers(t),t.onLoadedObservable.clear(),r&&r({isDDS:!0,width:t.width,info:s,data:e,texture:t})},e.prototype.loadData=function(e,t,i){var n=A.GetDDSInfo(e),r=(n.isRGB||n.isLuminance||n.mipmapCount>1)&&t.generateMipMaps&&n.width>>n.mipmapCount-1===1;i(n.width,n.height,r,n.isFourCC,function(){A.UploadDDSLevels(t.getEngine(),t,e,n,r,1)})},e}();r.a._TextureLoaders.push(new y)},642:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(650),r=i(701),o=i(649),s=i(979),a=function(){function e(t,i,o,a,c,l,_,u,f,d){var h,p=this;void 0===a&&(a=null),void 0===l&&(l=null),void 0===_&&(_=null),void 0===u&&(u=null),void 0===f&&(f=null),this.name=null,this.defines="",this.onCompiled=null,this.onError=null,this.onBind=null,this.uniqueId=0,this.onCompileObservable=new n.a,this.onErrorObservable=new n.a,this._onBindObservable=null,this._wasPreviouslyReady=!1,this._bonesComputationForcedToCPU=!1,this._multiTarget=!1,this._uniformBuffersNames={},this._samplers={},this._isReady=!1,this._compilationError="",this._allFallbacksProcessed=!1,this._uniforms={},this._key="",this._fallbacks=null,this._vertexSourceCode="",this._fragmentSourceCode="",this._vertexSourceCodeOverride="",this._fragmentSourceCodeOverride="",this._transformFeedbackVaryings=null,this._rawVertexSourceCode="",this._rawFragmentSourceCode="",this._pipelineContext=null,this._valueCache={},this.name=t;var b,m,A=null;if(i.attributes){var g=i;if(this._engine=o,this._attributesNames=g.attributes,this._uniformsNames=g.uniformsNames.concat(g.samplers),this._samplerList=g.samplers.slice(),this.defines=g.defines,this.onError=g.onError,this.onCompiled=g.onCompiled,this._fallbacks=g.fallbacks,this._indexParameters=g.indexParameters,this._transformFeedbackVaryings=g.transformFeedbackVaryings||null,this._multiTarget=!!g.multiTarget,g.uniformBuffersNames){this._uniformBuffersNamesList=g.uniformBuffersNames.slice();for(var y=0;y<g.uniformBuffersNames.length;y++)this._uniformBuffersNames[g.uniformBuffersNames[y]]=y}A=null!==(h=g.processFinalCode)&&void 0!==h?h:null}else this._engine=c,this.defines=null==l?"":l,this._uniformsNames=o.concat(a),this._samplerList=a?a.slice():[],this._attributesNames=i,this._uniformBuffersNamesList=[],this.onError=f,this.onCompiled=u,this._indexParameters=d,this._fallbacks=_;this._attributeLocationByName={},this.uniqueId=e._uniqueIdSeed++;var v=r.a.IsWindowObjectExist()?this._engine.getHostDocument():null;t.vertexSource?b="source:"+t.vertexSource:t.vertexElement?(b=v?v.getElementById(t.vertexElement):null)||(b=t.vertexElement):b=t.vertex||t,t.fragmentSource?m="source:"+t.fragmentSource:t.fragmentElement?(m=v?v.getElementById(t.fragmentElement):null)||(m=t.fragmentElement):m=t.fragment||t;var C={defines:this.defines.split("\n"),indexParameters:this._indexParameters,isFragment:!1,shouldUseHighPrecisionShader:this._engine._shouldUseHighPrecisionShader,processor:this._engine._shaderProcessor,supportsUniformBuffers:this._engine.supportsUniformBuffers,shadersRepository:e.ShadersRepository,includesShadersStore:e.IncludesShadersStore,version:(100*this._engine.webGLVersion).toString(),platformName:this._engine.webGLVersion>=2?"WEBGL2":"WEBGL1"};this._loadShader(b,"Vertex","",function(e){p._rawVertexSourceCode=e,p._loadShader(m,"Fragment","Pixel",function(i){p._rawFragmentSourceCode=i,s.a.Process(e,C,function(e){A&&(e=A("vertex",e)),C.isFragment=!0,s.a.Process(i,C,function(i){A&&(i=A("fragment",i)),p._useFinalCode(e,i,t)},p._engine)},p._engine)})})}return Object.defineProperty(e.prototype,"onBindObservable",{get:function(){return this._onBindObservable||(this._onBindObservable=new n.a),this._onBindObservable},enumerable:!1,configurable:!0}),e.prototype._useFinalCode=function(e,t,i){if(i){var n=i.vertexElement||i.vertex||i.spectorName||i,r=i.fragmentElement||i.fragment||i.spectorName||i;this._vertexSourceCode="#define SHADER_NAME vertex:"+n+"\n"+e,this._fragmentSourceCode="#define SHADER_NAME fragment:"+r+"\n"+t}else this._vertexSourceCode=e,this._fragmentSourceCode=t;this._prepareEffect()},Object.defineProperty(e.prototype,"key",{get:function(){return this._key},enumerable:!1,configurable:!0}),e.prototype.isReady=function(){try{return this._isReadyInternal()}catch(e){return!1}},e.prototype._isReadyInternal=function(){return!!this._isReady||!!this._pipelineContext&&this._pipelineContext.isReady},e.prototype.getEngine=function(){return this._engine},e.prototype.getPipelineContext=function(){return this._pipelineContext},e.prototype.getAttributesNames=function(){return this._attributesNames},e.prototype.getAttributeLocation=function(e){return this._attributes[e]},e.prototype.getAttributeLocationByName=function(e){return this._attributeLocationByName[e]},e.prototype.getAttributesCount=function(){return this._attributes.length},e.prototype.getUniformIndex=function(e){return this._uniformsNames.indexOf(e)},e.prototype.getUniform=function(e){return this._uniforms[e]},e.prototype.getSamplers=function(){return this._samplerList},e.prototype.getUniformNames=function(){return this._uniformsNames},e.prototype.getUniformBuffersNames=function(){return this._uniformBuffersNamesList},e.prototype.getIndexParameters=function(){return this._indexParameters},e.prototype.getCompilationError=function(){return this._compilationError},e.prototype.allFallbacksProcessed=function(){return this._allFallbacksProcessed},e.prototype.executeWhenCompiled=function(e){var t=this;this.isReady()?e(this):(this.onCompileObservable.add(function(t){e(t)}),this._pipelineContext&&!this._pipelineContext.isAsync||setTimeout(function(){t._checkIsReady(null)},16))},e.prototype._checkIsReady=function(e){var t=this;try{if(this._isReadyInternal())return}catch(i){return void this._processCompilationErrors(i,e)}setTimeout(function(){t._checkIsReady(e)},16)},e.prototype._loadShader=function(t,i,n,o){var s;if("undefined"!==typeof HTMLElement&&t instanceof HTMLElement)return void o(r.a.GetDOMTextContent(t));"source:"!==t.substr(0,7)?"base64:"!==t.substr(0,7)?e.ShadersStore[t+i+"Shader"]?o(e.ShadersStore[t+i+"Shader"]):n&&e.ShadersStore[t+n+"Shader"]?o(e.ShadersStore[t+n+"Shader"]):(s="."===t[0]||"/"===t[0]||t.indexOf("http")>-1?t:e.ShadersRepository+t,this._engine._loadFile(s+"."+i.toLowerCase()+".fx",o)):o(window.atob(t.substr(7))):o(t.substr(7))},Object.defineProperty(e.prototype,"vertexSourceCode",{get:function(){return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._vertexSourceCodeOverride:this._vertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fragmentSourceCode",{get:function(){return this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?this._fragmentSourceCodeOverride:this._fragmentSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawVertexSourceCode",{get:function(){return this._rawVertexSourceCode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"rawFragmentSourceCode",{get:function(){return this._rawFragmentSourceCode},enumerable:!1,configurable:!0}),e.prototype._rebuildProgram=function(e,t,i,n){var r=this;this._isReady=!1,this._vertexSourceCodeOverride=e,this._fragmentSourceCodeOverride=t,this.onError=function(e,t){n&&n(t)},this.onCompiled=function(){var e=r.getEngine().scenes;if(e)for(var t=0;t<e.length;t++)e[t].markAllMaterialsAsDirty(63);r._pipelineContext._handlesSpectorRebuildCallback(i)},this._fallbacks=null,this._prepareEffect()},e.prototype._prepareEffect=function(){var e=this,t=this._attributesNames,i=this.defines;this._valueCache={};var n=this._pipelineContext;try{var r=this._engine;this._pipelineContext=r.createPipelineContext();var o=this._rebuildProgram.bind(this);this._vertexSourceCodeOverride&&this._fragmentSourceCodeOverride?r._preparePipelineContext(this._pipelineContext,this._vertexSourceCodeOverride,this._fragmentSourceCodeOverride,!0,o,null,this._transformFeedbackVaryings):r._preparePipelineContext(this._pipelineContext,this._vertexSourceCode,this._fragmentSourceCode,!1,o,i,this._transformFeedbackVaryings),r._executeWhenRenderingStateIsCompiled(this._pipelineContext,function(){if(r.supportsUniformBuffers)for(var i in e._uniformBuffersNames)e.bindUniformBlock(i,e._uniformBuffersNames[i]);var o;if(r.getUniforms(e._pipelineContext,e._uniformsNames).forEach(function(t,i){e._uniforms[e._uniformsNames[i]]=t}),e._attributes=r.getAttributes(e._pipelineContext,t),t)for(var s=0;s<t.length;s++){var a=t[s];e._attributeLocationByName[a]=e._attributes[s]}for(o=0;o<e._samplerList.length;o++){null==e.getUniform(e._samplerList[o])&&(e._samplerList.splice(o,1),o--)}e._samplerList.forEach(function(t,i){e._samplers[t]=i}),r.bindSamplers(e),e._compilationError="",e._isReady=!0,e.onCompiled&&e.onCompiled(e),e.onCompileObservable.notifyObservers(e),e.onCompileObservable.clear(),e._fallbacks&&e._fallbacks.unBindMesh(),n&&e.getEngine()._deletePipelineContext(n)}),this._pipelineContext.isAsync&&this._checkIsReady(n)}catch(s){this._processCompilationErrors(s,n)}},e.prototype._getShaderCodeAndErrorLine=function(e,t,i){var n=i?/FRAGMENT SHADER ERROR: 0:(\d+?):/:/VERTEX SHADER ERROR: 0:(\d+?):/,r=null;if(t&&e){var o=t.match(n);if(o&&2===o.length){var s=parseInt(o[1]),a=e.split("\n",-1);a.length>=s&&(r="Offending line ["+s+"] in "+(i?"fragment":"vertex")+" code: "+a[s-1])}}return[e,r]},e.prototype._processCompilationErrors=function(t,i){var n,r,s,a,c;void 0===i&&(i=null),this._compilationError=t.message;var l=this._attributesNames,_=this._fallbacks;if(o.a.Error("Unable to compile effect:"),o.a.Error("Uniforms: "+this._uniformsNames.map(function(e){return" "+e})),o.a.Error("Attributes: "+l.map(function(e){return" "+e})),o.a.Error("Defines:\r\n"+this.defines),e.LogShaderCodeOnCompilationError){var u=null,f=null,d=null;(null===(s=this._pipelineContext)||void 0===s?void 0:s._getVertexShaderCode())&&(d=(n=this._getShaderCodeAndErrorLine(this._pipelineContext._getVertexShaderCode(),this._compilationError,!1))[0],u=n[1],d&&(o.a.Error("Vertex code:"),o.a.Error(d))),(null===(a=this._pipelineContext)||void 0===a?void 0:a._getFragmentShaderCode())&&(d=(r=this._getShaderCodeAndErrorLine(null===(c=this._pipelineContext)||void 0===c?void 0:c._getFragmentShaderCode(),this._compilationError,!0))[0],f=r[1],d&&(o.a.Error("Fragment code:"),o.a.Error(d))),u&&o.a.Error(u),f&&o.a.Error(f)}o.a.Error("Error: "+this._compilationError),i&&(this._pipelineContext=i,this._isReady=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this)),_?(this._pipelineContext=null,_.hasMoreFallbacks?(this._allFallbacksProcessed=!1,o.a.Error("Trying next fallback."),this.defines=_.reduce(this.defines,this),this._prepareEffect()):(this._allFallbacksProcessed=!0,this.onError&&this.onError(this,this._compilationError),this.onErrorObservable.notifyObservers(this),this.onErrorObservable.clear(),this._fallbacks&&this._fallbacks.unBindMesh())):this._allFallbacksProcessed=!0},Object.defineProperty(e.prototype,"isSupported",{get:function(){return""===this._compilationError},enumerable:!1,configurable:!0}),e.prototype._bindTexture=function(e,t){this._engine._bindTexture(this._samplers[e],t)},e.prototype.setTexture=function(e,t){this._engine.setTexture(this._samplers[e],this._uniforms[e],t)},e.prototype.setDepthStencilTexture=function(e,t){this._engine.setDepthStencilTexture(this._samplers[e],this._uniforms[e],t)},e.prototype.setTextureArray=function(e,t){var i=e+"Ex";if(-1===this._samplerList.indexOf(i+"0")){for(var n=this._samplerList.indexOf(e),r=1;r<t.length;r++){var o=i+(r-1).toString();this._samplerList.splice(n+r,0,o)}for(var s=0,a=0,c=this._samplerList;a<c.length;a++){var l=c[a];this._samplers[l]=s,s+=1}}this._engine.setTextureArray(this._samplers[e],this._uniforms[e],t)},e.prototype.setTextureFromPostProcess=function(e,t){this._engine.setTextureFromPostProcess(this._samplers[e],t)},e.prototype.setTextureFromPostProcessOutput=function(e,t){this._engine.setTextureFromPostProcessOutput(this._samplers[e],t)},e.prototype._cacheMatrix=function(e,t){var i=this._valueCache[e],n=t.updateFlag;return(void 0===i||i!==n)&&(this._valueCache[e]=n,!0)},e.prototype._cacheFloat2=function(e,t,i){var n=this._valueCache[e];if(!n||2!==n.length)return n=[t,i],this._valueCache[e]=n,!0;var r=!1;return n[0]!==t&&(n[0]=t,r=!0),n[1]!==i&&(n[1]=i,r=!0),r},e.prototype._cacheFloat3=function(e,t,i,n){var r=this._valueCache[e];if(!r||3!==r.length)return r=[t,i,n],this._valueCache[e]=r,!0;var o=!1;return r[0]!==t&&(r[0]=t,o=!0),r[1]!==i&&(r[1]=i,o=!0),r[2]!==n&&(r[2]=n,o=!0),o},e.prototype._cacheFloat4=function(e,t,i,n,r){var o=this._valueCache[e];if(!o||4!==o.length)return o=[t,i,n,r],this._valueCache[e]=o,!0;var s=!1;return o[0]!==t&&(o[0]=t,s=!0),o[1]!==i&&(o[1]=i,s=!0),o[2]!==n&&(o[2]=n,s=!0),o[3]!==r&&(o[3]=r,s=!0),s},e.prototype.bindUniformBuffer=function(t,i){var n=this._uniformBuffersNames[i];void 0!==n&&e._baseCache[n]!==t&&(e._baseCache[n]=t,this._engine.bindUniformBufferBase(t,n))},e.prototype.bindUniformBlock=function(e,t){this._engine.bindUniformBlock(this._pipelineContext,e,t)},e.prototype.setInt=function(e,t){var i=this._valueCache[e];return void 0!==i&&i===t||this._engine.setInt(this._uniforms[e],t)&&(this._valueCache[e]=t),this},e.prototype.setIntArray=function(e,t){return this._valueCache[e]=null,this._engine.setIntArray(this._uniforms[e],t),this},e.prototype.setIntArray2=function(e,t){return this._valueCache[e]=null,this._engine.setIntArray2(this._uniforms[e],t),this},e.prototype.setIntArray3=function(e,t){return this._valueCache[e]=null,this._engine.setIntArray3(this._uniforms[e],t),this},e.prototype.setIntArray4=function(e,t){return this._valueCache[e]=null,this._engine.setIntArray4(this._uniforms[e],t),this},e.prototype.setFloatArray=function(e,t){return this._valueCache[e]=null,this._engine.setArray(this._uniforms[e],t),this},e.prototype.setFloatArray2=function(e,t){return this._valueCache[e]=null,this._engine.setArray2(this._uniforms[e],t),this},e.prototype.setFloatArray3=function(e,t){return this._valueCache[e]=null,this._engine.setArray3(this._uniforms[e],t),this},e.prototype.setFloatArray4=function(e,t){return this._valueCache[e]=null,this._engine.setArray4(this._uniforms[e],t),this},e.prototype.setArray=function(e,t){return this._valueCache[e]=null,this._engine.setArray(this._uniforms[e],t),this},e.prototype.setArray2=function(e,t){return this._valueCache[e]=null,this._engine.setArray2(this._uniforms[e],t),this},e.prototype.setArray3=function(e,t){return this._valueCache[e]=null,this._engine.setArray3(this._uniforms[e],t),this},e.prototype.setArray4=function(e,t){return this._valueCache[e]=null,this._engine.setArray4(this._uniforms[e],t),this},e.prototype.setMatrices=function(e,t){return t?(this._valueCache[e]=null,this._engine.setMatrices(this._uniforms[e],t),this):this},e.prototype.setMatrix=function(e,t){return this._cacheMatrix(e,t)&&(this._engine.setMatrices(this._uniforms[e],t.toArray())||(this._valueCache[e]=null)),this},e.prototype.setMatrix3x3=function(e,t){return this._valueCache[e]=null,this._engine.setMatrix3x3(this._uniforms[e],t),this},e.prototype.setMatrix2x2=function(e,t){return this._valueCache[e]=null,this._engine.setMatrix2x2(this._uniforms[e],t),this},e.prototype.setFloat=function(e,t){var i=this._valueCache[e];return void 0!==i&&i===t||this._engine.setFloat(this._uniforms[e],t)&&(this._valueCache[e]=t),this},e.prototype.setBool=function(e,t){var i=this._valueCache[e];return void 0!==i&&i===t||this._engine.setInt(this._uniforms[e],t?1:0)&&(this._valueCache[e]=t),this},e.prototype.setVector2=function(e,t){return this._cacheFloat2(e,t.x,t.y)&&(this._engine.setFloat2(this._uniforms[e],t.x,t.y)||(this._valueCache[e]=null)),this},e.prototype.setFloat2=function(e,t,i){return this._cacheFloat2(e,t,i)&&(this._engine.setFloat2(this._uniforms[e],t,i)||(this._valueCache[e]=null)),this},e.prototype.setVector3=function(e,t){return this._cacheFloat3(e,t.x,t.y,t.z)&&(this._engine.setFloat3(this._uniforms[e],t.x,t.y,t.z)||(this._valueCache[e]=null)),this},e.prototype.setFloat3=function(e,t,i,n){return this._cacheFloat3(e,t,i,n)&&(this._engine.setFloat3(this._uniforms[e],t,i,n)||(this._valueCache[e]=null)),this},e.prototype.setVector4=function(e,t){return this._cacheFloat4(e,t.x,t.y,t.z,t.w)&&(this._engine.setFloat4(this._uniforms[e],t.x,t.y,t.z,t.w)||(this._valueCache[e]=null)),this},e.prototype.setFloat4=function(e,t,i,n,r){return this._cacheFloat4(e,t,i,n,r)&&(this._engine.setFloat4(this._uniforms[e],t,i,n,r)||(this._valueCache[e]=null)),this},e.prototype.setColor3=function(e,t){return this._cacheFloat3(e,t.r,t.g,t.b)&&(this._engine.setFloat3(this._uniforms[e],t.r,t.g,t.b)||(this._valueCache[e]=null)),this},e.prototype.setColor4=function(e,t,i){return this._cacheFloat4(e,t.r,t.g,t.b,i)&&(this._engine.setFloat4(this._uniforms[e],t.r,t.g,t.b,i)||(this._valueCache[e]=null)),this},e.prototype.setDirectColor4=function(e,t){return this._cacheFloat4(e,t.r,t.g,t.b,t.a)&&(this._engine.setFloat4(this._uniforms[e],t.r,t.g,t.b,t.a)||(this._valueCache[e]=null)),this},e.prototype.dispose=function(){this._engine._releaseEffect(this)},e.RegisterShader=function(t,i,n){i&&(e.ShadersStore[t+"PixelShader"]=i),n&&(e.ShadersStore[t+"VertexShader"]=n)},e.ResetCache=function(){e._baseCache={}},e.ShadersRepository="src/Shaders/",e.LogShaderCodeOnCompilationError=!0,e._uniqueIdSeed=0,e._baseCache={},e.ShadersStore={},e.IncludesShadersStore={},e}()},644:function(e,t,i){"use strict";i.d(t,"c",function(){return r}),i.d(t,"a",function(){return o}),i.d(t,"b",function(){return s});var n=function(e,t){return n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&(e[i]=t[i])},n(e,t)};function r(e,t){if("function"!==typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function i(){this.constructor=e}n(e,t),e.prototype=null===t?Object.create(t):(i.prototype=t.prototype,new i)}var o=function(){return o=Object.assign||function(e){for(var t,i=1,n=arguments.length;i<n;i++)for(var r in t=arguments[i])Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r]);return e},o.apply(this,arguments)};function s(e,t,i,n){var r,o=arguments.length,s=o<3?t:null===n?n=Object.getOwnPropertyDescriptor(t,i):n;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)s=Reflect.decorate(e,t,i,n);else for(var a=e.length-1;a>=0;a--)(r=e[a])&&(s=(o<3?r(s):o>3?r(t,i,s):r(t,i))||s);return o>3&&s&&Object.defineProperty(t,i,s),s}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError},648:function(e,t,i){"use strict";i.d(t,"b",function(){return f}),i.d(t,"c",function(){return d}),i.d(t,"l",function(){return h}),i.d(t,"d",function(){return p}),i.d(t,"g",function(){return b}),i.d(t,"m",function(){return m}),i.d(t,"n",function(){return A}),i.d(t,"j",function(){return g}),i.d(t,"f",function(){return y}),i.d(t,"e",function(){return v}),i.d(t,"h",function(){return C}),i.d(t,"k",function(){return E}),i.d(t,"i",function(){return S}),i.d(t,"a",function(){return T});var n=i(764),r=i(30),o=i(667),s=i(244),a={},c={},l=function(e,t,i){var r=e();n.a&&n.a.AddTagsTo(r,t.tags);var o=_(r);for(var s in o){var a=o[s],c=t[s],l=a.type;if(void 0!==c&&null!==c&&"uniqueId"!==s)switch(l){case 0:case 6:case 11:r[s]=c;break;case 1:r[s]=i||c.isRenderTarget?c:c.clone();break;case 2:case 3:case 4:case 5:case 7:case 10:case 12:r[s]=i?c:c.clone()}}return r};function _(e){var t=e.getClassName();if(c[t])return c[t];c[t]={};for(var i=c[t],n=e,r=t;r;){var o=a[r];for(var s in o)i[s]=o[s];var l=void 0,_=!1;do{if(!(l=Object.getPrototypeOf(n)).getClassName){_=!0;break}if(l.getClassName()!==r)break;n=l}while(l);if(_)break;r=l.getClassName(),n=l}return i}function u(e,t){return function(i,n){var r=function(e){var t=e.getClassName();return a[t]||(a[t]={}),a[t]}(i);r[n]||(r[n]={type:e,sourceName:t})}}function f(e,t){return void 0===t&&(t=null),function(e,t){return void 0===t&&(t=null),function(i,n){var r=t||"_"+n;Object.defineProperty(i,n,{get:function(){return this[r]},set:function(t){this[r]!==t&&(this[r]=t,i[e].apply(this))},enumerable:!0,configurable:!0})}}(e,t)}function d(e){return u(0,e)}function h(e){return u(1,e)}function p(e){return u(2,e)}function b(e){return u(3,e)}function m(e){return u(4,e)}function A(e){return u(5,e)}function g(e){return u(6,e)}function y(e){return u(7,e)}function v(e){return u(8,e)}function C(e){return u(9,e)}function E(e){return u(10,e)}function S(e){return u(12,e)}var T=function(){function e(){}return e.AppendSerializedAnimations=function(e,t){if(e.animations){t.animations=[];for(var i=0;i<e.animations.length;i++){var n=e.animations[i];t.animations.push(n.serialize())}}},e.Serialize=function(e,t){t||(t={}),n.a&&(t.tags=n.a.GetTags(e));var i=_(e);for(var r in i){var o=i[r],s=o.sourceName||r,a=o.type,c=e[r];if(void 0!==c&&null!==c&&"uniqueId"!==r)switch(a){case 0:t[s]=c;break;case 1:t[s]=c.serialize();break;case 2:t[s]=c.asArray();break;case 3:t[s]=c.serialize();break;case 4:case 5:t[s]=c.asArray();break;case 6:t[s]=c.id;break;case 7:t[s]=c.serialize();break;case 8:t[s]=c.asArray();break;case 9:t[s]=c.serialize();break;case 10:t[s]=c.asArray();break;case 11:t[s]=c.id;case 12:t[s]=c.asArray()}}return t},e.Parse=function(t,i,o,a){void 0===a&&(a=null);var c=t();a||(a=""),n.a&&n.a.AddTagsTo(c,i.tags);var l=_(c);for(var u in l){var f=l[u],d=i[f.sourceName||u],h=f.type;if(void 0!==d&&null!==d&&"uniqueId"!==u){var p=c;switch(h){case 0:p[u]=d;break;case 1:o&&(p[u]=e._TextureParser(d,o,a));break;case 2:p[u]=s.a.FromArray(d);break;case 3:p[u]=e._FresnelParametersParser(d);break;case 4:p[u]=r.d.FromArray(d);break;case 5:p[u]=r.e.FromArray(d);break;case 6:o&&(p[u]=o.getLastMeshByID(d));break;case 7:p[u]=e._ColorCurvesParser(d);break;case 8:p[u]=s.b.FromArray(d);break;case 9:p[u]=e._ImageProcessingConfigurationParser(d);break;case 10:p[u]=r.b.FromArray(d);break;case 11:o&&(p[u]=o.getCameraByID(d));case 12:p[u]=r.a.FromArray(d)}}}return c},e.Clone=function(e,t){return l(e,t,!1)},e.Instanciate=function(e,t){return l(e,t,!0)},e._ImageProcessingConfigurationParser=function(e){throw o.a.WarnImport("ImageProcessingConfiguration")},e._FresnelParametersParser=function(e){throw o.a.WarnImport("FresnelParameters")},e._ColorCurvesParser=function(e){throw o.a.WarnImport("ColorCurves")},e._TextureParser=function(e,t,i){throw o.a.WarnImport("Texture")},e}()},649:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e._AddLogEntry=function(t){e._LogCache=t+e._LogCache,e.OnNewCacheEntry&&e.OnNewCacheEntry(t)},e._FormatMessage=function(e){var t=function(e){return e<10?"0"+e:""+e},i=new Date;return"["+t(i.getHours())+":"+t(i.getMinutes())+":"+t(i.getSeconds())+"]: "+e},e._LogDisabled=function(e){},e._LogEnabled=function(t){var i=e._FormatMessage(t);console.log("BJS - "+i);var n="<div style='color:white'>"+i+"</div><br>";e._AddLogEntry(n)},e._WarnDisabled=function(e){},e._WarnEnabled=function(t){var i=e._FormatMessage(t);console.warn("BJS - "+i);var n="<div style='color:orange'>"+i+"</div><br>";e._AddLogEntry(n)},e._ErrorDisabled=function(e){},e._ErrorEnabled=function(t){e.errorsCount++;var i=e._FormatMessage(t);console.error("BJS - "+i);var n="<div style='color:red'>"+i+"</div><br>";e._AddLogEntry(n)},Object.defineProperty(e,"LogCache",{get:function(){return e._LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){e._LogCache="",e.errorsCount=0},Object.defineProperty(e,"LogLevels",{set:function(t){(t&e.MessageLogLevel)===e.MessageLogLevel?e.Log=e._LogEnabled:e.Log=e._LogDisabled,(t&e.WarningLogLevel)===e.WarningLogLevel?e.Warn=e._WarnEnabled:e.Warn=e._WarnDisabled,(t&e.ErrorLogLevel)===e.ErrorLogLevel?e.Error=e._ErrorEnabled:e.Error=e._ErrorDisabled},enumerable:!1,configurable:!0}),e.NoneLogLevel=0,e.MessageLogLevel=1,e.WarningLogLevel=2,e.ErrorLogLevel=4,e.AllLogLevel=7,e._LogCache="",e.errorsCount=0,e.Log=e._LogEnabled,e.Warn=e._WarnEnabled,e.Error=e._ErrorEnabled,e}()},650:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=function(){function e(e,t,i,n){void 0===t&&(t=!1),this.initalize(e,t,i,n)}return e.prototype.initalize=function(e,t,i,n){return void 0===t&&(t=!1),this.mask=e,this.skipNextObservers=t,this.target=i,this.currentTarget=n,this},e}(),r=function(e,t,i){void 0===i&&(i=null),this.callback=e,this.mask=t,this.scope=i,this._willBeUnregistered=!1,this.unregisterOnNextCall=!1},o=(function(){function e(){}e.prototype.dispose=function(){if(this._observers&&this._observables)for(var e=0;e<this._observers.length;e++)this._observables[e].remove(this._observers[e]);this._observers=null,this._observables=null},e.Watch=function(t,i,n,r){void 0===n&&(n=-1),void 0===r&&(r=null);var o=new e;o._observers=new Array,o._observables=t;for(var s=0,a=t;s<a.length;s++){var c=a[s].add(i,n,!1,r);c&&o._observers.push(c)}return o}}(),function(){function e(e){this._observers=new Array,this._eventState=new n(0),e&&(this._onObserverAdded=e)}return Object.defineProperty(e.prototype,"observers",{get:function(){return this._observers},enumerable:!1,configurable:!0}),e.prototype.add=function(e,t,i,n,o){if(void 0===t&&(t=-1),void 0===i&&(i=!1),void 0===n&&(n=null),void 0===o&&(o=!1),!e)return null;var s=new r(e,t,n);return s.unregisterOnNextCall=o,i?this._observers.unshift(s):this._observers.push(s),this._onObserverAdded&&this._onObserverAdded(s),s},e.prototype.addOnce=function(e){return this.add(e,void 0,void 0,void 0,!0)},e.prototype.remove=function(e){return!!e&&(-1!==this._observers.indexOf(e)&&(this._deferUnregister(e),!0))},e.prototype.removeCallback=function(e,t){for(var i=0;i<this._observers.length;i++){var n=this._observers[i];if(!n._willBeUnregistered&&(n.callback===e&&(!t||t===n.scope)))return this._deferUnregister(n),!0}return!1},e.prototype._deferUnregister=function(e){var t=this;e.unregisterOnNextCall=!1,e._willBeUnregistered=!0,setTimeout(function(){t._remove(e)},0)},e.prototype._remove=function(e){if(!e)return!1;var t=this._observers.indexOf(e);return-1!==t&&(this._observers.splice(t,1),!0)},e.prototype.makeObserverTopPriority=function(e){this._remove(e),this._observers.unshift(e)},e.prototype.makeObserverBottomPriority=function(e){this._remove(e),this._observers.push(e)},e.prototype.notifyObservers=function(e,t,i,n,r){if(void 0===t&&(t=-1),!this._observers.length)return!0;var o=this._eventState;o.mask=t,o.target=i,o.currentTarget=n,o.skipNextObservers=!1,o.lastReturnValue=e,o.userInfo=r;for(var s=0,a=this._observers;s<a.length;s++){var c=a[s];if(!c._willBeUnregistered&&(c.mask&t&&(c.scope?o.lastReturnValue=c.callback.apply(c.scope,[e,o]):o.lastReturnValue=c.callback(e,o),c.unregisterOnNextCall&&this._deferUnregister(c)),o.skipNextObservers))return!1}return!0},e.prototype.notifyObserversWithPromise=function(e,t,i,n,r){var o=this;void 0===t&&(t=-1);var s=Promise.resolve(e);if(!this._observers.length)return s;var a=this._eventState;return a.mask=t,a.target=i,a.currentTarget=n,a.skipNextObservers=!1,a.userInfo=r,this._observers.forEach(function(i){a.skipNextObservers||i._willBeUnregistered||i.mask&t&&(s=i.scope?s.then(function(t){return a.lastReturnValue=t,i.callback.apply(i.scope,[e,a])}):s.then(function(t){return a.lastReturnValue=t,i.callback(e,a)}),i.unregisterOnNextCall&&o._deferUnregister(i))}),s.then(function(){return e})},e.prototype.notifyObserver=function(e,t,i){void 0===i&&(i=-1);var n=this._eventState;n.mask=i,n.skipNextObservers=!1,e.callback(t,n)},e.prototype.hasObservers=function(){return this._observers.length>0},e.prototype.clear=function(){this._observers=new Array,this._onObserverAdded=null},e.prototype.clone=function(){var t=new e;return t._observers=this._observers.slice(0),t},e.prototype.hasSpecificMask=function(e){void 0===e&&(e=-1);for(var t=0,i=this._observers;t<i.length;t++){var n=i[t];if(n.mask&e||n.mask===e)return!0}return!1},e}())},658:function(e,t,i){"use strict";i.d(t,"b",function(){return g}),i.d(t,"a",function(){return y});var n,r=i(650),o=i(701),s=i(649),a=i(754),c=i(755),l=i(667),_=i(802),u=i(668),f=i(761);!function(e){e[e.Pending=0]="Pending",e[e.Fulfilled=1]="Fulfilled",e[e.Rejected=2]="Rejected"}(n||(n={}));var d=function(){this.count=0,this.target=0,this.results=[]},h=function(){function e(e){var t=this;if(this._state=n.Pending,this._children=new Array,this._rejectWasConsumed=!1,e)try{e(function(e){t._resolve(e)},function(e){t._reject(e)})}catch(i){this._reject(i)}}return Object.defineProperty(e.prototype,"_result",{get:function(){return this._resultValue},set:function(e){this._resultValue=e,this._parent&&void 0===this._parent._result&&(this._parent._result=e)},enumerable:!1,configurable:!0}),e.prototype.catch=function(e){return this.then(void 0,e)},e.prototype.then=function(t,i){var r=this,o=new e;return o._onFulfilled=t,o._onRejected=i,this._children.push(o),o._parent=this,this._state!==n.Pending&&setTimeout(function(){if(r._state===n.Fulfilled||r._rejectWasConsumed){var e=o._resolve(r._result);if(void 0!==e&&null!==e)if(void 0!==e._state){var t=e;o._children.push(t),t._parent=o,o=t}else o._result=e}else o._reject(r._reason)}),o},e.prototype._moveChildren=function(e){var t,i=this;if((t=this._children).push.apply(t,e.splice(0,e.length)),this._children.forEach(function(e){e._parent=i}),this._state===n.Fulfilled)for(var r=0,o=this._children;r<o.length;r++){o[r]._resolve(this._result)}else if(this._state===n.Rejected)for(var s=0,a=this._children;s<a.length;s++){a[s]._reject(this._reason)}},e.prototype._resolve=function(e){try{this._state=n.Fulfilled;var t=null;if(this._onFulfilled&&(t=this._onFulfilled(e)),void 0!==t&&null!==t)if(void 0!==t._state){var i=t;i._parent=this,i._moveChildren(this._children),e=i._result}else e=t;this._result=e;for(var r=0,o=this._children;r<o.length;r++){o[r]._resolve(e)}this._children.length=0,delete this._onFulfilled,delete this._onRejected}catch(s){this._reject(s,!0)}},e.prototype._reject=function(e,t){if(void 0===t&&(t=!1),this._state=n.Rejected,this._reason=e,this._onRejected&&!t)try{this._onRejected(e),this._rejectWasConsumed=!0}catch(s){e=s}for(var i=0,r=this._children;i<r.length;i++){var o=r[i];this._rejectWasConsumed?o._resolve(null):o._reject(e)}this._children.length=0,delete this._onFulfilled,delete this._onRejected},e.resolve=function(t){var i=new e;return i._resolve(t),i},e._RegisterForFulfillment=function(e,t,i){e.then(function(e){return t.results[i]=e,t.count++,t.count===t.target&&t.rootPromise._resolve(t.results),null},function(e){t.rootPromise._state!==n.Rejected&&t.rootPromise._reject(e)})},e.all=function(t){var i=new e,n=new d;if(n.target=t.length,n.rootPromise=i,t.length)for(var r=0;r<t.length;r++)e._RegisterForFulfillment(t[r],n,r);else i._resolve([]);return i},e.race=function(t){var i=new e;if(t.length)for(var n=0,r=t;n<r.length;n++){r[n].then(function(e){return i&&(i._resolve(e),i=null),null},function(e){i&&(i._reject(e),i=null)})}return i},e}(),p=function(){function e(){}return e.Apply=function(e){(void 0===e&&(e=!1),e||"undefined"===typeof Promise)&&(window.Promise=h)},e}(),b=i(938),m=i(939),A=i(940),g=function(){function e(){}return Object.defineProperty(e,"BaseUrl",{get:function(){return f.a.BaseUrl},set:function(e){f.a.BaseUrl=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DefaultRetryStrategy",{get:function(){return f.a.DefaultRetryStrategy},set:function(e){f.a.DefaultRetryStrategy=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CorsBehavior",{get:function(){return f.a.CorsBehavior},set:function(e){f.a.CorsBehavior=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"UseFallbackTexture",{get:function(){return u.a.UseFallbackTexture},set:function(e){u.a.UseFallbackTexture=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RegisteredExternalClasses",{get:function(){return m.a.RegisteredExternalClasses},set:function(e){m.a.RegisteredExternalClasses=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"fallbackTexture",{get:function(){return u.a.FallbackTexture},set:function(e){u.a.FallbackTexture=e},enumerable:!1,configurable:!0}),e.FetchToRef=function(e,t,i,n,r,o){var s=4*((Math.abs(e)*i%i|0)+(Math.abs(t)*n%n|0)*i);o.r=r[s]/255,o.g=r[s+1]/255,o.b=r[s+2]/255,o.a=r[s+3]/255},e.Mix=function(e,t,i){return e*(1-i)+t*i},e.Instantiate=function(e){return m.a.Instantiate(e)},e.Slice=function(e,t,i){return e.slice?e.slice(t,i):Array.prototype.slice.call(e,t,i)},e.SliceToArray=function(e,t,i){return Array.isArray(e)?e.slice(t,i):Array.prototype.slice.call(e,t,i)},e.SetImmediate=function(e){b.a.SetImmediate(e)},e.IsExponentOfTwo=function(e){var t=1;do{t*=2}while(t<e);return t===e},e.FloatRound=function(t){return Math.fround?Math.fround(t):e._tmpFloatArray[0]=t},e.GetFilename=function(e){var t=e.lastIndexOf("/");return t<0?e:e.substring(t+1)},e.GetFolderPath=function(e,t){void 0===t&&(t=!1);var i=e.lastIndexOf("/");return i<0?t?e:"":e.substring(0,i+1)},e.ToDegrees=function(e){return 180*e/Math.PI},e.ToRadians=function(e){return e*Math.PI/180},e.MakeArray=function(e,t){return!0===t||void 0!==e&&null!=e?Array.isArray(e)?e:[e]:null},e.GetPointerPrefix=function(e){var t="pointer";return o.a.IsWindowObjectExist()&&!window.PointerEvent&&o.a.IsNavigatorAvailable()&&!navigator.pointerEnabled&&(t="mouse"),!e._badDesktopOS||e._badOS||document&&"ontouchend"in document||(t="mouse"),t},e.SetCorsBehavior=function(e,t){f.a.SetCorsBehavior(e,t)},e.CleanUrl=function(e){return e=e.replace(/#/gm,"%23")},Object.defineProperty(e,"PreprocessUrl",{get:function(){return f.a.PreprocessUrl},set:function(e){f.a.PreprocessUrl=e},enumerable:!1,configurable:!0}),e.LoadImage=function(e,t,i,n,r){return f.a.LoadImage(e,t,i,n,r)},e.LoadFile=function(e,t,i,n,r,o){return f.a.LoadFile(e,t,i,n,r,o)},e.LoadFileAsync=function(e,t){return void 0===t&&(t=!0),new Promise(function(i,n){f.a.LoadFile(e,function(e){i(e)},void 0,void 0,t,function(e,t){n(t)})})},e.LoadScript=function(e,t,i,n){if(o.a.IsWindowObjectExist()){var r=document.getElementsByTagName("head")[0],s=document.createElement("script");s.setAttribute("type","text/javascript"),s.setAttribute("src",e),n&&(s.id=n),s.onload=function(){t&&t()},s.onerror=function(t){i&&i("Unable to load script '"+e+"'",t)},r.appendChild(s)}},e.LoadScriptAsync=function(e,t){var i=this;return new Promise(function(t,n){i.LoadScript(e,function(){t()},function(e,t){n(t)})})},e.ReadFileAsDataURL=function(e,t,i){var n=new FileReader,o={onCompleteObservable:new r.a,abort:function(){return n.abort()}};return n.onloadend=function(e){o.onCompleteObservable.notifyObservers(o)},n.onload=function(e){t(e.target.result)},n.onprogress=i,n.readAsDataURL(e),o},e.ReadFile=function(e,t,i,n,r){return f.a.ReadFile(e,t,i,n,r)},e.FileAsURL=function(e){var t=new Blob([e]);return(window.URL||window.webkitURL).createObjectURL(t)},e.Format=function(e,t){return void 0===t&&(t=2),e.toFixed(t)},e.DeepCopy=function(e,t,i,n){a.a.DeepCopy(e,t,i,n)},e.IsEmpty=function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},e.RegisterTopRootEvents=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];e.addEventListener(n.name,n.handler,!1);try{window.parent&&window.parent.addEventListener(n.name,n.handler,!1)}catch(r){}}},e.UnregisterTopRootEvents=function(e,t){for(var i=0;i<t.length;i++){var n=t[i];e.removeEventListener(n.name,n.handler);try{e.parent&&e.parent.removeEventListener(n.name,n.handler)}catch(r){}}},e.DumpFramebuffer=function(t,i,n,r,o,s){void 0===o&&(o="image/png");for(var a=4*t,c=i/2,l=n.readPixels(0,0,t,i),_=0;_<c;_++)for(var u=0;u<a;u++){var f=u+_*a,d=u+(i-_-1)*a,h=l[f];l[f]=l[d],l[d]=h}e._ScreenshotCanvas||(e._ScreenshotCanvas=document.createElement("canvas")),e._ScreenshotCanvas.width=t,e._ScreenshotCanvas.height=i;var p=e._ScreenshotCanvas.getContext("2d");if(p){var b=p.createImageData(t,i);b.data.set(l),p.putImageData(b,0,0),e.EncodeScreenshotCanvasData(r,o,s)}},e.ToBlob=function(e,t,i){void 0===i&&(i="image/png"),e.toBlob||(e.toBlob=function(e,t,i){var n=this;setTimeout(function(){for(var r=atob(n.toDataURL(t,i).split(",")[1]),o=r.length,s=new Uint8Array(o),a=0;a<o;a++)s[a]=r.charCodeAt(a);e(new Blob([s]))})}),e.toBlob(function(e){t(e)},i)},e.EncodeScreenshotCanvasData=function(t,i,n){(void 0===i&&(i="image/png"),t)?t(e._ScreenshotCanvas.toDataURL(i)):this.ToBlob(e._ScreenshotCanvas,function(t){if("download"in document.createElement("a")){if(!n){var i=new Date,r=(i.getFullYear()+"-"+(i.getMonth()+1)).slice(2)+"-"+i.getDate()+"_"+i.getHours()+"-"+("0"+i.getMinutes()).slice(-2);n="screenshot_"+r+".png"}e.Download(t,n)}else{var o=URL.createObjectURL(t),s=window.open("");if(!s)return;var a=s.document.createElement("img");a.onload=function(){URL.revokeObjectURL(o)},a.src=o,s.document.body.appendChild(a)}},i)},e.Download=function(e,t){if(navigator&&navigator.msSaveBlob)navigator.msSaveBlob(e,t);else{var i=window.URL.createObjectURL(e),n=document.createElement("a");document.body.appendChild(n),n.style.display="none",n.href=i,n.download=t,n.addEventListener("click",function(){n.parentElement&&n.parentElement.removeChild(n)}),n.click(),window.URL.revokeObjectURL(i)}},e.BackCompatCameraNoPreventDefault=function(e){return"boolean"===typeof e[0]?e[0]:"boolean"===typeof e[1]&&e[1]},e.CreateScreenshot=function(e,t,i,n,r){throw void 0===r&&(r="image/png"),l.a.WarnImport("ScreenshotTools")},e.CreateScreenshotAsync=function(e,t,i,n){throw void 0===n&&(n="image/png"),l.a.WarnImport("ScreenshotTools")},e.CreateScreenshotUsingRenderTarget=function(e,t,i,n,r,o,s,a){throw void 0===r&&(r="image/png"),void 0===o&&(o=1),void 0===s&&(s=!1),l.a.WarnImport("ScreenshotTools")},e.CreateScreenshotUsingRenderTargetAsync=function(e,t,i,n,r,o,s){throw void 0===n&&(n="image/png"),void 0===r&&(r=1),void 0===o&&(o=!1),l.a.WarnImport("ScreenshotTools")},e.RandomId=function(){return A.a.RandomId()},e.IsBase64=function(e){return!(e.length<5)&&"data:"===e.substr(0,5)},e.DecodeBase64=function(e){for(var t=atob(e.split(",")[1]),i=t.length,n=new Uint8Array(new ArrayBuffer(i)),r=0;r<i;r++)n[r]=t.charCodeAt(r);return n.buffer},e.GetAbsoluteUrl=function(e){var t=document.createElement("a");return t.href=e,t.href},Object.defineProperty(e,"errorsCount",{get:function(){return s.a.errorsCount},enumerable:!1,configurable:!0}),e.Log=function(e){s.a.Log(e)},e.Warn=function(e){s.a.Warn(e)},e.Error=function(e){s.a.Error(e)},Object.defineProperty(e,"LogCache",{get:function(){return s.a.LogCache},enumerable:!1,configurable:!0}),e.ClearLogCache=function(){s.a.ClearLogCache()},Object.defineProperty(e,"LogLevels",{set:function(e){s.a.LogLevels=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"PerformanceLogLevel",{set:function(t){return(t&e.PerformanceUserMarkLogLevel)===e.PerformanceUserMarkLogLevel?(e.StartPerformanceCounter=e._StartUserMark,void(e.EndPerformanceCounter=e._EndUserMark)):(t&e.PerformanceConsoleLogLevel)===e.PerformanceConsoleLogLevel?(e.StartPerformanceCounter=e._StartPerformanceConsole,void(e.EndPerformanceCounter=e._EndPerformanceConsole)):(e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,void(e.EndPerformanceCounter=e._EndPerformanceCounterDisabled))},enumerable:!1,configurable:!0}),e._StartPerformanceCounterDisabled=function(e,t){},e._EndPerformanceCounterDisabled=function(e,t){},e._StartUserMark=function(t,i){if(void 0===i&&(i=!0),!e._performance){if(!o.a.IsWindowObjectExist())return;e._performance=window.performance}i&&e._performance.mark&&e._performance.mark(t+"-Begin")},e._EndUserMark=function(t,i){void 0===i&&(i=!0),i&&e._performance.mark&&(e._performance.mark(t+"-End"),e._performance.measure(t,t+"-Begin",t+"-End"))},e._StartPerformanceConsole=function(t,i){void 0===i&&(i=!0),i&&(e._StartUserMark(t,i),console.time&&console.time(t))},e._EndPerformanceConsole=function(t,i){void 0===i&&(i=!0),i&&(e._EndUserMark(t,i),console.timeEnd(t))},Object.defineProperty(e,"Now",{get:function(){return c.a.Now},enumerable:!1,configurable:!0}),e.GetClassName=function(e,t){void 0===t&&(t=!1);var i=null;if(!t&&e.getClassName)i=e.getClassName();else{if(e instanceof Object)i=(t?e:Object.getPrototypeOf(e)).constructor.__bjsclassName__;i||(i=typeof e)}return i},e.First=function(e,t){for(var i=0,n=e;i<n.length;i++){var r=n[i];if(t(r))return r}return null},e.getFullClassName=function(e,t){void 0===t&&(t=!1);var i=null,n=null;if(!t&&e.getClassName)i=e.getClassName();else{if(e instanceof Object){var r=t?e:Object.getPrototypeOf(e);i=r.constructor.__bjsclassName__,n=r.constructor.__bjsmoduleName__}i||(i=typeof e)}return i?(null!=n?n+".":"")+i:null},e.DelayAsync=function(e){return new Promise(function(t){setTimeout(function(){t()},e)})},e.IsSafari=function(){return/^((?!chrome|android).)*safari/i.test(navigator.userAgent)},e.UseCustomRequestHeaders=!1,e.CustomRequestHeaders=_.a.CustomRequestHeaders,e._tmpFloatArray=new Float32Array(1),e.GetDOMTextContent=o.a.GetDOMTextContent,e.NoneLogLevel=s.a.NoneLogLevel,e.MessageLogLevel=s.a.MessageLogLevel,e.WarningLogLevel=s.a.WarningLogLevel,e.ErrorLogLevel=s.a.ErrorLogLevel,e.AllLogLevel=s.a.AllLogLevel,e.IsWindowObjectExist=o.a.IsWindowObjectExist,e.PerformanceNoneLogLevel=0,e.PerformanceUserMarkLogLevel=1,e.PerformanceConsoleLogLevel=2,e.StartPerformanceCounter=e._StartPerformanceCounterDisabled,e.EndPerformanceCounter=e._EndPerformanceCounterDisabled,e}();var y=function(){function e(e,t,i,n){void 0===n&&(n=0),this.iterations=e,this.index=n-1,this._done=!1,this._fn=t,this._successCallback=i}return e.prototype.executeNext=function(){this._done||(this.index+1<this.iterations?(++this.index,this._fn(this)):this.breakLoop())},e.prototype.breakLoop=function(){this._done=!0,this._successCallback()},e.Run=function(t,i,n,r){void 0===r&&(r=0);var o=new e(t,i,n,r);return o.executeNext(),o},e.SyncAsyncForLoop=function(t,i,n,r,o,s){return void 0===s&&(s=0),e.Run(Math.ceil(t/i),function(e){o&&o()?e.breakLoop():setTimeout(function(){for(var r=0;r<i;++r){var s=e.index*i+r;if(s>=t)break;if(n(s),o&&o()){e.breakLoop();break}}e.executeNext()},s)},r)},e}();u.a.FallbackTexture="data:image/jpg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBmRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAAQAAAATgAAAAAAAABgAAAAAQAAAGAAAAABcGFpbnQubmV0IDQuMC41AP/bAEMABAIDAwMCBAMDAwQEBAQFCQYFBQUFCwgIBgkNCw0NDQsMDA4QFBEODxMPDAwSGBITFRYXFxcOERkbGRYaFBYXFv/bAEMBBAQEBQUFCgYGChYPDA8WFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFv/AABEIAQABAAMBIgACEQEDEQH/xAAfAAABBQEBAQEBAQAAAAAAAAAAAQIDBAUGBwgJCgv/xAC1EAACAQMDAgQDBQUEBAAAAX0BAgMABBEFEiExQQYTUWEHInEUMoGRoQgjQrHBFVLR8CQzYnKCCQoWFxgZGiUmJygpKjQ1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoOEhYaHiImKkpOUlZaXmJmaoqOkpaanqKmqsrO0tba3uLm6wsPExcbHyMnK0tPU1dbX2Nna4eLj5OXm5+jp6vHy8/T19vf4+fr/xAAfAQADAQEBAQEBAQEBAAAAAAAAAQIDBAUGBwgJCgv/xAC1EQACAQIEBAMEBwUEBAABAncAAQIDEQQFITEGEkFRB2FxEyIygQgUQpGhscEJIzNS8BVictEKFiQ04SXxFxgZGiYnKCkqNTY3ODk6Q0RFRkdISUpTVFVWV1hZWmNkZWZnaGlqc3R1dnd4eXqCg4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2dri4+Tl5ufo6ery8/T19vf4+fr/2gAMAwEAAhEDEQA/APH6KKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76CiiigD5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BQooooA+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/voKKKKAPl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FCiiigD6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++gooooA+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gUKKKKAPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76Pl+iiivuj+BT6gooor4U/vo+X6KKK+6P4FPqCiiivhT++j5fooor7o/gU+oKKKK+FP76P//Z",p.Apply()},660:function(e,t,i){"use strict";i.d(t,"a",function(){return n}),i.d(t,"b",function(){return r});var n=function(){function e(e,t,i,n,r,o,s,a){void 0===n&&(n=0),void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!1),this._isAlreadyOwned=!1,e.getScene?this._engine=e.getScene().getEngine():this._engine=e,this._updatable=i,this._instanced=o,this._divisor=a||1,this._data=t,this.byteStride=s?n:n*Float32Array.BYTES_PER_ELEMENT,r||this.create()}return e.prototype.createVertexBuffer=function(e,t,i,n,o,s,a){void 0===s&&(s=!1);var c=s?t:t*Float32Array.BYTES_PER_ELEMENT,l=n?s?n:n*Float32Array.BYTES_PER_ELEMENT:this.byteStride;return new r(this._engine,this,e,this._updatable,!0,l,void 0===o?this._instanced:o,c,i,void 0,void 0,!0,this._divisor||a)},e.prototype.isUpdatable=function(){return this._updatable},e.prototype.getData=function(){return this._data},e.prototype.getBuffer=function(){return this._buffer},e.prototype.getStrideSize=function(){return this.byteStride/Float32Array.BYTES_PER_ELEMENT},e.prototype.create=function(e){void 0===e&&(e=null),!e&&this._buffer||(e=e||this._data)&&(this._buffer?this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,e),this._data=e):this._updatable?(this._buffer=this._engine.createDynamicVertexBuffer(e),this._data=e):this._buffer=this._engine.createVertexBuffer(e))},e.prototype._rebuild=function(){this._buffer=null,this.create(this._data)},e.prototype.update=function(e){this.create(e)},e.prototype.updateDirectly=function(e,t,i,n){void 0===n&&(n=!1),this._buffer&&this._updatable&&(this._engine.updateDynamicVertexBuffer(this._buffer,e,n?t:t*Float32Array.BYTES_PER_ELEMENT,i?i*this.byteStride:void 0),this._data=null)},e.prototype._increaseReferences=function(){this._buffer&&(this._isAlreadyOwned?this._buffer.references++:this._isAlreadyOwned=!0)},e.prototype.dispose=function(){this._buffer&&this._engine._releaseBuffer(this._buffer)&&(this._buffer=null)},e}(),r=function(){function e(t,i,r,o,s,a,c,l,_,u,f,d,h,p){if(void 0===f&&(f=!1),void 0===d&&(d=!1),void 0===h&&(h=1),void 0===p&&(p=!1),i instanceof n?(this._buffer=i,this._ownsBuffer=p,p&&this._buffer._increaseReferences()):(this._buffer=new n(t,i,o,a,s,c,d),this._ownsBuffer=!0),this._kind=r,void 0==u){var b=this.getData();this.type=e.FLOAT,b instanceof Int8Array?this.type=e.BYTE:b instanceof Uint8Array?this.type=e.UNSIGNED_BYTE:b instanceof Int16Array?this.type=e.SHORT:b instanceof Uint16Array?this.type=e.UNSIGNED_SHORT:b instanceof Int32Array?this.type=e.INT:b instanceof Uint32Array&&(this.type=e.UNSIGNED_INT)}else this.type=u;var m=e.GetTypeByteLength(this.type);d?(this._size=_||(a?a/m:e.DeduceStride(r)),this.byteStride=a||this._buffer.byteStride||this._size*m,this.byteOffset=l||0):(this._size=_||a||e.DeduceStride(r),this.byteStride=a?a*m:this._buffer.byteStride||this._size*m,this.byteOffset=(l||0)*m),this.normalized=f,this._instanced=void 0!==c&&c,this._instanceDivisor=c?h:0}return Object.defineProperty(e.prototype,"instanceDivisor",{get:function(){return this._instanceDivisor},set:function(e){this._instanceDivisor=e,this._instanced=0!=e},enumerable:!1,configurable:!0}),e.prototype._rebuild=function(){this._buffer&&this._buffer._rebuild()},e.prototype.getKind=function(){return this._kind},e.prototype.isUpdatable=function(){return this._buffer.isUpdatable()},e.prototype.getData=function(){return this._buffer.getData()},e.prototype.getBuffer=function(){return this._buffer.getBuffer()},e.prototype.getStrideSize=function(){return this.byteStride/e.GetTypeByteLength(this.type)},e.prototype.getOffset=function(){return this.byteOffset/e.GetTypeByteLength(this.type)},e.prototype.getSize=function(){return this._size},e.prototype.getIsInstanced=function(){return this._instanced},e.prototype.getInstanceDivisor=function(){return this._instanceDivisor},e.prototype.create=function(e){this._buffer.create(e)},e.prototype.update=function(e){this._buffer.update(e)},e.prototype.updateDirectly=function(e,t,i){void 0===i&&(i=!1),this._buffer.updateDirectly(e,t,void 0,i)},e.prototype.dispose=function(){this._ownsBuffer&&this._buffer.dispose()},e.prototype.forEach=function(t,i){e.ForEach(this._buffer.getData(),this.byteOffset,this.byteStride,this._size,this.type,t,this.normalized,i)},e.DeduceStride=function(t){switch(t){case e.UVKind:case e.UV2Kind:case e.UV3Kind:case e.UV4Kind:case e.UV5Kind:case e.UV6Kind:return 2;case e.NormalKind:case e.PositionKind:return 3;case e.ColorKind:case e.MatricesIndicesKind:case e.MatricesIndicesExtraKind:case e.MatricesWeightsKind:case e.MatricesWeightsExtraKind:case e.TangentKind:return 4;default:throw new Error("Invalid kind '"+t+"'")}},e.GetTypeByteLength=function(t){switch(t){case e.BYTE:case e.UNSIGNED_BYTE:return 1;case e.SHORT:case e.UNSIGNED_SHORT:return 2;case e.INT:case e.UNSIGNED_INT:case e.FLOAT:return 4;default:throw new Error("Invalid type '"+t+"'")}},e.ForEach=function(t,i,n,r,o,s,a,c){if(t instanceof Array)for(var l=i/4,_=n/4,u=0;u<s;u+=r){for(var f=0;f<r;f++)c(t[l+f],u+f);l+=_}else{var d=t instanceof ArrayBuffer?new DataView(t):new DataView(t.buffer,t.byteOffset,t.byteLength),h=e.GetTypeByteLength(o);for(u=0;u<s;u+=r){var p=i;for(f=0;f<r;f++){c(e._GetFloatValue(d,o,p,a),u+f),p+=h}i+=n}}},e._GetFloatValue=function(t,i,n,r){switch(i){case e.BYTE:var o=t.getInt8(n);return r&&(o=Math.max(o/127,-1)),o;case e.UNSIGNED_BYTE:o=t.getUint8(n);return r&&(o/=255),o;case e.SHORT:o=t.getInt16(n,!0);return r&&(o=Math.max(o/32767,-1)),o;case e.UNSIGNED_SHORT:o=t.getUint16(n,!0);return r&&(o/=65535),o;case e.INT:return t.getInt32(n,!0);case e.UNSIGNED_INT:return t.getUint32(n,!0);case e.FLOAT:return t.getFloat32(n,!0);default:throw new Error("Invalid component type "+i)}},e.BYTE=5120,e.UNSIGNED_BYTE=5121,e.SHORT=5122,e.UNSIGNED_SHORT=5123,e.INT=5124,e.UNSIGNED_INT=5125,e.FLOAT=5126,e.PositionKind="position",e.NormalKind="normal",e.TangentKind="tangent",e.UVKind="uv",e.UV2Kind="uv2",e.UV3Kind="uv3",e.UV4Kind="uv4",e.UV5Kind="uv5",e.UV6Kind="uv6",e.ColorKind="color",e.MatricesIndicesKind="matricesIndices",e.MatricesWeightsKind="matricesWeights",e.MatricesIndicesExtraKind="matricesIndicesExtra",e.MatricesWeightsExtraKind="matricesWeightsExtra",e}()},667:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.WarnImport=function(e){return e+" needs to be imported before as it contains a side-effect required by your code."},e}()},668:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return Object.defineProperty(e,"LastCreatedEngine",{get:function(){return 0===this.Instances.length?null:this.Instances[this.Instances.length-1]},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LastCreatedScene",{get:function(){return this._LastCreatedScene},enumerable:!1,configurable:!0}),e.Instances=new Array,e._LastCreatedScene=null,e.UseFallbackTexture=!0,e.FallbackTexture="",e}()},669:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(644),r=i(648),o=i(650),s=i(30),a=i(762),c=i(105),l=i(667),_=i(938),u=i(939),f=i(166),d=i(702),h=function(){function e(){}return e.GenerateBase64StringFromTexture=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=0);var n=e.getInternalTexture();if(!n)return null;var r=e.readPixels(t,i);if(!r)return null;var o=e.getSize(),s=o.width,a=o.height;if(r instanceof Float32Array){for(var c=r.byteLength/r.BYTES_PER_ELEMENT,l=new Uint8Array(c);--c>=0;){var _=r[c];_<0?_=0:_>1&&(_=1),l[c]=255*_}r=l}var u=document.createElement("canvas");u.width=s,u.height=a;var f=u.getContext("2d");if(!f)return null;var d=f.createImageData(s,a);if(d.data.set(r),f.putImageData(d,0,0),n.invertY){var h=document.createElement("canvas");h.width=s,h.height=a;var p=h.getContext("2d");return p?(p.translate(0,a),p.scale(1,-1),p.drawImage(u,0,0),h.toDataURL("image/png")):null}return u.toDataURL("image/png")},e}(),p=function(e){function t(i,n,r,s,a,c,l,u,f,d,h,p){void 0===r&&(r=!1),void 0===s&&(s=!0),void 0===a&&(a=t.TRILINEAR_SAMPLINGMODE),void 0===c&&(c=null),void 0===l&&(l=null),void 0===u&&(u=null),void 0===f&&(f=!1);var b=e.call(this,n)||this;b.url=null,b.uOffset=0,b.vOffset=0,b.uScale=1,b.vScale=1,b.uAng=0,b.vAng=0,b.wAng=0,b.uRotationCenter=.5,b.vRotationCenter=.5,b.wRotationCenter=.5,b.homogeneousRotationInUVTransform=!1,b.inspectableCustomProperties=null,b._noMipmap=!1,b._invertY=!1,b._rowGenerationMatrix=null,b._cachedTextureMatrix=null,b._projectionModeMatrix=null,b._t0=null,b._t1=null,b._t2=null,b._cachedUOffset=-1,b._cachedVOffset=-1,b._cachedUScale=0,b._cachedVScale=0,b._cachedUAng=-1,b._cachedVAng=-1,b._cachedWAng=-1,b._cachedProjectionMatrixId=-1,b._cachedURotationCenter=-1,b._cachedVRotationCenter=-1,b._cachedWRotationCenter=-1,b._cachedHomogeneousRotationInUVTransform=!1,b._cachedCoordinatesMode=-1,b._initialSamplingMode=t.BILINEAR_SAMPLINGMODE,b._buffer=null,b._deleteBuffer=!1,b._format=null,b._delayedOnLoad=null,b._delayedOnError=null,b.onLoadObservable=new o.a,b._isBlocking=!0,b.name=i||"",b.url=i,b._noMipmap=r,b._invertY=s,b._initialSamplingMode=a,b._buffer=u,b._deleteBuffer=f,b._mimeType=h,b._loaderOptions=p,d&&(b._format=d);var m=b.getScene(),A=b._getEngine();if(!A)return b;A.onBeforeTextureInitObservable.notifyObservers(b);var g=function(){b._texture&&(b._texture._invertVScale&&(b.vScale*=-1,b.vOffset+=1),null!==b._texture._cachedWrapU&&(b.wrapU=b._texture._cachedWrapU,b._texture._cachedWrapU=null),null!==b._texture._cachedWrapV&&(b.wrapV=b._texture._cachedWrapV,b._texture._cachedWrapV=null),null!==b._texture._cachedWrapR&&(b.wrapR=b._texture._cachedWrapR,b._texture._cachedWrapR=null)),b.onLoadObservable.hasObservers()&&b.onLoadObservable.notifyObservers(b),c&&c(),!b.isBlocking&&m&&m.resetCachedMaterial()};return b.url?(b._texture=b._getFromCache(b.url,r,a,s),b._texture?b._texture.isReady?_.a.SetImmediate(function(){return g()}):b._texture.onLoadedObservable.add(g):m&&m.useDelayedTextureLoading?(b.delayLoadState=4,b._delayedOnLoad=g,b._delayedOnError=l):(b._texture=A.createTexture(b.url,r,s,m,a,g,l,b._buffer,void 0,b._format,null,h,p),f&&(b._buffer=null)),b):(b._delayedOnLoad=g,b._delayedOnError=l,b)}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"noMipmap",{get:function(){return this._noMipmap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mimeType",{get:function(){return this._mimeType},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBlocking",{get:function(){return this._isBlocking},set:function(e){this._isBlocking=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"samplingMode",{get:function(){return this._texture?this._texture.samplingMode:this._initialSamplingMode},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invertY",{get:function(){return this._invertY},enumerable:!1,configurable:!0}),t.prototype.updateURL=function(e,t,i){void 0===t&&(t=null),this.url&&(this.releaseInternalTexture(),this.getScene().markAllMaterialsAsDirty(1)),this.name&&!d.a.StartsWith(this.name,"data:")||(this.name=e),this.url=e,this._buffer=t,this.delayLoadState=4,i&&(this._delayedOnLoad=i),this.delayLoad()},t.prototype.delayLoad=function(){if(4===this.delayLoadState){var e=this.getScene();e&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap,this.samplingMode,this._invertY),this._texture?this._delayedOnLoad&&(this._texture.isReady?_.a.SetImmediate(this._delayedOnLoad):this._texture.onLoadedObservable.add(this._delayedOnLoad)):(this._texture=e.getEngine().createTexture(this.url,this._noMipmap,this._invertY,e,this.samplingMode,this._delayedOnLoad,this._delayedOnError,this._buffer,null,this._format,null,this._mimeType,this._loaderOptions),this._deleteBuffer&&(this._buffer=null)),this._delayedOnLoad=null,this._delayedOnError=null)}},t.prototype._prepareRowForTextureGeneration=function(e,t,i,n){e*=this._cachedUScale,t*=this._cachedVScale,e-=this.uRotationCenter*this._cachedUScale,t-=this.vRotationCenter*this._cachedVScale,i-=this.wRotationCenter,s.e.TransformCoordinatesFromFloatsToRef(e,t,i,this._rowGenerationMatrix,n),n.x+=this.uRotationCenter*this._cachedUScale+this._cachedUOffset,n.y+=this.vRotationCenter*this._cachedVScale+this._cachedVOffset,n.z+=this.wRotationCenter},t.prototype.checkTransformsAreIdentical=function(e){return null!==e&&this.uOffset===e.uOffset&&this.vOffset===e.vOffset&&this.uScale===e.uScale&&this.vScale===e.vScale&&this.uAng===e.uAng&&this.vAng===e.vAng&&this.wAng===e.wAng},t.prototype.getTextureMatrix=function(e){var t=this;if(void 0===e&&(e=1),this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale*e===this._cachedUScale&&this.vScale===this._cachedVScale&&this.uAng===this._cachedUAng&&this.vAng===this._cachedVAng&&this.wAng===this._cachedWAng&&this.uRotationCenter===this._cachedURotationCenter&&this.vRotationCenter===this._cachedVRotationCenter&&this.wRotationCenter===this._cachedWRotationCenter&&this.homogeneousRotationInUVTransform===this._cachedHomogeneousRotationInUVTransform)return this._cachedTextureMatrix;this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale*e,this._cachedVScale=this.vScale,this._cachedUAng=this.uAng,this._cachedVAng=this.vAng,this._cachedWAng=this.wAng,this._cachedURotationCenter=this.uRotationCenter,this._cachedVRotationCenter=this.vRotationCenter,this._cachedWRotationCenter=this.wRotationCenter,this._cachedHomogeneousRotationInUVTransform=this.homogeneousRotationInUVTransform,this._cachedTextureMatrix&&this._rowGenerationMatrix||(this._cachedTextureMatrix=s.a.Zero(),this._rowGenerationMatrix=new s.a,this._t0=s.e.Zero(),this._t1=s.e.Zero(),this._t2=s.e.Zero()),s.a.RotationYawPitchRollToRef(this.vAng,this.uAng,this.wAng,this._rowGenerationMatrix),this.homogeneousRotationInUVTransform?(s.a.TranslationToRef(-this._cachedURotationCenter,-this._cachedVRotationCenter,-this._cachedWRotationCenter,s.c.Matrix[0]),s.a.TranslationToRef(this._cachedURotationCenter,this._cachedVRotationCenter,this._cachedWRotationCenter,s.c.Matrix[1]),s.a.ScalingToRef(this._cachedUScale,this._cachedVScale,0,s.c.Matrix[2]),s.a.TranslationToRef(this._cachedUOffset,this._cachedVOffset,0,s.c.Matrix[3]),s.c.Matrix[0].multiplyToRef(this._rowGenerationMatrix,this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(s.c.Matrix[1],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(s.c.Matrix[2],this._cachedTextureMatrix),this._cachedTextureMatrix.multiplyToRef(s.c.Matrix[3],this._cachedTextureMatrix),this._cachedTextureMatrix.setRowFromFloats(2,this._cachedTextureMatrix.m[12],this._cachedTextureMatrix.m[13],this._cachedTextureMatrix.m[14],1)):(this._prepareRowForTextureGeneration(0,0,0,this._t0),this._prepareRowForTextureGeneration(1,0,0,this._t1),this._prepareRowForTextureGeneration(0,1,0,this._t2),this._t1.subtractInPlace(this._t0),this._t2.subtractInPlace(this._t0),s.a.FromValuesToRef(this._t1.x,this._t1.y,this._t1.z,0,this._t2.x,this._t2.y,this._t2.z,0,this._t0.x,this._t0.y,this._t0.z,0,0,0,0,1,this._cachedTextureMatrix));var i=this.getScene();return i?(i.markAllMaterialsAsDirty(1,function(e){return e.hasTexture(t)}),this._cachedTextureMatrix):this._cachedTextureMatrix},t.prototype.getReflectionTextureMatrix=function(){var e=this,i=this.getScene();if(!i)return this._cachedTextureMatrix;if(this.uOffset===this._cachedUOffset&&this.vOffset===this._cachedVOffset&&this.uScale===this._cachedUScale&&this.vScale===this._cachedVScale&&this.coordinatesMode===this._cachedCoordinatesMode){if(this.coordinatesMode!==t.PROJECTION_MODE)return this._cachedTextureMatrix;if(this._cachedProjectionMatrixId===i.getProjectionMatrix().updateFlag)return this._cachedTextureMatrix}switch(this._cachedTextureMatrix||(this._cachedTextureMatrix=s.a.Zero()),this._projectionModeMatrix||(this._projectionModeMatrix=s.a.Zero()),this._cachedUOffset=this.uOffset,this._cachedVOffset=this.vOffset,this._cachedUScale=this.uScale,this._cachedVScale=this.vScale,this._cachedCoordinatesMode=this.coordinatesMode,this.coordinatesMode){case t.PLANAR_MODE:s.a.IdentityToRef(this._cachedTextureMatrix),this._cachedTextureMatrix[0]=this.uScale,this._cachedTextureMatrix[5]=this.vScale,this._cachedTextureMatrix[12]=this.uOffset,this._cachedTextureMatrix[13]=this.vOffset;break;case t.PROJECTION_MODE:s.a.FromValuesToRef(.5,0,0,0,0,-.5,0,0,0,0,0,0,.5,.5,1,1,this._projectionModeMatrix);var n=i.getProjectionMatrix();this._cachedProjectionMatrixId=n.updateFlag,n.multiplyToRef(this._projectionModeMatrix,this._cachedTextureMatrix);break;default:s.a.IdentityToRef(this._cachedTextureMatrix)}return i.markAllMaterialsAsDirty(1,function(t){return-1!==t.getActiveTextures().indexOf(e)}),this._cachedTextureMatrix},t.prototype.clone=function(){var e=this;return r.a.Clone(function(){return new t(e._texture?e._texture.url:null,e.getScene(),e._noMipmap,e._invertY,e.samplingMode,void 0,void 0,e._texture?e._texture._buffer:void 0)},this)},t.prototype.serialize=function(){var i=this.name;t.SerializeBuffers||d.a.StartsWith(this.name,"data:")&&(this.name=""),d.a.StartsWith(this.name,"data:")&&this.url===this.name&&(this.url="");var n=e.prototype.serialize.call(this);return n?((t.SerializeBuffers||t.ForceSerializeBuffers)&&("string"===typeof this._buffer&&"data:"===this._buffer.substr(0,5)?(n.base64String=this._buffer,n.name=n.name.replace("data:","")):this.url&&d.a.StartsWith(this.url,"data:")&&this._buffer instanceof Uint8Array?n.base64String="data:image/png;base64,"+d.a.EncodeArrayBufferToBase64(this._buffer):t.ForceSerializeBuffers&&(n.base64String=h.GenerateBase64StringFromTexture(this))),n.invertY=this._invertY,n.samplingMode=this.samplingMode,this.name=i,n):null},t.prototype.getClassName=function(){return"Texture"},t.prototype.dispose=function(){e.prototype.dispose.call(this),this.onLoadObservable.clear(),this._delayedOnLoad=null,this._delayedOnError=null},t.Parse=function(e,i,n){if(e.customType){var o=u.a.Instantiate(e.customType).Parse(e,i,n);return e.samplingMode&&o.updateSamplingMode&&o._samplingMode&&o._samplingMode!==e.samplingMode&&o.updateSamplingMode(e.samplingMode),o}if(e.isCube&&!e.isRenderTarget)return t._CubeTextureParser(e,i,n);if(!e.name&&!e.isRenderTarget)return null;var s=function(){if(a&&a._texture&&(a._texture._cachedWrapU=null,a._texture._cachedWrapV=null,a._texture._cachedWrapR=null),e.samplingMode){var t=e.samplingMode;a&&a.samplingMode!==t&&a.updateSamplingMode(t)}if(a&&e.animations)for(var i=0;i<e.animations.length;i++){var n=e.animations[i],r=c.a.GetClass("BABYLON.Animation");r&&a.animations.push(r.Parse(n))}},a=r.a.Parse(function(){var r,o=!0;if(e.noMipmap&&(o=!1),e.mirrorPlane){var a=t._CreateMirror(e.name,e.renderTargetSize,i,o);return a._waitingRenderList=e.renderList,a.mirrorPlane=f.a.FromArray(e.mirrorPlane),s(),a}if(e.isRenderTarget){var c=null;if(e.isCube){if(i.reflectionProbes)for(var l=0;l<i.reflectionProbes.length;l++){var _=i.reflectionProbes[l];if(_.name===e.name)return _.cubeTexture}}else(c=t._CreateRenderTargetTexture(e.name,e.renderTargetSize,i,o))._waitingRenderList=e.renderList;return s(),c}if(e.base64String)r=t.CreateFromBase64String(e.base64String,e.name,i,!o,e.invertY,void 0,s);else{var u=void 0;u=e.name&&e.name.indexOf("://")>0?e.name:n+e.name,(d.a.StartsWith(e.url,"data:")||t.UseSerializedUrlIfAny&&e.url)&&(u=e.url),r=new t(u,i,!o,e.invertY,void 0,s)}return r},e,i);return a},t.CreateFromBase64String=function(e,i,n,r,o,s,a,c,l){return void 0===s&&(s=t.TRILINEAR_SAMPLINGMODE),void 0===a&&(a=null),void 0===c&&(c=null),void 0===l&&(l=5),new t("data:"+i,n,r,o,s,a,c,e,!1,l)},t.LoadFromDataString=function(e,i,n,r,o,s,a,c,l,_){return void 0===r&&(r=!1),void 0===o&&(o=!1),void 0===s&&(s=!0),void 0===a&&(a=t.TRILINEAR_SAMPLINGMODE),void 0===c&&(c=null),void 0===l&&(l=null),void 0===_&&(_=5),"data:"!==e.substr(0,5)&&(e="data:"+e),new t(e,n,o,s,a,c,l,i,r,_)},t.SerializeBuffers=!0,t.ForceSerializeBuffers=!1,t._CubeTextureParser=function(e,t,i){throw l.a.WarnImport("CubeTexture")},t._CreateMirror=function(e,t,i,n){throw l.a.WarnImport("MirrorTexture")},t._CreateRenderTargetTexture=function(e,t,i,n){throw l.a.WarnImport("RenderTargetTexture")},t.NEAREST_SAMPLINGMODE=1,t.NEAREST_NEAREST_MIPLINEAR=8,t.BILINEAR_SAMPLINGMODE=2,t.LINEAR_LINEAR_MIPNEAREST=11,t.TRILINEAR_SAMPLINGMODE=3,t.LINEAR_LINEAR_MIPLINEAR=3,t.NEAREST_NEAREST_MIPNEAREST=4,t.NEAREST_LINEAR_MIPNEAREST=5,t.NEAREST_LINEAR_MIPLINEAR=6,t.NEAREST_LINEAR=7,t.NEAREST_NEAREST=1,t.LINEAR_NEAREST_MIPNEAREST=9,t.LINEAR_NEAREST_MIPLINEAR=10,t.LINEAR_LINEAR=2,t.LINEAR_NEAREST=12,t.EXPLICIT_MODE=0,t.SPHERICAL_MODE=1,t.PLANAR_MODE=2,t.CUBIC_MODE=3,t.PROJECTION_MODE=4,t.SKYBOX_MODE=5,t.INVCUBIC_MODE=6,t.EQUIRECTANGULAR_MODE=7,t.FIXED_EQUIRECTANGULAR_MODE=8,t.FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,t.CLAMP_ADDRESSMODE=0,t.WRAP_ADDRESSMODE=1,t.MIRROR_ADDRESSMODE=2,t.UseSerializedUrlIfAny=!1,Object(n.b)([Object(r.c)()],t.prototype,"url",void 0),Object(n.b)([Object(r.c)()],t.prototype,"uOffset",void 0),Object(n.b)([Object(r.c)()],t.prototype,"vOffset",void 0),Object(n.b)([Object(r.c)()],t.prototype,"uScale",void 0),Object(n.b)([Object(r.c)()],t.prototype,"vScale",void 0),Object(n.b)([Object(r.c)()],t.prototype,"uAng",void 0),Object(n.b)([Object(r.c)()],t.prototype,"vAng",void 0),Object(n.b)([Object(r.c)()],t.prototype,"wAng",void 0),Object(n.b)([Object(r.c)()],t.prototype,"uRotationCenter",void 0),Object(n.b)([Object(r.c)()],t.prototype,"vRotationCenter",void 0),Object(n.b)([Object(r.c)()],t.prototype,"wRotationCenter",void 0),Object(n.b)([Object(r.c)()],t.prototype,"homogeneousRotationInUVTransform",void 0),Object(n.b)([Object(r.c)()],t.prototype,"isBlocking",null),t}(a.a);c.a.RegisteredTypes["BABYLON.Texture"]=p,r.a._TextureParser=p.Parse},671:function(e,t,i){"use strict";i.d(t,"a",function(){return nt});var n=i(644),r=i(648),o=i(669),s=i(763),a=(i(977),i(874),function(){function e(){}return e.ExpandRGBDTexture=function(e){var t=e._texture;if(t&&e.isRGBD){var i=t.getEngine(),n=i.getCaps(),r=!1;n.textureHalfFloatRender&&n.textureHalfFloatLinearFiltering?(r=!0,t.type=2):n.textureFloatRender&&n.textureFloatLinearFiltering&&(r=!0,t.type=1),r&&(t.isReady=!1,t._isRGBD=!1,t.invertY=!1),e.onLoadObservable.addOnce(function(){if(r){var n=new s.a("rgbdDecode","rgbdDecode",null,null,1,null,3,i,!1,void 0,t.type,void 0,null,!1),o=i.createRenderTargetTexture(t.width,{generateDepthBuffer:!1,generateMipMaps:!1,generateStencilBuffer:!1,samplingMode:t.samplingMode,type:t.type,format:5});n.getEffect().executeWhenCompiled(function(){n.onApply=function(e){e._bindTexture("textureSampler",t),e.setFloat2("scale",1,1)},e.getScene().postProcessManager.directRender([n],o,!0),i.restoreDefaultFramebuffer(),i._releaseTexture(t),i._releaseFramebufferObjects(o),n&&n.dispose(),o._swapAndDie(t),t.isReady=!0})}})}},e}()),c=function(){function e(){}return e.GetEnvironmentBRDFTexture=function(e){if(!e.environmentBRDFTexture){var t=e.useDelayedTextureLoading;e.useDelayedTextureLoading=!1;var i=e._blockEntityCollection;e._blockEntityCollection=!1;var n=o.a.CreateFromBase64String(this._environmentBRDFBase64Texture,"EnvironmentBRDFTexture"+this._instanceNumber++,e,!0,!1,o.a.BILINEAR_SAMPLINGMODE);e._blockEntityCollection=i;var r=e.getEngine().getLoadedTexturesCache(),s=r.indexOf(n.getInternalTexture());-1!==s&&r.splice(s,1),n.isRGBD=!0,n.wrapU=o.a.CLAMP_ADDRESSMODE,n.wrapV=o.a.CLAMP_ADDRESSMODE,e.environmentBRDFTexture=n,e.useDelayedTextureLoading=t,a.ExpandRGBDTexture(n)}return e.environmentBRDFTexture},e._instanceNumber=0,e._environmentBRDFBase64Texture="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAQAAAAEACAYAAABccqhmAAAgAElEQVR42u29yY5tWXIlZnbuiSaTbZFUkZRKrCKhElASQA0EoQABgn6hJvoXzfUP+gP9hWb6Bg00IgRoQJaKqUxmZmTEe8/v0uB2u7Fm2T7HIyIrnz88uPvt3f2a2WrMbOvf/u3PvvzP/sUf/N6//i8vf/lv/3v5H//d//Sb//Uq/5u8yf8hV/m/5Cp/L1f5hVzlG7nKJ7mKyJuIXN/hPwqXI/g++zq6rPI5u8z+WqfLre+zy7PrVv9L8brsMiGvk8XLmM/sdfHXal4e3ad6GXPdyu2ij8u/+uv/5cuf/OSLfdtEfvUr+dnf/d0X//t3H/7bf/hP//N/928h/0Yg/4VA/kogfyGQP5Wr/IFAvhbIlwK5CGQTPP+9z5uPeePJSW+yo2+s/GtN30Rnv1E+f5zxof9R/lSXv/nr//mrr3+i+5dfyX7ZZQP07Tffys//8R/l/9TtX7790T/7r/8G8pdy+/8XAvnnAvkzgfwzgfyxQP5AIL8vkJ8K5KsmMVzu1U7p5PA5AXxOAJ8TwPf7sX/51ZeXfcemqnp9w/W77/S7X/6T/vzf/7383RWCX3/z05/9i3/13/0PX//eX/2FyP8tIv+PiPy9iPy/IvIzEfm5iPxCRH4lIt/c/393//9BRD6KyKf7f488fP74/PH544dJAF9cLl98IZfLBZtuqterXr/7Dt9982v95S9+Lv+gF/3i7Spv/8lf/vnf/vGf/dF/JfKnIvLnIvLvReQ/NEngn0TklyLy6/v/34jIt00iGJOBlxAsdvv54/PH5493SQCXy9t2ueh2ueimKorrFbjq9eNH+fDtb+TXv/ol/vHyhX4Fxfbx7euPf/Lnf/PfiPyeiPyhiPxxkwB+fk8AvxzQgJcIrGTwFsiAEXH4/PH54/PHUgLY7whgu2C7bLqpQgHB2xvePn6SDx8+6G9+84384vKF/IPu8iVU9Y/+7C/+jWxffiHytYj8VER+X0T+oEEBvxqQwCMJeIngo5EI3goIwVMIPn98/vj8ESaAbbtu2ybbvl8u2ybbdtluSECA65u8ffqIDx8+6G++/VZ/efkV/sO261dQXP7wT/7kX8vl8qXIFyLylbySwe/dE0CLAr65B/9vGn0gQwRMMqgmhM/J4fPH548eAezbZd/lsm3YtssNAYiqiogAAkCvb5/k46cP8u2HD/rrb7+R/2/b9Wu9yJe//8d/9Ney6S5yEZFdRL68/38khG/uKOCnAwoYkcCoEXwkEgGDDq7CeQfyOTl8/vhd1QCum26ybZtu2yabbrKpQvXue1yvuF6v+vbpTT5+/CDffviAX1++1V9sO77WXb/66R/+4V/dgkbllQi+aBLBV/dE8LWRALwkYCWCNyMZXElkwLTMeMkga/P4/PH547ccAVwuctkvdxSw6bbdtYDbTfSZBN7e8PHTR/3u4wf55vKd/nL7DX6mu3791U9//5+/gkNFZGuSgZUQvnKowKgLWLTAQgRtEniTuEfwaELw0MJvf3LQzynud+53uG+X6y3gN9kul+2y6XVT1U27JCDAFVc8ksAn/e7jR/nN5YP+avtWfq6Xy9f7Vz/9w1dgRYngiyYhfNkkgzYBWHTg44AEMmqQUYQKOmDaiCIa8TmsfmzB+DnZDQjgcpGLbti2y3bZHjRAdRMVvb/dcYU8kcDbPQlsH/CrbddfbF98+RPZfvLFnAQeieCRDC5DMvju/vmD4JkEvjRQgKULeGggowdHkAHTYxihg89vu88I5UeGAPSOAFTlrgPopiqbKPSmCKreUoAAkCcSePukHz590m8vH+WbD9/JP335k6/+tA86KxFchv8jMvhiogE4JQm8XhfKqOAqx5qRPyeGzx8/cgSwbXcUoLJtim27C4Oi93+4v6VxQwKAvl2v+Hj9pB8+fZJvt4/yzfbF9lPdv/wJnsE2BogmyeCRED40tGFvksIXiSbgiYSRRpDNDZ6BDI6ghM+J4fPHeyKAO+zX7cb9t4tedMMNAQju5V+f1uAtBSiu1zsduMrHy5t8ePsk3376KN98sX/xE5FPAnm7/782o0DiUINXMkCXCB7/P94/e87AWUmARQWVvgMuKej9t1RLBp+Tw+ePgwngsutFFdu26WXbbl+rSvdfbnqAiuA23QcBgCugV1zl7e1NPm5v+LC96XfbJ/1W9y++fgXjA3bDYXV+MuhRwSPwL3JLMFYC+HS/LU8HYrGwIhwyNOF12SvgM4SgztdifP85MXz+KGsA2C6X7aJ6bXSAOwrY5OYIqGy3d5uq4P5GhABXuV6veLvRAf10fZMPb2/y3b7vX7+g+9v98/WOBq7GG7RNAlYy+Dgkhhb+Xxp0sE8IAC4SGAP/TbgVJK/PoJPBnAiwPKxsXfbbnRg+i3s/JAK4Q/4b9NfLtomBAqCickMBjy7BuywAUVyv8na94tMjCVzf9KNcLl/0SeA6oAEYb1i9g+FtSALb/bKL8/+t+wxXFMyswqiHoK4ToIgKqslgpg1qUC0QoYbvJZg/B/q5v4szHmPX7YEAsD0CX25OwEUVm9xag1+agKg+nxQArnKjAtDr9U0+Xd/k4/UqH7bL5YsewrcBBiMJZPRAp6TwQgWfjM9vgRbgUYGL8AvLWH2gqhesCokeUmCSwPsnhs8fP2YNYMO2XeSmAWxy2VQaXeDmDIhApf33rD4PTUCuV+DtCn27XuXT5ir8VmCJ2G5BpBM8/r/dEcJb8/0lEQMtJHA5TAlqNuLRhJChhEpSqFabH3di+G1AGj+W1/dyAR4IYJNNnuLf6+tWC9CHHiAtFhAIFLjK2/Uqn65X+SS67aK+3QeTDoy/IG2ogQ7fb/dAtz5vBgrYGqrwNtCHsVfgIvwK07OTQBURVNCBFpKCOjqCHn5L/67TgTN+fpySAC56nwSUi256kXsSuFGAVyLoUIDo8/Pz7fdoErr/v17lk162HbgHvFpIYDfoAJJfW4sGPjkU4VNAF8ZEcLmLhdc7kljdY1y1Dq9yLiI4IiRqcLujb138KIPn80ejATwRwIbtBvn1cqv+2J78/5EI5N4cJA8qIPcmwRsKAHDF9WYP6mV7VmrgLuTpxYTcMEW0LAmoQxFsuvAI8tv/a/C5fV2ZMMiKg++FCM7RDPRu8ebWY7VG6VJi+Bzk35MI2LsAckMAgwvQ0gC5DQjd3ABg2HQLAPpEAlZ1Bu7VV7MGHDFRAbo3VKsTbAY9sPWC/uvx86gBbDK3D1eEQS8pbAeSgSwmhepnJb6uBv/o/PzHLzxWA/X7TH77De5j6AGQi6o0CUGfCOD2X7cXAlCFQABtEsGLDtxuOyQB2UTQBKZe5GUPXgkUYCUAbZJRhBDeuq8xBf+bgwbehDm+BFQi2IJksOocvA8ysIMfxluVcRsY/eB3JzH8GFDAXQO48X/dcIf9jyDHptIigDsFkEe066tBSETQUYF7ElDdYEBytN4+rk9UcBPfrKaZqFHWcw3i4J8/X4ev2//bSXqAhwTay6OEIPLD2Ipt8OtAGzxkwLw9WVFRjTc/qC6H3+YK/b1oAA0KuOizHfieCLaHHiAb5NYTIC9EMEbZrVEQt1xwhVy1UfBh8PUOquMizwaap3tQXfY5B//tea/NZdfhsvbz+PURQTDSGWB87VX/7WSd4KxjUqrIgE0IUkoKGnhIvwvawpGf6eECXJ7tv4qbA7DJgwpsKthEmmYgfaAAffYF3HLxo0vwNjJ0SwRWMG4db4eh1gPNm18vQ+us/0eGmxDemu/fnM/X4evq/8342ksGHgLY5LyT/zg0wM8lcMjgGFXwqIOVFJBQw99eCvF9oZL9Mfl3QwAvIXDsBRC9R+fz8x0FPBLB0xJEpwUobrfAkARgIAF41h3wQgP6QAmX5E/7eI43IxGwwf/moIkRyWRJQIPgt9CA9b39nzt4bYUWjAlCjWDPgv8IEjgLJfzuaAsrv9VdVG4OwOXW/fdoA35qAdL0BDwvf6AAUVHd8LIEu94A3K+Q+2YxaB84MOH62P//qoo38fCRDERE2zf0JfmDa+MieElAjcDPKz+mRKCOtdgGtXaBjgNJ4H2owSpNeAW/rRH4CaHSpMwnBYYycjgSJwfie9CR6mPu20Uv8kABF206AvXlBMiIBPSlB9wjBW1fwEuSb94296VCqgMaGCt/G1BbExi3IG+r3a3J6P48Gv/J0YmEYoiGY7V/SxwFCwGoE/xa0AJ0CEiV9QPCJb1OJ5F1VTjEY2/MO9AEJvj1BJTQpqLfTlGwjABuzT962e4IoKnyrdh3+/6mzDVJ4PHOxj0JqGKoy20+wBMN6D1gLWi9NQHfVP5MEEPzjGYy8BMAOnTAJgEr8HUIejRo5xrA5xkR5AngmiSHs+zDDAmMgWzTg55GSJEmHE8IvWPAoYTfhWak/Wn/bQ0CGLSAjv83SUEfKp5q24LXuQICpzrjrgWoza8xVE00CQCORdhMJuTUT/rjuls0gO4Iby8BIEgK6gS7BsGuTtDrScH/fR68biUHNVGBnxjeNyHEvQe/ve3LZQqgG3rof6cEclsNflG9J4KtaQ8WHcVBHS1BtHE4QP9OBMS98mpbKTeDW7dJwRsnHpMBTFJpV4I+b0kY/NqInVFSyBLANbnMSgBM8F+Fqfxq/h657/Up+GaBnwV9hRqc9bZ/vA6vu+T9E8KPJWns94UfTeCj2QXwCHS9dNL8Xf3Ho/rfewSeFODGDV69AU0y6NFAE1DP3qK++rdB7/1HRxf86gT376zOr99T/h/ioBiXWQkgQgVeIrCC/WomhDmQK+hASI2ARQZKooHMLdCJwGEBBXC3+uERwg+VOHZ9ioAt9H80AI06wGgJ3nQA3BoCut6AhxYwgcPOFnxuFnrphk+NIKIGrWPQtgz3b0i7Y6D5rs1GKqTop0nQX52vmQC4BkjA+r4a7Kx9WLENGeegkhSETBCrNXIMdi/444Rw1n6E96ry7OPuj8UfLxtQ78NA2iSBbg7gIiIbdDLsb5agPhLC3RkYKv8NDbS2YGsatNRAG2oQwf9ZIOydgy1MAzBkAw8UwEEIDzSAqdPQ6za0PkeJAMH3Z0wXniUSZoHvBXU2mcjQgv56TedIKglCpIoQfgwCIjOytd8WgN0bfxoR8Fn9Gx0Aj5Zgq0lIZbsH/ibSJoFnS+C98g9ooHEELI3gliy25yONIiE6pb0NfBlyNEYyENoodkKwgl6I6s8kARgJ4ZoEfuYWHLEJa0LhSBXm7kImGeSfVdoJ1DO2G7WXsehAptupSOoyrCSF904k+6vt98X/ZcM98Hsd4JYIXhQAIg3/f9AAUYhsLQKAtkHVBnzjCKhOoYl2ym+iBtvzDzQ2DLXJ4PUmbJHAVnBQX4jkxfvHhNDqAdHXGQJgv0aSDGItgOseHIU+K9hXnIJzkoGlEKzNHagTdJ6VWEUH4iCKH4fd2AwDPaYBm4Wgng4gQ9V/CoGiuNmD04AQtNGMGzSAAQ2I2pzfogY9LRh7BrbOh4+D30sAencljFu2CUFrwY8UAWRfWwGvVOVfbx2uIILM0pwDv082dUTw8hYs8L+uIWiHGpWgClnAa1lMPJogovvvbePPs/q3Xr++kgCsfgB5oQF9WYKPJqEn6G+OE3i5AqouF59FQOmahQC8rlPLj38kg1c2f30vw+XaoIX24/pMGIgSBoZqoH3wo0sIIGlA9PWcCPrAtpPB8eBf6x1o6cHra+2+tpIFP4PgBfxZtZUJfo4qxELT948D9ucK8Mt9+ccjIQw6QJcEbrD/1g340ATuDgDkFfx6twSf1f9xvuBECYxq/7ythQQGm+5JDx6Brw4CkMGT3wgscCUoQ4sU2t6DR2ciBjTgtcpenQoZVX9NuL4Owc+dVaDursYVkVALX+shjSBKBuvCYDUZjE5BdNkxdHAUBexyHwB6NP7Iyw7sxUDViwge1t+mz8B/LAvVx/c3PeBBCToB8IUGOgqA3iV4yUg6UAOxaUFHDx6CYS8SorMOue0CCJGAf5YfRhoAI+A1CvwxqNkAY5yAIx2EQmkFfeWOXi+nEdSQQA0ZHMEItiagJArQxDXIrj8nCfQi4HZPAttrIahso9oPQ/2/JwV5JQU8zw+7I4D7/sBn4EO6rjw0FR+i3Z9fHtahzsFvJgM0X+tmVH5vaYiNDGAigewAz+gyNLThnjCURQFR1b9d3lZvnVqmj9mEPDKIUIC4KCCjBXywS4N+otp/Hk3QVthOkwEKlV9PQwXjT7s/zwF4Qf9toAAzFdjuaEB6S7D1//U5FIQu2MevO0rQQH8ZmoXE6B/IkgE60XCjVoq8gt2iCG0S8L5GdxkM1cGsfsCMArSCAnrr7dzAZxCEEpepvB8tqHJ/q+bmJGGts/AcAXFOMMeTwC7Pw0B6CtCtA2vWgonqBQJFSwH0JQK29OB2kvgj2HHXAoyeAIsCQO0kMNECAhFMqCBf8mElAkyBbX1tJQP2RJ/ha0gpAfS9l+/5n00CkrQpq0MZbOdAuxmMvHswog62jZj7BnYQe19b14kxNq2D/ehX/p68HEcF+x3yP7z/V/A/q/5DA3i5A/dzA5pdgbKp3v3/wQF4Bb70WkCTHGRAA6+KL0bFl6FJaFw0ImZwm6igSwbbwPn9RMBWf3sN2JgA/BVh/Rg0kQBgePf6HglAHLFQwqQQOwDjbdVxNZjR4iM6Qa3WxwvNxh0JFb3g/WzFQQS8b/ttKcDWoABtUMAd8j9hf0MB2uDXhzX4CHj03L9DBU3Qjz0C0l4mLSLQPicOOwZoVCB6P6dA7nDbGkVuxcNr8PU2JQO4wX5trEqmccZaHU4q8oCDFOpzAnOwqyMIMktNNNAHouDGxO37DgArQZzlmp/14W1QlqHTMaIIx7SCx0+5yza7AKJ3IXBrNAHVDcMZAU/BT/vgv/ULPOA+XiLggAREDF2g0ci6xNDRglegd7P7TWWH5oJfayliEg7bScQRBVgI4Ookg/F6rvpLWP29swREqA3CaG8/FpKqS8DTAV4TiBqIqtxfzaQRLys5I0XEFIFrPbZRQb+16Fgi2LvJv8EFUPW1gGfQv1T/F/d/HBnccP7rAwnIIyHI4ArgWeGbU4eHy6Tx/EeTZIb5bo/BsMBjmjBE08f/RB0PHYBd9eVRAGY7cHRwiBf8WeCPHY1bgBTa9xKTELzEkQX9CPtl0gJiqsAmCT7I8xbjivh3JGFI+D2nBcSJQJ8agDX+O9iBL7UfG4bzAkcaICrbtYHz1ycSmGmAjJfL3CMgT3tQpmrfB7gxSzC1DnvdhQMieG47u75+kTouKNkM8c/+vq/Q7ZYjO/hhVvRq8F/9gGfhP8aqE9EIdR6LTwJ1h0BItyDqB8iFwuNqASscRnYioxOg9ApvnYA35f8e9Ohbfe8J4rknoFkO0lmA2gmAG0YK0DkB4ieEjiLoMD8wBzom27ANZkzIoU8EMHk/uo1mzeVoEoRWKn8L/62EYAX/lsB7D/LXg74uAMr9oGivJ0CNJCGD6i9DhZdQF+gtOp4S+NODRzsDVbhdgv4BqTMNyIL9SCKwL9/FGPp5oQKxIf8A/UX6r231H7YIqLML0Ae2GtrADOvRQH5b/MPE9dt9BGLNG8jVTAQvIaK5TtvvvWQgDvyXIClUA78S9Nfg7VtIBlO7cbsEYkQDMot+ygQ7QwmOawTHnAM2XUSnJvPIYRYMmYPS+sv3J+cfP3d04JYIXsF/EwMbBKB9Q9AY+BiSwFj9mzrSXmcJhFPVHySTbgHJCPvRQ/z7G/SVUETsg0ZF+i3CRoCjhf7y1A9mOiDD7TwdwEoEXjLwAv+avLE2B7Jnb+OqDpBoAchoQJskxKnss0vu7Q2YhcDv4ySeLOg9GsCKiUIihP7yfW7zbTsBh0TQfN0iAWn9f72Z56/Ax9P7j5OAH/Qvv3/QxKfk0DgDuP+R3USg3bzBC7bO/QT9Eeh9QvDPG7glBQzJwK740lAFFgFk8P88CqDGAa223YckWYhr+c0BPdwetl2ocnsfzePAWcVnnAIp6gDVhDLyfV4nqFEDPxHsbWD3k4BDkN+pARqKMLYBPzYEvxp9xmCHQQdgWH/9EtH2TIFpu3AH/cdGydv1j0TQbRrq+D/mLcX3ZACZ15bF378CG0My6Kq/zoGOQwhASDFwFbxyNGBuSxbCEhQ/uEPe/6gAERWQObCVVfjPpQX+rexxYhYFxIkgpgX7Y/vPs+Pvxf9vwt8kAs7i32t3QCP+3SPaTwIytQXP38u0PESm+YER+o9B3vr8mETAUfDrEkPI80ck0FZ0dXh9U+HRbhey0cAc2H7A4y4egoD6y8JfkBiigLdFP8v2W00E8deT2IeAKujZ/QAVKpAtKI20gLWksHedfgPcb+0+NEHefd9vB9rayi8h7J91gBbaw20MsnWAF5xHkyDUCOoXp+yrOwwxcKj0aL6fFppaaKDv6OpHR5sgx5BAlK/+fYhuP1D196o8e7lFBaKqv5YIMnFQpd0FGVR35RJCnCDaABaXBtgbiSwtICMtalKC+1JQ6bx/PLcDPQL91QFodQNKpwOgF/9eqcBxBBqRcKAAVk+ArQOMx1RYGgB6naDhlK+uQQwJYx4meQbxtNnYQwMjt/d4f3M9ZE4UOld1LAh99fbfzOxiEkKFCkTJIUIMUeVnJ/9sDt8/e1NEJOi9oVHDGYhgnSLss9DX2IAqw1zALUncKcDr0FB5NP+0cBQNrEezDiyiADPkt9qGpwoPdL0AGPx/NOKeyf3b9WJNdfcFv6bKd2cLMJVfJ6Y3B6wB9WFUfWWEwKMfGiQL+3bz9XGQz2EHKhF41GCtZyDi/gUCsNhYoAr3UNJ58YidHKqnMb/6AB5J4N73/4L+t7mAkeeP3P+1LNSB/l0SkMEd8DcEuUlguEw6t2AU/PCE/q++Akw6QFf1u6SBrj1ZnnhG50AfkoGIdf7gJv1KcSfgzWWkQ9U33Z3tHXYASKJ9e/YhU90rvD+q9Ej69/wxYJVs506Eg/r3DkMDzEdDBRGgcZay49XihLA30P+l8N+hf1f57/0AoxbQbwYaan/rBMirE9Dk+sBzTkC8JNDEUlv5McB8PP19Y01Gayep+hC/2zvQ/2HGLAurowsNGlA1cnqGGzeH5weiYLZm7h3QQC4O2tXdhvMMk1ZS5ebpgI8eMrPvPGkwaxayk8Yc6PMOBPEdC1XZ+2UfbfOPtxLMQQAG9BcZFoF0gp/RKjxe7+oAw9T7ZPWhgedodgz0gf5KBtrtIZhQAZpAV1Bi36w6t98qVfH7hqGI318lLCjLCUFlxRHwqYEH9a2qb4XjWvDT7kBwfbZA5P0+PNuRuW1yf4yNQH3zzwv6b70QOJ0G9OT/dhoYRUGT15uQH/71MjQLtQlxfDuiCXrtM+SkA+icQdH6sU/xz7Ze7FlubV4TpoTQ2osdpaEjtqADmEU7OkBEFoLeC3IWFFeswJXKXzkboNL+wzcFHU8hTGKIboO7CLi1/P+5F+gydQhuvRbwEgxvtACmANikhLTbj0gCYk8KdlYgmj+4Ymaod7TwahwadICuX0Cm2fE5iNHPK0x/CDV66Kyg1MnqjNFBnhBoLQCgUULfaVe5nq/6EQWY67bXCszUb+7232fVPz51iGB12owK9peyP1T4raMFF/OEYJP792mgXYfZ04GHMAhBkCSmSj+dKqRPgVFGHbpLEGMiGFeQWfSgrY52VxaeDUPSNJI0P7NoisG729HHl78z6hxfs9rV3m4JjgM/lsui2qmThjCfDFSb+I9vwUqG5wwL55U7C+6ot8B+7N2o6r3q37T9trfpjgmTvv7PSQATLLeRAOZhIJHBQfDQQJPBdUwEbVW3+L08EcEE/9G4ANrCeWcnPKRHDupbNynMx5AA9IRYLmrc/YLSiD5EaEBS/s/TgnU9ILcH19n+CpHwegLejx7Mn/d25fdN+e9U/1vgb7bqf08MOtf8EXxaoh+GY8L6gDfhvs4i6HQ7seYI2sv1GchdMsBIG3xlvxcCRzdgCPTn+6q/TW00VE8Q9FaFv+R2VlOM1vm/hhjhDCdgNflVKME5B47I9xT8z0YgPAJ8myb/LqHy36j/Mwqw9AALxuO1JVjiuQAYLcFzIhiEPe05fk8tRjGw7yWQbsfuLAT2VqOId1osnr0F49VM8INACPHDoBz4B5mqqSnUgyh3ArjXxfQH5BbgUS8gP7aU+w0zHD9GGD0CGHf+P1p/DeivlhU4BbxR9a2kYFR58YaDZCUR2P0DMmgED2eg77puegy6PgDphEB0CwlG/i9d+/Hs34pBEQrBn0W51mqGnJAk3ACCHeiqkQ1XFQA5AlKH7Lk8yJKWY3/nym14h2C3JvxeMwD9ZVMz0BPMi1n1RbKl1cYhIVblF3G0ATsRiCMUvoK9//OgcwYMoe+ZKOLlC6/Xk50br9NFz9fanqA8UIYSpCwlBO4kHc4WLLBfBHVaKwKgLQjmP4Un61Vq+3s7Bsyi0WztmLjJwJwFeE0I2vD/1Q6MVwefxfUf32skCPbCnxQqf+QMPEUDHZ7vGeyj020JgkPXXwsldA7SYR1RE3h94NvNtugswcgxXEkIcBPCGZ1rmrgDC0A4K88nm2fn/eTnpQtWyZfybRoK8Dro4zYDIMGsf7saTBzvX0SMbkAD6o9CYbsfMK38cJKD9l2FJt9/VGs0h5Gib33pxMKWNsigFUh3G2un+/N1WUglI/EEx8fq27vUNnwsiOoKecL7kQS8VnWAGCFUgn6dBtQhv40CmIYggwK0uwDHRGAuBXVdfwzHUjZzATLMAoyJ4FmBhzaWBlrHld9CCWpPHRqofBqMReMGTJ78q9rDes1Tv7/0m0v0AFHXNR6P6g30SHivin7V1BOhh3iWPwvps/yE836L2XiwnUT8x2iHgfqhnwn667QHEE8oLQjEvtEW7GYBZDrDVkwNIO4G5GiBDf9fGoFM6n+vbEtzXwP6u9AduaWnGYSLAlVdl/AU+ikrSeEIKgwdaZ4AACAASURBVKj4/wtgHcHtdO2nWKcBkPfxcvnNQvsj2Me9f02r76T8q0IBn9OLKfz1HX8yVXQYGoAB/2UeBQ5/5kCL6+H/OGGoRnLSwdd3oH8r7KkGTbgIxEwVWvnF8KOpHnyzfF9Jod5Px+IF1h8owyitDw/XEgRb5bPqbt1uvn7qBIQ16vtS/u+DP3cR7CH0WWJgd5mTJKYgNzoGjQrfvu99NDBC+bnyW1x/qhTatv2OaMKgJWPvv5kwnMgxHYGFRtJW8VMl3uP+MgoqSZyWFKr7+KIDw1d6+IiOgZI4+d5iYL3imzbgyO+tph9t2oSBxOM3ugHtPoFZ1LM0hF4kXNEBssvVgPdjdXZWK7uKvyS3q1Xb1WQwtVDqSUggq+Vw3t56JA2cz7PXOwGNW1ecwxPhfe3QEUsDsFaAz8jg0nf+iZMAHNg/XSazDuC18Iq1HBRrOsAQ8NLB+16g614jmuSgs3bROxE55D+WDDQNA4ivdMJ9M1b309UqknaDU8ObV9/PwmMPATvTMAxpABLBzugUtV9bLdhNDQA+7B9tQJ06/7QNDHGSwtgZOCIA47InIoDdROQGtt0U1HI3GaoUnCnC/rzBMQJteN17+VaAzYNA7e+PFqHQUyXPUYB7iQYa5ZFjq1Zqpx8Uqu/XT7+6BWC1Xaj0GlBIwMoHu7UzcI/6/Acb8KIq+hzmGWmAYnADrIpvKP7TZeLaf0LAeQkGgebbq9FToI44p654F47tekKkI0L5PQNZPsDwPBpy/ni+wKMN76Vav4+2cFZFf8+JwAraMt0DFB7beA/u4Zz/a+RXx0M/ct4/jwaNAS8G17eSwmta0Fhx0VRxJkHMivso+onMXr+YwdWKbgioy1jp4x4AzIKg5lEA7wvHEYCRmdx11TAuT6lDLVl4KvXkAET9P4RT8H2u+lg9EPQIpw+/NpJ7RwE8HaDv/Mu4f3OdNkq/EfAiEiOANjEALvcWL9gfFV4NZbgbQc6qPky4Pm35QZxtH1f4j+P/jXuaYPcWwIEH/fmEPBoAO4m4LGxV3txOQqDU+dXgey+UwSzuqP++uImO/u/6ogCb7wTc1n61sL+vZi87rxnrNas+giTg6QLzaUCjIp6JfhwtGI7AjBBB9JjDY4ePYVR6ZPgN4owVv6Q2N5hhVHwNeYrM+w6dN6K1sMHZm/Ce7bHe3dzKr1xw1w4JrSQMZtgnoQHlr18fzunAszD4qurNUg/TDqzx/lfCaO6t4tACMUQ6P6htWjDPC1hCoZ8kpODzJ70MUR9AODcgwyqyPhmE+wfHYB/hvSqt6qeXUShhXH+d9SR8DzrDaZZdpSp/HxqLMQuATgDU/qDPRgOIeT8cvz/h/XC6BtE7ACLOWPE0KIS4UUjmZaJ2grBphiWgT41BUVWZfP3AnEIT6OrfoF122l2rMycBoU5i/OXoUZ4/aglsXwLzHNU++FVF3qikOj5HXm2PBitT1WuvJRAB+6O//W0/PY8vQH5IrAsMs/WuVmAdHBrQgrbOxJShXwRSsu08h8JMBpo0+aDTALwV4tbswgzHrftG/dJKIAQb5h9KCssWIMeto+GYqG12/HWGjx8kzqNJaa0noMWOr2KwW01AMwJoNvhMQda2/RKQP/3ecABM3g9uD6BY68Ntz9+nDOMb5iV+hIE+dP/Zs/wwJhJ9mgBnohBuStABUXjugF3hkXF9ZZJAjefKdHZCc389LoStKvIl7QIEb1d9RyciQgFDI9Cjyccc/23Aam7/PZJBhgDgin5CtQvbCzX8ip9YgIFtOAt+w0owp/hOiCWgEGbVHuYjRigPGR/YOnEoqPDoV5z5YqB3mRq2ox5ICmSSgAP1Ne+XV2NE+/vuFbCTRADxtS70VRBCjgBk2OyDUQiUgfl77b7DwaHm2rAZ7osRSOOUoHgKfNBSLI767+oDYrfwZvqChSpGfj3pFwZFsCJg2jeIQQBUiyI4WgD68ww4qO8khuWkkIuDrxWv2nv+UTBpJYiPd0KemTA8qqFiuUF1jWS3BoG6pADJq751JqBI0wvAVPyMQvjcX1zbELltKK+zBiXRFiRxG+b7q3M9xuLdzR8g0gCGNzSM5gNYfqGO9CBT8OHct6oB3KsSDBisUnwsFuISQaRHxDSv0vptt2oeLHMERfRn/FG/Cx01EpgIQG8LP+/i37PKw53xn6sYCM4/JwSRrCnIeB1ZkLsawDhaPKv/njU3wnZ/dBdGE8+YTHSG8+ofGgIjsC19YnwdM/KAnTSsqj6ig7uGgIPw3nYFzhhIIvriAxFP9CQd4HSlnzgxONIdrE7A8ZDPx9fjib8ifgegNIliRgdx95+E1T7+3nQVNNhEzDgGA3T2rEDLduwtPpuuouPcs8swwXFjdTaMKt+jA5gUAQPcf95KJQxYU0cYxEDvsBSmYuukp7AwnqniC9Afa5z8vboI68ImT0t26CvwBzSggkj447r9IojvCn7U92J/Hw0QSdwZKNNjxPCfSxRqnATkdwpOwh88oc4J8KTSm/wdbZjrc+4iFP8YO0/5JJDCfaijK5xVXevqfg6zGRrQf83chvX4aRfAE//6vv5+6490U4ADdO7QgM/5bcHP/n4OtCQhBEFeDWSvos8DPq8/IwzLzjpa8/U6MMSkBklDm8e0mn3QIY7XG1Om8wzN48y7HwhOK3P0/ZwUQHHv4psbdoVeb9VlAjChBCdtDDpOKTh9ZfcagOYq31RFjN4/gwBYzp8lAwYNwBELhZoxECeZxMlAzWGdCRV0fQWGHo8+8Kx+AAxnCIzowAxy9KvNepWfsfp4RR9kUrD88CPVTuXRybhqqTHcnxEGndsgub1Gdug8yz9fHt3Hpl57x/mfCOC29FOSQ7/noAZR5W3Ob24UMpuPYAYiQrQgk1gnFoUIKr4vKFpV15pHUJO3Y5rfH3UFHU4bGkU+NKJ9f2hJyOMxDBDpjAgwiYqvk5TqNl9EH2Arb6fA3yaA4cBtPWewhkEcIQJBlGzYp6zRmr1v+e3Fv27xpzvyI44NGDkCIi7CGNV9Dw0M8NtHC2vUwHINumCGNG8erxOwtQINsW88Tlwdoc+F85nI559ngEDpt2F/Uu3hiXYrkN/pBFS26hYDAkFgErMK67y9mGBA3L5ore5izf8b3n805MOq/t7XU4WHv1DUF/5gugCSOAIW/59uMwl6CHWAib8bvfxWl9/rBGEMTTwDfG+ezEYG4yk6FvRPuPwE+wvc39IRjENWM+/cm5b0W4Pf4WuKUnw/vD6eDbB1ETs5vl77Dhnm/51g6wPWwQAqxnivgQaeS3gy/u/1H4hpTPrIgHAN0mSgXUX13YP5PMIuQAfBr/f70cdeE+QoCX3i8nFMLcAjInBoAIYqt1LhC1WdtvmSab28AYffaeivCB+ohdYQgfUa/WS4ToMsNLHLc9nnvPZLwn1/EefPVf+U/xvnCVSEQEkEQEnEQJO7S7RvYDxNeNYKrG7DKMhtsQ8cMmhgPKKKj+F7CiHYFR5KIIPxOmg5IVAtu3ACQSPh7CzUQOgAej5CWEkIe3vgxz0ROGO//qYfz/dnLT+ZxDr4QW0eNCJBorCFOVC312Ec2TiY5Bk0cAaQmiA1VH1MOwDHQ0kHdEDDf+2UTWhS4Z8diQMicLx8MLBfverLcP/jQzF0P8EJj5+NGK9RCz755S6F/f1+X/gxeP+Wsedv+vF8/54aSPJYFjIQd624MDz/UDLQnr8HU3ztKHRf8Qeno1vyAQJBaLcMtTV3cvgP56COCqd/QP9xLgBkH4BxO13n4hNUDtACC6G1S3zqooZ6Ba4lp/zcAFb7iERKQwQcF39IFJjdXECGADw0IE4gg674pYAnk4HoHPx54tD5daO5vxrugSkMjgiiqc7TVKAT6AT8R4ckbHEQCYR/IZBxJgA+XZjsR7vaoRpIxWqeqfXuGC2CxwudicwePEB1kNkaZCuwyF0DuKv/4sz9mzP/Qxdg3BDkBTMC8Q+loD6UGBzx0Kz6eAX/KArOQTlPHFoI4vVtf4rNuLrca9edRn4xBP7k8w+9AgZCgBfEUZWfEs8iFNZ3UO7TqmkjCO/rWdgco/yIqHcQWaC2EGTzgz5y/iXQAvyx3riyxxV/JeBriaGB9OrTA5g9/eokM+37GszqfA/UZk9iW5UnCtBqBl3XoNN6Ag/+zy6A5evPAp+TIFDn15gQw9rjrOzFX0s2JBVAxa/nP1a6AsNWYGjPNGPLTQgBsNUFvOA3Ht9o/rGDN0tWOCcxJGp+f7++kkP7PxcGv1+GjkaLt/fawpwwerQxBJNW4b+PJsYEgiAYYdEAGIlDNaAbRkIgK3ut0jKByp+8yz23X6GttmBmjwDvChgiYLP5V/zhH6/110sGcKo5CkggCngxnIPoPja0j2B+1BRkiYJiviaLJqghDI63G2nAgAxMCuDdnoD0wIQm+urMB3VuAwbBrFGgGgnhAFqg9+ujKsLxB3qGCQNEEtPinIQlAj4WgIw7/iXc9V/x/yUWFs2KH504bAh4aYWf4TrTLGTy9YbftyLeVOWNfYNyt/ji29mQnqMAltU3ioTtbX343yv/1u0YPUBz6zB702tQucnX0gWaFh6DgPdmhXaapGotw0SFz1qDiTMdd8h45HfcqCPRUhA3+NmKz1l9teCPaMd4urGaewRitNBDdahR5c3AfQmDCFT9vmtQEwqAYXX4XI2n23Z9B/Yb1FL+LWox6wHGbZSo6FR1LzyG+3hriSZvWT6jfXhl2cmQZJDrAbuYAqAHo1GA/EOgD8eGcU7A8eDvH4fQBuAhBL/Zp/vamPTrRENDGLTV/7E1WEPLDlP/PwzU4YhusIMUgfIPAr6Dhv5R4y2r8ldFwiFoYHnmr8TAHbhRQSZOctH598ZYhqt6wP7q/ouqe77RJxvzFYaji/z4vna4v5cUMDXqDAJ5ytktqtBDckyjvJg04hl16LB0xFfyMfD77PZjErGQRRjYIfSvoAXntks0ok8MsUC4KARWnYPlJBeIgLeFrUgDOHYCag0/XNAbWgRwQuLAsaQwIhC1g7+jCNKuT38JfnYSyTi+QQEwwHeT4/dWHYxJPxfOj5oAnRQqgU3YgGZSOaDyK3n/qkDYBKptzR3oD6B4fyRKjp2AzSl80YR/3P+/1vBjX18Jbu+YsrMRgbqPP8zrDLTAaupphfeZtyPs9BPztpLSBZjowF3woYRwBwOWaqbev15b7X4RWsiqYiY6ZkFEIoUwUA2OrkeEQE8HYNyD/rl3m88jCGgO/nPW3xy8x4Q/HBcM1dYg5q8N+B/SBSYhtD0EY1PRGLDoKIBHF3yLz4H/gSYQJRETgqeB2d4vC8L2NVnQn4PoVJJAcP0inahAfdXVI8CFszjRagCTtRdV7Sr895NBpRKXIT64RMFw/iw5eChhEvmmyUIH+k+Qu3cLzOAN6ILlFvgWnx3YWFDz0f38ze9GlfP6UQ3ojEY0gtqRIEbA5/WgQFhsEuIeL75uTzvqHktAWfj/OD6sQXssROcGiRgFn0QVkld7OznMDT7CJKzhMIqxW9B+LCOQdH4uyxIcE49VTSeLj0wKjzcp2oDXQA8YoDEGBLMW0BJw+eAxXejPV/IXd59/tp5rVyYXDw5BlRetSpQAcvgfOwVM8ObzBq/AQ2wX4lwkQV3vNhYFfn2LFgaoDU1ogqsfqGkJYmrj9Tr22KQwBLzbLuzDeA9yzyJjVRfwegWq0H+FThDPA6ZhZwX2M2Kh4waovCzAWJTzD/qY00c+6PM8coz08VNqglzx54LfHuTJK7z2rwX35ABLg1DzsZ7Qv7l/f2yXDlbf4C/irg0MJ0aCuD0wP74MrxfdFlX7tq+vtRdCpvt599EG9Yz3V+P+Oj/n4zLruZHcJ7oMt/MNp9eD6HEeFb6/TMfbWo85Pb79HJo8t3371/PuIAZqMvjPC34nVV6ZB4hEuA7AzA5cfU0y2n6ux89D/35/n2/vWY5Bf0qwf3tPLISO1Tap9qzFB6eap/beqI94NCCbGwgqOItY3CGl446CaQ8i2Q9g0AvmgJOnBoAA0gu17tsKtKS7D4udgCYERy2QIceCX/P7mBW+g/7D9S6Mn50CS0eAoQPDcBjopIA5+EcxEjLweRjXq0UbLIjcBxsGx2IZvlf0ATjz/6qypAmY7bhrk4ahsIis6ccXKHdueAfUgk+RWPCLh42c6zEeKyJpRTdRAOqBbl/Wq/uT+q+Fx3FoTIuCzc6+hN8j4veGjuAnhSE5gKnco3A3XwYlq2sq+lmP4yEOpqEoG0M+mGDYuYT0pKCFHgLHKt3T7T9p8GcWH+n1UwGa8X6kQt2x4CeqPexegT6o/Z4Cr313PHdgrsS2ZReLfpKIf+IMFnmVmwxQ9AhithYT73+p2s+JIVfrjwiHnpAZrSsr9CMstQXP1+1+510N/q8E/YoekMN9OMFvi5LvkRDsy9rgFCOoPdpgaQIWBZjf5KCSQszZJ1ivTvLokpen6tsJAVND0NFqb6GUGg2Im4Dyx9Pn7/0dm4pADAslJzTv+dKNrAPQ0wyySm7bj1RQgbAXsRa4R+mBJzpaQmHLmy0BLoL+Nh2ZRca8uUc6P37k97n451fvTieAE8BdZ2ItqFEK6oOJIYPsiU4woo140Oh+H/UC++gatHYcOFT+2y3AYvD1rM/fpxdUcsAi70c0OxAEP45X/hymE9XeoC0zfYhbcqfbhs09HpwnKMDR6g0mmYyKth/UcLl9ITGQ8N1S6s+gA1HvQCc2pluPvN2Br8SyZyfyxPP/VhCi1L1HWX2CQCuAE8TIq/sBYdANZmTIwqq0sb0HIzhhugBeUpBZLFyA8y+EErsBUYDZHYN9QAAooQwOws+uQlhdESSSqk5Qsh8LSYI6LDS1AbmOvLlRBqQIeITvM36+TP63VfE5hFClCTr9zEyVFwS3STQBy66DMHB+PJWIrfgGnYBx2dTboPa2X49GaBVlePA7CFx4iaGi4ns0aLVjMGvtPTDtmO4XEE8E5Kb/8qYai+NHl60LgAICcUCoJPVeiYG6Pxw/X9VFNVbFn9FNPzXoIRDTyzcpREYB5Fm1EQQn3KRi9wKApR8Tz48SwxnV3qM0q7ZhpdKvr0zfY+gO4oQf+EGPFYW/Xf5hwWsUgxiBbShGoGIx+D2eH1h2EeR3UQMH4zMaUKr4033nzkSkfQADelFbLOQCalxdxvN8mInhPas9bxtGJw29Fx3Y8429MAS0fL33Oeo7qFZeiToCC3B/VSNYuU0fgDnkhxGgMFdxiYEY7MYel+OHPH30IMeVFK1C79l+QdXVpFqHlMAXEf3EYDyfkkGdNvJ8f3RAXU0jpgM7jMNA5yCrtfzOicKG/M9bgEkEjqqPPDEcDfqVwGZv6zcO9avDfOhf4OmLFd9OLBHHdxp51HvOBlnAoQksYjASA1xnIhPsapTCPjbsGB2YevpPpgM73EYeSYIftgPgte6CWesVBB9QEgfnWYMgoeC8ql69bWoRIqYHvSIv/u26bj/jdqZ9KSGk74JRo6QS9PuTiSHm6Z62kLUGH0UO4rwWrhtRETkR4iKRdI8giJ2D2nUCMjsA0TXiVDb98NAf/rCMlajA9wesWHZrAe1dlwRyVI2jx4KkyUHSx7YDe6YD4tOC6XW01puEdAJwaEJzf1uATHi6ZlSCpBQscsh6C1xRcWEG4bCFeKcAVhVlDu54JQIkTT21hptIT/Afk0kMcS9BKfjBJozcDXCrtgbWXxbMAw3INQIxtQJPAGwXmYaBbYh4SCsuKwLOAQ5awKskCMmRg8P3xwlBfbosQaDqyZqBkyQe1CLQACoTgN4qbyHsPwkTiF2pYaj6MAXBmUosQHnUEYCsBL3MW39SNKMJ5PfoBsT33DVJCEbFnBCMOkHfvj6Xq8uw+dgRIhGgAiUqf5QgKDFyhe8nnYrlqn9sG1GoAfirubygX4H+8IM1CmQrMFAJ5ExzKIp54nPoVU2Auh6eBShDlTV4u5c4HE/fVvjFrsII0Ik6QX+Iq68jB19ziLoKC27FYe0gC+j1RSS+BgB7AvAM3m8HLdy5fV60C8RMVuhD1ieQB32MCCq0QPJuvuw5IHF/geMKwOPdpmsxBwVEfGEOgeincJqNmuSFIPhPq/xM81CWIIi+gCFBqDX3QPYd2OcCRo6GZBoA3AM+00aesAOQ7/2Pe/vBCXoguD4OBD1WfPwClzcui12AuH+gC0gEwW72KfjBCQRBr05D0IQc7N8PzOCMehPWK384MPVDJQim7yDdoiRTItzzFV/ZOX9sYFetP0fsQzb6O7wOoFjxk89YoQXv+BmSN+yYHYO+BsDRAXHhuJXsEFbdIEGZQWUkNVNzGA9NZUVBIQL7jASR0AclE4Pb7JN3BO72mG92+o8UG3nybj+mASh0FsLKn9GPxDrEcS2Au35BzHO1BksriIJdpqWjKR1wlpR4fN977rZqI+XbYjYDgVDpcYQalOYKMiuQbB3G6Pu/HlMbi9a0EMkksXtjvvXTfgMKAEZRN/i/O7yD8Da2S2Bdh3ICWfp8yuMkYl5a4df4vVWt4UF0yyqEnaT6swYyWB8/j111Y1ERS9oB0SLMtBGDEBD1PEHwtdjUEAHnqmoHU4wCDAoAS+lHwtu9eQLUAgmxVvAuMB9cELMV3m8EUtcBYYI9nkNIEEJYrQeUHfnzzRyC39j8CgSkir/E0P2odnAmAqDnDIhqrtV9BDNS2POjv/0pwKr6z1h/PMz3uf9ykFYq9TtoAXSwpz0HljdvBCVAPY6t7osv6gFhMpkX13rcfXQMIpuTsfTibkfOPRAC2meLRipI4mDPwMD5x+v3+Ey+qEfACwoUEkKQSMZxYJDz9R68PyP43yvo2aYf881rNQbZgRU/jp80QnW/hdXqJxMvCFxXQSNHpE8QiF4XI+wFfQcw7VL2Md7RRajsKgh2D+6SLAKPF356+/7yXYBTUgFy/38StUjFHweD+iiHh8/LV/i/TSvGk4L5x7F6AsIKbgb4C0YjgdGRIToGUx7cgS3JKP8pRcgak95BJGQbjaJdBYQ1qHYnYHL8F45QgHx2gLMQ2cDxBD/4SeR0LSDi5XzPQNjM4ySE/HGG6g+ugltLNSARn281BPtNO72eJLjdX4ITSEgpQvJYFEUg24f1qAYQNQdxx6Q/RcB85j9f+03zf2QV33IDPHegNgPABTfqFR8cZK9TA7/ll0EQbUUHW8Gr1d+MSadia+LRHwhunv87yWoJ3h/pRDwJAbDNQQFd2P2mH4kP/wDT/ZeN3CK3+ZjvgVpw4r20AMafb58j4N1UMknuj6iCx883PU9g2VHVH5JX2eEcPghSgRBCKPzK0Q3fknwPN0Hk0CyC0zBkz//7duEetgFjVtypASDI4CsknYJgYDhqsBxxy29+eyxrAZX75EEf8f+CkOcijMDDHx4ASYGGu8WHgPwpHJc0qOG8FgFTuVk0cRZVePFwHEIUEu8xSHoL5qWg4I7/HgOKXe2dcnu2SSdCGIDTA+AcxY1zYL6Q6AAFu+/1GvjKPSeEoJV3NiM4Dz9C6oWkEav+NWjPWXNOIkKgNTi2I8LeBgaZHJxqrC4oNXoB9pzzMws/OW3ghSyQJgjbygOVEDhoj4nHLld8HPD6UUMFVLIgKrTL7cFoBRLQgEdXIseZ2/HhFPKbk4d5tYWwwR0nIFQSD2P5gQhs6meVfB+Bkyz2fOIvX/zxqsSODuAGIOLtPNnmIPCrv6Kqvgz3q4tCwNl9lWYfnsdHj2HTgQw5IBHwULmfSu1jEV3gDFSxTBmqSEVqiYK2IkWcRiAkwV/cyW9YhqHXDw9dkNQAcO6HFNJT7oChfrPUYc3KY17zAd+evAwF2w5SCKLV4EuCEKsKfjBVWHu9Q9Arh4CoBqEMWYBsNX7YgKP/69uC3M7/mOOz232QT+ox4iCyJGEFP4oBHd+GVvXBwX35nqp7qeIbV6L6tdZub3ueJ+gBIKgC6S5gOQFxDoGr+Bv2nzqbknd7ph/EmXzO0o+kZdc/wqvQkAOUffVMzKtYgx5Vob1/+HAfCdzHSiXHenX35/2JTr3KZ9Ruj2lYiMhLIFoNyMq9hFroeYMTE0bSLbhb4l3YlFPa6hMd2jk8dmrDgdQCnC4/+ANFlYTB6ATlx2GDGXP1rvL+SnWHw+cJes5/rRWt4H2pw9GklD4uSMpwasIQiaYR92gIyFX5S8dtRZt/nCAH48VXW3hRE/HKOsGquj8EM85Q9cfeAV4XwNGAlmIFIwPYrfLKuxV476RRetzcdeAsRSZhiHizCKEIOHn3EMOWy5X4uIJnXX6sFiBFLaBm/THOQAkVJK9j6TKwiSDTBWpwHkSPQJX7U959uAkoaTUuug6oQCBz1Zlxm0OJSIoIw04M+7zCGuYiznCfHww9AN6Ir+HXA7lfn2oBSJ2FOOh8SzINfmcAyITq8JX/sOMPx6A9LeYtVfwgCBZhdu25OB9/XmWWNPUEPD5dUuJ68wd1AqD2+w1PI9KxE9BW5t3z/igdYGWiL7L+wPv9jgVY8f0ZcbCKCuLAHN+c5wa69Zpr0J9t2KnpAGzyiAIPiFalJ8/xXrrA6Y+/8NoDnWCPNwFJzf5DpVkHte8hx76P+HU1+HEytEeSEIzAsu5r6wPJGu6oLz8VrKofXLce+ywIHhNa/Dmw8LrptWXZ4NKZm4pr/QQ7Qk8ehMrPtAF7PQCD309QgRgRZMKgAbFREAfBBXNalbHA9cEHMo4IgIUuPjjBWEUFEQpYTkhVO43eRiynJw9Jjj8TOUIlJExK+0wA4gWgQvcFBHAc7P4/u78/Ff4CC5ATB3P3oUwFClYgcALcxzp/B9Ez4DUV8RjBbsCBrMH4dLNwIDaCGhA6o3pXksdBvYBsktrXDgNJKAFy1Z+ZGIy5NXgXoBT8a3ZgVSPIUAMV6DjLxhsV8wX4n4ibbONObHNyCr8Z4FinNFjg8ziiF5zSV8A99u7Zdf5OisvVaAAAG3VJREFU/kIPAJLWX3hUIFD6o7MD4WkHIMXBk4IftSrPNBJVk0OoC7ice8HGS8XBKDoz/YFBLaQi392lGpCMJfhD9xVkx5Xbj73P9V4m1j0v73x9FjDDPlYvATkgFAVWcdNvJBamliOjAwRV0EpeRymAe717kMYRyy/j5FwFBX0fP7Dyx8gq8wn2ZXi8GfGYR+lFcGJSxa3Y84WgzBHetlU4cvKY44Ps4iP9fsgsPGEhQTAcHqwwGCj61SoPexKwasXFqtxq8qhD9SixoBBYcJEDNzmIoi3J7QkoJActVHocTVpPBCDhElAvMDK1PT/Sq3DwB/ygmyB9GNhYDH4so4Foy48kkPtZfZEv1PQTxYpyX0EI3Bu+/5krcN8fgwVdwWu2JNVNWAk+PcOOPMNdGFyAZ5Aj6gicgzNfwuHZg0HrLxBWfjSRl88fVCo/apX/IBrIvf65ZxtEoK9Bec4KZIPLe76osQns46NwW0pUPCPAyMc4A/KXOwZzFLGbAqD5xhhbgBcWfoJBAlarcCSQgdQJ+Movnih4gjZQTw51rz588y/ZgxVUEAQ8soCfX8OR26JwujCLGFAMsOjnwGrlPuQw9D/PPv8BYVR7pG/eeFtQpsLzR2KFI8SwKj9KlX++HeLOPuSBKrKeHBi7L4b+Kx184+ptAp4Trcscv69oARVYzWgaK01H1X0K3zNSmARKtxXYHvwJuT+8gLGGWgpHcWOmBeljFB2Ckg6wiAYOqfxEK3GMCAj6kIiTWdCBCXhkjUKMgJcLk271N9uLSbtvvK0S69OXAvoA5z94VsFubbmZvx4QAnXgBnJxENyQjy38wef81uPhxMpPJIQzr5ckuUTKe0wZyN57iFTWga8GvCwlh5UqvYgmaNV9XSxEVWs40kkosFwA70RgNOu8mLZfR6wDiwRa35y7j08NksqPQhcfkRBK/J8R75Iz+9C8gJpqzwiIeZII3QnYOkJWbVEI5jNuA+o2BwK82ifwnpSgHwaC+GNAdmW2VXfC+vPu6wR6lBj84C9WfvivZyUhZMJlJhjSukDlFJ3g4AvGJfC1iEpQJ/CaEd7G9wds7p71+odruKrHip/C7RdsxeVjzIxhoNkFGOW/+sk/YVAGtltfzZAIfzix8gcHhZCXpcGN2u69qWqD9OlRFAy7x2fQBhHUiETB+DocqvArYt98f+AEAXApsEmEcNLC0t2uPHCqPQIXwHYDfI4/9+8LMpchqr5HK39MJSrBXwnutNqjovjHFdq+fcHLp7YLR4mGgduW5hFpAXUoL4cTTuW5HJSkB5PC0S7A+8c+837DyoM1J9iv/po/o3BunlDqPjOSO/YbLFd+FGy9sxKFeT8b+nLNPrkAyD53FtT27yUS32yqUaEGTMBiASGcZ0FmK8nWxbvjC1q6WQC4VdWdAcBY8eFoAzIrC0b7Wt8wlPcIdE1FhUWeKU1Igv8Q/0dl4k/NnYSxdlDon8diUDeuQB4c8XVzcahRgyyZmNC+LAgeCfSVALde8/t1DCYawNoePGT83wlOpFUdOZKwxn89OsMEf0X8CxJCBN/dwKbFwkSMgx0ACJJDJD4iC1JEYh6XcEqVHpx4+J4I4UiAl26r5x64sttvSlAn3LBuQCz6edU8C+J5epBrC4YP52EFDgHrCw1B0eU9bOaTgh3wmYvQV3Oqqcf53XnVNXUBELX1xtSgFrirlII5d3HFulxBCNEfZx0h7K2f34XwdHpuYQcguN189Ow/nPXclaUcqMH5leCXjKOjbv3F0a7i2ZaRHmBe5zwnhA9S736ZC8AH8LHkg/T5znYgmES1dtuzGo92qwHIquiWX+4KgVLd8utv9Ml1BQNhEJW/FOgweiTguCUoQHkEwYhjfQIgm8eAzPKzHqAG5xGiiPyxeGRRaYetUpDVpHVC1T9bHGyaknb/TQTnuG7rDYwYCUT7/cMjtILzA+Go/FPw581F/mWeTkDuBsBCAK8ki+A29nMzPn4Rzjv6QV7xWW4fzQFUxb9jQQ1qc28kMi4mDl1NBr4usIsz5ltZqNm7AeJXfuTHd7nioLEyPBISU+8/tP1AC4Il/n+YGmjg2NiBRdl6yCw//zG5ph7bqaBuz8B4VMU/TqSsNPbwCeZA1cdxyG9SgKzRZPL+GXFOiH1/SFZ9wX8M3zUgvH8a4rMBjZj/h1W9MrwTiN6MlsCKiI4gycBzgV/xUaQGjGDHwHiYi0VIzeEAasCpNuL76AC7BIEl7i4AIxnAfoMxk35eJbZ68wWEUChs8IPz/EEE9BkUoNA4RCWSLJkY1h0Y/dG9bVCtUVPe7QRhtStXG4nOECDfUxc4Uw/Ik8JkA9o9+a83IrfHH11EdFUWc4phNgVFWkPsIHBnCvCCYBSgqEN9qtoXuwHhByYoJJA7BxIkkRwpDGgAHo+vQ3ZGOwCFJCJKUAx4MBpFZWvReeLgtBBkDDQu2OJxXa7SE/P4ZiUPHABjY1DsFIhPAaygWewiXK72hHjow/k8gCL6gKES8qcDZ7A+EhYlWCPGCX1wXIwzkQEKt8cP6iqkC0FEhFj/ZYtvXCtwuBLcDT5wXN+9H6ZEIkTwV/x/s78fXFX3siWHEKrC3tw7EFZ31Ll7ttknQyEMGgAqCaVe1bGk8r8nFWCQQR0h7CY0dsU/mIeIuA1AGCo02Q0YVXxub36sG1Qgfo0CBBUXxap+ECFEycQVyViBEBFPt14TK9rZHB9EwMG7DPXOv0OVHkdtx7OSCXfb3av4CFZGTwQBwT7/hKPHE4PzpJ4L4+FM9r1n8B+B+9R9I4Fu9brYUZgCunZWNxdQgIs8mASBQ4F8hJpEiaf4GPihk8FdAxin/kybjZjTj+mAQy6ihZ9whDvHAWB6BKrBXQr+5SBfqPaINwiz12UIwoTmbPACZY/fshBBBKNlW8ZCHwH/cVKSOZMm4Mxk4OwE9JeB+EFkn1IzcPQoiSB4vGgNeJSoik1A7m0TCmE/HrggB+/1M12C1Z18ACGoIeH1pH2IhAqFWgBq+kDFEWAvA3X8tpW0cnSD5WAOriOHhnYraF1eLTkS8P/QsHUBdtMPnOrMaANJE9AZiaKWII5Ue/8PTHn/UcCSTgIF2xN4zdmAQYIAKeBFl6FiO0aKfq5jcImHfPwTxcEdRmD3LcFoAva1Hdjm9UgGggI9YOoPkOBYLsT8HlG3nucMDGkOOJ8CkNOELdSO7D5qqAeJYBb2GpABgRi2gxLITgrOQ9C937HgB+0i7MeRx3gfPWCXLtgbLJAu/gCFBPzRX8eADJqCvA3FViC/BlOQC4LZyrBq8BdQAOUKoKjqR7v7EFfVFMojPgEoSlJesNIePyLHwW9NRgq7E6HvUN8A0yj0wyWDHRZ3J2A1jHdMyu3hCGwSDwdRir7h9VP7AKLgPoMCgKziOFLtrUm8aIFHlgxYfz8WBYUU55iAXauo+evJaIK/NTgRJM9sUcZRzcCnMdNKMJc7usnAyrpxHYkTRHK+n1HxS01LheAHqRWwKIDqLvQC0+PupHZgBawfVGsiniTVHwZHRqbUI/D4Cd+ftgyLAR1ehkIiqaKFw7MJEwUIuK5zsu4svoFYCFKgBJZACBuppOId2RDkPZas8H9kULcA9a0KTCQDGtpnzT+RMJiOGseHl4BQ1C29AWUXIIf/OIwwqoNEK3SCuA7FRiBrE9B4/PcrGJ1OQNj83F4Xbol/TgVHfMiIZLAdcaVkgh8sLrd+liNQH/FqsNTfj15m1J0X+ffZuq/gTY7QnvIfJz6UzBJLs83ItQpt3RfZz5iuGfNPajpngUm0R8DoA5jDlzsOTAwZjzsC3Jjxg7H914PjlcskGdghgx9HG4OOQH34uwQyzz61/0qiYNQjXxECuWYbGM/DrjtPH/Mw/K+gBLLSA+cEfPr4MroArzcDuybbr8Zc72i2UnzeHnTgzD4Ug78SzIvCoARVOQxaFFR3TzWnkkHUVFShEuqKxZnKz4p4YYcf8ZhYhuu8wFgSHcuuwCJagI4bgchJQK/qe9c/RT6nGcg6KGREJpb+MI0EY/b0jcsni3AJBeCQNsBOFVYoApcM2Aom4VFgIRdHpeIG8D3YaxBD+qCiQ+rBOSVnci8hzkAG1t/pgHA4uwDzmu8xFKkkkIqCfkIRs204r/hiDgutoAAcowBMZ9+KS0CcXVBOHCvJw2jMQSJyeoeExF2DuTuRcuWAo9sefyUQ6/oBaIjPtiRH1KvQKvygAHb171d+vc4GRMDPoxN/kL5pwlVh1mBQ1quQJAJ5j0TgOAis+h8d3mnC8xTKE34+8sDNjyVXE6nFMN+H39TQDmocHScENvN74LoGScGU4f7g6IG3n3C3qnG6JBS+Z5tHOOzRYQx+u7MZmAl0OSsRLAS/VIKfRAWU92+12aaVPksGDBWQuCMvgNy2M2Mt8EwqbjosZAec5xLEAmXmcFTHiOWARWglpNpjdEtBQRxJJU5VL5/7F1X86XntXgUK4q+KggsUoIIK8oA+kgy4+zLaACqQGTVOX6MBWdehL6BxHn+tlyBMDGAqufd7WOX5WTJwKYDfXJJP2GXDPk7Tj5Ed7BOG7DMFaBRAJgI/+H2Ngeb2SKb0zkoGlQBHkefDr7xMA5HZeJPtKIzyApI9gmnPgf1c3mulfhe0gFekDCdNFnrOwi4Gs6eTACNjB+Uegcgojog4V25P8bctRYY6RL8AJklE9ACFAGZdBEahd4d4CmghFhbzcwaXYH5qTlS6DY+KfNH5Avzjo2JJ0poDkSCMxLn73H/eB+ifvgvyIFCWAji7BWC8hd0qj0FziMdrS70BlVbgamIgcmotGZDNPwm0L9l5iHv7WRoAFx57ScFS2r2iwot8oKu8l+TOCOg2mZ2nFdjTgOFQENzKkJ8OjEnsE8f6AzyXwT6MNF3RDRnuj0Lwo6wTlBMDIyqaz6G+RiLJMg/KUrQV/rh9uH0tWduwoxmky0kSMQ+rnXxZsGadgnxfgk1pCnsIsGYltvfdzTOBIclIsN8MLAGcz5gBwj94AE8DuC9Molip/JGwB57nRyJiyD3pyk6q5ij+3TzRLohcqyqCEQBTepF15+WVmW8SEr5jMUUkx3oMIsrH3ndwAQganKzyMpOJNxMQooGBYwcByw7axIhgPRGEr6GSGJhkAELoQ1YRg+dPeD5IIRDIqq5PA2Jh0Rq0YcS8XBi0ghGRFpCtWTdum5+yLOsQf2EuYY8AfnbQZDgCjHxBSKwTGpt8QCIDVH3/4H5OwEvldhliINwAFLsEyyIfGKV+vm3eEehVqKTdNxtDiPoLHCRiuwTJxCECxMDqDjTvZ63KaPKvRgV2i/F3ohm88V8LN8hgJcXD5pVGIPPNn9EBqSQC0I4AMxBUcQNCkarkFgSn/oCs9GCVep4eUG5BRAOcQOCWlGSc3If0IFqRfURQGRrKewPKEJ9sLnIowKCcw+f48N6UHjqYtgInaCCkBbPSj8VEkCr2g8U43wY1xX/BNkwreQrzg+oaJghOCGTU8RBxuIp6VFOGoEXgEsBLIgV6gBgxoLSI5CgiYNT+GBHsU01GthrceiMUtv9KgAYktgVNeGrBbtiOQVi9x8WjiAW7UNUnm4Vet7WtsFgDCDYEwQ/EVL1PnQf/xCDLTowTh4c4HPRDoQaiwhKIAae4B7xgCBydI/CDPOrevK0FR4p6w3VfoXgQiB3T1N8Y1PCD0X19JqcHGfzB5WkQE4p/kdeXBcEVUXEIFqSij82lMyrWq/7c+LFHA7z5/dwOHHg8s/Y8C2CmhbmALtare+4UWLfb25BmXABKABTniC8gRAP2yvDAiUAsElnrxFzITQa/sAFecAOY7zPV/8jMQHSbWAiUPGkQNABhw85xrSCv+mMSzFR8+7mjw01A8f4F8S/td4jnDHYxpT8/OEyV3gz2+GTfdAeAszswfJNGlQhEIjB0Bls0BKn4Iw7WKu9f1gmSagmvqleEwJwnZwjO7npz1HdCJ1hS/mlBcRXyF3i/M7NxqJFoeH27z7nnJaBmpUZKHsTbGUc1ALEoIGsGYl9ixS50gjAT/VhB8IzvGTrBVfWEz1MzAkRFTtecW731VdjNQPukVdhdn0Y8d/a7WYH6i/TBPBzUFwAlHwtGHOQISrgb1AMUgDETTA3+THAdeRJhg59V/Ektofa9I8wxVICkC7QQSAd2O3cftzPzdMK6aA4iZI4ILfYRbb9RgqICt2AxVnYZ4kkBvHOBxT/zN9ybHx/f5Ql2fkGCX6ANm6F8WCfqAS+Eq5AGcHJd2IFHagTMHAAj+mWBnDXuc81CjhsAi5dL2K8QCYI1aJ/PJtSSxEFXASv7C2I3ZB9/a0j/7nDn/j1pHsz9Jr8fNpxPBUAUUYD4wz5GBlmyAiORjtAIGDFwzSUwqiNZ1d1tPiB7/Q9VeI9KeJU16/knkEeQJEALjY4rkp74fCZiMDSA/PgvT/aT2gYgp5E/P29AKBQAo6TRth5T4VesQFb0i4K7RA2MZpgyFXCEQHCOixuYMPgy2L7+45ezSSKt2oUkURlpXkEMOLSiXPuDQZjk63N5bmzOSxQdLHX7AhwUEA0BAeQPJIQzkAuFlOK/GtyLdiGDKEBdllQ7YouxV2Xdwza9So4Kp5Z0yAgUhTlJgFzSFrznIHYIwKcCu2/L3LsCg6UI1b1/CA+ApIV5/32HqOIjdQusE4azip5Wc1b0q/QGIAlaWEJbXP3r/L+AEipw/+BtkQVY9fIM2i/ZhgVEgJO6DZ1ksVtlYdoQAPhVO0oKmYBmnAYco4DRCRB3TwCziptaE0auER9/VzRqKNOEYINOQg2m1l9GpGNQAhh1v6UmxNQh2M4+LmlUzll0OTjYQOaGlZAEMCrdhmBphaMBwBADrSQQc3//He8KgFETT7p6BHnjj2X9EXsDjrgBS6ihoAmcSQVYmE4JgYWFpp1waAQRoqDzxDhU+HxSnZHz/9JEY6Y5MJA+cwoWrt99+U3Mc/9g/NQTFaigAEtwB1yBzwzucZSX7RZEILhR1d5GDCsBLVUdIQvsldZfEJt5i/MHx2hGJZFkVVyK242iFeh58oBUFqIQbkfp2DV2X0CkAYgv1sU+P+I/HmBu8nErugdRnUWhfp+A/ddlbEH3uQlBsNobUEMHasK1HOYn8BEEvCUaiuigXRIKj+sGOPA4KAWz9/s7WxcgB4+a6/fI2osEwv4yOENAiPf+wQhbc/5f0gGisWuQaRFmGoIqguARWsBQgTTocDLMT5OJUQnhqdCEig+/EShKSEgTVV0MBMnz04BcshPnLk/+OaV0/dwKzB4QUt1NB6uTDfGOP+cNm9mEsBAFiM7AQh9AKVEU75vy68jeOxrUC4mDEuYO0oLqoSdHaEF2eXYYSm0V+oEOwpLmYFOF3Z4CmAeBTIGueiIw2xoKPzDBJVBXQ5g5O8/twwA+QguIjJt3+g0NQEcDfUXgO5gsqlTBLkQLdl86K3CWneitQ8sg/5oWAUJP2C3V3RoEyji5n4b9lB4t9pz2CA+cAFn1Z9I/uzYsU/ELtEBOCHYQQqGcFejV+yeuRJX31zsKV5IGjway9z6PLDxKwNEPsBuOEiqw57jGgOtZ1Y++T50AuMFl7hPIbhskiOwsATtRoc7rS7dXrpcgrMCGJca6ELJo+Y0be0BW5ZKGcFz4y8W9BduwcDnK9iO5fagsKpp9ANnvDPxeP8THNyIVFo1AMas8Qk5v2Ytm0LCCYAXqn+wQsPTBh/5Bcnne14Os3uCQt28vsK1WUESJFviBgAW//3u9PLxusXchcCR2WsNzv/ImvgZzzkUByDUAIrjTvmSHAowpJBQE4SUlxMxnARlQbIqkArVAJ6pBBvELCCKlkyCDAP45BYfEPfcUpfMch3Vn4bheYK4E66BxAxHSVd5INgEPgU/NBCDfNQ8Ho1CoINAPQAW/QT8OCIZlNFCB84XhoDChFByHGjx35v9BLgyhmojqHYb5QYXnuAecvua0hZe6BV9f7v4ibvgvamrmAc1TmaEir0LQ9h97eYAYVoM/nWA60i8Q3Ifezha9BqaaL3zvqd6IAuwwLSCCuCLuJWch4h30giPtyiAphKEBcCu9BV5wwzkMxID8rhMwdwMhcSFgrBT3RUTQboAUg3+p+Qe1IGarOioVnazmefV3lHpwA0AcLWCahUiXwePHWJsP+GH1gnp/we5KfOhJAbsj0H/BIEb04TbrTPsAyb2LLu93KwfCvn5PLAwrOXAa72eEQRo1CNdw5IprsAZ3hApy9zlcITG2vpCihsRSYxNS+J4vdBZ6B52eqRcQ/QXmSjAWSfa/5GA5qEg4iJFtm624AqXLrSA2gx8p1Mdqcghv41S0lSp/xAYs9gakQc4Ie2RTUYwYgt748mV+FU1Xgp14eW3XYZ6cdqGTNHwHICTwEeTPl0jEZwIgP9gDEaogeg5IHWCF+1eoAhvEKPB/EAeTRsM/pSAP5wjWEUMM1/NJRhwJbpJSgK7S7zF3EOsI5jBQBK9DV80Z8Y0COzvmWzJXgDl40KEC6cqvqgi4OB5cpgLFYK/1CvDiItXqC6/S87wfAUfPtxqfGNzlYaOjlf1IsHPPvffHgDAoEeEST4ZLZUd/RSo91/BjXY5ggWgQ4In3fyj4mUqPrInHOCLKO3wUwRsfyXpt1nEIRLrqcWeTuk7bigsbid1zD4iDRQtnIdQsyIXnFCn1I9D7ADgxEhOvR5AJosoUbu1FkJyYCi9OhQERoIx+4AX/YqUXQhtYEwKN4Cy1HntLMmtaAQpqfrT/UCoLSxeswjA5UWPPi0mjajUWxMTdVusNvt/ChMdmILK5IRMFu90BMEzFYHdg2GAgeYVHMMJIBTA7EFTx/5fpgTFXz9w/en0ZjD8kCDoKPNGwlB01BmoWQbh+AxR689mBponGJOr9OwmMu3dtJ/ylW1Tik4ElUPmR9RqII+pVhD9ychABMQ51gOIZg+/G+5mGIzLB1JJC5WhzYjhJ7IWmLDpA8jzsAafUPkB2WnFBF4iSxkq1ty7f25rv/+EQLOxs2oUdTSA9HIR9swdBlCcFe9owPC3XWDDC0ISVzsEVbSCF/sWdA5Fu4HJqankp2SeQCYYrImNalfmhpVxYrGkUS4LeSUjg8dD7+D7w/ybIfy7vlB9/HJ978zr7/45Qgajzj+4EjIK/ULHPRAOlKr/aG0AFcqCyu0GcW45Igh6JMJmhA49/U+cEssHNJhtXDC1MOya3j/sAiAGcrEtqtgjBD6wEzSDc7D8o6C8rIqAZyPk+NQoNLAZ1hR64Yl1FBY648smUYKnSg1Xwk/0DyRyArByMUobyByhCcPnOaPyoegREFS4jNfYAw+IHCjdC1J2WDZBke/OyN85J24WiXwDYPoJyYuCD238ulvuzwt6KgHf0shWKsqCFFGjB/w8HU8eeTED9wAAAAABJRU5ErkJggg==",e}(),l=i(244),_=i(649),u=i(718),f=i(695),d=i(30),h=i(660),p=i(720),b=i(686),m=function(){function e(t){this._isEnabled=!1,this.isEnabled=!1,this.intensity=1,this.roughness=0,this._indexOfRefraction=e._DefaultIndexOfRefraction,this.indexOfRefraction=e._DefaultIndexOfRefraction,this._texture=null,this.texture=null,this._useRoughnessFromMainTexture=!0,this.useRoughnessFromMainTexture=!0,this._textureRoughness=null,this.textureRoughness=null,this._remapF0OnInterfaceChange=!0,this.remapF0OnInterfaceChange=!0,this._bumpTexture=null,this.bumpTexture=null,this._isTintEnabled=!1,this.isTintEnabled=!1,this.tintColor=l.a.White(),this.tintColorAtDistance=1,this.tintThickness=1,this._tintTexture=null,this.tintTexture=null,this._internalMarkAllSubMeshesAsTexturesDirty=t}return e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},e.prototype.isReadyForSubMesh=function(e,t,i,n){if(e._areTexturesDirty&&t.texturesEnabled){if(this._texture&&p.a.ClearCoatTextureEnabled&&!this._texture.isReadyOrNotBlocking())return!1;if(this._textureRoughness&&p.a.ClearCoatTextureEnabled&&!this._textureRoughness.isReadyOrNotBlocking())return!1;if(i.getCaps().standardDerivatives&&this._bumpTexture&&p.a.ClearCoatBumpTextureEnabled&&!n&&!this._bumpTexture.isReady())return!1;if(this._isTintEnabled&&this._tintTexture&&p.a.ClearCoatTintTextureEnabled&&!this._tintTexture.isReadyOrNotBlocking())return!1}return!0},e.prototype.prepareDefines=function(t,i){var n;this._isEnabled?(t.CLEARCOAT=!0,t.CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE=this._useRoughnessFromMainTexture,t.CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL=null!==this._texture&&this._texture._texture===(null===(n=this._textureRoughness)||void 0===n?void 0:n._texture)&&this._texture.checkTransformsAreIdentical(this._textureRoughness),t.CLEARCOAT_REMAP_F0=this._remapF0OnInterfaceChange,t._areTexturesDirty&&i.texturesEnabled&&(this._texture&&p.a.ClearCoatTextureEnabled?b.a.PrepareDefinesForMergedUV(this._texture,t,"CLEARCOAT_TEXTURE"):t.CLEARCOAT_TEXTURE=!1,this._textureRoughness&&p.a.ClearCoatTextureEnabled?b.a.PrepareDefinesForMergedUV(this._textureRoughness,t,"CLEARCOAT_TEXTURE_ROUGHNESS"):t.CLEARCOAT_TEXTURE_ROUGHNESS=!1,this._bumpTexture&&p.a.ClearCoatBumpTextureEnabled?b.a.PrepareDefinesForMergedUV(this._bumpTexture,t,"CLEARCOAT_BUMP"):t.CLEARCOAT_BUMP=!1,t.CLEARCOAT_DEFAULTIOR=this._indexOfRefraction===e._DefaultIndexOfRefraction,this._isTintEnabled?(t.CLEARCOAT_TINT=!0,this._tintTexture&&p.a.ClearCoatTintTextureEnabled?b.a.PrepareDefinesForMergedUV(this._tintTexture,t,"CLEARCOAT_TINT_TEXTURE"):t.CLEARCOAT_TINT_TEXTURE=!1):(t.CLEARCOAT_TINT=!1,t.CLEARCOAT_TINT_TEXTURE=!1))):(t.CLEARCOAT=!1,t.CLEARCOAT_TEXTURE=!1,t.CLEARCOAT_TEXTURE_ROUGHNESS=!1,t.CLEARCOAT_BUMP=!1,t.CLEARCOAT_TINT=!1,t.CLEARCOAT_TINT_TEXTURE=!1,t.CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE=!1,t.CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL=!1)},e.prototype.bindForSubMesh=function(e,t,i,n,r,o,s,a){var c,l,_,u,f,d,h,m,A=a._materialDefines,g=A.CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL;if(!e.useUbo||!r||!e.isSync){g&&p.a.ClearCoatTextureEnabled?(e.updateFloat4("vClearCoatInfos",this._texture.coordinatesIndex,this._texture.level,-1,-1),b.a.BindTextureMatrix(this._texture,e,"clearCoat")):(this._texture||this._textureRoughness)&&p.a.ClearCoatTextureEnabled&&(e.updateFloat4("vClearCoatInfos",null!==(l=null===(c=this._texture)||void 0===c?void 0:c.coordinatesIndex)&&void 0!==l?l:0,null!==(u=null===(_=this._texture)||void 0===_?void 0:_.level)&&void 0!==u?u:0,null!==(d=null===(f=this._textureRoughness)||void 0===f?void 0:f.coordinatesIndex)&&void 0!==d?d:0,null!==(m=null===(h=this._textureRoughness)||void 0===h?void 0:h.level)&&void 0!==m?m:0),this._texture&&b.a.BindTextureMatrix(this._texture,e,"clearCoat"),!this._textureRoughness||g||A.CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE||b.a.BindTextureMatrix(this._textureRoughness,e,"clearCoatRoughness")),this._bumpTexture&&i.getCaps().standardDerivatives&&p.a.ClearCoatTextureEnabled&&!n&&(e.updateFloat2("vClearCoatBumpInfos",this._bumpTexture.coordinatesIndex,this._bumpTexture.level),b.a.BindTextureMatrix(this._bumpTexture,e,"clearCoatBump"),t._mirroredCameraPosition?e.updateFloat2("vClearCoatTangentSpaceParams",o?1:-1,s?1:-1):e.updateFloat2("vClearCoatTangentSpaceParams",o?-1:1,s?-1:1)),this._tintTexture&&p.a.ClearCoatTintTextureEnabled&&(e.updateFloat2("vClearCoatTintInfos",this._tintTexture.coordinatesIndex,this._tintTexture.level),b.a.BindTextureMatrix(this._tintTexture,e,"clearCoatTint")),e.updateFloat2("vClearCoatParams",this.intensity,this.roughness);var y=1-this._indexOfRefraction,v=1+this._indexOfRefraction,C=Math.pow(-y/v,2),E=1/this._indexOfRefraction;e.updateFloat4("vClearCoatRefractionParams",C,E,y,v),this._isTintEnabled&&(e.updateFloat4("vClearCoatTintParams",this.tintColor.r,this.tintColor.g,this.tintColor.b,Math.max(1e-5,this.tintThickness)),e.updateFloat("clearCoatColorAtDistance",Math.max(1e-5,this.tintColorAtDistance)))}t.texturesEnabled&&(this._texture&&p.a.ClearCoatTextureEnabled&&e.setTexture("clearCoatSampler",this._texture),this._textureRoughness&&!g&&!A.CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE&&p.a.ClearCoatTextureEnabled&&e.setTexture("clearCoatRoughnessSampler",this._textureRoughness),this._bumpTexture&&i.getCaps().standardDerivatives&&p.a.ClearCoatBumpTextureEnabled&&!n&&e.setTexture("clearCoatBumpSampler",this._bumpTexture),this._isTintEnabled&&this._tintTexture&&p.a.ClearCoatTintTextureEnabled&&e.setTexture("clearCoatTintSampler",this._tintTexture))},e.prototype.hasTexture=function(e){return this._texture===e||(this._textureRoughness===e||(this._bumpTexture===e||this._tintTexture===e))},e.prototype.getActiveTextures=function(e){this._texture&&e.push(this._texture),this._textureRoughness&&e.push(this._textureRoughness),this._bumpTexture&&e.push(this._bumpTexture),this._tintTexture&&e.push(this._tintTexture)},e.prototype.getAnimatables=function(e){this._texture&&this._texture.animations&&this._texture.animations.length>0&&e.push(this._texture),this._textureRoughness&&this._textureRoughness.animations&&this._textureRoughness.animations.length>0&&e.push(this._textureRoughness),this._bumpTexture&&this._bumpTexture.animations&&this._bumpTexture.animations.length>0&&e.push(this._bumpTexture),this._tintTexture&&this._tintTexture.animations&&this._tintTexture.animations.length>0&&e.push(this._tintTexture)},e.prototype.dispose=function(e){var t,i,n,r;e&&(null===(t=this._texture)||void 0===t||t.dispose(),null===(i=this._textureRoughness)||void 0===i||i.dispose(),null===(n=this._bumpTexture)||void 0===n||n.dispose(),null===(r=this._tintTexture)||void 0===r||r.dispose())},e.prototype.getClassName=function(){return"PBRClearCoatConfiguration"},e.AddFallbacks=function(e,t,i){return e.CLEARCOAT_BUMP&&t.addFallback(i++,"CLEARCOAT_BUMP"),e.CLEARCOAT_TINT&&t.addFallback(i++,"CLEARCOAT_TINT"),e.CLEARCOAT&&t.addFallback(i++,"CLEARCOAT"),i},e.AddUniforms=function(e){e.push("vClearCoatTangentSpaceParams","vClearCoatParams","vClearCoatRefractionParams","vClearCoatTintParams","clearCoatColorAtDistance","clearCoatMatrix","clearCoatRoughnessMatrix","clearCoatBumpMatrix","clearCoatTintMatrix","vClearCoatInfos","vClearCoatBumpInfos","vClearCoatTintInfos")},e.AddSamplers=function(e){e.push("clearCoatSampler","clearCoatRoughnessSampler","clearCoatBumpSampler","clearCoatTintSampler")},e.PrepareUniformBuffer=function(e){e.addUniform("vClearCoatParams",2),e.addUniform("vClearCoatRefractionParams",4),e.addUniform("vClearCoatInfos",4),e.addUniform("clearCoatMatrix",16),e.addUniform("clearCoatRoughnessMatrix",16),e.addUniform("vClearCoatBumpInfos",2),e.addUniform("vClearCoatTangentSpaceParams",2),e.addUniform("clearCoatBumpMatrix",16),e.addUniform("vClearCoatTintParams",4),e.addUniform("clearCoatColorAtDistance",1),e.addUniform("vClearCoatTintInfos",2),e.addUniform("clearCoatTintMatrix",16)},e.prototype.copyTo=function(e){r.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;r.a.Parse(function(){return n},e,t,i)},e._DefaultIndexOfRefraction=1.5,Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"intensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"roughness",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"indexOfRefraction",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"texture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"useRoughnessFromMainTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"textureRoughness",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"remapF0OnInterfaceChange",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"bumpTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isTintEnabled",void 0),Object(n.b)([Object(r.d)()],e.prototype,"tintColor",void 0),Object(n.b)([Object(r.c)()],e.prototype,"tintColorAtDistance",void 0),Object(n.b)([Object(r.c)()],e.prototype,"tintThickness",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"tintTexture",void 0),e}(),A=function(){function e(e){this._isEnabled=!1,this.isEnabled=!1,this.intensity=1,this.direction=new d.d(1,0),this._texture=null,this.texture=null,this._internalMarkAllSubMeshesAsTexturesDirty=e}return e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},e.prototype.isReadyForSubMesh=function(e,t){return!(e._areTexturesDirty&&t.texturesEnabled&&this._texture&&p.a.AnisotropicTextureEnabled&&!this._texture.isReadyOrNotBlocking())},e.prototype.prepareDefines=function(e,t,i){this._isEnabled?(e.ANISOTROPIC=this._isEnabled,this._isEnabled&&!t.isVerticesDataPresent(h.b.TangentKind)&&(e._needUVs=!0,e.MAINUV1=!0),e._areTexturesDirty&&i.texturesEnabled&&(this._texture&&p.a.AnisotropicTextureEnabled?b.a.PrepareDefinesForMergedUV(this._texture,e,"ANISOTROPIC_TEXTURE"):e.ANISOTROPIC_TEXTURE=!1)):(e.ANISOTROPIC=!1,e.ANISOTROPIC_TEXTURE=!1)},e.prototype.bindForSubMesh=function(e,t,i){e.useUbo&&i&&e.isSync||(this._texture&&p.a.AnisotropicTextureEnabled&&(e.updateFloat2("vAnisotropyInfos",this._texture.coordinatesIndex,this._texture.level),b.a.BindTextureMatrix(this._texture,e,"anisotropy")),e.updateFloat3("vAnisotropy",this.direction.x,this.direction.y,this.intensity)),t.texturesEnabled&&this._texture&&p.a.AnisotropicTextureEnabled&&e.setTexture("anisotropySampler",this._texture)},e.prototype.hasTexture=function(e){return this._texture===e},e.prototype.getActiveTextures=function(e){this._texture&&e.push(this._texture)},e.prototype.getAnimatables=function(e){this._texture&&this._texture.animations&&this._texture.animations.length>0&&e.push(this._texture)},e.prototype.dispose=function(e){e&&this._texture&&this._texture.dispose()},e.prototype.getClassName=function(){return"PBRAnisotropicConfiguration"},e.AddFallbacks=function(e,t,i){return e.ANISOTROPIC&&t.addFallback(i++,"ANISOTROPIC"),i},e.AddUniforms=function(e){e.push("vAnisotropy","vAnisotropyInfos","anisotropyMatrix")},e.PrepareUniformBuffer=function(e){e.addUniform("vAnisotropy",3),e.addUniform("vAnisotropyInfos",2),e.addUniform("anisotropyMatrix",16)},e.AddSamplers=function(e){e.push("anisotropySampler")},e.prototype.copyTo=function(e){r.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;r.a.Parse(function(){return n},e,t,i)},Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"intensity",void 0),Object(n.b)([Object(r.m)()],e.prototype,"direction",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"texture",void 0),e}(),g=function(){function e(t){this._useEnergyConservation=e.DEFAULT_USE_ENERGY_CONSERVATION,this.useEnergyConservation=e.DEFAULT_USE_ENERGY_CONSERVATION,this._useSmithVisibilityHeightCorrelated=e.DEFAULT_USE_SMITH_VISIBILITY_HEIGHT_CORRELATED,this.useSmithVisibilityHeightCorrelated=e.DEFAULT_USE_SMITH_VISIBILITY_HEIGHT_CORRELATED,this._useSphericalHarmonics=e.DEFAULT_USE_SPHERICAL_HARMONICS,this.useSphericalHarmonics=e.DEFAULT_USE_SPHERICAL_HARMONICS,this._useSpecularGlossinessInputEnergyConservation=e.DEFAULT_USE_SPECULAR_GLOSSINESS_INPUT_ENERGY_CONSERVATION,this.useSpecularGlossinessInputEnergyConservation=e.DEFAULT_USE_SPECULAR_GLOSSINESS_INPUT_ENERGY_CONSERVATION,this._internalMarkAllSubMeshesAsMiscDirty=t}return e.prototype._markAllSubMeshesAsMiscDirty=function(){this._internalMarkAllSubMeshesAsMiscDirty()},e.prototype.prepareDefines=function(e){e.BRDF_V_HEIGHT_CORRELATED=this._useSmithVisibilityHeightCorrelated,e.MS_BRDF_ENERGY_CONSERVATION=this._useEnergyConservation&&this._useSmithVisibilityHeightCorrelated,e.SPHERICAL_HARMONICS=this._useSphericalHarmonics,e.SPECULAR_GLOSSINESS_ENERGY_CONSERVATION=this._useSpecularGlossinessInputEnergyConservation},e.prototype.getClassName=function(){return"PBRBRDFConfiguration"},e.prototype.copyTo=function(e){r.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;r.a.Parse(function(){return n},e,t,i)},e.DEFAULT_USE_ENERGY_CONSERVATION=!0,e.DEFAULT_USE_SMITH_VISIBILITY_HEIGHT_CORRELATED=!0,e.DEFAULT_USE_SPHERICAL_HARMONICS=!0,e.DEFAULT_USE_SPECULAR_GLOSSINESS_INPUT_ENERGY_CONSERVATION=!0,Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsMiscDirty")],e.prototype,"useEnergyConservation",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsMiscDirty")],e.prototype,"useSmithVisibilityHeightCorrelated",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsMiscDirty")],e.prototype,"useSphericalHarmonics",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsMiscDirty")],e.prototype,"useSpecularGlossinessInputEnergyConservation",void 0),e}(),y=function(){function e(e){this._isEnabled=!1,this.isEnabled=!1,this._linkSheenWithAlbedo=!1,this.linkSheenWithAlbedo=!1,this.intensity=1,this.color=l.a.White(),this._texture=null,this.texture=null,this._useRoughnessFromMainTexture=!0,this.useRoughnessFromMainTexture=!0,this._roughness=null,this.roughness=null,this._textureRoughness=null,this.textureRoughness=null,this._albedoScaling=!1,this.albedoScaling=!1,this._internalMarkAllSubMeshesAsTexturesDirty=e}return e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},e.prototype.isReadyForSubMesh=function(e,t){if(e._areTexturesDirty&&t.texturesEnabled){if(this._texture&&p.a.SheenTextureEnabled&&!this._texture.isReadyOrNotBlocking())return!1;if(this._textureRoughness&&p.a.SheenTextureEnabled&&!this._textureRoughness.isReadyOrNotBlocking())return!1}return!0},e.prototype.prepareDefines=function(e,t){var i;this._isEnabled?(e.SHEEN=this._isEnabled,e.SHEEN_LINKWITHALBEDO=this._linkSheenWithAlbedo,e.SHEEN_ROUGHNESS=null!==this._roughness,e.SHEEN_ALBEDOSCALING=this._albedoScaling,e.SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE=this._useRoughnessFromMainTexture,e.SHEEN_TEXTURE_ROUGHNESS_IDENTICAL=null!==this._texture&&this._texture._texture===(null===(i=this._textureRoughness)||void 0===i?void 0:i._texture)&&this._texture.checkTransformsAreIdentical(this._textureRoughness),e._areTexturesDirty&&t.texturesEnabled&&(this._texture&&p.a.SheenTextureEnabled?b.a.PrepareDefinesForMergedUV(this._texture,e,"SHEEN_TEXTURE"):e.SHEEN_TEXTURE=!1,this._textureRoughness&&p.a.SheenTextureEnabled?b.a.PrepareDefinesForMergedUV(this._textureRoughness,e,"SHEEN_TEXTURE_ROUGHNESS"):e.SHEEN_TEXTURE_ROUGHNESS=!1)):(e.SHEEN=!1,e.SHEEN_TEXTURE=!1,e.SHEEN_TEXTURE_ROUGHNESS=!1,e.SHEEN_LINKWITHALBEDO=!1,e.SHEEN_ROUGHNESS=!1,e.SHEEN_ALBEDOSCALING=!1,e.SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE=!1,e.SHEEN_TEXTURE_ROUGHNESS_IDENTICAL=!1)},e.prototype.bindForSubMesh=function(e,t,i,n){var r,o,s,a,c,l,_,u,f=n._materialDefines,d=f.SHEEN_TEXTURE_ROUGHNESS_IDENTICAL;e.useUbo&&i&&e.isSync||(d&&p.a.SheenTextureEnabled?(e.updateFloat4("vSheenInfos",this._texture.coordinatesIndex,this._texture.level,-1,-1),b.a.BindTextureMatrix(this._texture,e,"sheen")):(this._texture||this._textureRoughness)&&p.a.SheenTextureEnabled&&(e.updateFloat4("vSheenInfos",null!==(o=null===(r=this._texture)||void 0===r?void 0:r.coordinatesIndex)&&void 0!==o?o:0,null!==(a=null===(s=this._texture)||void 0===s?void 0:s.level)&&void 0!==a?a:0,null!==(l=null===(c=this._textureRoughness)||void 0===c?void 0:c.coordinatesIndex)&&void 0!==l?l:0,null!==(u=null===(_=this._textureRoughness)||void 0===_?void 0:_.level)&&void 0!==u?u:0),this._texture&&b.a.BindTextureMatrix(this._texture,e,"sheen"),!this._textureRoughness||d||f.SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE||b.a.BindTextureMatrix(this._textureRoughness,e,"sheenRoughness")),e.updateFloat4("vSheenColor",this.color.r,this.color.g,this.color.b,this.intensity),null!==this._roughness&&e.updateFloat("vSheenRoughness",this._roughness)),t.texturesEnabled&&(this._texture&&p.a.SheenTextureEnabled&&e.setTexture("sheenSampler",this._texture),this._textureRoughness&&!d&&!f.SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE&&p.a.SheenTextureEnabled&&e.setTexture("sheenRoughnessSampler",this._textureRoughness))},e.prototype.hasTexture=function(e){return this._texture===e||this._textureRoughness===e},e.prototype.getActiveTextures=function(e){this._texture&&e.push(this._texture),this._textureRoughness&&e.push(this._textureRoughness)},e.prototype.getAnimatables=function(e){this._texture&&this._texture.animations&&this._texture.animations.length>0&&e.push(this._texture),this._textureRoughness&&this._textureRoughness.animations&&this._textureRoughness.animations.length>0&&e.push(this._textureRoughness)},e.prototype.dispose=function(e){var t,i;e&&(null===(t=this._texture)||void 0===t||t.dispose(),null===(i=this._textureRoughness)||void 0===i||i.dispose())},e.prototype.getClassName=function(){return"PBRSheenConfiguration"},e.AddFallbacks=function(e,t,i){return e.SHEEN&&t.addFallback(i++,"SHEEN"),i},e.AddUniforms=function(e){e.push("vSheenColor","vSheenRoughness","vSheenInfos","sheenMatrix","sheenRoughnessMatrix")},e.PrepareUniformBuffer=function(e){e.addUniform("vSheenColor",4),e.addUniform("vSheenRoughness",1),e.addUniform("vSheenInfos",4),e.addUniform("sheenMatrix",16),e.addUniform("sheenRoughnessMatrix",16)},e.AddSamplers=function(e){e.push("sheenSampler"),e.push("sheenRoughnessSampler")},e.prototype.copyTo=function(e){r.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;r.a.Parse(function(){return n},e,t,i)},Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isEnabled",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"linkSheenWithAlbedo",void 0),Object(n.b)([Object(r.c)()],e.prototype,"intensity",void 0),Object(n.b)([Object(r.d)()],e.prototype,"color",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"texture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"useRoughnessFromMainTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"roughness",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"textureRoughness",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"albedoScaling",void 0),e}(),v=i(37),C=function(){function e(e,t,i){this._isRefractionEnabled=!1,this.isRefractionEnabled=!1,this._isTranslucencyEnabled=!1,this.isTranslucencyEnabled=!1,this._isScatteringEnabled=!1,this.isScatteringEnabled=!1,this._scatteringDiffusionProfileIndex=0,this.refractionIntensity=1,this.translucencyIntensity=1,this.useAlbedoToTintRefraction=!1,this._thicknessTexture=null,this.thicknessTexture=null,this._refractionTexture=null,this.refractionTexture=null,this._indexOfRefraction=1.5,this.indexOfRefraction=1.5,this._volumeIndexOfRefraction=-1,this._invertRefractionY=!1,this.invertRefractionY=!1,this._linkRefractionWithTransparency=!1,this.linkRefractionWithTransparency=!1,this.minimumThickness=0,this.maximumThickness=1,this.tintColor=l.a.White(),this.tintColorAtDistance=1,this.diffusionDistance=l.a.White(),this._useMaskFromThicknessTexture=!1,this.useMaskFromThicknessTexture=!1,this._useMaskFromThicknessTextureGltf=!1,this.useMaskFromThicknessTextureGltf=!1,this._internalMarkAllSubMeshesAsTexturesDirty=e,this._internalMarkScenePrePassDirty=t,this._scene=i}return Object.defineProperty(e.prototype,"scatteringDiffusionProfile",{get:function(){return this._scene.subSurfaceConfiguration?this._scene.subSurfaceConfiguration.ssDiffusionProfileColors[this._scatteringDiffusionProfileIndex]:null},set:function(e){this._scene.enableSubSurfaceForPrePass()&&e&&(this._scatteringDiffusionProfileIndex=this._scene.subSurfaceConfiguration.addDiffusionProfile(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"volumeIndexOfRefraction",{get:function(){return this._volumeIndexOfRefraction>=1?this._volumeIndexOfRefraction:this._indexOfRefraction},set:function(e){this._volumeIndexOfRefraction=e>=1?e:-1},enumerable:!1,configurable:!0}),e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},e.prototype._markScenePrePassDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty(),this._internalMarkScenePrePassDirty()},e.prototype.isReadyForSubMesh=function(e,t){if(e._areTexturesDirty&&t.texturesEnabled){if(this._thicknessTexture&&p.a.ThicknessTextureEnabled&&!this._thicknessTexture.isReadyOrNotBlocking())return!1;var i=this._getRefractionTexture(t);if(i&&p.a.RefractionTextureEnabled&&!i.isReadyOrNotBlocking())return!1}return!0},e.prototype.prepareDefines=function(e,t){if(e._areTexturesDirty&&(e.SUBSURFACE=!1,e.SS_TRANSLUCENCY=this._isTranslucencyEnabled,e.SS_SCATTERING=this._isScatteringEnabled,e.SS_THICKNESSANDMASK_TEXTURE=!1,e.SS_MASK_FROM_THICKNESS_TEXTURE=!1,e.SS_MASK_FROM_THICKNESS_TEXTURE_GLTF=!1,e.SS_REFRACTION=!1,e.SS_REFRACTIONMAP_3D=!1,e.SS_GAMMAREFRACTION=!1,e.SS_RGBDREFRACTION=!1,e.SS_LINEARSPECULARREFRACTION=!1,e.SS_REFRACTIONMAP_OPPOSITEZ=!1,e.SS_LODINREFRACTIONALPHA=!1,e.SS_LINKREFRACTIONTOTRANSPARENCY=!1,e.SS_ALBEDOFORREFRACTIONTINT=!1,(this._isRefractionEnabled||this._isTranslucencyEnabled||this._isScatteringEnabled)&&(e.SUBSURFACE=!0,e._areTexturesDirty&&t.texturesEnabled&&this._thicknessTexture&&p.a.ThicknessTextureEnabled&&b.a.PrepareDefinesForMergedUV(this._thicknessTexture,e,"SS_THICKNESSANDMASK_TEXTURE"),e.SS_MASK_FROM_THICKNESS_TEXTURE=this._useMaskFromThicknessTexture,e.SS_MASK_FROM_THICKNESS_TEXTURE_GLTF=this._useMaskFromThicknessTextureGltf),this._isRefractionEnabled&&t.texturesEnabled)){var i=this._getRefractionTexture(t);i&&p.a.RefractionTextureEnabled&&(e.SS_REFRACTION=!0,e.SS_REFRACTIONMAP_3D=i.isCube,e.SS_GAMMAREFRACTION=i.gammaSpace,e.SS_RGBDREFRACTION=i.isRGBD,e.SS_LINEARSPECULARREFRACTION=i.linearSpecularLOD,e.SS_REFRACTIONMAP_OPPOSITEZ=i.invertZ,e.SS_LODINREFRACTIONALPHA=i.lodLevelInAlpha,e.SS_LINKREFRACTIONTOTRANSPARENCY=this._linkRefractionWithTransparency,e.SS_ALBEDOFORREFRACTIONTINT=this.useAlbedoToTintRefraction)}},e.prototype.bindForSubMesh=function(e,t,i,n,r,o){var s=this._getRefractionTexture(t);if(!e.useUbo||!n||!e.isSync){if(this._thicknessTexture&&p.a.ThicknessTextureEnabled&&(e.updateFloat2("vThicknessInfos",this._thicknessTexture.coordinatesIndex,this._thicknessTexture.level),b.a.BindTextureMatrix(this._thicknessTexture,e,"thickness")),e.updateFloat2("vThicknessParam",this.minimumThickness,this.maximumThickness-this.minimumThickness),s&&p.a.RefractionTextureEnabled){e.updateMatrix("refractionMatrix",s.getReflectionTextureMatrix());var a=1;s.isCube||s.depth&&(a=s.depth);var c=s.getSize().width,l=this.volumeIndexOfRefraction;e.updateFloat4("vRefractionInfos",s.level,1/l,a,this._invertRefractionY?-1:1),e.updateFloat3("vRefractionMicrosurfaceInfos",c,s.lodGenerationScale,s.lodGenerationOffset),o&&e.updateFloat2("vRefractionFilteringInfo",c,v.a.Log2(c))}this.isScatteringEnabled&&e.updateFloat("scatteringDiffusionProfile",this._scatteringDiffusionProfileIndex),e.updateColor3("vDiffusionDistance",this.diffusionDistance),e.updateFloat4("vTintColor",this.tintColor.r,this.tintColor.g,this.tintColor.b,this.tintColorAtDistance),e.updateFloat3("vSubSurfaceIntensity",this.refractionIntensity,this.translucencyIntensity,0)}t.texturesEnabled&&(this._thicknessTexture&&p.a.ThicknessTextureEnabled&&e.setTexture("thicknessSampler",this._thicknessTexture),s&&p.a.RefractionTextureEnabled&&(r?e.setTexture("refractionSampler",s):(e.setTexture("refractionSampler",s._lodTextureMid||s),e.setTexture("refractionSamplerLow",s._lodTextureLow||s),e.setTexture("refractionSamplerHigh",s._lodTextureHigh||s))))},e.prototype.unbind=function(e){return!(!this._refractionTexture||!this._refractionTexture.isRenderTarget)&&(e.setTexture("refractionSampler",null),!0)},e.prototype._getRefractionTexture=function(e){return this._refractionTexture?this._refractionTexture:this._isRefractionEnabled?e.environmentTexture:null},Object.defineProperty(e.prototype,"disableAlphaBlending",{get:function(){return this.isRefractionEnabled&&this._linkRefractionWithTransparency},enumerable:!1,configurable:!0}),e.prototype.fillRenderTargetTextures=function(e){p.a.RefractionTextureEnabled&&this._refractionTexture&&this._refractionTexture.isRenderTarget&&e.push(this._refractionTexture)},e.prototype.hasTexture=function(e){return this._thicknessTexture===e||this._refractionTexture===e},e.prototype.hasRenderTargetTextures=function(){return!!(p.a.RefractionTextureEnabled&&this._refractionTexture&&this._refractionTexture.isRenderTarget)},e.prototype.getActiveTextures=function(e){this._thicknessTexture&&e.push(this._thicknessTexture),this._refractionTexture&&e.push(this._refractionTexture)},e.prototype.getAnimatables=function(e){this._thicknessTexture&&this._thicknessTexture.animations&&this._thicknessTexture.animations.length>0&&e.push(this._thicknessTexture),this._refractionTexture&&this._refractionTexture.animations&&this._refractionTexture.animations.length>0&&e.push(this._refractionTexture)},e.prototype.dispose=function(e){e&&(this._thicknessTexture&&this._thicknessTexture.dispose(),this._refractionTexture&&this._refractionTexture.dispose())},e.prototype.getClassName=function(){return"PBRSubSurfaceConfiguration"},e.AddFallbacks=function(e,t,i){return e.SS_SCATTERING&&t.addFallback(i++,"SS_SCATTERING"),e.SS_TRANSLUCENCY&&t.addFallback(i++,"SS_TRANSLUCENCY"),i},e.AddUniforms=function(e){e.push("vDiffusionDistance","vTintColor","vSubSurfaceIntensity","vRefractionMicrosurfaceInfos","vRefractionFilteringInfo","vRefractionInfos","vThicknessInfos","vThicknessParam","refractionMatrix","thicknessMatrix","scatteringDiffusionProfile")},e.AddSamplers=function(e){e.push("thicknessSampler","refractionSampler","refractionSamplerLow","refractionSamplerHigh")},e.PrepareUniformBuffer=function(e){e.addUniform("vRefractionMicrosurfaceInfos",3),e.addUniform("vRefractionFilteringInfo",2),e.addUniform("vRefractionInfos",4),e.addUniform("refractionMatrix",16),e.addUniform("vThicknessInfos",2),e.addUniform("thicknessMatrix",16),e.addUniform("vThicknessParam",2),e.addUniform("vDiffusionDistance",3),e.addUniform("vTintColor",4),e.addUniform("vSubSurfaceIntensity",3),e.addUniform("scatteringDiffusionProfile",1)},e.prototype.copyTo=function(e){r.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;r.a.Parse(function(){return n},e,t,i)},Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isRefractionEnabled",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isTranslucencyEnabled",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markScenePrePassDirty")],e.prototype,"isScatteringEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_scatteringDiffusionProfileIndex",void 0),Object(n.b)([Object(r.c)()],e.prototype,"refractionIntensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"translucencyIntensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"useAlbedoToTintRefraction",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"thicknessTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"refractionTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"indexOfRefraction",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_volumeIndexOfRefraction",void 0),Object(n.b)([Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"volumeIndexOfRefraction",null),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"invertRefractionY",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"linkRefractionWithTransparency",void 0),Object(n.b)([Object(r.c)()],e.prototype,"minimumThickness",void 0),Object(n.b)([Object(r.c)()],e.prototype,"maximumThickness",void 0),Object(n.b)([Object(r.d)()],e.prototype,"tintColor",void 0),Object(n.b)([Object(r.c)()],e.prototype,"tintColorAtDistance",void 0),Object(n.b)([Object(r.d)()],e.prototype,"diffusionDistance",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"useMaskFromThicknessTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"useMaskFromThicknessTextureGltf",void 0),e}(),E=i(953),S=i(885),T=i(677),R=i(872),M=i(954),O=(i(978),i(642)),I=(i(955),"pbrFragmentDeclaration"),x="uniform vec3 vReflectionColor;\nuniform vec4 vAlbedoColor;\n\nuniform vec4 vLightingIntensity;\nuniform vec4 vReflectivityColor;\nuniform vec4 vMetallicReflectanceFactors;\nuniform vec3 vEmissiveColor;\nuniform float visibility;\n\n#ifdef ALBEDO\nuniform vec2 vAlbedoInfos;\n#endif\n#ifdef AMBIENT\nuniform vec4 vAmbientInfos;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform vec2 vTangentSpaceParams;\n#endif\n#ifdef OPACITY\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\n#endif\n#ifdef REFLECTIVITY\nuniform vec3 vReflectivityInfos;\n#endif\n#ifdef MICROSURFACEMAP\nuniform vec2 vMicroSurfaceSamplerInfos;\n#endif\n\n#if defined(REFLECTIONMAP_SPHERICAL) || defined(REFLECTIONMAP_PROJECTION) || defined(SS_REFRACTION)\nuniform mat4 view;\n#endif\n\n#ifdef REFLECTION\nuniform vec2 vReflectionInfos;\n#ifdef REALTIME_FILTERING\nuniform vec2 vReflectionFilteringInfo;\n#endif\nuniform mat4 reflectionMatrix;\nuniform vec3 vReflectionMicrosurfaceInfos;\n#if defined(USE_LOCAL_REFLECTIONMAP_CUBIC) && defined(REFLECTIONMAP_CUBIC)\nuniform vec3 vReflectionPosition;\nuniform vec3 vReflectionSize;\n#endif\n#endif\n\n#ifdef CLEARCOAT\nuniform vec2 vClearCoatParams;\nuniform vec4 vClearCoatRefractionParams;\n#if defined(CLEARCOAT_TEXTURE) || defined(CLEARCOAT_TEXTURE_ROUGHNESS)\nuniform vec4 vClearCoatInfos;\n#endif\n#ifdef CLEARCOAT_TEXTURE\nuniform mat4 clearCoatMatrix;\n#endif\n#ifdef CLEARCOAT_TEXTURE_ROUGHNESS\nuniform mat4 clearCoatRoughnessMatrix;\n#endif\n#ifdef CLEARCOAT_BUMP\nuniform vec2 vClearCoatBumpInfos;\nuniform vec2 vClearCoatTangentSpaceParams;\nuniform mat4 clearCoatBumpMatrix;\n#endif\n#ifdef CLEARCOAT_TINT\nuniform vec4 vClearCoatTintParams;\nuniform float clearCoatColorAtDistance;\n#ifdef CLEARCOAT_TINT_TEXTURE\nuniform vec2 vClearCoatTintInfos;\nuniform mat4 clearCoatTintMatrix;\n#endif\n#endif\n#endif\n\n#ifdef ANISOTROPIC\nuniform vec3 vAnisotropy;\n#ifdef ANISOTROPIC_TEXTURE\nuniform vec2 vAnisotropyInfos;\nuniform mat4 anisotropyMatrix;\n#endif\n#endif\n\n#ifdef SHEEN\nuniform vec4 vSheenColor;\n#ifdef SHEEN_ROUGHNESS\nuniform float vSheenRoughness;\n#endif\n#if defined(SHEEN_TEXTURE) || defined(SHEEN_TEXTURE_ROUGHNESS)\nuniform vec4 vSheenInfos;\n#endif\n#ifdef SHEEN_TEXTURE\nuniform mat4 sheenMatrix;\n#endif\n#ifdef SHEEN_TEXTURE_ROUGHNESS\nuniform mat4 sheenRoughnessMatrix;\n#endif\n#endif\n\n#ifdef SUBSURFACE\n#ifdef SS_REFRACTION\nuniform vec3 vRefractionMicrosurfaceInfos;\nuniform vec4 vRefractionInfos;\nuniform mat4 refractionMatrix;\n#ifdef REALTIME_FILTERING\nuniform vec2 vRefractionFilteringInfo;\n#endif\n#endif\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nuniform vec2 vThicknessInfos;\nuniform mat4 thicknessMatrix;\n#endif\nuniform vec2 vThicknessParam;\nuniform vec3 vDiffusionDistance;\nuniform vec4 vTintColor;\nuniform vec3 vSubSurfaceIntensity;\n#endif\n#ifdef PREPASS\n#ifdef PREPASS_IRRADIANCE\nuniform float scatteringDiffusionProfile;\n#endif\n#endif";O.a.IncludesShadersStore[I]=x;var P="pbrUboDeclaration",D="layout(std140,column_major) uniform;\nuniform Material\n{\nuniform vec2 vAlbedoInfos;\nuniform vec4 vAmbientInfos;\nuniform vec2 vOpacityInfos;\nuniform vec2 vEmissiveInfos;\nuniform vec2 vLightmapInfos;\nuniform vec3 vReflectivityInfos;\nuniform vec2 vMicroSurfaceSamplerInfos;\nuniform vec2 vReflectionInfos;\nuniform vec2 vReflectionFilteringInfo;\nuniform vec3 vReflectionPosition;\nuniform vec3 vReflectionSize;\nuniform vec3 vBumpInfos;\nuniform mat4 albedoMatrix;\nuniform mat4 ambientMatrix;\nuniform mat4 opacityMatrix;\nuniform mat4 emissiveMatrix;\nuniform mat4 lightmapMatrix;\nuniform mat4 reflectivityMatrix;\nuniform mat4 microSurfaceSamplerMatrix;\nuniform mat4 bumpMatrix;\nuniform vec2 vTangentSpaceParams;\nuniform mat4 reflectionMatrix;\nuniform vec3 vReflectionColor;\nuniform vec4 vAlbedoColor;\nuniform vec4 vLightingIntensity;\nuniform vec3 vReflectionMicrosurfaceInfos;\nuniform float pointSize;\nuniform vec4 vReflectivityColor;\nuniform vec3 vEmissiveColor;\nuniform float visibility;\nuniform vec4 vMetallicReflectanceFactors;\nuniform vec2 vMetallicReflectanceInfos;\nuniform mat4 metallicReflectanceMatrix;\nuniform vec2 vClearCoatParams;\nuniform vec4 vClearCoatRefractionParams;\nuniform vec4 vClearCoatInfos;\nuniform mat4 clearCoatMatrix;\nuniform mat4 clearCoatRoughnessMatrix;\nuniform vec2 vClearCoatBumpInfos;\nuniform vec2 vClearCoatTangentSpaceParams;\nuniform mat4 clearCoatBumpMatrix;\nuniform vec4 vClearCoatTintParams;\nuniform float clearCoatColorAtDistance;\nuniform vec2 vClearCoatTintInfos;\nuniform mat4 clearCoatTintMatrix;\nuniform vec3 vAnisotropy;\nuniform vec2 vAnisotropyInfos;\nuniform mat4 anisotropyMatrix;\nuniform vec4 vSheenColor;\nuniform float vSheenRoughness;\nuniform vec4 vSheenInfos;\nuniform mat4 sheenMatrix;\nuniform mat4 sheenRoughnessMatrix;\nuniform vec3 vRefractionMicrosurfaceInfos;\nuniform vec2 vRefractionFilteringInfo;\nuniform vec4 vRefractionInfos;\nuniform mat4 refractionMatrix;\nuniform vec2 vThicknessInfos;\nuniform mat4 thicknessMatrix;\nuniform vec2 vThicknessParam;\nuniform vec3 vDiffusionDistance;\nuniform vec4 vTintColor;\nuniform vec3 vSubSurfaceIntensity;\nuniform float scatteringDiffusionProfile;\nuniform vec4 vDetailInfos;\nuniform mat4 detailMatrix;\n};\nuniform Scene {\nmat4 viewProjection;\n#ifdef MULTIVIEW\nmat4 viewProjectionR;\n#endif\nmat4 view;\n};";O.a.IncludesShadersStore[P]=D;var w="pbrFragmentExtraDeclaration",L="uniform vec4 vEyePosition;\nuniform vec3 vAmbientColor;\nuniform vec4 vCameraInfos;\n\nvarying vec3 vPositionW;\n#if DEBUGMODE>0\nuniform vec2 vDebugMode;\nvarying vec4 vClipSpacePosition;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#if defined(USESPHERICALFROMREFLECTIONMAP) && defined(USESPHERICALINVERTEX)\nvarying vec3 vEnvironmentIrradiance;\n#endif\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif";O.a.IncludesShadersStore[w]=L;i(817),i(818);var F="pbrFragmentSamplersDeclaration",N="#ifdef ALBEDO\n#if ALBEDODIRECTUV == 1\n#define vAlbedoUV vMainUV1\n#elif ALBEDODIRECTUV == 2\n#define vAlbedoUV vMainUV2\n#else\nvarying vec2 vAlbedoUV;\n#endif\nuniform sampler2D albedoSampler;\n#endif\n#ifdef AMBIENT\n#if AMBIENTDIRECTUV == 1\n#define vAmbientUV vMainUV1\n#elif AMBIENTDIRECTUV == 2\n#define vAmbientUV vMainUV2\n#else\nvarying vec2 vAmbientUV;\n#endif\nuniform sampler2D ambientSampler;\n#endif\n#ifdef OPACITY\n#if OPACITYDIRECTUV == 1\n#define vOpacityUV vMainUV1\n#elif OPACITYDIRECTUV == 2\n#define vOpacityUV vMainUV2\n#else\nvarying vec2 vOpacityUV;\n#endif\nuniform sampler2D opacitySampler;\n#endif\n#ifdef EMISSIVE\n#if EMISSIVEDIRECTUV == 1\n#define vEmissiveUV vMainUV1\n#elif EMISSIVEDIRECTUV == 2\n#define vEmissiveUV vMainUV2\n#else\nvarying vec2 vEmissiveUV;\n#endif\nuniform sampler2D emissiveSampler;\n#endif\n#ifdef LIGHTMAP\n#if LIGHTMAPDIRECTUV == 1\n#define vLightmapUV vMainUV1\n#elif LIGHTMAPDIRECTUV == 2\n#define vLightmapUV vMainUV2\n#else\nvarying vec2 vLightmapUV;\n#endif\nuniform sampler2D lightmapSampler;\n#endif\n#ifdef REFLECTIVITY\n#if REFLECTIVITYDIRECTUV == 1\n#define vReflectivityUV vMainUV1\n#elif REFLECTIVITYDIRECTUV == 2\n#define vReflectivityUV vMainUV2\n#else\nvarying vec2 vReflectivityUV;\n#endif\nuniform sampler2D reflectivitySampler;\n#endif\n#ifdef MICROSURFACEMAP\n#if MICROSURFACEMAPDIRECTUV == 1\n#define vMicroSurfaceSamplerUV vMainUV1\n#elif MICROSURFACEMAPDIRECTUV == 2\n#define vMicroSurfaceSamplerUV vMainUV2\n#else\nvarying vec2 vMicroSurfaceSamplerUV;\n#endif\nuniform sampler2D microSurfaceSampler;\n#endif\n#ifdef METALLIC_REFLECTANCE\n#if METALLIC_REFLECTANCEDIRECTUV == 1\n#define vMetallicReflectanceUV vMainUV1\n#elif METALLIC_REFLECTANCEDIRECTUV == 2\n#define vMetallicReflectanceUV vMainUV2\n#else\nvarying vec2 vMetallicReflectanceUV;\n#endif\nuniform sampler2D metallicReflectanceSampler;\n#endif\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE)\n#if CLEARCOAT_TEXTUREDIRECTUV == 1\n#define vClearCoatUV vMainUV1\n#elif CLEARCOAT_TEXTUREDIRECTUV == 2\n#define vClearCoatUV vMainUV2\n#else\nvarying vec2 vClearCoatUV;\n#endif\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS)\n#if CLEARCOAT_TEXTURE_ROUGHNESSDIRECTUV == 1\n#define vClearCoatRoughnessUV vMainUV1\n#elif CLEARCOAT_TEXTURE_ROUGHNESSDIRECTUV == 2\n#define vClearCoatRoughnessUV vMainUV2\n#else\nvarying vec2 vClearCoatRoughnessUV;\n#endif\n#endif\n#ifdef CLEARCOAT_TEXTURE\nuniform sampler2D clearCoatSampler;\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && !defined(CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL)\nuniform sampler2D clearCoatRoughnessSampler;\n#endif\n#ifdef CLEARCOAT_BUMP\n#if CLEARCOAT_BUMPDIRECTUV == 1\n#define vClearCoatBumpUV vMainUV1\n#elif CLEARCOAT_BUMPDIRECTUV == 2\n#define vClearCoatBumpUV vMainUV2\n#else\nvarying vec2 vClearCoatBumpUV;\n#endif\nuniform sampler2D clearCoatBumpSampler;\n#endif\n#ifdef CLEARCOAT_TINT_TEXTURE\n#if CLEARCOAT_TINT_TEXTUREDIRECTUV == 1\n#define vClearCoatTintUV vMainUV1\n#elif CLEARCOAT_TINT_TEXTUREDIRECTUV == 2\n#define vClearCoatTintUV vMainUV2\n#else\nvarying vec2 vClearCoatTintUV;\n#endif\nuniform sampler2D clearCoatTintSampler;\n#endif\n#endif\n#ifdef SHEEN\n#ifdef SHEEN_TEXTURE\n#if SHEEN_TEXTUREDIRECTUV == 1\n#define vSheenUV vMainUV1\n#elif SHEEN_TEXTUREDIRECTUV == 2\n#define vSheenUV vMainUV2\n#else\nvarying vec2 vSheenUV;\n#endif\n#endif\n#ifdef SHEEN_TEXTURE_ROUGHNESS\n#if SHEEN_TEXTURE_ROUGHNESSDIRECTUV == 1\n#define vSheenRoughnessUV vMainUV1\n#elif SHEEN_TEXTURE_ROUGHNESSDIRECTUV == 2\n#define vSheenRoughnessUV vMainUV2\n#else\nvarying vec2 vSheenRoughnessUV;\n#endif\n#endif\n#ifdef SHEEN_TEXTURE\nuniform sampler2D sheenSampler;\n#endif\n#if defined(SHEEN_ROUGHNESS) && defined(SHEEN_TEXTURE_ROUGHNESS) && !defined(SHEEN_TEXTURE_ROUGHNESS_IDENTICAL)\nuniform sampler2D sheenRoughnessSampler;\n#endif\n#endif\n#ifdef ANISOTROPIC\n#ifdef ANISOTROPIC_TEXTURE\n#if ANISOTROPIC_TEXTUREDIRECTUV == 1\n#define vAnisotropyUV vMainUV1\n#elif ANISOTROPIC_TEXTUREDIRECTUV == 2\n#define vAnisotropyUV vMainUV2\n#else\nvarying vec2 vAnisotropyUV;\n#endif\nuniform sampler2D anisotropySampler;\n#endif\n#endif\n\n#ifdef REFLECTION\n#ifdef REFLECTIONMAP_3D\n#define sampleReflection(s,c) textureCube(s,c)\nuniform samplerCube reflectionSampler;\n#ifdef LODBASEDMICROSFURACE\n#define sampleReflectionLod(s,c,l) textureCubeLodEXT(s,c,l)\n#else\nuniform samplerCube reflectionSamplerLow;\nuniform samplerCube reflectionSamplerHigh;\n#endif\n#ifdef USEIRRADIANCEMAP\nuniform samplerCube irradianceSampler;\n#endif\n#else\n#define sampleReflection(s,c) texture2D(s,c)\nuniform sampler2D reflectionSampler;\n#ifdef LODBASEDMICROSFURACE\n#define sampleReflectionLod(s,c,l) texture2DLodEXT(s,c,l)\n#else\nuniform sampler2D reflectionSamplerLow;\nuniform sampler2D reflectionSamplerHigh;\n#endif\n#ifdef USEIRRADIANCEMAP\nuniform sampler2D irradianceSampler;\n#endif\n#endif\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#else\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#endif\n#endif\n#ifdef ENVIRONMENTBRDF\nuniform sampler2D environmentBrdfSampler;\n#endif\n\n#ifdef SUBSURFACE\n#ifdef SS_REFRACTION\n#ifdef SS_REFRACTIONMAP_3D\n#define sampleRefraction(s,c) textureCube(s,c)\nuniform samplerCube refractionSampler;\n#ifdef LODBASEDMICROSFURACE\n#define sampleRefractionLod(s,c,l) textureCubeLodEXT(s,c,l)\n#else\nuniform samplerCube refractionSamplerLow;\nuniform samplerCube refractionSamplerHigh;\n#endif\n#else\n#define sampleRefraction(s,c) texture2D(s,c)\nuniform sampler2D refractionSampler;\n#ifdef LODBASEDMICROSFURACE\n#define sampleRefractionLod(s,c,l) texture2DLodEXT(s,c,l)\n#else\nuniform sampler2D refractionSamplerLow;\nuniform sampler2D refractionSamplerHigh;\n#endif\n#endif\n#endif\n#ifdef SS_THICKNESSANDMASK_TEXTURE\n#if SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 1\n#define vThicknessUV vMainUV1\n#elif SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 2\n#define vThicknessUV vMainUV2\n#else\nvarying vec2 vThicknessUV;\n#endif\nuniform sampler2D thicknessSampler;\n#endif\n#endif";O.a.IncludesShadersStore[F]=N;i(958),i(808),i(819),i(962),i(719);var B="subSurfaceScatteringFunctions",k="bool testLightingForSSS(float diffusionProfile)\n{\nreturn diffusionProfile<1.;\n}";O.a.IncludesShadersStore[B]=k;var U="importanceSampling",H="\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvec3 hemisphereCosSample(vec2 u) {\n\nfloat phi=2.*PI*u.x;\nfloat cosTheta2=1.-u.y;\nfloat cosTheta=sqrt(cosTheta2);\nfloat sinTheta=sqrt(1.-cosTheta2);\nreturn vec3(sinTheta*cos(phi),sinTheta*sin(phi),cosTheta);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvec3 hemisphereImportanceSampleDggx(vec2 u,float a) {\n\nfloat phi=2.*PI*u.x;\n\nfloat cosTheta2=(1.-u.y)/(1.+(a+1.)*((a-1.)*u.y));\nfloat cosTheta=sqrt(cosTheta2);\nfloat sinTheta=sqrt(1.-cosTheta2);\nreturn vec3(sinTheta*cos(phi),sinTheta*sin(phi),cosTheta);\n}\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvec3 hemisphereImportanceSampleDCharlie(vec2 u,float a) {\n\nfloat phi=2.*PI*u.x;\nfloat sinTheta=pow(u.y,a/(2.*a+1.));\nfloat cosTheta=sqrt(1.-sinTheta*sinTheta);\nreturn vec3(sinTheta*cos(phi),sinTheta*sin(phi),cosTheta);\n}";O.a.IncludesShadersStore[U]=H;var j="pbrHelperFunctions",V="\n#define RECIPROCAL_PI2 0.15915494\n#define RECIPROCAL_PI 0.31830988618\n\n#define MINIMUMVARIANCE 0.0005\nfloat convertRoughnessToAverageSlope(float roughness)\n{\n\nreturn square(roughness)+MINIMUMVARIANCE;\n}\nfloat fresnelGrazingReflectance(float reflectance0) {\n\n\nfloat reflectance90=saturate(reflectance0*25.0);\nreturn reflectance90;\n}\nvec2 getAARoughnessFactors(vec3 normalVector) {\n#ifdef SPECULARAA\nvec3 nDfdx=dFdx(normalVector.xyz);\nvec3 nDfdy=dFdy(normalVector.xyz);\nfloat slopeSquare=max(dot(nDfdx,nDfdx),dot(nDfdy,nDfdy));\n\nfloat geometricRoughnessFactor=pow(saturate(slopeSquare),0.333);\n\nfloat geometricAlphaGFactor=sqrt(slopeSquare);\n\ngeometricAlphaGFactor*=0.75;\nreturn vec2(geometricRoughnessFactor,geometricAlphaGFactor);\n#else\nreturn vec2(0.);\n#endif\n}\n#ifdef ANISOTROPIC\n\n\nvec2 getAnisotropicRoughness(float alphaG,float anisotropy) {\nfloat alphaT=max(alphaG*(1.0+anisotropy),MINIMUMVARIANCE);\nfloat alphaB=max(alphaG*(1.0-anisotropy),MINIMUMVARIANCE);\nreturn vec2(alphaT,alphaB);\n}\n\n\nvec3 getAnisotropicBentNormals(const vec3 T,const vec3 B,const vec3 N,const vec3 V,float anisotropy) {\nvec3 anisotropicFrameDirection=anisotropy>=0.0 ? B : T;\nvec3 anisotropicFrameTangent=cross(normalize(anisotropicFrameDirection),V);\nvec3 anisotropicFrameNormal=cross(anisotropicFrameTangent,anisotropicFrameDirection);\nvec3 anisotropicNormal=normalize(mix(N,anisotropicFrameNormal,abs(anisotropy)));\nreturn anisotropicNormal;\n\n}\n#endif\n#if defined(CLEARCOAT) || defined(SS_REFRACTION)\n\n\n\nvec3 cocaLambert(vec3 alpha,float distance) {\nreturn exp(-alpha*distance);\n}\n\nvec3 cocaLambert(float NdotVRefract,float NdotLRefract,vec3 alpha,float thickness) {\nreturn cocaLambert(alpha,(thickness*((NdotLRefract+NdotVRefract)/(NdotLRefract*NdotVRefract))));\n}\n\nvec3 computeColorAtDistanceInMedia(vec3 color,float distance) {\nreturn -log(color)/distance;\n}\nvec3 computeClearCoatAbsorption(float NdotVRefract,float NdotLRefract,vec3 clearCoatColor,float clearCoatThickness,float clearCoatIntensity) {\nvec3 clearCoatAbsorption=mix(vec3(1.0),\ncocaLambert(NdotVRefract,NdotLRefract,clearCoatColor,clearCoatThickness),\nclearCoatIntensity);\nreturn clearCoatAbsorption;\n}\n#endif\n\n\n\n\n#ifdef MICROSURFACEAUTOMATIC\nfloat computeDefaultMicroSurface(float microSurface,vec3 reflectivityColor)\n{\nconst float kReflectivityNoAlphaWorkflow_SmoothnessMax=0.95;\nfloat reflectivityLuminance=getLuminance(reflectivityColor);\nfloat reflectivityLuma=sqrt(reflectivityLuminance);\nmicroSurface=reflectivityLuma*kReflectivityNoAlphaWorkflow_SmoothnessMax;\nreturn microSurface;\n}\n#endif";O.a.IncludesShadersStore[j]=V;i(959),i(956);var G="harmonicsFunctions",W="#ifdef USESPHERICALFROMREFLECTIONMAP\n#ifdef SPHERICAL_HARMONICS\nuniform vec3 vSphericalL00;\nuniform vec3 vSphericalL1_1;\nuniform vec3 vSphericalL10;\nuniform vec3 vSphericalL11;\nuniform vec3 vSphericalL2_2;\nuniform vec3 vSphericalL2_1;\nuniform vec3 vSphericalL20;\nuniform vec3 vSphericalL21;\nuniform vec3 vSphericalL22;\n\n\n\n\n\n\n\nvec3 computeEnvironmentIrradiance(vec3 normal) {\nreturn vSphericalL00\n+vSphericalL1_1*(normal.y)\n+vSphericalL10*(normal.z)\n+vSphericalL11*(normal.x)\n+vSphericalL2_2*(normal.y*normal.x)\n+vSphericalL2_1*(normal.y*normal.z)\n+vSphericalL20*((3.0*normal.z*normal.z)-1.0)\n+vSphericalL21*(normal.z*normal.x)\n+vSphericalL22*(normal.x*normal.x-(normal.y*normal.y));\n}\n#else\nuniform vec3 vSphericalX;\nuniform vec3 vSphericalY;\nuniform vec3 vSphericalZ;\nuniform vec3 vSphericalXX_ZZ;\nuniform vec3 vSphericalYY_ZZ;\nuniform vec3 vSphericalZZ;\nuniform vec3 vSphericalXY;\nuniform vec3 vSphericalYZ;\nuniform vec3 vSphericalZX;\n\nvec3 computeEnvironmentIrradiance(vec3 normal) {\n\n\n\n\n\n\n\n\n\nfloat Nx=normal.x;\nfloat Ny=normal.y;\nfloat Nz=normal.z;\nvec3 C1=vSphericalZZ.rgb;\nvec3 Cx=vSphericalX.rgb;\nvec3 Cy=vSphericalY.rgb;\nvec3 Cz=vSphericalZ.rgb;\nvec3 Cxx_zz=vSphericalXX_ZZ.rgb;\nvec3 Cyy_zz=vSphericalYY_ZZ.rgb;\nvec3 Cxy=vSphericalXY.rgb;\nvec3 Cyz=vSphericalYZ.rgb;\nvec3 Czx=vSphericalZX.rgb;\nvec3 a1=Cyy_zz*Ny+Cy;\nvec3 a2=Cyz*Nz+a1;\nvec3 b1=Czx*Nz+Cx;\nvec3 b2=Cxy*Ny+b1;\nvec3 b3=Cxx_zz*Nx+b2;\nvec3 t1=Cz*Nz+C1;\nvec3 t2=a2*Ny+t1;\nvec3 t3=b3*Nx+t2;\nreturn t3;\n}\n#endif\n#endif";O.a.IncludesShadersStore[G]=W;var X="pbrDirectLightingSetupFunctions",z="\nstruct preLightingInfo\n{\n\nvec3 lightOffset;\nfloat lightDistanceSquared;\nfloat lightDistance;\n\nfloat attenuation;\n\nvec3 L;\nvec3 H;\nfloat NdotV;\nfloat NdotLUnclamped;\nfloat NdotL;\nfloat VdotH;\nfloat roughness;\n};\npreLightingInfo computePointAndSpotPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\n\nresult.lightOffset=lightData.xyz-vPositionW;\nresult.lightDistanceSquared=dot(result.lightOffset,result.lightOffset);\n\nresult.lightDistance=sqrt(result.lightDistanceSquared);\n\nresult.L=normalize(result.lightOffset);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeDirectionalPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\n\nresult.lightDistance=length(-lightData.xyz);\n\nresult.L=normalize(-lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\nresult.NdotLUnclamped=dot(N,result.L);\nresult.NdotL=saturateEps(result.NdotLUnclamped);\nreturn result;\n}\npreLightingInfo computeHemisphericPreLightingInfo(vec4 lightData,vec3 V,vec3 N) {\npreLightingInfo result;\n\n\nresult.NdotL=dot(N,lightData.xyz)*0.5+0.5;\nresult.NdotL=saturateEps(result.NdotL);\nresult.NdotLUnclamped=result.NdotL;\n#ifdef SPECULARTERM\nresult.L=normalize(lightData.xyz);\nresult.H=normalize(V+result.L);\nresult.VdotH=saturate(dot(V,result.H));\n#endif\nreturn result;\n}";O.a.IncludesShadersStore[X]=z;var Y="pbrDirectLightingFalloffFunctions",Q="float computeDistanceLightFalloff_Standard(vec3 lightOffset,float range)\n{\nreturn max(0.,1.0-length(lightOffset)/range);\n}\nfloat computeDistanceLightFalloff_Physical(float lightDistanceSquared)\n{\nreturn 1.0/maxEps(lightDistanceSquared);\n}\nfloat computeDistanceLightFalloff_GLTF(float lightDistanceSquared,float inverseSquaredRange)\n{\nfloat lightDistanceFalloff=1.0/maxEps(lightDistanceSquared);\nfloat factor=lightDistanceSquared*inverseSquaredRange;\nfloat attenuation=saturate(1.0-factor*factor);\nattenuation*=attenuation;\n\nlightDistanceFalloff*=attenuation;\nreturn lightDistanceFalloff;\n}\nfloat computeDistanceLightFalloff(vec3 lightOffset,float lightDistanceSquared,float range,float inverseSquaredRange)\n{\n#ifdef USEPHYSICALLIGHTFALLOFF\nreturn computeDistanceLightFalloff_Physical(lightDistanceSquared);\n#elif defined(USEGLTFLIGHTFALLOFF)\nreturn computeDistanceLightFalloff_GLTF(lightDistanceSquared,inverseSquaredRange);\n#else\nreturn computeDistanceLightFalloff_Standard(lightOffset,range);\n#endif\n}\nfloat computeDirectionalLightFalloff_Standard(vec3 lightDirection,vec3 directionToLightCenterW,float cosHalfAngle,float exponent)\n{\nfloat falloff=0.0;\nfloat cosAngle=maxEps(dot(-lightDirection,directionToLightCenterW));\nif (cosAngle>=cosHalfAngle)\n{\nfalloff=max(0.,pow(cosAngle,exponent));\n}\nreturn falloff;\n}\nfloat computeDirectionalLightFalloff_Physical(vec3 lightDirection,vec3 directionToLightCenterW,float cosHalfAngle)\n{\nconst float kMinusLog2ConeAngleIntensityRatio=6.64385618977;\n\n\n\n\n\nfloat concentrationKappa=kMinusLog2ConeAngleIntensityRatio/(1.0-cosHalfAngle);\n\n\nvec4 lightDirectionSpreadSG=vec4(-lightDirection*concentrationKappa,-concentrationKappa);\nfloat falloff=exp2(dot(vec4(directionToLightCenterW,1.0),lightDirectionSpreadSG));\nreturn falloff;\n}\nfloat computeDirectionalLightFalloff_GLTF(vec3 lightDirection,vec3 directionToLightCenterW,float lightAngleScale,float lightAngleOffset)\n{\n\n\n\nfloat cd=dot(-lightDirection,directionToLightCenterW);\nfloat falloff=saturate(cd*lightAngleScale+lightAngleOffset);\n\nfalloff*=falloff;\nreturn falloff;\n}\nfloat computeDirectionalLightFalloff(vec3 lightDirection,vec3 directionToLightCenterW,float cosHalfAngle,float exponent,float lightAngleScale,float lightAngleOffset)\n{\n#ifdef USEPHYSICALLIGHTFALLOFF\nreturn computeDirectionalLightFalloff_Physical(lightDirection,directionToLightCenterW,cosHalfAngle);\n#elif defined(USEGLTFLIGHTFALLOFF)\nreturn computeDirectionalLightFalloff_GLTF(lightDirection,directionToLightCenterW,lightAngleScale,lightAngleOffset);\n#else\nreturn computeDirectionalLightFalloff_Standard(lightDirection,directionToLightCenterW,cosHalfAngle,exponent);\n#endif\n}";O.a.IncludesShadersStore[Y]=Q;var K="pbrBRDFFunctions",Z="\n#define FRESNEL_MAXIMUM_ON_ROUGH 0.25\n\n\n\n\n#ifdef MS_BRDF_ENERGY_CONSERVATION\n\n\nvec3 getEnergyConservationFactor(const vec3 specularEnvironmentR0,const vec3 environmentBrdf) {\nreturn 1.0+specularEnvironmentR0*(1.0/environmentBrdf.y-1.0);\n}\n#endif\n#ifdef ENVIRONMENTBRDF\nvec3 getBRDFLookup(float NdotV,float perceptualRoughness) {\n\nvec2 UV=vec2(NdotV,perceptualRoughness);\n\nvec4 brdfLookup=texture2D(environmentBrdfSampler,UV);\n#ifdef ENVIRONMENTBRDF_RGBD\nbrdfLookup.rgb=fromRGBD(brdfLookup.rgba);\n#endif\nreturn brdfLookup.rgb;\n}\nvec3 getReflectanceFromBRDFLookup(const vec3 specularEnvironmentR0,const vec3 specularEnvironmentR90,const vec3 environmentBrdf) {\n#ifdef BRDF_V_HEIGHT_CORRELATED\nvec3 reflectance=(specularEnvironmentR90-specularEnvironmentR0)*environmentBrdf.x+specularEnvironmentR0*environmentBrdf.y;\n\n#else\nvec3 reflectance=specularEnvironmentR0*environmentBrdf.x+specularEnvironmentR90*environmentBrdf.y;\n#endif\nreturn reflectance;\n}\nvec3 getReflectanceFromBRDFLookup(const vec3 specularEnvironmentR0,const vec3 environmentBrdf) {\n#ifdef BRDF_V_HEIGHT_CORRELATED\nvec3 reflectance=mix(environmentBrdf.xxx,environmentBrdf.yyy,specularEnvironmentR0);\n#else\nvec3 reflectance=specularEnvironmentR0*environmentBrdf.x+environmentBrdf.y;\n#endif\nreturn reflectance;\n}\n#endif\n\n#if !defined(ENVIRONMENTBRDF) || defined(REFLECTIONMAP_SKYBOX) || defined(ALPHAFRESNEL)\nvec3 getReflectanceFromAnalyticalBRDFLookup_Jones(float VdotN,vec3 reflectance0,vec3 reflectance90,float smoothness)\n{\n\nfloat weight=mix(FRESNEL_MAXIMUM_ON_ROUGH,1.0,smoothness);\nreturn reflectance0+weight*(reflectance90-reflectance0)*pow5(saturate(1.0-VdotN));\n}\n#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF)\n\nvec3 getSheenReflectanceFromBRDFLookup(const vec3 reflectance0,const vec3 environmentBrdf) {\nvec3 sheenEnvironmentReflectance=reflectance0*environmentBrdf.b;\nreturn sheenEnvironmentReflectance;\n}\n#endif\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nvec3 fresnelSchlickGGX(float VdotH,vec3 reflectance0,vec3 reflectance90)\n{\nreturn reflectance0+(reflectance90-reflectance0)*pow5(1.0-VdotH);\n}\nfloat fresnelSchlickGGX(float VdotH,float reflectance0,float reflectance90)\n{\nreturn reflectance0+(reflectance90-reflectance0)*pow5(1.0-VdotH);\n}\n#ifdef CLEARCOAT\n\n\n\n\n\nvec3 getR0RemappedForClearCoat(vec3 f0) {\n#ifdef CLEARCOAT_DEFAULTIOR\n#ifdef MOBILE\nreturn saturate(f0*(f0*0.526868+0.529324)-0.0482256);\n#else\nreturn saturate(f0*(f0*(0.941892-0.263008*f0)+0.346479)-0.0285998);\n#endif\n#else\nvec3 s=sqrt(f0);\nvec3 t=(vClearCoatRefractionParams.z+vClearCoatRefractionParams.w*s)/(vClearCoatRefractionParams.w+vClearCoatRefractionParams.z*s);\nreturn t*t;\n#endif\n}\n#endif\n\n\n\n\n\n\nfloat normalDistributionFunction_TrowbridgeReitzGGX(float NdotH,float alphaG)\n{\n\n\n\nfloat a2=square(alphaG);\nfloat d=NdotH*NdotH*(a2-1.0)+1.0;\nreturn a2/(PI*d*d);\n}\n#ifdef SHEEN\n\n\nfloat normalDistributionFunction_CharlieSheen(float NdotH,float alphaG)\n{\nfloat invR=1./alphaG;\nfloat cos2h=NdotH*NdotH;\nfloat sin2h=1.-cos2h;\nreturn (2.+invR)*pow(sin2h,invR*.5)/(2.*PI);\n}\n#endif\n#ifdef ANISOTROPIC\n\n\nfloat normalDistributionFunction_BurleyGGX_Anisotropic(float NdotH,float TdotH,float BdotH,const vec2 alphaTB) {\nfloat a2=alphaTB.x*alphaTB.y;\nvec3 v=vec3(alphaTB.y*TdotH,alphaTB.x*BdotH,a2*NdotH);\nfloat v2=dot(v,v);\nfloat w2=a2/v2;\nreturn a2*w2*w2*RECIPROCAL_PI;\n}\n#endif\n\n\n\n\n#ifdef BRDF_V_HEIGHT_CORRELATED\n\n\n\nfloat smithVisibility_GGXCorrelated(float NdotL,float NdotV,float alphaG) {\n#ifdef MOBILE\n\nfloat GGXV=NdotL*(NdotV*(1.0-alphaG)+alphaG);\nfloat GGXL=NdotV*(NdotL*(1.0-alphaG)+alphaG);\nreturn 0.5/(GGXV+GGXL);\n#else\nfloat a2=alphaG*alphaG;\nfloat GGXV=NdotL*sqrt(NdotV*(NdotV-a2*NdotV)+a2);\nfloat GGXL=NdotV*sqrt(NdotL*(NdotL-a2*NdotL)+a2);\nreturn 0.5/(GGXV+GGXL);\n#endif\n}\n#else\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\nfloat smithVisibilityG1_TrowbridgeReitzGGXFast(float dot,float alphaG)\n{\n#ifdef MOBILE\n\nreturn 1.0/(dot+alphaG+(1.0-alphaG)*dot ));\n#else\nfloat alphaSquared=alphaG*alphaG;\nreturn 1.0/(dot+sqrt(alphaSquared+(1.0-alphaSquared)*dot*dot));\n#endif\n}\nfloat smithVisibility_TrowbridgeReitzGGXFast(float NdotL,float NdotV,float alphaG)\n{\nfloat visibility=smithVisibilityG1_TrowbridgeReitzGGXFast(NdotL,alphaG)*smithVisibilityG1_TrowbridgeReitzGGXFast(NdotV,alphaG);\n\nreturn visibility;\n}\n#endif\n#ifdef ANISOTROPIC\n\n\nfloat smithVisibility_GGXCorrelated_Anisotropic(float NdotL,float NdotV,float TdotV,float BdotV,float TdotL,float BdotL,const vec2 alphaTB) {\nfloat lambdaV=NdotL*length(vec3(alphaTB.x*TdotV,alphaTB.y*BdotV,NdotV));\nfloat lambdaL=NdotV*length(vec3(alphaTB.x*TdotL,alphaTB.y*BdotL,NdotL));\nfloat v=0.5/(lambdaV+lambdaL);\nreturn v;\n}\n#endif\n#ifdef CLEARCOAT\nfloat visibility_Kelemen(float VdotH) {\n\n\n\nreturn 0.25/(VdotH*VdotH);\n}\n#endif\n#ifdef SHEEN\n\n\n\nfloat visibility_Ashikhmin(float NdotL,float NdotV)\n{\nreturn 1./(4.*(NdotL+NdotV-NdotL*NdotV));\n}\n\n#endif\n\n\n\n\n\n\n\nfloat diffuseBRDF_Burley(float NdotL,float NdotV,float VdotH,float roughness) {\n\n\nfloat diffuseFresnelNV=pow5(saturateEps(1.0-NdotL));\nfloat diffuseFresnelNL=pow5(saturateEps(1.0-NdotV));\nfloat diffuseFresnel90=0.5+2.0*VdotH*VdotH*roughness;\nfloat fresnel =\n(1.0+(diffuseFresnel90-1.0)*diffuseFresnelNL) *\n(1.0+(diffuseFresnel90-1.0)*diffuseFresnelNV);\nreturn fresnel/PI;\n}\n#ifdef SS_TRANSLUCENCY\n\n\nvec3 transmittanceBRDF_Burley(const vec3 tintColor,const vec3 diffusionDistance,float thickness) {\nvec3 S=1./maxEps(diffusionDistance);\nvec3 temp=exp((-0.333333333*thickness)*S);\nreturn tintColor.rgb*0.25*(temp*temp*temp+3.0*temp);\n}\n\n\nfloat computeWrappedDiffuseNdotL(float NdotL,float w) {\nfloat t=1.0+w;\nfloat invt2=1.0/square(t);\nreturn saturate((NdotL+w)*invt2);\n}\n#endif\n";O.a.IncludesShadersStore[K]=Z;var J="hdrFilteringFunctions",q="#ifdef NUM_SAMPLES\n#if NUM_SAMPLES>0\n#ifdef WEBGL2\n\n\nfloat radicalInverse_VdC(uint bits)\n{\nbits=(bits << 16u) | (bits >> 16u);\nbits=((bits & 0x55555555u) << 1u) | ((bits & 0xAAAAAAAAu) >> 1u);\nbits=((bits & 0x33333333u) << 2u) | ((bits & 0xCCCCCCCCu) >> 2u);\nbits=((bits & 0x0F0F0F0Fu) << 4u) | ((bits & 0xF0F0F0F0u) >> 4u);\nbits=((bits & 0x00FF00FFu) << 8u) | ((bits & 0xFF00FF00u) >> 8u);\nreturn float(bits)*2.3283064365386963e-10;\n}\nvec2 hammersley(uint i,uint N)\n{\nreturn vec2(float(i)/float(N),radicalInverse_VdC(i));\n}\n#else\nfloat vanDerCorpus(int n,int base)\n{\nfloat invBase=1.0/float(base);\nfloat denom=1.0;\nfloat result=0.0;\nfor(int i=0; i<32; ++i)\n{\nif(n>0)\n{\ndenom=mod(float(n),2.0);\nresult+=denom*invBase;\ninvBase=invBase/2.0;\nn=int(float(n)/2.0);\n}\n}\nreturn result;\n}\nvec2 hammersley(int i,int N)\n{\nreturn vec2(float(i)/float(N),vanDerCorpus(i,2));\n}\n#endif\nfloat log4(float x) {\nreturn log2(x)/2.;\n}\nconst float NUM_SAMPLES_FLOAT=float(NUM_SAMPLES);\nconst float NUM_SAMPLES_FLOAT_INVERSED=1./NUM_SAMPLES_FLOAT;\nconst float K=4.;\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n\n#define inline\nvec3 irradiance(samplerCube inputTexture,vec3 inputN,vec2 filteringInfo)\n{\nvec3 n=normalize(inputN);\nvec3 result=vec3(0.0);\nvec3 tangent=abs(n.z)<0.999 ? vec3(0.,0.,1.) : vec3(1.,0.,0.);\ntangent=normalize(cross(tangent,n));\nvec3 bitangent=cross(n,tangent);\nmat3 tbn=mat3(tangent,bitangent,n);\nfloat maxLevel=filteringInfo.y;\nfloat dim0=filteringInfo.x;\nfloat omegaP=(4.*PI)/(6.*dim0*dim0);\n#ifdef WEBGL2\nfor(uint i=0u; i<NUM_SAMPLES; ++i)\n#else\nfor(int i=0; i<NUM_SAMPLES; ++i)\n#endif\n{\nvec2 Xi=hammersley(i,NUM_SAMPLES);\nvec3 Ls=hemisphereCosSample(Xi);\nLs=normalize(Ls);\nvec3 Ns=vec3(0.,0.,1.);\nfloat NoL=dot(Ns,Ls);\nif (NoL>0.) {\nfloat pdf_inversed=PI/NoL;\nfloat omegaS=NUM_SAMPLES_FLOAT_INVERSED*pdf_inversed;\nfloat l=log4(omegaS)-log4(omegaP)+log4(K);\nfloat mipLevel=clamp(l,0.0,maxLevel);\nvec3 c=textureCubeLodEXT(inputTexture,tbn*Ls,mipLevel).rgb;\n#ifdef GAMMA_INPUT\nc=toLinearSpace(c);\n#endif\nresult+=c;\n}\n}\nresult=result*NUM_SAMPLES_FLOAT_INVERSED;\nreturn result;\n}\n#define inline\nvec3 radiance(float alphaG,samplerCube inputTexture,vec3 inputN,vec2 filteringInfo)\n{\nvec3 n=normalize(inputN);\nif (alphaG == 0.) {\nvec3 c=textureCube(inputTexture,n).rgb;\n#ifdef GAMMA_INPUT\nc=toLinearSpace(c);\n#endif\nreturn c;\n}\nvec3 result=vec3(0.);\nvec3 tangent=abs(n.z)<0.999 ? vec3(0.,0.,1.) : vec3(1.,0.,0.);\ntangent=normalize(cross(tangent,n));\nvec3 bitangent=cross(n,tangent);\nmat3 tbn=mat3(tangent,bitangent,n);\nfloat maxLevel=filteringInfo.y;\nfloat dim0=filteringInfo.x;\nfloat omegaP=(4.*PI)/(6.*dim0*dim0);\nfloat weight=0.;\n#ifdef WEBGL2\nfor(uint i=0u; i<NUM_SAMPLES; ++i)\n#else\nfor(int i=0; i<NUM_SAMPLES; ++i)\n#endif\n{\nvec2 Xi=hammersley(i,NUM_SAMPLES);\nvec3 H=hemisphereImportanceSampleDggx(Xi,alphaG);\nfloat NoV=1.;\nfloat NoH=H.z;\nfloat NoH2=H.z*H.z;\nfloat NoL=2.*NoH2-1.;\nvec3 L=vec3(2.*NoH*H.x,2.*NoH*H.y,NoL);\nL=normalize(L);\nif (NoL>0.) {\nfloat pdf_inversed=4./normalDistributionFunction_TrowbridgeReitzGGX(NoH,alphaG);\nfloat omegaS=NUM_SAMPLES_FLOAT_INVERSED*pdf_inversed;\nfloat l=log4(omegaS)-log4(omegaP)+log4(K);\nfloat mipLevel=clamp(float(l),0.0,maxLevel);\nweight+=NoL;\nvec3 c=textureCubeLodEXT(inputTexture,tbn*L,mipLevel).rgb;\n#ifdef GAMMA_INPUT\nc=toLinearSpace(c);\n#endif\nresult+=c*NoL;\n}\n}\nresult=result/weight;\nreturn result;\n}\n#endif\n#endif";O.a.IncludesShadersStore[J]=q;var $="pbrDirectLightingFunctions",ee="#define CLEARCOATREFLECTANCE90 1.0\n\nstruct lightingInfo\n{\nvec3 diffuse;\n#ifdef SPECULARTERM\nvec3 specular;\n#endif\n#ifdef CLEARCOAT\n\n\nvec4 clearCoat;\n#endif\n#ifdef SHEEN\nvec3 sheen;\n#endif\n};\n\nfloat adjustRoughnessFromLightProperties(float roughness,float lightRadius,float lightDistance) {\n#if defined(USEPHYSICALLIGHTFALLOFF) || defined(USEGLTFLIGHTFALLOFF)\n\nfloat lightRoughness=lightRadius/lightDistance;\n\nfloat totalRoughness=saturate(lightRoughness+roughness);\nreturn totalRoughness;\n#else\nreturn roughness;\n#endif\n}\nvec3 computeHemisphericDiffuseLighting(preLightingInfo info,vec3 lightColor,vec3 groundColor) {\nreturn mix(groundColor,lightColor,info.NdotL);\n}\nvec3 computeDiffuseLighting(preLightingInfo info,vec3 lightColor) {\nfloat diffuseTerm=diffuseBRDF_Burley(info.NdotL,info.NdotV,info.VdotH,info.roughness);\nreturn diffuseTerm*info.attenuation*info.NdotL*lightColor;\n}\n#define inline\nvec3 computeProjectionTextureDiffuseLighting(sampler2D projectionLightSampler,mat4 textureProjectionMatrix){\nvec4 strq=textureProjectionMatrix*vec4(vPositionW,1.0);\nstrq/=strq.w;\nvec3 textureColor=texture2D(projectionLightSampler,strq.xy).rgb;\nreturn toLinearSpace(textureColor);\n}\n#ifdef SS_TRANSLUCENCY\nvec3 computeDiffuseAndTransmittedLighting(preLightingInfo info,vec3 lightColor,vec3 transmittance) {\nfloat NdotL=absEps(info.NdotLUnclamped);\n\nfloat wrapNdotL=computeWrappedDiffuseNdotL(NdotL,0.02);\n\nfloat trAdapt=step(0.,info.NdotLUnclamped);\nvec3 transmittanceNdotL=mix(transmittance*wrapNdotL,vec3(wrapNdotL),trAdapt);\nfloat diffuseTerm=diffuseBRDF_Burley(NdotL,info.NdotV,info.VdotH,info.roughness);\nreturn diffuseTerm*transmittanceNdotL*info.attenuation*lightColor;\n}\n#endif\n#ifdef SPECULARTERM\nvec3 computeSpecularLighting(preLightingInfo info,vec3 N,vec3 reflectance0,vec3 reflectance90,float geometricRoughnessFactor,vec3 lightColor) {\nfloat NdotH=saturateEps(dot(N,info.H));\nfloat roughness=max(info.roughness,geometricRoughnessFactor);\nfloat alphaG=convertRoughnessToAverageSlope(roughness);\nvec3 fresnel=fresnelSchlickGGX(info.VdotH,reflectance0,reflectance90);\nfloat distribution=normalDistributionFunction_TrowbridgeReitzGGX(NdotH,alphaG);\n#ifdef BRDF_V_HEIGHT_CORRELATED\nfloat smithVisibility=smithVisibility_GGXCorrelated(info.NdotL,info.NdotV,alphaG);\n#else\nfloat smithVisibility=smithVisibility_TrowbridgeReitzGGXFast(info.NdotL,info.NdotV,alphaG);\n#endif\nvec3 specTerm=fresnel*distribution*smithVisibility;\nreturn specTerm*info.attenuation*info.NdotL*lightColor;\n}\n#endif\n#ifdef ANISOTROPIC\nvec3 computeAnisotropicSpecularLighting(preLightingInfo info,vec3 V,vec3 N,vec3 T,vec3 B,float anisotropy,vec3 reflectance0,vec3 reflectance90,float geometricRoughnessFactor,vec3 lightColor) {\nfloat NdotH=saturateEps(dot(N,info.H));\nfloat TdotH=dot(T,info.H);\nfloat BdotH=dot(B,info.H);\nfloat TdotV=dot(T,V);\nfloat BdotV=dot(B,V);\nfloat TdotL=dot(T,info.L);\nfloat BdotL=dot(B,info.L);\nfloat alphaG=convertRoughnessToAverageSlope(info.roughness);\nvec2 alphaTB=getAnisotropicRoughness(alphaG,anisotropy);\nalphaTB=max(alphaTB,square(geometricRoughnessFactor));\nvec3 fresnel=fresnelSchlickGGX(info.VdotH,reflectance0,reflectance90);\nfloat distribution=normalDistributionFunction_BurleyGGX_Anisotropic(NdotH,TdotH,BdotH,alphaTB);\nfloat smithVisibility=smithVisibility_GGXCorrelated_Anisotropic(info.NdotL,info.NdotV,TdotV,BdotV,TdotL,BdotL,alphaTB);\nvec3 specTerm=fresnel*distribution*smithVisibility;\nreturn specTerm*info.attenuation*info.NdotL*lightColor;\n}\n#endif\n#ifdef CLEARCOAT\nvec4 computeClearCoatLighting(preLightingInfo info,vec3 Ncc,float geometricRoughnessFactor,float clearCoatIntensity,vec3 lightColor) {\nfloat NccdotL=saturateEps(dot(Ncc,info.L));\nfloat NccdotH=saturateEps(dot(Ncc,info.H));\nfloat clearCoatRoughness=max(info.roughness,geometricRoughnessFactor);\nfloat alphaG=convertRoughnessToAverageSlope(clearCoatRoughness);\nfloat fresnel=fresnelSchlickGGX(info.VdotH,vClearCoatRefractionParams.x,CLEARCOATREFLECTANCE90);\nfresnel*=clearCoatIntensity;\nfloat distribution=normalDistributionFunction_TrowbridgeReitzGGX(NccdotH,alphaG);\nfloat kelemenVisibility=visibility_Kelemen(info.VdotH);\nfloat clearCoatTerm=fresnel*distribution*kelemenVisibility;\nreturn vec4(\nclearCoatTerm*info.attenuation*NccdotL*lightColor,\n1.0-fresnel\n);\n}\nvec3 computeClearCoatLightingAbsorption(float NdotVRefract,vec3 L,vec3 Ncc,vec3 clearCoatColor,float clearCoatThickness,float clearCoatIntensity) {\nvec3 LRefract=-refract(L,Ncc,vClearCoatRefractionParams.y);\nfloat NdotLRefract=saturateEps(dot(Ncc,LRefract));\nvec3 absorption=computeClearCoatAbsorption(NdotVRefract,NdotLRefract,clearCoatColor,clearCoatThickness,clearCoatIntensity);\nreturn absorption;\n}\n#endif\n#ifdef SHEEN\nvec3 computeSheenLighting(preLightingInfo info,vec3 N,vec3 reflectance0,vec3 reflectance90,float geometricRoughnessFactor,vec3 lightColor) {\nfloat NdotH=saturateEps(dot(N,info.H));\nfloat roughness=max(info.roughness,geometricRoughnessFactor);\nfloat alphaG=convertRoughnessToAverageSlope(roughness);\n\n\nfloat fresnel=1.;\nfloat distribution=normalDistributionFunction_CharlieSheen(NdotH,alphaG);\n\nfloat visibility=visibility_Ashikhmin(info.NdotL,info.NdotV);\n\nfloat sheenTerm=fresnel*distribution*visibility;\nreturn sheenTerm*info.attenuation*info.NdotL*lightColor;\n}\n#endif\n";O.a.IncludesShadersStore[$]=ee;var te="pbrIBLFunctions",ie="#if defined(REFLECTION) || defined(SS_REFRACTION)\nfloat getLodFromAlphaG(float cubeMapDimensionPixels,float microsurfaceAverageSlope) {\nfloat microsurfaceAverageSlopeTexels=cubeMapDimensionPixels*microsurfaceAverageSlope;\nfloat lod=log2(microsurfaceAverageSlopeTexels);\nreturn lod;\n}\nfloat getLinearLodFromRoughness(float cubeMapDimensionPixels,float roughness) {\nfloat lod=log2(cubeMapDimensionPixels)*roughness;\nreturn lod;\n}\n#endif\n#if defined(ENVIRONMENTBRDF) && defined(RADIANCEOCCLUSION)\nfloat environmentRadianceOcclusion(float ambientOcclusion,float NdotVUnclamped) {\n\n\nfloat temp=NdotVUnclamped+ambientOcclusion;\nreturn saturate(square(temp)-1.0+ambientOcclusion);\n}\n#endif\n#if defined(ENVIRONMENTBRDF) && defined(HORIZONOCCLUSION)\nfloat environmentHorizonOcclusion(vec3 view,vec3 normal,vec3 geometricNormal) {\n\nvec3 reflection=reflect(view,normal);\nfloat temp=saturate(1.0+1.1*dot(reflection,geometricNormal));\nreturn square(temp);\n}\n#endif\n\n\n\n\n#if defined(LODINREFLECTIONALPHA) || defined(SS_LODINREFRACTIONALPHA)\n\n\n#define UNPACK_LOD(x) (1.0-x)*255.0\nfloat getLodFromAlphaG(float cubeMapDimensionPixels,float alphaG,float NdotV) {\nfloat microsurfaceAverageSlope=alphaG;\n\n\n\n\n\n\nmicrosurfaceAverageSlope*=sqrt(abs(NdotV));\nreturn getLodFromAlphaG(cubeMapDimensionPixels,microsurfaceAverageSlope);\n}\n#endif";O.a.IncludesShadersStore[te]=ie;i(960),i(961),i(957);var ne="pbrBlockAlbedoOpacity",re="struct albedoOpacityOutParams\n{\nvec3 surfaceAlbedo;\nfloat alpha;\n};\n#define pbr_inline\nvoid albedoOpacityBlock(\nconst in vec4 vAlbedoColor,\n#ifdef ALBEDO\nconst in vec4 albedoTexture,\nconst in vec2 albedoInfos,\n#endif\n#ifdef OPACITY\nconst in vec4 opacityMap,\nconst in vec2 vOpacityInfos,\n#endif\n#ifdef DETAIL\nconst in vec4 detailColor,\nconst in vec4 vDetailInfos,\n#endif\nout albedoOpacityOutParams outParams\n)\n{\n\nvec3 surfaceAlbedo=vAlbedoColor.rgb;\nfloat alpha=vAlbedoColor.a;\n#ifdef ALBEDO\n#if defined(ALPHAFROMALBEDO) || defined(ALPHATEST)\nalpha*=albedoTexture.a;\n#endif\n#ifdef GAMMAALBEDO\nsurfaceAlbedo*=toLinearSpace(albedoTexture.rgb);\n#else\nsurfaceAlbedo*=albedoTexture.rgb;\n#endif\nsurfaceAlbedo*=albedoInfos.y;\n#endif\n#ifdef VERTEXCOLOR\nsurfaceAlbedo*=vColor.rgb;\n#endif\n#ifdef DETAIL\nfloat detailAlbedo=2.0*mix(0.5,detailColor.r,vDetailInfos.y);\nsurfaceAlbedo.rgb=surfaceAlbedo.rgb*detailAlbedo*detailAlbedo;\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_ALBEDO\n\n#ifdef OPACITY\n#ifdef OPACITYRGB\nalpha=getLuminance(opacityMap.rgb);\n#else\nalpha*=opacityMap.a;\n#endif\nalpha*=vOpacityInfos.y;\n#endif\n#ifdef VERTEXALPHA\nalpha*=vColor.a;\n#endif\n#if !defined(SS_LINKREFRACTIONTOTRANSPARENCY) && !defined(ALPHAFRESNEL)\n#ifdef ALPHATEST\nif (alpha<ALPHATESTVALUE)\ndiscard;\n#ifndef ALPHABLEND\n\nalpha=1.0;\n#endif\n#endif\n#endif\noutParams.surfaceAlbedo=surfaceAlbedo;\noutParams.alpha=alpha;\n}\n";O.a.IncludesShadersStore[ne]=re;var oe="pbrBlockReflectivity",se="struct reflectivityOutParams\n{\nfloat microSurface;\nfloat roughness;\nvec3 surfaceReflectivityColor;\n#ifdef METALLICWORKFLOW\nvec3 surfaceAlbedo;\n#endif\n#if defined(METALLICWORKFLOW) && defined(REFLECTIVITY) && defined(AOSTOREINMETALMAPRED)\nvec3 ambientOcclusionColor;\n#endif\n#if DEBUGMODE>0\nvec4 surfaceMetallicColorMap;\nvec4 surfaceReflectivityColorMap;\nvec2 metallicRoughness;\nvec3 metallicF0;\n#endif\n};\n#define pbr_inline\nvoid reflectivityBlock(\nconst in vec4 vReflectivityColor,\n#ifdef METALLICWORKFLOW\nconst in vec3 surfaceAlbedo,\nconst in vec4 metallicReflectanceFactors,\n#endif\n#ifdef REFLECTIVITY\nconst in vec3 reflectivityInfos,\nconst in vec4 surfaceMetallicOrReflectivityColorMap,\n#endif\n#if defined(METALLICWORKFLOW) && defined(REFLECTIVITY) && defined(AOSTOREINMETALMAPRED)\nconst in vec3 ambientOcclusionColorIn,\n#endif\n#ifdef MICROSURFACEMAP\nconst in vec4 microSurfaceTexel,\n#endif\n#ifdef DETAIL\nconst in vec4 detailColor,\nconst in vec4 vDetailInfos,\n#endif\nout reflectivityOutParams outParams\n)\n{\nfloat microSurface=vReflectivityColor.a;\nvec3 surfaceReflectivityColor=vReflectivityColor.rgb;\n#ifdef METALLICWORKFLOW\nvec2 metallicRoughness=surfaceReflectivityColor.rg;\n#ifdef REFLECTIVITY\n#if DEBUGMODE>0\noutParams.surfaceMetallicColorMap=surfaceMetallicOrReflectivityColorMap;\n#endif\n#ifdef AOSTOREINMETALMAPRED\nvec3 aoStoreInMetalMap=vec3(surfaceMetallicOrReflectivityColorMap.r,surfaceMetallicOrReflectivityColorMap.r,surfaceMetallicOrReflectivityColorMap.r);\noutParams.ambientOcclusionColor=mix(ambientOcclusionColorIn,aoStoreInMetalMap,reflectivityInfos.z);\n#endif\n#ifdef METALLNESSSTOREINMETALMAPBLUE\nmetallicRoughness.r*=surfaceMetallicOrReflectivityColorMap.b;\n#else\nmetallicRoughness.r*=surfaceMetallicOrReflectivityColorMap.r;\n#endif\n#ifdef ROUGHNESSSTOREINMETALMAPALPHA\nmetallicRoughness.g*=surfaceMetallicOrReflectivityColorMap.a;\n#else\n#ifdef ROUGHNESSSTOREINMETALMAPGREEN\nmetallicRoughness.g*=surfaceMetallicOrReflectivityColorMap.g;\n#endif\n#endif\n#endif\n#ifdef DETAIL\nfloat detailRoughness=mix(0.5,detailColor.b,vDetailInfos.w);\nfloat loLerp=mix(0.,metallicRoughness.g,detailRoughness*2.);\nfloat hiLerp=mix(metallicRoughness.g,1.,(detailRoughness-0.5)*2.);\nmetallicRoughness.g=mix(loLerp,hiLerp,step(detailRoughness,0.5));\n#endif\n#ifdef MICROSURFACEMAP\nmetallicRoughness.g*=microSurfaceTexel.r;\n#endif\n#if DEBUGMODE>0\noutParams.metallicRoughness=metallicRoughness;\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_METALLICROUGHNESS\n\nmicroSurface=1.0-metallicRoughness.g;\n\nvec3 baseColor=surfaceAlbedo;\n#ifdef FROSTBITE_REFLECTANCE\n\n\n\n\n\n\noutParams.surfaceAlbedo=baseColor.rgb*(1.0-metallicRoughness.r);\n\nsurfaceReflectivityColor=mix(0.16*reflectance*reflectance,baseColor,metallicRoughness.r);\n#else\nvec3 metallicF0=metallicReflectanceFactors.rgb;\n#if DEBUGMODE>0\noutParams.metallicF0=metallicF0;\n#endif\n\noutParams.surfaceAlbedo=mix(baseColor.rgb*(1.0-metallicF0),vec3(0.,0.,0.),metallicRoughness.r);\n\nsurfaceReflectivityColor=mix(metallicF0,baseColor,metallicRoughness.r);\n#endif\n#else\n#ifdef REFLECTIVITY\nsurfaceReflectivityColor*=surfaceMetallicOrReflectivityColorMap.rgb;\n#if DEBUGMODE>0\noutParams.surfaceReflectivityColorMap=surfaceMetallicOrReflectivityColorMap;\n#endif\n#ifdef MICROSURFACEFROMREFLECTIVITYMAP\nmicroSurface*=surfaceMetallicOrReflectivityColorMap.a;\nmicroSurface*=reflectivityInfos.z;\n#else\n#ifdef MICROSURFACEAUTOMATIC\nmicroSurface*=computeDefaultMicroSurface(microSurface,surfaceReflectivityColor);\n#endif\n#ifdef MICROSURFACEMAP\nmicroSurface*=microSurfaceTexel.r;\n#endif\n#define CUSTOM_FRAGMENT_UPDATE_MICROSURFACE\n#endif\n#endif\n#endif\n\nmicroSurface=saturate(microSurface);\n\nfloat roughness=1.-microSurface;\noutParams.microSurface=microSurface;\noutParams.roughness=roughness;\noutParams.surfaceReflectivityColor=surfaceReflectivityColor;\n}\n";O.a.IncludesShadersStore[oe]=se;var ae="pbrBlockAmbientOcclusion",ce="struct ambientOcclusionOutParams\n{\nvec3 ambientOcclusionColor;\n#if DEBUGMODE>0\nvec3 ambientOcclusionColorMap;\n#endif\n};\n#define pbr_inline\nvoid ambientOcclusionBlock(\n#ifdef AMBIENT\nconst in vec3 ambientOcclusionColorMap_,\nconst in vec4 vAmbientInfos,\n#endif\nout ambientOcclusionOutParams outParams\n)\n{\nvec3 ambientOcclusionColor=vec3(1.,1.,1.);\n#ifdef AMBIENT\nvec3 ambientOcclusionColorMap=ambientOcclusionColorMap_*vAmbientInfos.y;\n#ifdef AMBIENTINGRAYSCALE\nambientOcclusionColorMap=vec3(ambientOcclusionColorMap.r,ambientOcclusionColorMap.r,ambientOcclusionColorMap.r);\n#endif\nambientOcclusionColor=mix(ambientOcclusionColor,ambientOcclusionColorMap,vAmbientInfos.z);\n#if DEBUGMODE>0\noutParams.ambientOcclusionColorMap=ambientOcclusionColorMap;\n#endif\n#endif\noutParams.ambientOcclusionColor=ambientOcclusionColor;\n}\n";O.a.IncludesShadersStore[ae]=ce;var le="pbrBlockAlphaFresnel",_e="#ifdef ALPHAFRESNEL\n#if defined(ALPHATEST) || defined(ALPHABLEND)\nstruct alphaFresnelOutParams\n{\nfloat alpha;\n};\n#define pbr_inline\nvoid alphaFresnelBlock(\nconst in vec3 normalW,\nconst in vec3 viewDirectionW,\nconst in float alpha,\nconst in float microSurface,\nout alphaFresnelOutParams outParams\n)\n{\n\n\n\nfloat opacityPerceptual=alpha;\n#ifdef LINEARALPHAFRESNEL\nfloat opacity0=opacityPerceptual;\n#else\nfloat opacity0=opacityPerceptual*opacityPerceptual;\n#endif\nfloat opacity90=fresnelGrazingReflectance(opacity0);\nvec3 normalForward=faceforward(normalW,-viewDirectionW,normalW);\n\noutParams.alpha=getReflectanceFromAnalyticalBRDFLookup_Jones(saturate(dot(viewDirectionW,normalForward)),vec3(opacity0),vec3(opacity90),sqrt(microSurface)).x;\n#ifdef ALPHATEST\nif (outParams.alpha<ALPHATESTVALUE)\ndiscard;\n#ifndef ALPHABLEND\n\noutParams.alpha=1.0;\n#endif\n#endif\n}\n#endif\n#endif\n";O.a.IncludesShadersStore[le]=_e;var ue="pbrBlockAnisotropic",fe="#ifdef ANISOTROPIC\nstruct anisotropicOutParams\n{\nfloat anisotropy;\nvec3 anisotropicTangent;\nvec3 anisotropicBitangent;\nvec3 anisotropicNormal;\n#if DEBUGMODE>0\nvec3 anisotropyMapData;\n#endif\n};\n#define pbr_inline\nvoid anisotropicBlock(\nconst in vec3 vAnisotropy,\n#ifdef ANISOTROPIC_TEXTURE\nconst in vec3 anisotropyMapData,\n#endif\nconst in mat3 TBN,\nconst in vec3 normalW,\nconst in vec3 viewDirectionW,\nout anisotropicOutParams outParams\n)\n{\nfloat anisotropy=vAnisotropy.b;\nvec3 anisotropyDirection=vec3(vAnisotropy.xy,0.);\n#ifdef ANISOTROPIC_TEXTURE\nanisotropy*=anisotropyMapData.b;\nanisotropyDirection.rg*=anisotropyMapData.rg*2.0-1.0;\n#if DEBUGMODE>0\noutParams.anisotropyMapData=anisotropyMapData;\n#endif\n#endif\nmat3 anisoTBN=mat3(normalize(TBN[0]),normalize(TBN[1]),normalize(TBN[2]));\nvec3 anisotropicTangent=normalize(anisoTBN*anisotropyDirection);\nvec3 anisotropicBitangent=normalize(cross(anisoTBN[2],anisotropicTangent));\noutParams.anisotropy=anisotropy;\noutParams.anisotropicTangent=anisotropicTangent;\noutParams.anisotropicBitangent=anisotropicBitangent;\noutParams.anisotropicNormal=getAnisotropicBentNormals(anisotropicTangent,anisotropicBitangent,normalW,viewDirectionW,anisotropy);\n}\n#endif\n";O.a.IncludesShadersStore[ue]=fe;var de="pbrBlockReflection",he="#ifdef REFLECTION\nstruct reflectionOutParams\n{\nvec4 environmentRadiance;\nvec3 environmentIrradiance;\n#ifdef REFLECTIONMAP_3D\nvec3 reflectionCoords;\n#else\nvec2 reflectionCoords;\n#endif\n#ifdef SS_TRANSLUCENCY\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if !defined(NORMAL) || !defined(USESPHERICALINVERTEX)\nvec3 irradianceVector;\n#endif\n#endif\n#endif\n};\n#define pbr_inline\nvoid createReflectionCoords(\nconst in vec3 vPositionW,\nconst in vec3 normalW,\n#ifdef ANISOTROPIC\nconst in anisotropicOutParams anisotropicOut,\n#endif\n#ifdef REFLECTIONMAP_3D\nout vec3 reflectionCoords\n#else\nout vec2 reflectionCoords\n#endif\n)\n{\n#ifdef ANISOTROPIC\nvec3 reflectionVector=computeReflectionCoords(vec4(vPositionW,1.0),anisotropicOut.anisotropicNormal);\n#else\nvec3 reflectionVector=computeReflectionCoords(vec4(vPositionW,1.0),normalW);\n#endif\n#ifdef REFLECTIONMAP_OPPOSITEZ\nreflectionVector.z*=-1.0;\n#endif\n\n#ifdef REFLECTIONMAP_3D\nreflectionCoords=reflectionVector;\n#else\nreflectionCoords=reflectionVector.xy;\n#ifdef REFLECTIONMAP_PROJECTION\nreflectionCoords/=reflectionVector.z;\n#endif\nreflectionCoords.y=1.0-reflectionCoords.y;\n#endif\n}\n#define pbr_inline\n#define inline\nvoid sampleReflectionTexture(\nconst in float alphaG,\nconst in vec3 vReflectionMicrosurfaceInfos,\nconst in vec2 vReflectionInfos,\nconst in vec3 vReflectionColor,\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nconst in float NdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nconst in float roughness,\n#endif\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSampler,\nconst vec3 reflectionCoords,\n#else\nconst in sampler2D reflectionSampler,\nconst vec2 reflectionCoords,\n#endif\n#ifndef LODBASEDMICROSFURACE\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSamplerLow,\nconst in samplerCube reflectionSamplerHigh,\n#else\nconst in sampler2D reflectionSamplerLow,\nconst in sampler2D reflectionSamplerHigh,\n#endif\n#endif\n#ifdef REALTIME_FILTERING\nconst in vec2 vReflectionFilteringInfo,\n#endif\nout vec4 environmentRadiance\n)\n{\n\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nfloat reflectionLOD=getLodFromAlphaG(vReflectionMicrosurfaceInfos.x,alphaG,NdotVUnclamped);\n#elif defined(LINEARSPECULARREFLECTION)\nfloat reflectionLOD=getLinearLodFromRoughness(vReflectionMicrosurfaceInfos.x,roughness);\n#else\nfloat reflectionLOD=getLodFromAlphaG(vReflectionMicrosurfaceInfos.x,alphaG);\n#endif\n#ifdef LODBASEDMICROSFURACE\n\nreflectionLOD=reflectionLOD*vReflectionMicrosurfaceInfos.y+vReflectionMicrosurfaceInfos.z;\n#ifdef LODINREFLECTIONALPHA\n\n\n\n\n\n\n\n\n\nfloat automaticReflectionLOD=UNPACK_LOD(sampleReflection(reflectionSampler,reflectionCoords).a);\nfloat requestedReflectionLOD=max(automaticReflectionLOD,reflectionLOD);\n#else\nfloat requestedReflectionLOD=reflectionLOD;\n#endif\n#ifdef REALTIME_FILTERING\nenvironmentRadiance=vec4(radiance(alphaG,reflectionSampler,reflectionCoords,vReflectionFilteringInfo),1.0);\n#else\nenvironmentRadiance=sampleReflectionLod(reflectionSampler,reflectionCoords,reflectionLOD);\n#endif\n#else\nfloat lodReflectionNormalized=saturate(reflectionLOD/log2(vReflectionMicrosurfaceInfos.x));\nfloat lodReflectionNormalizedDoubled=lodReflectionNormalized*2.0;\nvec4 environmentMid=sampleReflection(reflectionSampler,reflectionCoords);\nif (lodReflectionNormalizedDoubled<1.0){\nenvironmentRadiance=mix(\nsampleReflection(reflectionSamplerHigh,reflectionCoords),\nenvironmentMid,\nlodReflectionNormalizedDoubled\n);\n} else {\nenvironmentRadiance=mix(\nenvironmentMid,\nsampleReflection(reflectionSamplerLow,reflectionCoords),\nlodReflectionNormalizedDoubled-1.0\n);\n}\n#endif\n#ifdef RGBDREFLECTION\nenvironmentRadiance.rgb=fromRGBD(environmentRadiance);\n#endif\n#ifdef GAMMAREFLECTION\nenvironmentRadiance.rgb=toLinearSpace(environmentRadiance.rgb);\n#endif\n\nenvironmentRadiance.rgb*=vReflectionInfos.x;\nenvironmentRadiance.rgb*=vReflectionColor.rgb;\n}\n#define pbr_inline\n#define inline\nvoid reflectionBlock(\nconst in vec3 vPositionW,\nconst in vec3 normalW,\nconst in float alphaG,\nconst in vec3 vReflectionMicrosurfaceInfos,\nconst in vec2 vReflectionInfos,\nconst in vec3 vReflectionColor,\n#ifdef ANISOTROPIC\nconst in anisotropicOutParams anisotropicOut,\n#endif\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nconst in float NdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nconst in float roughness,\n#endif\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSampler,\n#else\nconst in sampler2D reflectionSampler,\n#endif\n#if defined(NORMAL) && defined(USESPHERICALINVERTEX)\nconst in vec3 vEnvironmentIrradiance,\n#endif\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if !defined(NORMAL) || !defined(USESPHERICALINVERTEX)\nconst in mat4 reflectionMatrix,\n#endif\n#endif\n#ifdef USEIRRADIANCEMAP\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube irradianceSampler,\n#else\nconst in sampler2D irradianceSampler,\n#endif\n#endif\n#ifndef LODBASEDMICROSFURACE\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSamplerLow,\nconst in samplerCube reflectionSamplerHigh,\n#else\nconst in sampler2D reflectionSamplerLow,\nconst in sampler2D reflectionSamplerHigh,\n#endif\n#endif\n#ifdef REALTIME_FILTERING\nconst in vec2 vReflectionFilteringInfo,\n#endif\nout reflectionOutParams outParams\n)\n{\n\nvec4 environmentRadiance=vec4(0.,0.,0.,0.);\n#ifdef REFLECTIONMAP_3D\nvec3 reflectionCoords=vec3(0.);\n#else\nvec2 reflectionCoords=vec2(0.);\n#endif\ncreateReflectionCoords(\nvPositionW,\nnormalW,\n#ifdef ANISOTROPIC\nanisotropicOut,\n#endif\nreflectionCoords\n);\nsampleReflectionTexture(\nalphaG,\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nNdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nroughness,\n#endif\n#ifdef REFLECTIONMAP_3D\nreflectionSampler,\nreflectionCoords,\n#else\nreflectionSampler,\nreflectionCoords,\n#endif\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\nenvironmentRadiance\n);\n\nvec3 environmentIrradiance=vec3(0.,0.,0.);\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if defined(NORMAL) && defined(USESPHERICALINVERTEX)\nenvironmentIrradiance=vEnvironmentIrradiance;\n#else\n#ifdef ANISOTROPIC\nvec3 irradianceVector=vec3(reflectionMatrix*vec4(anisotropicOut.anisotropicNormal,0)).xyz;\n#else\nvec3 irradianceVector=vec3(reflectionMatrix*vec4(normalW,0)).xyz;\n#endif\n#ifdef REFLECTIONMAP_OPPOSITEZ\nirradianceVector.z*=-1.0;\n#endif\n#ifdef INVERTCUBICMAP\nirradianceVector.y*=-1.0;\n#endif\n#if defined(REALTIME_FILTERING)\nenvironmentIrradiance=irradiance(reflectionSampler,irradianceVector,vReflectionFilteringInfo);\n#else\nenvironmentIrradiance=computeEnvironmentIrradiance(irradianceVector);\n#endif\n#ifdef SS_TRANSLUCENCY\noutParams.irradianceVector=irradianceVector;\n#endif\n#endif\n#elif defined(USEIRRADIANCEMAP)\nvec4 environmentIrradiance4=sampleReflection(irradianceSampler,reflectionCoords);\nenvironmentIrradiance=environmentIrradiance4.rgb;\n#ifdef RGBDREFLECTION\nenvironmentIrradiance.rgb=fromRGBD(environmentIrradiance4);\n#endif\n#ifdef GAMMAREFLECTION\nenvironmentIrradiance.rgb=toLinearSpace(environmentIrradiance.rgb);\n#endif\n#endif\nenvironmentIrradiance*=vReflectionColor.rgb;\noutParams.environmentRadiance=environmentRadiance;\noutParams.environmentIrradiance=environmentIrradiance;\noutParams.reflectionCoords=reflectionCoords;\n}\n#endif\n";O.a.IncludesShadersStore[de]=he;var pe="pbrBlockSheen",be="#ifdef SHEEN\nstruct sheenOutParams\n{\nfloat sheenIntensity;\nvec3 sheenColor;\nfloat sheenRoughness;\n#ifdef SHEEN_LINKWITHALBEDO\nvec3 surfaceAlbedo;\n#endif\n#if defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfloat sheenAlbedoScaling;\n#endif\n#if defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nvec3 finalSheenRadianceScaled;\n#endif\n#if DEBUGMODE>0\nvec4 sheenMapData;\nvec3 sheenEnvironmentReflectance;\n#endif\n};\n#define pbr_inline\n#define inline\nvoid sheenBlock(\nconst in vec4 vSheenColor,\n#ifdef SHEEN_ROUGHNESS\nconst in float vSheenRoughness,\n#if defined(SHEEN_TEXTURE_ROUGHNESS) && !defined(SHEEN_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE)\nconst in vec4 sheenMapRoughnessData,\n#endif\n#endif\nconst in float roughness,\n#ifdef SHEEN_TEXTURE\nconst in vec4 sheenMapData,\n#endif\nconst in float reflectance,\n#ifdef SHEEN_LINKWITHALBEDO\nconst in vec3 baseColor,\nconst in vec3 surfaceAlbedo,\n#endif\n#ifdef ENVIRONMENTBRDF\nconst in float NdotV,\nconst in vec3 environmentBrdf,\n#endif\n#if defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nconst in vec2 AARoughnessFactors,\nconst in vec3 vReflectionMicrosurfaceInfos,\nconst in vec2 vReflectionInfos,\nconst in vec3 vReflectionColor,\nconst in vec4 vLightingIntensity,\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSampler,\nconst in vec3 reflectionCoords,\n#else\nconst in sampler2D reflectionSampler,\nconst in vec2 reflectionCoords,\n#endif\nconst in float NdotVUnclamped,\n#ifndef LODBASEDMICROSFURACE\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSamplerLow,\nconst in samplerCube reflectionSamplerHigh,\n#else\nconst in sampler2D reflectionSamplerLow,\nconst in sampler2D reflectionSamplerHigh,\n#endif\n#endif\n#ifdef REALTIME_FILTERING\nconst in vec2 vReflectionFilteringInfo,\n#endif\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(RADIANCEOCCLUSION)\nconst in float seo,\n#endif\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(HORIZONOCCLUSION) && defined(BUMP) && defined(REFLECTIONMAP_3D)\nconst in float eho,\n#endif\n#endif\nout sheenOutParams outParams\n)\n{\nfloat sheenIntensity=vSheenColor.a;\n#ifdef SHEEN_TEXTURE\n#if DEBUGMODE>0\noutParams.sheenMapData=sheenMapData;\n#endif\n#endif\n#ifdef SHEEN_LINKWITHALBEDO\nfloat sheenFactor=pow5(1.0-sheenIntensity);\nvec3 sheenColor=baseColor.rgb*(1.0-sheenFactor);\nfloat sheenRoughness=sheenIntensity;\noutParams.surfaceAlbedo=surfaceAlbedo*sheenFactor;\n#ifdef SHEEN_TEXTURE\nsheenIntensity*=sheenMapData.a;\n#endif\n#else\nvec3 sheenColor=vSheenColor.rgb;\n#ifdef SHEEN_TEXTURE\nsheenColor.rgb*=sheenMapData.rgb;\n#endif\n#ifdef SHEEN_ROUGHNESS\nfloat sheenRoughness=vSheenRoughness;\n#ifdef SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE\n#if defined(SHEEN_TEXTURE)\nsheenRoughness*=sheenMapData.a;\n#endif\n#elif defined(SHEEN_TEXTURE_ROUGHNESS)\n#ifdef SHEEN_TEXTURE_ROUGHNESS_IDENTICAL\nsheenRoughness*=sheenMapData.a;\n#else\nsheenRoughness*=sheenMapRoughnessData.a;\n#endif\n#endif\n#else\nfloat sheenRoughness=roughness;\n#ifdef SHEEN_TEXTURE\nsheenIntensity*=sheenMapData.a;\n#endif\n#endif\n\n#if !defined(SHEEN_ALBEDOSCALING)\nsheenIntensity*=(1.-reflectance);\n#endif\n\nsheenColor*=sheenIntensity;\n#endif\n\n#ifdef ENVIRONMENTBRDF\n\n#ifdef SHEEN_ROUGHNESS\nvec3 environmentSheenBrdf=getBRDFLookup(NdotV,sheenRoughness);\n#else\nvec3 environmentSheenBrdf=environmentBrdf;\n#endif\n\n#endif\n#if defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nfloat sheenAlphaG=convertRoughnessToAverageSlope(sheenRoughness);\n#ifdef SPECULARAA\n\nsheenAlphaG+=AARoughnessFactors.y;\n#endif\nvec4 environmentSheenRadiance=vec4(0.,0.,0.,0.);\nsampleReflectionTexture(\nsheenAlphaG,\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nNdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nsheenRoughness,\n#endif\nreflectionSampler,\nreflectionCoords,\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\nenvironmentSheenRadiance\n);\nvec3 sheenEnvironmentReflectance=getSheenReflectanceFromBRDFLookup(sheenColor,environmentSheenBrdf);\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(RADIANCEOCCLUSION)\nsheenEnvironmentReflectance*=seo;\n#endif\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(HORIZONOCCLUSION) && defined(BUMP) && defined(REFLECTIONMAP_3D)\nsheenEnvironmentReflectance*=eho;\n#endif\n#if DEBUGMODE>0\noutParams.sheenEnvironmentReflectance=sheenEnvironmentReflectance;\n#endif\noutParams.finalSheenRadianceScaled=\nenvironmentSheenRadiance.rgb *\nsheenEnvironmentReflectance *\nvLightingIntensity.z;\n\n\n\n\n\n#endif\n#if defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\n\n\n\noutParams.sheenAlbedoScaling=1.0-sheenIntensity*max(max(sheenColor.r,sheenColor.g),sheenColor.b)*environmentSheenBrdf.b;\n#endif\n\noutParams.sheenIntensity=sheenIntensity;\noutParams.sheenColor=sheenColor;\noutParams.sheenRoughness=sheenRoughness;\n}\n#endif\n";O.a.IncludesShadersStore[pe]=be;var me="pbrBlockClearcoat",Ae="struct clearcoatOutParams\n{\nvec3 specularEnvironmentR0;\nfloat conservationFactor;\nvec3 clearCoatNormalW;\nvec2 clearCoatAARoughnessFactors;\nfloat clearCoatIntensity;\nfloat clearCoatRoughness;\n#ifdef REFLECTION\nvec3 finalClearCoatRadianceScaled;\n#endif\n#ifdef CLEARCOAT_TINT\nvec3 absorption;\nfloat clearCoatNdotVRefract;\nvec3 clearCoatColor;\nfloat clearCoatThickness;\n#endif\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nvec3 energyConservationFactorClearCoat;\n#endif\n#if DEBUGMODE>0\nmat3 TBNClearCoat;\nvec2 clearCoatMapData;\nvec4 clearCoatTintMapData;\nvec4 environmentClearCoatRadiance;\nfloat clearCoatNdotV;\nvec3 clearCoatEnvironmentReflectance;\n#endif\n};\n#ifdef CLEARCOAT\n#define pbr_inline\n#define inline\nvoid clearcoatBlock(\nconst in vec3 vPositionW,\nconst in vec3 geometricNormalW,\nconst in vec3 viewDirectionW,\nconst in vec2 vClearCoatParams,\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && !defined(CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE)\nconst in vec4 clearCoatMapRoughnessData,\n#endif\nconst in vec3 specularEnvironmentR0,\n#ifdef CLEARCOAT_TEXTURE\nconst in vec2 clearCoatMapData,\n#endif\n#ifdef CLEARCOAT_TINT\nconst in vec4 vClearCoatTintParams,\nconst in float clearCoatColorAtDistance,\nconst in vec4 vClearCoatRefractionParams,\n#ifdef CLEARCOAT_TINT_TEXTURE\nconst in vec4 clearCoatTintMapData,\n#endif\n#endif\n#ifdef CLEARCOAT_BUMP\nconst in vec2 vClearCoatBumpInfos,\nconst in vec4 clearCoatBumpMapData,\nconst in vec2 vClearCoatBumpUV,\n#if defined(TANGENT) && defined(NORMAL)\nconst in mat3 vTBN,\n#else\nconst in vec2 vClearCoatTangentSpaceParams,\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\nconst in mat4 normalMatrix,\n#endif\n#endif\n#if defined(FORCENORMALFORWARD) && defined(NORMAL)\nconst in vec3 faceNormal,\n#endif\n#ifdef REFLECTION\nconst in vec3 vReflectionMicrosurfaceInfos,\nconst in vec2 vReflectionInfos,\nconst in vec3 vReflectionColor,\nconst in vec4 vLightingIntensity,\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSampler,\n#else\nconst in sampler2D reflectionSampler,\n#endif\n#ifndef LODBASEDMICROSFURACE\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube reflectionSamplerLow,\nconst in samplerCube reflectionSamplerHigh,\n#else\nconst in sampler2D reflectionSamplerLow,\nconst in sampler2D reflectionSamplerHigh,\n#endif\n#endif\n#ifdef REALTIME_FILTERING\nconst in vec2 vReflectionFilteringInfo,\n#endif\n#endif\n#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\n#ifdef RADIANCEOCCLUSION\nconst in float ambientMonochrome,\n#endif\n#endif\nout clearcoatOutParams outParams\n)\n{\n\nfloat clearCoatIntensity=vClearCoatParams.x;\nfloat clearCoatRoughness=vClearCoatParams.y;\n#ifdef CLEARCOAT_TEXTURE\nclearCoatIntensity*=clearCoatMapData.x;\n#ifdef CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE\nclearCoatRoughness*=clearCoatMapData.y;\n#endif\n#if DEBUGMODE>0\noutParams.clearCoatMapData=clearCoatMapData;\n#endif\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && !defined(CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE)\n#ifdef CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL\nclearCoatRoughness*=clearCoatMapData.y;\n#else\nclearCoatRoughness*=clearCoatMapRoughnessData.y;\n#endif\n#endif\noutParams.clearCoatIntensity=clearCoatIntensity;\noutParams.clearCoatRoughness=clearCoatRoughness;\n#ifdef CLEARCOAT_TINT\nvec3 clearCoatColor=vClearCoatTintParams.rgb;\nfloat clearCoatThickness=vClearCoatTintParams.a;\n#ifdef CLEARCOAT_TINT_TEXTURE\nclearCoatColor*=clearCoatTintMapData.rgb;\nclearCoatThickness*=clearCoatTintMapData.a;\n#if DEBUGMODE>0\noutParams.clearCoatTintMapData=clearCoatTintMapData;\n#endif\n#endif\noutParams.clearCoatColor=computeColorAtDistanceInMedia(clearCoatColor,clearCoatColorAtDistance);\noutParams.clearCoatThickness=clearCoatThickness;\n#endif\n\n\n\n\n#ifdef CLEARCOAT_REMAP_F0\nvec3 specularEnvironmentR0Updated=getR0RemappedForClearCoat(specularEnvironmentR0);\n#else\nvec3 specularEnvironmentR0Updated=specularEnvironmentR0;\n#endif\noutParams.specularEnvironmentR0=mix(specularEnvironmentR0,specularEnvironmentR0Updated,clearCoatIntensity);\n\nvec3 clearCoatNormalW=geometricNormalW;\n#ifdef CLEARCOAT_BUMP\n#ifdef NORMALXYSCALE\nfloat clearCoatNormalScale=1.0;\n#else\nfloat clearCoatNormalScale=vClearCoatBumpInfos.y;\n#endif\n#if defined(TANGENT) && defined(NORMAL)\nmat3 TBNClearCoat=vTBN;\n#else\nmat3 TBNClearCoat=cotangent_frame(clearCoatNormalW*clearCoatNormalScale,vPositionW,vClearCoatBumpUV,vClearCoatTangentSpaceParams);\n#endif\n#if DEBUGMODE>0\noutParams.TBNClearCoat=TBNClearCoat;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\nclearCoatNormalW=normalize(clearCoatBumpMapData.xyz*2.0-1.0);\nclearCoatNormalW=normalize(mat3(normalMatrix)*clearCoatNormalW);\n#else\nclearCoatNormalW=perturbNormal(TBNClearCoat,clearCoatBumpMapData.xyz,vClearCoatBumpInfos.y);\n#endif\n#endif\n#if defined(FORCENORMALFORWARD) && defined(NORMAL)\nclearCoatNormalW*=sign(dot(clearCoatNormalW,faceNormal));\n#endif\n#if defined(TWOSIDEDLIGHTING) && defined(NORMAL)\nclearCoatNormalW=gl_FrontFacing ? clearCoatNormalW : -clearCoatNormalW;\n#endif\noutParams.clearCoatNormalW=clearCoatNormalW;\n\noutParams.clearCoatAARoughnessFactors=getAARoughnessFactors(clearCoatNormalW.xyz);\n\nfloat clearCoatNdotVUnclamped=dot(clearCoatNormalW,viewDirectionW);\n\nfloat clearCoatNdotV=absEps(clearCoatNdotVUnclamped);\n#if DEBUGMODE>0\noutParams.clearCoatNdotV=clearCoatNdotV;\n#endif\n#ifdef CLEARCOAT_TINT\n\nvec3 clearCoatVRefract=-refract(vPositionW,clearCoatNormalW,vClearCoatRefractionParams.y);\n\noutParams.clearCoatNdotVRefract=absEps(dot(clearCoatNormalW,clearCoatVRefract));\n#endif\n#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\n\nvec3 environmentClearCoatBrdf=getBRDFLookup(clearCoatNdotV,clearCoatRoughness);\n#endif\n\n#if defined(REFLECTION)\nfloat clearCoatAlphaG=convertRoughnessToAverageSlope(clearCoatRoughness);\n#ifdef SPECULARAA\n\nclearCoatAlphaG+=outParams.clearCoatAARoughnessFactors.y;\n#endif\nvec4 environmentClearCoatRadiance=vec4(0.,0.,0.,0.);\nvec3 clearCoatReflectionVector=computeReflectionCoords(vec4(vPositionW,1.0),clearCoatNormalW);\n#ifdef REFLECTIONMAP_OPPOSITEZ\nclearCoatReflectionVector.z*=-1.0;\n#endif\n\n#ifdef REFLECTIONMAP_3D\nvec3 clearCoatReflectionCoords=clearCoatReflectionVector;\n#else\nvec2 clearCoatReflectionCoords=clearCoatReflectionVector.xy;\n#ifdef REFLECTIONMAP_PROJECTION\nclearCoatReflectionCoords/=clearCoatReflectionVector.z;\n#endif\nclearCoatReflectionCoords.y=1.0-clearCoatReflectionCoords.y;\n#endif\nsampleReflectionTexture(\nclearCoatAlphaG,\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nclearCoatNdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nclearCoatRoughness,\n#endif\nreflectionSampler,\nclearCoatReflectionCoords,\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\nenvironmentClearCoatRadiance\n);\n#if DEBUGMODE>0\noutParams.environmentClearCoatRadiance=environmentClearCoatRadiance;\n#endif\n\n#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\nvec3 clearCoatEnvironmentReflectance=getReflectanceFromBRDFLookup(vec3(vClearCoatRefractionParams.x),environmentClearCoatBrdf);\n#ifdef RADIANCEOCCLUSION\nfloat clearCoatSeo=environmentRadianceOcclusion(ambientMonochrome,clearCoatNdotVUnclamped);\nclearCoatEnvironmentReflectance*=clearCoatSeo;\n#endif\n#ifdef HORIZONOCCLUSION\n#ifdef BUMP\n#ifdef REFLECTIONMAP_3D\nfloat clearCoatEho=environmentHorizonOcclusion(-viewDirectionW,clearCoatNormalW,geometricNormalW);\nclearCoatEnvironmentReflectance*=clearCoatEho;\n#endif\n#endif\n#endif\n#else\n\nvec3 clearCoatEnvironmentReflectance=getReflectanceFromAnalyticalBRDFLookup_Jones(clearCoatNdotV,vec3(1.),vec3(1.),sqrt(1.-clearCoatRoughness));\n#endif\nclearCoatEnvironmentReflectance*=clearCoatIntensity;\n#if DEBUGMODE>0\noutParams.clearCoatEnvironmentReflectance=clearCoatEnvironmentReflectance;\n#endif\noutParams.finalClearCoatRadianceScaled=\nenvironmentClearCoatRadiance.rgb *\nclearCoatEnvironmentReflectance *\nvLightingIntensity.z;\n#endif\n#if defined(CLEARCOAT_TINT)\n\noutParams.absorption=computeClearCoatAbsorption(outParams.clearCoatNdotVRefract,outParams.clearCoatNdotVRefract,outParams.clearCoatColor,clearCoatThickness,clearCoatIntensity);\n#endif\n\nfloat fresnelIBLClearCoat=fresnelSchlickGGX(clearCoatNdotV,vClearCoatRefractionParams.x,CLEARCOATREFLECTANCE90);\nfresnelIBLClearCoat*=clearCoatIntensity;\noutParams.conservationFactor=(1.-fresnelIBLClearCoat);\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\noutParams.energyConservationFactorClearCoat=getEnergyConservationFactor(outParams.specularEnvironmentR0,environmentClearCoatBrdf);\n#endif\n}\n#endif\n";O.a.IncludesShadersStore[me]=Ae;var ge="pbrBlockSubSurface",ye="struct subSurfaceOutParams\n{\nvec3 specularEnvironmentReflectance;\n#ifdef SS_REFRACTION\nvec3 finalRefraction;\nvec3 surfaceAlbedo;\n#ifdef SS_LINKREFRACTIONTOTRANSPARENCY\nfloat alpha;\n#endif\n#ifdef REFLECTION\nfloat refractionFactorForIrradiance;\n#endif\n#endif\n#ifdef SS_TRANSLUCENCY\nvec3 transmittance;\nfloat translucencyIntensity;\n#ifdef REFLECTION\nvec3 refractionIrradiance;\n#endif\n#endif\n#if DEBUGMODE>0\nvec4 thicknessMap;\nvec4 environmentRefraction;\nvec3 refractionTransmittance;\n#endif\n};\n#ifdef SUBSURFACE\n#define pbr_inline\n#define inline\nvoid subSurfaceBlock(\nconst in vec3 vSubSurfaceIntensity,\nconst in vec2 vThicknessParam,\nconst in vec4 vTintColor,\nconst in vec3 normalW,\nconst in vec3 specularEnvironmentReflectance,\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nconst in vec4 thicknessMap,\n#endif\n#ifdef REFLECTION\n#ifdef SS_TRANSLUCENCY\nconst in mat4 reflectionMatrix,\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if !defined(NORMAL) || !defined(USESPHERICALINVERTEX)\nconst in vec3 irradianceVector_,\n#endif\n#if defined(REALTIME_FILTERING)\nconst in samplerCube reflectionSampler,\nconst in vec2 vReflectionFilteringInfo,\n#endif\n#endif\n#ifdef USEIRRADIANCEMAP\n#ifdef REFLECTIONMAP_3D\nconst in samplerCube irradianceSampler,\n#else\nconst in sampler2D irradianceSampler,\n#endif\n#endif\n#endif\n#endif\n#ifdef SS_REFRACTION\nconst in vec3 vPositionW,\nconst in vec3 viewDirectionW,\nconst in mat4 view,\nconst in vec3 surfaceAlbedo,\nconst in vec4 vRefractionInfos,\nconst in mat4 refractionMatrix,\nconst in vec3 vRefractionMicrosurfaceInfos,\nconst in vec4 vLightingIntensity,\n#ifdef SS_LINKREFRACTIONTOTRANSPARENCY\nconst in float alpha,\n#endif\n#ifdef SS_LODINREFRACTIONALPHA\nconst in float NdotVUnclamped,\n#endif\n#ifdef SS_LINEARSPECULARREFRACTION\nconst in float roughness,\n#else\nconst in float alphaG,\n#endif\n#ifdef SS_REFRACTIONMAP_3D\nconst in samplerCube refractionSampler,\n#ifndef LODBASEDMICROSFURACE\nconst in samplerCube refractionSamplerLow,\nconst in samplerCube refractionSamplerHigh,\n#endif\n#else\nconst in sampler2D refractionSampler,\n#ifndef LODBASEDMICROSFURACE\nconst in sampler2D refractionSamplerLow,\nconst in sampler2D refractionSamplerHigh,\n#endif\n#endif\n#ifdef ANISOTROPIC\nconst in anisotropicOutParams anisotropicOut,\n#endif\n#ifdef REALTIME_FILTERING\nconst in vec2 vRefractionFilteringInfo,\n#endif\n#endif\n#ifdef SS_TRANSLUCENCY\nconst in vec3 vDiffusionDistance,\n#endif\nout subSurfaceOutParams outParams\n)\n{\noutParams.specularEnvironmentReflectance=specularEnvironmentReflectance;\n\n\n\n#ifdef SS_REFRACTION\nfloat refractionIntensity=vSubSurfaceIntensity.x;\n#ifdef SS_LINKREFRACTIONTOTRANSPARENCY\nrefractionIntensity*=(1.0-alpha);\n\noutParams.alpha=1.0;\n#endif\n#endif\n#ifdef SS_TRANSLUCENCY\nfloat translucencyIntensity=vSubSurfaceIntensity.y;\n#endif\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nfloat thickness=thicknessMap.r*vThicknessParam.y+vThicknessParam.x;\n#if DEBUGMODE>0\noutParams.thicknessMap=thicknessMap;\n#endif\n#ifdef SS_MASK_FROM_THICKNESS_TEXTURE\n#ifdef SS_REFRACTION\nrefractionIntensity*=thicknessMap.g;\n#endif\n#ifdef SS_TRANSLUCENCY\ntranslucencyIntensity*=thicknessMap.b;\n#endif\n#elif defined(SS_MASK_FROM_THICKNESS_TEXTURE_GLTF)\n#ifdef SS_REFRACTION\nrefractionIntensity*=thicknessMap.r;\n#elif defined(SS_TRANSLUCENCY)\ntranslucencyIntensity*=thicknessMap.r;\n#endif\nthickness=thicknessMap.g*vThicknessParam.y+vThicknessParam.x;\n#endif\n#else\nfloat thickness=vThicknessParam.y;\n#endif\n\n\n\n#ifdef SS_TRANSLUCENCY\nthickness=maxEps(thickness);\nvec3 transmittance=transmittanceBRDF_Burley(vTintColor.rgb,vDiffusionDistance,thickness);\ntransmittance*=translucencyIntensity;\noutParams.transmittance=transmittance;\noutParams.translucencyIntensity=translucencyIntensity;\n#endif\n\n\n\n#ifdef SS_REFRACTION\nvec4 environmentRefraction=vec4(0.,0.,0.,0.);\n#ifdef ANISOTROPIC\nvec3 refractionVector=refract(-viewDirectionW,anisotropicOut.anisotropicNormal,vRefractionInfos.y);\n#else\nvec3 refractionVector=refract(-viewDirectionW,normalW,vRefractionInfos.y);\n#endif\n#ifdef SS_REFRACTIONMAP_OPPOSITEZ\nrefractionVector.z*=-1.0;\n#endif\n\n#ifdef SS_REFRACTIONMAP_3D\nrefractionVector.y=refractionVector.y*vRefractionInfos.w;\nvec3 refractionCoords=refractionVector;\nrefractionCoords=vec3(refractionMatrix*vec4(refractionCoords,0));\n#else\nvec3 vRefractionUVW=vec3(refractionMatrix*(view*vec4(vPositionW+refractionVector*vRefractionInfos.z,1.0)));\nvec2 refractionCoords=vRefractionUVW.xy/vRefractionUVW.z;\nrefractionCoords.y=1.0-refractionCoords.y;\n#endif\n#ifdef SS_LODINREFRACTIONALPHA\nfloat refractionLOD=getLodFromAlphaG(vRefractionMicrosurfaceInfos.x,alphaG,NdotVUnclamped);\n#elif defined(SS_LINEARSPECULARREFRACTION)\nfloat refractionLOD=getLinearLodFromRoughness(vRefractionMicrosurfaceInfos.x,roughness);\n#else\nfloat refractionLOD=getLodFromAlphaG(vRefractionMicrosurfaceInfos.x,alphaG);\n#endif\n#ifdef LODBASEDMICROSFURACE\n\nrefractionLOD=refractionLOD*vRefractionMicrosurfaceInfos.y+vRefractionMicrosurfaceInfos.z;\n#ifdef SS_LODINREFRACTIONALPHA\n\n\n\n\n\n\n\n\n\nfloat automaticRefractionLOD=UNPACK_LOD(sampleRefraction(refractionSampler,refractionCoords).a);\nfloat requestedRefractionLOD=max(automaticRefractionLOD,refractionLOD);\n#else\nfloat requestedRefractionLOD=refractionLOD;\n#endif\n#ifdef REALTIME_FILTERING\nenvironmentRefraction=vec4(radiance(alphaG,refractionSampler,refractionCoords,vRefractionFilteringInfo),1.0);\n#else\nenvironmentRefraction=sampleRefractionLod(refractionSampler,refractionCoords,requestedRefractionLOD);\n#endif\n#else\nfloat lodRefractionNormalized=saturate(refractionLOD/log2(vRefractionMicrosurfaceInfos.x));\nfloat lodRefractionNormalizedDoubled=lodRefractionNormalized*2.0;\nvec4 environmentRefractionMid=sampleRefraction(refractionSampler,refractionCoords);\nif (lodRefractionNormalizedDoubled<1.0){\nenvironmentRefraction=mix(\nsampleRefraction(refractionSamplerHigh,refractionCoords),\nenvironmentRefractionMid,\nlodRefractionNormalizedDoubled\n);\n} else {\nenvironmentRefraction=mix(\nenvironmentRefractionMid,\nsampleRefraction(refractionSamplerLow,refractionCoords),\nlodRefractionNormalizedDoubled-1.0\n);\n}\n#endif\n#ifdef SS_RGBDREFRACTION\nenvironmentRefraction.rgb=fromRGBD(environmentRefraction);\n#endif\n#ifdef SS_GAMMAREFRACTION\nenvironmentRefraction.rgb=toLinearSpace(environmentRefraction.rgb);\n#endif\n\nenvironmentRefraction.rgb*=vRefractionInfos.x;\n#endif\n\n\n\n#ifdef SS_REFRACTION\nvec3 refractionTransmittance=vec3(refractionIntensity);\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nvec3 volumeAlbedo=computeColorAtDistanceInMedia(vTintColor.rgb,vTintColor.w);\n\n\n\n\n\nrefractionTransmittance*=cocaLambert(volumeAlbedo,thickness);\n#elif defined(SS_LINKREFRACTIONTOTRANSPARENCY)\n\nfloat maxChannel=max(max(surfaceAlbedo.r,surfaceAlbedo.g),surfaceAlbedo.b);\nvec3 volumeAlbedo=saturate(maxChannel*surfaceAlbedo);\n\nenvironmentRefraction.rgb*=volumeAlbedo;\n#else\n\nvec3 volumeAlbedo=computeColorAtDistanceInMedia(vTintColor.rgb,vTintColor.w);\nrefractionTransmittance*=cocaLambert(volumeAlbedo,vThicknessParam.y);\n#endif\n#ifdef SS_ALBEDOFORREFRACTIONTINT\n\nenvironmentRefraction.rgb*=surfaceAlbedo.rgb;\n#endif\n\noutParams.surfaceAlbedo=surfaceAlbedo*(1.-refractionIntensity);\n#ifdef REFLECTION\n\noutParams.refractionFactorForIrradiance=(1.-refractionIntensity);\n\n#endif\n\nvec3 bounceSpecularEnvironmentReflectance=(2.0*specularEnvironmentReflectance)/(1.0+specularEnvironmentReflectance);\noutParams.specularEnvironmentReflectance=mix(bounceSpecularEnvironmentReflectance,specularEnvironmentReflectance,refractionIntensity);\n\nrefractionTransmittance*=1.0-outParams.specularEnvironmentReflectance;\n#if DEBUGMODE>0\noutParams.refractionTransmittance=refractionTransmittance;\n#endif\noutParams.finalRefraction=environmentRefraction.rgb*refractionTransmittance*vLightingIntensity.z;\n#if DEBUGMODE>0\noutParams.environmentRefraction=environmentRefraction;\n#endif\n#endif\n\n\n\n#if defined(REFLECTION) && defined(SS_TRANSLUCENCY)\n#if defined(NORMAL) && defined(USESPHERICALINVERTEX) || !defined(USESPHERICALFROMREFLECTIONMAP)\nvec3 irradianceVector=vec3(reflectionMatrix*vec4(normalW,0)).xyz;\n#ifdef REFLECTIONMAP_OPPOSITEZ\nirradianceVector.z*=-1.0;\n#endif\n#ifdef INVERTCUBICMAP\nirradianceVector.y*=-1.0;\n#endif\n#else\nvec3 irradianceVector=irradianceVector_;\n#endif\n#if defined(USESPHERICALFROMREFLECTIONMAP)\n#if defined(REALTIME_FILTERING)\nvec3 refractionIrradiance=irradiance(reflectionSampler,-irradianceVector,vReflectionFilteringInfo);\n#else\nvec3 refractionIrradiance=computeEnvironmentIrradiance(-irradianceVector);\n#endif\n#elif defined(USEIRRADIANCEMAP)\n#ifdef REFLECTIONMAP_3D\nvec3 irradianceCoords=irradianceVector;\n#else\nvec2 irradianceCoords=irradianceVector.xy;\n#ifdef REFLECTIONMAP_PROJECTION\nirradianceCoords/=irradianceVector.z;\n#endif\nirradianceCoords.y=1.0-irradianceCoords.y;\n#endif\nvec4 refractionIrradiance=sampleReflection(irradianceSampler,-irradianceCoords);\n#ifdef RGBDREFLECTION\nrefractionIrradiance.rgb=fromRGBD(refractionIrradiance);\n#endif\n#ifdef GAMMAREFLECTION\nrefractionIrradiance.rgb=toLinearSpace(refractionIrradiance.rgb);\n#endif\n#else\nvec4 refractionIrradiance=vec4(0.);\n#endif\nrefractionIrradiance.rgb*=transmittance;\noutParams.refractionIrradiance=refractionIrradiance.rgb;\n#endif\n}\n#endif\n";O.a.IncludesShadersStore[ge]=ye;i(809);var ve="pbrBlockNormalGeometric",Ce="vec3 viewDirectionW=normalize(vEyePosition.xyz-vPositionW);\n#ifdef NORMAL\nvec3 normalW=normalize(vNormalW);\n#else\nvec3 normalW=normalize(cross(dFdx(vPositionW),dFdy(vPositionW)))*vEyePosition.w;\n#endif\nvec3 geometricNormalW=normalW;\n#if defined(TWOSIDEDLIGHTING) && defined(NORMAL)\ngeometricNormalW=gl_FrontFacing ? geometricNormalW : -geometricNormalW;\n#endif\n";O.a.IncludesShadersStore[ve]=Ce;i(963);var Ee="pbrBlockNormalFinal",Se="#if defined(FORCENORMALFORWARD) && defined(NORMAL)\nvec3 faceNormal=normalize(cross(dFdx(vPositionW),dFdy(vPositionW)))*vEyePosition.w;\n#if defined(TWOSIDEDLIGHTING)\nfaceNormal=gl_FrontFacing ? faceNormal : -faceNormal;\n#endif\nnormalW*=sign(dot(normalW,faceNormal));\n#endif\n#if defined(TWOSIDEDLIGHTING) && defined(NORMAL)\nnormalW=gl_FrontFacing ? normalW : -normalW;\n#endif\n";O.a.IncludesShadersStore[Ee]=Se;i(964);var Te="pbrBlockLightmapInit",Re="#ifdef LIGHTMAP\nvec4 lightmapColor=texture2D(lightmapSampler,vLightmapUV+uvOffset);\n#ifdef RGBDLIGHTMAP\nlightmapColor.rgb=fromRGBD(lightmapColor);\n#endif\n#ifdef GAMMALIGHTMAP\nlightmapColor.rgb=toLinearSpace(lightmapColor.rgb);\n#endif\nlightmapColor.rgb*=vLightmapInfos.y;\n#endif\n";O.a.IncludesShadersStore[Te]=Re;var Me="pbrBlockGeometryInfo",Oe="float NdotVUnclamped=dot(normalW,viewDirectionW);\n\nfloat NdotV=absEps(NdotVUnclamped);\nfloat alphaG=convertRoughnessToAverageSlope(roughness);\nvec2 AARoughnessFactors=getAARoughnessFactors(normalW.xyz);\n#ifdef SPECULARAA\n\nalphaG+=AARoughnessFactors.y;\n#endif\n#if defined(ENVIRONMENTBRDF)\n\nvec3 environmentBrdf=getBRDFLookup(NdotV,roughness);\n#endif\n#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\n#ifdef RADIANCEOCCLUSION\n#ifdef AMBIENTINGRAYSCALE\nfloat ambientMonochrome=aoOut.ambientOcclusionColor.r;\n#else\nfloat ambientMonochrome=getLuminance(aoOut.ambientOcclusionColor);\n#endif\nfloat seo=environmentRadianceOcclusion(ambientMonochrome,NdotVUnclamped);\n#endif\n#ifdef HORIZONOCCLUSION\n#ifdef BUMP\n#ifdef REFLECTIONMAP_3D\nfloat eho=environmentHorizonOcclusion(-viewDirectionW,normalW,geometricNormalW);\n#endif\n#endif\n#endif\n#endif\n";O.a.IncludesShadersStore[Me]=Oe;var Ie="pbrBlockReflectance0",xe="float reflectance=max(max(reflectivityOut.surfaceReflectivityColor.r,reflectivityOut.surfaceReflectivityColor.g),reflectivityOut.surfaceReflectivityColor.b);\nvec3 specularEnvironmentR0=reflectivityOut.surfaceReflectivityColor.rgb;\n#ifdef METALLICWORKFLOW\nvec3 specularEnvironmentR90=vec3(metallicReflectanceFactors.a);\n#else\nvec3 specularEnvironmentR90=vec3(1.0,1.0,1.0);\n#endif\n\n#ifdef ALPHAFRESNEL\nfloat reflectance90=fresnelGrazingReflectance(reflectance);\nspecularEnvironmentR90=specularEnvironmentR90*reflectance90;\n#endif\n";O.a.IncludesShadersStore[Ie]=xe;var Pe="pbrBlockReflectance",De="#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\nvec3 specularEnvironmentReflectance=getReflectanceFromBRDFLookup(clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,environmentBrdf);\n#ifdef RADIANCEOCCLUSION\nspecularEnvironmentReflectance*=seo;\n#endif\n#ifdef HORIZONOCCLUSION\n#ifdef BUMP\n#ifdef REFLECTIONMAP_3D\nspecularEnvironmentReflectance*=eho;\n#endif\n#endif\n#endif\n#else\n\nvec3 specularEnvironmentReflectance=getReflectanceFromAnalyticalBRDFLookup_Jones(NdotV,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,sqrt(microSurface));\n#endif\n#ifdef CLEARCOAT\nspecularEnvironmentReflectance*=clearcoatOut.conservationFactor;\n#if defined(CLEARCOAT_TINT)\nspecularEnvironmentReflectance*=clearcoatOut.absorption;\n#endif\n#endif\n";O.a.IncludesShadersStore[Pe]=De;var we="pbrBlockDirectLighting",Le="vec3 diffuseBase=vec3(0.,0.,0.);\n#ifdef SPECULARTERM\nvec3 specularBase=vec3(0.,0.,0.);\n#endif\n#ifdef CLEARCOAT\nvec3 clearCoatBase=vec3(0.,0.,0.);\n#endif\n#ifdef SHEEN\nvec3 sheenBase=vec3(0.,0.,0.);\n#endif\n\npreLightingInfo preInfo;\nlightingInfo info;\nfloat shadow=1.;\n#if defined(CLEARCOAT) && defined(CLEARCOAT_TINT)\nvec3 absorption=vec3(0.);\n#endif\n";O.a.IncludesShadersStore[we]=Le;i(965);var Fe="pbrBlockFinalLitComponents",Ne="\n\n\n\n#if defined(ENVIRONMENTBRDF)\n#ifdef MS_BRDF_ENERGY_CONSERVATION\nvec3 energyConservationFactor=getEnergyConservationFactor(clearcoatOut.specularEnvironmentR0,environmentBrdf);\n#endif\n#endif\n#ifndef METALLICWORKFLOW\n#ifdef SPECULAR_GLOSSINESS_ENERGY_CONSERVATION\nsurfaceAlbedo.rgb=(1.-reflectance)*surfaceAlbedo.rgb;\n#endif\n#endif\n#if defined(SHEEN) && defined(SHEEN_ALBEDOSCALING) && defined(ENVIRONMENTBRDF)\nsurfaceAlbedo.rgb=sheenOut.sheenAlbedoScaling*surfaceAlbedo.rgb;\n#endif\n\n#ifdef REFLECTION\nvec3 finalIrradiance=reflectionOut.environmentIrradiance;\n#if defined(CLEARCOAT)\nfinalIrradiance*=clearcoatOut.conservationFactor;\n#if defined(CLEARCOAT_TINT)\nfinalIrradiance*=clearcoatOut.absorption;\n#endif\n#endif\n#if defined(SS_REFRACTION)\nfinalIrradiance*=subSurfaceOut.refractionFactorForIrradiance;\n#endif\n#if defined(SS_TRANSLUCENCY)\nfinalIrradiance*=(1.0-subSurfaceOut.translucencyIntensity);\nfinalIrradiance+=subSurfaceOut.refractionIrradiance;\n#endif\nfinalIrradiance*=surfaceAlbedo.rgb;\nfinalIrradiance*=vLightingIntensity.z;\nfinalIrradiance*=aoOut.ambientOcclusionColor;\n#endif\n\n#ifdef SPECULARTERM\nvec3 finalSpecular=specularBase;\nfinalSpecular=max(finalSpecular,0.0);\nvec3 finalSpecularScaled=finalSpecular*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalSpecularScaled*=energyConservationFactor;\n#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalSpecularScaled*=sheenOut.sheenAlbedoScaling;\n#endif\n#endif\n\n#ifdef REFLECTION\nvec3 finalRadiance=reflectionOut.environmentRadiance.rgb;\nfinalRadiance*=subSurfaceOut.specularEnvironmentReflectance;\nvec3 finalRadianceScaled=finalRadiance*vLightingIntensity.z;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalRadianceScaled*=energyConservationFactor;\n#endif\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF) && defined(SHEEN_ALBEDOSCALING)\nfinalRadianceScaled*=sheenOut.sheenAlbedoScaling;\n#endif\n#endif\n\n#ifdef SHEEN\nvec3 finalSheen=sheenBase*sheenOut.sheenColor;\nfinalSheen=max(finalSheen,0.0);\nvec3 finalSheenScaled=finalSheen*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(CLEARCOAT) && defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.conservationFactor;\n#if defined(CLEARCOAT_TINT)\nsheenOut.finalSheenRadianceScaled*=clearcoatOut.absorption;\n#endif\n#endif\n#endif\n\n#ifdef CLEARCOAT\nvec3 finalClearCoat=clearCoatBase;\nfinalClearCoat=max(finalClearCoat,0.0);\nvec3 finalClearCoatScaled=finalClearCoat*vLightingIntensity.x*vLightingIntensity.w;\n#if defined(ENVIRONMENTBRDF) && defined(MS_BRDF_ENERGY_CONSERVATION)\nfinalClearCoatScaled*=clearcoatOut.energyConservationFactorClearCoat;\n#endif\n#ifdef SS_REFRACTION\nsubSurfaceOut.finalRefraction*=clearcoatOut.conservationFactor;\n#ifdef CLEARCOAT_TINT\nsubSurfaceOut.finalRefraction*=clearcoatOut.absorption;\n#endif\n#endif\n#endif\n\n#ifdef ALPHABLEND\nfloat luminanceOverAlpha=0.0;\n#if defined(REFLECTION) && defined(RADIANCEOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalRadianceScaled);\n#if defined(CLEARCOAT)\nluminanceOverAlpha+=getLuminance(clearcoatOut.finalClearCoatRadianceScaled);\n#endif\n#endif\n#if defined(SPECULARTERM) && defined(SPECULAROVERALPHA)\nluminanceOverAlpha+=getLuminance(finalSpecularScaled);\n#endif\n#if defined(CLEARCOAT) && defined(CLEARCOATOVERALPHA)\nluminanceOverAlpha+=getLuminance(finalClearCoatScaled);\n#endif\n#if defined(RADIANCEOVERALPHA) || defined(SPECULAROVERALPHA) || defined(CLEARCOATOVERALPHA)\nalpha=saturate(alpha+luminanceOverAlpha*luminanceOverAlpha);\n#endif\n#endif\n";O.a.IncludesShadersStore[Fe]=Ne;var Be="pbrBlockFinalUnlitComponents",ke="\nvec3 finalDiffuse=diffuseBase;\nfinalDiffuse*=surfaceAlbedo.rgb;\nfinalDiffuse=max(finalDiffuse,0.0);\nfinalDiffuse*=vLightingIntensity.x;\n\nvec3 finalAmbient=vAmbientColor;\nfinalAmbient*=surfaceAlbedo.rgb;\n\nvec3 finalEmissive=vEmissiveColor;\n#ifdef EMISSIVE\nvec3 emissiveColorTex=texture2D(emissiveSampler,vEmissiveUV+uvOffset).rgb;\nfinalEmissive*=toLinearSpace(emissiveColorTex.rgb);\nfinalEmissive*=vEmissiveInfos.y;\n#endif\nfinalEmissive*=vLightingIntensity.y;\n\n#ifdef AMBIENT\nvec3 ambientOcclusionForDirectDiffuse=mix(vec3(1.),aoOut.ambientOcclusionColor,vAmbientInfos.w);\n#else\nvec3 ambientOcclusionForDirectDiffuse=aoOut.ambientOcclusionColor;\n#endif\nfinalAmbient*=aoOut.ambientOcclusionColor;\nfinalDiffuse*=ambientOcclusionForDirectDiffuse;\n";O.a.IncludesShadersStore[Be]=ke;var Ue="pbrBlockFinalColorComposition",He="vec4 finalColor=vec4(\nfinalAmbient +\nfinalDiffuse +\n#ifndef UNLIT\n#ifdef REFLECTION\nfinalIrradiance +\n#endif\n#ifdef SPECULARTERM\nfinalSpecularScaled +\n#endif\n#ifdef SHEEN\nfinalSheenScaled +\n#endif\n#ifdef CLEARCOAT\nfinalClearCoatScaled +\n#endif\n#ifdef REFLECTION\nfinalRadianceScaled +\n#if defined(SHEEN) && defined(ENVIRONMENTBRDF)\nsheenOut.finalSheenRadianceScaled +\n#endif\n#ifdef CLEARCOAT\nclearcoatOut.finalClearCoatRadianceScaled +\n#endif\n#endif\n#ifdef SS_REFRACTION\nsubSurfaceOut.finalRefraction +\n#endif\n#endif\nfinalEmissive,\nalpha);\n\n#ifdef LIGHTMAP\n#ifndef LIGHTMAPEXCLUDED\n#ifdef USELIGHTMAPASSHADOWMAP\nfinalColor.rgb*=lightmapColor.rgb;\n#else\nfinalColor.rgb+=lightmapColor.rgb;\n#endif\n#endif\n#endif\n#define CUSTOM_FRAGMENT_BEFORE_FOG\n\nfinalColor=max(finalColor,0.0);\n";O.a.IncludesShadersStore[Ue]=He;i(966),i(967);var je="pbrBlockImageProcessing",Ve="#ifdef IMAGEPROCESSINGPOSTPROCESS\n\n\nfinalColor.rgb=clamp(finalColor.rgb,0.,30.0);\n#else\n\nfinalColor=applyImageProcessing(finalColor);\n#endif\nfinalColor.a*=visibility;\n#ifdef PREMULTIPLYALPHA\n\nfinalColor.rgb*=finalColor.a;\n#endif\n";O.a.IncludesShadersStore[je]=Ve;var Ge="pbrDebug",We="#if DEBUGMODE>0\nif (vClipSpacePosition.x/vClipSpacePosition.w>=vDebugMode.x) {\n\n#if DEBUGMODE == 1\ngl_FragColor.rgb=vPositionW.rgb;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 2 && defined(NORMAL)\ngl_FragColor.rgb=vNormalW.rgb;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 3 && defined(BUMP) || DEBUGMODE == 3 && defined(PARALLAX) || DEBUGMODE == 3 && defined(ANISOTROPIC)\n\ngl_FragColor.rgb=TBN[0];\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 4 && defined(BUMP) || DEBUGMODE == 4 && defined(PARALLAX) || DEBUGMODE == 4 && defined(ANISOTROPIC)\n\ngl_FragColor.rgb=TBN[1];\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 5\n\ngl_FragColor.rgb=normalW;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 6 && defined(MAINUV1)\ngl_FragColor.rgb=vec3(vMainUV1,0.0);\n#elif DEBUGMODE == 7 && defined(MAINUV2)\ngl_FragColor.rgb=vec3(vMainUV2,0.0);\n#elif DEBUGMODE == 8 && defined(CLEARCOAT) && defined(CLEARCOAT_BUMP)\n\ngl_FragColor.rgb=clearcoatOut.TBNClearCoat[0];\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 9 && defined(CLEARCOAT) && defined(CLEARCOAT_BUMP)\n\ngl_FragColor.rgb=clearcoatOut.TBNClearCoat[1];\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 10 && defined(CLEARCOAT)\n\ngl_FragColor.rgb=clearcoatOut.clearCoatNormalW;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 11 && defined(ANISOTROPIC)\ngl_FragColor.rgb=anisotropicOut.anisotropicNormal;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 12 && defined(ANISOTROPIC)\ngl_FragColor.rgb=anisotropicOut.anisotropicTangent;\n#define DEBUGMODE_NORMALIZE\n#elif DEBUGMODE == 13 && defined(ANISOTROPIC)\ngl_FragColor.rgb=anisotropicOut.anisotropicBitangent;\n#define DEBUGMODE_NORMALIZE\n\n#elif DEBUGMODE == 20 && defined(ALBEDO)\ngl_FragColor.rgb=albedoTexture.rgb;\n#elif DEBUGMODE == 21 && defined(AMBIENT)\ngl_FragColor.rgb=aoOut.ambientOcclusionColorMap.rgb;\n#elif DEBUGMODE == 22 && defined(OPACITY)\ngl_FragColor.rgb=opacityMap.rgb;\n#elif DEBUGMODE == 23 && defined(EMISSIVE)\ngl_FragColor.rgb=emissiveColorTex.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 24 && defined(LIGHTMAP)\ngl_FragColor.rgb=lightmapColor.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 25 && defined(REFLECTIVITY) && defined(METALLICWORKFLOW)\ngl_FragColor.rgb=reflectivityOut.surfaceMetallicColorMap.rgb;\n#elif DEBUGMODE == 26 && defined(REFLECTIVITY) && !defined(METALLICWORKFLOW)\ngl_FragColor.rgb=reflectivityOut.surfaceReflectivityColorMap.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 27 && defined(CLEARCOAT) && defined(CLEARCOAT_TEXTURE)\ngl_FragColor.rgb=vec3(clearcoatOut.clearCoatMapData.rg,0.0);\n#elif DEBUGMODE == 28 && defined(CLEARCOAT) && defined(CLEARCOAT_TINT) && defined(CLEARCOAT_TINT_TEXTURE)\ngl_FragColor.rgb=clearcoatOut.clearCoatTintMapData.rgb;\n#elif DEBUGMODE == 29 && defined(SHEEN) && defined(SHEEN_TEXTURE)\ngl_FragColor.rgb=sheenOut.sheenMapData.rgb;\n#elif DEBUGMODE == 30 && defined(ANISOTROPIC) && defined(ANISOTROPIC_TEXTURE)\ngl_FragColor.rgb=anisotropicOut.anisotropyMapData.rgb;\n#elif DEBUGMODE == 31 && defined(SUBSURFACE) && defined(SS_THICKNESSANDMASK_TEXTURE)\ngl_FragColor.rgb=subSurfaceOut.thicknessMap.rgb;\n\n#elif DEBUGMODE == 40 && defined(SS_REFRACTION)\n\ngl_FragColor.rgb=subSurfaceOut.environmentRefraction.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 41 && defined(REFLECTION)\ngl_FragColor.rgb=reflectionOut.environmentRadiance.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 42 && defined(CLEARCOAT) && defined(REFLECTION)\ngl_FragColor.rgb=clearcoatOut.environmentClearCoatRadiance.rgb;\n#define DEBUGMODE_GAMMA\n\n#elif DEBUGMODE == 50\ngl_FragColor.rgb=diffuseBase.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 51 && defined(SPECULARTERM)\ngl_FragColor.rgb=specularBase.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 52 && defined(CLEARCOAT)\ngl_FragColor.rgb=clearCoatBase.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 53 && defined(SHEEN)\ngl_FragColor.rgb=sheenBase.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 54 && defined(REFLECTION)\ngl_FragColor.rgb=reflectionOut.environmentIrradiance.rgb;\n#define DEBUGMODE_GAMMA\n\n#elif DEBUGMODE == 60\ngl_FragColor.rgb=surfaceAlbedo.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 61\ngl_FragColor.rgb=clearcoatOut.specularEnvironmentR0;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 62 && defined(METALLICWORKFLOW)\ngl_FragColor.rgb=vec3(reflectivityOut.metallicRoughness.r);\n#elif DEBUGMODE == 71 && defined(METALLICWORKFLOW)\ngl_FragColor.rgb=reflectivityOut.metallicF0;\n#elif DEBUGMODE == 63\ngl_FragColor.rgb=vec3(roughness);\n#elif DEBUGMODE == 64\ngl_FragColor.rgb=vec3(alphaG);\n#elif DEBUGMODE == 65\ngl_FragColor.rgb=vec3(NdotV);\n#elif DEBUGMODE == 66 && defined(CLEARCOAT) && defined(CLEARCOAT_TINT)\ngl_FragColor.rgb=clearcoatOut.clearCoatColor.rgb;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 67 && defined(CLEARCOAT)\ngl_FragColor.rgb=vec3(clearcoatOut.clearCoatRoughness);\n#elif DEBUGMODE == 68 && defined(CLEARCOAT)\ngl_FragColor.rgb=vec3(clearcoatOut.clearCoatNdotV);\n#elif DEBUGMODE == 69 && defined(SUBSURFACE) && defined(SS_TRANSLUCENCY)\ngl_FragColor.rgb=subSurfaceOut.transmittance;\n#elif DEBUGMODE == 70 && defined(SUBSURFACE) && defined(SS_REFRACTION)\ngl_FragColor.rgb=subSurfaceOut.refractionTransmittance;\n\n#elif DEBUGMODE == 80 && defined(RADIANCEOCCLUSION)\ngl_FragColor.rgb=vec3(seo);\n#elif DEBUGMODE == 81 && defined(HORIZONOCCLUSION)\ngl_FragColor.rgb=vec3(eho);\n#elif DEBUGMODE == 82 && defined(MS_BRDF_ENERGY_CONSERVATION)\ngl_FragColor.rgb=vec3(energyConservationFactor);\n#elif DEBUGMODE == 83 && defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\ngl_FragColor.rgb=specularEnvironmentReflectance;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 84 && defined(CLEARCOAT) && defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\ngl_FragColor.rgb=clearcoatOut.clearCoatEnvironmentReflectance;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 85 && defined(SHEEN) && defined(REFLECTION)\ngl_FragColor.rgb=sheenOut.sheenEnvironmentReflectance;\n#define DEBUGMODE_GAMMA\n#elif DEBUGMODE == 86 && defined(ALPHABLEND)\ngl_FragColor.rgb=vec3(luminanceOverAlpha);\n#elif DEBUGMODE == 87\ngl_FragColor.rgb=vec3(alpha);\n#endif\ngl_FragColor.rgb*=vDebugMode.y;\n#ifdef DEBUGMODE_NORMALIZE\ngl_FragColor.rgb=normalize(gl_FragColor.rgb)*0.5+0.5;\n#endif\n#ifdef DEBUGMODE_GAMMA\ngl_FragColor.rgb=toGammaSpace(gl_FragColor.rgb);\n#endif\ngl_FragColor.a=1.0;\n#ifdef PREPASS\ngl_FragData[0]=toLinearSpace(gl_FragColor);\ngl_FragData[1]=vec4(0.,0.,0.,0.);\n#endif\nreturn;\n}\n#endif";O.a.IncludesShadersStore[Ge]=We;var Xe="pbrPixelShader",ze="#if defined(BUMP) || !defined(NORMAL) || defined(FORCENORMALFORWARD) || defined(SPECULARAA) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\n#extension GL_OES_standard_derivatives : enable\n#endif\n#ifdef LODBASEDMICROSFURACE\n#extension GL_EXT_shader_texture_lod : enable\n#endif\n#define CUSTOM_FRAGMENT_BEGIN\n#ifdef LOGARITHMICDEPTH\n#extension GL_EXT_frag_depth : enable\n#endif\n#include<prePassDeclaration>[SCENE_MRT_COUNT]\nprecision highp float;\n\n#ifndef FROMLINEARSPACE\n#define FROMLINEARSPACE\n#endif\n\n#include<__decl__pbrFragment>\n#include<pbrFragmentExtraDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<pbrFragmentSamplersDeclaration>\n#include<imageProcessingDeclaration>\n#include<clipPlaneFragmentDeclaration>\n#include<logDepthDeclaration>\n#include<fogFragmentDeclaration>\n\n#include<helperFunctions>\n#include<subSurfaceScatteringFunctions>\n#include<importanceSampling>\n#include<pbrHelperFunctions>\n#include<imageProcessingFunctions>\n#include<shadowsFragmentFunctions>\n#include<harmonicsFunctions>\n#include<pbrDirectLightingSetupFunctions>\n#include<pbrDirectLightingFalloffFunctions>\n#include<pbrBRDFFunctions>\n#include<hdrFilteringFunctions>\n#include<pbrDirectLightingFunctions>\n#include<pbrIBLFunctions>\n#include<bumpFragmentMainFunctions>\n#include<bumpFragmentFunctions>\n#ifdef REFLECTION\n#include<reflectionFunction>\n#endif\n#define CUSTOM_FRAGMENT_DEFINITIONS\n#include<pbrBlockAlbedoOpacity>\n#include<pbrBlockReflectivity>\n#include<pbrBlockAmbientOcclusion>\n#include<pbrBlockAlphaFresnel>\n#include<pbrBlockAnisotropic>\n#include<pbrBlockReflection>\n#include<pbrBlockSheen>\n#include<pbrBlockClearcoat>\n#include<pbrBlockSubSurface>\n\nvoid main(void) {\n#define CUSTOM_FRAGMENT_MAIN_BEGIN\n#include<clipPlaneFragment>\n\n#include<pbrBlockNormalGeometric>\n#include<bumpFragment>\n#include<pbrBlockNormalFinal>\n\nalbedoOpacityOutParams albedoOpacityOut;\n#ifdef ALBEDO\nvec4 albedoTexture=texture2D(albedoSampler,vAlbedoUV+uvOffset);\n#endif\n#ifdef OPACITY\nvec4 opacityMap=texture2D(opacitySampler,vOpacityUV+uvOffset);\n#endif\nalbedoOpacityBlock(\nvAlbedoColor,\n#ifdef ALBEDO\nalbedoTexture,\nvAlbedoInfos,\n#endif\n#ifdef OPACITY\nopacityMap,\nvOpacityInfos,\n#endif\n#ifdef DETAIL\ndetailColor,\nvDetailInfos,\n#endif\nalbedoOpacityOut\n);\nvec3 surfaceAlbedo=albedoOpacityOut.surfaceAlbedo;\nfloat alpha=albedoOpacityOut.alpha;\n#define CUSTOM_FRAGMENT_UPDATE_ALPHA\n#include<depthPrePass>\n#define CUSTOM_FRAGMENT_BEFORE_LIGHTS\n\nambientOcclusionOutParams aoOut;\n#ifdef AMBIENT\nvec3 ambientOcclusionColorMap=texture2D(ambientSampler,vAmbientUV+uvOffset).rgb;\n#endif\nambientOcclusionBlock(\n#ifdef AMBIENT\nambientOcclusionColorMap,\nvAmbientInfos,\n#endif\naoOut\n);\n#include<pbrBlockLightmapInit>\n#ifdef UNLIT\nvec3 diffuseBase=vec3(1.,1.,1.);\n#else\n\nvec3 baseColor=surfaceAlbedo;\nreflectivityOutParams reflectivityOut;\n#if defined(REFLECTIVITY)\nvec4 surfaceMetallicOrReflectivityColorMap=texture2D(reflectivitySampler,vReflectivityUV+uvOffset);\nvec4 baseReflectivity=surfaceMetallicOrReflectivityColorMap;\n#ifndef METALLICWORKFLOW\nsurfaceMetallicOrReflectivityColorMap=toLinearSpace(surfaceMetallicOrReflectivityColorMap);\nsurfaceMetallicOrReflectivityColorMap.rgb*=vReflectivityInfos.y;\n#endif\n#endif\n#if defined(MICROSURFACEMAP)\nvec4 microSurfaceTexel=texture2D(microSurfaceSampler,vMicroSurfaceSamplerUV+uvOffset)*vMicroSurfaceSamplerInfos.y;\n#endif\n#ifdef METALLICWORKFLOW\nvec4 metallicReflectanceFactors=vMetallicReflectanceFactors;\n#ifdef METALLIC_REFLECTANCE\nvec4 metallicReflectanceFactorsMap=texture2D(metallicReflectanceSampler,vMetallicReflectanceUV+uvOffset);\nmetallicReflectanceFactorsMap=toLinearSpace(metallicReflectanceFactorsMap);\nmetallicReflectanceFactors*=metallicReflectanceFactorsMap;\n#endif\n#endif\nreflectivityBlock(\nvReflectivityColor,\n#ifdef METALLICWORKFLOW\nsurfaceAlbedo,\nmetallicReflectanceFactors,\n#endif\n#ifdef REFLECTIVITY\nvReflectivityInfos,\nsurfaceMetallicOrReflectivityColorMap,\n#endif\n#if defined(METALLICWORKFLOW) && defined(REFLECTIVITY) && defined(AOSTOREINMETALMAPRED)\naoOut.ambientOcclusionColor,\n#endif\n#ifdef MICROSURFACEMAP\nmicroSurfaceTexel,\n#endif\n#ifdef DETAIL\ndetailColor,\nvDetailInfos,\n#endif\nreflectivityOut\n);\nfloat microSurface=reflectivityOut.microSurface;\nfloat roughness=reflectivityOut.roughness;\n#ifdef METALLICWORKFLOW\nsurfaceAlbedo=reflectivityOut.surfaceAlbedo;\n#endif\n#if defined(METALLICWORKFLOW) && defined(REFLECTIVITY) && defined(AOSTOREINMETALMAPRED)\naoOut.ambientOcclusionColor=reflectivityOut.ambientOcclusionColor;\n#endif\n\n#ifdef ALPHAFRESNEL\n#if defined(ALPHATEST) || defined(ALPHABLEND)\nalphaFresnelOutParams alphaFresnelOut;\nalphaFresnelBlock(\nnormalW,\nviewDirectionW,\nalpha,\nmicroSurface,\nalphaFresnelOut\n);\nalpha=alphaFresnelOut.alpha;\n#endif\n#endif\n\n#include<pbrBlockGeometryInfo>\n\n#ifdef ANISOTROPIC\nanisotropicOutParams anisotropicOut;\n#ifdef ANISOTROPIC_TEXTURE\nvec3 anisotropyMapData=texture2D(anisotropySampler,vAnisotropyUV+uvOffset).rgb*vAnisotropyInfos.y;\n#endif\nanisotropicBlock(\nvAnisotropy,\n#ifdef ANISOTROPIC_TEXTURE\nanisotropyMapData,\n#endif\nTBN,\nnormalW,\nviewDirectionW,\nanisotropicOut\n);\n#endif\n\n#ifdef REFLECTION\nreflectionOutParams reflectionOut;\nreflectionBlock(\nvPositionW,\nnormalW,\nalphaG,\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\n#ifdef ANISOTROPIC\nanisotropicOut,\n#endif\n#if defined(LODINREFLECTIONALPHA) && !defined(REFLECTIONMAP_SKYBOX)\nNdotVUnclamped,\n#endif\n#ifdef LINEARSPECULARREFLECTION\nroughness,\n#endif\nreflectionSampler,\n#if defined(NORMAL) && defined(USESPHERICALINVERTEX)\nvEnvironmentIrradiance,\n#endif\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if !defined(NORMAL) || !defined(USESPHERICALINVERTEX)\nreflectionMatrix,\n#endif\n#endif\n#ifdef USEIRRADIANCEMAP\nirradianceSampler,\n#endif\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\nreflectionOut\n);\n#endif\n\n#include<pbrBlockReflectance0>\n\n#ifdef SHEEN\nsheenOutParams sheenOut;\n#ifdef SHEEN_TEXTURE\nvec4 sheenMapData=toLinearSpace(texture2D(sheenSampler,vSheenUV+uvOffset))*vSheenInfos.y;\n#endif\n#if defined(SHEEN_ROUGHNESS) && defined(SHEEN_TEXTURE_ROUGHNESS) && !defined(SHEEN_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE)\nvec4 sheenMapRoughnessData=texture2D(sheenRoughnessSampler,vSheenRoughnessUV+uvOffset)*vSheenInfos.w;\n#endif\nsheenBlock(\nvSheenColor,\n#ifdef SHEEN_ROUGHNESS\nvSheenRoughness,\n#if defined(SHEEN_TEXTURE_ROUGHNESS) && !defined(SHEEN_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE)\nsheenMapRoughnessData,\n#endif\n#endif\nroughness,\n#ifdef SHEEN_TEXTURE\nsheenMapData,\n#endif\nreflectance,\n#ifdef SHEEN_LINKWITHALBEDO\nbaseColor,\nsurfaceAlbedo,\n#endif\n#ifdef ENVIRONMENTBRDF\nNdotV,\nenvironmentBrdf,\n#endif\n#if defined(REFLECTION) && defined(ENVIRONMENTBRDF)\nAARoughnessFactors,\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\nvLightingIntensity,\nreflectionSampler,\nreflectionOut.reflectionCoords,\nNdotVUnclamped,\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(RADIANCEOCCLUSION)\nseo,\n#endif\n#if !defined(REFLECTIONMAP_SKYBOX) && defined(HORIZONOCCLUSION) && defined(BUMP) && defined(REFLECTIONMAP_3D)\neho,\n#endif\n#endif\nsheenOut\n);\n#ifdef SHEEN_LINKWITHALBEDO\nsurfaceAlbedo=sheenOut.surfaceAlbedo;\n#endif\n#endif\n\nclearcoatOutParams clearcoatOut;\n#ifdef CLEARCOAT\n#ifdef CLEARCOAT_TEXTURE\nvec2 clearCoatMapData=texture2D(clearCoatSampler,vClearCoatUV+uvOffset).rg*vClearCoatInfos.y;\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && !defined(CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE)\nvec4 clearCoatMapRoughnessData=texture2D(clearCoatRoughnessSampler,vClearCoatRoughnessUV+uvOffset)*vClearCoatInfos.w;\n#endif\n#if defined(CLEARCOAT_TINT) && defined(CLEARCOAT_TINT_TEXTURE)\nvec4 clearCoatTintMapData=toLinearSpace(texture2D(clearCoatTintSampler,vClearCoatTintUV+uvOffset));\n#endif\n#ifdef CLEARCOAT_BUMP\nvec4 clearCoatBumpMapData=texture2D(clearCoatBumpSampler,vClearCoatBumpUV+uvOffset);\n#endif\nclearcoatBlock(\nvPositionW,\ngeometricNormalW,\nviewDirectionW,\nvClearCoatParams,\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && !defined(CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL) && !defined(CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE)\nclearCoatMapRoughnessData,\n#endif\nspecularEnvironmentR0,\n#ifdef CLEARCOAT_TEXTURE\nclearCoatMapData,\n#endif\n#ifdef CLEARCOAT_TINT\nvClearCoatTintParams,\nclearCoatColorAtDistance,\nvClearCoatRefractionParams,\n#ifdef CLEARCOAT_TINT_TEXTURE\nclearCoatTintMapData,\n#endif\n#endif\n#ifdef CLEARCOAT_BUMP\nvClearCoatBumpInfos,\nclearCoatBumpMapData,\nvClearCoatBumpUV,\n#if defined(TANGENT) && defined(NORMAL)\nvTBN,\n#else\nvClearCoatTangentSpaceParams,\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\nnormalMatrix,\n#endif\n#endif\n#if defined(FORCENORMALFORWARD) && defined(NORMAL)\nfaceNormal,\n#endif\n#ifdef REFLECTION\nvReflectionMicrosurfaceInfos,\nvReflectionInfos,\nvReflectionColor,\nvLightingIntensity,\nreflectionSampler,\n#ifndef LODBASEDMICROSFURACE\nreflectionSamplerLow,\nreflectionSamplerHigh,\n#endif\n#ifdef REALTIME_FILTERING\nvReflectionFilteringInfo,\n#endif\n#endif\n#if defined(ENVIRONMENTBRDF) && !defined(REFLECTIONMAP_SKYBOX)\n#ifdef RADIANCEOCCLUSION\nambientMonochrome,\n#endif\n#endif\nclearcoatOut\n);\n#else\nclearcoatOut.specularEnvironmentR0=specularEnvironmentR0;\n#endif\n\n#include<pbrBlockReflectance>\n\nsubSurfaceOutParams subSurfaceOut;\n#ifdef SUBSURFACE\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nvec4 thicknessMap=texture2D(thicknessSampler,vThicknessUV+uvOffset);\n#endif\nsubSurfaceBlock(\nvSubSurfaceIntensity,\nvThicknessParam,\nvTintColor,\nnormalW,\nspecularEnvironmentReflectance,\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nthicknessMap,\n#endif\n#ifdef REFLECTION\n#ifdef SS_TRANSLUCENCY\nreflectionMatrix,\n#ifdef USESPHERICALFROMREFLECTIONMAP\n#if !defined(NORMAL) || !defined(USESPHERICALINVERTEX)\nreflectionOut.irradianceVector,\n#endif\n#if defined(REALTIME_FILTERING)\nreflectionSampler,\nvReflectionFilteringInfo,\n#endif\n#endif\n#ifdef USEIRRADIANCEMAP\nirradianceSampler,\n#endif\n#endif\n#endif\n#ifdef SS_REFRACTION\nvPositionW,\nviewDirectionW,\nview,\nsurfaceAlbedo,\nvRefractionInfos,\nrefractionMatrix,\nvRefractionMicrosurfaceInfos,\nvLightingIntensity,\n#ifdef SS_LINKREFRACTIONTOTRANSPARENCY\nalpha,\n#endif\n#ifdef SS_LODINREFRACTIONALPHA\nNdotVUnclamped,\n#endif\n#ifdef SS_LINEARSPECULARREFRACTION\nroughness,\n#else\nalphaG,\n#endif\nrefractionSampler,\n#ifndef LODBASEDMICROSFURACE\nrefractionSamplerLow,\nrefractionSamplerHigh,\n#endif\n#ifdef ANISOTROPIC\nanisotropicOut,\n#endif\n#ifdef REALTIME_FILTERING\nvRefractionFilteringInfo,\n#endif\n#endif\n#ifdef SS_TRANSLUCENCY\nvDiffusionDistance,\n#endif\nsubSurfaceOut\n);\n#ifdef SS_REFRACTION\nsurfaceAlbedo=subSurfaceOut.surfaceAlbedo;\n#ifdef SS_LINKREFRACTIONTOTRANSPARENCY\nalpha=subSurfaceOut.alpha;\n#endif\n#endif\n#else\nsubSurfaceOut.specularEnvironmentReflectance=specularEnvironmentReflectance;\n#endif\n\n#include<pbrBlockDirectLighting>\n#include<lightFragment>[0..maxSimultaneousLights]\n\n#include<pbrBlockFinalLitComponents>\n#endif\n#include<pbrBlockFinalUnlitComponents>\n#include<pbrBlockFinalColorComposition>\n#include<logDepthFragment>\n#include<fogFragment>(color,finalColor)\n#include<pbrBlockImageProcessing>\n#define CUSTOM_FRAGMENT_BEFORE_FRAGCOLOR\n#ifdef PREPASS\n#ifdef PREPASS_POSITION\ngl_FragData[PREPASS_POSITION_INDEX]=vec4(vPositionW,1.0);\n#endif\n#ifdef PREPASS_VELOCITY\nvec2 a=(vCurrentPosition.xy/vCurrentPosition.w)*0.5+0.5;\nvec2 b=(vPreviousPosition.xy/vPreviousPosition.w)*0.5+0.5;\nvec2 velocity=abs(a-b);\nvelocity=vec2(pow(velocity.x,1.0/3.0),pow(velocity.y,1.0/3.0))*sign(a-b)*0.5+0.5;\ngl_FragData[PREPASS_VELOCITY_INDEX]=vec4(velocity,0.0,1.0);\n#endif\n#ifdef PREPASS_IRRADIANCE\nvec3 irradiance=finalDiffuse;\n#ifndef UNLIT\n#ifdef REFLECTION\nirradiance+=finalIrradiance;\n#endif\n#endif\nvec3 sqAlbedo=sqrt(surfaceAlbedo);\n#ifdef SS_SCATTERING\ngl_FragData[0]=vec4(finalColor.rgb-irradiance,finalColor.a);\nirradiance/=sqAlbedo;\n#else\ngl_FragData[0]=finalColor;\nfloat scatteringDiffusionProfile=255.;\n#endif\ngl_FragData[PREPASS_IRRADIANCE_INDEX]=vec4(irradiance,scatteringDiffusionProfile/255.);\n#else\ngl_FragData[0]=vec4(finalColor.rgb,finalColor.a);\n#endif\n#ifdef PREPASS_DEPTHNORMAL\ngl_FragData[PREPASS_DEPTHNORMAL_INDEX]=vec4(vViewPos.z,(view*vec4(normalW,0.0)).rgb);\n#endif\n#ifdef PREPASS_ALBEDO\ngl_FragData[PREPASS_ALBEDO_INDEX]=vec4(sqAlbedo,1.0);\n#endif\n#ifdef PREPASS_REFLECTIVITY\n#if defined(REFLECTIVITY)\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(baseReflectivity.rgb,1.0);\n#else\ngl_FragData[PREPASS_REFLECTIVITY_INDEX]=vec4(0.0,0.0,0.0,1.0);\n#endif\n#endif\n#endif\n#if !defined(PREPASS) || defined(WEBGL2)\ngl_FragColor=finalColor;\n#endif\n#include<pbrDebug>\n}\n";O.a.ShadersStore[Xe]=ze;var Ye="pbrVertexDeclaration",Qe="uniform mat4 view;\nuniform mat4 viewProjection;\n#ifdef ALBEDO\nuniform mat4 albedoMatrix;\nuniform vec2 vAlbedoInfos;\n#endif\n#ifdef AMBIENT\nuniform mat4 ambientMatrix;\nuniform vec4 vAmbientInfos;\n#endif\n#ifdef OPACITY\nuniform mat4 opacityMatrix;\nuniform vec2 vOpacityInfos;\n#endif\n#ifdef EMISSIVE\nuniform vec2 vEmissiveInfos;\nuniform mat4 emissiveMatrix;\n#endif\n#ifdef LIGHTMAP\nuniform vec2 vLightmapInfos;\nuniform mat4 lightmapMatrix;\n#endif\n#ifdef REFLECTIVITY\nuniform vec3 vReflectivityInfos;\nuniform mat4 reflectivityMatrix;\n#endif\n#ifdef METALLIC_REFLECTANCE\nuniform vec2 vMetallicReflectanceInfos;\nuniform mat4 metallicReflectanceMatrix;\n#endif\n#ifdef MICROSURFACEMAP\nuniform vec2 vMicroSurfaceSamplerInfos;\nuniform mat4 microSurfaceSamplerMatrix;\n#endif\n#ifdef BUMP\nuniform vec3 vBumpInfos;\nuniform mat4 bumpMatrix;\n#endif\n#ifdef POINTSIZE\nuniform float pointSize;\n#endif\n\n#ifdef REFLECTION\nuniform vec2 vReflectionInfos;\nuniform mat4 reflectionMatrix;\n#endif\n\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE) || defined(CLEARCOAT_TEXTURE_ROUGHNESS)\nuniform vec4 vClearCoatInfos;\n#endif\n#ifdef CLEARCOAT_TEXTURE\nuniform mat4 clearCoatMatrix;\n#endif\n#ifdef CLEARCOAT_TEXTURE_ROUGHNESS\nuniform mat4 clearCoatRoughnessMatrix;\n#endif\n#ifdef CLEARCOAT_BUMP\nuniform vec2 vClearCoatBumpInfos;\nuniform mat4 clearCoatBumpMatrix;\n#endif\n#ifdef CLEARCOAT_TINT_TEXTURE\nuniform vec2 vClearCoatTintInfos;\nuniform mat4 clearCoatTintMatrix;\n#endif\n#endif\n\n#ifdef ANISOTROPIC\n#ifdef ANISOTROPIC_TEXTURE\nuniform vec2 vAnisotropyInfos;\nuniform mat4 anisotropyMatrix;\n#endif\n#endif\n\n#ifdef SHEEN\n#if defined(SHEEN_TEXTURE) || defined(SHEEN_TEXTURE_ROUGHNESS)\nuniform vec4 vSheenInfos;\n#endif\n#ifdef SHEEN_TEXTURE\nuniform mat4 sheenMatrix;\n#endif\n#ifdef SHEEN_TEXTURE_ROUGHNESS\nuniform mat4 sheenRoughnessMatrix;\n#endif\n#endif\n\n#ifdef SUBSURFACE\n#ifdef SS_REFRACTION\nuniform vec4 vRefractionInfos;\nuniform mat4 refractionMatrix;\n#endif\n#ifdef SS_THICKNESSANDMASK_TEXTURE\nuniform vec2 vThicknessInfos;\nuniform mat4 thicknessMatrix;\n#endif\n#endif\n";O.a.IncludesShadersStore[Ye]=Qe;i(756),i(757),i(968),i(969),i(812),i(970),i(810),i(811),i(813),i(758),i(759),i(971),i(972),i(814),i(973),i(974),i(975);var Ke="pbrVertexShader",Ze="precision highp float;\n#include<__decl__pbrVertex>\n#define CUSTOM_VERTEX_BEGIN\n\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#ifdef TANGENT\nattribute vec4 tangent;\n#endif\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#ifdef MAINUV1\nvarying vec2 vMainUV1;\n#endif\n#ifdef MAINUV2\nvarying vec2 vMainUV2;\n#endif\n#ifdef VERTEXCOLOR\nattribute vec4 color;\n#endif\n#include<helperFunctions>\n#include<bonesDeclaration>\n\n#include<instancesDeclaration>\n#include<prePassVertexDeclaration>\n#if defined(ALBEDO) && ALBEDODIRECTUV == 0\nvarying vec2 vAlbedoUV;\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nvarying vec2 vDetailUV;\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nvarying vec2 vAmbientUV;\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nvarying vec2 vOpacityUV;\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nvarying vec2 vEmissiveUV;\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nvarying vec2 vLightmapUV;\n#endif\n#if defined(REFLECTIVITY) && REFLECTIVITYDIRECTUV == 0\nvarying vec2 vReflectivityUV;\n#endif\n#if defined(MICROSURFACEMAP) && MICROSURFACEMAPDIRECTUV == 0\nvarying vec2 vMicroSurfaceSamplerUV;\n#endif\n#if defined(METALLIC_REFLECTANCE) && METALLIC_REFLECTANCEDIRECTUV == 0\nvarying vec2 vMetallicReflectanceUV;\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nvarying vec2 vBumpUV;\n#endif\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE) && CLEARCOAT_TEXTUREDIRECTUV == 0\nvarying vec2 vClearCoatUV;\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && CLEARCOAT_TEXTURE_ROUGHNESSDIRECTUV == 0\nvarying vec2 vClearCoatRoughnessUV;\n#endif\n#if defined(CLEARCOAT_BUMP) && CLEARCOAT_BUMPDIRECTUV == 0\nvarying vec2 vClearCoatBumpUV;\n#endif\n#if defined(CLEARCOAT_TINT_TEXTURE) && CLEARCOAT_TINT_TEXTUREDIRECTUV == 0\nvarying vec2 vClearCoatTintUV;\n#endif\n#endif\n#ifdef SHEEN\n#if defined(SHEEN_TEXTURE) && SHEEN_TEXTUREDIRECTUV == 0\nvarying vec2 vSheenUV;\n#endif\n#if defined(SHEEN_TEXTURE_ROUGHNESS) && SHEEN_TEXTURE_ROUGHNESSDIRECTUV == 0\nvarying vec2 vSheenRoughnessUV;\n#endif\n#endif\n#ifdef ANISOTROPIC\n#if defined(ANISOTROPIC_TEXTURE) && ANISOTROPIC_TEXTUREDIRECTUV == 0\nvarying vec2 vAnisotropyUV;\n#endif\n#endif\n#ifdef SUBSURFACE\n#if defined(SS_THICKNESSANDMASK_TEXTURE) && SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 0\nvarying vec2 vThicknessUV;\n#endif\n#endif\n\nvarying vec3 vPositionW;\n#if DEBUGMODE>0\nvarying vec4 vClipSpacePosition;\n#endif\n#ifdef NORMAL\nvarying vec3 vNormalW;\n#if defined(USESPHERICALFROMREFLECTIONMAP) && defined(USESPHERICALINVERTEX)\nvarying vec3 vEnvironmentIrradiance;\n#include<harmonicsFunctions>\n#endif\n#endif\n#ifdef VERTEXCOLOR\nvarying vec4 vColor;\n#endif\n#include<bumpVertexDeclaration>\n#include<clipPlaneVertexDeclaration>\n#include<fogVertexDeclaration>\n#include<__decl__lightFragment>[0..maxSimultaneousLights]\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvarying vec3 vPositionUVW;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvarying vec3 vDirectionW;\n#endif\n#include<logDepthDeclaration>\n#define CUSTOM_VERTEX_DEFINITIONS\nvoid main(void) {\n#define CUSTOM_VERTEX_MAIN_BEGIN\nvec3 positionUpdated=position;\n#ifdef NORMAL\nvec3 normalUpdated=normal;\n#endif\n#ifdef TANGENT\nvec4 tangentUpdated=tangent;\n#endif\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#ifdef REFLECTIONMAP_SKYBOX\nvPositionUVW=positionUpdated;\n#endif\n#define CUSTOM_VERTEX_UPDATE_POSITION\n#define CUSTOM_VERTEX_UPDATE_NORMAL\n#include<instancesVertex>\n#if defined(PREPASS) && defined(PREPASS_VELOCITY) && !defined(BONES_VELOCITY_ENABLED)\n\nvCurrentPosition=viewProjection*finalWorld*vec4(positionUpdated,1.0);\nvPreviousPosition=previousViewProjection*previousWorld*vec4(positionUpdated,1.0);\n#endif\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\nvPositionW=vec3(worldPos);\n#include<prePassVertex>\n#ifdef NORMAL\nmat3 normalWorld=mat3(finalWorld);\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\nvNormalW=normalUpdated/vec3(dot(normalWorld[0],normalWorld[0]),dot(normalWorld[1],normalWorld[1]),dot(normalWorld[2],normalWorld[2]));\nvNormalW=normalize(normalWorld*vNormalW);\n#else\n#ifdef NONUNIFORMSCALING\nnormalWorld=transposeMat3(inverseMat3(normalWorld));\n#endif\nvNormalW=normalize(normalWorld*normalUpdated);\n#endif\n#if defined(USESPHERICALFROMREFLECTIONMAP) && defined(USESPHERICALINVERTEX)\nvec3 reflectionVector=vec3(reflectionMatrix*vec4(vNormalW,0)).xyz;\n#ifdef REFLECTIONMAP_OPPOSITEZ\nreflectionVector.z*=-1.0;\n#endif\nvEnvironmentIrradiance=computeEnvironmentIrradiance(reflectionVector);\n#endif\n#endif\n#define CUSTOM_VERTEX_UPDATE_WORLDPOS\n#ifdef MULTIVIEW\nif (gl_ViewID_OVR == 0u) {\ngl_Position=viewProjection*worldPos;\n} else {\ngl_Position=viewProjectionR*worldPos;\n}\n#else\ngl_Position=viewProjection*worldPos;\n#endif\n#if DEBUGMODE>0\nvClipSpacePosition=gl_Position;\n#endif\n#if defined(REFLECTIONMAP_EQUIRECTANGULAR_FIXED) || defined(REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED)\nvDirectionW=normalize(vec3(finalWorld*vec4(positionUpdated,0.0)));\n#endif\n\n#ifndef UV1\nvec2 uvUpdated=vec2(0.,0.);\n#endif\n#ifndef UV2\nvec2 uv2=vec2(0.,0.);\n#endif\n#ifdef MAINUV1\nvMainUV1=uvUpdated;\n#endif\n#ifdef MAINUV2\nvMainUV2=uv2;\n#endif\n#if defined(ALBEDO) && ALBEDODIRECTUV == 0\nif (vAlbedoInfos.x == 0.)\n{\nvAlbedoUV=vec2(albedoMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvAlbedoUV=vec2(albedoMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(DETAIL) && DETAILDIRECTUV == 0\nif (vDetailInfos.x == 0.)\n{\nvDetailUV=vec2(detailMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvDetailUV=vec2(detailMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(AMBIENT) && AMBIENTDIRECTUV == 0\nif (vAmbientInfos.x == 0.)\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvAmbientUV=vec2(ambientMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(OPACITY) && OPACITYDIRECTUV == 0\nif (vOpacityInfos.x == 0.)\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvOpacityUV=vec2(opacityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(EMISSIVE) && EMISSIVEDIRECTUV == 0\nif (vEmissiveInfos.x == 0.)\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvEmissiveUV=vec2(emissiveMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(LIGHTMAP) && LIGHTMAPDIRECTUV == 0\nif (vLightmapInfos.x == 0.)\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvLightmapUV=vec2(lightmapMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(REFLECTIVITY) && REFLECTIVITYDIRECTUV == 0\nif (vReflectivityInfos.x == 0.)\n{\nvReflectivityUV=vec2(reflectivityMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvReflectivityUV=vec2(reflectivityMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(MICROSURFACEMAP) && MICROSURFACEMAPDIRECTUV == 0\nif (vMicroSurfaceSamplerInfos.x == 0.)\n{\nvMicroSurfaceSamplerUV=vec2(microSurfaceSamplerMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvMicroSurfaceSamplerUV=vec2(microSurfaceSamplerMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(METALLIC_REFLECTANCE) && METALLIC_REFLECTANCEDIRECTUV == 0\nif (vMetallicReflectanceInfos.x == 0.)\n{\nvMetallicReflectanceUV=vec2(metallicReflectanceMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvMetallicReflectanceUV=vec2(metallicReflectanceMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(BUMP) && BUMPDIRECTUV == 0\nif (vBumpInfos.x == 0.)\n{\nvBumpUV=vec2(bumpMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvBumpUV=vec2(bumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#ifdef CLEARCOAT\n#if defined(CLEARCOAT_TEXTURE) && CLEARCOAT_TEXTUREDIRECTUV == 0\nif (vClearCoatInfos.x == 0.)\n{\nvClearCoatUV=vec2(clearCoatMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvClearCoatUV=vec2(clearCoatMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(CLEARCOAT_TEXTURE_ROUGHNESS) && CLEARCOAT_TEXTURE_ROUGHNESSDIRECTUV == 0\nif (vClearCoatInfos.z == 0.)\n{\nvClearCoatRoughnessUV=vec2(clearCoatRoughnessMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvClearCoatRoughnessUV=vec2(clearCoatRoughnessMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(CLEARCOAT_BUMP) && CLEARCOAT_BUMPDIRECTUV == 0\nif (vClearCoatBumpInfos.x == 0.)\n{\nvClearCoatBumpUV=vec2(clearCoatBumpMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvClearCoatBumpUV=vec2(clearCoatBumpMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(CLEARCOAT_TINT_TEXTURE) && CLEARCOAT_TINT_TEXTUREDIRECTUV == 0\nif (vClearCoatTintInfos.x == 0.)\n{\nvClearCoatTintUV=vec2(clearCoatTintMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvClearCoatTintUV=vec2(clearCoatTintMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef SHEEN\n#if defined(SHEEN_TEXTURE) && SHEEN_TEXTUREDIRECTUV == 0\nif (vSheenInfos.x == 0.)\n{\nvSheenUV=vec2(sheenMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvSheenUV=vec2(sheenMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#if defined(SHEEN_TEXTURE_ROUGHNESS) && SHEEN_TEXTURE_ROUGHNESSDIRECTUV == 0\nif (vSheenInfos.z == 0.)\n{\nvSheenRoughnessUV=vec2(sheenRoughnessMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvSheenRoughnessUV=vec2(sheenRoughnessMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef ANISOTROPIC\n#if defined(ANISOTROPIC_TEXTURE) && ANISOTROPIC_TEXTUREDIRECTUV == 0\nif (vAnisotropyInfos.x == 0.)\n{\nvAnisotropyUV=vec2(anisotropyMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvAnisotropyUV=vec2(anisotropyMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n#ifdef SUBSURFACE\n#if defined(SS_THICKNESSANDMASK_TEXTURE) && SS_THICKNESSANDMASK_TEXTUREDIRECTUV == 0\nif (vThicknessInfos.x == 0.)\n{\nvThicknessUV=vec2(thicknessMatrix*vec4(uvUpdated,1.0,0.0));\n}\nelse\n{\nvThicknessUV=vec2(thicknessMatrix*vec4(uv2,1.0,0.0));\n}\n#endif\n#endif\n\n#include<bumpVertex>\n\n#include<clipPlaneVertex>\n\n#include<fogVertex>\n\n#include<shadowsVertex>[0..maxSimultaneousLights]\n\n#ifdef VERTEXCOLOR\nvColor=color;\n#endif\n\n#ifdef POINTSIZE\ngl_PointSize=pointSize;\n#endif\n\n#include<logDepthVertex>\n#define CUSTOM_VERTEX_MAIN_END\n}";O.a.ShadersStore[Ke]=Ze;var Je=i(815),qe=i(976),$e={effect:null,subMesh:null},et=function(e){function t(){var t=e.call(this)||this;return t.PBR=!0,t.NUM_SAMPLES="0",t.REALTIME_FILTERING=!1,t.MAINUV1=!1,t.MAINUV2=!1,t.UV1=!1,t.UV2=!1,t.ALBEDO=!1,t.GAMMAALBEDO=!1,t.ALBEDODIRECTUV=0,t.VERTEXCOLOR=!1,t.DETAIL=!1,t.DETAILDIRECTUV=0,t.DETAIL_NORMALBLENDMETHOD=0,t.AMBIENT=!1,t.AMBIENTDIRECTUV=0,t.AMBIENTINGRAYSCALE=!1,t.OPACITY=!1,t.VERTEXALPHA=!1,t.OPACITYDIRECTUV=0,t.OPACITYRGB=!1,t.ALPHATEST=!1,t.DEPTHPREPASS=!1,t.ALPHABLEND=!1,t.ALPHAFROMALBEDO=!1,t.ALPHATESTVALUE="0.5",t.SPECULAROVERALPHA=!1,t.RADIANCEOVERALPHA=!1,t.ALPHAFRESNEL=!1,t.LINEARALPHAFRESNEL=!1,t.PREMULTIPLYALPHA=!1,t.EMISSIVE=!1,t.EMISSIVEDIRECTUV=0,t.REFLECTIVITY=!1,t.REFLECTIVITYDIRECTUV=0,t.SPECULARTERM=!1,t.MICROSURFACEFROMREFLECTIVITYMAP=!1,t.MICROSURFACEAUTOMATIC=!1,t.LODBASEDMICROSFURACE=!1,t.MICROSURFACEMAP=!1,t.MICROSURFACEMAPDIRECTUV=0,t.METALLICWORKFLOW=!1,t.ROUGHNESSSTOREINMETALMAPALPHA=!1,t.ROUGHNESSSTOREINMETALMAPGREEN=!1,t.METALLNESSSTOREINMETALMAPBLUE=!1,t.AOSTOREINMETALMAPRED=!1,t.METALLIC_REFLECTANCE=!1,t.METALLIC_REFLECTANCEDIRECTUV=0,t.ENVIRONMENTBRDF=!1,t.ENVIRONMENTBRDF_RGBD=!1,t.NORMAL=!1,t.TANGENT=!1,t.BUMP=!1,t.BUMPDIRECTUV=0,t.OBJECTSPACE_NORMALMAP=!1,t.PARALLAX=!1,t.PARALLAXOCCLUSION=!1,t.NORMALXYSCALE=!0,t.LIGHTMAP=!1,t.LIGHTMAPDIRECTUV=0,t.USELIGHTMAPASSHADOWMAP=!1,t.GAMMALIGHTMAP=!1,t.RGBDLIGHTMAP=!1,t.REFLECTION=!1,t.REFLECTIONMAP_3D=!1,t.REFLECTIONMAP_SPHERICAL=!1,t.REFLECTIONMAP_PLANAR=!1,t.REFLECTIONMAP_CUBIC=!1,t.USE_LOCAL_REFLECTIONMAP_CUBIC=!1,t.REFLECTIONMAP_PROJECTION=!1,t.REFLECTIONMAP_SKYBOX=!1,t.REFLECTIONMAP_EXPLICIT=!1,t.REFLECTIONMAP_EQUIRECTANGULAR=!1,t.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!1,t.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!1,t.INVERTCUBICMAP=!1,t.USESPHERICALFROMREFLECTIONMAP=!1,t.USEIRRADIANCEMAP=!1,t.SPHERICAL_HARMONICS=!1,t.USESPHERICALINVERTEX=!1,t.REFLECTIONMAP_OPPOSITEZ=!1,t.LODINREFLECTIONALPHA=!1,t.GAMMAREFLECTION=!1,t.RGBDREFLECTION=!1,t.LINEARSPECULARREFLECTION=!1,t.RADIANCEOCCLUSION=!1,t.HORIZONOCCLUSION=!1,t.INSTANCES=!1,t.THIN_INSTANCES=!1,t.PREPASS=!1,t.PREPASS_IRRADIANCE=!1,t.PREPASS_IRRADIANCE_INDEX=-1,t.PREPASS_ALBEDO=!1,t.PREPASS_ALBEDO_INDEX=-1,t.PREPASS_DEPTHNORMAL=!1,t.PREPASS_DEPTHNORMAL_INDEX=-1,t.PREPASS_POSITION=!1,t.PREPASS_POSITION_INDEX=-1,t.PREPASS_VELOCITY=!1,t.PREPASS_VELOCITY_INDEX=-1,t.PREPASS_REFLECTIVITY=!1,t.PREPASS_REFLECTIVITY_INDEX=-1,t.SCENE_MRT_COUNT=0,t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0,t.BONETEXTURE=!1,t.BONES_VELOCITY_ENABLED=!1,t.NONUNIFORMSCALING=!1,t.MORPHTARGETS=!1,t.MORPHTARGETS_NORMAL=!1,t.MORPHTARGETS_TANGENT=!1,t.MORPHTARGETS_UV=!1,t.NUM_MORPH_INFLUENCERS=0,t.IMAGEPROCESSING=!1,t.VIGNETTE=!1,t.VIGNETTEBLENDMODEMULTIPLY=!1,t.VIGNETTEBLENDMODEOPAQUE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=!1,t.SAMPLER3DBGRMAP=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.EXPOSURE=!1,t.MULTIVIEW=!1,t.USEPHYSICALLIGHTFALLOFF=!1,t.USEGLTFLIGHTFALLOFF=!1,t.TWOSIDEDLIGHTING=!1,t.SHADOWFLOAT=!1,t.CLIPPLANE=!1,t.CLIPPLANE2=!1,t.CLIPPLANE3=!1,t.CLIPPLANE4=!1,t.CLIPPLANE5=!1,t.CLIPPLANE6=!1,t.POINTSIZE=!1,t.FOG=!1,t.LOGARITHMICDEPTH=!1,t.FORCENORMALFORWARD=!1,t.SPECULARAA=!1,t.CLEARCOAT=!1,t.CLEARCOAT_DEFAULTIOR=!1,t.CLEARCOAT_TEXTURE=!1,t.CLEARCOAT_TEXTURE_ROUGHNESS=!1,t.CLEARCOAT_TEXTUREDIRECTUV=0,t.CLEARCOAT_TEXTURE_ROUGHNESSDIRECTUV=0,t.CLEARCOAT_USE_ROUGHNESS_FROM_MAINTEXTURE=!1,t.CLEARCOAT_TEXTURE_ROUGHNESS_IDENTICAL=!1,t.CLEARCOAT_BUMP=!1,t.CLEARCOAT_BUMPDIRECTUV=0,t.CLEARCOAT_REMAP_F0=!0,t.CLEARCOAT_TINT=!1,t.CLEARCOAT_TINT_TEXTURE=!1,t.CLEARCOAT_TINT_TEXTUREDIRECTUV=0,t.ANISOTROPIC=!1,t.ANISOTROPIC_TEXTURE=!1,t.ANISOTROPIC_TEXTUREDIRECTUV=0,t.BRDF_V_HEIGHT_CORRELATED=!1,t.MS_BRDF_ENERGY_CONSERVATION=!1,t.SPECULAR_GLOSSINESS_ENERGY_CONSERVATION=!1,t.SHEEN=!1,t.SHEEN_TEXTURE=!1,t.SHEEN_TEXTURE_ROUGHNESS=!1,t.SHEEN_TEXTUREDIRECTUV=0,t.SHEEN_TEXTURE_ROUGHNESSDIRECTUV=0,t.SHEEN_LINKWITHALBEDO=!1,t.SHEEN_ROUGHNESS=!1,t.SHEEN_ALBEDOSCALING=!1,t.SHEEN_USE_ROUGHNESS_FROM_MAINTEXTURE=!1,t.SHEEN_TEXTURE_ROUGHNESS_IDENTICAL=!1,t.SUBSURFACE=!1,t.SS_REFRACTION=!1,t.SS_TRANSLUCENCY=!1,t.SS_SCATTERING=!1,t.SS_THICKNESSANDMASK_TEXTURE=!1,t.SS_THICKNESSANDMASK_TEXTUREDIRECTUV=0,t.SS_REFRACTIONMAP_3D=!1,t.SS_REFRACTIONMAP_OPPOSITEZ=!1,t.SS_LODINREFRACTIONALPHA=!1,t.SS_GAMMAREFRACTION=!1,t.SS_RGBDREFRACTION=!1,t.SS_LINEARSPECULARREFRACTION=!1,t.SS_LINKREFRACTIONTOTRANSPARENCY=!1,t.SS_ALBEDOFORREFRACTIONTINT=!1,t.SS_MASK_FROM_THICKNESS_TEXTURE=!1,t.SS_MASK_FROM_THICKNESS_TEXTURE_GLTF=!1,t.UNLIT=!1,t.DEBUGMODE=0,t.rebuild(),t}return Object(n.c)(t,e),t.prototype.reset=function(){e.prototype.reset.call(this),this.ALPHATESTVALUE="0.5",this.PBR=!0},t}(R.a),tt=function(e){function t(i,n){var r=e.call(this,i,n)||this;return r._directIntensity=1,r._emissiveIntensity=1,r._environmentIntensity=1,r._specularIntensity=1,r._lightingInfos=new d.f(r._directIntensity,r._emissiveIntensity,r._environmentIntensity,r._specularIntensity),r._disableBumpMap=!1,r._albedoTexture=null,r._ambientTexture=null,r._ambientTextureStrength=1,r._ambientTextureImpactOnAnalyticalLights=t.DEFAULT_AO_ON_ANALYTICAL_LIGHTS,r._opacityTexture=null,r._reflectionTexture=null,r._emissiveTexture=null,r._reflectivityTexture=null,r._metallicTexture=null,r._metallic=null,r._roughness=null,r._metallicF0Factor=1,r._metallicReflectanceColor=l.a.White(),r._metallicReflectanceTexture=null,r._microSurfaceTexture=null,r._bumpTexture=null,r._lightmapTexture=null,r._ambientColor=new l.a(0,0,0),r._albedoColor=new l.a(1,1,1),r._reflectivityColor=new l.a(1,1,1),r._reflectionColor=new l.a(1,1,1),r._emissiveColor=new l.a(0,0,0),r._microSurface=.9,r._useLightmapAsShadowmap=!1,r._useHorizonOcclusion=!0,r._useRadianceOcclusion=!0,r._useAlphaFromAlbedoTexture=!1,r._useSpecularOverAlpha=!0,r._useMicroSurfaceFromReflectivityMapAlpha=!1,r._useRoughnessFromMetallicTextureAlpha=!0,r._useRoughnessFromMetallicTextureGreen=!1,r._useMetallnessFromMetallicTextureBlue=!1,r._useAmbientOcclusionFromMetallicTextureRed=!1,r._useAmbientInGrayScale=!1,r._useAutoMicroSurfaceFromReflectivityMap=!1,r._lightFalloff=t.LIGHTFALLOFF_PHYSICAL,r._useRadianceOverAlpha=!0,r._useObjectSpaceNormalMap=!1,r._useParallax=!1,r._useParallaxOcclusion=!1,r._parallaxScaleBias=.05,r._disableLighting=!1,r._maxSimultaneousLights=4,r._invertNormalMapX=!1,r._invertNormalMapY=!1,r._twoSidedLighting=!1,r._alphaCutOff=.4,r._forceAlphaTest=!1,r._useAlphaFresnel=!1,r._useLinearAlphaFresnel=!1,r._environmentBRDFTexture=null,r._forceIrradianceInFragment=!1,r._realTimeFiltering=!1,r._realTimeFilteringQuality=8,r._forceNormalForward=!1,r._enableSpecularAntiAliasing=!1,r._imageProcessingObserver=null,r._renderTargets=new u.a(16),r._globalAmbientColor=new l.a(0,0,0),r._useLogarithmicDepth=!1,r._unlit=!1,r._debugMode=0,r.debugMode=0,r.debugLimit=-1,r.debugFactor=1,r.clearCoat=new m(r._markAllSubMeshesAsTexturesDirty.bind(r)),r.anisotropy=new A(r._markAllSubMeshesAsTexturesDirty.bind(r)),r.brdf=new g(r._markAllSubMeshesAsMiscDirty.bind(r)),r.sheen=new y(r._markAllSubMeshesAsTexturesDirty.bind(r)),r.detailMap=new qe.a(r._markAllSubMeshesAsTexturesDirty.bind(r)),r._rebuildInParallel=!1,r._attachImageProcessingConfiguration(null),r.getRenderTargetTextures=function(){return r._renderTargets.reset(),p.a.ReflectionTextureEnabled&&r._reflectionTexture&&r._reflectionTexture.isRenderTarget&&r._renderTargets.push(r._reflectionTexture),r.subSurface.fillRenderTargetTextures(r._renderTargets),r._renderTargets},r._environmentBRDFTexture=c.GetEnvironmentBRDFTexture(n),r.subSurface=new C(r._markAllSubMeshesAsTexturesDirty.bind(r),r._markScenePrePassDirty.bind(r),n),r.prePassConfiguration=new E.a,r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"realTimeFiltering",{get:function(){return this._realTimeFiltering},set:function(e){this._realTimeFiltering=e,this.markAsDirty(1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"realTimeFilteringQuality",{get:function(){return this._realTimeFilteringQuality},set:function(e){this._realTimeFilteringQuality=e,this.markAsDirty(1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"canRenderToMRT",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype._attachImageProcessingConfiguration=function(e){var t=this;e!==this._imageProcessingConfiguration&&(this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),this._imageProcessingConfiguration=e||this.getScene().imageProcessingConfiguration,this._imageProcessingConfiguration&&(this._imageProcessingObserver=this._imageProcessingConfiguration.onUpdateParameters.add(function(){t._markAllSubMeshesAsImageProcessingDirty()})))},Object.defineProperty(t.prototype,"hasRenderTargetTextures",{get:function(){return!!(p.a.ReflectionTextureEnabled&&this._reflectionTexture&&this._reflectionTexture.isRenderTarget)||this.subSurface.hasRenderTargetTextures()},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"PBRBaseMaterial"},Object.defineProperty(t.prototype,"useLogarithmicDepth",{get:function(){return this._useLogarithmicDepth},set:function(e){this._useLogarithmicDepth=e&&this.getScene().getEngine().getCaps().fragmentDepthSupported},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_disableAlphaBlending",{get:function(){return this.subSurface.disableAlphaBlending||this._transparencyMode===t.PBRMATERIAL_OPAQUE||this._transparencyMode===t.PBRMATERIAL_ALPHATEST},enumerable:!1,configurable:!0}),t.prototype.needAlphaBlending=function(){return!this._disableAlphaBlending&&(this.alpha<1||null!=this._opacityTexture||this._shouldUseAlphaFromAlbedoTexture())},t.prototype.needAlphaTesting=function(){return!!this._forceAlphaTest||!this.subSurface.disableAlphaBlending&&(this._hasAlphaChannel()&&(null==this._transparencyMode||this._transparencyMode===t.PBRMATERIAL_ALPHATEST))},t.prototype._shouldUseAlphaFromAlbedoTexture=function(){return null!=this._albedoTexture&&this._albedoTexture.hasAlpha&&this._useAlphaFromAlbedoTexture&&this._transparencyMode!==t.PBRMATERIAL_OPAQUE},t.prototype._hasAlphaChannel=function(){return null!=this._albedoTexture&&this._albedoTexture.hasAlpha||null!=this._opacityTexture},t.prototype.getAlphaTestTexture=function(){return this._albedoTexture},t.prototype.isReadyForSubMesh=function(e,t,i){if(t.effect&&this.isFrozen&&t.effect._wasPreviouslyReady)return!0;t._materialDefines||(t._materialDefines=new et);var n=t._materialDefines;if(this._isReadyForSubMesh(t))return!0;var r=this.getScene(),o=r.getEngine();if(n._areTexturesDirty&&r.texturesEnabled){if(this._albedoTexture&&p.a.DiffuseTextureEnabled&&!this._albedoTexture.isReadyOrNotBlocking())return!1;if(this._ambientTexture&&p.a.AmbientTextureEnabled&&!this._ambientTexture.isReadyOrNotBlocking())return!1;if(this._opacityTexture&&p.a.OpacityTextureEnabled&&!this._opacityTexture.isReadyOrNotBlocking())return!1;var s=this._getReflectionTexture();if(s&&p.a.ReflectionTextureEnabled){if(!s.isReadyOrNotBlocking())return!1;if(s.irradianceTexture&&!s.irradianceTexture.isReadyOrNotBlocking())return!1}if(this._lightmapTexture&&p.a.LightmapTextureEnabled&&!this._lightmapTexture.isReadyOrNotBlocking())return!1;if(this._emissiveTexture&&p.a.EmissiveTextureEnabled&&!this._emissiveTexture.isReadyOrNotBlocking())return!1;if(p.a.SpecularTextureEnabled){if(this._metallicTexture){if(!this._metallicTexture.isReadyOrNotBlocking())return!1}else if(this._reflectivityTexture&&!this._reflectivityTexture.isReadyOrNotBlocking())return!1;if(this._metallicReflectanceTexture&&!this._metallicReflectanceTexture.isReadyOrNotBlocking())return!1;if(this._microSurfaceTexture&&!this._microSurfaceTexture.isReadyOrNotBlocking())return!1}if(o.getCaps().standardDerivatives&&this._bumpTexture&&p.a.BumpTextureEnabled&&!this._disableBumpMap&&!this._bumpTexture.isReady())return!1;if(this._environmentBRDFTexture&&p.a.ReflectionTextureEnabled&&!this._environmentBRDFTexture.isReady())return!1}if(!this.subSurface.isReadyForSubMesh(n,r)||!this.clearCoat.isReadyForSubMesh(n,r,o,this._disableBumpMap)||!this.sheen.isReadyForSubMesh(n,r)||!this.anisotropy.isReadyForSubMesh(n,r)||!this.detailMap.isReadyForSubMesh(n,r))return!1;if(n._areImageProcessingDirty&&this._imageProcessingConfiguration&&!this._imageProcessingConfiguration.isReady())return!1;o.getCaps().standardDerivatives||e.isVerticesDataPresent(h.b.NormalKind)||(e.createNormals(!0),_.a.Warn("PBRMaterial: Normals have been created for the mesh: "+e.name));var a=t.effect,c=n._areLightsDisposed,l=this._prepareEffect(e,n,this.onCompiled,this.onError,i,null,t.getRenderingMesh().hasThinInstances);if(l)if(this._onEffectCreatedObservable&&($e.effect=l,$e.subMesh=t,this._onEffectCreatedObservable.notifyObservers($e)),this.allowShaderHotSwapping&&a&&!l.isReady()){if(l=a,this._rebuildInParallel=!0,n.markAsUnprocessed(),c)return n._areLightsDisposed=!0,!1}else this._rebuildInParallel=!1,r.resetCachedMaterial(),t.setEffect(l,n),this.buildUniformLayout();return!(!t.effect||!t.effect.isReady())&&(n._renderId=r.getRenderId(),t.effect._wasPreviouslyReady=!0,!0)},t.prototype.isMetallicWorkflow=function(){return!(null==this._metallic&&null==this._roughness&&!this._metallicTexture)},t.prototype._prepareEffect=function(e,t,i,n,r,o,s){if(void 0===i&&(i=null),void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),this._prepareDefines(e,t,r,o,s),!t.isDirty)return null;t.markAsProcessed();var a=this.getScene().getEngine(),c=new Je.a,l=0;t.USESPHERICALINVERTEX&&c.addFallback(l++,"USESPHERICALINVERTEX"),t.FOG&&c.addFallback(l,"FOG"),t.SPECULARAA&&c.addFallback(l,"SPECULARAA"),t.POINTSIZE&&c.addFallback(l,"POINTSIZE"),t.LOGARITHMICDEPTH&&c.addFallback(l,"LOGARITHMICDEPTH"),t.PARALLAX&&c.addFallback(l,"PARALLAX"),t.PARALLAXOCCLUSION&&c.addFallback(l++,"PARALLAXOCCLUSION"),l=A.AddFallbacks(t,c,l),l=A.AddFallbacks(t,c,l),l=C.AddFallbacks(t,c,l),l=y.AddFallbacks(t,c,l),t.ENVIRONMENTBRDF&&c.addFallback(l++,"ENVIRONMENTBRDF"),t.TANGENT&&c.addFallback(l++,"TANGENT"),t.BUMP&&c.addFallback(l++,"BUMP"),l=b.a.HandleFallbacksForShadows(t,c,this._maxSimultaneousLights,l++),t.SPECULARTERM&&c.addFallback(l++,"SPECULARTERM"),t.USESPHERICALFROMREFLECTIONMAP&&c.addFallback(l++,"USESPHERICALFROMREFLECTIONMAP"),t.USEIRRADIANCEMAP&&c.addFallback(l++,"USEIRRADIANCEMAP"),t.LIGHTMAP&&c.addFallback(l++,"LIGHTMAP"),t.NORMAL&&c.addFallback(l++,"NORMAL"),t.AMBIENT&&c.addFallback(l++,"AMBIENT"),t.EMISSIVE&&c.addFallback(l++,"EMISSIVE"),t.VERTEXCOLOR&&c.addFallback(l++,"VERTEXCOLOR"),t.MORPHTARGETS&&c.addFallback(l++,"MORPHTARGETS"),t.MULTIVIEW&&c.addFallback(0,"MULTIVIEW");var _=[h.b.PositionKind];t.NORMAL&&_.push(h.b.NormalKind),t.TANGENT&&_.push(h.b.TangentKind),t.UV1&&_.push(h.b.UVKind),t.UV2&&_.push(h.b.UV2Kind),t.VERTEXCOLOR&&_.push(h.b.ColorKind),b.a.PrepareAttributesForBones(_,e,t,c),b.a.PrepareAttributesForInstances(_,t),b.a.PrepareAttributesForMorphTargets(_,e,t);var u="pbr",f=["world","view","viewProjection","vEyePosition","vLightsType","vAmbientColor","vAlbedoColor","vReflectivityColor","vMetallicReflectanceFactors","vEmissiveColor","visibility","vReflectionColor","vFogInfos","vFogColor","pointSize","vAlbedoInfos","vAmbientInfos","vOpacityInfos","vReflectionInfos","vReflectionPosition","vReflectionSize","vEmissiveInfos","vReflectivityInfos","vReflectionFilteringInfo","vMetallicReflectanceInfos","vMicroSurfaceSamplerInfos","vBumpInfos","vLightmapInfos","mBones","vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","albedoMatrix","ambientMatrix","opacityMatrix","reflectionMatrix","emissiveMatrix","reflectivityMatrix","normalMatrix","microSurfaceSamplerMatrix","bumpMatrix","lightmapMatrix","metallicReflectanceMatrix","vLightingIntensity","logarithmicDepthConstant","vSphericalX","vSphericalY","vSphericalZ","vSphericalXX_ZZ","vSphericalYY_ZZ","vSphericalZZ","vSphericalXY","vSphericalYZ","vSphericalZX","vSphericalL00","vSphericalL1_1","vSphericalL10","vSphericalL11","vSphericalL2_2","vSphericalL2_1","vSphericalL20","vSphericalL21","vSphericalL22","vReflectionMicrosurfaceInfos","vTangentSpaceParams","boneTextureWidth","vDebugMode"],d=["albedoSampler","reflectivitySampler","ambientSampler","emissiveSampler","bumpSampler","lightmapSampler","opacitySampler","reflectionSampler","reflectionSamplerLow","reflectionSamplerHigh","irradianceSampler","microSurfaceSampler","environmentBrdfSampler","boneSampler","metallicReflectanceSampler"],p=["Material","Scene"];qe.a.AddUniforms(f),qe.a.AddSamplers(d),C.AddUniforms(f),C.AddSamplers(d),m.AddUniforms(f),m.AddSamplers(d),A.AddUniforms(f),A.AddSamplers(d),y.AddUniforms(f),y.AddSamplers(d),E.a.AddUniforms(f),E.a.AddSamplers(f),S.a&&(S.a.PrepareUniforms(f,t),S.a.PrepareSamplers(d,t)),b.a.PrepareUniformsAndSamplersList({uniformsNames:f,uniformBuffersNames:p,samplers:d,defines:t,maxSimultaneousLights:this._maxSimultaneousLights});var g={};this.customShaderNameResolve&&(u=this.customShaderNameResolve(u,f,p,d,t,_,g));var v=t.toString();return a.createEffect(u,{attributes:_,uniformsNames:f,uniformBuffersNames:p,samplers:d,defines:v,fallbacks:c,onCompiled:i,onError:n,indexParameters:{maxSimultaneousLights:this._maxSimultaneousLights,maxSimultaneousMorphTargets:t.NUM_MORPH_INFLUENCERS},processFinalCode:g.processFinalCode,multiTarget:t.PREPASS},a)},t.prototype._prepareDefines=function(e,i,n,r,s){void 0===n&&(n=null),void 0===r&&(r=null),void 0===s&&(s=!1);var a=this.getScene(),c=a.getEngine();if(b.a.PrepareDefinesForLights(a,e,i,!0,this._maxSimultaneousLights,this._disableLighting),i._needNormals=!0,b.a.PrepareDefinesForMultiview(a,i),b.a.PrepareDefinesForPrePass(a,i,this.canRenderToMRT),i.METALLICWORKFLOW=this.isMetallicWorkflow(),i._areTexturesDirty){if(i._needUVs=!1,a.texturesEnabled){a.getEngine().getCaps().textureLOD&&(i.LODBASEDMICROSFURACE=!0),this._albedoTexture&&p.a.DiffuseTextureEnabled?(b.a.PrepareDefinesForMergedUV(this._albedoTexture,i,"ALBEDO"),i.GAMMAALBEDO=this._albedoTexture.gammaSpace):i.ALBEDO=!1,this._ambientTexture&&p.a.AmbientTextureEnabled?(b.a.PrepareDefinesForMergedUV(this._ambientTexture,i,"AMBIENT"),i.AMBIENTINGRAYSCALE=this._useAmbientInGrayScale):i.AMBIENT=!1,this._opacityTexture&&p.a.OpacityTextureEnabled?(b.a.PrepareDefinesForMergedUV(this._opacityTexture,i,"OPACITY"),i.OPACITYRGB=this._opacityTexture.getAlphaFromRGB):i.OPACITY=!1;var l=this._getReflectionTexture();if(l&&p.a.ReflectionTextureEnabled){switch(i.REFLECTION=!0,i.GAMMAREFLECTION=l.gammaSpace,i.RGBDREFLECTION=l.isRGBD,i.REFLECTIONMAP_OPPOSITEZ=this.getScene().useRightHandedSystem?!l.invertZ:l.invertZ,i.LODINREFLECTIONALPHA=l.lodLevelInAlpha,i.LINEARSPECULARREFLECTION=l.linearSpecularLOD,this.realTimeFiltering&&this.realTimeFilteringQuality>0?(i.NUM_SAMPLES=""+this.realTimeFilteringQuality,c.webGLVersion>1&&(i.NUM_SAMPLES=i.NUM_SAMPLES+"u"),i.REALTIME_FILTERING=!0):i.REALTIME_FILTERING=!1,l.coordinatesMode===o.a.INVCUBIC_MODE&&(i.INVERTCUBICMAP=!0),i.REFLECTIONMAP_3D=l.isCube,i.REFLECTIONMAP_CUBIC=!1,i.REFLECTIONMAP_EXPLICIT=!1,i.REFLECTIONMAP_PLANAR=!1,i.REFLECTIONMAP_PROJECTION=!1,i.REFLECTIONMAP_SKYBOX=!1,i.REFLECTIONMAP_SPHERICAL=!1,i.REFLECTIONMAP_EQUIRECTANGULAR=!1,i.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!1,i.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!1,l.coordinatesMode){case o.a.EXPLICIT_MODE:i.REFLECTIONMAP_EXPLICIT=!0;break;case o.a.PLANAR_MODE:i.REFLECTIONMAP_PLANAR=!0;break;case o.a.PROJECTION_MODE:i.REFLECTIONMAP_PROJECTION=!0;break;case o.a.SKYBOX_MODE:i.REFLECTIONMAP_SKYBOX=!0;break;case o.a.SPHERICAL_MODE:i.REFLECTIONMAP_SPHERICAL=!0;break;case o.a.EQUIRECTANGULAR_MODE:i.REFLECTIONMAP_EQUIRECTANGULAR=!0;break;case o.a.FIXED_EQUIRECTANGULAR_MODE:i.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!0;break;case o.a.FIXED_EQUIRECTANGULAR_MIRRORED_MODE:i.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!0;break;case o.a.CUBIC_MODE:case o.a.INVCUBIC_MODE:default:i.REFLECTIONMAP_CUBIC=!0,i.USE_LOCAL_REFLECTIONMAP_CUBIC=!!l.boundingBoxSize}l.coordinatesMode!==o.a.SKYBOX_MODE&&(l.irradianceTexture?(i.USEIRRADIANCEMAP=!0,i.USESPHERICALFROMREFLECTIONMAP=!1):l.isCube&&(i.USESPHERICALFROMREFLECTIONMAP=!0,i.USEIRRADIANCEMAP=!1,this._forceIrradianceInFragment||this.realTimeFiltering||a.getEngine().getCaps().maxVaryingVectors<=8?i.USESPHERICALINVERTEX=!1:i.USESPHERICALINVERTEX=!0))}else i.REFLECTION=!1,i.REFLECTIONMAP_3D=!1,i.REFLECTIONMAP_SPHERICAL=!1,i.REFLECTIONMAP_PLANAR=!1,i.REFLECTIONMAP_CUBIC=!1,i.USE_LOCAL_REFLECTIONMAP_CUBIC=!1,i.REFLECTIONMAP_PROJECTION=!1,i.REFLECTIONMAP_SKYBOX=!1,i.REFLECTIONMAP_EXPLICIT=!1,i.REFLECTIONMAP_EQUIRECTANGULAR=!1,i.REFLECTIONMAP_EQUIRECTANGULAR_FIXED=!1,i.REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED=!1,i.INVERTCUBICMAP=!1,i.USESPHERICALFROMREFLECTIONMAP=!1,i.USEIRRADIANCEMAP=!1,i.USESPHERICALINVERTEX=!1,i.REFLECTIONMAP_OPPOSITEZ=!1,i.LODINREFLECTIONALPHA=!1,i.GAMMAREFLECTION=!1,i.RGBDREFLECTION=!1,i.LINEARSPECULARREFLECTION=!1;this._lightmapTexture&&p.a.LightmapTextureEnabled?(b.a.PrepareDefinesForMergedUV(this._lightmapTexture,i,"LIGHTMAP"),i.USELIGHTMAPASSHADOWMAP=this._useLightmapAsShadowmap,i.GAMMALIGHTMAP=this._lightmapTexture.gammaSpace,i.RGBDLIGHTMAP=this._lightmapTexture.isRGBD):i.LIGHTMAP=!1,this._emissiveTexture&&p.a.EmissiveTextureEnabled?b.a.PrepareDefinesForMergedUV(this._emissiveTexture,i,"EMISSIVE"):i.EMISSIVE=!1,p.a.SpecularTextureEnabled?(this._metallicTexture?(b.a.PrepareDefinesForMergedUV(this._metallicTexture,i,"REFLECTIVITY"),i.ROUGHNESSSTOREINMETALMAPALPHA=this._useRoughnessFromMetallicTextureAlpha,i.ROUGHNESSSTOREINMETALMAPGREEN=!this._useRoughnessFromMetallicTextureAlpha&&this._useRoughnessFromMetallicTextureGreen,i.METALLNESSSTOREINMETALMAPBLUE=this._useMetallnessFromMetallicTextureBlue,i.AOSTOREINMETALMAPRED=this._useAmbientOcclusionFromMetallicTextureRed):this._reflectivityTexture?(b.a.PrepareDefinesForMergedUV(this._reflectivityTexture,i,"REFLECTIVITY"),i.MICROSURFACEFROMREFLECTIVITYMAP=this._useMicroSurfaceFromReflectivityMapAlpha,i.MICROSURFACEAUTOMATIC=this._useAutoMicroSurfaceFromReflectivityMap):i.REFLECTIVITY=!1,this._metallicReflectanceTexture?b.a.PrepareDefinesForMergedUV(this._metallicReflectanceTexture,i,"METALLIC_REFLECTANCE"):i.METALLIC_REFLECTANCE=!1,this._microSurfaceTexture?b.a.PrepareDefinesForMergedUV(this._microSurfaceTexture,i,"MICROSURFACEMAP"):i.MICROSURFACEMAP=!1):(i.REFLECTIVITY=!1,i.MICROSURFACEMAP=!1),a.getEngine().getCaps().standardDerivatives&&this._bumpTexture&&p.a.BumpTextureEnabled&&!this._disableBumpMap?(b.a.PrepareDefinesForMergedUV(this._bumpTexture,i,"BUMP"),this._useParallax&&this._albedoTexture&&p.a.DiffuseTextureEnabled?(i.PARALLAX=!0,i.PARALLAXOCCLUSION=!!this._useParallaxOcclusion):i.PARALLAX=!1,i.OBJECTSPACE_NORMALMAP=this._useObjectSpaceNormalMap):i.BUMP=!1,this._environmentBRDFTexture&&p.a.ReflectionTextureEnabled?(i.ENVIRONMENTBRDF=!0,i.ENVIRONMENTBRDF_RGBD=this._environmentBRDFTexture.isRGBD):(i.ENVIRONMENTBRDF=!1,i.ENVIRONMENTBRDF_RGBD=!1),this._shouldUseAlphaFromAlbedoTexture()?i.ALPHAFROMALBEDO=!0:i.ALPHAFROMALBEDO=!1}i.SPECULAROVERALPHA=this._useSpecularOverAlpha,this._lightFalloff===t.LIGHTFALLOFF_STANDARD?(i.USEPHYSICALLIGHTFALLOFF=!1,i.USEGLTFLIGHTFALLOFF=!1):this._lightFalloff===t.LIGHTFALLOFF_GLTF?(i.USEPHYSICALLIGHTFALLOFF=!1,i.USEGLTFLIGHTFALLOFF=!0):(i.USEPHYSICALLIGHTFALLOFF=!0,i.USEGLTFLIGHTFALLOFF=!1),i.RADIANCEOVERALPHA=this._useRadianceOverAlpha,!this.backFaceCulling&&this._twoSidedLighting?i.TWOSIDEDLIGHTING=!0:i.TWOSIDEDLIGHTING=!1,i.SPECULARAA=a.getEngine().getCaps().standardDerivatives&&this._enableSpecularAntiAliasing}(i._areTexturesDirty||i._areMiscDirty)&&(i.ALPHATESTVALUE=this._alphaCutOff+(this._alphaCutOff%1===0?".":""),i.PREMULTIPLYALPHA=7===this.alphaMode||8===this.alphaMode,i.ALPHABLEND=this.needAlphaBlendingForMesh(e),i.ALPHAFRESNEL=this._useAlphaFresnel||this._useLinearAlphaFresnel,i.LINEARALPHAFRESNEL=this._useLinearAlphaFresnel),i._areImageProcessingDirty&&this._imageProcessingConfiguration&&this._imageProcessingConfiguration.prepareDefines(i),i.FORCENORMALFORWARD=this._forceNormalForward,i.RADIANCEOCCLUSION=this._useRadianceOcclusion,i.HORIZONOCCLUSION=this._useHorizonOcclusion,i._areMiscDirty&&(b.a.PrepareDefinesForMisc(e,a,this._useLogarithmicDepth,this.pointsCloud,this.fogEnabled,this._shouldTurnAlphaTestOn(e)||this._forceAlphaTest,i),i.UNLIT=this._unlit||(this.pointsCloud||this.wireframe)&&!e.isVerticesDataPresent(h.b.NormalKind),i.DEBUGMODE=this._debugMode),this.detailMap.prepareDefines(i,a),this.subSurface.prepareDefines(i,a),this.clearCoat.prepareDefines(i,a),this.anisotropy.prepareDefines(i,e,a),this.brdf.prepareDefines(i),this.sheen.prepareDefines(i,a),b.a.PrepareDefinesForFrameBoundValues(a,c,i,!!n,r,s),b.a.PrepareDefinesForAttributes(e,i,!0,!0,!0,this._transparencyMode!==t.PBRMATERIAL_OPAQUE)},t.prototype.forceCompilation=function(e,t,i){var r=this,o=Object(n.a)({clipPlane:!1,useInstances:!1},i),s=new et,a=this._prepareEffect(e,s,void 0,void 0,o.useInstances,o.clipPlane,e.hasThinInstances);this._onEffectCreatedObservable&&($e.effect=a,$e.subMesh=null,this._onEffectCreatedObservable.notifyObservers($e)),a.isReady()?t&&t(this):a.onCompileObservable.add(function(){t&&t(r)})},t.prototype.buildUniformLayout=function(){var e=this._uniformBuffer;e.addUniform("vAlbedoInfos",2),e.addUniform("vAmbientInfos",4),e.addUniform("vOpacityInfos",2),e.addUniform("vEmissiveInfos",2),e.addUniform("vLightmapInfos",2),e.addUniform("vReflectivityInfos",3),e.addUniform("vMicroSurfaceSamplerInfos",2),e.addUniform("vReflectionInfos",2),e.addUniform("vReflectionFilteringInfo",2),e.addUniform("vReflectionPosition",3),e.addUniform("vReflectionSize",3),e.addUniform("vBumpInfos",3),e.addUniform("albedoMatrix",16),e.addUniform("ambientMatrix",16),e.addUniform("opacityMatrix",16),e.addUniform("emissiveMatrix",16),e.addUniform("lightmapMatrix",16),e.addUniform("reflectivityMatrix",16),e.addUniform("microSurfaceSamplerMatrix",16),e.addUniform("bumpMatrix",16),e.addUniform("vTangentSpaceParams",2),e.addUniform("reflectionMatrix",16),e.addUniform("vReflectionColor",3),e.addUniform("vAlbedoColor",4),e.addUniform("vLightingIntensity",4),e.addUniform("vReflectionMicrosurfaceInfos",3),e.addUniform("pointSize",1),e.addUniform("vReflectivityColor",4),e.addUniform("vEmissiveColor",3),e.addUniform("visibility",1),e.addUniform("vMetallicReflectanceFactors",4),e.addUniform("vMetallicReflectanceInfos",2),e.addUniform("metallicReflectanceMatrix",16),m.PrepareUniformBuffer(e),A.PrepareUniformBuffer(e),y.PrepareUniformBuffer(e),C.PrepareUniformBuffer(e),qe.a.PrepareUniformBuffer(e),e.create()},t.prototype.unbind=function(){if(this._activeEffect){var t=!1;this._reflectionTexture&&this._reflectionTexture.isRenderTarget&&(this._activeEffect.setTexture("reflection2DSampler",null),t=!0),this.subSurface.unbind(this._activeEffect)&&(t=!0),t&&this._markAllSubMeshesAsTexturesDirty()}e.prototype.unbind.call(this)},t.prototype.bindForSubMesh=function(e,t,i){var n=this.getScene(),r=i._materialDefines;if(r){var o=i.effect;if(o){this._activeEffect=o,r.INSTANCES&&!r.THIN_INSTANCES||this.bindOnlyWorldMatrix(e),this.prePassConfiguration.bindForSubMesh(this._activeEffect,n,t,e,this.isFrozen),r.OBJECTSPACE_NORMALMAP&&(e.toNormalMatrix(this._normalMatrix),this.bindOnlyNormalMatrix(this._normalMatrix));var s=this._mustRebind(n,o,t.visibility);b.a.BindBonesParameters(t,this._activeEffect,this.prePassConfiguration);var a=null,c=this._uniformBuffer;if(s){var _=n.getEngine();if(c.bindToEffect(o,"Material"),this.bindViewProjection(o),a=this._getReflectionTexture(),!c.useUbo||!this.isFrozen||!c.isSync){if(n.texturesEnabled){if(this._albedoTexture&&p.a.DiffuseTextureEnabled&&(c.updateFloat2("vAlbedoInfos",this._albedoTexture.coordinatesIndex,this._albedoTexture.level),b.a.BindTextureMatrix(this._albedoTexture,c,"albedo")),this._ambientTexture&&p.a.AmbientTextureEnabled&&(c.updateFloat4("vAmbientInfos",this._ambientTexture.coordinatesIndex,this._ambientTexture.level,this._ambientTextureStrength,this._ambientTextureImpactOnAnalyticalLights),b.a.BindTextureMatrix(this._ambientTexture,c,"ambient")),this._opacityTexture&&p.a.OpacityTextureEnabled&&(c.updateFloat2("vOpacityInfos",this._opacityTexture.coordinatesIndex,this._opacityTexture.level),b.a.BindTextureMatrix(this._opacityTexture,c,"opacity")),a&&p.a.ReflectionTextureEnabled){if(c.updateMatrix("reflectionMatrix",a.getReflectionTextureMatrix()),c.updateFloat2("vReflectionInfos",a.level,0),a.boundingBoxSize){var u=a;c.updateVector3("vReflectionPosition",u.boundingBoxPosition),c.updateVector3("vReflectionSize",u.boundingBoxSize)}if(this.realTimeFiltering){var d=a.getSize().width;c.updateFloat2("vReflectionFilteringInfo",d,v.a.Log2(d))}if(!r.USEIRRADIANCEMAP){var h=a.sphericalPolynomial;if(r.USESPHERICALFROMREFLECTIONMAP&&h)if(r.SPHERICAL_HARMONICS){var m=h.preScaledHarmonics;this._activeEffect.setVector3("vSphericalL00",m.l00),this._activeEffect.setVector3("vSphericalL1_1",m.l1_1),this._activeEffect.setVector3("vSphericalL10",m.l10),this._activeEffect.setVector3("vSphericalL11",m.l11),this._activeEffect.setVector3("vSphericalL2_2",m.l2_2),this._activeEffect.setVector3("vSphericalL2_1",m.l2_1),this._activeEffect.setVector3("vSphericalL20",m.l20),this._activeEffect.setVector3("vSphericalL21",m.l21),this._activeEffect.setVector3("vSphericalL22",m.l22)}else this._activeEffect.setFloat3("vSphericalX",h.x.x,h.x.y,h.x.z),this._activeEffect.setFloat3("vSphericalY",h.y.x,h.y.y,h.y.z),this._activeEffect.setFloat3("vSphericalZ",h.z.x,h.z.y,h.z.z),this._activeEffect.setFloat3("vSphericalXX_ZZ",h.xx.x-h.zz.x,h.xx.y-h.zz.y,h.xx.z-h.zz.z),this._activeEffect.setFloat3("vSphericalYY_ZZ",h.yy.x-h.zz.x,h.yy.y-h.zz.y,h.yy.z-h.zz.z),this._activeEffect.setFloat3("vSphericalZZ",h.zz.x,h.zz.y,h.zz.z),this._activeEffect.setFloat3("vSphericalXY",h.xy.x,h.xy.y,h.xy.z),this._activeEffect.setFloat3("vSphericalYZ",h.yz.x,h.yz.y,h.yz.z),this._activeEffect.setFloat3("vSphericalZX",h.zx.x,h.zx.y,h.zx.z)}c.updateFloat3("vReflectionMicrosurfaceInfos",a.getSize().width,a.lodGenerationScale,a.lodGenerationOffset)}this._emissiveTexture&&p.a.EmissiveTextureEnabled&&(c.updateFloat2("vEmissiveInfos",this._emissiveTexture.coordinatesIndex,this._emissiveTexture.level),b.a.BindTextureMatrix(this._emissiveTexture,c,"emissive")),this._lightmapTexture&&p.a.LightmapTextureEnabled&&(c.updateFloat2("vLightmapInfos",this._lightmapTexture.coordinatesIndex,this._lightmapTexture.level),b.a.BindTextureMatrix(this._lightmapTexture,c,"lightmap")),p.a.SpecularTextureEnabled&&(this._metallicTexture?(c.updateFloat3("vReflectivityInfos",this._metallicTexture.coordinatesIndex,this._metallicTexture.level,this._ambientTextureStrength),b.a.BindTextureMatrix(this._metallicTexture,c,"reflectivity")):this._reflectivityTexture&&(c.updateFloat3("vReflectivityInfos",this._reflectivityTexture.coordinatesIndex,this._reflectivityTexture.level,1),b.a.BindTextureMatrix(this._reflectivityTexture,c,"reflectivity")),this._metallicReflectanceTexture&&(c.updateFloat2("vMetallicReflectanceInfos",this._metallicReflectanceTexture.coordinatesIndex,this._metallicReflectanceTexture.level),b.a.BindTextureMatrix(this._metallicReflectanceTexture,c,"metallicReflectance")),this._microSurfaceTexture&&(c.updateFloat2("vMicroSurfaceSamplerInfos",this._microSurfaceTexture.coordinatesIndex,this._microSurfaceTexture.level),b.a.BindTextureMatrix(this._microSurfaceTexture,c,"microSurfaceSampler"))),this._bumpTexture&&_.getCaps().standardDerivatives&&p.a.BumpTextureEnabled&&!this._disableBumpMap&&(c.updateFloat3("vBumpInfos",this._bumpTexture.coordinatesIndex,this._bumpTexture.level,this._parallaxScaleBias),b.a.BindTextureMatrix(this._bumpTexture,c,"bump"),n._mirroredCameraPosition?c.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?1:-1,this._invertNormalMapY?1:-1):c.updateFloat2("vTangentSpaceParams",this._invertNormalMapX?-1:1,this._invertNormalMapY?-1:1))}if(this.pointsCloud&&c.updateFloat("pointSize",this.pointSize),r.METALLICWORKFLOW){l.c.Color3[0].r=void 0===this._metallic||null===this._metallic?1:this._metallic,l.c.Color3[0].g=void 0===this._roughness||null===this._roughness?1:this._roughness,c.updateColor4("vReflectivityColor",l.c.Color3[0],1);var A=this.subSurface.indexOfRefraction,g=Math.pow((A-1)/(A+1),2);this._metallicReflectanceColor.scaleToRef(g*this._metallicF0Factor,l.c.Color3[0]);var y=this._metallicF0Factor;c.updateColor4("vMetallicReflectanceFactors",l.c.Color3[0],y)}else c.updateColor4("vReflectivityColor",this._reflectivityColor,this._microSurface);c.updateColor3("vEmissiveColor",p.a.EmissiveTextureEnabled?this._emissiveColor:l.a.BlackReadOnly),c.updateColor3("vReflectionColor",this._reflectionColor),!r.SS_REFRACTION&&this.subSurface.linkRefractionWithTransparency?c.updateColor4("vAlbedoColor",this._albedoColor,1):c.updateColor4("vAlbedoColor",this._albedoColor,this.alpha),this._lightingInfos.x=this._directIntensity,this._lightingInfos.y=this._emissiveIntensity,this._lightingInfos.z=this._environmentIntensity*n.environmentIntensity,this._lightingInfos.w=this._specularIntensity,c.updateVector4("vLightingIntensity",this._lightingInfos)}c.updateFloat("visibility",t.visibility),n.texturesEnabled&&(this._albedoTexture&&p.a.DiffuseTextureEnabled&&c.setTexture("albedoSampler",this._albedoTexture),this._ambientTexture&&p.a.AmbientTextureEnabled&&c.setTexture("ambientSampler",this._ambientTexture),this._opacityTexture&&p.a.OpacityTextureEnabled&&c.setTexture("opacitySampler",this._opacityTexture),a&&p.a.ReflectionTextureEnabled&&(r.LODBASEDMICROSFURACE?c.setTexture("reflectionSampler",a):(c.setTexture("reflectionSampler",a._lodTextureMid||a),c.setTexture("reflectionSamplerLow",a._lodTextureLow||a),c.setTexture("reflectionSamplerHigh",a._lodTextureHigh||a)),r.USEIRRADIANCEMAP&&c.setTexture("irradianceSampler",a.irradianceTexture)),r.ENVIRONMENTBRDF&&c.setTexture("environmentBrdfSampler",this._environmentBRDFTexture),this._emissiveTexture&&p.a.EmissiveTextureEnabled&&c.setTexture("emissiveSampler",this._emissiveTexture),this._lightmapTexture&&p.a.LightmapTextureEnabled&&c.setTexture("lightmapSampler",this._lightmapTexture),p.a.SpecularTextureEnabled&&(this._metallicTexture?c.setTexture("reflectivitySampler",this._metallicTexture):this._reflectivityTexture&&c.setTexture("reflectivitySampler",this._reflectivityTexture),this._metallicReflectanceTexture&&c.setTexture("metallicReflectanceSampler",this._metallicReflectanceTexture),this._microSurfaceTexture&&c.setTexture("microSurfaceSampler",this._microSurfaceTexture)),this._bumpTexture&&_.getCaps().standardDerivatives&&p.a.BumpTextureEnabled&&!this._disableBumpMap&&c.setTexture("bumpSampler",this._bumpTexture)),this.detailMap.bindForSubMesh(c,n,this.isFrozen),this.subSurface.bindForSubMesh(c,n,_,this.isFrozen,r.LODBASEDMICROSFURACE,this.realTimeFiltering),this.clearCoat.bindForSubMesh(c,n,_,this._disableBumpMap,this.isFrozen,this._invertNormalMapX,this._invertNormalMapY,i),this.anisotropy.bindForSubMesh(c,n,this.isFrozen),this.sheen.bindForSubMesh(c,n,this.isFrozen,i),b.a.BindClipPlane(this._activeEffect,n),n.ambientColor.multiplyToRef(this._ambientColor,this._globalAmbientColor);var C=n._forcedViewPosition?n._forcedViewPosition:n._mirroredCameraPosition?n._mirroredCameraPosition:n.activeCamera.globalPosition,E=n.useRightHandedSystem===(null!=n._mirroredCameraPosition);o.setFloat4("vEyePosition",C.x,C.y,C.z,E?-1:1),o.setColor3("vAmbientColor",this._globalAmbientColor),o.setFloat2("vDebugMode",this.debugLimit,this.debugFactor)}!s&&this.isFrozen||(n.lightsEnabled&&!this._disableLighting&&b.a.BindLights(n,t,this._activeEffect,r,this._maxSimultaneousLights,this._rebuildInParallel),(n.fogEnabled&&t.applyFog&&n.fogMode!==f.a.FOGMODE_NONE||a)&&this.bindView(o),b.a.BindFogParameters(n,t,this._activeEffect,!0),r.NUM_MORPH_INFLUENCERS&&b.a.BindMorphTargetParameters(t,this._activeEffect),this._imageProcessingConfiguration.bind(this._activeEffect),b.a.BindLogDepth(r,this._activeEffect,n)),c.update(),this._afterBind(t,this._activeEffect)}}},t.prototype.getAnimatables=function(){var e=[];return this._albedoTexture&&this._albedoTexture.animations&&this._albedoTexture.animations.length>0&&e.push(this._albedoTexture),this._ambientTexture&&this._ambientTexture.animations&&this._ambientTexture.animations.length>0&&e.push(this._ambientTexture),this._opacityTexture&&this._opacityTexture.animations&&this._opacityTexture.animations.length>0&&e.push(this._opacityTexture),this._reflectionTexture&&this._reflectionTexture.animations&&this._reflectionTexture.animations.length>0&&e.push(this._reflectionTexture),this._emissiveTexture&&this._emissiveTexture.animations&&this._emissiveTexture.animations.length>0&&e.push(this._emissiveTexture),this._metallicTexture&&this._metallicTexture.animations&&this._metallicTexture.animations.length>0?e.push(this._metallicTexture):this._reflectivityTexture&&this._reflectivityTexture.animations&&this._reflectivityTexture.animations.length>0&&e.push(this._reflectivityTexture),this._bumpTexture&&this._bumpTexture.animations&&this._bumpTexture.animations.length>0&&e.push(this._bumpTexture),this._lightmapTexture&&this._lightmapTexture.animations&&this._lightmapTexture.animations.length>0&&e.push(this._lightmapTexture),this.detailMap.getAnimatables(e),this.subSurface.getAnimatables(e),this.clearCoat.getAnimatables(e),this.sheen.getAnimatables(e),this.anisotropy.getAnimatables(e),e},t.prototype._getReflectionTexture=function(){return this._reflectionTexture?this._reflectionTexture:this.getScene().environmentTexture},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);return this._albedoTexture&&t.push(this._albedoTexture),this._ambientTexture&&t.push(this._ambientTexture),this._opacityTexture&&t.push(this._opacityTexture),this._reflectionTexture&&t.push(this._reflectionTexture),this._emissiveTexture&&t.push(this._emissiveTexture),this._reflectivityTexture&&t.push(this._reflectivityTexture),this._metallicTexture&&t.push(this._metallicTexture),this._metallicReflectanceTexture&&t.push(this._metallicReflectanceTexture),this._microSurfaceTexture&&t.push(this._microSurfaceTexture),this._bumpTexture&&t.push(this._bumpTexture),this._lightmapTexture&&t.push(this._lightmapTexture),this.detailMap.getActiveTextures(t),this.subSurface.getActiveTextures(t),this.clearCoat.getActiveTextures(t),this.sheen.getActiveTextures(t),this.anisotropy.getActiveTextures(t),t},t.prototype.hasTexture=function(t){return!!e.prototype.hasTexture.call(this,t)||(this._albedoTexture===t||(this._ambientTexture===t||(this._opacityTexture===t||(this._reflectionTexture===t||(this._reflectivityTexture===t||(this._metallicTexture===t||(this._metallicReflectanceTexture===t||(this._microSurfaceTexture===t||(this._bumpTexture===t||(this._lightmapTexture===t||(this.detailMap.hasTexture(t)||this.subSurface.hasTexture(t)||this.clearCoat.hasTexture(t)||this.sheen.hasTexture(t)||this.anisotropy.hasTexture(t))))))))))))},t.prototype.setPrePassRenderer=function(e){if(this.subSurface.isScatteringEnabled){var t=this.getScene().enableSubSurfaceForPrePass();return t&&(t.enabled=!0),!0}return!1},t.prototype.dispose=function(t,i){var n,r,o,s,a,c,l,_,u,f,d;i&&(this._environmentBRDFTexture&&this.getScene().environmentBRDFTexture!==this._environmentBRDFTexture&&this._environmentBRDFTexture.dispose(),null===(n=this._albedoTexture)||void 0===n||n.dispose(),null===(r=this._ambientTexture)||void 0===r||r.dispose(),null===(o=this._opacityTexture)||void 0===o||o.dispose(),null===(s=this._reflectionTexture)||void 0===s||s.dispose(),null===(a=this._emissiveTexture)||void 0===a||a.dispose(),null===(c=this._metallicTexture)||void 0===c||c.dispose(),null===(l=this._reflectivityTexture)||void 0===l||l.dispose(),null===(_=this._bumpTexture)||void 0===_||_.dispose(),null===(u=this._lightmapTexture)||void 0===u||u.dispose(),null===(f=this._metallicReflectanceTexture)||void 0===f||f.dispose(),null===(d=this._microSurfaceTexture)||void 0===d||d.dispose()),this.detailMap.dispose(i),this.subSurface.dispose(i),this.clearCoat.dispose(i),this.sheen.dispose(i),this.anisotropy.dispose(i),this._renderTargets.dispose(),this._imageProcessingConfiguration&&this._imageProcessingObserver&&this._imageProcessingConfiguration.onUpdateParameters.remove(this._imageProcessingObserver),e.prototype.dispose.call(this,t,i)},t.PBRMATERIAL_OPAQUE=T.a.MATERIAL_OPAQUE,t.PBRMATERIAL_ALPHATEST=T.a.MATERIAL_ALPHATEST,t.PBRMATERIAL_ALPHABLEND=T.a.MATERIAL_ALPHABLEND,t.PBRMATERIAL_ALPHATESTANDBLEND=T.a.MATERIAL_ALPHATESTANDBLEND,t.DEFAULT_AO_ON_ANALYTICAL_LIGHTS=0,t.LIGHTFALLOFF_PHYSICAL=0,t.LIGHTFALLOFF_GLTF=1,t.LIGHTFALLOFF_STANDARD=2,Object(n.b)([Object(r.h)()],t.prototype,"_imageProcessingConfiguration",void 0),Object(n.b)([Object(r.b)("_markAllSubMeshesAsMiscDirty")],t.prototype,"debugMode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"useLogarithmicDepth",null),t}(M.a),it=i(105),nt=function(e){function t(i,n){var r=e.call(this,i,n)||this;return r.directIntensity=1,r.emissiveIntensity=1,r.environmentIntensity=1,r.specularIntensity=1,r.disableBumpMap=!1,r.ambientTextureStrength=1,r.ambientTextureImpactOnAnalyticalLights=t.DEFAULT_AO_ON_ANALYTICAL_LIGHTS,r.metallicF0Factor=1,r.metallicReflectanceColor=l.a.White(),r.ambientColor=new l.a(0,0,0),r.albedoColor=new l.a(1,1,1),r.reflectivityColor=new l.a(1,1,1),r.reflectionColor=new l.a(1,1,1),r.emissiveColor=new l.a(0,0,0),r.microSurface=1,r.useLightmapAsShadowmap=!1,r.useAlphaFromAlbedoTexture=!1,r.forceAlphaTest=!1,r.alphaCutOff=.4,r.useSpecularOverAlpha=!0,r.useMicroSurfaceFromReflectivityMapAlpha=!1,r.useRoughnessFromMetallicTextureAlpha=!0,r.useRoughnessFromMetallicTextureGreen=!1,r.useMetallnessFromMetallicTextureBlue=!1,r.useAmbientOcclusionFromMetallicTextureRed=!1,r.useAmbientInGrayScale=!1,r.useAutoMicroSurfaceFromReflectivityMap=!1,r.useRadianceOverAlpha=!0,r.useObjectSpaceNormalMap=!1,r.useParallax=!1,r.useParallaxOcclusion=!1,r.parallaxScaleBias=.05,r.disableLighting=!1,r.forceIrradianceInFragment=!1,r.maxSimultaneousLights=4,r.invertNormalMapX=!1,r.invertNormalMapY=!1,r.twoSidedLighting=!1,r.useAlphaFresnel=!1,r.useLinearAlphaFresnel=!1,r.environmentBRDFTexture=null,r.forceNormalForward=!1,r.enableSpecularAntiAliasing=!1,r.useHorizonOcclusion=!0,r.useRadianceOcclusion=!0,r.unlit=!1,r._environmentBRDFTexture=c.GetEnvironmentBRDFTexture(n),r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"refractionTexture",{get:function(){return this.subSurface.refractionTexture},set:function(e){this.subSurface.refractionTexture=e,e?this.subSurface.isRefractionEnabled=!0:this.subSurface.linkRefractionWithTransparency||(this.subSurface.isRefractionEnabled=!1)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"indexOfRefraction",{get:function(){return this.subSurface.indexOfRefraction},set:function(e){this.subSurface.indexOfRefraction=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"invertRefractionY",{get:function(){return this.subSurface.invertRefractionY},set:function(e){this.subSurface.invertRefractionY=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linkRefractionWithTransparency",{get:function(){return this.subSurface.linkRefractionWithTransparency},set:function(e){this.subSurface.linkRefractionWithTransparency=e,e&&(this.subSurface.isRefractionEnabled=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"usePhysicalLightFalloff",{get:function(){return this._lightFalloff===tt.LIGHTFALLOFF_PHYSICAL},set:function(e){e!==this.usePhysicalLightFalloff&&(this._markAllSubMeshesAsTexturesDirty(),this._lightFalloff=e?tt.LIGHTFALLOFF_PHYSICAL:tt.LIGHTFALLOFF_STANDARD)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useGLTFLightFalloff",{get:function(){return this._lightFalloff===tt.LIGHTFALLOFF_GLTF},set:function(e){e!==this.useGLTFLightFalloff&&(this._markAllSubMeshesAsTexturesDirty(),this._lightFalloff=e?tt.LIGHTFALLOFF_GLTF:tt.LIGHTFALLOFF_STANDARD)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageProcessingConfiguration",{get:function(){return this._imageProcessingConfiguration},set:function(e){this._attachImageProcessingConfiguration(e),this._markAllSubMeshesAsTexturesDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorCurvesEnabled",{get:function(){return this.imageProcessingConfiguration.colorCurvesEnabled},set:function(e){this.imageProcessingConfiguration.colorCurvesEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorGradingEnabled",{get:function(){return this.imageProcessingConfiguration.colorGradingEnabled},set:function(e){this.imageProcessingConfiguration.colorGradingEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraToneMappingEnabled",{get:function(){return this._imageProcessingConfiguration.toneMappingEnabled},set:function(e){this._imageProcessingConfiguration.toneMappingEnabled=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraExposure",{get:function(){return this._imageProcessingConfiguration.exposure},set:function(e){this._imageProcessingConfiguration.exposure=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraContrast",{get:function(){return this._imageProcessingConfiguration.contrast},set:function(e){this._imageProcessingConfiguration.contrast=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorGradingTexture",{get:function(){return this._imageProcessingConfiguration.colorGradingTexture},set:function(e){this._imageProcessingConfiguration.colorGradingTexture=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cameraColorCurves",{get:function(){return this._imageProcessingConfiguration.colorCurves},set:function(e){this._imageProcessingConfiguration.colorCurves=e},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"PBRMaterial"},t.prototype.clone=function(e){var i=this,n=r.a.Clone(function(){return new t(e,i.getScene())},this);return n.id=e,n.name=e,this.clearCoat.copyTo(n.clearCoat),this.anisotropy.copyTo(n.anisotropy),this.brdf.copyTo(n.brdf),this.sheen.copyTo(n.sheen),this.subSurface.copyTo(n.subSurface),n},t.prototype.serialize=function(){var e=r.a.Serialize(this);return e.customType="BABYLON.PBRMaterial",e.clearCoat=this.clearCoat.serialize(),e.anisotropy=this.anisotropy.serialize(),e.brdf=this.brdf.serialize(),e.sheen=this.sheen.serialize(),e.subSurface=this.subSurface.serialize(),e},t.Parse=function(e,i,n){var o=r.a.Parse(function(){return new t(e.name,i)},e,i,n);return e.clearCoat&&o.clearCoat.parse(e.clearCoat,i,n),e.anisotropy&&o.anisotropy.parse(e.anisotropy,i,n),e.brdf&&o.brdf.parse(e.brdf,i,n),e.sheen&&o.sheen.parse(e.sheen,i,n),e.subSurface&&o.subSurface.parse(e.subSurface,i,n),o},t.PBRMATERIAL_OPAQUE=tt.PBRMATERIAL_OPAQUE,t.PBRMATERIAL_ALPHATEST=tt.PBRMATERIAL_ALPHATEST,t.PBRMATERIAL_ALPHABLEND=tt.PBRMATERIAL_ALPHABLEND,t.PBRMATERIAL_ALPHATESTANDBLEND=tt.PBRMATERIAL_ALPHATESTANDBLEND,t.DEFAULT_AO_ON_ANALYTICAL_LIGHTS=tt.DEFAULT_AO_ON_ANALYTICAL_LIGHTS,Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"directIntensity",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"emissiveIntensity",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"environmentIntensity",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"specularIntensity",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"disableBumpMap",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"albedoTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"ambientTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"ambientTextureStrength",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"ambientTextureImpactOnAnalyticalLights",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"opacityTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"reflectionTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"emissiveTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"reflectivityTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"metallicTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"metallic",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"roughness",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"metallicF0Factor",void 0),Object(n.b)([Object(r.d)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"metallicReflectanceColor",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"metallicReflectanceTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"microSurfaceTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"bumpTexture",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty",null)],t.prototype,"lightmapTexture",void 0),Object(n.b)([Object(r.d)("ambient"),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"ambientColor",void 0),Object(n.b)([Object(r.d)("albedo"),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"albedoColor",void 0),Object(n.b)([Object(r.d)("reflectivity"),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"reflectivityColor",void 0),Object(n.b)([Object(r.d)("reflection"),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"reflectionColor",void 0),Object(n.b)([Object(r.d)("emissive"),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"emissiveColor",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"microSurface",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useLightmapAsShadowmap",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"useAlphaFromAlbedoTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"forceAlphaTest",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesAndMiscDirty")],t.prototype,"alphaCutOff",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useSpecularOverAlpha",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useMicroSurfaceFromReflectivityMapAlpha",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useRoughnessFromMetallicTextureAlpha",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useRoughnessFromMetallicTextureGreen",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useMetallnessFromMetallicTextureBlue",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useAmbientOcclusionFromMetallicTextureRed",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useAmbientInGrayScale",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useAutoMicroSurfaceFromReflectivityMap",void 0),Object(n.b)([Object(r.c)()],t.prototype,"usePhysicalLightFalloff",null),Object(n.b)([Object(r.c)()],t.prototype,"useGLTFLightFalloff",null),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useRadianceOverAlpha",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useObjectSpaceNormalMap",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useParallax",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useParallaxOcclusion",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"parallaxScaleBias",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsLightsDirty")],t.prototype,"disableLighting",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"forceIrradianceInFragment",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsLightsDirty")],t.prototype,"maxSimultaneousLights",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"invertNormalMapX",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"invertNormalMapY",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"twoSidedLighting",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useAlphaFresnel",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useLinearAlphaFresnel",void 0),Object(n.b)([Object(r.l)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"environmentBRDFTexture",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"forceNormalForward",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"enableSpecularAntiAliasing",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useHorizonOcclusion",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsTexturesDirty")],t.prototype,"useRadianceOcclusion",void 0),Object(n.b)([Object(r.c)(),Object(r.b)("_markAllSubMeshesAsMiscDirty")],t.prototype,"unlit",void 0),t}(tt);it.a.RegisteredTypes["BABYLON.PBRMaterial"]=nt},675:function(e,t,i){"use strict";i.d(t,"b",function(){return M}),i.d(t,"a",function(){return D});var n=i(644),r=i(650),o=i(658),s=i(754),a=i(764),c=i(30),l=i(244),_=i(689),u=i(660),f=i(694),d=i(816),h=i(735),p=i(804),b=i(704),m=i(677),A=i(950),g=i(877),y=i(648),v=i(649),C=i(105),E=i(667),S=i(805),T=function(e,t){this.distance=e,this.mesh=t},R=i(936),M=function(){},O=function(){this.visibleInstances={},this.batchCache=new I,this.instancesBufferSize=2048},I=function(){this.mustReturn=!1,this.visibleInstances=new Array,this.renderSelf=new Array,this.hardwareInstancedRendering=new Array},x=function(){this.instancesCount=0,this.matrixBuffer=null,this.matrixBufferSize=512,this.boundingVectors=[],this.worldMatrices=null},P=function(){this._areNormalsFrozen=!1,this._source=null,this.meshMap=null,this._preActivateId=-1,this._LODLevels=new Array,this._morphTargetManager=null},D=function(e){function t(i,n,r,o,c,l){void 0===n&&(n=null),void 0===r&&(r=null),void 0===o&&(o=null),void 0===l&&(l=!0);var _=e.call(this,i,n)||this;if(_._internalMeshDataInfo=new P,_.delayLoadState=0,_.instances=new Array,_._creationDataStorage=null,_._geometry=null,_._instanceDataStorage=new O,_._thinInstanceDataStorage=new x,_._effectiveMaterial=null,_._shouldGenerateFlatShading=!1,_._originalBuilderSideOrientation=t.DEFAULTSIDE,_.overrideMaterialSideOrientation=null,n=_.getScene(),o){if(o._geometry&&o._geometry.applyToMesh(_),s.a.DeepCopy(o,_,["name","material","skeleton","instances","parent","uniqueId","source","metadata","morphTargetManager","hasInstances","source","worldMatrixInstancedBuffer","hasLODLevels","geometry","isBlocked","areNormalsFrozen","facetNb","isFacetDataEnabled","lightSources","useBones","isAnInstance","collider","edgesRenderer","forward","up","right","absolutePosition","absoluteScaling","absoluteRotationQuaternion","isWorldMatrixFrozen","nonUniformScaling","behaviors","worldMatrixFromCache","hasThinInstances","cloneMeshMap"],["_poseMatrix"]),_._internalMeshDataInfo._source=o,n.useClonedMeshMap&&(o._internalMeshDataInfo.meshMap||(o._internalMeshDataInfo.meshMap={}),o._internalMeshDataInfo.meshMap[_.uniqueId]=_),_._originalBuilderSideOrientation=o._originalBuilderSideOrientation,_._creationDataStorage=o._creationDataStorage,o._ranges){var u=o._ranges;for(var i in u)u.hasOwnProperty(i)&&u[i]&&_.createAnimationRange(i,u[i].from,u[i].to)}var f;if(o.metadata&&o.metadata.clone?_.metadata=o.metadata.clone():_.metadata=o.metadata,a.a&&a.a.HasTags(o)&&a.a.AddTagsTo(_,a.a.GetTags(o,!0)),_.setEnabled(o.isEnabled()),_.parent=o.parent,_.setPivotMatrix(o.getPivotMatrix()),_.id=i+"."+o.id,_.material=o.material,!c)for(var d=o.getDescendants(!0),h=0;h<d.length;h++){var p=d[h];p.clone&&p.clone(i+"."+p.name,_)}if(o.morphTargetManager&&(_.morphTargetManager=o.morphTargetManager),n.getPhysicsEngine){var b=n.getPhysicsEngine();if(l&&b){var m=b.getImpostorForPhysicsObject(o);m&&(_.physicsImpostor=m.clone(_))}}for(f=0;f<n.particleSystems.length;f++){var A=n.particleSystems[f];A.emitter===o&&A.clone(A.name,_)}_.refreshBoundingInfo(),_.computeWorldMatrix(!0)}return null!==r&&(_.parent=r),_._instanceDataStorage.hardwareInstancedRendering=_.getEngine().getCaps().instancedArrays,_}return Object(n.c)(t,e),t._GetDefaultSideOrientation=function(e){return e||t.FRONTSIDE},Object.defineProperty(t.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},set:function(e){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==e&&(e&&this._internalMeshDataInfo._sourcePositions&&(this.setVerticesData(u.b.PositionKind,this._internalMeshDataInfo._sourcePositions.slice(),!0),this._internalMeshDataInfo._sourceNormals&&this.setVerticesData(u.b.NormalKind,this._internalMeshDataInfo._sourceNormals.slice(),!0)),this._internalAbstractMeshDataInfo._computeBonesUsingShaders=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeRenderObservable",{get:function(){return this._internalMeshDataInfo._onBeforeRenderObservable||(this._internalMeshDataInfo._onBeforeRenderObservable=new r.a),this._internalMeshDataInfo._onBeforeRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeBindObservable",{get:function(){return this._internalMeshDataInfo._onBeforeBindObservable||(this._internalMeshDataInfo._onBeforeBindObservable=new r.a),this._internalMeshDataInfo._onBeforeBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onAfterRenderObservable",{get:function(){return this._internalMeshDataInfo._onAfterRenderObservable||(this._internalMeshDataInfo._onAfterRenderObservable=new r.a),this._internalMeshDataInfo._onAfterRenderObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeDrawObservable",{get:function(){return this._internalMeshDataInfo._onBeforeDrawObservable||(this._internalMeshDataInfo._onBeforeDrawObservable=new r.a),this._internalMeshDataInfo._onBeforeDrawObservable},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeDraw",{set:function(e){this._onBeforeDrawObserver&&this.onBeforeDrawObservable.remove(this._onBeforeDrawObserver),this._onBeforeDrawObserver=this.onBeforeDrawObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInstances",{get:function(){return this.instances.length>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasThinInstances",{get:function(){var e;return(null!==(e=this._thinInstanceDataStorage.instancesCount)&&void 0!==e?e:0)>0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"morphTargetManager",{get:function(){return this._internalMeshDataInfo._morphTargetManager},set:function(e){this._internalMeshDataInfo._morphTargetManager!==e&&(this._internalMeshDataInfo._morphTargetManager=e,this._syncGeometryWithMorphTargetManager())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"source",{get:function(){return this._internalMeshDataInfo._source},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"cloneMeshMap",{get:function(){return this._internalMeshDataInfo.meshMap},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isUnIndexed",{get:function(){return this._unIndexed},set:function(e){this._unIndexed!==e&&(this._unIndexed=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"worldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.instancesData},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"manualUpdateOfWorldMatrixInstancedBuffer",{get:function(){return this._instanceDataStorage.manualUpdate},set:function(e){this._instanceDataStorage.manualUpdate=e},enumerable:!1,configurable:!0}),t.prototype.instantiateHierarchy=function(e,t,i){void 0===e&&(e=null);var n=!(this.getTotalVertices()>0)||t&&t.doNotInstantiate?this.clone("Clone of "+(this.name||this.id),e||this.parent,!0):this.createInstance("instance of "+(this.name||this.id));n&&(n.parent=e||this.parent,n.position=this.position.clone(),n.scaling=this.scaling.clone(),this.rotationQuaternion?n.rotationQuaternion=this.rotationQuaternion.clone():n.rotation=this.rotation.clone(),i&&i(this,n));for(var r=0,o=this.getChildTransformNodes(!0);r<o.length;r++){o[r].instantiateHierarchy(n,t,i)}return n},t.prototype.getClassName=function(){return"Mesh"},Object.defineProperty(t.prototype,"_isMesh",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.toString=function(t){var i=e.prototype.toString.call(this,t);if(i+=", n vertices: "+this.getTotalVertices(),i+=", parent: "+(this._waitingParentId?this._waitingParentId:this.parent?this.parent.name:"NONE"),this.animations)for(var n=0;n<this.animations.length;n++)i+=", animation[0]: "+this.animations[n].toString(t);if(t)if(this._geometry){var r=this.getIndices(),o=this.getVerticesData(u.b.PositionKind);o&&r&&(i+=", flat shading: "+(o.length/3===r.length?"YES":"NO"))}else i+=", flat shading: UNKNOWN";return i},t.prototype._unBindEffect=function(){e.prototype._unBindEffect.call(this);for(var t=0,i=this.instances;t<i.length;t++){i[t]._unBindEffect()}},Object.defineProperty(t.prototype,"hasLODLevels",{get:function(){return this._internalMeshDataInfo._LODLevels.length>0},enumerable:!1,configurable:!0}),t.prototype.getLODLevels=function(){return this._internalMeshDataInfo._LODLevels},t.prototype._sortLODLevels=function(){this._internalMeshDataInfo._LODLevels.sort(function(e,t){return e.distance<t.distance?1:e.distance>t.distance?-1:0})},t.prototype.addLODLevel=function(e,t){if(t&&t._masterMesh)return v.a.Warn("You cannot use a mesh as LOD level twice"),this;var i=new T(e,t);return this._internalMeshDataInfo._LODLevels.push(i),t&&(t._masterMesh=this),this._sortLODLevels(),this},t.prototype.getLODLevelAtDistance=function(e){for(var t=this._internalMeshDataInfo,i=0;i<t._LODLevels.length;i++){var n=t._LODLevels[i];if(n.distance===e)return n.mesh}return null},t.prototype.removeLODLevel=function(e){for(var t=this._internalMeshDataInfo,i=0;i<t._LODLevels.length;i++)t._LODLevels[i].mesh===e&&(t._LODLevels.splice(i,1),e&&(e._masterMesh=null));return this._sortLODLevels(),this},t.prototype.getLOD=function(e,t){var i,n=this._internalMeshDataInfo;if(!n._LODLevels||0===n._LODLevels.length)return this;t?i=t:i=this.getBoundingInfo().boundingSphere;var r=i.centerWorld.subtract(e.globalPosition).length();if(n._LODLevels[n._LODLevels.length-1].distance>r)return this.onLODLevelSelection&&this.onLODLevelSelection(r,this,this),this;for(var o=0;o<n._LODLevels.length;o++){var s=n._LODLevels[o];if(s.distance<r){if(s.mesh){if(4===s.mesh.delayLoadState)return s.mesh._checkDelayState(),this;if(2===s.mesh.delayLoadState)return this;s.mesh._preActivate(),s.mesh._updateSubMeshesBoundingInfo(this.worldMatrixFromCache)}return this.onLODLevelSelection&&this.onLODLevelSelection(r,this,s.mesh),s.mesh}}return this.onLODLevelSelection&&this.onLODLevelSelection(r,this,this),this},Object.defineProperty(t.prototype,"geometry",{get:function(){return this._geometry},enumerable:!1,configurable:!0}),t.prototype.getTotalVertices=function(){return null===this._geometry||void 0===this._geometry?0:this._geometry.getTotalVertices()},t.prototype.getVerticesData=function(e,t,i){return this._geometry?this._geometry.getVerticesData(e,t,i):null},t.prototype.getVertexBuffer=function(e){return this._geometry?this._geometry.getVertexBuffer(e):null},t.prototype.isVerticesDataPresent=function(e){return this._geometry?this._geometry.isVerticesDataPresent(e):!!this._delayInfo&&-1!==this._delayInfo.indexOf(e)},t.prototype.isVertexBufferUpdatable=function(e){return this._geometry?this._geometry.isVertexBufferUpdatable(e):!!this._delayInfo&&-1!==this._delayInfo.indexOf(e)},t.prototype.getVerticesDataKinds=function(){if(!this._geometry){var e=new Array;return this._delayInfo&&this._delayInfo.forEach(function(t){e.push(t)}),e}return this._geometry.getVerticesDataKinds()},t.prototype.getTotalIndices=function(){return this._geometry?this._geometry.getTotalIndices():0},t.prototype.getIndices=function(e,t){return this._geometry?this._geometry.getIndices(e,t):[]},Object.defineProperty(t.prototype,"isBlocked",{get:function(){return null!==this._masterMesh&&void 0!==this._masterMesh},enumerable:!1,configurable:!0}),t.prototype.isReady=function(t,i){var n,r,o,s,a,c;if(void 0===t&&(t=!1),void 0===i&&(i=!1),2===this.delayLoadState)return!1;if(!e.prototype.isReady.call(this,t))return!1;if(!this.subMeshes||0===this.subMeshes.length)return!0;if(!t)return!0;var l=this.getEngine(),_=this.getScene(),u=i||l.getCaps().instancedArrays&&(this.instances.length>0||this.hasThinInstances);this.computeWorldMatrix();var f=this.material||_.defaultMaterial;if(f)if(f._storeEffectOnSubMeshes)for(var d=0,h=this.subMeshes;d<h.length;d++){var p=(v=h[d]).getMaterial();if(p)if(p._storeEffectOnSubMeshes){if(!p.isReadyForSubMesh(this,v,u))return!1}else if(!p.isReady(this,u))return!1}else if(!f.isReady(this,u))return!1;for(var b=0,m=this.lightSources;b<m.length;b++){var A=m[b].getShadowGenerator();if(A&&(!(null===(n=A.getShadowMap())||void 0===n?void 0:n.renderList)||(null===(r=A.getShadowMap())||void 0===r?void 0:r.renderList)&&-1!==(null===(s=null===(o=A.getShadowMap())||void 0===o?void 0:o.renderList)||void 0===s?void 0:s.indexOf(this))))for(var g=0,y=this.subMeshes;g<y.length;g++){var v=y[g];if(!A.isReady(v,u,null!==(c=null===(a=v.getMaterial())||void 0===a?void 0:a.needAlphaBlendingForMesh(this))&&void 0!==c&&c))return!1}}for(var C=0,E=this._internalMeshDataInfo._LODLevels;C<E.length;C++){var S=E[C];if(S.mesh&&!S.mesh.isReady(u))return!1}return!0},Object.defineProperty(t.prototype,"areNormalsFrozen",{get:function(){return this._internalMeshDataInfo._areNormalsFrozen},enumerable:!1,configurable:!0}),t.prototype.freezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!0,this},t.prototype.unfreezeNormals=function(){return this._internalMeshDataInfo._areNormalsFrozen=!1,this},Object.defineProperty(t.prototype,"overridenInstanceCount",{set:function(e){this._instanceDataStorage.overridenInstanceCount=e},enumerable:!1,configurable:!0}),t.prototype._preActivate=function(){var e=this._internalMeshDataInfo,t=this.getScene().getRenderId();return e._preActivateId===t||(e._preActivateId=t,this._instanceDataStorage.visibleInstances=null),this},t.prototype._preActivateForIntermediateRendering=function(e){return this._instanceDataStorage.visibleInstances&&(this._instanceDataStorage.visibleInstances.intermediateDefaultRenderId=e),this},t.prototype._registerInstanceForRenderId=function(e,t){return this._instanceDataStorage.visibleInstances||(this._instanceDataStorage.visibleInstances={defaultRenderId:t,selfDefaultRenderId:this._renderId}),this._instanceDataStorage.visibleInstances[t]||(void 0!==this._instanceDataStorage.previousRenderId&&this._instanceDataStorage.isFrozen&&(this._instanceDataStorage.visibleInstances[this._instanceDataStorage.previousRenderId]=null),this._instanceDataStorage.previousRenderId=t,this._instanceDataStorage.visibleInstances[t]=new Array),this._instanceDataStorage.visibleInstances[t].push(e),this},t.prototype._afterComputeWorldMatrix=function(){e.prototype._afterComputeWorldMatrix.call(this),this.hasThinInstances&&(this.doNotSyncBoundingInfo||this.thinInstanceRefreshBoundingInfo(!1))},t.prototype._postActivate=function(){this.edgesShareWithInstances&&this.edgesRenderer&&this.edgesRenderer.isEnabled&&this._renderingGroup&&(this._renderingGroup._edgesRenderers.pushNoDuplicate(this.edgesRenderer),this.edgesRenderer.customInstances.push(this.getWorldMatrix()))},t.prototype.refreshBoundingInfo=function(e){if(void 0===e&&(e=!1),this._boundingInfo&&this._boundingInfo.isLocked)return this;var t=this.geometry?this.geometry.boundingBias:null;return this._refreshBoundingInfo(this._getPositionData(e),t),this},t.prototype._createGlobalSubMesh=function(e){var t=this.getTotalVertices();if(!t||!this.getIndices())return null;if(this.subMeshes&&this.subMeshes.length>0){var i=this.getIndices();if(!i)return null;var n=i.length,r=!1;if(e)r=!0;else for(var o=0,s=this.subMeshes;o<s.length;o++){var a=s[o];if(a.indexStart+a.indexCount>n){r=!0;break}if(a.verticesStart+a.verticesCount>t){r=!0;break}}if(!r)return this.subMeshes[0]}return this.releaseSubMeshes(),new p.a(0,0,t,0,this.getTotalIndices(),this)},t.prototype.subdivide=function(e){if(!(e<1)){for(var t=this.getTotalIndices(),i=t/e|0,n=0;i%3!==0;)i++;this.releaseSubMeshes();for(var r=0;r<e&&!(n>=t);r++)p.a.CreateFromIndices(0,n,r===e-1?t-n:i,this),n+=i;this.synchronizeInstances()}},t.prototype.setVerticesData=function(e,t,i,n){if(void 0===i&&(i=!1),this._geometry)this._geometry.setVerticesData(e,t,i,n);else{var r=new f.a;r.set(t,e);var o=this.getScene();new d.a(d.a.RandomId(),o,r,i,this)}return this},t.prototype.removeVerticesData=function(e){this._geometry&&this._geometry.removeVerticesData(e)},t.prototype.markVerticesDataAsUpdatable=function(e,t){void 0===t&&(t=!0);var i=this.getVertexBuffer(e);i&&i.isUpdatable()!==t&&this.setVerticesData(e,this.getVerticesData(e),t)},t.prototype.setVerticesBuffer=function(e){return this._geometry||(this._geometry=d.a.CreateGeometryForMesh(this)),this._geometry.setVerticesBuffer(e),this},t.prototype.updateVerticesData=function(e,t,i,n){return this._geometry?(n?(this.makeGeometryUnique(),this.updateVerticesData(e,t,i,!1)):this._geometry.updateVerticesData(e,t,i),this):this},t.prototype.updateMeshPositions=function(e,t){void 0===t&&(t=!0);var i=this.getVerticesData(u.b.PositionKind);if(!i)return this;if(e(i),this.updateVerticesData(u.b.PositionKind,i,!1,!1),t){var n=this.getIndices(),r=this.getVerticesData(u.b.NormalKind);if(!r)return this;f.a.ComputeNormals(i,n,r),this.updateVerticesData(u.b.NormalKind,r,!1,!1)}return this},t.prototype.makeGeometryUnique=function(){if(!this._geometry)return this;if(1===this._geometry.meshes.length)return this;var e=this._geometry,t=this._geometry.copy(d.a.RandomId());return e.releaseForMesh(this,!0),t.applyToMesh(this),this},t.prototype.setIndices=function(e,t,i){if(void 0===t&&(t=null),void 0===i&&(i=!1),this._geometry)this._geometry.setIndices(e,t,i);else{var n=new f.a;n.indices=e;var r=this.getScene();new d.a(d.a.RandomId(),r,n,i,this)}return this},t.prototype.updateIndices=function(e,t,i){return void 0===i&&(i=!1),this._geometry?(this._geometry.updateIndices(e,t,i),this):this},t.prototype.toLeftHanded=function(){return this._geometry?(this._geometry.toLeftHanded(),this):this},t.prototype._bind=function(e,t,i){if(!this._geometry)return this;var n,r=this.getScene().getEngine();if(this._unIndexed)n=null;else switch(i){case m.a.PointFillMode:n=null;break;case m.a.WireFrameFillMode:n=e._getLinesIndexBuffer(this.getIndices(),r);break;default:case m.a.TriangleFillMode:n=this._geometry.getIndexBuffer()}return this._geometry._bind(t,n),this},t.prototype._draw=function(e,t,i){if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeDrawObservable&&this._internalMeshDataInfo._onBeforeDrawObservable.notifyObservers(this);var n=this.getScene().getEngine();return this._unIndexed||t==m.a.PointFillMode?n.drawArraysType(t,e.verticesStart,e.verticesCount,i):t==m.a.WireFrameFillMode?n.drawElementsType(t,0,e._linesIndexCount,i):n.drawElementsType(t,e.indexStart,e.indexCount,i),this},t.prototype.registerBeforeRender=function(e){return this.onBeforeRenderObservable.add(e),this},t.prototype.unregisterBeforeRender=function(e){return this.onBeforeRenderObservable.removeCallback(e),this},t.prototype.registerAfterRender=function(e){return this.onAfterRenderObservable.add(e),this},t.prototype.unregisterAfterRender=function(e){return this.onAfterRenderObservable.removeCallback(e),this},t.prototype._getInstancesRenderList=function(e,t){if(void 0===t&&(t=!1),this._instanceDataStorage.isFrozen&&this._instanceDataStorage.previousBatch)return this._instanceDataStorage.previousBatch;var i=this.getScene(),n=i._isInIntermediateRendering(),r=n?this._internalAbstractMeshDataInfo._onlyForInstancesIntermediate:this._internalAbstractMeshDataInfo._onlyForInstances,o=this._instanceDataStorage.batchCache;if(o.mustReturn=!1,o.renderSelf[e]=t||!r&&this.isEnabled()&&this.isVisible,o.visibleInstances[e]=null,this._instanceDataStorage.visibleInstances&&!t){var s=this._instanceDataStorage.visibleInstances,a=i.getRenderId(),c=n?s.intermediateDefaultRenderId:s.defaultRenderId;o.visibleInstances[e]=s[a],!o.visibleInstances[e]&&c&&(o.visibleInstances[e]=s[c])}return o.hardwareInstancedRendering[e]=!t&&this._instanceDataStorage.hardwareInstancedRendering&&null!==o.visibleInstances[e]&&void 0!==o.visibleInstances[e],this._instanceDataStorage.previousBatch=o,o},t.prototype._renderWithInstances=function(e,t,i,n,r){var o=i.visibleInstances[e._id];if(!o)return this;for(var s=this._instanceDataStorage,a=s.instancesBufferSize,c=s.instancesBuffer,l=16*(o.length+1)*4;s.instancesBufferSize<l;)s.instancesBufferSize*=2;s.instancesData&&a==s.instancesBufferSize||(s.instancesData=new Float32Array(s.instancesBufferSize/4));var _=0,f=0,d=i.renderSelf[e._id],h=!c||a!==s.instancesBufferSize;if(this._instanceDataStorage.manualUpdate||s.isFrozen&&!h)f=(d?1:0)+o.length;else{var p=this._effectiveMesh.getWorldMatrix();if(d&&(p.copyToArray(s.instancesData,_),_+=16,f++),o)for(var b=0;b<o.length;b++){o[b].getWorldMatrix().copyToArray(s.instancesData,_),_+=16,f++}}return h?(c&&c.dispose(),c=new u.a(r,s.instancesData,!0,16,!1,!0),s.instancesBuffer=c,this.setVerticesBuffer(c.createVertexBuffer("world0",0,4)),this.setVerticesBuffer(c.createVertexBuffer("world1",4,4)),this.setVerticesBuffer(c.createVertexBuffer("world2",8,4)),this.setVerticesBuffer(c.createVertexBuffer("world3",12,4))):this._instanceDataStorage.isFrozen||c.updateDirectly(s.instancesData,0,f),this._processInstancedBuffers(o,d),this.getScene()._activeIndices.addCount(e.indexCount*f,!1),this._bind(e,n,t),this._draw(e,t,f),r.unbindInstanceAttributes(),this},t.prototype._renderWithThinInstances=function(e,t,i,n){var r,o,s=null!==(o=null===(r=this._thinInstanceDataStorage)||void 0===r?void 0:r.instancesCount)&&void 0!==o?o:0;this.getScene()._activeIndices.addCount(e.indexCount*s,!1),this._bind(e,i,t),this._draw(e,t,s),n.unbindInstanceAttributes()},t.prototype._processInstancedBuffers=function(e,t){},t.prototype._processRendering=function(e,t,i,n,r,o,s,a){var c=this.getScene(),l=c.getEngine();if(o&&t.getRenderingMesh().hasThinInstances)return this._renderWithThinInstances(t,n,i,l),this;if(o)this._renderWithInstances(t,n,r,i,l);else{var _=0;r.renderSelf[t._id]&&(s&&s(!1,e._effectiveMesh.getWorldMatrix(),a),_++,this._draw(t,n,this._instanceDataStorage.overridenInstanceCount));var u=r.visibleInstances[t._id];if(u){var f=u.length;_+=f;for(var d=0;d<f;d++){var h=u[d].getWorldMatrix();s&&s(!0,h,a),this._draw(t,n)}}c._activeIndices.addCount(t.indexCount*_,!1)}return this},t.prototype._rebuild=function(){this._instanceDataStorage.instancesBuffer&&(this._instanceDataStorage.instancesBuffer.dispose(),this._instanceDataStorage.instancesBuffer=null),e.prototype._rebuild.call(this)},t.prototype._freeze=function(){if(this.subMeshes){for(var e=0;e<this.subMeshes.length;e++)this._getInstancesRenderList(e);this._effectiveMaterial=null,this._instanceDataStorage.isFrozen=!0}},t.prototype._unFreeze=function(){this._instanceDataStorage.isFrozen=!1,this._instanceDataStorage.previousBatch=null},t.prototype.render=function(e,t,i){var n=this.getScene();if(this._internalAbstractMeshDataInfo._isActiveIntermediate?this._internalAbstractMeshDataInfo._isActiveIntermediate=!1:this._internalAbstractMeshDataInfo._isActive=!1,this._checkOcclusionQuery())return this;var r=this._getInstancesRenderList(e._id,!!i);if(r.mustReturn)return this;if(!this._geometry||!this._geometry.getVertexBuffers()||!this._unIndexed&&!this._geometry.getIndexBuffer())return this;this._internalMeshDataInfo._onBeforeRenderObservable&&this._internalMeshDataInfo._onBeforeRenderObservable.notifyObservers(this);var o,s=n.getEngine(),a=r.hardwareInstancedRendering[e._id]||e.getRenderingMesh().hasThinInstances,c=this._instanceDataStorage,l=e.getMaterial();if(!l)return this;if(!c.isFrozen||!this._effectiveMaterial||this._effectiveMaterial!==l){if(l._storeEffectOnSubMeshes){if(!l.isReadyForSubMesh(this,e,a))return this}else if(!l.isReady(this,a))return this;this._effectiveMaterial=l}t&&s.setAlphaMode(this._effectiveMaterial.alphaMode),o=this._effectiveMaterial._storeEffectOnSubMeshes?e.effect:this._effectiveMaterial.getEffect();for(var _=0,u=n._beforeRenderingMeshStage;_<u.length;_++){u[_].action(this,e,r,o)}if(!o)return this;var f,d=i||this._effectiveMesh;if(c.isFrozen||!this._effectiveMaterial.backFaceCulling&&null===this.overrideMaterialSideOrientation)f=c.sideOrientation;else{var h=d._getWorldMatrixDeterminant();null==(f=this.overrideMaterialSideOrientation)&&(f=this._effectiveMaterial.sideOrientation),h<0&&(f=f===m.a.ClockWiseSideOrientation?m.a.CounterClockWiseSideOrientation:m.a.ClockWiseSideOrientation),c.sideOrientation=f}var p=this._effectiveMaterial._preBind(o,f);this._effectiveMaterial.forceDepthWrite&&s.setDepthWrite(!0);var b=n.forcePointsCloud?m.a.PointFillMode:n.forceWireframe?m.a.WireFrameFillMode:this._effectiveMaterial.fillMode;this._internalMeshDataInfo._onBeforeBindObservable&&this._internalMeshDataInfo._onBeforeBindObservable.notifyObservers(this),a||this._bind(e,o,b);var A=d.getWorldMatrix();this._effectiveMaterial._storeEffectOnSubMeshes?this._effectiveMaterial.bindForSubMesh(A,this,e):this._effectiveMaterial.bind(A,this),!this._effectiveMaterial.backFaceCulling&&this._effectiveMaterial.separateCullingPass&&(s.setState(!0,this._effectiveMaterial.zOffset,!1,!p),this._processRendering(this,e,o,b,r,a,this._onBeforeDraw,this._effectiveMaterial),s.setState(!0,this._effectiveMaterial.zOffset,!1,p)),this._processRendering(this,e,o,b,r,a,this._onBeforeDraw,this._effectiveMaterial),this._effectiveMaterial.unbind();for(var g=0,y=n._afterRenderingMeshStage;g<y.length;g++){y[g].action(this,e,r,o)}return this._internalMeshDataInfo._onAfterRenderObservable&&this._internalMeshDataInfo._onAfterRenderObservable.notifyObservers(this),this},t.prototype._onBeforeDraw=function(e,t,i){e&&i&&i.bindOnlyWorldMatrix(t)},t.prototype.cleanMatrixWeights=function(){this.isVerticesDataPresent(u.b.MatricesWeightsKind)&&(this.isVerticesDataPresent(u.b.MatricesWeightsExtraKind)?this.normalizeSkinWeightsAndExtra():this.normalizeSkinFourWeights())},t.prototype.normalizeSkinFourWeights=function(){for(var e=this.getVerticesData(u.b.MatricesWeightsKind),t=e.length,i=0;i<t;i+=4){var n=e[i]+e[i+1]+e[i+2]+e[i+3];if(0===n)e[i]=1;else{var r=1/n;e[i]*=r,e[i+1]*=r,e[i+2]*=r,e[i+3]*=r}}this.setVerticesData(u.b.MatricesWeightsKind,e)},t.prototype.normalizeSkinWeightsAndExtra=function(){for(var e=this.getVerticesData(u.b.MatricesWeightsExtraKind),t=this.getVerticesData(u.b.MatricesWeightsKind),i=t.length,n=0;n<i;n+=4){var r=t[n]+t[n+1]+t[n+2]+t[n+3];if(0===(r+=e[n]+e[n+1]+e[n+2]+e[n+3]))t[n]=1;else{var o=1/r;t[n]*=o,t[n+1]*=o,t[n+2]*=o,t[n+3]*=o,e[n]*=o,e[n+1]*=o,e[n+2]*=o,e[n+3]*=o}}this.setVerticesData(u.b.MatricesWeightsKind,t),this.setVerticesData(u.b.MatricesWeightsKind,e)},t.prototype.validateSkinning=function(){var e=this.getVerticesData(u.b.MatricesWeightsExtraKind),t=this.getVerticesData(u.b.MatricesWeightsKind);if(null===t||null==this.skeleton)return{skinned:!1,valid:!0,report:"not skinned"};for(var i=t.length,n=0,r=0,o=0,s=0,a=null===e?4:8,c=new Array,l=0;l<=a;l++)c[l]=0;for(l=0;l<i;l+=4){for(var _=t[l],f=_,d=0===f?0:1,h=1;h<a;h++){var p=h<4?t[l+h]:e[l+h-4];p>_&&n++,0!==p&&d++,f+=p,_=p}if(c[d]++,d>o&&(o=d),0===f)r++;else{var b=1/f,m=0;for(h=0;h<a;h++)m+=h<4?Math.abs(t[l+h]-t[l+h]*b):Math.abs(e[l+h-4]-e[l+h-4]*b);m>.001&&s++}}var A=this.skeleton.bones.length,g=this.getVerticesData(u.b.MatricesIndicesKind),y=this.getVerticesData(u.b.MatricesIndicesExtraKind),v=0;for(l=0;l<i;l+=4)for(h=0;h<a;h++){var C=h<4?g[l+h]:y[l+h-4];(C>=A||C<0)&&v++}return{skinned:!0,valid:0===r&&0===s&&0===v,report:"Number of Weights = "+i/4+"\nMaximum influences = "+o+"\nMissing Weights = "+r+"\nNot Sorted = "+n+"\nNot Normalized = "+s+"\nWeightCounts = ["+c+"]\nNumber of bones = "+A+"\nBad Bone Indices = "+v}},t.prototype._checkDelayState=function(){var e=this.getScene();return this._geometry?this._geometry.load(e):4===this.delayLoadState&&(this.delayLoadState=2,this._queueLoad(e)),this},t.prototype._queueLoad=function(e){var t=this;e._addPendingData(this);var i=-1!==this.delayLoadingFile.indexOf(".babylonbinarymeshdata");return o.b.LoadFile(this.delayLoadingFile,function(i){i instanceof ArrayBuffer?t._delayLoadingFunction(i,t):t._delayLoadingFunction(JSON.parse(i),t),t.instances.forEach(function(e){e.refreshBoundingInfo(),e._syncSubMeshes()}),t.delayLoadState=1,e._removePendingData(t)},function(){},e.offlineProvider,i),this},t.prototype.isInFrustum=function(t){return 2!==this.delayLoadState&&(!!e.prototype.isInFrustum.call(this,t)&&(this._checkDelayState(),!0))},t.prototype.setMaterialByID=function(e){var t,i=this.getScene().materials;for(t=i.length-1;t>-1;t--)if(i[t].id===e)return this.material=i[t],this;var n=this.getScene().multiMaterials;for(t=n.length-1;t>-1;t--)if(n[t].id===e)return this.material=n[t],this;return this},t.prototype.getAnimatables=function(){var e=new Array;return this.material&&e.push(this.material),this.skeleton&&e.push(this.skeleton),e},t.prototype.bakeTransformIntoVertices=function(e){if(!this.isVerticesDataPresent(u.b.PositionKind))return this;var t=this.subMeshes.splice(0);this._resetPointsArrayCache();var i,n=this.getVerticesData(u.b.PositionKind),r=new Array;for(i=0;i<n.length;i+=3)c.e.TransformCoordinates(c.e.FromArray(n,i),e).toArray(r,i);if(this.setVerticesData(u.b.PositionKind,r,this.getVertexBuffer(u.b.PositionKind).isUpdatable()),this.isVerticesDataPresent(u.b.NormalKind)){for(n=this.getVerticesData(u.b.NormalKind),r=[],i=0;i<n.length;i+=3)c.e.TransformNormal(c.e.FromArray(n,i),e).normalize().toArray(r,i);this.setVerticesData(u.b.NormalKind,r,this.getVertexBuffer(u.b.NormalKind).isUpdatable())}return e.m[0]*e.m[5]*e.m[10]<0&&this.flipFaces(),this.releaseSubMeshes(),this.subMeshes=t,this},t.prototype.bakeCurrentTransformIntoVertices=function(e){return void 0===e&&(e=!0),this.bakeTransformIntoVertices(this.computeWorldMatrix(!0)),this.resetLocalMatrix(e),this},Object.defineProperty(t.prototype,"_positions",{get:function(){return this._geometry?this._geometry._positions:null},enumerable:!1,configurable:!0}),t.prototype._resetPointsArrayCache=function(){return this._geometry&&this._geometry._resetPointsArrayCache(),this},t.prototype._generatePointsArray=function(){return!!this._geometry&&this._geometry._generatePointsArray()},t.prototype.clone=function(e,i,n,r){return void 0===e&&(e=""),void 0===i&&(i=null),void 0===r&&(r=!0),new t(e,this.getScene(),i,this,n,r)},t.prototype.dispose=function(t,i){void 0===i&&(i=!1),this.morphTargetManager=null,this._geometry&&this._geometry.releaseForMesh(this,!0);var n=this._internalMeshDataInfo;if(n._onBeforeDrawObservable&&n._onBeforeDrawObservable.clear(),n._onBeforeBindObservable&&n._onBeforeBindObservable.clear(),n._onBeforeRenderObservable&&n._onBeforeRenderObservable.clear(),n._onAfterRenderObservable&&n._onAfterRenderObservable.clear(),this._scene.useClonedMeshMap){if(n.meshMap)for(var r in n.meshMap){(a=n.meshMap[r])&&(a._internalMeshDataInfo._source=null,n.meshMap[r]=void 0)}n._source&&n._source._internalMeshDataInfo.meshMap&&(n._source._internalMeshDataInfo.meshMap[this.uniqueId]=void 0)}else for(var o=0,s=this.getScene().meshes;o<s.length;o++){var a;(a=s[o])._internalMeshDataInfo&&a._internalMeshDataInfo._source&&a._internalMeshDataInfo._source===this&&(a._internalMeshDataInfo._source=null)}n._source=null,this._disposeInstanceSpecificData(),this._disposeThinInstanceSpecificData(),e.prototype.dispose.call(this,t,i)},t.prototype._disposeInstanceSpecificData=function(){},t.prototype._disposeThinInstanceSpecificData=function(){},t.prototype.applyDisplacementMap=function(e,t,i,n,r,s,a){var c=this;void 0===a&&(a=!1);var l=this.getScene();return o.b.LoadImage(e,function(e){var o=e.width,l=e.height,_=R.a.CreateCanvas(o,l).getContext("2d");_.drawImage(e,0,0);var u=_.getImageData(0,0,o,l).data;c.applyDisplacementMapFromBuffer(u,o,l,t,i,r,s,a),n&&n(c)},function(){},l.offlineProvider),this},t.prototype.applyDisplacementMapFromBuffer=function(e,t,i,n,r,o,s,a){if(void 0===a&&(a=!1),!this.isVerticesDataPresent(u.b.PositionKind)||!this.isVerticesDataPresent(u.b.NormalKind)||!this.isVerticesDataPresent(u.b.UVKind))return v.a.Warn("Cannot call applyDisplacementMap: Given mesh is not complete. Position, Normal or UV are missing"),this;var l=this.getVerticesData(u.b.PositionKind,!0,!0),_=this.getVerticesData(u.b.NormalKind),d=this.getVerticesData(u.b.UVKind),h=c.e.Zero(),p=c.e.Zero(),b=c.d.Zero();o=o||c.d.Zero(),s=s||new c.d(1,1);for(var m=0;m<l.length;m+=3){c.e.FromArrayToRef(l,m,h),c.e.FromArrayToRef(_,m,p),c.d.FromArrayToRef(d,m/3*2,b);var A=4*((Math.abs(b.x*s.x+o.x%1)*(t-1)%t|0)+(Math.abs(b.y*s.y+o.y%1)*(i-1)%i|0)*t),g=.3*(e[A]/255)+.59*(e[A+1]/255)+.11*(e[A+2]/255);p.normalize(),p.scaleInPlace(n+(r-n)*g),(h=h.add(p)).toArray(l,m)}return f.a.ComputeNormals(l,this.getIndices(),_),a?(this.setVerticesData(u.b.PositionKind,l),this.setVerticesData(u.b.NormalKind,_)):(this.updateVerticesData(u.b.PositionKind,l),this.updateVerticesData(u.b.NormalKind,_)),this},t.prototype.convertToFlatShadedMesh=function(){var e,t,i=this.getVerticesDataKinds(),n={},r={},o={},s=!1;for(e=0;e<i.length;e++){t=i[e];var a=this.getVertexBuffer(t);t!==u.b.NormalKind?(n[t]=a,r[t]=n[t].getData(),o[t]=[]):(s=a.isUpdatable(),i.splice(e,1),e--)}var l,_=this.subMeshes.slice(0),f=this.getIndices(),d=this.getTotalIndices();for(l=0;l<d;l++){var h=f[l];for(e=0;e<i.length;e++)for(var b=n[t=i[e]].getStrideSize(),m=0;m<b;m++)o[t].push(r[t][h*b+m])}var A=[],g=o[u.b.PositionKind];for(l=0;l<d;l+=3){f[l]=l,f[l+1]=l+1,f[l+2]=l+2;for(var y=c.e.FromArray(g,3*l),v=c.e.FromArray(g,3*(l+1)),C=c.e.FromArray(g,3*(l+2)),E=y.subtract(v),S=C.subtract(v),T=c.e.Normalize(c.e.Cross(E,S)),R=0;R<3;R++)A.push(T.x),A.push(T.y),A.push(T.z)}for(this.setIndices(f),this.setVerticesData(u.b.NormalKind,A,s),e=0;e<i.length;e++)t=i[e],this.setVerticesData(t,o[t],n[t].isUpdatable());this.releaseSubMeshes();for(var M=0;M<_.length;M++){var O=_[M];p.a.AddToMesh(O.materialIndex,O.indexStart,O.indexCount,O.indexStart,O.indexCount,this)}return this.synchronizeInstances(),this},t.prototype.convertToUnIndexedMesh=function(){var e,t,i=this.getVerticesDataKinds(),n={},r={},o={};for(e=0;e<i.length;e++){t=i[e];var s=this.getVertexBuffer(t);n[t]=s,r[t]=n[t].getData(),o[t]=[]}var a,c=this.subMeshes.slice(0),l=this.getIndices(),_=this.getTotalIndices();for(a=0;a<_;a++){var u=l[a];for(e=0;e<i.length;e++)for(var f=n[t=i[e]].getStrideSize(),d=0;d<f;d++)o[t].push(r[t][u*f+d])}for(a=0;a<_;a+=3)l[a]=a,l[a+1]=a+1,l[a+2]=a+2;for(this.setIndices(l),e=0;e<i.length;e++)t=i[e],this.setVerticesData(t,o[t],n[t].isUpdatable());this.releaseSubMeshes();for(var h=0;h<c.length;h++){var b=c[h];p.a.AddToMesh(b.materialIndex,b.indexStart,b.indexCount,b.indexStart,b.indexCount,this)}return this._unIndexed=!0,this.synchronizeInstances(),this},t.prototype.flipFaces=function(e){void 0===e&&(e=!1);var t,i,n=f.a.ExtractFromMesh(this);if(e&&this.isVerticesDataPresent(u.b.NormalKind)&&n.normals)for(t=0;t<n.normals.length;t++)n.normals[t]*=-1;if(n.indices)for(t=0;t<n.indices.length;t+=3)i=n.indices[t+1],n.indices[t+1]=n.indices[t+2],n.indices[t+2]=i;return n.applyToMesh(this,this.isVertexBufferUpdatable(u.b.PositionKind)),this},t.prototype.increaseVertices=function(e){var t=f.a.ExtractFromMesh(this),i=t.uvs,n=t.indices,r=t.positions,o=t.normals;if(n&&r&&o&&i){for(var s,a,l=e+1,_=new Array,d=0;d<l+1;d++)_[d]=new Array;var h,p=new c.e(0,0,0),b=new c.e(0,0,0),m=new c.d(0,0),A=new Array,g=new Array,y=new Array,C=r.length,E=i.length;for(d=0;d<n.length;d+=3){g[0]=n[d],g[1]=n[d+1],g[2]=n[d+2];for(var S=0;S<3;S++)if(s=g[S],a=g[(S+1)%3],void 0===y[s]&&void 0===y[a]?(y[s]=new Array,y[a]=new Array):(void 0===y[s]&&(y[s]=new Array),void 0===y[a]&&(y[a]=new Array)),void 0===y[s][a]&&void 0===y[a][s]){y[s][a]=[],p.x=(r[3*a]-r[3*s])/l,p.y=(r[3*a+1]-r[3*s+1])/l,p.z=(r[3*a+2]-r[3*s+2])/l,b.x=(o[3*a]-o[3*s])/l,b.y=(o[3*a+1]-o[3*s+1])/l,b.z=(o[3*a+2]-o[3*s+2])/l,m.x=(i[2*a]-i[2*s])/l,m.y=(i[2*a+1]-i[2*s+1])/l,y[s][a].push(s);for(var T=1;T<l;T++)y[s][a].push(r.length/3),r[C]=r[3*s]+T*p.x,o[C++]=o[3*s]+T*b.x,r[C]=r[3*s+1]+T*p.y,o[C++]=o[3*s+1]+T*b.y,r[C]=r[3*s+2]+T*p.z,o[C++]=o[3*s+2]+T*b.z,i[E++]=i[2*s]+T*m.x,i[E++]=i[2*s+1]+T*m.y;y[s][a].push(a),y[a][s]=new Array,h=y[s][a].length;for(var R=0;R<h;R++)y[a][s][R]=y[s][a][h-1-R]}_[0][0]=n[d],_[1][0]=y[n[d]][n[d+1]][1],_[1][1]=y[n[d]][n[d+2]][1];for(T=2;T<l;T++){_[T][0]=y[n[d]][n[d+1]][T],_[T][T]=y[n[d]][n[d+2]][T],p.x=(r[3*_[T][T]]-r[3*_[T][0]])/T,p.y=(r[3*_[T][T]+1]-r[3*_[T][0]+1])/T,p.z=(r[3*_[T][T]+2]-r[3*_[T][0]+2])/T,b.x=(o[3*_[T][T]]-o[3*_[T][0]])/T,b.y=(o[3*_[T][T]+1]-o[3*_[T][0]+1])/T,b.z=(o[3*_[T][T]+2]-o[3*_[T][0]+2])/T,m.x=(i[2*_[T][T]]-i[2*_[T][0]])/T,m.y=(i[2*_[T][T]+1]-i[2*_[T][0]+1])/T;for(S=1;S<T;S++)_[T][S]=r.length/3,r[C]=r[3*_[T][0]]+S*p.x,o[C++]=o[3*_[T][0]]+S*b.x,r[C]=r[3*_[T][0]+1]+S*p.y,o[C++]=o[3*_[T][0]+1]+S*b.y,r[C]=r[3*_[T][0]+2]+S*p.z,o[C++]=o[3*_[T][0]+2]+S*b.z,i[E++]=i[2*_[T][0]]+S*m.x,i[E++]=i[2*_[T][0]+1]+S*m.y}_[l]=y[n[d+1]][n[d+2]],A.push(_[0][0],_[1][0],_[1][1]);for(T=1;T<l;T++){for(S=0;S<T;S++)A.push(_[T][S],_[T+1][S],_[T+1][S+1]),A.push(_[T][S],_[T+1][S+1],_[T][S+1]);A.push(_[T][S],_[T+1][S],_[T+1][S+1])}}t.indices=A,t.applyToMesh(this,this.isVertexBufferUpdatable(u.b.PositionKind))}else v.a.Warn("VertexData contains null entries")},t.prototype.forceSharedVertices=function(){var e=f.a.ExtractFromMesh(this),t=e.uvs,i=e.indices,n=e.positions,r=e.colors;if(void 0===i||void 0===n||null===i||null===n)v.a.Warn("VertexData contains empty entries");else{for(var o,s,a=new Array,c=new Array,l=new Array,_=new Array,d=new Array,h=0,p={},b=0;b<i.length;b+=3){s=[i[b],i[b+1],i[b+2]],d=new Array;for(var m=0;m<3;m++){d[m]="";for(var A=0;A<3;A++)Math.abs(n[3*s[m]+A])<1e-8&&(n[3*s[m]+A]=0),d[m]+=n[3*s[m]+A]+"|"}if(d[0]!=d[1]&&d[0]!=d[2]&&d[1]!=d[2])for(m=0;m<3;m++){if(void 0===(o=p[d[m]])){p[d[m]]=h,o=h++;for(A=0;A<3;A++)a.push(n[3*s[m]+A]);if(null!==r&&void 0!==r)for(A=0;A<4;A++)_.push(r[4*s[m]+A]);if(null!==t&&void 0!==t)for(A=0;A<2;A++)l.push(t[2*s[m]+A])}c.push(o)}}var g=new Array;f.a.ComputeNormals(a,c,g),e.positions=a,e.indices=c,e.normals=g,null!==t&&void 0!==t&&(e.uvs=l),null!==r&&void 0!==r&&(e.colors=_),e.applyToMesh(this,this.isVertexBufferUpdatable(u.b.PositionKind))}},t._instancedMeshFactory=function(e,t){throw E.a.WarnImport("InstancedMesh")},t._PhysicsImpostorParser=function(e,t,i){throw E.a.WarnImport("PhysicsImpostor")},t.prototype.createInstance=function(e){var i=this.geometry;if(i&&i.meshes.length>1)for(var n=0,r=i.meshes.slice(0);n<r.length;n++){var o=r[n];o!==this&&o.makeGeometryUnique()}return t._instancedMeshFactory(e,this)},t.prototype.synchronizeInstances=function(){this._geometry&&1!==this._geometry.meshes.length&&this.instances.length&&this.makeGeometryUnique();for(var e=0;e<this.instances.length;e++){this.instances[e]._syncSubMeshes()}return this},t.prototype.optimizeIndices=function(e){var t=this,i=this.getIndices(),n=this.getVerticesData(u.b.PositionKind);if(!n||!i)return this;for(var r=new Array,s=0;s<n.length;s+=3)r.push(c.e.FromArray(n,s));var a=new Array;return o.a.SyncAsyncForLoop(r.length,40,function(e){for(var t=r.length-1-e,i=r[t],n=0;n<t;++n){var o=r[n];if(i.equals(o)){a[t]=n;break}}},function(){for(var n=0;n<i.length;++n)i[n]=a[i[n]]||i[n];var r=t.subMeshes.slice(0);t.setIndices(i),t.subMeshes=r,e&&e(t)}),this},t.prototype.serialize=function(e){e.name=this.name,e.id=this.id,e.uniqueId=this.uniqueId,e.type=this.getClassName(),a.a&&a.a.HasTags(this)&&(e.tags=a.a.GetTags(this)),e.position=this.position.asArray(),this.rotationQuaternion?e.rotationQuaternion=this.rotationQuaternion.asArray():this.rotation&&(e.rotation=this.rotation.asArray()),e.scaling=this.scaling.asArray(),this._postMultiplyPivotMatrix?e.pivotMatrix=this.getPivotMatrix().asArray():e.localMatrix=this.getPivotMatrix().asArray(),e.isEnabled=this.isEnabled(!1),e.isVisible=this.isVisible,e.infiniteDistance=this.infiniteDistance,e.pickable=this.isPickable,e.receiveShadows=this.receiveShadows,e.billboardMode=this.billboardMode,e.visibility=this.visibility,e.checkCollisions=this.checkCollisions,e.isBlocker=this.isBlocker,e.overrideMaterialSideOrientation=this.overrideMaterialSideOrientation,this.parent&&(e.parentId=this.parent.id),e.isUnIndexed=this.isUnIndexed;var t=this._geometry;if(t){var i=t.id;e.geometryId=i,e.subMeshes=[];for(var n=0;n<this.subMeshes.length;n++){var r=this.subMeshes[n];e.subMeshes.push({materialIndex:r.materialIndex,verticesStart:r.verticesStart,verticesCount:r.verticesCount,indexStart:r.indexStart,indexCount:r.indexCount})}}(this.material?this.material.doNotSerialize||(e.materialId=this.material.id):this.material=null,this.morphTargetManager&&(e.morphTargetManagerId=this.morphTargetManager.uniqueId),this.skeleton&&(e.skeletonId=this.skeleton.id,e.numBoneInfluencers=this.numBoneInfluencers),this.getScene()._getComponent(S.a.NAME_PHYSICSENGINE))&&((l=this.getPhysicsImpostor())&&(e.physicsMass=l.getParam("mass"),e.physicsFriction=l.getParam("friction"),e.physicsRestitution=l.getParam("mass"),e.physicsImpostor=l.type));this.metadata&&(e.metadata=this.metadata),e.instances=[];for(var s=0;s<this.instances.length;s++){var c=this.instances[s];if(!c.doNotSerialize){var l,_={name:c.name,id:c.id,isEnabled:c.isEnabled(!1),isVisible:c.isVisible,isPickable:c.isPickable,checkCollisions:c.checkCollisions,position:c.position.asArray(),scaling:c.scaling.asArray()};if(c.parent&&(_.parentId=c.parent.id),c.rotationQuaternion?_.rotationQuaternion=c.rotationQuaternion.asArray():c.rotation&&(_.rotation=c.rotation.asArray()),this.getScene()._getComponent(S.a.NAME_PHYSICSENGINE))(l=c.getPhysicsImpostor())&&(_.physicsMass=l.getParam("mass"),_.physicsFriction=l.getParam("friction"),_.physicsRestitution=l.getParam("mass"),_.physicsImpostor=l.type);c.metadata&&(_.metadata=c.metadata),e.instances.push(_),y.a.AppendSerializedAnimations(c,_),_.ranges=c.serializeAnimationRanges()}}if(this._thinInstanceDataStorage.instancesCount&&this._thinInstanceDataStorage.matrixData&&(e.thinInstances={instancesCount:this._thinInstanceDataStorage.instancesCount,matrixData:o.b.SliceToArray(this._thinInstanceDataStorage.matrixData),matrixBufferSize:this._thinInstanceDataStorage.matrixBufferSize},this._userThinInstanceBuffersStorage)){var u={data:{},sizes:{},strides:{}};for(var f in this._userThinInstanceBuffersStorage.data)u.data[f]=o.b.SliceToArray(this._userThinInstanceBuffersStorage.data[f]),u.sizes[f]=this._userThinInstanceBuffersStorage.sizes[f],u.strides[f]=this._userThinInstanceBuffersStorage.strides[f];e.thinInstances.userThinInstance=u}y.a.AppendSerializedAnimations(this,e),e.ranges=this.serializeAnimationRanges(),e.layerMask=this.layerMask,e.alphaIndex=this.alphaIndex,e.hasVertexAlpha=this.hasVertexAlpha,e.overlayAlpha=this.overlayAlpha,e.overlayColor=this.overlayColor.asArray(),e.renderOverlay=this.renderOverlay,e.applyFog=this.applyFog,this.actionManager&&(e.actions=this.actionManager.serialize(this.name))},t.prototype._syncGeometryWithMorphTargetManager=function(){if(this.geometry){this._markSubMeshesAsAttributesDirty();var e=this._internalMeshDataInfo._morphTargetManager;if(e&&e.vertexCount){if(e.vertexCount!==this.getTotalVertices())return v.a.Error("Mesh is incompatible with morph targets. Targets and mesh must all have the same vertices count."),void(this.morphTargetManager=null);for(var t=0;t<e.numInfluencers;t++){var i=e.getActiveTarget(t),n=i.getPositions();if(!n)return void v.a.Error("Invalid morph target. Target must have positions.");this.geometry.setVerticesData(u.b.PositionKind+t,n,!1,3);var r=i.getNormals();r&&this.geometry.setVerticesData(u.b.NormalKind+t,r,!1,3);var o=i.getTangents();o&&this.geometry.setVerticesData(u.b.TangentKind+t,o,!1,3);var s=i.getUVs();s&&this.geometry.setVerticesData(u.b.UVKind+"_"+t,s,!1,2)}}else for(t=0;this.geometry.isVerticesDataPresent(u.b.PositionKind+t);)this.geometry.removeVerticesData(u.b.PositionKind+t),this.geometry.isVerticesDataPresent(u.b.NormalKind+t)&&this.geometry.removeVerticesData(u.b.NormalKind+t),this.geometry.isVerticesDataPresent(u.b.TangentKind+t)&&this.geometry.removeVerticesData(u.b.TangentKind+t),this.geometry.isVerticesDataPresent(u.b.UVKind+t)&&this.geometry.removeVerticesData(u.b.UVKind+"_"+t),t++}},t.Parse=function(e,i,n){var r;if((r=e.type&&"GroundMesh"===e.type?t._GroundMeshParser(e,i):new t(e.name,i)).id=e.id,a.a&&a.a.AddTagsTo(r,e.tags),r.position=c.e.FromArray(e.position),void 0!==e.metadata&&(r.metadata=e.metadata),e.rotationQuaternion?r.rotationQuaternion=c.b.FromArray(e.rotationQuaternion):e.rotation&&(r.rotation=c.e.FromArray(e.rotation)),r.scaling=c.e.FromArray(e.scaling),e.localMatrix?r.setPreTransformMatrix(c.a.FromArray(e.localMatrix)):e.pivotMatrix&&r.setPivotMatrix(c.a.FromArray(e.pivotMatrix)),r.setEnabled(e.isEnabled),r.isVisible=e.isVisible,r.infiniteDistance=e.infiniteDistance,r.showBoundingBox=e.showBoundingBox,r.showSubMeshesBoundingBox=e.showSubMeshesBoundingBox,void 0!==e.applyFog&&(r.applyFog=e.applyFog),void 0!==e.pickable&&(r.isPickable=e.pickable),void 0!==e.alphaIndex&&(r.alphaIndex=e.alphaIndex),r.receiveShadows=e.receiveShadows,r.billboardMode=e.billboardMode,void 0!==e.visibility&&(r.visibility=e.visibility),r.checkCollisions=e.checkCollisions,r.overrideMaterialSideOrientation=e.overrideMaterialSideOrientation,void 0!==e.isBlocker&&(r.isBlocker=e.isBlocker),r._shouldGenerateFlatShading=e.useFlatShading,e.freezeWorldMatrix&&(r._waitingData.freezeWorldMatrix=e.freezeWorldMatrix),e.parentId&&(r._waitingParentId=e.parentId),void 0!==e.actions&&(r._waitingData.actions=e.actions),void 0!==e.overlayAlpha&&(r.overlayAlpha=e.overlayAlpha),void 0!==e.overlayColor&&(r.overlayColor=l.a.FromArray(e.overlayColor)),void 0!==e.renderOverlay&&(r.renderOverlay=e.renderOverlay),r.isUnIndexed=!!e.isUnIndexed,r.hasVertexAlpha=e.hasVertexAlpha,e.delayLoadingFile?(r.delayLoadState=4,r.delayLoadingFile=n+e.delayLoadingFile,r._boundingInfo=new b.a(c.e.FromArray(e.boundingBoxMinimum),c.e.FromArray(e.boundingBoxMaximum)),e._binaryInfo&&(r._binaryInfo=e._binaryInfo),r._delayInfo=[],e.hasUVs&&r._delayInfo.push(u.b.UVKind),e.hasUVs2&&r._delayInfo.push(u.b.UV2Kind),e.hasUVs3&&r._delayInfo.push(u.b.UV3Kind),e.hasUVs4&&r._delayInfo.push(u.b.UV4Kind),e.hasUVs5&&r._delayInfo.push(u.b.UV5Kind),e.hasUVs6&&r._delayInfo.push(u.b.UV6Kind),e.hasColors&&r._delayInfo.push(u.b.ColorKind),e.hasMatricesIndices&&r._delayInfo.push(u.b.MatricesIndicesKind),e.hasMatricesWeights&&r._delayInfo.push(u.b.MatricesWeightsKind),r._delayLoadingFunction=d.a._ImportGeometry,g.a.ForceFullSceneLoadingForIncremental&&r._checkDelayState()):d.a._ImportGeometry(e,r),e.materialId?r.setMaterialByID(e.materialId):r.material=null,e.morphTargetManagerId>-1&&(r.morphTargetManager=i.getMorphTargetManagerById(e.morphTargetManagerId)),void 0!==e.skeletonId&&null!==e.skeletonId&&(r.skeleton=i.getLastSkeletonByID(e.skeletonId),e.numBoneInfluencers&&(r.numBoneInfluencers=e.numBoneInfluencers)),e.animations){for(var o=0;o<e.animations.length;o++){var s=e.animations[o];(m=C.a.GetClass("BABYLON.Animation"))&&r.animations.push(m.Parse(s))}_.a.ParseAnimationRanges(r,e,i)}if(e.autoAnimate&&i.beginAnimation(r,e.autoAnimateFrom,e.autoAnimateTo,e.autoAnimateLoop,e.autoAnimateSpeed||1),e.layerMask&&!isNaN(e.layerMask)?r.layerMask=Math.abs(parseInt(e.layerMask)):r.layerMask=268435455,e.physicsImpostor&&t._PhysicsImpostorParser(i,r,e),e.lodMeshIds&&(r._waitingData.lods={ids:e.lodMeshIds,distances:e.lodDistances?e.lodDistances:null,coverages:e.lodCoverages?e.lodCoverages:null}),e.instances)for(var f=0;f<e.instances.length;f++){var h=e.instances[f],p=r.createInstance(h.name);if(h.id&&(p.id=h.id),a.a&&(h.tags?a.a.AddTagsTo(p,h.tags):a.a.AddTagsTo(p,e.tags)),p.position=c.e.FromArray(h.position),void 0!==h.metadata&&(p.metadata=h.metadata),h.parentId&&(p._waitingParentId=h.parentId),void 0!==h.isEnabled&&null!==h.isEnabled&&p.setEnabled(h.isEnabled),void 0!==h.isVisible&&null!==h.isVisible&&(p.isVisible=h.isVisible),void 0!==h.isPickable&&null!==h.isPickable&&(p.isPickable=h.isPickable),h.rotationQuaternion?p.rotationQuaternion=c.b.FromArray(h.rotationQuaternion):h.rotation&&(p.rotation=c.e.FromArray(h.rotation)),p.scaling=c.e.FromArray(h.scaling),void 0!=h.checkCollisions&&null!=h.checkCollisions&&(p.checkCollisions=h.checkCollisions),void 0!=h.pickable&&null!=h.pickable&&(p.isPickable=h.pickable),void 0!=h.showBoundingBox&&null!=h.showBoundingBox&&(p.showBoundingBox=h.showBoundingBox),void 0!=h.showSubMeshesBoundingBox&&null!=h.showSubMeshesBoundingBox&&(p.showSubMeshesBoundingBox=h.showSubMeshesBoundingBox),void 0!=h.alphaIndex&&null!=h.showSubMeshesBoundingBox&&(p.alphaIndex=h.alphaIndex),h.physicsImpostor&&t._PhysicsImpostorParser(i,p,h),h.animations){for(o=0;o<h.animations.length;o++){var m;s=h.animations[o],(m=C.a.GetClass("BABYLON.Animation"))&&p.animations.push(m.Parse(s))}_.a.ParseAnimationRanges(p,h,i),h.autoAnimate&&i.beginAnimation(p,h.autoAnimateFrom,h.autoAnimateTo,h.autoAnimateLoop,h.autoAnimateSpeed||1)}}if(e.thinInstances){var A=e.thinInstances;if(A.matrixData?(r.thinInstanceSetBuffer("matrix",new Float32Array(A.matrixData),16,!1),r._thinInstanceDataStorage.matrixBufferSize=A.matrixBufferSize,r._thinInstanceDataStorage.instancesCount=A.instancesCount):r._thinInstanceDataStorage.matrixBufferSize=A.matrixBufferSize,e.thinInstances.userThinInstance){var y=e.thinInstances.userThinInstance;for(var v in y.data)r.thinInstanceSetBuffer(v,new Float32Array(y.data[v]),y.strides[v],!1),r._userThinInstanceBuffersStorage.sizes[v]=y.sizes[v]}}return r},t.CreateRibbon=function(e,t,i,n,r,o,s,a,c){throw E.a.WarnImport("MeshBuilder")},t.CreateDisc=function(e,t,i,n,r,o){throw void 0===n&&(n=null),E.a.WarnImport("MeshBuilder")},t.CreateBox=function(e,t,i,n,r){throw void 0===i&&(i=null),E.a.WarnImport("MeshBuilder")},t.CreateSphere=function(e,t,i,n,r,o){throw E.a.WarnImport("MeshBuilder")},t.CreateHemisphere=function(e,t,i,n){throw E.a.WarnImport("MeshBuilder")},t.CreateCylinder=function(e,t,i,n,r,o,s,a,c){throw E.a.WarnImport("MeshBuilder")},t.CreateTorus=function(e,t,i,n,r,o,s){throw E.a.WarnImport("MeshBuilder")},t.CreateTorusKnot=function(e,t,i,n,r,o,s,a,c,l){throw E.a.WarnImport("MeshBuilder")},t.CreateLines=function(e,t,i,n,r){throw void 0===i&&(i=null),void 0===n&&(n=!1),void 0===r&&(r=null),E.a.WarnImport("MeshBuilder")},t.CreateDashedLines=function(e,t,i,n,r,o,s,a){throw void 0===o&&(o=null),E.a.WarnImport("MeshBuilder")},t.CreatePolygon=function(e,t,i,n,r,o,s){throw void 0===s&&(s=earcut),E.a.WarnImport("MeshBuilder")},t.ExtrudePolygon=function(e,t,i,n,r,o,s,a){throw void 0===a&&(a=earcut),E.a.WarnImport("MeshBuilder")},t.ExtrudeShape=function(e,t,i,n,r,o,s,a,c,l){throw void 0===s&&(s=null),E.a.WarnImport("MeshBuilder")},t.ExtrudeShapeCustom=function(e,t,i,n,r,o,s,a,c,l,_,u){throw E.a.WarnImport("MeshBuilder")},t.CreateLathe=function(e,t,i,n,r,o,s){throw E.a.WarnImport("MeshBuilder")},t.CreatePlane=function(e,t,i,n,r){throw E.a.WarnImport("MeshBuilder")},t.CreateGround=function(e,t,i,n,r,o){throw E.a.WarnImport("MeshBuilder")},t.CreateTiledGround=function(e,t,i,n,r,o,s,a,c){throw E.a.WarnImport("MeshBuilder")},t.CreateGroundFromHeightMap=function(e,t,i,n,r,o,s,a,c,l,_){throw E.a.WarnImport("MeshBuilder")},t.CreateTube=function(e,t,i,n,r,o,s,a,c,l){throw E.a.WarnImport("MeshBuilder")},t.CreatePolyhedron=function(e,t,i){throw E.a.WarnImport("MeshBuilder")},t.CreateIcoSphere=function(e,t,i){throw E.a.WarnImport("MeshBuilder")},t.CreateDecal=function(e,t,i,n,r,o){throw E.a.WarnImport("MeshBuilder")},t.CreateCapsule=function(e,t,i){throw E.a.WarnImport("MeshBuilder")},t.prototype.setPositionsForCPUSkinning=function(){var e=this._internalMeshDataInfo;if(!e._sourcePositions){var t=this.getVerticesData(u.b.PositionKind);if(!t)return e._sourcePositions;e._sourcePositions=new Float32Array(t),this.isVertexBufferUpdatable(u.b.PositionKind)||this.setVerticesData(u.b.PositionKind,t,!0)}return e._sourcePositions},t.prototype.setNormalsForCPUSkinning=function(){var e=this._internalMeshDataInfo;if(!e._sourceNormals){var t=this.getVerticesData(u.b.NormalKind);if(!t)return e._sourceNormals;e._sourceNormals=new Float32Array(t),this.isVertexBufferUpdatable(u.b.NormalKind)||this.setVerticesData(u.b.NormalKind,t,!0)}return e._sourceNormals},t.prototype.applySkeleton=function(e){if(!this.geometry)return this;if(this.geometry._softwareSkinningFrameId==this.getScene().getFrameId())return this;if(this.geometry._softwareSkinningFrameId=this.getScene().getFrameId(),!this.isVerticesDataPresent(u.b.PositionKind))return this;if(!this.isVerticesDataPresent(u.b.MatricesIndicesKind))return this;if(!this.isVerticesDataPresent(u.b.MatricesWeightsKind))return this;var t=this.isVerticesDataPresent(u.b.NormalKind),i=this._internalMeshDataInfo;if(!i._sourcePositions){var n=this.subMeshes.slice();this.setPositionsForCPUSkinning(),this.subMeshes=n}t&&!i._sourceNormals&&this.setNormalsForCPUSkinning();var r=this.getVerticesData(u.b.PositionKind);if(!r)return this;r instanceof Float32Array||(r=new Float32Array(r));var o=this.getVerticesData(u.b.NormalKind);if(t){if(!o)return this;o instanceof Float32Array||(o=new Float32Array(o))}var s=this.getVerticesData(u.b.MatricesIndicesKind),a=this.getVerticesData(u.b.MatricesWeightsKind);if(!a||!s)return this;for(var l,_=this.numBoneInfluencers>4,f=_?this.getVerticesData(u.b.MatricesIndicesExtraKind):null,d=_?this.getVerticesData(u.b.MatricesWeightsExtraKind):null,h=e.getTransformMatrices(this),p=c.e.Zero(),b=new c.a,m=new c.a,A=0,g=0;g<r.length;g+=3,A+=4){var y;for(l=0;l<4;l++)(y=a[A+l])>0&&(c.a.FromFloat32ArrayToRefScaled(h,Math.floor(16*s[A+l]),y,m),b.addToSelf(m));if(_)for(l=0;l<4;l++)(y=d[A+l])>0&&(c.a.FromFloat32ArrayToRefScaled(h,Math.floor(16*f[A+l]),y,m),b.addToSelf(m));c.e.TransformCoordinatesFromFloatsToRef(i._sourcePositions[g],i._sourcePositions[g+1],i._sourcePositions[g+2],b,p),p.toArray(r,g),t&&(c.e.TransformNormalFromFloatsToRef(i._sourceNormals[g],i._sourceNormals[g+1],i._sourceNormals[g+2],b,p),p.toArray(o,g)),b.reset()}return this.updateVerticesData(u.b.PositionKind,r),t&&this.updateVerticesData(u.b.NormalKind,o),this},t.MinMax=function(e){var t=null,i=null;return e.forEach(function(e){var n=e.getBoundingInfo().boundingBox;t&&i?(t.minimizeInPlace(n.minimumWorld),i.maximizeInPlace(n.maximumWorld)):(t=n.minimumWorld,i=n.maximumWorld)}),t&&i?{min:t,max:i}:{min:c.e.Zero(),max:c.e.Zero()}},t.Center=function(e){var i=e instanceof Array?t.MinMax(e):e;return c.e.Center(i.min,i.max)},t.MergeMeshes=function(e,i,n,r,o,s){var a;if(void 0===i&&(i=!0),!n){var c=0;for(a=0;a<e.length;a++)if(e[a]&&(c+=e[a].getTotalVertices())>=65536)return v.a.Warn("Cannot merge meshes because resulting mesh will have more than 65536 vertices. Please use allow32BitsIndices = true to use 32 bits indices"),null}if(s){var l,_,u=null;o=!1}var d,h=new Array,b=new Array,m=null,g=new Array,y=null;for(a=0;a<e.length;a++)if(e[a]){var C=e[a];if(C.isAnInstance)return v.a.Warn("Cannot merge instance meshes."),null;var E=C.computeWorldMatrix(!0);if((d=f.a.ExtractFromMesh(C,!0,!0)).transform(E),m?m.merge(d,n):(m=d,y=C),o&&g.push(C.getTotalIndices()),s)if(C.material){var S=C.material;if(S instanceof A.a){for(_=0;_<S.subMaterials.length;_++)h.indexOf(S.subMaterials[_])<0&&h.push(S.subMaterials[_]);for(l=0;l<C.subMeshes.length;l++)b.push(h.indexOf(S.subMaterials[C.subMeshes[l].materialIndex])),g.push(C.subMeshes[l].indexCount)}else for(h.indexOf(S)<0&&h.push(S),l=0;l<C.subMeshes.length;l++)b.push(h.indexOf(S)),g.push(C.subMeshes[l].indexCount)}else for(l=0;l<C.subMeshes.length;l++)b.push(0),g.push(C.subMeshes[l].indexCount)}if(r||(r=new t(y.name+"_merged",y.getScene())),m.applyToMesh(r),r.checkCollisions=y.checkCollisions,r.overrideMaterialSideOrientation=y.overrideMaterialSideOrientation,i)for(a=0;a<e.length;a++)e[a]&&e[a].dispose();if(o||s){r.releaseSubMeshes(),a=0;for(var T=0;a<g.length;)p.a.CreateFromIndices(0,T,g[a],r),T+=g[a],a++}if(s){for((u=new A.a(y.name+"_merged",y.getScene())).subMaterials=h,l=0;l<r.subMeshes.length;l++)r.subMeshes[l].materialIndex=b[l];r.material=u}else r.material=y.material;return r},t.prototype.addInstance=function(e){e._indexInSourceMeshInstanceArray=this.instances.length,this.instances.push(e)},t.prototype.removeInstance=function(e){var t=e._indexInSourceMeshInstanceArray;if(-1!=t){if(t!==this.instances.length-1){var i=this.instances[this.instances.length-1];this.instances[t]=i,i._indexInSourceMeshInstanceArray=t}e._indexInSourceMeshInstanceArray=-1,this.instances.pop()}},t.FRONTSIDE=f.a.FRONTSIDE,t.BACKSIDE=f.a.BACKSIDE,t.DOUBLESIDE=f.a.DOUBLESIDE,t.DEFAULTSIDE=f.a.DEFAULTSIDE,t.NO_CAP=0,t.CAP_START=1,t.CAP_END=2,t.CAP_ALL=3,t.NO_FLIP=0,t.FLIP_TILE=1,t.ROTATE_TILE=2,t.FLIP_ROW=3,t.ROTATE_ROW=4,t.FLIP_N_ROTATE_TILE=5,t.FLIP_N_ROTATE_ROW=6,t.CENTER=0,t.LEFT=1,t.RIGHT=2,t.TOP=3,t.BOTTOM=4,t._GroundMeshParser=function(e,t){throw E.a.WarnImport("GroundMesh")},t}(h.a);C.a.RegisteredTypes["BABYLON.Mesh"]=D},677:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(644),r=i(648),o=i(658),s=i(650),a=i(668),c=i(804),l=i(883),_=i(649),u=i(166),f=function(){function e(t,i,n){this.shadowDepthWrapper=null,this.allowShaderHotSwapping=!0,this.metadata=null,this.reservedDataStore=null,this.checkReadyOnEveryCall=!1,this.checkReadyOnlyOnce=!1,this.state="",this._alpha=1,this._backFaceCulling=!0,this.onCompiled=null,this.onError=null,this.getRenderTargetTextures=null,this.doNotSerialize=!1,this._storeEffectOnSubMeshes=!1,this.animations=null,this.onDisposeObservable=new s.a,this._onDisposeObserver=null,this._onUnBindObservable=null,this._onBindObserver=null,this._alphaMode=2,this._needDepthPrePass=!1,this.disableDepthWrite=!1,this.disableColorWrite=!1,this.forceDepthWrite=!1,this.depthFunction=0,this.separateCullingPass=!1,this._fogEnabled=!0,this.pointSize=1,this.zOffset=0,this._effect=null,this._useUBO=!1,this._fillMode=e.TriangleFillMode,this._cachedDepthWriteState=!1,this._cachedColorWriteState=!1,this._cachedDepthFunctionState=0,this._indexInSceneMaterialArray=-1,this.meshMap=null,this._forceAlphaTest=!1,this._transparencyMode=null,this.name=t;var r=1;for(this._scene=i||a.a.LastCreatedScene,this.id=t||o.b.RandomId();this._scene.getMaterialByID(this.id);)this.id=t+" "+r++;this.uniqueId=this._scene.getUniqueId(),this._scene.useRightHandedSystem?this.sideOrientation=e.ClockWiseSideOrientation:this.sideOrientation=e.CounterClockWiseSideOrientation,this._uniformBuffer=new l.a(this._scene.getEngine()),this._useUBO=this.getScene().getEngine().supportsUniformBuffers,n||this._scene.addMaterial(this),this._scene.useMaterialMeshMap&&(this.meshMap={})}return Object.defineProperty(e.prototype,"canRenderToMRT",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alpha",{get:function(){return this._alpha},set:function(t){this._alpha!==t&&(this._alpha=t,this.markAsDirty(e.MiscDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"backFaceCulling",{get:function(){return this._backFaceCulling},set:function(t){this._backFaceCulling!==t&&(this._backFaceCulling=t,this.markAsDirty(e.TextureDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasRenderTargetTextures",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onDispose",{set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBindObservable",{get:function(){return this._onBindObservable||(this._onBindObservable=new s.a),this._onBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBind",{set:function(e){this._onBindObserver&&this.onBindObservable.remove(this._onBindObserver),this._onBindObserver=this.onBindObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onUnBindObservable",{get:function(){return this._onUnBindObservable||(this._onUnBindObservable=new s.a),this._onUnBindObservable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onEffectCreatedObservable",{get:function(){return this._onEffectCreatedObservable||(this._onEffectCreatedObservable=new s.a),this._onEffectCreatedObservable},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaMode",{get:function(){return this._alphaMode},set:function(t){this._alphaMode!==t&&(this._alphaMode=t,this.markAsDirty(e.TextureDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needDepthPrePass",{get:function(){return this._needDepthPrePass},set:function(e){this._needDepthPrePass!==e&&(this._needDepthPrePass=e,this._needDepthPrePass&&(this.checkReadyOnEveryCall=!0))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fogEnabled",{get:function(){return this._fogEnabled},set:function(t){this._fogEnabled!==t&&(this._fogEnabled=t,this.markAsDirty(e.MiscDirtyFlag))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wireframe",{get:function(){switch(this._fillMode){case e.WireFrameFillMode:case e.LineListDrawMode:case e.LineLoopDrawMode:case e.LineStripDrawMode:return!0}return this._scene.forceWireframe},set:function(t){this.fillMode=t?e.WireFrameFillMode:e.TriangleFillMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointsCloud",{get:function(){switch(this._fillMode){case e.PointFillMode:case e.PointListDrawMode:return!0}return this._scene.forcePointsCloud},set:function(t){this.fillMode=t?e.PointFillMode:e.TriangleFillMode},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"fillMode",{get:function(){return this._fillMode},set:function(t){this._fillMode!==t&&(this._fillMode=t,this.markAsDirty(e.MiscDirtyFlag))},enumerable:!1,configurable:!0}),e.prototype.toString=function(e){return"Name: "+this.name},e.prototype.getClassName=function(){return"Material"},Object.defineProperty(e.prototype,"isFrozen",{get:function(){return this.checkReadyOnlyOnce},enumerable:!1,configurable:!0}),e.prototype.freeze=function(){this.markDirty(),this.checkReadyOnlyOnce=!0},e.prototype.unfreeze=function(){this.markDirty(),this.checkReadyOnlyOnce=!1},e.prototype.isReady=function(e,t){return!0},e.prototype.isReadyForSubMesh=function(e,t,i){return!1},e.prototype.getEffect=function(){return this._effect},e.prototype.getScene=function(){return this._scene},Object.defineProperty(e.prototype,"transparencyMode",{get:function(){return this._transparencyMode},set:function(t){this._transparencyMode!==t&&(this._transparencyMode=t,this._forceAlphaTest=t===e.MATERIAL_ALPHATESTANDBLEND,this._markAllSubMeshesAsTexturesAndMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_disableAlphaBlending",{get:function(){return this._transparencyMode===e.MATERIAL_OPAQUE||this._transparencyMode===e.MATERIAL_ALPHATEST},enumerable:!1,configurable:!0}),e.prototype.needAlphaBlending=function(){return!this._disableAlphaBlending&&this.alpha<1},e.prototype.needAlphaBlendingForMesh=function(e){return!(this._disableAlphaBlending&&e.visibility>=1)&&(this.needAlphaBlending()||e.visibility<1||e.hasVertexAlpha)},e.prototype.needAlphaTesting=function(){return!!this._forceAlphaTest},e.prototype._shouldTurnAlphaTestOn=function(e){return!this.needAlphaBlendingForMesh(e)&&this.needAlphaTesting()},e.prototype.getAlphaTestTexture=function(){return null},e.prototype.markDirty=function(){for(var e=0,t=this.getScene().meshes;e<t.length;e++){var i=t[e];if(i.subMeshes)for(var n=0,r=i.subMeshes;n<r.length;n++){var o=r[n];o.getMaterial()===this&&(o.effect&&(o.effect._wasPreviouslyReady=!1))}}},e.prototype._preBind=function(t,i){void 0===i&&(i=null);var n=this._scene.getEngine(),r=(null==i?this.sideOrientation:i)===e.ClockWiseSideOrientation;return n.enableEffect(t||this._effect),n.setState(this.backFaceCulling,this.zOffset,!1,r),r},e.prototype.bind=function(e,t){},e.prototype.bindForSubMesh=function(e,t,i){},e.prototype.bindOnlyWorldMatrix=function(e){},e.prototype.bindSceneUniformBuffer=function(e,t){t.bindToEffect(e,"Scene")},e.prototype.bindView=function(e){this._useUBO?this.bindSceneUniformBuffer(e,this.getScene().getSceneUniformBuffer()):e.setMatrix("view",this.getScene().getViewMatrix())},e.prototype.bindViewProjection=function(e){this._useUBO?this.bindSceneUniformBuffer(e,this.getScene().getSceneUniformBuffer()):e.setMatrix("viewProjection",this.getScene().getTransformMatrix())},e.prototype._afterBind=function(e){if(this._scene._cachedMaterial=this,this._scene._cachedVisibility=e?e.visibility:1,this._onBindObservable&&e&&this._onBindObservable.notifyObservers(e),this.disableDepthWrite){var t=this._scene.getEngine();this._cachedDepthWriteState=t.getDepthWrite(),t.setDepthWrite(!1)}if(this.disableColorWrite){t=this._scene.getEngine();this._cachedColorWriteState=t.getColorWrite(),t.setColorWrite(!1)}if(0!==this.depthFunction){t=this._scene.getEngine();this._cachedDepthFunctionState=t.getDepthFunction()||0,t.setDepthFunction(this.depthFunction)}},e.prototype.unbind=function(){(this._onUnBindObservable&&this._onUnBindObservable.notifyObservers(this),0!==this.depthFunction)&&this._scene.getEngine().setDepthFunction(this._cachedDepthFunctionState);this.disableDepthWrite&&this._scene.getEngine().setDepthWrite(this._cachedDepthWriteState);this.disableColorWrite&&this._scene.getEngine().setColorWrite(this._cachedColorWriteState)},e.prototype.getActiveTextures=function(){return[]},e.prototype.hasTexture=function(e){return!1},e.prototype.clone=function(e){return null},e.prototype.getBindedMeshes=function(){var e=this;if(this.meshMap){var t=new Array;for(var i in this.meshMap){var n=this.meshMap[i];n&&t.push(n)}return t}return this._scene.meshes.filter(function(t){return t.material===e})},e.prototype.forceCompilation=function(e,t,i,r){var o=this,s=Object(n.a)({clipPlane:!1,useInstances:!1},i),a=this.getScene(),l=this.allowShaderHotSwapping;this.allowShaderHotSwapping=!1;!function i(){if(o._scene&&o._scene.getEngine()){var n=a.clipPlane;if(s.clipPlane&&(a.clipPlane=new u.a(0,0,0,1)),o._storeEffectOnSubMeshes){var _=!0,f=null;if(e.subMeshes){var d=new c.a(0,0,0,0,0,e,void 0,!1,!1);d._materialDefines&&(d._materialDefines._renderId=-1),o.isReadyForSubMesh(e,d,s.useInstances)||(d.effect&&d.effect.getCompilationError()&&d.effect.allFallbacksProcessed()?f=d.effect.getCompilationError():(_=!1,setTimeout(i,16)))}_&&(o.allowShaderHotSwapping=l,f&&r&&r(f),t&&t(o))}else o.isReady()?(o.allowShaderHotSwapping=l,t&&t(o)):setTimeout(i,16);s.clipPlane&&(a.clipPlane=n)}}()},e.prototype.forceCompilationAsync=function(e,t){var i=this;return new Promise(function(n,r){i.forceCompilation(e,function(){n()},t,function(e){r(e)})})},e.prototype.markAsDirty=function(t){this.getScene().blockMaterialDirtyMechanism||(e._DirtyCallbackArray.length=0,t&e.TextureDirtyFlag&&e._DirtyCallbackArray.push(e._TextureDirtyCallBack),t&e.LightDirtyFlag&&e._DirtyCallbackArray.push(e._LightsDirtyCallBack),t&e.FresnelDirtyFlag&&e._DirtyCallbackArray.push(e._FresnelDirtyCallBack),t&e.AttributesDirtyFlag&&e._DirtyCallbackArray.push(e._AttributeDirtyCallBack),t&e.MiscDirtyFlag&&e._DirtyCallbackArray.push(e._MiscDirtyCallBack),t&e.PrePassDirtyFlag&&e._DirtyCallbackArray.push(e._PrePassDirtyCallBack),e._DirtyCallbackArray.length&&this._markAllSubMeshesAsDirty(e._RunDirtyCallBacks),this.getScene().resetCachedMaterial())},e.prototype._markAllSubMeshesAsDirty=function(e){if(!this.getScene().blockMaterialDirtyMechanism)for(var t=0,i=this.getScene().meshes;t<i.length;t++){var n=i[t];if(n.subMeshes)for(var r=0,o=n.subMeshes;r<o.length;r++){var s=o[r];s.getMaterial()===this&&(s._materialDefines&&e(s._materialDefines))}}},e.prototype._markScenePrePassDirty=function(){if(!this.getScene().blockMaterialDirtyMechanism){var e=this.getScene().enablePrePassRenderer();e&&e.markAsDirty()}},e.prototype._markAllSubMeshesAsAllDirty=function(){this._markAllSubMeshesAsDirty(e._AllDirtyCallBack)},e.prototype._markAllSubMeshesAsImageProcessingDirty=function(){this._markAllSubMeshesAsDirty(e._ImageProcessingDirtyCallBack)},e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._markAllSubMeshesAsDirty(e._TextureDirtyCallBack)},e.prototype._markAllSubMeshesAsFresnelDirty=function(){this._markAllSubMeshesAsDirty(e._FresnelDirtyCallBack)},e.prototype._markAllSubMeshesAsFresnelAndMiscDirty=function(){this._markAllSubMeshesAsDirty(e._FresnelAndMiscDirtyCallBack)},e.prototype._markAllSubMeshesAsLightsDirty=function(){this._markAllSubMeshesAsDirty(e._LightsDirtyCallBack)},e.prototype._markAllSubMeshesAsAttributesDirty=function(){this._markAllSubMeshesAsDirty(e._AttributeDirtyCallBack)},e.prototype._markAllSubMeshesAsMiscDirty=function(){this._markAllSubMeshesAsDirty(e._MiscDirtyCallBack)},e.prototype._markAllSubMeshesAsPrePassDirty=function(){this._markAllSubMeshesAsDirty(e._MiscDirtyCallBack)},e.prototype._markAllSubMeshesAsTexturesAndMiscDirty=function(){this._markAllSubMeshesAsDirty(e._TextureAndMiscDirtyCallBack)},e.prototype.setPrePassRenderer=function(e){return!1},e.prototype.dispose=function(e,t,i){var n=this.getScene();if(n.stopAnimation(this),n.freeProcessedMaterials(),n.removeMaterial(this),!0!==i)if(this.meshMap)for(var r in this.meshMap){(a=this.meshMap[r])&&(a.material=null,this.releaseVertexArrayObject(a,e))}else for(var o=0,s=n.meshes;o<s.length;o++){var a;(a=s[o]).material!==this||a.sourceMesh||(a.material=null,this.releaseVertexArrayObject(a,e))}this._uniformBuffer.dispose(),e&&this._effect&&(this._storeEffectOnSubMeshes||this._effect.dispose(),this._effect=null),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),this._onBindObservable&&this._onBindObservable.clear(),this._onUnBindObservable&&this._onUnBindObservable.clear(),this._onEffectCreatedObservable&&this._onEffectCreatedObservable.clear()},e.prototype.releaseVertexArrayObject=function(e,t){if(e.geometry){var i=e.geometry;if(this._storeEffectOnSubMeshes)for(var n=0,r=e.subMeshes;n<r.length;n++){var o=r[n];i._releaseVertexArrayObject(o._materialEffect),t&&o._materialEffect&&o._materialEffect.dispose()}else i._releaseVertexArrayObject(this._effect)}},e.prototype.serialize=function(){return r.a.Serialize(this)},e.Parse=function(e,t,i){if(e.customType){if("BABYLON.PBRMaterial"===e.customType&&e.overloadedAlbedo&&(e.customType="BABYLON.LegacyPBRMaterial",!BABYLON.LegacyPBRMaterial))return _.a.Error("Your scene is trying to load a legacy version of the PBRMaterial, please, include it from the materials library."),null}else e.customType="BABYLON.StandardMaterial";return o.b.Instantiate(e.customType).Parse(e,t,i)},e.TriangleFillMode=0,e.WireFrameFillMode=1,e.PointFillMode=2,e.PointListDrawMode=3,e.LineListDrawMode=4,e.LineLoopDrawMode=5,e.LineStripDrawMode=6,e.TriangleStripDrawMode=7,e.TriangleFanDrawMode=8,e.ClockWiseSideOrientation=0,e.CounterClockWiseSideOrientation=1,e.TextureDirtyFlag=1,e.LightDirtyFlag=2,e.FresnelDirtyFlag=4,e.AttributesDirtyFlag=8,e.MiscDirtyFlag=16,e.PrePassDirtyFlag=32,e.AllDirtyFlag=63,e.MATERIAL_OPAQUE=0,e.MATERIAL_ALPHATEST=1,e.MATERIAL_ALPHABLEND=2,e.MATERIAL_ALPHATESTANDBLEND=3,e.MATERIAL_NORMALBLENDMETHOD_WHITEOUT=0,e.MATERIAL_NORMALBLENDMETHOD_RNM=1,e._AllDirtyCallBack=function(e){return e.markAllAsDirty()},e._ImageProcessingDirtyCallBack=function(e){return e.markAsImageProcessingDirty()},e._TextureDirtyCallBack=function(e){return e.markAsTexturesDirty()},e._FresnelDirtyCallBack=function(e){return e.markAsFresnelDirty()},e._MiscDirtyCallBack=function(e){return e.markAsMiscDirty()},e._PrePassDirtyCallBack=function(e){return e.markAsPrePassDirty()},e._LightsDirtyCallBack=function(e){return e.markAsLightDirty()},e._AttributeDirtyCallBack=function(e){return e.markAsAttributesDirty()},e._FresnelAndMiscDirtyCallBack=function(t){e._FresnelDirtyCallBack(t),e._MiscDirtyCallBack(t)},e._TextureAndMiscDirtyCallBack=function(t){e._TextureDirtyCallBack(t),e._MiscDirtyCallBack(t)},e._DirtyCallbackArray=[],e._RunDirtyCallBacks=function(t){for(var i=0,n=e._DirtyCallbackArray;i<n.length;i++){(0,n[i])(t)}},Object(n.b)([Object(r.c)()],e.prototype,"id",void 0),Object(n.b)([Object(r.c)()],e.prototype,"uniqueId",void 0),Object(n.b)([Object(r.c)()],e.prototype,"name",void 0),Object(n.b)([Object(r.c)()],e.prototype,"checkReadyOnEveryCall",void 0),Object(n.b)([Object(r.c)()],e.prototype,"checkReadyOnlyOnce",void 0),Object(n.b)([Object(r.c)()],e.prototype,"state",void 0),Object(n.b)([Object(r.c)("alpha")],e.prototype,"_alpha",void 0),Object(n.b)([Object(r.c)("backFaceCulling")],e.prototype,"_backFaceCulling",void 0),Object(n.b)([Object(r.c)()],e.prototype,"sideOrientation",void 0),Object(n.b)([Object(r.c)("alphaMode")],e.prototype,"_alphaMode",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_needDepthPrePass",void 0),Object(n.b)([Object(r.c)()],e.prototype,"disableDepthWrite",void 0),Object(n.b)([Object(r.c)()],e.prototype,"disableColorWrite",void 0),Object(n.b)([Object(r.c)()],e.prototype,"forceDepthWrite",void 0),Object(n.b)([Object(r.c)()],e.prototype,"depthFunction",void 0),Object(n.b)([Object(r.c)()],e.prototype,"separateCullingPass",void 0),Object(n.b)([Object(r.c)("fogEnabled")],e.prototype,"_fogEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"pointSize",void 0),Object(n.b)([Object(r.c)()],e.prototype,"zOffset",void 0),Object(n.b)([Object(r.c)()],e.prototype,"pointsCloud",null),Object(n.b)([Object(r.c)()],e.prototype,"fillMode",null),Object(n.b)([Object(r.c)()],e.prototype,"transparencyMode",null),e}()},685:function(e,t,i){"use strict";i.d(t,"a",function(){return y});var n=i(668),r=i(642),o=i(667),s=i(650),a=function(){function e(){this._isDepthTestDirty=!1,this._isDepthMaskDirty=!1,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!1,this._isFrontFaceDirty=!1,this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDepthFuncDirty||this._isDepthTestDirty||this._isDepthMaskDirty||this._isCullFaceDirty||this._isCullDirty||this._isZOffsetDirty||this._isFrontFaceDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"zOffset",{get:function(){return this._zOffset},set:function(e){this._zOffset!==e&&(this._zOffset=e,this._isZOffsetDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cullFace",{get:function(){return this._cullFace},set:function(e){this._cullFace!==e&&(this._cullFace=e,this._isCullFaceDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"cull",{get:function(){return this._cull},set:function(e){this._cull!==e&&(this._cull=e,this._isCullDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthFunc",{get:function(){return this._depthFunc},set:function(e){this._depthFunc!==e&&(this._depthFunc=e,this._isDepthFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthMask",{get:function(){return this._depthMask},set:function(e){this._depthMask!==e&&(this._depthMask=e,this._isDepthMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthTest",{get:function(){return this._depthTest},set:function(e){this._depthTest!==e&&(this._depthTest=e,this._isDepthTestDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"frontFace",{get:function(){return this._frontFace},set:function(e){this._frontFace!==e&&(this._frontFace=e,this._isFrontFaceDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._depthMask=!0,this._depthTest=!0,this._depthFunc=null,this._cullFace=null,this._cull=null,this._zOffset=0,this._frontFace=null,this._isDepthTestDirty=!0,this._isDepthMaskDirty=!0,this._isDepthFuncDirty=!1,this._isCullFaceDirty=!1,this._isCullDirty=!1,this._isZOffsetDirty=!1,this._isFrontFaceDirty=!1},e.prototype.apply=function(e){this.isDirty&&(this._isCullDirty&&(this.cull?e.enable(e.CULL_FACE):e.disable(e.CULL_FACE),this._isCullDirty=!1),this._isCullFaceDirty&&(e.cullFace(this.cullFace),this._isCullFaceDirty=!1),this._isDepthMaskDirty&&(e.depthMask(this.depthMask),this._isDepthMaskDirty=!1),this._isDepthTestDirty&&(this.depthTest?e.enable(e.DEPTH_TEST):e.disable(e.DEPTH_TEST),this._isDepthTestDirty=!1),this._isDepthFuncDirty&&(e.depthFunc(this.depthFunc),this._isDepthFuncDirty=!1),this._isZOffsetDirty&&(this.zOffset?(e.enable(e.POLYGON_OFFSET_FILL),e.polygonOffset(this.zOffset,0)):e.disable(e.POLYGON_OFFSET_FILL),this._isZOffsetDirty=!1),this._isFrontFaceDirty&&(e.frontFace(this.frontFace),this._isFrontFaceDirty=!1))},e}(),c=function(){function e(){this._isStencilTestDirty=!1,this._isStencilMaskDirty=!1,this._isStencilFuncDirty=!1,this._isStencilOpDirty=!1,this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isStencilTestDirty||this._isStencilMaskDirty||this._isStencilFuncDirty||this._isStencilOpDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilFunc",{get:function(){return this._stencilFunc},set:function(e){this._stencilFunc!==e&&(this._stencilFunc=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilFuncRef",{get:function(){return this._stencilFuncRef},set:function(e){this._stencilFuncRef!==e&&(this._stencilFuncRef=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilFuncMask",{get:function(){return this._stencilFuncMask},set:function(e){this._stencilFuncMask!==e&&(this._stencilFuncMask=e,this._isStencilFuncDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpStencilFail",{get:function(){return this._stencilOpStencilFail},set:function(e){this._stencilOpStencilFail!==e&&(this._stencilOpStencilFail=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpDepthFail",{get:function(){return this._stencilOpDepthFail},set:function(e){this._stencilOpDepthFail!==e&&(this._stencilOpDepthFail=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilOpStencilDepthPass",{get:function(){return this._stencilOpStencilDepthPass},set:function(e){this._stencilOpStencilDepthPass!==e&&(this._stencilOpStencilDepthPass=e,this._isStencilOpDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilMask",{get:function(){return this._stencilMask},set:function(e){this._stencilMask!==e&&(this._stencilMask=e,this._isStencilMaskDirty=!0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilTest",{get:function(){return this._stencilTest},set:function(e){this._stencilTest!==e&&(this._stencilTest=e,this._isStencilTestDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._stencilTest=!1,this._stencilMask=255,this._stencilFunc=e.ALWAYS,this._stencilFuncRef=1,this._stencilFuncMask=255,this._stencilOpStencilFail=e.KEEP,this._stencilOpDepthFail=e.KEEP,this._stencilOpStencilDepthPass=e.REPLACE,this._isStencilTestDirty=!0,this._isStencilMaskDirty=!0,this._isStencilFuncDirty=!0,this._isStencilOpDirty=!0},e.prototype.apply=function(e){this.isDirty&&(this._isStencilTestDirty&&(this.stencilTest?e.enable(e.STENCIL_TEST):e.disable(e.STENCIL_TEST),this._isStencilTestDirty=!1),this._isStencilMaskDirty&&(e.stencilMask(this.stencilMask),this._isStencilMaskDirty=!1),this._isStencilFuncDirty&&(e.stencilFunc(this.stencilFunc,this.stencilFuncRef,this.stencilFuncMask),this._isStencilFuncDirty=!1),this._isStencilOpDirty&&(e.stencilOp(this.stencilOpStencilFail,this.stencilOpDepthFail,this.stencilOpStencilDepthPass),this._isStencilOpDirty=!1))},e.ALWAYS=519,e.KEEP=7680,e.REPLACE=7681,e}(),l=function(){function e(){this._isAlphaBlendDirty=!1,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this._isBlendConstantsDirty=!1,this._alphaBlend=!1,this._blendFunctionParameters=new Array(4),this._blendEquationParameters=new Array(2),this._blendConstants=new Array(4),this.reset()}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isAlphaBlendDirty||this._isBlendFunctionParametersDirty},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaBlend",{get:function(){return this._alphaBlend},set:function(e){this._alphaBlend!==e&&(this._alphaBlend=e,this._isAlphaBlendDirty=!0)},enumerable:!1,configurable:!0}),e.prototype.setAlphaBlendConstants=function(e,t,i,n){this._blendConstants[0]===e&&this._blendConstants[1]===t&&this._blendConstants[2]===i&&this._blendConstants[3]===n||(this._blendConstants[0]=e,this._blendConstants[1]=t,this._blendConstants[2]=i,this._blendConstants[3]=n,this._isBlendConstantsDirty=!0)},e.prototype.setAlphaBlendFunctionParameters=function(e,t,i,n){this._blendFunctionParameters[0]===e&&this._blendFunctionParameters[1]===t&&this._blendFunctionParameters[2]===i&&this._blendFunctionParameters[3]===n||(this._blendFunctionParameters[0]=e,this._blendFunctionParameters[1]=t,this._blendFunctionParameters[2]=i,this._blendFunctionParameters[3]=n,this._isBlendFunctionParametersDirty=!0)},e.prototype.setAlphaEquationParameters=function(e,t){this._blendEquationParameters[0]===e&&this._blendEquationParameters[1]===t||(this._blendEquationParameters[0]=e,this._blendEquationParameters[1]=t,this._isBlendEquationParametersDirty=!0)},e.prototype.reset=function(){this._alphaBlend=!1,this._blendFunctionParameters[0]=null,this._blendFunctionParameters[1]=null,this._blendFunctionParameters[2]=null,this._blendFunctionParameters[3]=null,this._blendEquationParameters[0]=null,this._blendEquationParameters[1]=null,this._blendConstants[0]=null,this._blendConstants[1]=null,this._blendConstants[2]=null,this._blendConstants[3]=null,this._isAlphaBlendDirty=!0,this._isBlendFunctionParametersDirty=!1,this._isBlendEquationParametersDirty=!1,this._isBlendConstantsDirty=!1},e.prototype.apply=function(e){this.isDirty&&(this._isAlphaBlendDirty&&(this._alphaBlend?e.enable(e.BLEND):e.disable(e.BLEND),this._isAlphaBlendDirty=!1),this._isBlendFunctionParametersDirty&&(e.blendFuncSeparate(this._blendFunctionParameters[0],this._blendFunctionParameters[1],this._blendFunctionParameters[2],this._blendFunctionParameters[3]),this._isBlendFunctionParametersDirty=!1),this._isBlendEquationParametersDirty&&(e.blendEquationSeparate(this._blendEquationParameters[0],this._blendEquationParameters[1]),this._isBlendEquationParametersDirty=!1),this._isBlendConstantsDirty&&(e.blendColor(this._blendConstants[0],this._blendConstants[1],this._blendConstants[2],this._blendConstants[3]),this._isBlendConstantsDirty=!1))},e}(),_=i(703),u=i(649),f=i(701),d=function(){function e(){}return e.prototype.postProcessor=function(e,t,i,n){if(!n.getCaps().drawBuffersExtension){e=e.replace(/#extension.+GL_EXT_draw_buffers.+(enable|require)/g,"")}return e},e}(),h=function(){function e(){}return e.prototype.attributeProcessor=function(e){return e.replace("attribute","in")},e.prototype.varyingProcessor=function(e,t){return e.replace("varying",t?"in":"out")},e.prototype.postProcessor=function(e,t,i){var n=-1!==e.search(/#extension.+GL_EXT_draw_buffers.+require/);if(e=(e=e.replace(/#extension.+(GL_OVR_multiview2|GL_OES_standard_derivatives|GL_EXT_shader_texture_lod|GL_EXT_frag_depth|GL_EXT_draw_buffers).+(enable|require)/g,"")).replace(/texture2D\s*\(/g,"texture("),i)e=(e=(e=(e=(e=(e=(e=e.replace(/texture2DLodEXT\s*\(/g,"textureLod(")).replace(/textureCubeLodEXT\s*\(/g,"textureLod(")).replace(/textureCube\s*\(/g,"texture(")).replace(/gl_FragDepthEXT/g,"gl_FragDepth")).replace(/gl_FragColor/g,"glFragColor")).replace(/gl_FragData/g,"glFragData")).replace(/void\s+?main\s*\(/g,(n?"":"out vec4 glFragColor;\n")+"void main(");else if(-1!==t.indexOf("#define MULTIVIEW"))return"#extension GL_OVR_multiview2 : require\nlayout (num_views = 2) in;\n"+e;return e},e}(),p=i(884),b=function(){function e(){this.vertexCompilationError=null,this.fragmentCompilationError=null,this.programLinkError=null,this.programValidationError=null}return Object.defineProperty(e.prototype,"isAsync",{get:function(){return this.isParallelCompiled},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isReady",{get:function(){return!!this.program&&(!this.isParallelCompiled||this.engine._isRenderingStateCompiled(this))},enumerable:!1,configurable:!0}),e.prototype._handlesSpectorRebuildCallback=function(e){e&&this.program&&e(this.program)},e.prototype._getVertexShaderCode=function(){return this.vertexShader?this.engine._getShaderSource(this.vertexShader):null},e.prototype._getFragmentShaderCode=function(){return this.fragmentShader?this.engine._getShaderSource(this.fragmentShader):null},e}(),m=i(936),A=i(124),g=function(){},y=function(){function e(t,i,n,r){var o=this;void 0===r&&(r=!1),this.forcePOTTextures=!1,this.isFullscreen=!1,this.cullBackFaces=!0,this.renderEvenInBackground=!0,this.preventCacheWipeBetweenFrames=!1,this.validateShaderPrograms=!1,this.useReverseDepthBuffer=!1,this.disableUniformBuffers=!1,this._uniformBuffers=new Array,this._webGLVersion=1,this._windowIsBackground=!1,this._highPrecisionShadersAllowed=!0,this._badOS=!1,this._badDesktopOS=!1,this._renderingQueueLaunched=!1,this._activeRenderLoops=new Array,this.onContextLostObservable=new s.a,this.onContextRestoredObservable=new s.a,this._contextWasLost=!1,this._doNotHandleContextLost=!1,this.disableVertexArrayObjects=!1,this._colorWrite=!0,this._colorWriteChanged=!0,this._depthCullingState=new a,this._stencilState=new c,this._alphaState=new l,this._alphaMode=1,this._alphaEquation=0,this._internalTexturesCache=new Array,this._activeChannel=0,this._currentTextureChannel=-1,this._boundTexturesCache={},this._compiledEffects={},this._vertexAttribArraysEnabled=[],this._uintIndicesCurrentlySet=!1,this._currentBoundBuffer=new Array,this._currentFramebuffer=null,this._dummyFramebuffer=null,this._currentBufferPointers=new Array,this._currentInstanceLocations=new Array,this._currentInstanceBuffers=new Array,this._vaoRecordInProgress=!1,this._mustWipeVertexAttributes=!1,this._nextFreeTextureSlots=new Array,this._maxSimultaneousTextures=0,this._activeRequests=new Array,this._transformTextureUrl=null,this.hostInformation={isMobile:!1},this.premultipliedAlpha=!0,this.onBeforeTextureInitObservable=new s.a,this._viewportCached={x:0,y:0,z:0,w:0},this._unpackFlipYCached=null,this.enableUnpackFlipYCached=!0,this._getDepthStencilBuffer=function(e,t,i,n,r,s){var a=o._gl,c=a.createRenderbuffer();return a.bindRenderbuffer(a.RENDERBUFFER,c),i>1&&a.renderbufferStorageMultisample?a.renderbufferStorageMultisample(a.RENDERBUFFER,i,r,e,t):a.renderbufferStorage(a.RENDERBUFFER,n,e,t),a.framebufferRenderbuffer(a.FRAMEBUFFER,s,a.RENDERBUFFER,c),a.bindRenderbuffer(a.RENDERBUFFER,null),c},this._boundUniforms={};var _=null;if(t){if(n=n||{},A.a.SetMatrixPrecision(!!n.useHighPrecisionMatrix),t.getContext){if(_=t,this._renderingCanvas=_,null!=i&&(n.antialias=i),void 0===n.deterministicLockstep&&(n.deterministicLockstep=!1),void 0===n.lockstepMaxSteps&&(n.lockstepMaxSteps=4),void 0===n.timeStep&&(n.timeStep=1/60),void 0===n.preserveDrawingBuffer&&(n.preserveDrawingBuffer=!1),void 0===n.audioEngine&&(n.audioEngine=!0),void 0===n.stencil&&(n.stencil=!0),!1===n.premultipliedAlpha&&(this.premultipliedAlpha=!1),void 0===n.xrCompatible&&(n.xrCompatible=!0),this._doNotHandleContextLost=!!n.doNotHandleContextLost,navigator&&navigator.userAgent){var p=navigator.userAgent;this.hostInformation.isMobile=-1!==p.indexOf("Mobile");for(var b=0,m=e.ExceptionList;b<m.length;b++){var y=m[b],v=y.key,C=y.targets;if(new RegExp(v).test(p)){if(y.capture&&y.captureConstraint){var E=y.capture,S=y.captureConstraint,T=new RegExp(E).exec(p);if(T&&T.length>0)if(parseInt(T[T.length-1])>=S)continue}for(var R=0,M=C;R<M.length;R++){switch(M[R]){case"uniformBuffer":this.disableUniformBuffers=!0;break;case"vao":this.disableVertexArrayObjects=!0}}}}}if(this._doNotHandleContextLost||(this._onContextLost=function(e){e.preventDefault(),o._contextWasLost=!0,u.a.Warn("WebGL context lost."),o.onContextLostObservable.notifyObservers(o)},this._onContextRestored=function(){setTimeout(function(){o._initGLContext(),o._rebuildEffects(),o._rebuildInternalTextures(),o._rebuildBuffers(),o.wipeCaches(!0),u.a.Warn("WebGL context successfully restored."),o.onContextRestoredObservable.notifyObservers(o),o._contextWasLost=!1},0)},_.addEventListener("webglcontextlost",this._onContextLost,!1),_.addEventListener("webglcontextrestored",this._onContextRestored,!1),n.powerPreference="high-performance"),!n.disableWebGL2Support)try{this._gl=_.getContext("webgl2",n)||_.getContext("experimental-webgl2",n),this._gl&&(this._webGLVersion=2,this._gl.deleteQuery||(this._webGLVersion=1))}catch(D){}if(!this._gl){if(!_)throw new Error("The provided canvas is null or undefined.");try{this._gl=_.getContext("webgl",n)||_.getContext("experimental-webgl",n)}catch(D){throw new Error("WebGL not supported")}}if(!this._gl)throw new Error("WebGL not supported")}else{this._gl=t,this._renderingCanvas=this._gl.canvas,this._gl.renderbufferStorageMultisample&&(this._webGLVersion=2);var O=this._gl.getContextAttributes();O&&(n.stencil=O.stencil)}this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),void 0!==n.useHighPrecisionFloats&&(this._highPrecisionShadersAllowed=n.useHighPrecisionFloats);var I=f.a.IsWindowObjectExist()&&window.devicePixelRatio||1,x=n.limitDeviceRatio||I;this._hardwareScalingLevel=r?1/Math.min(x,I):1,this.resize(),this._isStencilEnable=!!n.stencil,this._initGLContext();for(var P=0;P<this._caps.maxVertexAttribs;P++)this._currentBufferPointers[P]=new g;this.webGLVersion>1?this._shaderProcessor=new h:this._shaderProcessor=new d,this._badOS=/iPad/i.test(navigator.userAgent)||/iPhone/i.test(navigator.userAgent),this._badDesktopOS=/^((?!chrome|android).)*safari/i.test(navigator.userAgent),this._creationOptions=n,console.log("Babylon.js v"+e.Version+" - "+this.description)}}return Object.defineProperty(e,"NpmPackage",{get:function(){return"babylonjs@4.2.1"},enumerable:!1,configurable:!0}),Object.defineProperty(e,"Version",{get:function(){return"4.2.1"},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"description",{get:function(){var e="WebGL"+this.webGLVersion;return this._caps.parallelShaderCompile&&(e+=" - Parallel shader compilation"),e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ShadersRepository",{get:function(){return r.a.ShadersRepository},set:function(e){r.a.ShadersRepository=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"supportsUniformBuffers",{get:function(){return this.webGLVersion>1&&!this.disableUniformBuffers},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_shouldUseHighPrecisionShader",{get:function(){return!(!this._caps.highPrecisionShaderSupported||!this._highPrecisionShadersAllowed)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"needPOTTextures",{get:function(){return this._webGLVersion<2||this.forcePOTTextures},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doNotHandleContextLost",{get:function(){return this._doNotHandleContextLost},set:function(e){this._doNotHandleContextLost=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"_supportsHardwareTextureRescaling",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"framebufferDimensionsObject",{set:function(e){this._framebufferDimensionsObject=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"currentViewport",{get:function(){return this._cachedViewport},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture",{get:function(){return this._emptyTexture||(this._emptyTexture=this.createRawTexture(new Uint8Array(4),1,1,5,!1,!1,1)),this._emptyTexture},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture3D",{get:function(){return this._emptyTexture3D||(this._emptyTexture3D=this.createRawTexture3D(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture3D},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyTexture2DArray",{get:function(){return this._emptyTexture2DArray||(this._emptyTexture2DArray=this.createRawTexture2DArray(new Uint8Array(4),1,1,1,5,!1,!1,1)),this._emptyTexture2DArray},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"emptyCubeTexture",{get:function(){if(!this._emptyCubeTexture){var e=new Uint8Array(4),t=[e,e,e,e,e,e];this._emptyCubeTexture=this.createRawCubeTexture(t,1,5,0,!1,!1,1)}return this._emptyCubeTexture},enumerable:!1,configurable:!0}),e.prototype._rebuildInternalTextures=function(){for(var e=0,t=this._internalTexturesCache.slice();e<t.length;e++){t[e]._rebuild()}},e.prototype._rebuildEffects=function(){for(var e in this._compiledEffects){this._compiledEffects[e]._prepareEffect()}r.a.ResetCache()},e.prototype.areAllEffectsReady=function(){for(var e in this._compiledEffects){if(!this._compiledEffects[e].isReady())return!1}return!0},e.prototype._rebuildBuffers=function(){for(var e=0,t=this._uniformBuffers;e<t.length;e++){t[e]._rebuild()}},e.prototype._initGLContext=function(){this._caps={maxTexturesImageUnits:this._gl.getParameter(this._gl.MAX_TEXTURE_IMAGE_UNITS),maxCombinedTexturesImageUnits:this._gl.getParameter(this._gl.MAX_COMBINED_TEXTURE_IMAGE_UNITS),maxVertexTextureImageUnits:this._gl.getParameter(this._gl.MAX_VERTEX_TEXTURE_IMAGE_UNITS),maxTextureSize:this._gl.getParameter(this._gl.MAX_TEXTURE_SIZE),maxSamples:this._webGLVersion>1?this._gl.getParameter(this._gl.MAX_SAMPLES):1,maxCubemapTextureSize:this._gl.getParameter(this._gl.MAX_CUBE_MAP_TEXTURE_SIZE),maxRenderTextureSize:this._gl.getParameter(this._gl.MAX_RENDERBUFFER_SIZE),maxVertexAttribs:this._gl.getParameter(this._gl.MAX_VERTEX_ATTRIBS),maxVaryingVectors:this._gl.getParameter(this._gl.MAX_VARYING_VECTORS),maxFragmentUniformVectors:this._gl.getParameter(this._gl.MAX_FRAGMENT_UNIFORM_VECTORS),maxVertexUniformVectors:this._gl.getParameter(this._gl.MAX_VERTEX_UNIFORM_VECTORS),parallelShaderCompile:this._gl.getExtension("KHR_parallel_shader_compile"),standardDerivatives:this._webGLVersion>1||null!==this._gl.getExtension("OES_standard_derivatives"),maxAnisotropy:1,astc:this._gl.getExtension("WEBGL_compressed_texture_astc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_astc"),bptc:this._gl.getExtension("EXT_texture_compression_bptc")||this._gl.getExtension("WEBKIT_EXT_texture_compression_bptc"),s3tc:this._gl.getExtension("WEBGL_compressed_texture_s3tc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_s3tc"),pvrtc:this._gl.getExtension("WEBGL_compressed_texture_pvrtc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_pvrtc"),etc1:this._gl.getExtension("WEBGL_compressed_texture_etc1")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc1"),etc2:this._gl.getExtension("WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBKIT_WEBGL_compressed_texture_etc")||this._gl.getExtension("WEBGL_compressed_texture_es3_0"),textureAnisotropicFilterExtension:this._gl.getExtension("EXT_texture_filter_anisotropic")||this._gl.getExtension("WEBKIT_EXT_texture_filter_anisotropic")||this._gl.getExtension("MOZ_EXT_texture_filter_anisotropic"),uintIndices:this._webGLVersion>1||null!==this._gl.getExtension("OES_element_index_uint"),fragmentDepthSupported:this._webGLVersion>1||null!==this._gl.getExtension("EXT_frag_depth"),highPrecisionShaderSupported:!1,timerQuery:this._gl.getExtension("EXT_disjoint_timer_query_webgl2")||this._gl.getExtension("EXT_disjoint_timer_query"),canUseTimestampForTimerQuery:!1,drawBuffersExtension:!1,maxMSAASamples:1,colorBufferFloat:this._webGLVersion>1&&this._gl.getExtension("EXT_color_buffer_float"),textureFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_float")),textureHalfFloat:!!(this._webGLVersion>1||this._gl.getExtension("OES_texture_half_float")),textureHalfFloatRender:!1,textureFloatLinearFiltering:!1,textureFloatRender:!1,textureHalfFloatLinearFiltering:!1,vertexArrayObject:!1,instancedArrays:!1,textureLOD:!!(this._webGLVersion>1||this._gl.getExtension("EXT_shader_texture_lod")),blendMinMax:!1,multiview:this._gl.getExtension("OVR_multiview2"),oculusMultiview:this._gl.getExtension("OCULUS_multiview"),depthTextureExtension:!1},this._glVersion=this._gl.getParameter(this._gl.VERSION);var e=this._gl.getExtension("WEBGL_debug_renderer_info");if(null!=e&&(this._glRenderer=this._gl.getParameter(e.UNMASKED_RENDERER_WEBGL),this._glVendor=this._gl.getParameter(e.UNMASKED_VENDOR_WEBGL)),this._glVendor||(this._glVendor="Unknown vendor"),this._glRenderer||(this._glRenderer="Unknown renderer"),36193!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=36193),34842!==this._gl.RGBA16F&&(this._gl.RGBA16F=34842),34836!==this._gl.RGBA32F&&(this._gl.RGBA32F=34836),35056!==this._gl.DEPTH24_STENCIL8&&(this._gl.DEPTH24_STENCIL8=35056),this._caps.timerQuery&&(1===this._webGLVersion&&(this._gl.getQuery=this._caps.timerQuery.getQueryEXT.bind(this._caps.timerQuery)),this._caps.canUseTimestampForTimerQuery=this._gl.getQuery(this._caps.timerQuery.TIMESTAMP_EXT,this._caps.timerQuery.QUERY_COUNTER_BITS_EXT)>0),this._caps.maxAnisotropy=this._caps.textureAnisotropicFilterExtension?this._gl.getParameter(this._caps.textureAnisotropicFilterExtension.MAX_TEXTURE_MAX_ANISOTROPY_EXT):0,this._caps.textureFloatLinearFiltering=!(!this._caps.textureFloat||!this._gl.getExtension("OES_texture_float_linear")),this._caps.textureFloatRender=!(!this._caps.textureFloat||!this._canRenderToFloatFramebuffer()),this._caps.textureHalfFloatLinearFiltering=!!(this._webGLVersion>1||this._caps.textureHalfFloat&&this._gl.getExtension("OES_texture_half_float_linear")),this._webGLVersion>1&&5131!==this._gl.HALF_FLOAT_OES&&(this._gl.HALF_FLOAT_OES=5131),this._caps.textureHalfFloatRender=this._caps.textureHalfFloat&&this._canRenderToHalfFloatFramebuffer(),this._webGLVersion>1)this._caps.drawBuffersExtension=!0,this._caps.maxMSAASamples=this._gl.getParameter(this._gl.MAX_SAMPLES);else{var t=this._gl.getExtension("WEBGL_draw_buffers");if(null!==t){this._caps.drawBuffersExtension=!0,this._gl.drawBuffers=t.drawBuffersWEBGL.bind(t),this._gl.DRAW_FRAMEBUFFER=this._gl.FRAMEBUFFER;for(var i=0;i<16;i++)this._gl["COLOR_ATTACHMENT"+i+"_WEBGL"]=t["COLOR_ATTACHMENT"+i+"_WEBGL"]}}if(this._webGLVersion>1)this._caps.depthTextureExtension=!0;else{var n=this._gl.getExtension("WEBGL_depth_texture");null!=n&&(this._caps.depthTextureExtension=!0,this._gl.UNSIGNED_INT_24_8=n.UNSIGNED_INT_24_8_WEBGL)}if(this.disableVertexArrayObjects)this._caps.vertexArrayObject=!1;else if(this._webGLVersion>1)this._caps.vertexArrayObject=!0;else{var r=this._gl.getExtension("OES_vertex_array_object");null!=r&&(this._caps.vertexArrayObject=!0,this._gl.createVertexArray=r.createVertexArrayOES.bind(r),this._gl.bindVertexArray=r.bindVertexArrayOES.bind(r),this._gl.deleteVertexArray=r.deleteVertexArrayOES.bind(r))}if(this._webGLVersion>1)this._caps.instancedArrays=!0;else{var o=this._gl.getExtension("ANGLE_instanced_arrays");null!=o?(this._caps.instancedArrays=!0,this._gl.drawArraysInstanced=o.drawArraysInstancedANGLE.bind(o),this._gl.drawElementsInstanced=o.drawElementsInstancedANGLE.bind(o),this._gl.vertexAttribDivisor=o.vertexAttribDivisorANGLE.bind(o)):this._caps.instancedArrays=!1}if(this._gl.getShaderPrecisionFormat){var s=this._gl.getShaderPrecisionFormat(this._gl.VERTEX_SHADER,this._gl.HIGH_FLOAT),a=this._gl.getShaderPrecisionFormat(this._gl.FRAGMENT_SHADER,this._gl.HIGH_FLOAT);s&&a&&(this._caps.highPrecisionShaderSupported=0!==s.precision&&0!==a.precision)}if(this._webGLVersion>1)this._caps.blendMinMax=!0;else{var c=this._gl.getExtension("EXT_blend_minmax");null!=c&&(this._caps.blendMinMax=!0,this._gl.MAX=c.MAX_EXT,this._gl.MIN=c.MIN_EXT)}this._depthCullingState.depthTest=!0,this._depthCullingState.depthFunc=this._gl.LEQUAL,this._depthCullingState.depthMask=!0,this._maxSimultaneousTextures=this._caps.maxCombinedTexturesImageUnits;for(var l=0;l<this._maxSimultaneousTextures;l++)this._nextFreeTextureSlots.push(l)},Object.defineProperty(e.prototype,"webGLVersion",{get:function(){return this._webGLVersion},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"ThinEngine"},Object.defineProperty(e.prototype,"isStencilEnable",{get:function(){return this._isStencilEnable},enumerable:!1,configurable:!0}),e.prototype._prepareWorkingCanvas=function(){if(!this._workingCanvas){this._workingCanvas=m.a.CreateCanvas(1,1);var e=this._workingCanvas.getContext("2d");e&&(this._workingContext=e)}},e.prototype.resetTextureCache=function(){for(var e in this._boundTexturesCache)this._boundTexturesCache.hasOwnProperty(e)&&(this._boundTexturesCache[e]=null);this._currentTextureChannel=-1},e.prototype.getGlInfo=function(){return{vendor:this._glVendor,renderer:this._glRenderer,version:this._glVersion}},e.prototype.setHardwareScalingLevel=function(e){this._hardwareScalingLevel=e,this.resize()},e.prototype.getHardwareScalingLevel=function(){return this._hardwareScalingLevel},e.prototype.getLoadedTexturesCache=function(){return this._internalTexturesCache},e.prototype.getCaps=function(){return this._caps},e.prototype.stopRenderLoop=function(e){if(e){var t=this._activeRenderLoops.indexOf(e);t>=0&&this._activeRenderLoops.splice(t,1)}else this._activeRenderLoops=[]},e.prototype._renderLoop=function(){if(!this._contextWasLost){var e=!0;if(!this.renderEvenInBackground&&this._windowIsBackground&&(e=!1),e){this.beginFrame();for(var t=0;t<this._activeRenderLoops.length;t++){(0,this._activeRenderLoops[t])()}this.endFrame()}}this._activeRenderLoops.length>0?this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow()):this._renderingQueueLaunched=!1},e.prototype.getRenderingCanvas=function(){return this._renderingCanvas},e.prototype.getHostWindow=function(){return f.a.IsWindowObjectExist()?this._renderingCanvas&&this._renderingCanvas.ownerDocument&&this._renderingCanvas.ownerDocument.defaultView?this._renderingCanvas.ownerDocument.defaultView:window:null},e.prototype.getRenderWidth=function(e){return void 0===e&&(e=!1),!e&&this._currentRenderTarget?this._currentRenderTarget.width:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferWidth:this._gl.drawingBufferWidth},e.prototype.getRenderHeight=function(e){return void 0===e&&(e=!1),!e&&this._currentRenderTarget?this._currentRenderTarget.height:this._framebufferDimensionsObject?this._framebufferDimensionsObject.framebufferHeight:this._gl.drawingBufferHeight},e.prototype._queueNewFrame=function(t,i){return e.QueueNewFrame(t,i)},e.prototype.runRenderLoop=function(e){-1===this._activeRenderLoops.indexOf(e)&&(this._activeRenderLoops.push(e),this._renderingQueueLaunched||(this._renderingQueueLaunched=!0,this._boundRenderFunction=this._renderLoop.bind(this),this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow())))},e.prototype.clear=function(e,t,i,n){void 0===n&&(n=!1),this.applyStates();var r=0;t&&e&&(this._gl.clearColor(e.r,e.g,e.b,void 0!==e.a?e.a:1),r|=this._gl.COLOR_BUFFER_BIT),i&&(this.useReverseDepthBuffer?(this._depthCullingState.depthFunc=this._gl.GREATER,this._gl.clearDepth(0)):this._gl.clearDepth(1),r|=this._gl.DEPTH_BUFFER_BIT),n&&(this._gl.clearStencil(0),r|=this._gl.STENCIL_BUFFER_BIT),this._gl.clear(r)},e.prototype._viewport=function(e,t,i,n){e===this._viewportCached.x&&t===this._viewportCached.y&&i===this._viewportCached.z&&n===this._viewportCached.w||(this._viewportCached.x=e,this._viewportCached.y=t,this._viewportCached.z=i,this._viewportCached.w=n,this._gl.viewport(e,t,i,n))},e.prototype.setViewport=function(e,t,i){var n=t||this.getRenderWidth(),r=i||this.getRenderHeight(),o=e.x||0,s=e.y||0;this._cachedViewport=e,this._viewport(o*n,s*r,n*e.width,r*e.height)},e.prototype.beginFrame=function(){},e.prototype.endFrame=function(){this._badOS&&this.flushFramebuffer()},e.prototype.resize=function(){var e,t;f.a.IsWindowObjectExist()?(e=this._renderingCanvas?this._renderingCanvas.clientWidth||this._renderingCanvas.width:window.innerWidth,t=this._renderingCanvas?this._renderingCanvas.clientHeight||this._renderingCanvas.height:window.innerHeight):(e=this._renderingCanvas?this._renderingCanvas.width:100,t=this._renderingCanvas?this._renderingCanvas.height:100),this.setSize(e/this._hardwareScalingLevel,t/this._hardwareScalingLevel)},e.prototype.setSize=function(e,t){return!!this._renderingCanvas&&(e|=0,t|=0,(this._renderingCanvas.width!==e||this._renderingCanvas.height!==t)&&(this._renderingCanvas.width=e,this._renderingCanvas.height=t,!0))},e.prototype.bindFramebuffer=function(e,t,i,n,r,o,s){void 0===t&&(t=0),void 0===o&&(o=0),void 0===s&&(s=0),this._currentRenderTarget&&this.unBindFramebuffer(this._currentRenderTarget),this._currentRenderTarget=e,this._bindUnboundFramebuffer(e._MSAAFramebuffer?e._MSAAFramebuffer:e._framebuffer);var a=this._gl;e.is2DArray?a.framebufferTextureLayer(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,e._webGLTexture,o,s):e.isCube&&a.framebufferTexture2D(a.FRAMEBUFFER,a.COLOR_ATTACHMENT0,a.TEXTURE_CUBE_MAP_POSITIVE_X+t,e._webGLTexture,o);var c=e._depthStencilTexture;if(c){var l=c._generateStencilBuffer?a.DEPTH_STENCIL_ATTACHMENT:a.DEPTH_ATTACHMENT;e.is2DArray?a.framebufferTextureLayer(a.FRAMEBUFFER,l,c._webGLTexture,o,s):e.isCube?a.framebufferTexture2D(a.FRAMEBUFFER,l,a.TEXTURE_CUBE_MAP_POSITIVE_X+t,c._webGLTexture,o):a.framebufferTexture2D(a.FRAMEBUFFER,l,a.TEXTURE_2D,c._webGLTexture,o)}this._cachedViewport&&!r?this.setViewport(this._cachedViewport,i,n):(i||(i=e.width,o&&(i/=Math.pow(2,o))),n||(n=e.height,o&&(n/=Math.pow(2,o))),this._viewport(0,0,i,n)),this.wipeCaches()},e.prototype._bindUnboundFramebuffer=function(e){this._currentFramebuffer!==e&&(this._gl.bindFramebuffer(this._gl.FRAMEBUFFER,e),this._currentFramebuffer=e)},e.prototype.unBindFramebuffer=function(e,t,i){void 0===t&&(t=!1),this._currentRenderTarget=null;var n=this._gl;if(e._MSAAFramebuffer){if(e._textureArray)return void this.unBindMultiColorAttachmentFramebuffer(e._textureArray,t,i);n.bindFramebuffer(n.READ_FRAMEBUFFER,e._MSAAFramebuffer),n.bindFramebuffer(n.DRAW_FRAMEBUFFER,e._framebuffer),n.blitFramebuffer(0,0,e.width,e.height,0,0,e.width,e.height,n.COLOR_BUFFER_BIT,n.NEAREST)}!e.generateMipMaps||t||e.isCube||(this._bindTextureDirectly(n.TEXTURE_2D,e,!0),n.generateMipmap(n.TEXTURE_2D),this._bindTextureDirectly(n.TEXTURE_2D,null)),i&&(e._MSAAFramebuffer&&this._bindUnboundFramebuffer(e._framebuffer),i()),this._bindUnboundFramebuffer(null)},e.prototype.flushFramebuffer=function(){this._gl.flush()},e.prototype.restoreDefaultFramebuffer=function(){this._currentRenderTarget?this.unBindFramebuffer(this._currentRenderTarget):this._bindUnboundFramebuffer(null),this._cachedViewport&&this.setViewport(this._cachedViewport),this.wipeCaches()},e.prototype._resetVertexBufferBinding=function(){this.bindArrayBuffer(null),this._cachedVertexBuffers=null},e.prototype.createVertexBuffer=function(e){return this._createVertexBuffer(e,this._gl.STATIC_DRAW)},e.prototype._createVertexBuffer=function(e,t){var i=this._gl.createBuffer();if(!i)throw new Error("Unable to create vertex buffer");var n=new p.a(i);return this.bindArrayBuffer(n),e instanceof Array?this._gl.bufferData(this._gl.ARRAY_BUFFER,new Float32Array(e),this._gl.STATIC_DRAW):this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.STATIC_DRAW),this._resetVertexBufferBinding(),n.references=1,n},e.prototype.createDynamicVertexBuffer=function(e){return this._createVertexBuffer(e,this._gl.DYNAMIC_DRAW)},e.prototype._resetIndexBufferBinding=function(){this.bindIndexBuffer(null),this._cachedIndexBuffer=null},e.prototype.createIndexBuffer=function(e,t){var i=this._gl.createBuffer(),n=new p.a(i);if(!i)throw new Error("Unable to create index buffer");this.bindIndexBuffer(n);var r=this._normalizeIndexData(e);return this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,r,t?this._gl.DYNAMIC_DRAW:this._gl.STATIC_DRAW),this._resetIndexBufferBinding(),n.references=1,n.is32Bits=4===r.BYTES_PER_ELEMENT,n},e.prototype._normalizeIndexData=function(e){if(e instanceof Uint16Array)return e;if(this._caps.uintIndices){if(e instanceof Uint32Array)return e;for(var t=0;t<e.length;t++)if(e[t]>=65535)return new Uint32Array(e);return new Uint16Array(e)}return new Uint16Array(e)},e.prototype.bindArrayBuffer=function(e){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.bindBuffer(e,this._gl.ARRAY_BUFFER)},e.prototype.bindUniformBlock=function(e,t,i){var n=e.program,r=this._gl.getUniformBlockIndex(n,t);this._gl.uniformBlockBinding(n,r,i)},e.prototype.bindIndexBuffer=function(e){this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.bindBuffer(e,this._gl.ELEMENT_ARRAY_BUFFER)},e.prototype.bindBuffer=function(e,t){(this._vaoRecordInProgress||this._currentBoundBuffer[t]!==e)&&(this._gl.bindBuffer(t,e?e.underlyingResource:null),this._currentBoundBuffer[t]=e)},e.prototype.updateArrayBuffer=function(e){this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,e)},e.prototype._vertexAttribPointer=function(e,t,i,n,r,o,s){var a=this._currentBufferPointers[t];if(a){var c=!1;a.active?(a.buffer!==e&&(a.buffer=e,c=!0),a.size!==i&&(a.size=i,c=!0),a.type!==n&&(a.type=n,c=!0),a.normalized!==r&&(a.normalized=r,c=!0),a.stride!==o&&(a.stride=o,c=!0),a.offset!==s&&(a.offset=s,c=!0)):(c=!0,a.active=!0,a.index=t,a.size=i,a.type=n,a.normalized=r,a.stride=o,a.offset=s,a.buffer=e),(c||this._vaoRecordInProgress)&&(this.bindArrayBuffer(e),this._gl.vertexAttribPointer(t,i,n,r,o,s))}},e.prototype._bindIndexBufferWithCache=function(e){null!=e&&this._cachedIndexBuffer!==e&&(this._cachedIndexBuffer=e,this.bindIndexBuffer(e),this._uintIndicesCurrentlySet=e.is32Bits)},e.prototype._bindVertexBuffersAttributes=function(e,t){var i=t.getAttributesNames();this._vaoRecordInProgress||this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var n=0;n<i.length;n++){var r=t.getAttributeLocation(n);if(r>=0){var o=e[i[n]];if(!o)continue;this._gl.enableVertexAttribArray(r),this._vaoRecordInProgress||(this._vertexAttribArraysEnabled[r]=!0);var s=o.getBuffer();s&&(this._vertexAttribPointer(s,r,o.getSize(),o.type,o.normalized,o.byteStride,o.byteOffset),o.getIsInstanced()&&(this._gl.vertexAttribDivisor(r,o.getInstanceDivisor()),this._vaoRecordInProgress||(this._currentInstanceLocations.push(r),this._currentInstanceBuffers.push(s))))}}},e.prototype.recordVertexArrayObject=function(e,t,i){var n=this._gl.createVertexArray();return this._vaoRecordInProgress=!0,this._gl.bindVertexArray(n),this._mustWipeVertexAttributes=!0,this._bindVertexBuffersAttributes(e,i),this.bindIndexBuffer(t),this._vaoRecordInProgress=!1,this._gl.bindVertexArray(null),n},e.prototype.bindVertexArrayObject=function(e,t){this._cachedVertexArrayObject!==e&&(this._cachedVertexArrayObject=e,this._gl.bindVertexArray(e),this._cachedVertexBuffers=null,this._cachedIndexBuffer=null,this._uintIndicesCurrentlySet=null!=t&&t.is32Bits,this._mustWipeVertexAttributes=!0)},e.prototype.bindBuffersDirectly=function(e,t,i,n,r){if(this._cachedVertexBuffers!==e||this._cachedEffectForVertexBuffers!==r){this._cachedVertexBuffers=e,this._cachedEffectForVertexBuffers=r;var o=r.getAttributesCount();this._unbindVertexArrayObject(),this.unbindAllAttributes();for(var s=0,a=0;a<o;a++)if(a<i.length){var c=r.getAttributeLocation(a);c>=0&&(this._gl.enableVertexAttribArray(c),this._vertexAttribArraysEnabled[c]=!0,this._vertexAttribPointer(e,c,i[a],this._gl.FLOAT,!1,n,s)),s+=4*i[a]}}this._bindIndexBufferWithCache(t)},e.prototype._unbindVertexArrayObject=function(){this._cachedVertexArrayObject&&(this._cachedVertexArrayObject=null,this._gl.bindVertexArray(null))},e.prototype.bindBuffers=function(e,t,i){this._cachedVertexBuffers===e&&this._cachedEffectForVertexBuffers===i||(this._cachedVertexBuffers=e,this._cachedEffectForVertexBuffers=i,this._bindVertexBuffersAttributes(e,i)),this._bindIndexBufferWithCache(t)},e.prototype.unbindInstanceAttributes=function(){for(var e,t=0,i=this._currentInstanceLocations.length;t<i;t++){var n=this._currentInstanceBuffers[t];e!=n&&n.references&&(e=n,this.bindArrayBuffer(n));var r=this._currentInstanceLocations[t];this._gl.vertexAttribDivisor(r,0)}this._currentInstanceBuffers.length=0,this._currentInstanceLocations.length=0},e.prototype.releaseVertexArrayObject=function(e){this._gl.deleteVertexArray(e)},e.prototype._releaseBuffer=function(e){return e.references--,0===e.references&&(this._deleteBuffer(e),!0)},e.prototype._deleteBuffer=function(e){this._gl.deleteBuffer(e.underlyingResource)},e.prototype.updateAndBindInstancesBuffer=function(e,t,i){if(this.bindArrayBuffer(e),t&&this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,t),void 0!==i[0].index)this.bindInstancesBuffer(e,i,!0);else for(var n=0;n<4;n++){var r=i[n];this._vertexAttribArraysEnabled[r]||(this._gl.enableVertexAttribArray(r),this._vertexAttribArraysEnabled[r]=!0),this._vertexAttribPointer(e,r,4,this._gl.FLOAT,!1,64,16*n),this._gl.vertexAttribDivisor(r,1),this._currentInstanceLocations.push(r),this._currentInstanceBuffers.push(e)}},e.prototype.bindInstancesBuffer=function(e,t,i){void 0===i&&(i=!0),this.bindArrayBuffer(e);var n=0;if(i)for(var r=0;r<t.length;r++){n+=4*(o=t[r]).attributeSize}for(r=0;r<t.length;r++){var o;void 0===(o=t[r]).index&&(o.index=this._currentEffect.getAttributeLocationByName(o.attributeName)),o.index<0||(this._vertexAttribArraysEnabled[o.index]||(this._gl.enableVertexAttribArray(o.index),this._vertexAttribArraysEnabled[o.index]=!0),this._vertexAttribPointer(e,o.index,o.attributeSize,o.attributeType||this._gl.FLOAT,o.normalized||!1,n,o.offset),this._gl.vertexAttribDivisor(o.index,void 0===o.divisor?1:o.divisor),this._currentInstanceLocations.push(o.index),this._currentInstanceBuffers.push(e))}},e.prototype.disableInstanceAttributeByName=function(e){if(this._currentEffect){var t=this._currentEffect.getAttributeLocationByName(e);this.disableInstanceAttribute(t)}},e.prototype.disableInstanceAttribute=function(e){for(var t,i=!1;-1!==(t=this._currentInstanceLocations.indexOf(e));)this._currentInstanceLocations.splice(t,1),this._currentInstanceBuffers.splice(t,1),i=!0,t=this._currentInstanceLocations.indexOf(e);i&&(this._gl.vertexAttribDivisor(e,0),this.disableAttributeByIndex(e))},e.prototype.disableAttributeByIndex=function(e){this._gl.disableVertexAttribArray(e),this._vertexAttribArraysEnabled[e]=!1,this._currentBufferPointers[e].active=!1},e.prototype.draw=function(e,t,i,n){this.drawElementsType(e?0:1,t,i,n)},e.prototype.drawPointClouds=function(e,t,i){this.drawArraysType(2,e,t,i)},e.prototype.drawUnIndexed=function(e,t,i,n){this.drawArraysType(e?0:1,t,i,n)},e.prototype.drawElementsType=function(e,t,i,n){this.applyStates(),this._reportDrawCall();var r=this._drawMode(e),o=this._uintIndicesCurrentlySet?this._gl.UNSIGNED_INT:this._gl.UNSIGNED_SHORT,s=this._uintIndicesCurrentlySet?4:2;n?this._gl.drawElementsInstanced(r,i,o,t*s,n):this._gl.drawElements(r,i,o,t*s)},e.prototype.drawArraysType=function(e,t,i,n){this.applyStates(),this._reportDrawCall();var r=this._drawMode(e);n?this._gl.drawArraysInstanced(r,t,i,n):this._gl.drawArrays(r,t,i)},e.prototype._drawMode=function(e){switch(e){case 0:default:return this._gl.TRIANGLES;case 2:case 3:return this._gl.POINTS;case 1:case 4:return this._gl.LINES;case 5:return this._gl.LINE_LOOP;case 6:return this._gl.LINE_STRIP;case 7:return this._gl.TRIANGLE_STRIP;case 8:return this._gl.TRIANGLE_FAN}},e.prototype._reportDrawCall=function(){},e.prototype._releaseEffect=function(e){this._compiledEffects[e._key]&&(delete this._compiledEffects[e._key],this._deletePipelineContext(e.getPipelineContext()))},e.prototype._deletePipelineContext=function(e){var t=e;t&&t.program&&(t.program.__SPECTOR_rebuildProgram=null,this._gl.deleteProgram(t.program))},e.prototype.createEffect=function(e,t,i,n,o,s,a,c,l){var _=(e.vertexElement||e.vertex||e.vertexToken||e.vertexSource||e)+"+"+(e.fragmentElement||e.fragment||e.fragmentToken||e.fragmentSource||e)+"@"+(o||t.defines);if(this._compiledEffects[_]){var u=this._compiledEffects[_];return a&&u.isReady()&&a(u),u}var f=new r.a(e,t,i,n,this,o,s,a,c,l);return f._key=_,this._compiledEffects[_]=f,f},e._ConcatenateShader=function(e,t,i){return void 0===i&&(i=""),i+(t?t+"\n":"")+e},e.prototype._compileShader=function(t,i,n,r){return this._compileRawShader(e._ConcatenateShader(t,n,r),i)},e.prototype._compileRawShader=function(e,t){var i=this._gl,n=i.createShader("vertex"===t?i.VERTEX_SHADER:i.FRAGMENT_SHADER);if(!n)throw new Error("Something went wrong while compile the shader.");return i.shaderSource(n,e),i.compileShader(n),n},e.prototype._getShaderSource=function(e){return this._gl.getShaderSource(e)},e.prototype.createRawShaderProgram=function(e,t,i,n,r){void 0===r&&(r=null),n=n||this._gl;var o=this._compileRawShader(t,"vertex"),s=this._compileRawShader(i,"fragment");return this._createShaderProgram(e,o,s,n,r)},e.prototype.createShaderProgram=function(e,t,i,n,r,o){void 0===o&&(o=null),r=r||this._gl;var s=this._webGLVersion>1?"#version 300 es\n#define WEBGL2 \n":"",a=this._compileShader(t,"vertex",n,s),c=this._compileShader(i,"fragment",n,s);return this._createShaderProgram(e,a,c,r,o)},e.prototype.createPipelineContext=function(){var e=new b;return e.engine=this,this._caps.parallelShaderCompile&&(e.isParallelCompiled=!0),e},e.prototype._createShaderProgram=function(e,t,i,n,r){void 0===r&&(r=null);var o=n.createProgram();if(e.program=o,!o)throw new Error("Unable to create program");return n.attachShader(o,t),n.attachShader(o,i),n.linkProgram(o),e.context=n,e.vertexShader=t,e.fragmentShader=i,e.isParallelCompiled||this._finalizePipelineContext(e),o},e.prototype._finalizePipelineContext=function(e){var t=e.context,i=e.vertexShader,n=e.fragmentShader,r=e.program;if(!t.getProgramParameter(r,t.LINK_STATUS)){var o,s;if(!this._gl.getShaderParameter(i,this._gl.COMPILE_STATUS))if(o=this._gl.getShaderInfoLog(i))throw e.vertexCompilationError=o,new Error("VERTEX SHADER "+o);if(!this._gl.getShaderParameter(n,this._gl.COMPILE_STATUS))if(o=this._gl.getShaderInfoLog(n))throw e.fragmentCompilationError=o,new Error("FRAGMENT SHADER "+o);if(s=t.getProgramInfoLog(r))throw e.programLinkError=s,new Error(s)}if(this.validateShaderPrograms&&(t.validateProgram(r),!t.getProgramParameter(r,t.VALIDATE_STATUS)&&(s=t.getProgramInfoLog(r))))throw e.programValidationError=s,new Error(s);t.deleteShader(i),t.deleteShader(n),e.vertexShader=void 0,e.fragmentShader=void 0,e.onCompiled&&(e.onCompiled(),e.onCompiled=void 0)},e.prototype._preparePipelineContext=function(e,t,i,n,r,o,s){var a=e;a.program=n?this.createRawShaderProgram(a,t,i,void 0,s):this.createShaderProgram(a,t,i,o,void 0,s),a.program.__SPECTOR_rebuildProgram=r},e.prototype._isRenderingStateCompiled=function(e){var t=e;return!!this._gl.getProgramParameter(t.program,this._caps.parallelShaderCompile.COMPLETION_STATUS_KHR)&&(this._finalizePipelineContext(t),!0)},e.prototype._executeWhenRenderingStateIsCompiled=function(e,t){var i=e;if(i.isParallelCompiled){var n=i.onCompiled;i.onCompiled=n?function(){n(),t()}:t}else t()},e.prototype.getUniforms=function(e,t){for(var i=new Array,n=e,r=0;r<t.length;r++)i.push(this._gl.getUniformLocation(n.program,t[r]));return i},e.prototype.getAttributes=function(e,t){for(var i=[],n=e,r=0;r<t.length;r++)try{i.push(this._gl.getAttribLocation(n.program,t[r]))}catch(o){i.push(-1)}return i},e.prototype.enableEffect=function(e){e&&e!==this._currentEffect&&(this.bindSamplers(e),this._currentEffect=e,e.onBind&&e.onBind(e),e._onBindObservable&&e._onBindObservable.notifyObservers(e))},e.prototype.setInt=function(e,t){return!!e&&(this._gl.uniform1i(e,t),!0)},e.prototype.setIntArray=function(e,t){return!!e&&(this._gl.uniform1iv(e,t),!0)},e.prototype.setIntArray2=function(e,t){return!(!e||t.length%2!==0)&&(this._gl.uniform2iv(e,t),!0)},e.prototype.setIntArray3=function(e,t){return!(!e||t.length%3!==0)&&(this._gl.uniform3iv(e,t),!0)},e.prototype.setIntArray4=function(e,t){return!(!e||t.length%4!==0)&&(this._gl.uniform4iv(e,t),!0)},e.prototype.setArray=function(e,t){return!!e&&(this._gl.uniform1fv(e,t),!0)},e.prototype.setArray2=function(e,t){return!(!e||t.length%2!==0)&&(this._gl.uniform2fv(e,t),!0)},e.prototype.setArray3=function(e,t){return!(!e||t.length%3!==0)&&(this._gl.uniform3fv(e,t),!0)},e.prototype.setArray4=function(e,t){return!(!e||t.length%4!==0)&&(this._gl.uniform4fv(e,t),!0)},e.prototype.setMatrices=function(e,t){return!!e&&(this._gl.uniformMatrix4fv(e,!1,t),!0)},e.prototype.setMatrix3x3=function(e,t){return!!e&&(this._gl.uniformMatrix3fv(e,!1,t),!0)},e.prototype.setMatrix2x2=function(e,t){return!!e&&(this._gl.uniformMatrix2fv(e,!1,t),!0)},e.prototype.setFloat=function(e,t){return!!e&&(this._gl.uniform1f(e,t),!0)},e.prototype.setFloat2=function(e,t,i){return!!e&&(this._gl.uniform2f(e,t,i),!0)},e.prototype.setFloat3=function(e,t,i,n){return!!e&&(this._gl.uniform3f(e,t,i,n),!0)},e.prototype.setFloat4=function(e,t,i,n,r){return!!e&&(this._gl.uniform4f(e,t,i,n,r),!0)},e.prototype.applyStates=function(){if(this._depthCullingState.apply(this._gl),this._stencilState.apply(this._gl),this._alphaState.apply(this._gl),this._colorWriteChanged){this._colorWriteChanged=!1;var e=this._colorWrite;this._gl.colorMask(e,e,e,e)}},e.prototype.setColorWrite=function(e){e!==this._colorWrite&&(this._colorWriteChanged=!0,this._colorWrite=e)},e.prototype.getColorWrite=function(){return this._colorWrite},Object.defineProperty(e.prototype,"depthCullingState",{get:function(){return this._depthCullingState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaState",{get:function(){return this._alphaState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stencilState",{get:function(){return this._stencilState},enumerable:!1,configurable:!0}),e.prototype.clearInternalTexturesCache=function(){this._internalTexturesCache=[]},e.prototype.wipeCaches=function(e){this.preventCacheWipeBetweenFrames&&!e||(this._currentEffect=null,this._viewportCached.x=0,this._viewportCached.y=0,this._viewportCached.z=0,this._viewportCached.w=0,this._unbindVertexArrayObject(),e&&(this._currentProgram=null,this.resetTextureCache(),this._stencilState.reset(),this._depthCullingState.reset(),this._depthCullingState.depthFunc=this._gl.LEQUAL,this._alphaState.reset(),this._alphaMode=1,this._alphaEquation=0,this._colorWrite=!0,this._colorWriteChanged=!0,this._unpackFlipYCached=null,this._gl.pixelStorei(this._gl.UNPACK_COLORSPACE_CONVERSION_WEBGL,this._gl.NONE),this._gl.pixelStorei(this._gl.UNPACK_PREMULTIPLY_ALPHA_WEBGL,0),this._mustWipeVertexAttributes=!0,this.unbindAllAttributes()),this._resetVertexBufferBinding(),this._cachedIndexBuffer=null,this._cachedEffectForVertexBuffers=null,this.bindIndexBuffer(null))},e.prototype._getSamplingParameters=function(e,t){var i=this._gl,n=i.NEAREST,r=i.NEAREST;switch(e){case 11:n=i.LINEAR,r=t?i.LINEAR_MIPMAP_NEAREST:i.LINEAR;break;case 3:n=i.LINEAR,r=t?i.LINEAR_MIPMAP_LINEAR:i.LINEAR;break;case 8:n=i.NEAREST,r=t?i.NEAREST_MIPMAP_LINEAR:i.NEAREST;break;case 4:n=i.NEAREST,r=t?i.NEAREST_MIPMAP_NEAREST:i.NEAREST;break;case 5:n=i.NEAREST,r=t?i.LINEAR_MIPMAP_NEAREST:i.LINEAR;break;case 6:n=i.NEAREST,r=t?i.LINEAR_MIPMAP_LINEAR:i.LINEAR;break;case 7:n=i.NEAREST,r=i.LINEAR;break;case 1:n=i.NEAREST,r=i.NEAREST;break;case 9:n=i.LINEAR,r=t?i.NEAREST_MIPMAP_NEAREST:i.NEAREST;break;case 10:n=i.LINEAR,r=t?i.NEAREST_MIPMAP_LINEAR:i.NEAREST;break;case 2:n=i.LINEAR,r=i.LINEAR;break;case 12:n=i.LINEAR,r=i.NEAREST}return{min:r,mag:n}},e.prototype._createTexture=function(){var e=this._gl.createTexture();if(!e)throw new Error("Unable to create texture");return e},e.prototype.createTexture=function(t,i,r,o,s,a,c,l,f,d,h,p,b){var m=this;void 0===s&&(s=3),void 0===a&&(a=null),void 0===c&&(c=null),void 0===l&&(l=null),void 0===f&&(f=null),void 0===d&&(d=null),void 0===h&&(h=null);var A="data:"===(t=t||"").substr(0,5),g="blob:"===t.substr(0,5),y=A&&-1!==t.indexOf(";base64,"),v=f||new _.a(this,_.b.Url),C=t;!this._transformTextureUrl||y||f||l||(t=this._transformTextureUrl(t)),C!==t&&(v._originalUrl=C);var E=t.lastIndexOf("."),S=h||(E>-1?t.substring(E).toLowerCase():""),T=null;S.indexOf("?")>-1&&(S=S.split("?")[0]);for(var R=0,M=e._TextureLoaders;R<M.length;R++){var O=M[R];if(O.canLoad(S,p)){T=O;break}}o&&o._addPendingData(v),v.url=t,v.generateMipMaps=!i,v.samplingMode=s,v.invertY=r,this._doNotHandleContextLost||(v._buffer=l);var I=null;a&&!f&&(I=v.onLoadedObservable.add(a)),f||this._internalTexturesCache.push(v);var x=function(e,r){o&&o._removePendingData(v),t===C?(I&&v.onLoadedObservable.remove(I),n.a.UseFallbackTexture&&m.createTexture(n.a.FallbackTexture,i,v.invertY,o,s,null,c,l,v),c&&c((e||"Unknown error")+(n.a.UseFallbackTexture?" - Fallback texture was used":""),r)):(u.a.Warn("Failed to load "+t+", falling back to "+C),m.createTexture(C,i,v.invertY,o,s,a,c,l,v,d,h,p,b))};if(T){var P=function(e){T.loadData(e,v,function(e,t,i,n,r,a){a?x("TextureLoader failed to load data"):m._prepareWebGLTexture(v,o,e,t,v.invertY,!i,n,function(){return r(),!1},s)},b)};l?l instanceof ArrayBuffer?P(new Uint8Array(l)):ArrayBuffer.isView(l)?P(l):c&&c("Unable to load: only ArrayBuffer or ArrayBufferView is supported",null):this._loadFile(t,function(e){return P(new Uint8Array(e))},void 0,o?o.offlineProvider:void 0,!0,function(e,t){x("Unable to load "+(e&&e.responseURL,t))})}else{var D=function(e){g&&!m._doNotHandleContextLost&&(v._buffer=e),m._prepareWebGLTexture(v,o,e.width,e.height,v.invertY,i,!1,function(t,i,n){var r=m._gl,s=e.width===t&&e.height===i,a=d?m._getInternalFormat(d):".jpg"===S?r.RGB:r.RGBA;if(s)return r.texImage2D(r.TEXTURE_2D,0,a,a,r.UNSIGNED_BYTE,e),!1;var c=m._caps.maxTextureSize;if(e.width>c||e.height>c||!m._supportsHardwareTextureRescaling)return m._prepareWorkingCanvas(),!(!m._workingCanvas||!m._workingContext)&&(m._workingCanvas.width=t,m._workingCanvas.height=i,m._workingContext.drawImage(e,0,0,e.width,e.height,0,0,t,i),r.texImage2D(r.TEXTURE_2D,0,a,a,r.UNSIGNED_BYTE,m._workingCanvas),v.width=t,v.height=i,!1);var l=new _.a(m,_.b.Temp);return m._bindTextureDirectly(r.TEXTURE_2D,l,!0),r.texImage2D(r.TEXTURE_2D,0,a,a,r.UNSIGNED_BYTE,e),m._rescaleTexture(l,v,o,a,function(){m._releaseTexture(l),m._bindTextureDirectly(r.TEXTURE_2D,v,!0),n()}),!0},s)};!A||y?l&&(l.decoding||l.close)?D(l):e._FileToolsLoadImage(t,D,x,o?o.offlineProvider:null,p):"string"===typeof l||l instanceof ArrayBuffer||ArrayBuffer.isView(l)||l instanceof Blob?e._FileToolsLoadImage(l,D,x,o?o.offlineProvider:null,p):l&&D(l)}return v},e._FileToolsLoadImage=function(e,t,i,n,r){throw o.a.WarnImport("FileTools")},e.prototype._rescaleTexture=function(e,t,i,n,r){},e.prototype.createRawTexture=function(e,t,i,n,r,s,a,c,l){throw void 0===c&&(c=null),void 0===l&&(l=0),o.a.WarnImport("Engine.RawTexture")},e.prototype.createRawCubeTexture=function(e,t,i,n,r,s,a,c){throw void 0===c&&(c=null),o.a.WarnImport("Engine.RawTexture")},e.prototype.createRawTexture3D=function(e,t,i,n,r,s,a,c,l,_){throw void 0===l&&(l=null),void 0===_&&(_=0),o.a.WarnImport("Engine.RawTexture")},e.prototype.createRawTexture2DArray=function(e,t,i,n,r,s,a,c,l,_){throw void 0===l&&(l=null),void 0===_&&(_=0),o.a.WarnImport("Engine.RawTexture")},e.prototype._unpackFlipY=function(e){this._unpackFlipYCached!==e&&(this._gl.pixelStorei(this._gl.UNPACK_FLIP_Y_WEBGL,e?1:0),this.enableUnpackFlipYCached&&(this._unpackFlipYCached=e))},e.prototype._getUnpackAlignement=function(){return this._gl.getParameter(this._gl.UNPACK_ALIGNMENT)},e.prototype._getTextureTarget=function(e){return e.isCube?this._gl.TEXTURE_CUBE_MAP:e.is3D?this._gl.TEXTURE_3D:e.is2DArray||e.isMultiview?this._gl.TEXTURE_2D_ARRAY:this._gl.TEXTURE_2D},e.prototype.updateTextureSamplingMode=function(e,t,i){void 0===i&&(i=!1);var n=this._getTextureTarget(t),r=this._getSamplingParameters(e,t.generateMipMaps||i);this._setTextureParameterInteger(n,this._gl.TEXTURE_MAG_FILTER,r.mag,t),this._setTextureParameterInteger(n,this._gl.TEXTURE_MIN_FILTER,r.min),i&&(t.generateMipMaps=!0,this._gl.generateMipmap(n)),this._bindTextureDirectly(n,null),t.samplingMode=e},e.prototype.updateTextureWrappingMode=function(e,t,i,n){void 0===i&&(i=null),void 0===n&&(n=null);var r=this._getTextureTarget(e);null!==t&&(this._setTextureParameterInteger(r,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(t),e),e._cachedWrapU=t),null!==i&&(this._setTextureParameterInteger(r,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(i),e),e._cachedWrapV=i),(e.is2DArray||e.is3D)&&null!==n&&(this._setTextureParameterInteger(r,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(n),e),e._cachedWrapR=n),this._bindTextureDirectly(r,null)},e.prototype._setupDepthStencilTexture=function(e,t,i,n,r){var o=t.width||t,s=t.height||t,a=t.layers||0;e.baseWidth=o,e.baseHeight=s,e.width=o,e.height=s,e.is2DArray=a>0,e.depth=a,e.isReady=!0,e.samples=1,e.generateMipMaps=!1,e._generateDepthBuffer=!0,e._generateStencilBuffer=i,e.samplingMode=n?2:1,e.type=0,e._comparisonFunction=r;var c=this._gl,l=this._getTextureTarget(e),_=this._getSamplingParameters(e.samplingMode,!1);c.texParameteri(l,c.TEXTURE_MAG_FILTER,_.mag),c.texParameteri(l,c.TEXTURE_MIN_FILTER,_.min),c.texParameteri(l,c.TEXTURE_WRAP_S,c.CLAMP_TO_EDGE),c.texParameteri(l,c.TEXTURE_WRAP_T,c.CLAMP_TO_EDGE),0===r?(c.texParameteri(l,c.TEXTURE_COMPARE_FUNC,515),c.texParameteri(l,c.TEXTURE_COMPARE_MODE,c.NONE)):(c.texParameteri(l,c.TEXTURE_COMPARE_FUNC,r),c.texParameteri(l,c.TEXTURE_COMPARE_MODE,c.COMPARE_REF_TO_TEXTURE))},e.prototype._uploadCompressedDataToTextureDirectly=function(e,t,i,n,r,o,s){void 0===o&&(o=0),void 0===s&&(s=0);var a=this._gl,c=a.TEXTURE_2D;e.isCube&&(c=a.TEXTURE_CUBE_MAP_POSITIVE_X+o),this._gl.compressedTexImage2D(c,s,t,i,n,0,r)},e.prototype._uploadDataToTextureDirectly=function(e,t,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===o&&(o=!1);var s=this._gl,a=this._getWebGLTextureType(e.type),c=this._getInternalFormat(e.format),l=void 0===r?this._getRGBABufferInternalSizedFormat(e.type,e.format):this._getInternalFormat(r);this._unpackFlipY(e.invertY);var _=s.TEXTURE_2D;e.isCube&&(_=s.TEXTURE_CUBE_MAP_POSITIVE_X+i);var u=Math.round(Math.log(e.width)*Math.LOG2E),f=Math.round(Math.log(e.height)*Math.LOG2E),d=o?e.width:Math.pow(2,Math.max(u-n,0)),h=o?e.height:Math.pow(2,Math.max(f-n,0));s.texImage2D(_,n,l,d,h,0,c,a,t)},e.prototype.updateTextureData=function(e,t,i,n,r,o,s,a){void 0===s&&(s=0),void 0===a&&(a=0);var c=this._gl,l=this._getWebGLTextureType(e.type),_=this._getInternalFormat(e.format);this._unpackFlipY(e.invertY);var u=c.TEXTURE_2D;e.isCube&&(u=c.TEXTURE_CUBE_MAP_POSITIVE_X+s),c.texSubImage2D(u,a,i,n,r,o,_,l,t)},e.prototype._uploadArrayBufferViewToTexture=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=this._gl,o=e.isCube?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D;this._bindTextureDirectly(o,e,!0),this._uploadDataToTextureDirectly(e,t,i,n),this._bindTextureDirectly(o,null,!0)},e.prototype._prepareWebGLTextureContinuation=function(e,t,i,n,r){var o=this._gl;if(o){var s=this._getSamplingParameters(r,!i);o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MAG_FILTER,s.mag),o.texParameteri(o.TEXTURE_2D,o.TEXTURE_MIN_FILTER,s.min),i||n||o.generateMipmap(o.TEXTURE_2D),this._bindTextureDirectly(o.TEXTURE_2D,null),t&&t._removePendingData(e),e.onLoadedObservable.notifyObservers(e),e.onLoadedObservable.clear()}},e.prototype._prepareWebGLTexture=function(t,i,n,r,o,s,a,c,l){var _=this;void 0===l&&(l=3);var u=this.getCaps().maxTextureSize,f=Math.min(u,this.needPOTTextures?e.GetExponentOfTwo(n,u):n),d=Math.min(u,this.needPOTTextures?e.GetExponentOfTwo(r,u):r),h=this._gl;h&&(t._webGLTexture?(this._bindTextureDirectly(h.TEXTURE_2D,t,!0),this._unpackFlipY(void 0===o||!!o),t.baseWidth=n,t.baseHeight=r,t.width=f,t.height=d,t.isReady=!0,c(f,d,function(){_._prepareWebGLTextureContinuation(t,i,s,a,l)})||this._prepareWebGLTextureContinuation(t,i,s,a,l)):i&&i._removePendingData(t))},e.prototype._setupFramebufferDepthAttachments=function(e,t,i,n,r){void 0===r&&(r=1);var o=this._gl;if(e&&t)return this._getDepthStencilBuffer(i,n,r,o.DEPTH_STENCIL,o.DEPTH24_STENCIL8,o.DEPTH_STENCIL_ATTACHMENT);if(t){var s=o.DEPTH_COMPONENT16;return this._webGLVersion>1&&(s=o.DEPTH_COMPONENT32F),this._getDepthStencilBuffer(i,n,r,s,s,o.DEPTH_ATTACHMENT)}return e?this._getDepthStencilBuffer(i,n,r,o.STENCIL_INDEX8,o.STENCIL_INDEX8,o.STENCIL_ATTACHMENT):null},e.prototype._releaseFramebufferObjects=function(e){var t=this._gl;e._framebuffer&&(t.deleteFramebuffer(e._framebuffer),e._framebuffer=null),e._depthStencilBuffer&&(t.deleteRenderbuffer(e._depthStencilBuffer),e._depthStencilBuffer=null),e._MSAAFramebuffer&&(t.deleteFramebuffer(e._MSAAFramebuffer),e._MSAAFramebuffer=null),e._MSAARenderBuffer&&(t.deleteRenderbuffer(e._MSAARenderBuffer),e._MSAARenderBuffer=null)},e.prototype._releaseTexture=function(e){this._releaseFramebufferObjects(e),this._deleteTexture(e._webGLTexture),this.unbindAllTextures();var t=this._internalTexturesCache.indexOf(e);-1!==t&&this._internalTexturesCache.splice(t,1),e._lodTextureHigh&&e._lodTextureHigh.dispose(),e._lodTextureMid&&e._lodTextureMid.dispose(),e._lodTextureLow&&e._lodTextureLow.dispose(),e._irradianceTexture&&e._irradianceTexture.dispose()},e.prototype._deleteTexture=function(e){this._gl.deleteTexture(e)},e.prototype._setProgram=function(e){this._currentProgram!==e&&(this._gl.useProgram(e),this._currentProgram=e)},e.prototype.bindSamplers=function(e){var t=e.getPipelineContext();this._setProgram(t.program);for(var i=e.getSamplers(),n=0;n<i.length;n++){var r=e.getUniform(i[n]);r&&(this._boundUniforms[n]=r)}this._currentEffect=null},e.prototype._activateCurrentTexture=function(){this._currentTextureChannel!==this._activeChannel&&(this._gl.activeTexture(this._gl.TEXTURE0+this._activeChannel),this._currentTextureChannel=this._activeChannel)},e.prototype._bindTextureDirectly=function(e,t,i,n){void 0===i&&(i=!1),void 0===n&&(n=!1);var r=!1,o=t&&t._associatedChannel>-1;return i&&o&&(this._activeChannel=t._associatedChannel),this._boundTexturesCache[this._activeChannel]!==t||n?(this._activateCurrentTexture(),t&&t.isMultiview?this._gl.bindTexture(e,t?t._colorTextureArray:null):this._gl.bindTexture(e,t?t._webGLTexture:null),this._boundTexturesCache[this._activeChannel]=t,t&&(t._associatedChannel=this._activeChannel)):i&&(r=!0,this._activateCurrentTexture()),o&&!i&&this._bindSamplerUniformToChannel(t._associatedChannel,this._activeChannel),r},e.prototype._bindTexture=function(e,t){if(void 0!==e){t&&(t._associatedChannel=e),this._activeChannel=e;var i=t?this._getTextureTarget(t):this._gl.TEXTURE_2D;this._bindTextureDirectly(i,t)}},e.prototype.unbindAllTextures=function(){for(var e=0;e<this._maxSimultaneousTextures;e++)this._activeChannel=e,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))},e.prototype.setTexture=function(e,t,i){void 0!==e&&(t&&(this._boundUniforms[e]=t),this._setTexture(e,i))},e.prototype._bindSamplerUniformToChannel=function(e,t){var i=this._boundUniforms[e];i&&i._currentState!==t&&(this._gl.uniform1i(i,t),i._currentState=t)},e.prototype._getTextureWrapMode=function(e){switch(e){case 1:return this._gl.REPEAT;case 0:return this._gl.CLAMP_TO_EDGE;case 2:return this._gl.MIRRORED_REPEAT}return this._gl.REPEAT},e.prototype._setTexture=function(e,t,i,n){if(void 0===i&&(i=!1),void 0===n&&(n=!1),!t)return null!=this._boundTexturesCache[e]&&(this._activeChannel=e,this._bindTextureDirectly(this._gl.TEXTURE_2D,null),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null),this.webGLVersion>1&&(this._bindTextureDirectly(this._gl.TEXTURE_3D,null),this._bindTextureDirectly(this._gl.TEXTURE_2D_ARRAY,null))),!1;if(t.video)this._activeChannel=e,t.update();else if(4===t.delayLoadState)return t.delayLoad(),!1;var r;r=n?t.depthStencilTexture:t.isReady()?t.getInternalTexture():t.isCube?this.emptyCubeTexture:t.is3D?this.emptyTexture3D:t.is2DArray?this.emptyTexture2DArray:this.emptyTexture,!i&&r&&(r._associatedChannel=e);var o=!0;this._boundTexturesCache[e]===r&&(i||this._bindSamplerUniformToChannel(r._associatedChannel,e),o=!1),this._activeChannel=e;var s=this._getTextureTarget(r);if(o&&this._bindTextureDirectly(s,r,i),r&&!r.isMultiview){if(r.isCube&&r._cachedCoordinatesMode!==t.coordinatesMode){r._cachedCoordinatesMode=t.coordinatesMode;var a=3!==t.coordinatesMode&&5!==t.coordinatesMode?1:0;t.wrapU=a,t.wrapV=a}r._cachedWrapU!==t.wrapU&&(r._cachedWrapU=t.wrapU,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_S,this._getTextureWrapMode(t.wrapU),r)),r._cachedWrapV!==t.wrapV&&(r._cachedWrapV=t.wrapV,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_T,this._getTextureWrapMode(t.wrapV),r)),r.is3D&&r._cachedWrapR!==t.wrapR&&(r._cachedWrapR=t.wrapR,this._setTextureParameterInteger(s,this._gl.TEXTURE_WRAP_R,this._getTextureWrapMode(t.wrapR),r)),this._setAnisotropicLevel(s,r,t.anisotropicFilteringLevel)}return!0},e.prototype.setTextureArray=function(e,t,i){if(void 0!==e&&t){this._textureUnits&&this._textureUnits.length===i.length||(this._textureUnits=new Int32Array(i.length));for(var n=0;n<i.length;n++){var r=i[n].getInternalTexture();r?(this._textureUnits[n]=e+n,r._associatedChannel=e+n):this._textureUnits[n]=-1}this._gl.uniform1iv(t,this._textureUnits);for(var o=0;o<i.length;o++)this._setTexture(this._textureUnits[o],i[o],!0)}},e.prototype._setAnisotropicLevel=function(e,t,i){var n=this._caps.textureAnisotropicFilterExtension;11!==t.samplingMode&&3!==t.samplingMode&&2!==t.samplingMode&&(i=1),n&&t._cachedAnisotropicFilteringLevel!==i&&(this._setTextureParameterFloat(e,n.TEXTURE_MAX_ANISOTROPY_EXT,Math.min(i,this._caps.maxAnisotropy),t),t._cachedAnisotropicFilteringLevel=i)},e.prototype._setTextureParameterFloat=function(e,t,i,n){this._bindTextureDirectly(e,n,!0,!0),this._gl.texParameterf(e,t,i)},e.prototype._setTextureParameterInteger=function(e,t,i,n){n&&this._bindTextureDirectly(e,n,!0,!0),this._gl.texParameteri(e,t,i)},e.prototype.unbindAllAttributes=function(){if(this._mustWipeVertexAttributes){this._mustWipeVertexAttributes=!1;for(var e=0;e<this._caps.maxVertexAttribs;e++)this.disableAttributeByIndex(e)}else{e=0;for(var t=this._vertexAttribArraysEnabled.length;e<t;e++)e>=this._caps.maxVertexAttribs||!this._vertexAttribArraysEnabled[e]||this.disableAttributeByIndex(e)}},e.prototype.releaseEffects=function(){for(var e in this._compiledEffects){var t=this._compiledEffects[e].getPipelineContext();this._deletePipelineContext(t)}this._compiledEffects={}},e.prototype.dispose=function(){this.stopRenderLoop(),this.onBeforeTextureInitObservable&&this.onBeforeTextureInitObservable.clear(),this._emptyTexture&&(this._releaseTexture(this._emptyTexture),this._emptyTexture=null),this._emptyCubeTexture&&(this._releaseTexture(this._emptyCubeTexture),this._emptyCubeTexture=null),this._dummyFramebuffer&&this._gl.deleteFramebuffer(this._dummyFramebuffer),this.releaseEffects(),this.unbindAllAttributes(),this._boundUniforms=[],f.a.IsWindowObjectExist()&&this._renderingCanvas&&(this._doNotHandleContextLost||(this._renderingCanvas.removeEventListener("webglcontextlost",this._onContextLost),this._renderingCanvas.removeEventListener("webglcontextrestored",this._onContextRestored))),this._workingCanvas=null,this._workingContext=null,this._currentBufferPointers=[],this._renderingCanvas=null,this._currentProgram=null,this._boundRenderFunction=null,r.a.ResetCache();for(var e=0,t=this._activeRequests;e<t.length;e++){t[e].abort()}},e.prototype.attachContextLostEvent=function(e){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextlost",e,!1)},e.prototype.attachContextRestoredEvent=function(e){this._renderingCanvas&&this._renderingCanvas.addEventListener("webglcontextrestored",e,!1)},e.prototype.getError=function(){return this._gl.getError()},e.prototype._canRenderToFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(1)},e.prototype._canRenderToHalfFloatFramebuffer=function(){return this._webGLVersion>1?this._caps.colorBufferFloat:this._canRenderToFramebuffer(2)},e.prototype._canRenderToFramebuffer=function(e){for(var t=this._gl;t.getError()!==t.NO_ERROR;);var i=!0,n=t.createTexture();t.bindTexture(t.TEXTURE_2D,n),t.texImage2D(t.TEXTURE_2D,0,this._getRGBABufferInternalSizedFormat(e),1,1,0,t.RGBA,this._getWebGLTextureType(e),null),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,t.NEAREST),t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,t.NEAREST);var r=t.createFramebuffer();t.bindFramebuffer(t.FRAMEBUFFER,r),t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,n,0);var o=t.checkFramebufferStatus(t.FRAMEBUFFER);if((i=(i=i&&o===t.FRAMEBUFFER_COMPLETE)&&t.getError()===t.NO_ERROR)&&(t.clear(t.COLOR_BUFFER_BIT),i=i&&t.getError()===t.NO_ERROR),i){t.bindFramebuffer(t.FRAMEBUFFER,null);var s=t.RGBA,a=t.UNSIGNED_BYTE,c=new Uint8Array(4);t.readPixels(0,0,1,1,s,a,c),i=i&&t.getError()===t.NO_ERROR}for(t.deleteTexture(n),t.deleteFramebuffer(r),t.bindFramebuffer(t.FRAMEBUFFER,null);!i&&t.getError()!==t.NO_ERROR;);return i},e.prototype._getWebGLTextureType=function(e){if(1===this._webGLVersion){switch(e){case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT_OES;case 0:return this._gl.UNSIGNED_BYTE;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5}return this._gl.UNSIGNED_BYTE}switch(e){case 3:return this._gl.BYTE;case 0:return this._gl.UNSIGNED_BYTE;case 4:return this._gl.SHORT;case 5:return this._gl.UNSIGNED_SHORT;case 6:return this._gl.INT;case 7:return this._gl.UNSIGNED_INT;case 1:return this._gl.FLOAT;case 2:return this._gl.HALF_FLOAT;case 8:return this._gl.UNSIGNED_SHORT_4_4_4_4;case 9:return this._gl.UNSIGNED_SHORT_5_5_5_1;case 10:return this._gl.UNSIGNED_SHORT_5_6_5;case 11:return this._gl.UNSIGNED_INT_2_10_10_10_REV;case 12:return this._gl.UNSIGNED_INT_24_8;case 13:return this._gl.UNSIGNED_INT_10F_11F_11F_REV;case 14:return this._gl.UNSIGNED_INT_5_9_9_9_REV;case 15:return this._gl.FLOAT_32_UNSIGNED_INT_24_8_REV}return this._gl.UNSIGNED_BYTE},e.prototype._getInternalFormat=function(e){var t=this._gl.RGBA;switch(e){case 0:t=this._gl.ALPHA;break;case 1:t=this._gl.LUMINANCE;break;case 2:t=this._gl.LUMINANCE_ALPHA;break;case 6:t=this._gl.RED;break;case 7:t=this._gl.RG;break;case 4:t=this._gl.RGB;break;case 5:t=this._gl.RGBA}if(this._webGLVersion>1)switch(e){case 8:t=this._gl.RED_INTEGER;break;case 9:t=this._gl.RG_INTEGER;break;case 10:t=this._gl.RGB_INTEGER;break;case 11:t=this._gl.RGBA_INTEGER}return t},e.prototype._getRGBABufferInternalSizedFormat=function(e,t){if(1===this._webGLVersion){if(void 0!==t)switch(t){case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA;case 4:return this._gl.RGB}return this._gl.RGBA}switch(e){case 3:switch(t){case 6:return this._gl.R8_SNORM;case 7:return this._gl.RG8_SNORM;case 4:return this._gl.RGB8_SNORM;case 8:return this._gl.R8I;case 9:return this._gl.RG8I;case 10:return this._gl.RGB8I;case 11:return this._gl.RGBA8I;default:return this._gl.RGBA8_SNORM}case 0:switch(t){case 6:return this._gl.R8;case 7:return this._gl.RG8;case 4:return this._gl.RGB8;case 5:default:return this._gl.RGBA8;case 8:return this._gl.R8UI;case 9:return this._gl.RG8UI;case 10:return this._gl.RGB8UI;case 11:return this._gl.RGBA8UI;case 0:return this._gl.ALPHA;case 1:return this._gl.LUMINANCE;case 2:return this._gl.LUMINANCE_ALPHA}case 4:switch(t){case 8:return this._gl.R16I;case 9:return this._gl.RG16I;case 10:return this._gl.RGB16I;default:return this._gl.RGBA16I}case 5:switch(t){case 8:return this._gl.R16UI;case 9:return this._gl.RG16UI;case 10:return this._gl.RGB16UI;default:return this._gl.RGBA16UI}case 6:switch(t){case 8:return this._gl.R32I;case 9:return this._gl.RG32I;case 10:return this._gl.RGB32I;default:return this._gl.RGBA32I}case 7:switch(t){case 8:return this._gl.R32UI;case 9:return this._gl.RG32UI;case 10:return this._gl.RGB32UI;default:return this._gl.RGBA32UI}case 1:switch(t){case 6:return this._gl.R32F;case 7:return this._gl.RG32F;case 4:return this._gl.RGB32F;default:return this._gl.RGBA32F}case 2:switch(t){case 6:return this._gl.R16F;case 7:return this._gl.RG16F;case 4:return this._gl.RGB16F;default:return this._gl.RGBA16F}case 10:return this._gl.RGB565;case 13:return this._gl.R11F_G11F_B10F;case 14:return this._gl.RGB9_E5;case 8:return this._gl.RGBA4;case 9:return this._gl.RGB5_A1;case 11:switch(t){case 5:default:return this._gl.RGB10_A2;case 11:return this._gl.RGB10_A2UI}}return this._gl.RGBA8},e.prototype._getRGBAMultiSampleBufferFormat=function(e){return 1===e?this._gl.RGBA32F:2===e?this._gl.RGBA16F:this._gl.RGBA8},e.prototype._loadFile=function(t,i,n,r,o,s){var a=this,c=e._FileToolsLoadFile(t,i,n,r,o,s);return this._activeRequests.push(c),c.onCompleteObservable.add(function(e){a._activeRequests.splice(a._activeRequests.indexOf(e),1)}),c},e._FileToolsLoadFile=function(e,t,i,n,r,s){throw o.a.WarnImport("FileTools")},e.prototype.readPixels=function(e,t,i,n,r){void 0===r&&(r=!0);var o=r?4:3,s=r?this._gl.RGBA:this._gl.RGB,a=new Uint8Array(n*i*o);return this._gl.readPixels(e,t,i,n,s,this._gl.UNSIGNED_BYTE,a),a},Object.defineProperty(e,"IsSupported",{get:function(){return this.isSupported()},enumerable:!1,configurable:!0}),e.isSupported=function(){if(null!==this._HasMajorPerformanceCaveat)return!this._HasMajorPerformanceCaveat;if(null===this._IsSupported)try{var e=m.a.CreateCanvas(1,1),t=e.getContext("webgl")||e.getContext("experimental-webgl");this._IsSupported=null!=t&&!!window.WebGLRenderingContext}catch(i){this._IsSupported=!1}return this._IsSupported},Object.defineProperty(e,"HasMajorPerformanceCaveat",{get:function(){if(null===this._HasMajorPerformanceCaveat)try{var e=m.a.CreateCanvas(1,1),t=e.getContext("webgl",{failIfMajorPerformanceCaveat:!0})||e.getContext("experimental-webgl",{failIfMajorPerformanceCaveat:!0});this._HasMajorPerformanceCaveat=!t}catch(i){this._HasMajorPerformanceCaveat=!1}return this._HasMajorPerformanceCaveat},enumerable:!1,configurable:!0}),e.CeilingPOT=function(e){return e--,e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,e|=e>>16,++e},e.FloorPOT=function(e){return e|=e>>1,e|=e>>2,e|=e>>4,e|=e>>8,(e|=e>>16)-(e>>1)},e.NearestPOT=function(t){var i=e.CeilingPOT(t),n=e.FloorPOT(t);return i-t>t-n?n:i},e.GetExponentOfTwo=function(t,i,n){var r;switch(void 0===n&&(n=2),n){case 1:r=e.FloorPOT(t);break;case 2:r=e.NearestPOT(t);break;default:r=e.CeilingPOT(t)}return Math.min(r,i)},e.QueueNewFrame=function(e,t){return f.a.IsWindowObjectExist()?(t||(t=window),t.requestPostAnimationFrame?t.requestPostAnimationFrame(e):t.requestAnimationFrame?t.requestAnimationFrame(e):t.msRequestAnimationFrame?t.msRequestAnimationFrame(e):t.webkitRequestAnimationFrame?t.webkitRequestAnimationFrame(e):t.mozRequestAnimationFrame?t.mozRequestAnimationFrame(e):t.oRequestAnimationFrame?t.oRequestAnimationFrame(e):window.setTimeout(e,16)):"undefined"!==typeof requestAnimationFrame?requestAnimationFrame(e):setTimeout(e,16)},e.prototype.getHostDocument=function(){return this._renderingCanvas&&this._renderingCanvas.ownerDocument?this._renderingCanvas.ownerDocument:document},e.ExceptionList=[{key:"Chrome/63.0",capture:"63\\.0\\.3239\\.(\\d+)",captureConstraint:108,targets:["uniformBuffer"]},{key:"Firefox/58",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Firefox/59",capture:null,captureConstraint:null,targets:["uniformBuffer"]},{key:"Chrome/72.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/73.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Chrome/74.+?Mobile",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/71",capture:null,captureConstraint:null,targets:["vao"]},{key:"Mac OS.+Chrome/72",capture:null,captureConstraint:null,targets:["vao"]}],e._TextureLoaders=[],e.CollisionsEpsilon=.001,e._IsSupported=null,e._HasMajorPerformanceCaveat=null,e}()},686:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(649),r=i(695),o=i(668),s=i(660),a=i(693),c=i(244),l=function(){function e(){}return e.BindClipPlane=function(e,t){if(t.clipPlane){var i=t.clipPlane;e.setFloat4("vClipPlane",i.normal.x,i.normal.y,i.normal.z,i.d)}if(t.clipPlane2){i=t.clipPlane2;e.setFloat4("vClipPlane2",i.normal.x,i.normal.y,i.normal.z,i.d)}if(t.clipPlane3){i=t.clipPlane3;e.setFloat4("vClipPlane3",i.normal.x,i.normal.y,i.normal.z,i.d)}if(t.clipPlane4){i=t.clipPlane4;e.setFloat4("vClipPlane4",i.normal.x,i.normal.y,i.normal.z,i.d)}if(t.clipPlane5){i=t.clipPlane5;e.setFloat4("vClipPlane5",i.normal.x,i.normal.y,i.normal.z,i.d)}if(t.clipPlane6){i=t.clipPlane6;e.setFloat4("vClipPlane6",i.normal.x,i.normal.y,i.normal.z,i.d)}},e}(),_=function(){function e(){}return e.BindEyePosition=function(e,t,i){if(void 0===i&&(i="vEyePosition"),t._forcedViewPosition)e.setVector3(i,t._forcedViewPosition);else{var n=t.activeCamera.globalPosition;n||(n=t.activeCamera.devicePosition),e.setVector3(i,t._mirroredCameraPosition?t._mirroredCameraPosition:n)}},e.PrepareDefinesForMergedUV=function(e,t,i){t._needUVs=!0,t[i]=!0,e.getTextureMatrix().isIdentityAs3x2()?(t[i+"DIRECTUV"]=e.coordinatesIndex+1,0===e.coordinatesIndex?t.MAINUV1=!0:t.MAINUV2=!0):t[i+"DIRECTUV"]=0},e.BindTextureMatrix=function(e,t,i){var n=e.getTextureMatrix();t.updateMatrix(i+"Matrix",n)},e.GetFogState=function(e,t){return t.fogEnabled&&e.applyFog&&t.fogMode!==r.a.FOGMODE_NONE},e.PrepareDefinesForMisc=function(e,t,i,n,r,o,s){s._areMiscDirty&&(s.LOGARITHMICDEPTH=i,s.POINTSIZE=n,s.FOG=r&&this.GetFogState(e,t),s.NONUNIFORMSCALING=e.nonUniformScaling,s.ALPHATEST=o)},e.PrepareDefinesForFrameBoundValues=function(e,t,i,n,r,o){void 0===r&&(r=null),void 0===o&&(o=!1);var s,a,c,l,_,u,f=!1;s=null==r?void 0!==e.clipPlane&&null!==e.clipPlane:r,a=null==r?void 0!==e.clipPlane2&&null!==e.clipPlane2:r,c=null==r?void 0!==e.clipPlane3&&null!==e.clipPlane3:r,l=null==r?void 0!==e.clipPlane4&&null!==e.clipPlane4:r,_=null==r?void 0!==e.clipPlane5&&null!==e.clipPlane5:r,u=null==r?void 0!==e.clipPlane6&&null!==e.clipPlane6:r,i.CLIPPLANE!==s&&(i.CLIPPLANE=s,f=!0),i.CLIPPLANE2!==a&&(i.CLIPPLANE2=a,f=!0),i.CLIPPLANE3!==c&&(i.CLIPPLANE3=c,f=!0),i.CLIPPLANE4!==l&&(i.CLIPPLANE4=l,f=!0),i.CLIPPLANE5!==_&&(i.CLIPPLANE5=_,f=!0),i.CLIPPLANE6!==u&&(i.CLIPPLANE6=u,f=!0),i.DEPTHPREPASS!==!t.getColorWrite()&&(i.DEPTHPREPASS=!i.DEPTHPREPASS,f=!0),i.INSTANCES!==n&&(i.INSTANCES=n,f=!0),i.THIN_INSTANCES!==o&&(i.THIN_INSTANCES=o,f=!0),f&&i.markAsUnprocessed()},e.PrepareDefinesForBones=function(e,t){if(e.useBones&&e.computeBonesUsingShaders&&e.skeleton){t.NUM_BONE_INFLUENCERS=e.numBoneInfluencers;var i=void 0!==t.BONETEXTURE;if(e.skeleton.isUsingTextureForMatrices&&i)t.BONETEXTURE=!0;else{t.BonesPerMesh=e.skeleton.bones.length+1,t.BONETEXTURE=!i&&void 0;var n=e.getScene().prePassRenderer;if(n&&n.enabled){var r=-1===n.excludedSkinnedMesh.indexOf(e);t.BONES_VELOCITY_ENABLED=r}}}else t.NUM_BONE_INFLUENCERS=0,t.BonesPerMesh=0},e.PrepareDefinesForMorphTargets=function(e,t){var i=e.morphTargetManager;i?(t.MORPHTARGETS_UV=i.supportsUVs&&t.UV1,t.MORPHTARGETS_TANGENT=i.supportsTangents&&t.TANGENT,t.MORPHTARGETS_NORMAL=i.supportsNormals&&t.NORMAL,t.MORPHTARGETS=i.numInfluencers>0,t.NUM_MORPH_INFLUENCERS=i.numInfluencers):(t.MORPHTARGETS_UV=!1,t.MORPHTARGETS_TANGENT=!1,t.MORPHTARGETS_NORMAL=!1,t.MORPHTARGETS=!1,t.NUM_MORPH_INFLUENCERS=0)},e.PrepareDefinesForAttributes=function(e,t,i,n,r,o){if(void 0===r&&(r=!1),void 0===o&&(o=!0),!t._areAttributesDirty&&t._needNormals===t._normals&&t._needUVs===t._uvs)return!1;if(t._normals=t._needNormals,t._uvs=t._needUVs,t.NORMAL=t._needNormals&&e.isVerticesDataPresent(s.b.NormalKind),t._needNormals&&e.isVerticesDataPresent(s.b.TangentKind)&&(t.TANGENT=!0),t._needUVs?(t.UV1=e.isVerticesDataPresent(s.b.UVKind),t.UV2=e.isVerticesDataPresent(s.b.UV2Kind)):(t.UV1=!1,t.UV2=!1),i){var a=e.useVertexColors&&e.isVerticesDataPresent(s.b.ColorKind);t.VERTEXCOLOR=a,t.VERTEXALPHA=e.hasVertexAlpha&&a&&o}return n&&this.PrepareDefinesForBones(e,t),r&&this.PrepareDefinesForMorphTargets(e,t),!0},e.PrepareDefinesForMultiview=function(e,t){if(e.activeCamera){var i=t.MULTIVIEW;t.MULTIVIEW=null!==e.activeCamera.outputRenderTarget&&e.activeCamera.outputRenderTarget.getViewCount()>1,t.MULTIVIEW!=i&&t.markAsUnprocessed()}},e.PrepareDefinesForPrePass=function(e,t,i){var n=t.PREPASS;if(t._arePrePassDirty){var r=[{type:1,define:"PREPASS_POSITION",index:"PREPASS_POSITION_INDEX"},{type:2,define:"PREPASS_VELOCITY",index:"PREPASS_VELOCITY_INDEX"},{type:3,define:"PREPASS_REFLECTIVITY",index:"PREPASS_REFLECTIVITY_INDEX"},{type:0,define:"PREPASS_IRRADIANCE",index:"PREPASS_IRRADIANCE_INDEX"},{type:6,define:"PREPASS_ALBEDO",index:"PREPASS_ALBEDO_INDEX"},{type:5,define:"PREPASS_DEPTHNORMAL",index:"PREPASS_DEPTHNORMAL_INDEX"}];if(e.prePassRenderer&&e.prePassRenderer.enabled&&i){t.PREPASS=!0,t.SCENE_MRT_COUNT=e.prePassRenderer.mrtCount;for(var o=0;o<r.length;o++){var s=e.prePassRenderer.getIndex(r[o].type);-1!==s?(t[r[o].define]=!0,t[r[o].index]=s):t[r[o].define]=!1}}else{t.PREPASS=!1;for(o=0;o<r.length;o++)t[r[o].define]=!1}t.PREPASS!=n&&(t.markAsUnprocessed(),t.markAsImageProcessingDirty())}},e.PrepareDefinesForLight=function(e,t,i,n,r,o,s){switch(s.needNormals=!0,void 0===r["LIGHT"+n]&&(s.needRebuild=!0),r["LIGHT"+n]=!0,r["SPOTLIGHT"+n]=!1,r["HEMILIGHT"+n]=!1,r["POINTLIGHT"+n]=!1,r["DIRLIGHT"+n]=!1,i.prepareLightSpecificDefines(r,n),r["LIGHT_FALLOFF_PHYSICAL"+n]=!1,r["LIGHT_FALLOFF_GLTF"+n]=!1,r["LIGHT_FALLOFF_STANDARD"+n]=!1,i.falloffType){case a.a.FALLOFF_GLTF:r["LIGHT_FALLOFF_GLTF"+n]=!0;break;case a.a.FALLOFF_PHYSICAL:r["LIGHT_FALLOFF_PHYSICAL"+n]=!0;break;case a.a.FALLOFF_STANDARD:r["LIGHT_FALLOFF_STANDARD"+n]=!0}if(o&&!i.specular.equalsFloats(0,0,0)&&(s.specularEnabled=!0),r["SHADOW"+n]=!1,r["SHADOWCSM"+n]=!1,r["SHADOWCSMDEBUG"+n]=!1,r["SHADOWCSMNUM_CASCADES"+n]=!1,r["SHADOWCSMUSESHADOWMAXZ"+n]=!1,r["SHADOWCSMNOBLEND"+n]=!1,r["SHADOWCSM_RIGHTHANDED"+n]=!1,r["SHADOWPCF"+n]=!1,r["SHADOWPCSS"+n]=!1,r["SHADOWPOISSON"+n]=!1,r["SHADOWESM"+n]=!1,r["SHADOWCLOSEESM"+n]=!1,r["SHADOWCUBE"+n]=!1,r["SHADOWLOWQUALITY"+n]=!1,r["SHADOWMEDIUMQUALITY"+n]=!1,t&&t.receiveShadows&&e.shadowsEnabled&&i.shadowEnabled){var c=i.getShadowGenerator();if(c){var l=c.getShadowMap();l&&l.renderList&&l.renderList.length>0&&(s.shadowEnabled=!0,c.prepareDefines(r,n))}}i.lightmapMode!=a.a.LIGHTMAP_DEFAULT?(s.lightmapMode=!0,r["LIGHTMAPEXCLUDED"+n]=!0,r["LIGHTMAPNOSPECULAR"+n]=i.lightmapMode==a.a.LIGHTMAP_SHADOWSONLY):(r["LIGHTMAPEXCLUDED"+n]=!1,r["LIGHTMAPNOSPECULAR"+n]=!1)},e.PrepareDefinesForLights=function(e,t,i,n,r,o){if(void 0===r&&(r=4),void 0===o&&(o=!1),!i._areLightsDirty)return i._needNormals;var s=0,a={needNormals:!1,needRebuild:!1,lightmapMode:!1,shadowEnabled:!1,specularEnabled:!1};if(e.lightsEnabled&&!o)for(var c=0,l=t.lightSources;c<l.length;c++){var _=l[c];if(this.PrepareDefinesForLight(e,t,_,s,i,n,a),++s===r)break}i.SPECULARTERM=a.specularEnabled,i.SHADOWS=a.shadowEnabled;for(var u=s;u<r;u++)void 0!==i["LIGHT"+u]&&(i["LIGHT"+u]=!1,i["HEMILIGHT"+u]=!1,i["POINTLIGHT"+u]=!1,i["DIRLIGHT"+u]=!1,i["SPOTLIGHT"+u]=!1,i["SHADOW"+u]=!1,i["SHADOWCSM"+u]=!1,i["SHADOWCSMDEBUG"+u]=!1,i["SHADOWCSMNUM_CASCADES"+u]=!1,i["SHADOWCSMUSESHADOWMAXZ"+u]=!1,i["SHADOWCSMNOBLEND"+u]=!1,i["SHADOWCSM_RIGHTHANDED"+u]=!1,i["SHADOWPCF"+u]=!1,i["SHADOWPCSS"+u]=!1,i["SHADOWPOISSON"+u]=!1,i["SHADOWESM"+u]=!1,i["SHADOWCLOSEESM"+u]=!1,i["SHADOWCUBE"+u]=!1,i["SHADOWLOWQUALITY"+u]=!1,i["SHADOWMEDIUMQUALITY"+u]=!1);var f=e.getEngine().getCaps();return void 0===i.SHADOWFLOAT&&(a.needRebuild=!0),i.SHADOWFLOAT=a.shadowEnabled&&(f.textureFloatRender&&f.textureFloatLinearFiltering||f.textureHalfFloatRender&&f.textureHalfFloatLinearFiltering),i.LIGHTMAPEXCLUDED=a.lightmapMode,a.needRebuild&&i.rebuild(),a.needNormals},e.PrepareUniformsAndSamplersForLight=function(e,t,i,n,r,o){void 0===r&&(r=null),void 0===o&&(o=!1),r&&r.push("Light"+e),o||(t.push("vLightData"+e,"vLightDiffuse"+e,"vLightSpecular"+e,"vLightDirection"+e,"vLightFalloff"+e,"vLightGround"+e,"lightMatrix"+e,"shadowsInfo"+e,"depthValues"+e),i.push("shadowSampler"+e),i.push("depthSampler"+e),t.push("viewFrustumZ"+e,"cascadeBlendFactor"+e,"lightSizeUVCorrection"+e,"depthCorrection"+e,"penumbraDarkness"+e,"frustumLengths"+e),n&&(i.push("projectionLightSampler"+e),t.push("textureProjectionMatrix"+e)))},e.PrepareUniformsAndSamplersList=function(e,t,i,n){var r;void 0===n&&(n=4);var o=null;if(e.uniformsNames){var s=e;r=s.uniformsNames,o=s.uniformBuffersNames,t=s.samplers,i=s.defines,n=s.maxSimultaneousLights||0}else r=e,t||(t=[]);for(var a=0;a<n&&i["LIGHT"+a];a++)this.PrepareUniformsAndSamplersForLight(a,r,t,i["PROJECTEDLIGHTTEXTURE"+a],o);i.NUM_MORPH_INFLUENCERS&&r.push("morphTargetInfluences")},e.HandleFallbacksForShadows=function(e,t,i,n){void 0===i&&(i=4),void 0===n&&(n=0);for(var r=0,o=0;o<i&&e["LIGHT"+o];o++)o>0&&(r=n+o,t.addFallback(r,"LIGHT"+o)),e.SHADOWS||(e["SHADOW"+o]&&t.addFallback(n,"SHADOW"+o),e["SHADOWPCF"+o]&&t.addFallback(n,"SHADOWPCF"+o),e["SHADOWPCSS"+o]&&t.addFallback(n,"SHADOWPCSS"+o),e["SHADOWPOISSON"+o]&&t.addFallback(n,"SHADOWPOISSON"+o),e["SHADOWESM"+o]&&t.addFallback(n,"SHADOWESM"+o),e["SHADOWCLOSEESM"+o]&&t.addFallback(n,"SHADOWCLOSEESM"+o));return r++},e.PrepareAttributesForMorphTargetsInfluencers=function(e,t,i){this._TmpMorphInfluencers.NUM_MORPH_INFLUENCERS=i,this.PrepareAttributesForMorphTargets(e,t,this._TmpMorphInfluencers)},e.PrepareAttributesForMorphTargets=function(e,t,i){var r=i.NUM_MORPH_INFLUENCERS;if(r>0&&o.a.LastCreatedEngine)for(var a=o.a.LastCreatedEngine.getCaps().maxVertexAttribs,c=t.morphTargetManager,l=c&&c.supportsNormals&&i.NORMAL,_=c&&c.supportsTangents&&i.TANGENT,u=c&&c.supportsUVs&&i.UV1,f=0;f<r;f++)e.push(s.b.PositionKind+f),l&&e.push(s.b.NormalKind+f),_&&e.push(s.b.TangentKind+f),u&&e.push(s.b.UVKind+"_"+f),e.length>a&&n.a.Error("Cannot add more vertex attributes for mesh "+t.name)},e.PrepareAttributesForBones=function(e,t,i,n){i.NUM_BONE_INFLUENCERS>0&&(n.addCPUSkinningFallback(0,t),e.push(s.b.MatricesIndicesKind),e.push(s.b.MatricesWeightsKind),i.NUM_BONE_INFLUENCERS>4&&(e.push(s.b.MatricesIndicesExtraKind),e.push(s.b.MatricesWeightsExtraKind)))},e.PrepareAttributesForInstances=function(e,t){(t.INSTANCES||t.THIN_INSTANCES)&&this.PushAttributesForInstances(e)},e.PushAttributesForInstances=function(e){e.push("world0"),e.push("world1"),e.push("world2"),e.push("world3")},e.BindLightProperties=function(e,t,i){e.transferToEffect(t,i+"")},e.BindLight=function(e,t,i,n,r,o){void 0===o&&(o=!1),e._bindLight(t,i,n,r,o)},e.BindLights=function(e,t,i,n,r,o){void 0===r&&(r=4),void 0===o&&(o=!1);for(var s=Math.min(t.lightSources.length,r),a=0;a<s;a++){var c=t.lightSources[a];this.BindLight(c,a,e,i,"boolean"===typeof n?n:n.SPECULARTERM,o)}},e.BindFogParameters=function(e,t,i,n){void 0===n&&(n=!1),e.fogEnabled&&t.applyFog&&e.fogMode!==r.a.FOGMODE_NONE&&(i.setFloat4("vFogInfos",e.fogMode,e.fogStart,e.fogEnd,e.fogDensity),n?(e.fogColor.toLinearSpaceToRef(this._tempFogColor),i.setColor3("vFogColor",this._tempFogColor)):i.setColor3("vFogColor",e.fogColor))},e.BindBonesParameters=function(t,i,n){if(i&&t&&(t.computeBonesUsingShaders&&i._bonesComputationForcedToCPU&&(t.computeBonesUsingShaders=!1),t.useBones&&t.computeBonesUsingShaders&&t.skeleton)){var r=t.skeleton;if(r.isUsingTextureForMatrices&&i.getUniformIndex("boneTextureWidth")>-1){var o=r.getTransformMatrixTexture(t);i.setTexture("boneSampler",o),i.setFloat("boneTextureWidth",4*(r.bones.length+1))}else{var s=r.getTransformMatrices(t);s&&(i.setMatrices("mBones",s),n&&t.getScene().prePassRenderer&&t.getScene().prePassRenderer.getIndex(2)&&(n.previousBones[t.uniqueId]&&i.setMatrices("mPreviousBones",n.previousBones[t.uniqueId]),e._CopyBonesTransformationMatrices(s,n.previousBones[t.uniqueId])))}}},e._CopyBonesTransformationMatrices=function(e,t){return t.set(e),t},e.BindMorphTargetParameters=function(e,t){var i=e.morphTargetManager;e&&i&&t.setFloatArray("morphTargetInfluences",i.influences)},e.BindLogDepth=function(e,t,i){e.LOGARITHMICDEPTH&&t.setFloat("logarithmicDepthConstant",2/(Math.log(i.activeCamera.maxZ+1)/Math.LN2))},e.BindClipPlane=function(e,t){l.BindClipPlane(e,t)},e._TmpMorphInfluencers={NUM_MORPH_INFLUENCERS:0},e._tempFogColor=c.a.Black(),e}()},689:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(644),r=i(30),o=i(648),s=i(650),a=i(668),c=i(667),l=function(){function e(e,t){void 0===t&&(t=null),this.state="",this.metadata=null,this.reservedDataStore=null,this._doNotSerialize=!1,this._isDisposed=!1,this.animations=new Array,this._ranges={},this.onReady=null,this._isEnabled=!0,this._isParentEnabled=!0,this._isReady=!0,this._currentRenderId=-1,this._parentUpdateId=-1,this._childUpdateId=-1,this._waitingParentId=null,this._cache={},this._parentNode=null,this._children=null,this._worldMatrix=r.a.Identity(),this._worldMatrixDeterminant=0,this._worldMatrixDeterminantIsDirty=!0,this._sceneRootNodesIndex=-1,this._animationPropertiesOverride=null,this._isNode=!0,this.onDisposeObservable=new s.a,this._onDisposeObserver=null,this._behaviors=new Array,this.name=e,this.id=e,this._scene=t||a.a.LastCreatedScene,this.uniqueId=this._scene.getUniqueId(),this._initCache()}return e.AddNodeConstructor=function(e,t){this._NodeConstructors[e]=t},e.Construct=function(e,t,i,n){var r=this._NodeConstructors[e];return r?r(t,i,n):null},Object.defineProperty(e.prototype,"doNotSerialize",{get:function(){return!!this._doNotSerialize||!!this._parentNode&&this._parentNode.doNotSerialize},set:function(e){this._doNotSerialize=e},enumerable:!1,configurable:!0}),e.prototype.isDisposed=function(){return this._isDisposed},Object.defineProperty(e.prototype,"parent",{get:function(){return this._parentNode},set:function(e){if(this._parentNode!==e){var t=this._parentNode;if(this._parentNode&&void 0!==this._parentNode._children&&null!==this._parentNode._children){var i=this._parentNode._children.indexOf(this);-1!==i&&this._parentNode._children.splice(i,1),e||this._isDisposed||this._addToSceneRootNodes()}this._parentNode=e,this._parentNode&&(void 0!==this._parentNode._children&&null!==this._parentNode._children||(this._parentNode._children=new Array),this._parentNode._children.push(this),t||this._removeFromSceneRootNodes()),this._syncParentEnabledState()}},enumerable:!1,configurable:!0}),e.prototype._addToSceneRootNodes=function(){-1===this._sceneRootNodesIndex&&(this._sceneRootNodesIndex=this._scene.rootNodes.length,this._scene.rootNodes.push(this))},e.prototype._removeFromSceneRootNodes=function(){if(-1!==this._sceneRootNodesIndex){var e=this._scene.rootNodes,t=e.length-1;e[this._sceneRootNodesIndex]=e[t],e[this._sceneRootNodesIndex]._sceneRootNodesIndex=this._sceneRootNodesIndex,this._scene.rootNodes.pop(),this._sceneRootNodesIndex=-1}},Object.defineProperty(e.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride?this._animationPropertiesOverride:this._scene.animationPropertiesOverride},set:function(e){this._animationPropertiesOverride=e},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"Node"},Object.defineProperty(e.prototype,"onDispose",{set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)},enumerable:!1,configurable:!0}),e.prototype.getScene=function(){return this._scene},e.prototype.getEngine=function(){return this._scene.getEngine()},e.prototype.addBehavior=function(e,t){var i=this;return void 0===t&&(t=!1),-1!==this._behaviors.indexOf(e)||(e.init(),this._scene.isLoading&&!t?this._scene.onDataLoadedObservable.addOnce(function(){e.attach(i)}):e.attach(this),this._behaviors.push(e)),this},e.prototype.removeBehavior=function(e){var t=this._behaviors.indexOf(e);return-1===t||(this._behaviors[t].detach(),this._behaviors.splice(t,1)),this},Object.defineProperty(e.prototype,"behaviors",{get:function(){return this._behaviors},enumerable:!1,configurable:!0}),e.prototype.getBehaviorByName=function(e){for(var t=0,i=this._behaviors;t<i.length;t++){var n=i[t];if(n.name===e)return n}return null},e.prototype.getWorldMatrix=function(){return this._currentRenderId!==this._scene.getRenderId()&&this.computeWorldMatrix(),this._worldMatrix},e.prototype._getWorldMatrixDeterminant=function(){return this._worldMatrixDeterminantIsDirty&&(this._worldMatrixDeterminantIsDirty=!1,this._worldMatrixDeterminant=this._worldMatrix.determinant()),this._worldMatrixDeterminant},Object.defineProperty(e.prototype,"worldMatrixFromCache",{get:function(){return this._worldMatrix},enumerable:!1,configurable:!0}),e.prototype._initCache=function(){this._cache={},this._cache.parent=void 0},e.prototype.updateCache=function(e){!e&&this.isSynchronized()||(this._cache.parent=this.parent,this._updateCache())},e.prototype._getActionManagerForTrigger=function(e,t){return void 0===t&&(t=!0),this.parent?this.parent._getActionManagerForTrigger(e,!1):null},e.prototype._updateCache=function(e){},e.prototype._isSynchronized=function(){return!0},e.prototype._markSyncedWithParent=function(){this._parentNode&&(this._parentUpdateId=this._parentNode._childUpdateId)},e.prototype.isSynchronizedWithParent=function(){return!this._parentNode||this._parentUpdateId===this._parentNode._childUpdateId&&this._parentNode.isSynchronized()},e.prototype.isSynchronized=function(){return this._cache.parent!=this._parentNode?(this._cache.parent=this._parentNode,!1):!(this._parentNode&&!this.isSynchronizedWithParent())&&this._isSynchronized()},e.prototype.isReady=function(e){return void 0===e&&(e=!1),this._isReady},e.prototype.isEnabled=function(e){return void 0===e&&(e=!0),!1===e?this._isEnabled:!!this._isEnabled&&this._isParentEnabled},e.prototype._syncParentEnabledState=function(){this._isParentEnabled=!this._parentNode||this._parentNode.isEnabled(),this._children&&this._children.forEach(function(e){e._syncParentEnabledState()})},e.prototype.setEnabled=function(e){this._isEnabled=e,this._syncParentEnabledState()},e.prototype.isDescendantOf=function(e){return!!this.parent&&(this.parent===e||this.parent.isDescendantOf(e))},e.prototype._getDescendants=function(e,t,i){if(void 0===t&&(t=!1),this._children)for(var n=0;n<this._children.length;n++){var r=this._children[n];i&&!i(r)||e.push(r),t||r._getDescendants(e,!1,i)}},e.prototype.getDescendants=function(e,t){var i=new Array;return this._getDescendants(i,e,t),i},e.prototype.getChildMeshes=function(e,t){var i=[];return this._getDescendants(i,e,function(e){return(!t||t(e))&&void 0!==e.cullingStrategy}),i},e.prototype.getChildren=function(e,t){return void 0===t&&(t=!0),this.getDescendants(t,e)},e.prototype._setReady=function(e){e!==this._isReady&&(e?(this.onReady&&this.onReady(this),this._isReady=!0):this._isReady=!1)},e.prototype.getAnimationByName=function(e){for(var t=0;t<this.animations.length;t++){var i=this.animations[t];if(i.name===e)return i}return null},e.prototype.createAnimationRange=function(t,i,n){if(!this._ranges[t]){this._ranges[t]=e._AnimationRangeFactory(t,i,n);for(var r=0,o=this.animations.length;r<o;r++)this.animations[r]&&this.animations[r].createRange(t,i,n)}},e.prototype.deleteAnimationRange=function(e,t){void 0===t&&(t=!0);for(var i=0,n=this.animations.length;i<n;i++)this.animations[i]&&this.animations[i].deleteRange(e,t);this._ranges[e]=null},e.prototype.getAnimationRange=function(e){return this._ranges[e]||null},e.prototype.getAnimationRanges=function(){var e,t=[];for(e in this._ranges)t.push(this._ranges[e]);return t},e.prototype.beginAnimation=function(e,t,i,n){var r=this.getAnimationRange(e);return r?this._scene.beginAnimation(this,r.from,r.to,t,i,n):null},e.prototype.serializeAnimationRanges=function(){var e=[];for(var t in this._ranges){var i=this._ranges[t];if(i){var n={};n.name=t,n.from=i.from,n.to=i.to,e.push(n)}}return e},e.prototype.computeWorldMatrix=function(e){return this._worldMatrix||(this._worldMatrix=r.a.Identity()),this._worldMatrix},e.prototype.dispose=function(e,t){if(void 0===t&&(t=!1),this._isDisposed=!0,!e)for(var i=0,n=this.getDescendants(!0);i<n.length;i++){n[i].dispose(e,t)}this.parent?this.parent=null:this._removeFromSceneRootNodes(),this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear();for(var r=0,o=this._behaviors;r<o.length;r++){o[r].detach()}this._behaviors=[]},e.ParseAnimationRanges=function(e,t,i){if(t.ranges)for(var n=0;n<t.ranges.length;n++){var r=t.ranges[n];e.createAnimationRange(r.name,r.from,r.to)}},e.prototype.getHierarchyBoundingVectors=function(e,t){var i,n;void 0===e&&(e=!0),void 0===t&&(t=null),this.getScene().incrementRenderId(),this.computeWorldMatrix(!0);var o=this;if(o.getBoundingInfo&&o.subMeshes){var s=o.getBoundingInfo();i=s.boundingBox.minimumWorld.clone(),n=s.boundingBox.maximumWorld.clone()}else i=new r.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),n=new r.e(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);if(e)for(var a=0,c=this.getDescendants(!1);a<c.length;a++){var l=c[a];if(l.computeWorldMatrix(!0),(!t||t(l))&&l.getBoundingInfo&&0!==l.getTotalVertices()){var _=l.getBoundingInfo().boundingBox,u=_.minimumWorld,f=_.maximumWorld;r.e.CheckExtends(u,i,n),r.e.CheckExtends(f,i,n)}}return{min:i,max:n}},e._AnimationRangeFactory=function(e,t,i){throw c.a.WarnImport("AnimationRange")},e._NodeConstructors={},Object(n.b)([Object(o.c)()],e.prototype,"name",void 0),Object(n.b)([Object(o.c)()],e.prototype,"id",void 0),Object(n.b)([Object(o.c)()],e.prototype,"uniqueId",void 0),Object(n.b)([Object(o.c)()],e.prototype,"state",void 0),Object(n.b)([Object(o.c)()],e.prototype,"metadata",void 0),e}()},690:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(644),r=i(650),o=i(701),s=i(668),a=i(667),c=i(685),l=i(755),_=function(){function e(e){void 0===e&&(e=30),this._enabled=!0,this._rollingFrameTime=new u(e)}return e.prototype.sampleFrame=function(e){if(void 0===e&&(e=l.a.Now),this._enabled){if(null!=this._lastFrameTimeMs){var t=e-this._lastFrameTimeMs;this._rollingFrameTime.add(t)}this._lastFrameTimeMs=e}},Object.defineProperty(e.prototype,"averageFrameTime",{get:function(){return this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageFrameTimeVariance",{get:function(){return this._rollingFrameTime.variance},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instantaneousFrameTime",{get:function(){return this._rollingFrameTime.history(0)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"averageFPS",{get:function(){return 1e3/this._rollingFrameTime.average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"instantaneousFPS",{get:function(){var e=this._rollingFrameTime.history(0);return 0===e?0:1e3/e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSaturated",{get:function(){return this._rollingFrameTime.isSaturated()},enumerable:!1,configurable:!0}),e.prototype.enable=function(){this._enabled=!0},e.prototype.disable=function(){this._enabled=!1,this._lastFrameTimeMs=null},Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._enabled},enumerable:!1,configurable:!0}),e.prototype.reset=function(){this._lastFrameTimeMs=null,this._rollingFrameTime.reset()},e}(),u=function(){function e(e){this._samples=new Array(e),this.reset()}return e.prototype.add=function(e){var t;if(this.isSaturated()){var i=this._samples[this._pos];t=i-this.average,this.average-=t/(this._sampleCount-1),this._m2-=t*(i-this.average)}else this._sampleCount++;t=e-this.average,this.average+=t/this._sampleCount,this._m2+=t*(e-this.average),this.variance=this._m2/(this._sampleCount-1),this._samples[this._pos]=e,this._pos++,this._pos%=this._samples.length},e.prototype.history=function(e){if(e>=this._sampleCount||e>=this._samples.length)return 0;var t=this._wrapPosition(this._pos-1);return this._samples[this._wrapPosition(t-e)]},e.prototype.isSaturated=function(){return this._sampleCount>=this._samples.length},e.prototype.reset=function(){this.average=0,this.variance=0,this._sampleCount=0,this._pos=0,this._m2=0},e.prototype._wrapPosition=function(e){var t=this._samples.length;return(e%t+t)%t},e}(),f=i(941),d=i(884),h=i(649);c.a.prototype.setAlphaConstants=function(e,t,i,n){this._alphaState.setAlphaBlendConstants(e,t,i,n)},c.a.prototype.setAlphaMode=function(e,t){if(void 0===t&&(t=!1),this._alphaMode!==e){switch(e){case 0:this._alphaState.alphaBlend=!1;break;case 7:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 8:case 14:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 2:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 6:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 1:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 3:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ZERO,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 4:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_COLOR,this._gl.ZERO,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 5:this._alphaState.setAlphaBlendFunctionParameters(this._gl.SRC_ALPHA,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 9:this._alphaState.setAlphaBlendFunctionParameters(this._gl.CONSTANT_COLOR,this._gl.ONE_MINUS_CONSTANT_COLOR,this._gl.CONSTANT_ALPHA,this._gl.ONE_MINUS_CONSTANT_ALPHA),this._alphaState.alphaBlend=!0;break;case 10:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 11:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ONE),this._alphaState.alphaBlend=!0;break;case 12:this._alphaState.setAlphaBlendFunctionParameters(this._gl.DST_ALPHA,this._gl.ONE,this._gl.ZERO,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 13:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ONE_MINUS_DST_ALPHA,this._gl.ONE_MINUS_SRC_ALPHA),this._alphaState.alphaBlend=!0;break;case 15:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE,this._gl.ONE,this._gl.ONE,this._gl.ZERO),this._alphaState.alphaBlend=!0;break;case 16:this._alphaState.setAlphaBlendFunctionParameters(this._gl.ONE_MINUS_DST_COLOR,this._gl.ONE_MINUS_SRC_COLOR,this._gl.ZERO,this._gl.ONE),this._alphaState.alphaBlend=!0}t||(this.depthCullingState.depthMask=0===e),this._alphaMode=e}},c.a.prototype.getAlphaMode=function(){return this._alphaMode},c.a.prototype.setAlphaEquation=function(e){if(this._alphaEquation!==e){switch(e){case 0:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_ADD,this._gl.FUNC_ADD);break;case 1:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_SUBTRACT,this._gl.FUNC_SUBTRACT);break;case 2:this._alphaState.setAlphaEquationParameters(this._gl.FUNC_REVERSE_SUBTRACT,this._gl.FUNC_REVERSE_SUBTRACT);break;case 3:this._alphaState.setAlphaEquationParameters(this._gl.MAX,this._gl.MAX);break;case 4:this._alphaState.setAlphaEquationParameters(this._gl.MIN,this._gl.MIN);break;case 5:this._alphaState.setAlphaEquationParameters(this._gl.MIN,this._gl.FUNC_ADD)}this._alphaEquation=e}},c.a.prototype.getAlphaEquation=function(){return this._alphaEquation};i(942);c.a.prototype.updateDynamicIndexBuffer=function(e,t,i){var n;void 0===i&&(i=0),this._currentBoundBuffer[this._gl.ELEMENT_ARRAY_BUFFER]=null,this.bindIndexBuffer(e),n=t instanceof Uint16Array||t instanceof Uint32Array?t:e.is32Bits?new Uint32Array(t):new Uint16Array(t),this._gl.bufferData(this._gl.ELEMENT_ARRAY_BUFFER,n,this._gl.DYNAMIC_DRAW),this._resetIndexBufferBinding()},c.a.prototype.updateDynamicVertexBuffer=function(e,t,i,n){this.bindArrayBuffer(e),void 0===i&&(i=0);var r=t.length||t.byteLength;void 0===n||n>=r&&0===i?t instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,i,new Float32Array(t)):this._gl.bufferSubData(this._gl.ARRAY_BUFFER,i,t):t instanceof Array?this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,new Float32Array(t).subarray(i,i+n)):(t=t instanceof ArrayBuffer?new Uint8Array(t,i,n):new Uint8Array(t.buffer,t.byteOffset+i,n),this._gl.bufferSubData(this._gl.ARRAY_BUFFER,0,t)),this._resetVertexBufferBinding()};var p=function(e){function t(i,n,s,a){void 0===a&&(a=!1);var c=e.call(this,i,n,s,a)||this;if(c.enableOfflineSupport=!1,c.disableManifestCheck=!1,c.scenes=new Array,c.onNewSceneAddedObservable=new r.a,c.postProcesses=new Array,c.isPointerLock=!1,c.onResizeObservable=new r.a,c.onCanvasBlurObservable=new r.a,c.onCanvasFocusObservable=new r.a,c.onCanvasPointerOutObservable=new r.a,c.onBeginFrameObservable=new r.a,c.customAnimationFrameRequester=null,c.onEndFrameObservable=new r.a,c.onBeforeShaderCompilationObservable=new r.a,c.onAfterShaderCompilationObservable=new r.a,c._deterministicLockstep=!1,c._lockstepMaxSteps=4,c._timeStep=1/60,c._fps=60,c._deltaTime=0,c._drawCalls=new f.a,c.canvasTabIndex=1,c.disablePerformanceMonitorInBackground=!1,c._performanceMonitor=new _,t.Instances.push(c),!i)return c;if(s=c._creationOptions,i.getContext){var l=i;if(c._onCanvasFocus=function(){c.onCanvasFocusObservable.notifyObservers(c)},c._onCanvasBlur=function(){c.onCanvasBlurObservable.notifyObservers(c)},l.addEventListener("focus",c._onCanvasFocus),l.addEventListener("blur",c._onCanvasBlur),c._onBlur=function(){c.disablePerformanceMonitorInBackground&&c._performanceMonitor.disable(),c._windowIsBackground=!0},c._onFocus=function(){c.disablePerformanceMonitorInBackground&&c._performanceMonitor.enable(),c._windowIsBackground=!1},c._onCanvasPointerOut=function(e){c.onCanvasPointerOutObservable.notifyObservers(e)},l.addEventListener("pointerout",c._onCanvasPointerOut),o.a.IsWindowObjectExist()){var u=c.getHostWindow();u.addEventListener("blur",c._onBlur),u.addEventListener("focus",c._onFocus);var d=document;c._onFullscreenChange=function(){void 0!==d.fullscreen?c.isFullscreen=d.fullscreen:void 0!==d.mozFullScreen?c.isFullscreen=d.mozFullScreen:void 0!==d.webkitIsFullScreen?c.isFullscreen=d.webkitIsFullScreen:void 0!==d.msIsFullScreen&&(c.isFullscreen=d.msIsFullScreen),c.isFullscreen&&c._pointerLockRequested&&l&&t._RequestPointerlock(l)},document.addEventListener("fullscreenchange",c._onFullscreenChange,!1),document.addEventListener("mozfullscreenchange",c._onFullscreenChange,!1),document.addEventListener("webkitfullscreenchange",c._onFullscreenChange,!1),document.addEventListener("msfullscreenchange",c._onFullscreenChange,!1),c._onPointerLockChange=function(){c.isPointerLock=d.mozPointerLockElement===l||d.webkitPointerLockElement===l||d.msPointerLockElement===l||d.pointerLockElement===l},document.addEventListener("pointerlockchange",c._onPointerLockChange,!1),document.addEventListener("mspointerlockchange",c._onPointerLockChange,!1),document.addEventListener("mozpointerlockchange",c._onPointerLockChange,!1),document.addEventListener("webkitpointerlockchange",c._onPointerLockChange,!1),!t.audioEngine&&s.audioEngine&&t.AudioEngineFactory&&(t.audioEngine=t.AudioEngineFactory(c.getRenderingCanvas()))}c._connectVREvents(),c.enableOfflineSupport=void 0!==t.OfflineProviderFactory,s.doNotHandleTouchAction||c._disableTouchAction(),c._deterministicLockstep=!!s.deterministicLockstep,c._lockstepMaxSteps=s.lockstepMaxSteps||0,c._timeStep=s.timeStep||1/60}return c._prepareVRComponent(),s.autoEnableWebVR&&c.initWebVR(),c}return Object(n.c)(t,e),Object.defineProperty(t,"NpmPackage",{get:function(){return c.a.NpmPackage},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Version",{get:function(){return c.a.Version},enumerable:!1,configurable:!0}),Object.defineProperty(t,"Instances",{get:function(){return s.a.Instances},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LastCreatedEngine",{get:function(){return s.a.LastCreatedEngine},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LastCreatedScene",{get:function(){return s.a.LastCreatedScene},enumerable:!1,configurable:!0}),t.MarkAllMaterialsAsDirty=function(e,i){for(var n=0;n<t.Instances.length;n++)for(var r=t.Instances[n],o=0;o<r.scenes.length;o++)r.scenes[o].markAllMaterialsAsDirty(e,i)},t.DefaultLoadingScreenFactory=function(e){throw a.a.WarnImport("LoadingScreen")},Object.defineProperty(t.prototype,"_supportsHardwareTextureRescaling",{get:function(){return!!t._RescalePostProcessFactory},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"performanceMonitor",{get:function(){return this._performanceMonitor},enumerable:!1,configurable:!0}),t.prototype.getInputElement=function(){return this._renderingCanvas},t.prototype.getAspectRatio=function(e,t){void 0===t&&(t=!1);var i=e.viewport;return this.getRenderWidth(t)*i.width/(this.getRenderHeight(t)*i.height)},t.prototype.getScreenAspectRatio=function(){return this.getRenderWidth(!0)/this.getRenderHeight(!0)},t.prototype.getRenderingCanvasClientRect=function(){return this._renderingCanvas?this._renderingCanvas.getBoundingClientRect():null},t.prototype.getInputElementClientRect=function(){return this._renderingCanvas?this.getInputElement().getBoundingClientRect():null},t.prototype.isDeterministicLockStep=function(){return this._deterministicLockstep},t.prototype.getLockstepMaxSteps=function(){return this._lockstepMaxSteps},t.prototype.getTimeStep=function(){return 1e3*this._timeStep},t.prototype.generateMipMapsForCubemap=function(e,t){if(void 0===t&&(t=!0),e.generateMipMaps){var i=this._gl;this._bindTextureDirectly(i.TEXTURE_CUBE_MAP,e,!0),i.generateMipmap(i.TEXTURE_CUBE_MAP),t&&this._bindTextureDirectly(i.TEXTURE_CUBE_MAP,null)}},t.prototype.setState=function(e,t,i,n){void 0===t&&(t=0),void 0===n&&(n=!1),(this._depthCullingState.cull!==e||i)&&(this._depthCullingState.cull=e);var r=this.cullBackFaces?this._gl.BACK:this._gl.FRONT;(this._depthCullingState.cullFace!==r||i)&&(this._depthCullingState.cullFace=r),this.setZOffset(t);var o=n?this._gl.CW:this._gl.CCW;(this._depthCullingState.frontFace!==o||i)&&(this._depthCullingState.frontFace=o)},t.prototype.setZOffset=function(e){this._depthCullingState.zOffset=e},t.prototype.getZOffset=function(){return this._depthCullingState.zOffset},t.prototype.setDepthBuffer=function(e){this._depthCullingState.depthTest=e},t.prototype.getDepthWrite=function(){return this._depthCullingState.depthMask},t.prototype.setDepthWrite=function(e){this._depthCullingState.depthMask=e},t.prototype.getStencilBuffer=function(){return this._stencilState.stencilTest},t.prototype.setStencilBuffer=function(e){this._stencilState.stencilTest=e},t.prototype.getStencilMask=function(){return this._stencilState.stencilMask},t.prototype.setStencilMask=function(e){this._stencilState.stencilMask=e},t.prototype.getStencilFunction=function(){return this._stencilState.stencilFunc},t.prototype.getStencilFunctionReference=function(){return this._stencilState.stencilFuncRef},t.prototype.getStencilFunctionMask=function(){return this._stencilState.stencilFuncMask},t.prototype.setStencilFunction=function(e){this._stencilState.stencilFunc=e},t.prototype.setStencilFunctionReference=function(e){this._stencilState.stencilFuncRef=e},t.prototype.setStencilFunctionMask=function(e){this._stencilState.stencilFuncMask=e},t.prototype.getStencilOperationFail=function(){return this._stencilState.stencilOpStencilFail},t.prototype.getStencilOperationDepthFail=function(){return this._stencilState.stencilOpDepthFail},t.prototype.getStencilOperationPass=function(){return this._stencilState.stencilOpStencilDepthPass},t.prototype.setStencilOperationFail=function(e){this._stencilState.stencilOpStencilFail=e},t.prototype.setStencilOperationDepthFail=function(e){this._stencilState.stencilOpDepthFail=e},t.prototype.setStencilOperationPass=function(e){this._stencilState.stencilOpStencilDepthPass=e},t.prototype.setDitheringState=function(e){e?this._gl.enable(this._gl.DITHER):this._gl.disable(this._gl.DITHER)},t.prototype.setRasterizerState=function(e){e?this._gl.disable(this._gl.RASTERIZER_DISCARD):this._gl.enable(this._gl.RASTERIZER_DISCARD)},t.prototype.getDepthFunction=function(){return this._depthCullingState.depthFunc},t.prototype.setDepthFunction=function(e){this._depthCullingState.depthFunc=e},t.prototype.setDepthFunctionToGreater=function(){this._depthCullingState.depthFunc=this._gl.GREATER},t.prototype.setDepthFunctionToGreaterOrEqual=function(){this._depthCullingState.depthFunc=this._gl.GEQUAL},t.prototype.setDepthFunctionToLess=function(){this._depthCullingState.depthFunc=this._gl.LESS},t.prototype.setDepthFunctionToLessOrEqual=function(){this._depthCullingState.depthFunc=this._gl.LEQUAL},t.prototype.cacheStencilState=function(){this._cachedStencilBuffer=this.getStencilBuffer(),this._cachedStencilFunction=this.getStencilFunction(),this._cachedStencilMask=this.getStencilMask(),this._cachedStencilOperationPass=this.getStencilOperationPass(),this._cachedStencilOperationFail=this.getStencilOperationFail(),this._cachedStencilOperationDepthFail=this.getStencilOperationDepthFail(),this._cachedStencilReference=this.getStencilFunctionReference()},t.prototype.restoreStencilState=function(){this.setStencilFunction(this._cachedStencilFunction),this.setStencilMask(this._cachedStencilMask),this.setStencilBuffer(this._cachedStencilBuffer),this.setStencilOperationPass(this._cachedStencilOperationPass),this.setStencilOperationFail(this._cachedStencilOperationFail),this.setStencilOperationDepthFail(this._cachedStencilOperationDepthFail),this.setStencilFunctionReference(this._cachedStencilReference)},t.prototype.setDirectViewport=function(e,t,i,n){var r=this._cachedViewport;return this._cachedViewport=null,this._viewport(e,t,i,n),r},t.prototype.scissorClear=function(e,t,i,n,r){this.enableScissor(e,t,i,n),this.clear(r,!0,!0,!0),this.disableScissor()},t.prototype.enableScissor=function(e,t,i,n){var r=this._gl;r.enable(r.SCISSOR_TEST),r.scissor(e,t,i,n)},t.prototype.disableScissor=function(){var e=this._gl;e.disable(e.SCISSOR_TEST)},t.prototype._reportDrawCall=function(){this._drawCalls.addCount(1,!1)},t.prototype.initWebVR=function(){throw a.a.WarnImport("WebVRCamera")},t.prototype._prepareVRComponent=function(){},t.prototype._connectVREvents=function(e,t){},t.prototype._submitVRFrame=function(){},t.prototype.disableVR=function(){},t.prototype.isVRPresenting=function(){return!1},t.prototype._requestVRFrame=function(){},t.prototype._loadFileAsync=function(e,t,i){var n=this;return new Promise(function(r,o){n._loadFile(e,function(e){r(e)},void 0,t,i,function(e,t){o(t)})})},t.prototype.getVertexShaderSource=function(e){var t=this._gl.getAttachedShaders(e);return t?this._gl.getShaderSource(t[0]):null},t.prototype.getFragmentShaderSource=function(e){var t=this._gl.getAttachedShaders(e);return t?this._gl.getShaderSource(t[1]):null},t.prototype.setDepthStencilTexture=function(e,t,i){void 0!==e&&(t&&(this._boundUniforms[e]=t),i&&i.depthStencilTexture?this._setTexture(e,i,!1,!0):this._setTexture(e,null))},t.prototype.setTextureFromPostProcess=function(e,t){this._bindTexture(e,t?t._textures.data[t._currentRenderTextureInd]:null)},t.prototype.setTextureFromPostProcessOutput=function(e,t){this._bindTexture(e,t?t._outputTexture:null)},t.prototype._rebuildBuffers=function(){for(var t=0,i=this.scenes;t<i.length;t++){var n=i[t];n.resetCachedMaterial(),n._rebuildGeometries(),n._rebuildTextures()}e.prototype._rebuildBuffers.call(this)},t.prototype._renderFrame=function(){for(var e=0;e<this._activeRenderLoops.length;e++){(0,this._activeRenderLoops[e])()}},t.prototype._renderLoop=function(){if(!this._contextWasLost){var e=!0;!this.renderEvenInBackground&&this._windowIsBackground&&(e=!1),e&&(this.beginFrame(),this._renderViews()||this._renderFrame(),this.endFrame())}this._activeRenderLoops.length>0?this.customAnimationFrameRequester?(this.customAnimationFrameRequester.requestID=this._queueNewFrame(this.customAnimationFrameRequester.renderFunction||this._boundRenderFunction,this.customAnimationFrameRequester),this._frameHandler=this.customAnimationFrameRequester.requestID):this.isVRPresenting()?this._requestVRFrame():this._frameHandler=this._queueNewFrame(this._boundRenderFunction,this.getHostWindow()):this._renderingQueueLaunched=!1},t.prototype._renderViews=function(){return!1},t.prototype.switchFullscreen=function(e){this.isFullscreen?this.exitFullscreen():this.enterFullscreen(e)},t.prototype.enterFullscreen=function(e){this.isFullscreen||(this._pointerLockRequested=e,this._renderingCanvas&&t._RequestFullscreen(this._renderingCanvas))},t.prototype.exitFullscreen=function(){this.isFullscreen&&t._ExitFullscreen()},t.prototype.enterPointerlock=function(){this._renderingCanvas&&t._RequestPointerlock(this._renderingCanvas)},t.prototype.exitPointerlock=function(){t._ExitPointerlock()},t.prototype.beginFrame=function(){this._measureFps(),this.onBeginFrameObservable.notifyObservers(this),e.prototype.beginFrame.call(this)},t.prototype.endFrame=function(){e.prototype.endFrame.call(this),this._submitVRFrame(),this.onEndFrameObservable.notifyObservers(this)},t.prototype.resize=function(){this.isVRPresenting()||e.prototype.resize.call(this)},t.prototype.setSize=function(t,i){if(!this._renderingCanvas)return!1;if(!e.prototype.setSize.call(this,t,i))return!1;if(this.scenes){for(var n=0;n<this.scenes.length;n++)for(var r=this.scenes[n],o=0;o<r.cameras.length;o++){r.cameras[o]._currentRenderId=0}this.onResizeObservable.hasObservers()&&this.onResizeObservable.notifyObservers(this)}return!0},t.prototype._deletePipelineContext=function(t){var i=t;i&&i.program&&i.transformFeedback&&(this.deleteTransformFeedback(i.transformFeedback),i.transformFeedback=null),e.prototype._deletePipelineContext.call(this,t)},t.prototype.createShaderProgram=function(t,i,n,r,o,s){void 0===s&&(s=null),o=o||this._gl,this.onBeforeShaderCompilationObservable.notifyObservers(this);var a=e.prototype.createShaderProgram.call(this,t,i,n,r,o,s);return this.onAfterShaderCompilationObservable.notifyObservers(this),a},t.prototype._createShaderProgram=function(e,t,i,n,r){void 0===r&&(r=null);var o=n.createProgram();if(e.program=o,!o)throw new Error("Unable to create program");if(n.attachShader(o,t),n.attachShader(o,i),this.webGLVersion>1&&r){var s=this.createTransformFeedback();this.bindTransformFeedback(s),this.setTranformFeedbackVaryings(o,r),e.transformFeedback=s}return n.linkProgram(o),this.webGLVersion>1&&r&&this.bindTransformFeedback(null),e.context=n,e.vertexShader=t,e.fragmentShader=i,e.isParallelCompiled||this._finalizePipelineContext(e),o},t.prototype._releaseTexture=function(t){e.prototype._releaseTexture.call(this,t),this.scenes.forEach(function(e){e.postProcesses.forEach(function(e){e._outputTexture==t&&(e._outputTexture=null)}),e.cameras.forEach(function(e){e._postProcesses.forEach(function(e){e&&e._outputTexture==t&&(e._outputTexture=null)})})})},t.prototype._rescaleTexture=function(e,i,n,r,o){var s=this;this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MAG_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_MIN_FILTER,this._gl.LINEAR),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_S,this._gl.CLAMP_TO_EDGE),this._gl.texParameteri(this._gl.TEXTURE_2D,this._gl.TEXTURE_WRAP_T,this._gl.CLAMP_TO_EDGE);var a=this.createRenderTargetTexture({width:i.width,height:i.height},{generateMipMaps:!1,type:0,samplingMode:2,generateDepthBuffer:!1,generateStencilBuffer:!1});!this._rescalePostProcess&&t._RescalePostProcessFactory&&(this._rescalePostProcess=t._RescalePostProcessFactory(this)),this._rescalePostProcess.getEffect().executeWhenCompiled(function(){s._rescalePostProcess.onApply=function(t){t._bindTexture("textureSampler",e)};var t=n;t||(t=s.scenes[s.scenes.length-1]),t.postProcessManager.directRender([s._rescalePostProcess],a,!0),s._bindTextureDirectly(s._gl.TEXTURE_2D,i,!0),s._gl.copyTexImage2D(s._gl.TEXTURE_2D,0,r,0,0,i.width,i.height,0),s.unBindFramebuffer(a),s._releaseTexture(a),o&&o()})},t.prototype.getFps=function(){return this._fps},t.prototype.getDeltaTime=function(){return this._deltaTime},t.prototype._measureFps=function(){this._performanceMonitor.sampleFrame(),this._fps=this._performanceMonitor.averageFPS,this._deltaTime=this._performanceMonitor.instantaneousFrameTime||0},t.prototype._uploadImageToTexture=function(e,t,i,n){void 0===i&&(i=0),void 0===n&&(n=0);var r=this._gl,o=this._getWebGLTextureType(e.type),s=this._getInternalFormat(e.format),a=this._getRGBABufferInternalSizedFormat(e.type,s),c=e.isCube?r.TEXTURE_CUBE_MAP:r.TEXTURE_2D;this._bindTextureDirectly(c,e,!0),this._unpackFlipY(e.invertY);var l=r.TEXTURE_2D;e.isCube&&(l=r.TEXTURE_CUBE_MAP_POSITIVE_X+i),r.texImage2D(l,n,a,s,o,t),this._bindTextureDirectly(c,null,!0)},t.prototype.updateRenderTargetTextureSampleCount=function(e,t){if(this.webGLVersion<2||!e)return 1;if(e.samples===t)return t;var i=this._gl;if(t=Math.min(t,this.getCaps().maxMSAASamples),e._depthStencilBuffer&&(i.deleteRenderbuffer(e._depthStencilBuffer),e._depthStencilBuffer=null),e._MSAAFramebuffer&&(i.deleteFramebuffer(e._MSAAFramebuffer),e._MSAAFramebuffer=null),e._MSAARenderBuffer&&(i.deleteRenderbuffer(e._MSAARenderBuffer),e._MSAARenderBuffer=null),t>1&&i.renderbufferStorageMultisample){var n=i.createFramebuffer();if(!n)throw new Error("Unable to create multi sampled framebuffer");e._MSAAFramebuffer=n,this._bindUnboundFramebuffer(e._MSAAFramebuffer);var r=i.createRenderbuffer();if(!r)throw new Error("Unable to create multi sampled framebuffer");i.bindRenderbuffer(i.RENDERBUFFER,r),i.renderbufferStorageMultisample(i.RENDERBUFFER,t,this._getRGBAMultiSampleBufferFormat(e.type),e.width,e.height),i.framebufferRenderbuffer(i.FRAMEBUFFER,i.COLOR_ATTACHMENT0,i.RENDERBUFFER,r),e._MSAARenderBuffer=r}else this._bindUnboundFramebuffer(e._framebuffer);return e.samples=t,e._depthStencilBuffer=this._setupFramebufferDepthAttachments(e._generateStencilBuffer,e._generateDepthBuffer,e.width,e.height,t),this._bindUnboundFramebuffer(null),t},t.prototype.updateTextureComparisonFunction=function(e,t){if(1!==this.webGLVersion){var i=this._gl;e.isCube?(this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,e,!0),0===t?(i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_COMPARE_FUNC,515),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_COMPARE_MODE,i.NONE)):(i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_COMPARE_FUNC,t),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE)),this._bindTextureDirectly(this._gl.TEXTURE_CUBE_MAP,null)):(this._bindTextureDirectly(this._gl.TEXTURE_2D,e,!0),0===t?(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_COMPARE_FUNC,515),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_COMPARE_MODE,i.NONE)):(i.texParameteri(i.TEXTURE_2D,i.TEXTURE_COMPARE_FUNC,t),i.texParameteri(i.TEXTURE_2D,i.TEXTURE_COMPARE_MODE,i.COMPARE_REF_TO_TEXTURE)),this._bindTextureDirectly(this._gl.TEXTURE_2D,null)),e._comparisonFunction=t}else h.a.Error("WebGL 1 does not support texture comparison.")},t.prototype.createInstancesBuffer=function(e){var t=this._gl.createBuffer();if(!t)throw new Error("Unable to create instance buffer");var i=new d.a(t);return i.capacity=e,this.bindArrayBuffer(i),this._gl.bufferData(this._gl.ARRAY_BUFFER,e,this._gl.DYNAMIC_DRAW),i},t.prototype.deleteInstancesBuffer=function(e){this._gl.deleteBuffer(e)},t.prototype._clientWaitAsync=function(e,t,i){void 0===t&&(t=0),void 0===i&&(i=10);var n=this._gl;return new Promise(function(r,o){!function s(){var a=n.clientWaitSync(e,t,0);a!=n.WAIT_FAILED?a!=n.TIMEOUT_EXPIRED?r():setTimeout(s,i):o()}()})},t.prototype._readPixelsAsync=function(e,t,i,n,r,o,s){if(this._webGLVersion<2)throw new Error("_readPixelsAsync only work on WebGL2+");var a=this._gl,c=a.createBuffer();a.bindBuffer(a.PIXEL_PACK_BUFFER,c),a.bufferData(a.PIXEL_PACK_BUFFER,s.byteLength,a.STREAM_READ),a.readPixels(e,t,i,n,r,o,0),a.bindBuffer(a.PIXEL_PACK_BUFFER,null);var l=a.fenceSync(a.SYNC_GPU_COMMANDS_COMPLETE,0);return l?(a.flush(),this._clientWaitAsync(l,0,10).then(function(){return a.deleteSync(l),a.bindBuffer(a.PIXEL_PACK_BUFFER,c),a.getBufferSubData(a.PIXEL_PACK_BUFFER,0,s),a.bindBuffer(a.PIXEL_PACK_BUFFER,null),a.deleteBuffer(c),s})):null},t.prototype.dispose=function(){for(this.hideLoadingUI(),this.onNewSceneAddedObservable.clear();this.postProcesses.length;)this.postProcesses[0].dispose();for(this._rescalePostProcess&&this._rescalePostProcess.dispose();this.scenes.length;)this.scenes[0].dispose();1===t.Instances.length&&t.audioEngine&&t.audioEngine.dispose(),this.disableVR(),o.a.IsWindowObjectExist()&&(window.removeEventListener("blur",this._onBlur),window.removeEventListener("focus",this._onFocus),this._renderingCanvas&&(this._renderingCanvas.removeEventListener("focus",this._onCanvasFocus),this._renderingCanvas.removeEventListener("blur",this._onCanvasBlur),this._renderingCanvas.removeEventListener("pointerout",this._onCanvasPointerOut)),o.a.IsDocumentAvailable()&&(document.removeEventListener("fullscreenchange",this._onFullscreenChange),document.removeEventListener("mozfullscreenchange",this._onFullscreenChange),document.removeEventListener("webkitfullscreenchange",this._onFullscreenChange),document.removeEventListener("msfullscreenchange",this._onFullscreenChange),document.removeEventListener("pointerlockchange",this._onPointerLockChange),document.removeEventListener("mspointerlockchange",this._onPointerLockChange),document.removeEventListener("mozpointerlockchange",this._onPointerLockChange),document.removeEventListener("webkitpointerlockchange",this._onPointerLockChange))),e.prototype.dispose.call(this);var i=t.Instances.indexOf(this);i>=0&&t.Instances.splice(i,1),this.onResizeObservable.clear(),this.onCanvasBlurObservable.clear(),this.onCanvasFocusObservable.clear(),this.onCanvasPointerOutObservable.clear(),this.onBeginFrameObservable.clear(),this.onEndFrameObservable.clear()},t.prototype._disableTouchAction=function(){this._renderingCanvas&&this._renderingCanvas.setAttribute&&(this._renderingCanvas.setAttribute("touch-action","none"),this._renderingCanvas.style.touchAction="none",this._renderingCanvas.style.msTouchAction="none")},t.prototype.displayLoadingUI=function(){if(o.a.IsWindowObjectExist()){var e=this.loadingScreen;e&&e.displayLoadingUI()}},t.prototype.hideLoadingUI=function(){if(o.a.IsWindowObjectExist()){var e=this._loadingScreen;e&&e.hideLoadingUI()}},Object.defineProperty(t.prototype,"loadingScreen",{get:function(){return!this._loadingScreen&&this._renderingCanvas&&(this._loadingScreen=t.DefaultLoadingScreenFactory(this._renderingCanvas)),this._loadingScreen},set:function(e){this._loadingScreen=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingUIText",{set:function(e){this.loadingScreen.loadingUIText=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"loadingUIBackgroundColor",{set:function(e){this.loadingScreen.loadingUIBackgroundColor=e},enumerable:!1,configurable:!0}),t._RequestPointerlock=function(e){e.requestPointerLock=e.requestPointerLock||e.msRequestPointerLock||e.mozRequestPointerLock||e.webkitRequestPointerLock,e.requestPointerLock&&e.requestPointerLock()},t._ExitPointerlock=function(){var e=document;document.exitPointerLock=document.exitPointerLock||e.msExitPointerLock||e.mozExitPointerLock||e.webkitExitPointerLock,document.exitPointerLock&&document.exitPointerLock()},t._RequestFullscreen=function(e){var t=e.requestFullscreen||e.msRequestFullscreen||e.webkitRequestFullscreen||e.mozRequestFullScreen;t&&t.call(e)},t._ExitFullscreen=function(){var e=document;document.exitFullscreen?document.exitFullscreen():e.mozCancelFullScreen?e.mozCancelFullScreen():e.webkitCancelFullScreen?e.webkitCancelFullScreen():e.msCancelFullScreen&&e.msCancelFullScreen()},t.ALPHA_DISABLE=0,t.ALPHA_ADD=1,t.ALPHA_COMBINE=2,t.ALPHA_SUBTRACT=3,t.ALPHA_MULTIPLY=4,t.ALPHA_MAXIMIZED=5,t.ALPHA_ONEONE=6,t.ALPHA_PREMULTIPLIED=7,t.ALPHA_PREMULTIPLIED_PORTERDUFF=8,t.ALPHA_INTERPOLATE=9,t.ALPHA_SCREENMODE=10,t.DELAYLOADSTATE_NONE=0,t.DELAYLOADSTATE_LOADED=1,t.DELAYLOADSTATE_LOADING=2,t.DELAYLOADSTATE_NOTLOADED=4,t.NEVER=512,t.ALWAYS=519,t.LESS=513,t.EQUAL=514,t.LEQUAL=515,t.GREATER=516,t.GEQUAL=518,t.NOTEQUAL=517,t.KEEP=7680,t.REPLACE=7681,t.INCR=7682,t.DECR=7683,t.INVERT=5386,t.INCR_WRAP=34055,t.DECR_WRAP=34056,t.TEXTURE_CLAMP_ADDRESSMODE=0,t.TEXTURE_WRAP_ADDRESSMODE=1,t.TEXTURE_MIRROR_ADDRESSMODE=2,t.TEXTUREFORMAT_ALPHA=0,t.TEXTUREFORMAT_LUMINANCE=1,t.TEXTUREFORMAT_LUMINANCE_ALPHA=2,t.TEXTUREFORMAT_RGB=4,t.TEXTUREFORMAT_RGBA=5,t.TEXTUREFORMAT_RED=6,t.TEXTUREFORMAT_R=6,t.TEXTUREFORMAT_RG=7,t.TEXTUREFORMAT_RED_INTEGER=8,t.TEXTUREFORMAT_R_INTEGER=8,t.TEXTUREFORMAT_RG_INTEGER=9,t.TEXTUREFORMAT_RGB_INTEGER=10,t.TEXTUREFORMAT_RGBA_INTEGER=11,t.TEXTURETYPE_UNSIGNED_BYTE=0,t.TEXTURETYPE_UNSIGNED_INT=0,t.TEXTURETYPE_FLOAT=1,t.TEXTURETYPE_HALF_FLOAT=2,t.TEXTURETYPE_BYTE=3,t.TEXTURETYPE_SHORT=4,t.TEXTURETYPE_UNSIGNED_SHORT=5,t.TEXTURETYPE_INT=6,t.TEXTURETYPE_UNSIGNED_INTEGER=7,t.TEXTURETYPE_UNSIGNED_SHORT_4_4_4_4=8,t.TEXTURETYPE_UNSIGNED_SHORT_5_5_5_1=9,t.TEXTURETYPE_UNSIGNED_SHORT_5_6_5=10,t.TEXTURETYPE_UNSIGNED_INT_2_10_10_10_REV=11,t.TEXTURETYPE_UNSIGNED_INT_24_8=12,t.TEXTURETYPE_UNSIGNED_INT_10F_11F_11F_REV=13,t.TEXTURETYPE_UNSIGNED_INT_5_9_9_9_REV=14,t.TEXTURETYPE_FLOAT_32_UNSIGNED_INT_24_8_REV=15,t.TEXTURE_NEAREST_SAMPLINGMODE=1,t.TEXTURE_BILINEAR_SAMPLINGMODE=2,t.TEXTURE_TRILINEAR_SAMPLINGMODE=3,t.TEXTURE_NEAREST_NEAREST_MIPLINEAR=8,t.TEXTURE_LINEAR_LINEAR_MIPNEAREST=11,t.TEXTURE_LINEAR_LINEAR_MIPLINEAR=3,t.TEXTURE_NEAREST_NEAREST_MIPNEAREST=4,t.TEXTURE_NEAREST_LINEAR_MIPNEAREST=5,t.TEXTURE_NEAREST_LINEAR_MIPLINEAR=6,t.TEXTURE_NEAREST_LINEAR=7,t.TEXTURE_NEAREST_NEAREST=1,t.TEXTURE_LINEAR_NEAREST_MIPNEAREST=9,t.TEXTURE_LINEAR_NEAREST_MIPLINEAR=10,t.TEXTURE_LINEAR_LINEAR=2,t.TEXTURE_LINEAR_NEAREST=12,t.TEXTURE_EXPLICIT_MODE=0,t.TEXTURE_SPHERICAL_MODE=1,t.TEXTURE_PLANAR_MODE=2,t.TEXTURE_CUBIC_MODE=3,t.TEXTURE_PROJECTION_MODE=4,t.TEXTURE_SKYBOX_MODE=5,t.TEXTURE_INVCUBIC_MODE=6,t.TEXTURE_EQUIRECTANGULAR_MODE=7,t.TEXTURE_FIXED_EQUIRECTANGULAR_MODE=8,t.TEXTURE_FIXED_EQUIRECTANGULAR_MIRRORED_MODE=9,t.SCALEMODE_FLOOR=1,t.SCALEMODE_NEAREST=2,t.SCALEMODE_CEILING=3,t._RescalePostProcessFactory=null,t}(c.a)},693:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(644),r=i(648),o=i(30),s=i(244),a=i(689),c=i(883),l=i(105),_=function(e){function t(i,n){var r=e.call(this,i,n)||this;return r.diffuse=new s.a(1,1,1),r.specular=new s.a(1,1,1),r.falloffType=t.FALLOFF_DEFAULT,r.intensity=1,r._range=Number.MAX_VALUE,r._inverseSquaredRange=0,r._photometricScale=1,r._intensityMode=t.INTENSITYMODE_AUTOMATIC,r._radius=1e-5,r.renderPriority=0,r._shadowEnabled=!0,r._excludeWithLayerMask=0,r._includeOnlyWithLayerMask=0,r._lightmapMode=0,r._excludedMeshesIds=new Array,r._includedOnlyMeshesIds=new Array,r._isLight=!0,r.getScene().addLight(r),r._uniformBuffer=new c.a(r.getScene().getEngine()),r._buildUniformLayout(),r.includedOnlyMeshes=new Array,r.excludedMeshes=new Array,r._resyncMeshes(),r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"range",{get:function(){return this._range},set:function(e){this._range=e,this._inverseSquaredRange=1/(this.range*this.range)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"intensityMode",{get:function(){return this._intensityMode},set:function(e){this._intensityMode=e,this._computePhotometricScale()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"radius",{get:function(){return this._radius},set:function(e){this._radius=e,this._computePhotometricScale()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowEnabled",{get:function(){return this._shadowEnabled},set:function(e){this._shadowEnabled!==e&&(this._shadowEnabled=e,this._markMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includedOnlyMeshes",{get:function(){return this._includedOnlyMeshes},set:function(e){this._includedOnlyMeshes=e,this._hookArrayForIncludedOnly(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excludedMeshes",{get:function(){return this._excludedMeshes},set:function(e){this._excludedMeshes=e,this._hookArrayForExcluded(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"excludeWithLayerMask",{get:function(){return this._excludeWithLayerMask},set:function(e){this._excludeWithLayerMask=e,this._resyncMeshes()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"includeOnlyWithLayerMask",{get:function(){return this._includeOnlyWithLayerMask},set:function(e){this._includeOnlyWithLayerMask=e,this._resyncMeshes()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightmapMode",{get:function(){return this._lightmapMode},set:function(e){this._lightmapMode!==e&&(this._lightmapMode=e,this._markMeshesAsLightDirty())},enumerable:!1,configurable:!0}),t.prototype.transferTexturesToEffect=function(e,t){return this},t.prototype._bindLight=function(e,t,i,n,r){void 0===r&&(r=!1);var o=e.toString(),a=!1;if(!r||!this._uniformBuffer._alreadyBound){if(this._uniformBuffer.bindToEffect(i,"Light"+o),this._renderId!==t.getRenderId()||!this._uniformBuffer.useUbo){this._renderId=t.getRenderId();var c=this.getScaledIntensity();this.transferToEffect(i,o),this.diffuse.scaleToRef(c,s.c.Color3[0]),this._uniformBuffer.updateColor4("vLightDiffuse",s.c.Color3[0],this.range,o),n&&(this.specular.scaleToRef(c,s.c.Color3[1]),this._uniformBuffer.updateColor4("vLightSpecular",s.c.Color3[1],this.radius,o)),a=!0}if(this.transferTexturesToEffect(i,o),t.shadowsEnabled&&this.shadowEnabled){var l=this.getShadowGenerator();l&&(l.bindShadowLight(o,i),a=!0)}a&&this._uniformBuffer.update()}},t.prototype.getClassName=function(){return"Light"},t.prototype.toString=function(e){var t="Name: "+this.name;if(t+=", type: "+["Point","Directional","Spot","Hemispheric"][this.getTypeID()],this.animations)for(var i=0;i<this.animations.length;i++)t+=", animation[0]: "+this.animations[i].toString(e);return t},t.prototype._syncParentEnabledState=function(){e.prototype._syncParentEnabledState.call(this),this.isDisposed()||this._resyncMeshes()},t.prototype.setEnabled=function(t){e.prototype.setEnabled.call(this,t),this._resyncMeshes()},t.prototype.getShadowGenerator=function(){return this._shadowGenerator},t.prototype.getAbsolutePosition=function(){return o.e.Zero()},t.prototype.canAffectMesh=function(e){return!e||!(this.includedOnlyMeshes&&this.includedOnlyMeshes.length>0&&-1===this.includedOnlyMeshes.indexOf(e))&&(!(this.excludedMeshes&&this.excludedMeshes.length>0&&-1!==this.excludedMeshes.indexOf(e))&&((0===this.includeOnlyWithLayerMask||0!==(this.includeOnlyWithLayerMask&e.layerMask))&&!(0!==this.excludeWithLayerMask&&this.excludeWithLayerMask&e.layerMask)))},t.CompareLightsPriority=function(e,t){return e.shadowEnabled!==t.shadowEnabled?(t.shadowEnabled?1:0)-(e.shadowEnabled?1:0):t.renderPriority-e.renderPriority},t.prototype.dispose=function(t,i){void 0===i&&(i=!1),this._shadowGenerator&&(this._shadowGenerator.dispose(),this._shadowGenerator=null),this.getScene().stopAnimation(this);for(var n=0,r=this.getScene().meshes;n<r.length;n++){r[n]._removeLightSource(this,!0)}this._uniformBuffer.dispose(),this.getScene().removeLight(this),e.prototype.dispose.call(this,t,i)},t.prototype.getTypeID=function(){return 0},t.prototype.getScaledIntensity=function(){return this._photometricScale*this.intensity},t.prototype.clone=function(e,i){void 0===i&&(i=null);var n=t.GetConstructorFromName(this.getTypeID(),e,this.getScene());if(!n)return null;var o=r.a.Clone(n,this);return i&&(o.parent=i),o.setEnabled(this.isEnabled()),o},t.prototype.serialize=function(){var e=r.a.Serialize(this);return e.type=this.getTypeID(),this.parent&&(e.parentId=this.parent.id),this.excludedMeshes.length>0&&(e.excludedMeshesIds=[],this.excludedMeshes.forEach(function(t){e.excludedMeshesIds.push(t.id)})),this.includedOnlyMeshes.length>0&&(e.includedOnlyMeshesIds=[],this.includedOnlyMeshes.forEach(function(t){e.includedOnlyMeshesIds.push(t.id)})),r.a.AppendSerializedAnimations(this,e),e.ranges=this.serializeAnimationRanges(),e},t.GetConstructorFromName=function(e,t,i){var n=a.a.Construct("Light_Type_"+e,t,i);return n||null},t.Parse=function(e,i){var n=t.GetConstructorFromName(e.type,e.name,i);if(!n)return null;var o=r.a.Parse(n,e,i);if(e.excludedMeshesIds&&(o._excludedMeshesIds=e.excludedMeshesIds),e.includedOnlyMeshesIds&&(o._includedOnlyMeshesIds=e.includedOnlyMeshesIds),e.parentId&&(o._waitingParentId=e.parentId),void 0!==e.falloffType&&(o.falloffType=e.falloffType),void 0!==e.lightmapMode&&(o.lightmapMode=e.lightmapMode),e.animations){for(var s=0;s<e.animations.length;s++){var c=e.animations[s],_=l.a.GetClass("BABYLON.Animation");_&&o.animations.push(_.Parse(c))}a.a.ParseAnimationRanges(o,e,i)}return e.autoAnimate&&i.beginAnimation(o,e.autoAnimateFrom,e.autoAnimateTo,e.autoAnimateLoop,e.autoAnimateSpeed||1),o},t.prototype._hookArrayForExcluded=function(e){var t=this,i=e.push;e.push=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];for(var o=i.apply(e,n),s=0,a=n;s<a.length;s++){a[s]._resyncLightSource(t)}return o};var n=e.splice;e.splice=function(i,r){for(var o=n.apply(e,[i,r]),s=0,a=o;s<a.length;s++){a[s]._resyncLightSource(t)}return o};for(var r=0,o=e;r<o.length;r++){o[r]._resyncLightSource(this)}},t.prototype._hookArrayForIncludedOnly=function(e){var t=this,i=e.push;e.push=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i.apply(e,n);return t._resyncMeshes(),o};var n=e.splice;e.splice=function(i,r){var o=n.apply(e,[i,r]);return t._resyncMeshes(),o},this._resyncMeshes()},t.prototype._resyncMeshes=function(){for(var e=0,t=this.getScene().meshes;e<t.length;e++){t[e]._resyncLightSource(this)}},t.prototype._markMeshesAsLightDirty=function(){for(var e=0,t=this.getScene().meshes;e<t.length;e++){var i=t[e];-1!==i.lightSources.indexOf(this)&&i._markSubMeshesAsLightDirty()}},t.prototype._computePhotometricScale=function(){this._photometricScale=this._getPhotometricScale(),this.getScene().resetCachedMaterial()},t.prototype._getPhotometricScale=function(){var e=0,i=this.getTypeID(),n=this.intensityMode;switch(n===t.INTENSITYMODE_AUTOMATIC&&(n=i===t.LIGHTTYPEID_DIRECTIONALLIGHT?t.INTENSITYMODE_ILLUMINANCE:t.INTENSITYMODE_LUMINOUSINTENSITY),i){case t.LIGHTTYPEID_POINTLIGHT:case t.LIGHTTYPEID_SPOTLIGHT:switch(n){case t.INTENSITYMODE_LUMINOUSPOWER:e=1/(4*Math.PI);break;case t.INTENSITYMODE_LUMINOUSINTENSITY:e=1;break;case t.INTENSITYMODE_LUMINANCE:e=this.radius*this.radius}break;case t.LIGHTTYPEID_DIRECTIONALLIGHT:switch(n){case t.INTENSITYMODE_ILLUMINANCE:e=1;break;case t.INTENSITYMODE_LUMINANCE:var r=this.radius;r=Math.max(r,.001),e=2*Math.PI*(1-Math.cos(r))}break;case t.LIGHTTYPEID_HEMISPHERICLIGHT:e=1}return e},t.prototype._reorderLightsInScene=function(){var e=this.getScene();0!=this._renderPriority&&(e.requireLightSorting=!0),this.getScene().sortLightsByPriority()},t.FALLOFF_DEFAULT=0,t.FALLOFF_PHYSICAL=1,t.FALLOFF_GLTF=2,t.FALLOFF_STANDARD=3,t.LIGHTMAP_DEFAULT=0,t.LIGHTMAP_SPECULAR=1,t.LIGHTMAP_SHADOWSONLY=2,t.INTENSITYMODE_AUTOMATIC=0,t.INTENSITYMODE_LUMINOUSPOWER=1,t.INTENSITYMODE_LUMINOUSINTENSITY=2,t.INTENSITYMODE_ILLUMINANCE=3,t.INTENSITYMODE_LUMINANCE=4,t.LIGHTTYPEID_POINTLIGHT=0,t.LIGHTTYPEID_DIRECTIONALLIGHT=1,t.LIGHTTYPEID_SPOTLIGHT=2,t.LIGHTTYPEID_HEMISPHERICLIGHT=3,Object(n.b)([Object(r.d)()],t.prototype,"diffuse",void 0),Object(n.b)([Object(r.d)()],t.prototype,"specular",void 0),Object(n.b)([Object(r.c)()],t.prototype,"falloffType",void 0),Object(n.b)([Object(r.c)()],t.prototype,"intensity",void 0),Object(n.b)([Object(r.c)()],t.prototype,"range",null),Object(n.b)([Object(r.c)()],t.prototype,"intensityMode",null),Object(n.b)([Object(r.c)()],t.prototype,"radius",null),Object(n.b)([Object(r.c)()],t.prototype,"_renderPriority",void 0),Object(n.b)([Object(r.b)("_reorderLightsInScene")],t.prototype,"renderPriority",void 0),Object(n.b)([Object(r.c)("shadowEnabled")],t.prototype,"_shadowEnabled",void 0),Object(n.b)([Object(r.c)("excludeWithLayerMask")],t.prototype,"_excludeWithLayerMask",void 0),Object(n.b)([Object(r.c)("includeOnlyWithLayerMask")],t.prototype,"_includeOnlyWithLayerMask",void 0),Object(n.b)([Object(r.c)("lightmapMode")],t.prototype,"_lightmapMode",void 0),t}(a.a)},694:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(30),r=i(660),o=i(667),s=i(244),a=i(649),c=function(){function e(){}return e.prototype.set=function(e,t){switch(e.length||a.a.Warn("Setting vertex data kind '"+t+"' with an empty array"),t){case r.b.PositionKind:this.positions=e;break;case r.b.NormalKind:this.normals=e;break;case r.b.TangentKind:this.tangents=e;break;case r.b.UVKind:this.uvs=e;break;case r.b.UV2Kind:this.uvs2=e;break;case r.b.UV3Kind:this.uvs3=e;break;case r.b.UV4Kind:this.uvs4=e;break;case r.b.UV5Kind:this.uvs5=e;break;case r.b.UV6Kind:this.uvs6=e;break;case r.b.ColorKind:this.colors=e;break;case r.b.MatricesIndicesKind:this.matricesIndices=e;break;case r.b.MatricesWeightsKind:this.matricesWeights=e;break;case r.b.MatricesIndicesExtraKind:this.matricesIndicesExtra=e;break;case r.b.MatricesWeightsExtraKind:this.matricesWeightsExtra=e}},e.prototype.applyToMesh=function(e,t){return this._applyTo(e,t),this},e.prototype.applyToGeometry=function(e,t){return this._applyTo(e,t),this},e.prototype.updateMesh=function(e){return this._update(e),this},e.prototype.updateGeometry=function(e){return this._update(e),this},e.prototype._applyTo=function(e,t){return void 0===t&&(t=!1),this.positions&&e.setVerticesData(r.b.PositionKind,this.positions,t),this.normals&&e.setVerticesData(r.b.NormalKind,this.normals,t),this.tangents&&e.setVerticesData(r.b.TangentKind,this.tangents,t),this.uvs&&e.setVerticesData(r.b.UVKind,this.uvs,t),this.uvs2&&e.setVerticesData(r.b.UV2Kind,this.uvs2,t),this.uvs3&&e.setVerticesData(r.b.UV3Kind,this.uvs3,t),this.uvs4&&e.setVerticesData(r.b.UV4Kind,this.uvs4,t),this.uvs5&&e.setVerticesData(r.b.UV5Kind,this.uvs5,t),this.uvs6&&e.setVerticesData(r.b.UV6Kind,this.uvs6,t),this.colors&&e.setVerticesData(r.b.ColorKind,this.colors,t),this.matricesIndices&&e.setVerticesData(r.b.MatricesIndicesKind,this.matricesIndices,t),this.matricesWeights&&e.setVerticesData(r.b.MatricesWeightsKind,this.matricesWeights,t),this.matricesIndicesExtra&&e.setVerticesData(r.b.MatricesIndicesExtraKind,this.matricesIndicesExtra,t),this.matricesWeightsExtra&&e.setVerticesData(r.b.MatricesWeightsExtraKind,this.matricesWeightsExtra,t),this.indices?e.setIndices(this.indices,null,t):e.setIndices([],null),this},e.prototype._update=function(e,t,i){return this.positions&&e.updateVerticesData(r.b.PositionKind,this.positions,t,i),this.normals&&e.updateVerticesData(r.b.NormalKind,this.normals,t,i),this.tangents&&e.updateVerticesData(r.b.TangentKind,this.tangents,t,i),this.uvs&&e.updateVerticesData(r.b.UVKind,this.uvs,t,i),this.uvs2&&e.updateVerticesData(r.b.UV2Kind,this.uvs2,t,i),this.uvs3&&e.updateVerticesData(r.b.UV3Kind,this.uvs3,t,i),this.uvs4&&e.updateVerticesData(r.b.UV4Kind,this.uvs4,t,i),this.uvs5&&e.updateVerticesData(r.b.UV5Kind,this.uvs5,t,i),this.uvs6&&e.updateVerticesData(r.b.UV6Kind,this.uvs6,t,i),this.colors&&e.updateVerticesData(r.b.ColorKind,this.colors,t,i),this.matricesIndices&&e.updateVerticesData(r.b.MatricesIndicesKind,this.matricesIndices,t,i),this.matricesWeights&&e.updateVerticesData(r.b.MatricesWeightsKind,this.matricesWeights,t,i),this.matricesIndicesExtra&&e.updateVerticesData(r.b.MatricesIndicesExtraKind,this.matricesIndicesExtra,t,i),this.matricesWeightsExtra&&e.updateVerticesData(r.b.MatricesWeightsExtraKind,this.matricesWeightsExtra,t,i),this.indices&&e.setIndices(this.indices,null),this},e.prototype.transform=function(e){var t,i=e.determinant()<0,r=n.e.Zero();if(this.positions){var o=n.e.Zero();for(t=0;t<this.positions.length;t+=3)n.e.FromArrayToRef(this.positions,t,o),n.e.TransformCoordinatesToRef(o,e,r),this.positions[t]=r.x,this.positions[t+1]=r.y,this.positions[t+2]=r.z}if(this.normals){var s=n.e.Zero();for(t=0;t<this.normals.length;t+=3)n.e.FromArrayToRef(this.normals,t,s),n.e.TransformNormalToRef(s,e,r),this.normals[t]=r.x,this.normals[t+1]=r.y,this.normals[t+2]=r.z}if(this.tangents){var a=n.f.Zero(),c=n.f.Zero();for(t=0;t<this.tangents.length;t+=4)n.f.FromArrayToRef(this.tangents,t,a),n.f.TransformNormalToRef(a,e,c),this.tangents[t]=c.x,this.tangents[t+1]=c.y,this.tangents[t+2]=c.z,this.tangents[t+3]=c.w}if(i&&this.indices)for(t=0;t<this.indices.length;t+=3){var l=this.indices[t+1];this.indices[t+1]=this.indices[t+2],this.indices[t+2]=l}return this},e.prototype.merge=function(e,t){if(void 0===t&&(t=!1),this._validate(),e._validate(),!this.normals!==!e.normals||!this.tangents!==!e.tangents||!this.uvs!==!e.uvs||!this.uvs2!==!e.uvs2||!this.uvs3!==!e.uvs3||!this.uvs4!==!e.uvs4||!this.uvs5!==!e.uvs5||!this.uvs6!==!e.uvs6||!this.colors!==!e.colors||!this.matricesIndices!==!e.matricesIndices||!this.matricesWeights!==!e.matricesWeights||!this.matricesIndicesExtra!==!e.matricesIndicesExtra||!this.matricesWeightsExtra!==!e.matricesWeightsExtra)throw new Error("Cannot merge vertex data that do not have the same set of attributes");if(e.indices){this.indices||(this.indices=[]);var i=this.positions?this.positions.length/3:0;if(void 0!==this.indices.BYTES_PER_ELEMENT){var n=this.indices.length+e.indices.length,r=t||this.indices instanceof Uint32Array?new Uint32Array(n):new Uint16Array(n);r.set(this.indices);for(var o=this.indices.length,s=0;s<e.indices.length;s++)r[o+s]=e.indices[s]+i;this.indices=r}else for(s=0;s<e.indices.length;s++)this.indices.push(e.indices[s]+i)}return this.positions=this._mergeElement(this.positions,e.positions),this.normals=this._mergeElement(this.normals,e.normals),this.tangents=this._mergeElement(this.tangents,e.tangents),this.uvs=this._mergeElement(this.uvs,e.uvs),this.uvs2=this._mergeElement(this.uvs2,e.uvs2),this.uvs3=this._mergeElement(this.uvs3,e.uvs3),this.uvs4=this._mergeElement(this.uvs4,e.uvs4),this.uvs5=this._mergeElement(this.uvs5,e.uvs5),this.uvs6=this._mergeElement(this.uvs6,e.uvs6),this.colors=this._mergeElement(this.colors,e.colors),this.matricesIndices=this._mergeElement(this.matricesIndices,e.matricesIndices),this.matricesWeights=this._mergeElement(this.matricesWeights,e.matricesWeights),this.matricesIndicesExtra=this._mergeElement(this.matricesIndicesExtra,e.matricesIndicesExtra),this.matricesWeightsExtra=this._mergeElement(this.matricesWeightsExtra,e.matricesWeightsExtra),this},e.prototype._mergeElement=function(e,t){if(!e)return t;if(!t)return e;var i=t.length+e.length,n=e instanceof Float32Array,r=t instanceof Float32Array;if(n){var o=new Float32Array(i);return o.set(e),o.set(t,e.length),o}if(r){var s=e.slice(0),a=0;for(i=t.length;a<i;a++)s.push(t[a]);return s}return e.concat(t)},e.prototype._validate=function(){if(!this.positions)throw new Error("Positions are required");var e=function(e,t){var i=r.b.DeduceStride(e);if(t.length%i!==0)throw new Error("The "+e+"s array count must be a multiple of "+i);return t.length/i},t=e(r.b.PositionKind,this.positions),i=function(i,n){var r=e(i,n);if(r!==t)throw new Error("The "+i+"s element count ("+r+") does not match the positions count ("+t+")")};this.normals&&i(r.b.NormalKind,this.normals),this.tangents&&i(r.b.TangentKind,this.tangents),this.uvs&&i(r.b.UVKind,this.uvs),this.uvs2&&i(r.b.UV2Kind,this.uvs2),this.uvs3&&i(r.b.UV3Kind,this.uvs3),this.uvs4&&i(r.b.UV4Kind,this.uvs4),this.uvs5&&i(r.b.UV5Kind,this.uvs5),this.uvs6&&i(r.b.UV6Kind,this.uvs6),this.colors&&i(r.b.ColorKind,this.colors),this.matricesIndices&&i(r.b.MatricesIndicesKind,this.matricesIndices),this.matricesWeights&&i(r.b.MatricesWeightsKind,this.matricesWeights),this.matricesIndicesExtra&&i(r.b.MatricesIndicesExtraKind,this.matricesIndicesExtra),this.matricesWeightsExtra&&i(r.b.MatricesWeightsExtraKind,this.matricesWeightsExtra)},e.prototype.serialize=function(){var e=this.serialize();return this.positions&&(e.positions=this.positions),this.normals&&(e.normals=this.normals),this.tangents&&(e.tangents=this.tangents),this.uvs&&(e.uvs=this.uvs),this.uvs2&&(e.uvs2=this.uvs2),this.uvs3&&(e.uvs3=this.uvs3),this.uvs4&&(e.uvs4=this.uvs4),this.uvs5&&(e.uvs5=this.uvs5),this.uvs6&&(e.uvs6=this.uvs6),this.colors&&(e.colors=this.colors),this.matricesIndices&&(e.matricesIndices=this.matricesIndices,e.matricesIndices._isExpanded=!0),this.matricesWeights&&(e.matricesWeights=this.matricesWeights),this.matricesIndicesExtra&&(e.matricesIndicesExtra=this.matricesIndicesExtra,e.matricesIndicesExtra._isExpanded=!0),this.matricesWeightsExtra&&(e.matricesWeightsExtra=this.matricesWeightsExtra),e.indices=this.indices,e},e.ExtractFromMesh=function(t,i,n){return e._ExtractFrom(t,i,n)},e.ExtractFromGeometry=function(t,i,n){return e._ExtractFrom(t,i,n)},e._ExtractFrom=function(t,i,n){var o=new e;return t.isVerticesDataPresent(r.b.PositionKind)&&(o.positions=t.getVerticesData(r.b.PositionKind,i,n)),t.isVerticesDataPresent(r.b.NormalKind)&&(o.normals=t.getVerticesData(r.b.NormalKind,i,n)),t.isVerticesDataPresent(r.b.TangentKind)&&(o.tangents=t.getVerticesData(r.b.TangentKind,i,n)),t.isVerticesDataPresent(r.b.UVKind)&&(o.uvs=t.getVerticesData(r.b.UVKind,i,n)),t.isVerticesDataPresent(r.b.UV2Kind)&&(o.uvs2=t.getVerticesData(r.b.UV2Kind,i,n)),t.isVerticesDataPresent(r.b.UV3Kind)&&(o.uvs3=t.getVerticesData(r.b.UV3Kind,i,n)),t.isVerticesDataPresent(r.b.UV4Kind)&&(o.uvs4=t.getVerticesData(r.b.UV4Kind,i,n)),t.isVerticesDataPresent(r.b.UV5Kind)&&(o.uvs5=t.getVerticesData(r.b.UV5Kind,i,n)),t.isVerticesDataPresent(r.b.UV6Kind)&&(o.uvs6=t.getVerticesData(r.b.UV6Kind,i,n)),t.isVerticesDataPresent(r.b.ColorKind)&&(o.colors=t.getVerticesData(r.b.ColorKind,i,n)),t.isVerticesDataPresent(r.b.MatricesIndicesKind)&&(o.matricesIndices=t.getVerticesData(r.b.MatricesIndicesKind,i,n)),t.isVerticesDataPresent(r.b.MatricesWeightsKind)&&(o.matricesWeights=t.getVerticesData(r.b.MatricesWeightsKind,i,n)),t.isVerticesDataPresent(r.b.MatricesIndicesExtraKind)&&(o.matricesIndicesExtra=t.getVerticesData(r.b.MatricesIndicesExtraKind,i,n)),t.isVerticesDataPresent(r.b.MatricesWeightsExtraKind)&&(o.matricesWeightsExtra=t.getVerticesData(r.b.MatricesWeightsExtraKind,i,n)),o.indices=t.getIndices(i,n),o},e.CreateRibbon=function(e){throw o.a.WarnImport("ribbonBuilder")},e.CreateBox=function(e){throw o.a.WarnImport("boxBuilder")},e.CreateTiledBox=function(e){throw o.a.WarnImport("tiledBoxBuilder")},e.CreateTiledPlane=function(e){throw o.a.WarnImport("tiledPlaneBuilder")},e.CreateSphere=function(e){throw o.a.WarnImport("sphereBuilder")},e.CreateCylinder=function(e){throw o.a.WarnImport("cylinderBuilder")},e.CreateTorus=function(e){throw o.a.WarnImport("torusBuilder")},e.CreateLineSystem=function(e){throw o.a.WarnImport("linesBuilder")},e.CreateDashedLines=function(e){throw o.a.WarnImport("linesBuilder")},e.CreateGround=function(e){throw o.a.WarnImport("groundBuilder")},e.CreateTiledGround=function(e){throw o.a.WarnImport("groundBuilder")},e.CreateGroundFromHeightMap=function(e){throw o.a.WarnImport("groundBuilder")},e.CreatePlane=function(e){throw o.a.WarnImport("planeBuilder")},e.CreateDisc=function(e){throw o.a.WarnImport("discBuilder")},e.CreatePolygon=function(e,t,i,n,r,s,a){throw o.a.WarnImport("polygonBuilder")},e.CreateIcoSphere=function(e){throw o.a.WarnImport("icoSphereBuilder")},e.CreatePolyhedron=function(e){throw o.a.WarnImport("polyhedronBuilder")},e.CreateCapsule=function(e){throw void 0===e&&(e={orientation:n.e.Up(),subdivisions:2,tessellation:16,height:1,radius:.25,capSubdivisions:6}),o.a.WarnImport("capsuleBuilder")},e.CreateTorusKnot=function(e){throw o.a.WarnImport("torusKnotBuilder")},e.ComputeNormals=function(e,t,i,r){var o=0,s=0,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=0,b=0,m=0,A=0,g=0,y=0,v=0,C=0,E=0,S=0,T=!1,R=!1,M=!1,O=!1,I=1,x=0,P=null;if(r&&(T=!!r.facetNormals,R=!!r.facetPositions,M=!!r.facetPartitioning,I=!0===r.useRightHandedSystem?-1:1,x=r.ratio||0,O=!!r.depthSort,P=r.distanceTo,O)){void 0===P&&(P=n.e.Zero());var D=r.depthSortedFacets}var w=0,L=0,F=0,N=0;if(M&&r&&r.bbSize){var B=0,k=0,U=0,H=0,j=0,V=0,G=0,W=0,X=0,z=0,Y=0,Q=0,K=0,Z=0,J=0,q=0,$=r.bbSize.x>r.bbSize.y?r.bbSize.x:r.bbSize.y;$=$>r.bbSize.z?$:r.bbSize.z,w=r.subDiv.X*x/r.bbSize.x,L=r.subDiv.Y*x/r.bbSize.y,F=r.subDiv.Z*x/r.bbSize.z,N=r.subDiv.max*r.subDiv.max,r.facetPartitioning.length=0}for(o=0;o<e.length;o++)i[o]=0;var ee=t.length/3|0;for(o=0;o<ee;o++){if(m=(b=3*t[3*o])+1,A=b+2,y=(g=3*t[3*o+1])+1,v=g+2,E=(C=3*t[3*o+2])+1,S=C+2,s=e[b]-e[g],a=e[m]-e[y],c=e[A]-e[v],l=e[C]-e[g],_=e[E]-e[y],f=I*(a*(u=e[S]-e[v])-c*_),d=I*(c*l-s*u),h=I*(s*_-a*l),f/=p=0===(p=Math.sqrt(f*f+d*d+h*h))?1:p,d/=p,h/=p,T&&r&&(r.facetNormals[o].x=f,r.facetNormals[o].y=d,r.facetNormals[o].z=h),R&&r&&(r.facetPositions[o].x=(e[b]+e[g]+e[C])/3,r.facetPositions[o].y=(e[m]+e[y]+e[E])/3,r.facetPositions[o].z=(e[A]+e[v]+e[S])/3),M&&r&&(B=Math.floor((r.facetPositions[o].x-r.bInfo.minimum.x*x)*w),k=Math.floor((r.facetPositions[o].y-r.bInfo.minimum.y*x)*L),U=Math.floor((r.facetPositions[o].z-r.bInfo.minimum.z*x)*F),H=Math.floor((e[b]-r.bInfo.minimum.x*x)*w),j=Math.floor((e[m]-r.bInfo.minimum.y*x)*L),V=Math.floor((e[A]-r.bInfo.minimum.z*x)*F),G=Math.floor((e[g]-r.bInfo.minimum.x*x)*w),W=Math.floor((e[y]-r.bInfo.minimum.y*x)*L),X=Math.floor((e[v]-r.bInfo.minimum.z*x)*F),z=Math.floor((e[C]-r.bInfo.minimum.x*x)*w),Y=Math.floor((e[E]-r.bInfo.minimum.y*x)*L),Q=Math.floor((e[S]-r.bInfo.minimum.z*x)*F),Z=H+r.subDiv.max*j+N*V,J=G+r.subDiv.max*W+N*X,q=z+r.subDiv.max*Y+N*Q,K=B+r.subDiv.max*k+N*U,r.facetPartitioning[K]=r.facetPartitioning[K]?r.facetPartitioning[K]:new Array,r.facetPartitioning[Z]=r.facetPartitioning[Z]?r.facetPartitioning[Z]:new Array,r.facetPartitioning[J]=r.facetPartitioning[J]?r.facetPartitioning[J]:new Array,r.facetPartitioning[q]=r.facetPartitioning[q]?r.facetPartitioning[q]:new Array,r.facetPartitioning[Z].push(o),J!=Z&&r.facetPartitioning[J].push(o),q!=J&&q!=Z&&r.facetPartitioning[q].push(o),K!=Z&&K!=J&&K!=q&&r.facetPartitioning[K].push(o)),O&&r&&r.facetPositions){var te=D[o];te.ind=3*o,te.sqDistance=n.e.DistanceSquared(r.facetPositions[o],P)}i[b]+=f,i[m]+=d,i[A]+=h,i[g]+=f,i[y]+=d,i[v]+=h,i[C]+=f,i[E]+=d,i[S]+=h}for(o=0;o<i.length/3;o++)f=i[3*o],d=i[3*o+1],h=i[3*o+2],f/=p=0===(p=Math.sqrt(f*f+d*d+h*h))?1:p,d/=p,h/=p,i[3*o]=f,i[3*o+1]=d,i[3*o+2]=h},e._ComputeSides=function(t,i,r,o,s,a,c){var l,_,u=r.length,f=o.length;switch(t=t||e.DEFAULTSIDE){case e.FRONTSIDE:break;case e.BACKSIDE:var d;for(l=0;l<u;l+=3)d=r[l],r[l]=r[l+2],r[l+2]=d;for(_=0;_<f;_++)o[_]=-o[_];break;case e.DOUBLESIDE:for(var h=i.length,p=h/3,b=0;b<h;b++)i[h+b]=i[b];for(l=0;l<u;l+=3)r[l+u]=r[l+2]+p,r[l+1+u]=r[l+1]+p,r[l+2+u]=r[l]+p;for(_=0;_<f;_++)o[f+_]=-o[_];var m=s.length,A=0;for(A=0;A<m;A++)s[A+m]=s[A];for(a=a||new n.f(0,0,1,1),c=c||new n.f(0,0,1,1),A=0,l=0;l<m/2;l++)s[A]=a.x+(a.z-a.x)*s[A],s[A+1]=a.y+(a.w-a.y)*s[A+1],s[A+m]=c.x+(c.z-c.x)*s[A+m],s[A+m+1]=c.y+(c.w-c.y)*s[A+m+1],A+=2}},e.ImportVertexData=function(t,i){var n=new e,o=t.positions;o&&n.set(o,r.b.PositionKind);var a=t.normals;a&&n.set(a,r.b.NormalKind);var c=t.tangents;c&&n.set(c,r.b.TangentKind);var l=t.uvs;l&&n.set(l,r.b.UVKind);var _=t.uv2s;_&&n.set(_,r.b.UV2Kind);var u=t.uv3s;u&&n.set(u,r.b.UV3Kind);var f=t.uv4s;f&&n.set(f,r.b.UV4Kind);var d=t.uv5s;d&&n.set(d,r.b.UV5Kind);var h=t.uv6s;h&&n.set(h,r.b.UV6Kind);var p=t.colors;p&&n.set(s.b.CheckColors4(p,o.length/3),r.b.ColorKind);var b=t.matricesIndices;b&&n.set(b,r.b.MatricesIndicesKind);var m=t.matricesWeights;m&&n.set(m,r.b.MatricesWeightsKind);var A=t.indices;A&&(n.indices=A),i.setAllVerticesData(n,t.updatable)},e.FRONTSIDE=0,e.BACKSIDE=1,e.DOUBLESIDE=2,e.DEFAULTSIDE=0,e}()},695:function(e,t,i){"use strict";i.d(t,"a",function(){return B});var n=i(644),r=i(658),o=i(755),s=i(650),a=i(718),c=function(){function e(){this._count=0,this._data={}}return e.prototype.copyFrom=function(e){var t=this;this.clear(),e.forEach(function(e,i){return t.add(e,i)})},e.prototype.get=function(e){var t=this._data[e];if(void 0!==t)return t},e.prototype.getOrAddWithFactory=function(e,t){var i=this.get(e);return void 0!==i||(i=t(e))&&this.add(e,i),i},e.prototype.getOrAdd=function(e,t){var i=this.get(e);return void 0!==i?i:(this.add(e,t),t)},e.prototype.contains=function(e){return void 0!==this._data[e]},e.prototype.add=function(e,t){return void 0===this._data[e]&&(this._data[e]=t,++this._count,!0)},e.prototype.set=function(e,t){return void 0!==this._data[e]&&(this._data[e]=t,!0)},e.prototype.getAndRemove=function(e){var t=this.get(e);return void 0!==t?(delete this._data[e],--this._count,t):null},e.prototype.remove=function(e){return!!this.contains(e)&&(delete this._data[e],--this._count,!0)},e.prototype.clear=function(){this._data={},this._count=0},Object.defineProperty(e.prototype,"count",{get:function(){return this._count},enumerable:!1,configurable:!0}),e.prototype.forEach=function(e){for(var t in this._data){e(t,this._data[t])}},e.prototype.first=function(e){for(var t in this._data){var i=e(t,this._data[t]);if(i)return i}return null},e}(),l=i(764),_=i(30),u=i(803),f=i(735),d=i(733),h=i(871),p=i(885),b=i(883),m=i(693),A=i(869),g=function(){function e(e,t,i,n,r,o){this.source=e,this.pointerX=t,this.pointerY=i,this.meshUnderPointer=n,this.sourceEvent=r,this.additionalData=o}return e.CreateNew=function(t,i,n){var r=t.getScene();return new e(t,r.pointerX,r.pointerY,r.meshUnderPointer||t,i,n)},e.CreateNewFromSprite=function(t,i,n,r){return new e(t,i.pointerX,i.pointerY,i.meshUnderPointer,n,r)},e.CreateNewFromScene=function(t,i){return new e(null,t.pointerX,t.pointerY,t.meshUnderPointer,i)},e.CreateNewFromPrimitive=function(t,i,n,r){return new e(t,i.x,i.y,null,n,r)},e}(),y=i(873),v=i(882),C=i(805),E=i(701),S=i(649),T=i(668),R=i(667),M=i(806),O=i(944),I=i(945),x=function(){function e(){this._singleClick=!1,this._doubleClick=!1,this._hasSwiped=!1,this._ignore=!1}return Object.defineProperty(e.prototype,"singleClick",{get:function(){return this._singleClick},set:function(e){this._singleClick=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"doubleClick",{get:function(){return this._doubleClick},set:function(e){this._doubleClick=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"hasSwiped",{get:function(){return this._hasSwiped},set:function(e){this._hasSwiped=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"ignore",{get:function(){return this._ignore},set:function(e){this._ignore=e},enumerable:!1,configurable:!0}),e}(),P=function(){function e(e){this._alreadyAttached=!1,this._wheelEventName="",this._meshPickProceed=!1,this._currentPickResult=null,this._previousPickResult=null,this._totalPointersPressed=0,this._doubleClickOccured=!1,this._pointerX=0,this._pointerY=0,this._startingPointerPosition=new _.d(0,0),this._previousStartingPointerPosition=new _.d(0,0),this._startingPointerTime=0,this._previousStartingPointerTime=0,this._pointerCaptures={},this._meshUnderPointerId=[],this._keyboardIsAttached=!1,this._scene=e}return Object.defineProperty(e.prototype,"meshUnderPointer",{get:function(){return this._pointerOverMesh},enumerable:!1,configurable:!0}),e.prototype.getMeshUnderPointerByPointerId=function(e){return this._meshUnderPointerId[e]},Object.defineProperty(e.prototype,"unTranslatedPointer",{get:function(){return new _.d(this._unTranslatedPointerX,this._unTranslatedPointerY)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerX",{get:function(){return this._pointerX},set:function(e){this._pointerX=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pointerY",{get:function(){return this._pointerY},set:function(e){this._pointerY=e},enumerable:!1,configurable:!0}),e.prototype._updatePointerPosition=function(e){var t=this._scene.getEngine().getInputElementClientRect();t&&(this._pointerX=e.clientX-t.left,this._pointerY=e.clientY-t.top,this._unTranslatedPointerX=this._pointerX,this._unTranslatedPointerY=this._pointerY)},e.prototype._processPointerMove=function(e,t){var i=this._scene,n=i.getEngine(),r=n.getInputElement();if(r){r.tabIndex=n.canvasTabIndex,i.doNotHandleCursors||(r.style.cursor=i.defaultCursor);var o=!!(e&&e.hit&&e.pickedMesh);o?(i.setPointerOverMesh(e.pickedMesh,t.pointerId),this._pointerOverMesh&&this._pointerOverMesh.actionManager&&this._pointerOverMesh.actionManager.hasPointerTriggers&&(i.doNotHandleCursors||(this._pointerOverMesh.actionManager.hoverCursor?r.style.cursor=this._pointerOverMesh.actionManager.hoverCursor:r.style.cursor=i.hoverCursor))):i.setPointerOverMesh(null,t.pointerId);for(var s=0,a=i._pointerMoveStage;s<a.length;s++){e=a[s].action(this._unTranslatedPointerX,this._unTranslatedPointerY,e,o,r)}if(e){var c=t.type===this._wheelEventName?M.a.POINTERWHEEL:M.a.POINTERMOVE;if(i.onPointerMove&&i.onPointerMove(t,e,c),i.onPointerObservable.hasObservers()){var l=new M.b(c,t,e);this._setRayOnPointerInfo(l),i.onPointerObservable.notifyObservers(l,c)}}}},e.prototype._setRayOnPointerInfo=function(e){var t=this._scene;e.pickInfo&&!e.pickInfo._pickingUnavailable&&(e.pickInfo.ray||(e.pickInfo.ray=t.createPickingRay(e.event.offsetX,e.event.offsetY,_.a.Identity(),t.activeCamera)))},e.prototype._checkPrePointerObservable=function(e,t,i){var n=this._scene,r=new M.c(i,t,this._unTranslatedPointerX,this._unTranslatedPointerY);return e&&(r.ray=e.ray),n.onPrePointerObservable.notifyObservers(r,i),!!r.skipOnPointerObservable},e.prototype.simulatePointerMove=function(e,t){var i=new PointerEvent("pointermove",t);this._checkPrePointerObservable(e,i,M.a.POINTERMOVE)||this._processPointerMove(e,i)},e.prototype.simulatePointerDown=function(e,t){var i=new PointerEvent("pointerdown",t);this._checkPrePointerObservable(e,i,M.a.POINTERDOWN)||this._processPointerDown(e,i)},e.prototype._processPointerDown=function(t,i){var n=this,r=this._scene;if(t&&t.hit&&t.pickedMesh){this._pickedDownMesh=t.pickedMesh;var o=t.pickedMesh._getActionManagerForTrigger();if(o){if(o.hasPickTriggers)switch(o.processTrigger(5,g.CreateNew(t.pickedMesh,i)),i.button){case 0:o.processTrigger(2,g.CreateNew(t.pickedMesh,i));break;case 1:o.processTrigger(4,g.CreateNew(t.pickedMesh,i));break;case 2:o.processTrigger(3,g.CreateNew(t.pickedMesh,i))}o.hasSpecificTrigger(8)&&window.setTimeout(function(){var t=r.pick(n._unTranslatedPointerX,n._unTranslatedPointerY,function(e){return e.isPickable&&e.isVisible&&e.isReady()&&e.actionManager&&e.actionManager.hasSpecificTrigger(8)&&e==n._pickedDownMesh},!1,r.cameraToUseForPointers);t&&t.hit&&t.pickedMesh&&o&&0!==n._totalPointersPressed&&Date.now()-n._startingPointerTime>e.LongPressDelay&&!n._isPointerSwiping()&&(n._startingPointerTime=0,o.processTrigger(8,g.CreateNew(t.pickedMesh,i)))},e.LongPressDelay)}}else for(var s=0,a=r._pointerDownStage;s<a.length;s++){t=a[s].action(this._unTranslatedPointerX,this._unTranslatedPointerY,t,i)}if(t){var c=M.a.POINTERDOWN;if(r.onPointerDown&&r.onPointerDown(i,t,c),r.onPointerObservable.hasObservers()){var l=new M.b(c,i,t);this._setRayOnPointerInfo(l),r.onPointerObservable.notifyObservers(l,c)}}},e.prototype._isPointerSwiping=function(){return Math.abs(this._startingPointerPosition.x-this._pointerX)>e.DragMovementThreshold||Math.abs(this._startingPointerPosition.y-this._pointerY)>e.DragMovementThreshold},e.prototype.simulatePointerUp=function(e,t,i){var n=new PointerEvent("pointerup",t),r=new x;i?r.doubleClick=!0:r.singleClick=!0,this._checkPrePointerObservable(e,n,M.a.POINTERUP)||this._processPointerUp(e,n,r)},e.prototype._processPointerUp=function(e,t,i){var n=this._scene;if(e&&e&&e.pickedMesh){if(this._pickedUpMesh=e.pickedMesh,this._pickedDownMesh===this._pickedUpMesh&&(n.onPointerPick&&n.onPointerPick(t,e),i.singleClick&&!i.ignore&&n.onPointerObservable.hasObservers())){var r=M.a.POINTERPICK,o=new M.b(r,t,e);this._setRayOnPointerInfo(o),n.onPointerObservable.notifyObservers(o,r)}var s=e.pickedMesh._getActionManagerForTrigger();if(s&&!i.ignore){s.processTrigger(7,g.CreateNew(e.pickedMesh,t)),!i.hasSwiped&&i.singleClick&&s.processTrigger(1,g.CreateNew(e.pickedMesh,t));var a=e.pickedMesh._getActionManagerForTrigger(6);i.doubleClick&&a&&a.processTrigger(6,g.CreateNew(e.pickedMesh,t))}}else if(!i.ignore)for(var c=0,l=n._pointerUpStage;c<l.length;c++){e=l[c].action(this._unTranslatedPointerX,this._unTranslatedPointerY,e,t)}if(this._pickedDownMesh&&this._pickedDownMesh!==this._pickedUpMesh){var _=this._pickedDownMesh._getActionManagerForTrigger(16);_&&_.processTrigger(16,g.CreateNew(this._pickedDownMesh,t))}var u=0;if(n.onPointerObservable.hasObservers()){if(!i.ignore&&!i.hasSwiped&&(i.singleClick&&n.onPointerObservable.hasSpecificMask(M.a.POINTERTAP)?u=M.a.POINTERTAP:i.doubleClick&&n.onPointerObservable.hasSpecificMask(M.a.POINTERDOUBLETAP)&&(u=M.a.POINTERDOUBLETAP),u)){o=new M.b(u,t,e);this._setRayOnPointerInfo(o),n.onPointerObservable.notifyObservers(o,u)}if(!i.ignore){u=M.a.POINTERUP;o=new M.b(u,t,e);this._setRayOnPointerInfo(o),n.onPointerObservable.notifyObservers(o,u)}}n.onPointerUp&&!i.ignore&&n.onPointerUp(t,e,u)},e.prototype.isPointerCaptured=function(e){return void 0===e&&(e=0),this._pointerCaptures[e]},e.prototype.attachControl=function(t,i,n,o){var s=this;void 0===t&&(t=!0),void 0===i&&(i=!0),void 0===n&&(n=!0),void 0===o&&(o=null);var a=this._scene;if(o||(o=a.getEngine().getInputElement()),o){this._alreadyAttached&&this.detachControl(),this._alreadyAttachedTo=o;var c=a.getEngine();this._initActionManager=function(e,t){if(!s._meshPickProceed){var i=a.pick(s._unTranslatedPointerX,s._unTranslatedPointerY,a.pointerDownPredicate,!1,a.cameraToUseForPointers);s._currentPickResult=i,i&&(e=i.hit&&i.pickedMesh?i.pickedMesh._getActionManagerForTrigger():null),s._meshPickProceed=!0}return e},this._delayedSimpleClick=function(t,i,n){(Date.now()-s._previousStartingPointerTime>e.DoubleClickDelay&&!s._doubleClickOccured||t!==s._previousButtonPressed)&&(s._doubleClickOccured=!1,i.singleClick=!0,i.ignore=!1,n(i,s._currentPickResult))},this._initClickEvent=function(t,i,n,r){var o=new x;s._currentPickResult=null;var a=null,c=t.hasSpecificMask(M.a.POINTERPICK)||i.hasSpecificMask(M.a.POINTERPICK)||t.hasSpecificMask(M.a.POINTERTAP)||i.hasSpecificMask(M.a.POINTERTAP)||t.hasSpecificMask(M.a.POINTERDOUBLETAP)||i.hasSpecificMask(M.a.POINTERDOUBLETAP);!c&&O.a&&(a=s._initActionManager(a,o))&&(c=a.hasPickTriggers);var l=!1;if(c){var _=n.button;if(o.hasSwiped=s._isPointerSwiping(),!o.hasSwiped){var u=!e.ExclusiveDoubleClickMode;u||(u=!t.hasSpecificMask(M.a.POINTERDOUBLETAP)&&!i.hasSpecificMask(M.a.POINTERDOUBLETAP))&&!O.a.HasSpecificTrigger(6)&&(a=s._initActionManager(a,o))&&(u=!a.hasSpecificTrigger(6)),u?(Date.now()-s._previousStartingPointerTime>e.DoubleClickDelay||_!==s._previousButtonPressed)&&(o.singleClick=!0,r(o,s._currentPickResult),l=!0):(s._previousDelayedSimpleClickTimeout=s._delayedSimpleClickTimeout,s._delayedSimpleClickTimeout=window.setTimeout(s._delayedSimpleClick.bind(s,_,o,r),e.DoubleClickDelay));var f=t.hasSpecificMask(M.a.POINTERDOUBLETAP)||i.hasSpecificMask(M.a.POINTERDOUBLETAP);!f&&O.a.HasSpecificTrigger(6)&&(a=s._initActionManager(a,o))&&(f=a.hasSpecificTrigger(6)),f&&(_===s._previousButtonPressed&&Date.now()-s._previousStartingPointerTime<e.DoubleClickDelay&&!s._doubleClickOccured?(o.hasSwiped||s._isPointerSwiping()?(s._doubleClickOccured=!1,s._previousStartingPointerTime=s._startingPointerTime,s._previousStartingPointerPosition.x=s._startingPointerPosition.x,s._previousStartingPointerPosition.y=s._startingPointerPosition.y,s._previousButtonPressed=_,e.ExclusiveDoubleClickMode?(s._previousDelayedSimpleClickTimeout&&clearTimeout(s._previousDelayedSimpleClickTimeout),s._previousDelayedSimpleClickTimeout=s._delayedSimpleClickTimeout,r(o,s._previousPickResult)):r(o,s._currentPickResult)):(s._previousStartingPointerTime=0,s._doubleClickOccured=!0,o.doubleClick=!0,o.ignore=!1,e.ExclusiveDoubleClickMode&&s._previousDelayedSimpleClickTimeout&&clearTimeout(s._previousDelayedSimpleClickTimeout),s._previousDelayedSimpleClickTimeout=s._delayedSimpleClickTimeout,r(o,s._currentPickResult)),l=!0):(s._doubleClickOccured=!1,s._previousStartingPointerTime=s._startingPointerTime,s._previousStartingPointerPosition.x=s._startingPointerPosition.x,s._previousStartingPointerPosition.y=s._startingPointerPosition.y,s._previousButtonPressed=_))}}l||r(o,s._currentPickResult)},this._onPointerMove=function(e){if(void 0===e.pointerId&&(e.pointerId=0),s._updatePointerPosition(e),!s._checkPrePointerObservable(null,e,e.type===s._wheelEventName?M.a.POINTERWHEEL:M.a.POINTERMOVE)&&(a.cameraToUseForPointers||a.activeCamera)){a.pointerMovePredicate||(a.pointerMovePredicate=function(e){return e.isPickable&&e.isVisible&&e.isReady()&&e.isEnabled()&&(e.enablePointerMoveEvents||a.constantlyUpdateMeshUnderPointer||null!=e._getActionManagerForTrigger())&&(!a.cameraToUseForPointers||0!==(a.cameraToUseForPointers.layerMask&e.layerMask))});var t=a.pick(s._unTranslatedPointerX,s._unTranslatedPointerY,a.pointerMovePredicate,!1,a.cameraToUseForPointers);s._processPointerMove(t,e)}},this._onPointerDown=function(e){if(s._totalPointersPressed++,s._pickedDownMesh=null,s._meshPickProceed=!1,void 0===e.pointerId&&(e.pointerId=0),s._updatePointerPosition(e),a.preventDefaultOnPointerDown&&o&&(e.preventDefault(),o.focus()),s._startingPointerPosition.x=s._pointerX,s._startingPointerPosition.y=s._pointerY,s._startingPointerTime=Date.now(),!s._checkPrePointerObservable(null,e,M.a.POINTERDOWN)&&(a.cameraToUseForPointers||a.activeCamera)){s._pointerCaptures[e.pointerId]=!0,a.pointerDownPredicate||(a.pointerDownPredicate=function(e){return e.isPickable&&e.isVisible&&e.isReady()&&e.isEnabled()&&(!a.cameraToUseForPointers||0!==(a.cameraToUseForPointers.layerMask&e.layerMask))}),s._pickedDownMesh=null;var t=a.pick(s._unTranslatedPointerX,s._unTranslatedPointerY,a.pointerDownPredicate,!1,a.cameraToUseForPointers);s._processPointerDown(t,e)}},this._onPointerUp=function(e){0!==s._totalPointersPressed&&(s._totalPointersPressed--,s._pickedUpMesh=null,s._meshPickProceed=!1,void 0===e.pointerId&&(e.pointerId=0),s._updatePointerPosition(e),a.preventDefaultOnPointerUp&&o&&(e.preventDefault(),o.focus()),s._initClickEvent(a.onPrePointerObservable,a.onPointerObservable,e,function(t,i){if(a.onPrePointerObservable.hasObservers()&&!t.ignore){if(!t.hasSwiped){if(t.singleClick&&a.onPrePointerObservable.hasSpecificMask(M.a.POINTERTAP)&&s._checkPrePointerObservable(null,e,M.a.POINTERTAP))return;if(t.doubleClick&&a.onPrePointerObservable.hasSpecificMask(M.a.POINTERDOUBLETAP)&&s._checkPrePointerObservable(null,e,M.a.POINTERDOUBLETAP))return}if(s._checkPrePointerObservable(null,e,M.a.POINTERUP))return}s._pointerCaptures[e.pointerId]&&(s._pointerCaptures[e.pointerId]=!1,(a.cameraToUseForPointers||a.activeCamera)&&(a.pointerUpPredicate||(a.pointerUpPredicate=function(e){return e.isPickable&&e.isVisible&&e.isReady()&&e.isEnabled()&&(!a.cameraToUseForPointers||0!==(a.cameraToUseForPointers.layerMask&e.layerMask))}),!s._meshPickProceed&&(O.a&&O.a.HasTriggers||a.onPointerObservable.hasObservers())&&s._initActionManager(null,t),i||(i=s._currentPickResult),s._processPointerUp(i,e,t),s._previousPickResult=s._currentPickResult))}))},this._onKeyDown=function(e){var t=I.a.KEYDOWN;if(a.onPreKeyboardObservable.hasObservers()){var i=new I.c(t,e);if(a.onPreKeyboardObservable.notifyObservers(i,t),i.skipOnPointerObservable)return}if(a.onKeyboardObservable.hasObservers()){i=new I.b(t,e);a.onKeyboardObservable.notifyObservers(i,t)}a.actionManager&&a.actionManager.processTrigger(14,g.CreateNewFromScene(a,e))},this._onKeyUp=function(e){var t=I.a.KEYUP;if(a.onPreKeyboardObservable.hasObservers()){var i=new I.c(t,e);if(a.onPreKeyboardObservable.notifyObservers(i,t),i.skipOnPointerObservable)return}if(a.onKeyboardObservable.hasObservers()){i=new I.b(t,e);a.onKeyboardObservable.notifyObservers(i,t)}a.actionManager&&a.actionManager.processTrigger(15,g.CreateNewFromScene(a,e))};var l=function(){o&&!s._keyboardIsAttached&&(o.addEventListener("keydown",s._onKeyDown,!1),o.addEventListener("keyup",s._onKeyUp,!1),s._keyboardIsAttached=!0)};this._onCanvasFocusObserver=c.onCanvasFocusObservable.add((document.activeElement===o&&l(),l)),this._onCanvasBlurObserver=c.onCanvasBlurObservable.add(function(){o&&(o.removeEventListener("keydown",s._onKeyDown),o.removeEventListener("keyup",s._onKeyUp),s._keyboardIsAttached=!1)}),l();var _=r.b.GetPointerPrefix(c);if(n&&(o.addEventListener(_+"move",this._onPointerMove,!1),this._wheelEventName="onwheel"in document.createElement("div")?"wheel":void 0!==document.onmousewheel?"mousewheel":"DOMMouseScroll",o.addEventListener(this._wheelEventName,this._onPointerMove,!1)),i&&o.addEventListener(_+"down",this._onPointerDown,!1),t){var u=a.getEngine().getHostWindow();u&&u.addEventListener(_+"up",this._onPointerUp,!1)}this._alreadyAttached=!0}},e.prototype.detachControl=function(){var e=this._scene.getEngine(),t=r.b.GetPointerPrefix(e);this._alreadyAttachedTo&&this._alreadyAttached&&(this._alreadyAttachedTo.removeEventListener(t+"move",this._onPointerMove),this._alreadyAttachedTo.removeEventListener(this._wheelEventName,this._onPointerMove),this._alreadyAttachedTo.removeEventListener(t+"down",this._onPointerDown),window.removeEventListener(t+"up",this._onPointerUp),this._onCanvasBlurObserver&&e.onCanvasBlurObservable.remove(this._onCanvasBlurObserver),this._onCanvasFocusObserver&&e.onCanvasFocusObservable.remove(this._onCanvasFocusObserver),this._alreadyAttachedTo.removeEventListener("keydown",this._onKeyDown),this._alreadyAttachedTo.removeEventListener("keyup",this._onKeyUp),this._scene.doNotHandleCursors||(this._alreadyAttachedTo.style.cursor=this._scene.defaultCursor),this._alreadyAttached=!1)},e.prototype.setPointerOverMesh=function(e,t){if(void 0===t&&(t=0),t<0&&(t=0),this._meshUnderPointerId[t]!==e){var i,n=this._meshUnderPointerId[t];n&&(i=n._getActionManagerForTrigger(10))&&i.processTrigger(10,g.CreateNew(n,void 0,{pointerId:t})),this._meshUnderPointerId[t]=e,this._pointerOverMesh=e,(n=this._meshUnderPointerId[t])&&(i=n._getActionManagerForTrigger(9))&&i.processTrigger(9,g.CreateNew(n,void 0,{pointerId:t}))}},e.prototype.getPointerOverMesh=function(){return this._pointerOverMesh},e.DragMovementThreshold=10,e.LongPressDelay=500,e.DoubleClickDelay=300,e.ExclusiveDoubleClickMode=!1,e}(),D=i(941),w=i(244),L=i(248),F=function(){function e(){}return Object.defineProperty(e,"UniqueId",{get:function(){var e=this._UniqueIdCounter;return this._UniqueIdCounter++,e},enumerable:!1,configurable:!0}),e._UniqueIdCounter=0,e}(),N=i(761),B=function(e){function t(i,r){var o=e.call(this)||this;o._inputManager=new P(o),o.cameraToUseForPointers=null,o._isScene=!0,o._blockEntityCollection=!1,o.autoClear=!0,o.autoClearDepthAndStencil=!0,o.clearColor=new w.b(.2,.2,.3,1),o.ambientColor=new w.a(0,0,0),o._environmentIntensity=1,o._forceWireframe=!1,o._skipFrustumClipping=!1,o._forcePointsCloud=!1,o.animationsEnabled=!0,o._animationPropertiesOverride=null,o.useConstantAnimationDeltaTime=!1,o.constantlyUpdateMeshUnderPointer=!1,o.hoverCursor="pointer",o.defaultCursor="",o.doNotHandleCursors=!1,o.preventDefaultOnPointerDown=!0,o.preventDefaultOnPointerUp=!0,o.metadata=null,o.reservedDataStore=null,o.disableOfflineSupportExceptionRules=new Array,o.onDisposeObservable=new s.a,o._onDisposeObserver=null,o.onBeforeRenderObservable=new s.a,o._onBeforeRenderObserver=null,o.onAfterRenderObservable=new s.a,o.onAfterRenderCameraObservable=new s.a,o._onAfterRenderObserver=null,o.onBeforeAnimationsObservable=new s.a,o.onAfterAnimationsObservable=new s.a,o.onBeforeDrawPhaseObservable=new s.a,o.onAfterDrawPhaseObservable=new s.a,o.onReadyObservable=new s.a,o.onBeforeCameraRenderObservable=new s.a,o._onBeforeCameraRenderObserver=null,o.onAfterCameraRenderObservable=new s.a,o._onAfterCameraRenderObserver=null,o.onBeforeActiveMeshesEvaluationObservable=new s.a,o.onAfterActiveMeshesEvaluationObservable=new s.a,o.onBeforeParticlesRenderingObservable=new s.a,o.onAfterParticlesRenderingObservable=new s.a,o.onDataLoadedObservable=new s.a,o.onNewCameraAddedObservable=new s.a,o.onCameraRemovedObservable=new s.a,o.onNewLightAddedObservable=new s.a,o.onLightRemovedObservable=new s.a,o.onNewGeometryAddedObservable=new s.a,o.onGeometryRemovedObservable=new s.a,o.onNewTransformNodeAddedObservable=new s.a,o.onTransformNodeRemovedObservable=new s.a,o.onNewMeshAddedObservable=new s.a,o.onMeshRemovedObservable=new s.a,o.onNewSkeletonAddedObservable=new s.a,o.onSkeletonRemovedObservable=new s.a,o.onNewMaterialAddedObservable=new s.a,o.onNewMultiMaterialAddedObservable=new s.a,o.onMaterialRemovedObservable=new s.a,o.onMultiMaterialRemovedObservable=new s.a,o.onNewTextureAddedObservable=new s.a,o.onTextureRemovedObservable=new s.a,o.onBeforeRenderTargetsRenderObservable=new s.a,o.onAfterRenderTargetsRenderObservable=new s.a,o.onBeforeStepObservable=new s.a,o.onAfterStepObservable=new s.a,o.onActiveCameraChanged=new s.a,o.onBeforeRenderingGroupObservable=new s.a,o.onAfterRenderingGroupObservable=new s.a,o.onMeshImportedObservable=new s.a,o.onAnimationFileImportedObservable=new s.a,o._registeredForLateAnimationBindings=new a.b(256),o.onPrePointerObservable=new s.a,o.onPointerObservable=new s.a,o.onPreKeyboardObservable=new s.a,o.onKeyboardObservable=new s.a,o._useRightHandedSystem=!1,o._timeAccumulator=0,o._currentStepId=0,o._currentInternalStep=0,o._fogEnabled=!0,o._fogMode=t.FOGMODE_NONE,o.fogColor=new w.a(.2,.2,.3),o.fogDensity=.1,o.fogStart=0,o.fogEnd=1e3,o.prePass=!1,o._shadowsEnabled=!0,o._lightsEnabled=!0,o.activeCameras=new Array,o._texturesEnabled=!0,o.physicsEnabled=!0,o.particlesEnabled=!0,o.spritesEnabled=!0,o._skeletonsEnabled=!0,o.lensFlaresEnabled=!0,o.collisionsEnabled=!0,o.gravity=new _.e(0,-9.807,0),o.postProcessesEnabled=!0,o.renderTargetsEnabled=!0,o.dumpNextRenderTargets=!1,o.customRenderTargets=new Array,o.importedMeshesFiles=new Array,o.probesEnabled=!0,o._meshesForIntersections=new a.b(256),o.proceduralTexturesEnabled=!0,o._totalVertices=new D.a,o._activeIndices=new D.a,o._activeParticles=new D.a,o._activeBones=new D.a,o._animationTime=0,o.animationTimeScale=1,o._renderId=0,o._frameId=0,o._executeWhenReadyTimeoutId=-1,o._intermediateRendering=!1,o._viewUpdateFlag=-1,o._projectionUpdateFlag=-1,o._toBeDisposed=new Array(256),o._activeRequests=new Array,o._pendingData=new Array,o._isDisposed=!1,o.dispatchAllSubMeshesOfActiveMeshes=!1,o._activeMeshes=new a.a(256),o._processedMaterials=new a.a(256),o._renderTargets=new a.b(256),o._activeParticleSystems=new a.a(256),o._activeSkeletons=new a.b(32),o._softwareSkinnedMeshes=new a.b(32),o._activeAnimatables=new Array,o._transformMatrix=_.a.Zero(),o.requireLightSorting=!1,o._components=[],o._serializableComponents=[],o._transientComponents=[],o._beforeCameraUpdateStage=C.b.Create(),o._beforeClearStage=C.b.Create(),o._gatherRenderTargetsStage=C.b.Create(),o._gatherActiveCameraRenderTargetsStage=C.b.Create(),o._isReadyForMeshStage=C.b.Create(),o._beforeEvaluateActiveMeshStage=C.b.Create(),o._evaluateSubMeshStage=C.b.Create(),o._preActiveMeshStage=C.b.Create(),o._cameraDrawRenderTargetStage=C.b.Create(),o._beforeCameraDrawStage=C.b.Create(),o._beforeRenderTargetDrawStage=C.b.Create(),o._beforeRenderingGroupDrawStage=C.b.Create(),o._beforeRenderingMeshStage=C.b.Create(),o._afterRenderingMeshStage=C.b.Create(),o._afterRenderingGroupDrawStage=C.b.Create(),o._afterCameraDrawStage=C.b.Create(),o._afterRenderTargetDrawStage=C.b.Create(),o._afterRenderStage=C.b.Create(),o._pointerMoveStage=C.b.Create(),o._pointerDownStage=C.b.Create(),o._pointerUpStage=C.b.Create(),o.geometriesByUniqueId=null,o._defaultMeshCandidates={data:[],length:0},o._defaultSubMeshCandidates={data:[],length:0},o._preventFreeActiveMeshesAndRenderingGroups=!1,o._activeMeshesFrozen=!1,o._skipEvaluateActiveMeshesCompletely=!1,o._allowPostProcessClearColor=!0,o.getDeterministicFrameTime=function(){return o._engine.getTimeStep()},o._blockMaterialDirtyMechanism=!1;var c=Object(n.a)({useGeometryUniqueIdsMap:!0,useMaterialMeshMap:!0,useClonedMeshMap:!0,virtual:!1},r);return o._engine=i||T.a.LastCreatedEngine,c.virtual||(T.a._LastCreatedScene=o,o._engine.scenes.push(o)),o._uid=null,o._renderingManager=new v.a(o),y.a&&(o.postProcessManager=new y.a(o)),E.a.IsWindowObjectExist()&&o.attachControl(),o._createUbo(),p.a&&(o._imageProcessingConfiguration=new p.a),o.setDefaultCandidateProviders(),c.useGeometryUniqueIdsMap&&(o.geometriesByUniqueId={}),o.useMaterialMeshMap=c.useMaterialMeshMap,o.useClonedMeshMap=c.useClonedMeshMap,r&&r.virtual||o._engine.onNewSceneAddedObservable.notifyObservers(o),o}return Object(n.c)(t,e),t.DefaultMaterialFactory=function(e){throw R.a.WarnImport("StandardMaterial")},t.CollisionCoordinatorFactory=function(){throw R.a.WarnImport("DefaultCollisionCoordinator")},Object.defineProperty(t.prototype,"environmentTexture",{get:function(){return this._environmentTexture},set:function(e){this._environmentTexture!==e&&(this._environmentTexture=e,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"environmentIntensity",{get:function(){return this._environmentIntensity},set:function(e){this._environmentIntensity!==e&&(this._environmentIntensity=e,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"imageProcessingConfiguration",{get:function(){return this._imageProcessingConfiguration},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forceWireframe",{get:function(){return this._forceWireframe},set:function(e){this._forceWireframe!==e&&(this._forceWireframe=e,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skipFrustumClipping",{get:function(){return this._skipFrustumClipping},set:function(e){this._skipFrustumClipping!==e&&(this._skipFrustumClipping=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forcePointsCloud",{get:function(){return this._forcePointsCloud},set:function(e){this._forcePointsCloud!==e&&(this._forcePointsCloud=e,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"animationPropertiesOverride",{get:function(){return this._animationPropertiesOverride},set:function(e){this._animationPropertiesOverride=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onDispose",{set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beforeRender",{set:function(e){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),e&&(this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterRender",{set:function(e){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),e&&(this._onAfterRenderObserver=this.onAfterRenderObservable.add(e))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"beforeCameraRender",{set:function(e){this._onBeforeCameraRenderObserver&&this.onBeforeCameraRenderObservable.remove(this._onBeforeCameraRenderObserver),this._onBeforeCameraRenderObserver=this.onBeforeCameraRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"afterCameraRender",{set:function(e){this._onAfterCameraRenderObserver&&this.onAfterCameraRenderObservable.remove(this._onAfterCameraRenderObserver),this._onAfterCameraRenderObserver=this.onAfterCameraRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"unTranslatedPointer",{get:function(){return this._inputManager.unTranslatedPointer},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DragMovementThreshold",{get:function(){return P.DragMovementThreshold},set:function(e){P.DragMovementThreshold=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"LongPressDelay",{get:function(){return P.LongPressDelay},set:function(e){P.LongPressDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"DoubleClickDelay",{get:function(){return P.DoubleClickDelay},set:function(e){P.DoubleClickDelay=e},enumerable:!1,configurable:!0}),Object.defineProperty(t,"ExclusiveDoubleClickMode",{get:function(){return P.ExclusiveDoubleClickMode},set:function(e){P.ExclusiveDoubleClickMode=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useRightHandedSystem",{get:function(){return this._useRightHandedSystem},set:function(e){this._useRightHandedSystem!==e&&(this._useRightHandedSystem=e,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),t.prototype.setStepId=function(e){this._currentStepId=e},t.prototype.getStepId=function(){return this._currentStepId},t.prototype.getInternalStep=function(){return this._currentInternalStep},Object.defineProperty(t.prototype,"fogEnabled",{get:function(){return this._fogEnabled},set:function(e){this._fogEnabled!==e&&(this._fogEnabled=e,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"fogMode",{get:function(){return this._fogMode},set:function(e){this._fogMode!==e&&(this._fogMode=e,this.markAllMaterialsAsDirty(16))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowsEnabled",{get:function(){return this._shadowsEnabled},set:function(e){this._shadowsEnabled!==e&&(this._shadowsEnabled=e,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightsEnabled",{get:function(){return this._lightsEnabled},set:function(e){this._lightsEnabled!==e&&(this._lightsEnabled=e,this.markAllMaterialsAsDirty(2))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"activeCamera",{get:function(){return this._activeCamera},set:function(e){e!==this._activeCamera&&(this._activeCamera=e,this.onActiveCameraChanged.notifyObservers(this))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"defaultMaterial",{get:function(){return this._defaultMaterial||(this._defaultMaterial=t.DefaultMaterialFactory(this)),this._defaultMaterial},set:function(e){this._defaultMaterial=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"texturesEnabled",{get:function(){return this._texturesEnabled},set:function(e){this._texturesEnabled!==e&&(this._texturesEnabled=e,this.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skeletonsEnabled",{get:function(){return this._skeletonsEnabled},set:function(e){this._skeletonsEnabled!==e&&(this._skeletonsEnabled=e,this.markAllMaterialsAsDirty(8))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisionCoordinator",{get:function(){return this._collisionCoordinator||(this._collisionCoordinator=t.CollisionCoordinatorFactory(),this._collisionCoordinator.init(this)),this._collisionCoordinator},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"frustumPlanes",{get:function(){return this._frustumPlanes},enumerable:!1,configurable:!0}),t.prototype._registerTransientComponents=function(){if(this._transientComponents.length>0){for(var e=0,t=this._transientComponents;e<t.length;e++){t[e].register()}this._transientComponents=[]}},t.prototype._addComponent=function(e){this._components.push(e),this._transientComponents.push(e);var t=e;t.addFromContainer&&t.serialize&&this._serializableComponents.push(t)},t.prototype._getComponent=function(e){for(var t=0,i=this._components;t<i.length;t++){var n=i[t];if(n.name===e)return n}return null},t.prototype.getClassName=function(){return"Scene"},t.prototype._getDefaultMeshCandidates=function(){return this._defaultMeshCandidates.data=this.meshes,this._defaultMeshCandidates.length=this.meshes.length,this._defaultMeshCandidates},t.prototype._getDefaultSubMeshCandidates=function(e){return this._defaultSubMeshCandidates.data=e.subMeshes,this._defaultSubMeshCandidates.length=e.subMeshes.length,this._defaultSubMeshCandidates},t.prototype.setDefaultCandidateProviders=function(){this.getActiveMeshCandidates=this._getDefaultMeshCandidates.bind(this),this.getActiveSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this),this.getIntersectingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this),this.getCollidingSubMeshCandidates=this._getDefaultSubMeshCandidates.bind(this)},Object.defineProperty(t.prototype,"meshUnderPointer",{get:function(){return this._inputManager.meshUnderPointer},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointerX",{get:function(){return this._inputManager.pointerX},set:function(e){this._inputManager.pointerX=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"pointerY",{get:function(){return this._inputManager.pointerY},set:function(e){this._inputManager.pointerY=e},enumerable:!1,configurable:!0}),t.prototype.getCachedMaterial=function(){return this._cachedMaterial},t.prototype.getCachedEffect=function(){return this._cachedEffect},t.prototype.getCachedVisibility=function(){return this._cachedVisibility},t.prototype.isCachedMaterialInvalid=function(e,t,i){return void 0===i&&(i=1),this._cachedEffect!==t||this._cachedMaterial!==e||this._cachedVisibility!==i},t.prototype.getEngine=function(){return this._engine},t.prototype.getTotalVertices=function(){return this._totalVertices.current},Object.defineProperty(t.prototype,"totalVerticesPerfCounter",{get:function(){return this._totalVertices},enumerable:!1,configurable:!0}),t.prototype.getActiveIndices=function(){return this._activeIndices.current},Object.defineProperty(t.prototype,"totalActiveIndicesPerfCounter",{get:function(){return this._activeIndices},enumerable:!1,configurable:!0}),t.prototype.getActiveParticles=function(){return this._activeParticles.current},Object.defineProperty(t.prototype,"activeParticlesPerfCounter",{get:function(){return this._activeParticles},enumerable:!1,configurable:!0}),t.prototype.getActiveBones=function(){return this._activeBones.current},Object.defineProperty(t.prototype,"activeBonesPerfCounter",{get:function(){return this._activeBones},enumerable:!1,configurable:!0}),t.prototype.getActiveMeshes=function(){return this._activeMeshes},t.prototype.getAnimationRatio=function(){return void 0!==this._animationRatio?this._animationRatio:1},t.prototype.getRenderId=function(){return this._renderId},t.prototype.getFrameId=function(){return this._frameId},t.prototype.incrementRenderId=function(){this._renderId++},t.prototype._createUbo=function(){this._sceneUbo=new b.a(this._engine,void 0,!0),this._sceneUbo.addUniform("viewProjection",16),this._sceneUbo.addUniform("view",16)},t.prototype.simulatePointerMove=function(e,t){return this._inputManager.simulatePointerMove(e,t),this},t.prototype.simulatePointerDown=function(e,t){return this._inputManager.simulatePointerDown(e,t),this},t.prototype.simulatePointerUp=function(e,t,i){return this._inputManager.simulatePointerUp(e,t,i),this},t.prototype.isPointerCaptured=function(e){return void 0===e&&(e=0),this._inputManager.isPointerCaptured(e)},t.prototype.attachControl=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!0),void 0===i&&(i=!0),this._inputManager.attachControl(e,t,i)},t.prototype.detachControl=function(){this._inputManager.detachControl()},t.prototype.isReady=function(){if(this._isDisposed)return!1;var e,t=this.getEngine();if(!t.areAllEffectsReady())return!1;if(this._pendingData.length>0)return!1;for(e=0;e<this.meshes.length;e++){var i=this.meshes[e];if(i.isEnabled()&&(i.subMeshes&&0!==i.subMeshes.length)){if(!i.isReady(!0))return!1;for(var n=i.hasThinInstances||"InstancedMesh"===i.getClassName()||"InstancedLinesMesh"===i.getClassName()||t.getCaps().instancedArrays&&i.instances.length>0,r=0,o=this._isReadyForMeshStage;r<o.length;r++){if(!o[r].action(i,n))return!1}}}for(e=0;e<this.geometries.length;e++){if(2===this.geometries[e].delayLoadState)return!1}if(this.activeCameras&&this.activeCameras.length>0)for(var s=0,a=this.activeCameras;s<a.length;s++){if(!a[s].isReady(!0))return!1}else if(this.activeCamera&&!this.activeCamera.isReady(!0))return!1;for(var c=0,l=this.particleSystems;c<l.length;c++){if(!l[c].isReady())return!1}return!0},t.prototype.resetCachedMaterial=function(){this._cachedMaterial=null,this._cachedEffect=null,this._cachedVisibility=null},t.prototype.registerBeforeRender=function(e){this.onBeforeRenderObservable.add(e)},t.prototype.unregisterBeforeRender=function(e){this.onBeforeRenderObservable.removeCallback(e)},t.prototype.registerAfterRender=function(e){this.onAfterRenderObservable.add(e)},t.prototype.unregisterAfterRender=function(e){this.onAfterRenderObservable.removeCallback(e)},t.prototype._executeOnceBeforeRender=function(e){var t=this;this.registerBeforeRender(function i(){e(),setTimeout(function(){t.unregisterBeforeRender(i)})})},t.prototype.executeOnceBeforeRender=function(e,t){var i=this;void 0!==t?setTimeout(function(){i._executeOnceBeforeRender(e)},t):this._executeOnceBeforeRender(e)},t.prototype._addPendingData=function(e){this._pendingData.push(e)},t.prototype._removePendingData=function(e){var t=this.isLoading,i=this._pendingData.indexOf(e);-1!==i&&this._pendingData.splice(i,1),t&&!this.isLoading&&this.onDataLoadedObservable.notifyObservers(this)},t.prototype.getWaitingItemsCount=function(){return this._pendingData.length},Object.defineProperty(t.prototype,"isLoading",{get:function(){return this._pendingData.length>0},enumerable:!1,configurable:!0}),t.prototype.executeWhenReady=function(e){var t=this;this.onReadyObservable.add(e),-1===this._executeWhenReadyTimeoutId&&(this._executeWhenReadyTimeoutId=setTimeout(function(){t._checkIsReady()},150))},t.prototype.whenReadyAsync=function(){var e=this;return new Promise(function(t){e.executeWhenReady(function(){t()})})},t.prototype._checkIsReady=function(){var e=this;return this._registerTransientComponents(),this.isReady()?(this.onReadyObservable.notifyObservers(this),this.onReadyObservable.clear(),void(this._executeWhenReadyTimeoutId=-1)):this._isDisposed?(this.onReadyObservable.clear(),void(this._executeWhenReadyTimeoutId=-1)):void(this._executeWhenReadyTimeoutId=setTimeout(function(){e._checkIsReady()},150))},Object.defineProperty(t.prototype,"animatables",{get:function(){return this._activeAnimatables},enumerable:!1,configurable:!0}),t.prototype.resetLastAnimationTimeFrame=function(){this._animationTimeLast=o.a.Now},t.prototype.getViewMatrix=function(){return this._viewMatrix},t.prototype.getProjectionMatrix=function(){return this._projectionMatrix},t.prototype.getTransformMatrix=function(){return this._transformMatrix},t.prototype.setTransformMatrix=function(e,t,i,n){this._viewUpdateFlag===e.updateFlag&&this._projectionUpdateFlag===t.updateFlag||(this._viewUpdateFlag=e.updateFlag,this._projectionUpdateFlag=t.updateFlag,this._viewMatrix=e,this._projectionMatrix=t,this._viewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix),this._frustumPlanes?L.a.GetPlanesToRef(this._transformMatrix,this._frustumPlanes):this._frustumPlanes=L.a.GetPlanes(this._transformMatrix),this._multiviewSceneUbo&&this._multiviewSceneUbo.useUbo?this._updateMultiviewUbo(i,n):this._sceneUbo.useUbo&&(this._sceneUbo.updateMatrix("viewProjection",this._transformMatrix),this._sceneUbo.updateMatrix("view",this._viewMatrix),this._sceneUbo.update()))},t.prototype.getSceneUniformBuffer=function(){return this._multiviewSceneUbo?this._multiviewSceneUbo:this._sceneUbo},t.prototype.getUniqueId=function(){return F.UniqueId},t.prototype.addMesh=function(e,t){var i=this;void 0===t&&(t=!1),this._blockEntityCollection||(this.meshes.push(e),e._resyncLightSources(),e.parent||e._addToSceneRootNodes(),this.onNewMeshAddedObservable.notifyObservers(e),t&&e.getChildMeshes().forEach(function(e){i.addMesh(e)}))},t.prototype.removeMesh=function(e,t){var i=this;void 0===t&&(t=!1);var n=this.meshes.indexOf(e);return-1!==n&&(this.meshes[n]=this.meshes[this.meshes.length-1],this.meshes.pop(),e.parent||e._removeFromSceneRootNodes()),this.onMeshRemovedObservable.notifyObservers(e),t&&e.getChildMeshes().forEach(function(e){i.removeMesh(e)}),n},t.prototype.addTransformNode=function(e){this._blockEntityCollection||(e._indexInSceneTransformNodesArray=this.transformNodes.length,this.transformNodes.push(e),e.parent||e._addToSceneRootNodes(),this.onNewTransformNodeAddedObservable.notifyObservers(e))},t.prototype.removeTransformNode=function(e){var t=e._indexInSceneTransformNodesArray;if(-1!==t){if(t!==this.transformNodes.length-1){var i=this.transformNodes[this.transformNodes.length-1];this.transformNodes[t]=i,i._indexInSceneTransformNodesArray=t}e._indexInSceneTransformNodesArray=-1,this.transformNodes.pop(),e.parent||e._removeFromSceneRootNodes()}return this.onTransformNodeRemovedObservable.notifyObservers(e),t},t.prototype.removeSkeleton=function(e){var t=this.skeletons.indexOf(e);return-1!==t&&(this.skeletons.splice(t,1),this.onSkeletonRemovedObservable.notifyObservers(e)),t},t.prototype.removeMorphTargetManager=function(e){var t=this.morphTargetManagers.indexOf(e);return-1!==t&&this.morphTargetManagers.splice(t,1),t},t.prototype.removeLight=function(e){var t=this.lights.indexOf(e);if(-1!==t){for(var i=0,n=this.meshes;i<n.length;i++){n[i]._removeLightSource(e,!1)}this.lights.splice(t,1),this.sortLightsByPriority(),e.parent||e._removeFromSceneRootNodes()}return this.onLightRemovedObservable.notifyObservers(e),t},t.prototype.removeCamera=function(e){var t=this.cameras.indexOf(e);if(-1!==t&&(this.cameras.splice(t,1),e.parent||e._removeFromSceneRootNodes()),this.activeCameras){var i=this.activeCameras.indexOf(e);-1!==i&&this.activeCameras.splice(i,1)}return this.activeCamera===e&&(this.cameras.length>0?this.activeCamera=this.cameras[0]:this.activeCamera=null),this.onCameraRemovedObservable.notifyObservers(e),t},t.prototype.removeParticleSystem=function(e){var t=this.particleSystems.indexOf(e);return-1!==t&&this.particleSystems.splice(t,1),t},t.prototype.removeAnimation=function(e){var t=this.animations.indexOf(e);return-1!==t&&this.animations.splice(t,1),t},t.prototype.stopAnimation=function(e,t,i){},t.prototype.removeAnimationGroup=function(e){var t=this.animationGroups.indexOf(e);return-1!==t&&this.animationGroups.splice(t,1),t},t.prototype.removeMultiMaterial=function(e){var t=this.multiMaterials.indexOf(e);return-1!==t&&this.multiMaterials.splice(t,1),this.onMultiMaterialRemovedObservable.notifyObservers(e),t},t.prototype.removeMaterial=function(e){var t=e._indexInSceneMaterialArray;if(-1!==t&&t<this.materials.length){if(t!==this.materials.length-1){var i=this.materials[this.materials.length-1];this.materials[t]=i,i._indexInSceneMaterialArray=t}e._indexInSceneMaterialArray=-1,this.materials.pop()}return this.onMaterialRemovedObservable.notifyObservers(e),t},t.prototype.removeActionManager=function(e){var t=this.actionManagers.indexOf(e);return-1!==t&&this.actionManagers.splice(t,1),t},t.prototype.removeTexture=function(e){var t=this.textures.indexOf(e);return-1!==t&&this.textures.splice(t,1),this.onTextureRemovedObservable.notifyObservers(e),t},t.prototype.addLight=function(e){if(!this._blockEntityCollection){this.lights.push(e),this.sortLightsByPriority(),e.parent||e._addToSceneRootNodes();for(var t=0,i=this.meshes;t<i.length;t++){var n=i[t];-1===n.lightSources.indexOf(e)&&(n.lightSources.push(e),n._resyncLightSources())}this.onNewLightAddedObservable.notifyObservers(e)}},t.prototype.sortLightsByPriority=function(){this.requireLightSorting&&this.lights.sort(m.a.CompareLightsPriority)},t.prototype.addCamera=function(e){this._blockEntityCollection||(this.cameras.push(e),this.onNewCameraAddedObservable.notifyObservers(e),e.parent||e._addToSceneRootNodes())},t.prototype.addSkeleton=function(e){this._blockEntityCollection||(this.skeletons.push(e),this.onNewSkeletonAddedObservable.notifyObservers(e))},t.prototype.addParticleSystem=function(e){this._blockEntityCollection||this.particleSystems.push(e)},t.prototype.addAnimation=function(e){this._blockEntityCollection||this.animations.push(e)},t.prototype.addAnimationGroup=function(e){this._blockEntityCollection||this.animationGroups.push(e)},t.prototype.addMultiMaterial=function(e){this._blockEntityCollection||(this.multiMaterials.push(e),this.onNewMultiMaterialAddedObservable.notifyObservers(e))},t.prototype.addMaterial=function(e){this._blockEntityCollection||(e._indexInSceneMaterialArray=this.materials.length,this.materials.push(e),this.onNewMaterialAddedObservable.notifyObservers(e))},t.prototype.addMorphTargetManager=function(e){this._blockEntityCollection||this.morphTargetManagers.push(e)},t.prototype.addGeometry=function(e){this._blockEntityCollection||(this.geometriesByUniqueId&&(this.geometriesByUniqueId[e.uniqueId]=this.geometries.length),this.geometries.push(e))},t.prototype.addActionManager=function(e){this.actionManagers.push(e)},t.prototype.addTexture=function(e){this._blockEntityCollection||(this.textures.push(e),this.onNewTextureAddedObservable.notifyObservers(e))},t.prototype.switchActiveCamera=function(e,t){void 0===t&&(t=!0),this._engine.getInputElement()&&(this.activeCamera&&this.activeCamera.detachControl(),this.activeCamera=e,t&&e.attachControl())},t.prototype.setActiveCameraByID=function(e){var t=this.getCameraByID(e);return t?(this.activeCamera=t,t):null},t.prototype.setActiveCameraByName=function(e){var t=this.getCameraByName(e);return t?(this.activeCamera=t,t):null},t.prototype.getAnimationGroupByName=function(e){for(var t=0;t<this.animationGroups.length;t++)if(this.animationGroups[t].name===e)return this.animationGroups[t];return null},t.prototype.getMaterialByUniqueID=function(e){for(var t=0;t<this.materials.length;t++)if(this.materials[t].uniqueId===e)return this.materials[t];return null},t.prototype.getMaterialByID=function(e){for(var t=0;t<this.materials.length;t++)if(this.materials[t].id===e)return this.materials[t];return null},t.prototype.getLastMaterialByID=function(e){for(var t=this.materials.length-1;t>=0;t--)if(this.materials[t].id===e)return this.materials[t];return null},t.prototype.getMaterialByName=function(e){for(var t=0;t<this.materials.length;t++)if(this.materials[t].name===e)return this.materials[t];return null},t.prototype.getTextureByUniqueID=function(e){for(var t=0;t<this.textures.length;t++)if(this.textures[t].uniqueId===e)return this.textures[t];return null},t.prototype.getCameraByID=function(e){for(var t=0;t<this.cameras.length;t++)if(this.cameras[t].id===e)return this.cameras[t];return null},t.prototype.getCameraByUniqueID=function(e){for(var t=0;t<this.cameras.length;t++)if(this.cameras[t].uniqueId===e)return this.cameras[t];return null},t.prototype.getCameraByName=function(e){for(var t=0;t<this.cameras.length;t++)if(this.cameras[t].name===e)return this.cameras[t];return null},t.prototype.getBoneByID=function(e){for(var t=0;t<this.skeletons.length;t++)for(var i=this.skeletons[t],n=0;n<i.bones.length;n++)if(i.bones[n].id===e)return i.bones[n];return null},t.prototype.getBoneByName=function(e){for(var t=0;t<this.skeletons.length;t++)for(var i=this.skeletons[t],n=0;n<i.bones.length;n++)if(i.bones[n].name===e)return i.bones[n];return null},t.prototype.getLightByName=function(e){for(var t=0;t<this.lights.length;t++)if(this.lights[t].name===e)return this.lights[t];return null},t.prototype.getLightByID=function(e){for(var t=0;t<this.lights.length;t++)if(this.lights[t].id===e)return this.lights[t];return null},t.prototype.getLightByUniqueID=function(e){for(var t=0;t<this.lights.length;t++)if(this.lights[t].uniqueId===e)return this.lights[t];return null},t.prototype.getParticleSystemByID=function(e){for(var t=0;t<this.particleSystems.length;t++)if(this.particleSystems[t].id===e)return this.particleSystems[t];return null},t.prototype.getGeometryByID=function(e){for(var t=0;t<this.geometries.length;t++)if(this.geometries[t].id===e)return this.geometries[t];return null},t.prototype._getGeometryByUniqueID=function(e){if(this.geometriesByUniqueId){var t=this.geometriesByUniqueId[e];if(void 0!==t)return this.geometries[t]}else for(var i=0;i<this.geometries.length;i++)if(this.geometries[i].uniqueId===e)return this.geometries[i];return null},t.prototype.pushGeometry=function(e,t){return!(!t&&this._getGeometryByUniqueID(e.uniqueId))&&(this.addGeometry(e),this.onNewGeometryAddedObservable.notifyObservers(e),!0)},t.prototype.removeGeometry=function(e){var t;if(this.geometriesByUniqueId){if(void 0===(t=this.geometriesByUniqueId[e.uniqueId]))return!1}else if((t=this.geometries.indexOf(e))<0)return!1;if(t!==this.geometries.length-1){var i=this.geometries[this.geometries.length-1];i&&(this.geometries[t]=i,this.geometriesByUniqueId&&(this.geometriesByUniqueId[i.uniqueId]=t,this.geometriesByUniqueId[e.uniqueId]=void 0))}return this.geometries.pop(),this.onGeometryRemovedObservable.notifyObservers(e),!0},t.prototype.getGeometries=function(){return this.geometries},t.prototype.getMeshByID=function(e){for(var t=0;t<this.meshes.length;t++)if(this.meshes[t].id===e)return this.meshes[t];return null},t.prototype.getMeshesByID=function(e){return this.meshes.filter(function(t){return t.id===e})},t.prototype.getTransformNodeByID=function(e){for(var t=0;t<this.transformNodes.length;t++)if(this.transformNodes[t].id===e)return this.transformNodes[t];return null},t.prototype.getTransformNodeByUniqueID=function(e){for(var t=0;t<this.transformNodes.length;t++)if(this.transformNodes[t].uniqueId===e)return this.transformNodes[t];return null},t.prototype.getTransformNodesByID=function(e){return this.transformNodes.filter(function(t){return t.id===e})},t.prototype.getMeshByUniqueID=function(e){for(var t=0;t<this.meshes.length;t++)if(this.meshes[t].uniqueId===e)return this.meshes[t];return null},t.prototype.getLastMeshByID=function(e){for(var t=this.meshes.length-1;t>=0;t--)if(this.meshes[t].id===e)return this.meshes[t];return null},t.prototype.getLastEntryByID=function(e){var t;for(t=this.meshes.length-1;t>=0;t--)if(this.meshes[t].id===e)return this.meshes[t];for(t=this.transformNodes.length-1;t>=0;t--)if(this.transformNodes[t].id===e)return this.transformNodes[t];for(t=this.cameras.length-1;t>=0;t--)if(this.cameras[t].id===e)return this.cameras[t];for(t=this.lights.length-1;t>=0;t--)if(this.lights[t].id===e)return this.lights[t];return null},t.prototype.getNodeByID=function(e){var t=this.getMeshByID(e);if(t)return t;var i=this.getTransformNodeByID(e);if(i)return i;var n=this.getLightByID(e);if(n)return n;var r=this.getCameraByID(e);if(r)return r;var o=this.getBoneByID(e);return o||null},t.prototype.getNodeByName=function(e){var t=this.getMeshByName(e);if(t)return t;var i=this.getTransformNodeByName(e);if(i)return i;var n=this.getLightByName(e);if(n)return n;var r=this.getCameraByName(e);if(r)return r;var o=this.getBoneByName(e);return o||null},t.prototype.getMeshByName=function(e){for(var t=0;t<this.meshes.length;t++)if(this.meshes[t].name===e)return this.meshes[t];return null},t.prototype.getTransformNodeByName=function(e){for(var t=0;t<this.transformNodes.length;t++)if(this.transformNodes[t].name===e)return this.transformNodes[t];return null},t.prototype.getLastSkeletonByID=function(e){for(var t=this.skeletons.length-1;t>=0;t--)if(this.skeletons[t].id===e)return this.skeletons[t];return null},t.prototype.getSkeletonByUniqueId=function(e){for(var t=0;t<this.skeletons.length;t++)if(this.skeletons[t].uniqueId===e)return this.skeletons[t];return null},t.prototype.getSkeletonById=function(e){for(var t=0;t<this.skeletons.length;t++)if(this.skeletons[t].id===e)return this.skeletons[t];return null},t.prototype.getSkeletonByName=function(e){for(var t=0;t<this.skeletons.length;t++)if(this.skeletons[t].name===e)return this.skeletons[t];return null},t.prototype.getMorphTargetManagerById=function(e){for(var t=0;t<this.morphTargetManagers.length;t++)if(this.morphTargetManagers[t].uniqueId===e)return this.morphTargetManagers[t];return null},t.prototype.getMorphTargetById=function(e){for(var t=0;t<this.morphTargetManagers.length;++t)for(var i=this.morphTargetManagers[t],n=0;n<i.numTargets;++n){var r=i.getTarget(n);if(r.id===e)return r}return null},t.prototype.getMorphTargetByName=function(e){for(var t=0;t<this.morphTargetManagers.length;++t)for(var i=this.morphTargetManagers[t],n=0;n<i.numTargets;++n){var r=i.getTarget(n);if(r.name===e)return r}return null},t.prototype.getPostProcessByName=function(e){for(var t=0;t<this.postProcesses.length;++t){var i=this.postProcesses[t];if(i.name===e)return i}return null},t.prototype.isActiveMesh=function(e){return-1!==this._activeMeshes.indexOf(e)},Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid||(this._uid=r.b.RandomId()),this._uid},enumerable:!1,configurable:!0}),t.prototype.addExternalData=function(e,t){return this._externalData||(this._externalData=new c),this._externalData.add(e,t)},t.prototype.getExternalData=function(e){return this._externalData?this._externalData.get(e):null},t.prototype.getOrAddExternalDataWithFactory=function(e,t){return this._externalData||(this._externalData=new c),this._externalData.getOrAddWithFactory(e,t)},t.prototype.removeExternalData=function(e){return this._externalData.remove(e)},t.prototype._evaluateSubMesh=function(e,t,i){if(i.hasInstances||i.isAnInstance||this.dispatchAllSubMeshesOfActiveMeshes||this._skipFrustumClipping||t.alwaysSelectAsActiveMesh||1===t.subMeshes.length||e.isInFrustum(this._frustumPlanes)){for(var n=0,r=this._evaluateSubMeshStage;n<r.length;n++){r[n].action(t,e)}var o=e.getMaterial();null!==o&&void 0!==o&&(o.hasRenderTargetTextures&&null!=o.getRenderTargetTextures&&-1===this._processedMaterials.indexOf(o)&&(this._processedMaterials.push(o),this._renderTargets.concatWithNoDuplicate(o.getRenderTargetTextures())),this._renderingManager.dispatch(e,t,o))}},t.prototype.freeProcessedMaterials=function(){this._processedMaterials.dispose()},Object.defineProperty(t.prototype,"blockfreeActiveMeshesAndRenderingGroups",{get:function(){return this._preventFreeActiveMeshesAndRenderingGroups},set:function(e){this._preventFreeActiveMeshesAndRenderingGroups!==e&&(e&&(this.freeActiveMeshes(),this.freeRenderingGroups()),this._preventFreeActiveMeshesAndRenderingGroups=e)},enumerable:!1,configurable:!0}),t.prototype.freeActiveMeshes=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._activeMeshes.dispose(),this.activeCamera&&this.activeCamera._activeMeshes&&this.activeCamera._activeMeshes.dispose(),this.activeCameras))for(var e=0;e<this.activeCameras.length;e++){var t=this.activeCameras[e];t&&t._activeMeshes&&t._activeMeshes.dispose()}},t.prototype.freeRenderingGroups=function(){if(!this.blockfreeActiveMeshesAndRenderingGroups&&(this._renderingManager&&this._renderingManager.freeRenderingGroups(),this.textures))for(var e=0;e<this.textures.length;e++){var t=this.textures[e];t&&t.renderList&&t.freeRenderingGroups()}},t.prototype._isInIntermediateRendering=function(){return this._intermediateRendering},t.prototype.freezeActiveMeshes=function(e,t,i){var n=this;return void 0===e&&(e=!1),this.executeWhenReady(function(){if(n.activeCamera){n._frustumPlanes||n.setTransformMatrix(n.activeCamera.getViewMatrix(),n.activeCamera.getProjectionMatrix()),n._evaluateActiveMeshes(),n._activeMeshesFrozen=!0,n._skipEvaluateActiveMeshesCompletely=e;for(var r=0;r<n._activeMeshes.length;r++)n._activeMeshes.data[r]._freeze();t&&t()}else i&&i("No active camera found")}),this},t.prototype.unfreezeActiveMeshes=function(){for(var e=0;e<this.meshes.length;e++){var t=this.meshes[e];t._internalAbstractMeshDataInfo&&(t._internalAbstractMeshDataInfo._isActive=!1)}for(e=0;e<this._activeMeshes.length;e++)this._activeMeshes.data[e]._unFreeze();return this._activeMeshesFrozen=!1,this},t.prototype._evaluateActiveMeshes=function(){if(this._activeMeshesFrozen&&this._activeMeshes.length){if(!this._skipEvaluateActiveMeshesCompletely)for(var e=this._activeMeshes.length,t=0;t<e;t++){(a=this._activeMeshes.data[t]).computeWorldMatrix()}if(this._activeParticleSystems){var i=this._activeParticleSystems.length;for(t=0;t<i;t++)this._activeParticleSystems.data[t].animate()}}else if(this.activeCamera){this.onBeforeActiveMeshesEvaluationObservable.notifyObservers(this),this.activeCamera._activeMeshes.reset(),this._activeMeshes.reset(),this._renderingManager.reset(),this._processedMaterials.reset(),this._activeParticleSystems.reset(),this._activeSkeletons.reset(),this._softwareSkinnedMeshes.reset();for(var n=0,r=this._beforeEvaluateActiveMeshStage;n<r.length;n++){r[n].action()}var o=this.getActiveMeshCandidates(),s=o.length;for(t=0;t<s;t++){var a;if((a=o.data[t])._internalAbstractMeshDataInfo._currentLODIsUpToDate=!1,!a.isBlocked&&(this._totalVertices.addCount(a.getTotalVertices(),!1),a.isReady()&&a.isEnabled()&&0!==a.scaling.lengthSquared())){a.computeWorldMatrix(),a.actionManager&&a.actionManager.hasSpecificTriggers2(12,13)&&this._meshesForIntersections.pushNoDuplicate(a);var c=this.customLODSelector?this.customLODSelector(a,this.activeCamera):a.getLOD(this.activeCamera);if(a._internalAbstractMeshDataInfo._currentLOD=c,a._internalAbstractMeshDataInfo._currentLODIsUpToDate=!0,void 0!==c&&null!==c&&(c!==a&&c.billboardMode!==u.a.BILLBOARDMODE_NONE&&c.computeWorldMatrix(),a._preActivate(),a.isVisible&&a.visibility>0&&0!==(a.layerMask&this.activeCamera.layerMask)&&(this._skipFrustumClipping||a.alwaysSelectAsActiveMesh||a.isInFrustum(this._frustumPlanes)))){this._activeMeshes.push(a),this.activeCamera._activeMeshes.push(a),c!==a&&c._activate(this._renderId,!1);for(var l=0,_=this._preActiveMeshStage;l<_.length;l++){_[l].action(a)}a._activate(this._renderId,!1)&&(a.isAnInstance?a._internalAbstractMeshDataInfo._actAsRegularMesh&&(c=a):c._internalAbstractMeshDataInfo._onlyForInstances=!1,c._internalAbstractMeshDataInfo._isActive=!0,this._activeMesh(a,c)),a._postActivate()}}}if(this.onAfterActiveMeshesEvaluationObservable.notifyObservers(this),this.particlesEnabled){this.onBeforeParticlesRenderingObservable.notifyObservers(this);for(var f=0;f<this.particleSystems.length;f++){var d=this.particleSystems[f];if(d.isStarted()&&d.emitter){var h=d.emitter;h.position&&!h.isEnabled()||(this._activeParticleSystems.push(d),d.animate(),this._renderingManager.dispatchParticles(d))}}this.onAfterParticlesRenderingObservable.notifyObservers(this)}}},t.prototype._activeMesh=function(e,t){if(this._skeletonsEnabled&&null!==t.skeleton&&void 0!==t.skeleton&&(this._activeSkeletons.pushNoDuplicate(t.skeleton)&&t.skeleton.prepare(),t.computeBonesUsingShaders||this._softwareSkinnedMeshes.pushNoDuplicate(t)),void 0!==t&&null!==t&&void 0!==t.subMeshes&&null!==t.subMeshes&&t.subMeshes.length>0)for(var i=this.getActiveSubMeshCandidates(t),n=i.length,r=0;r<n;r++){var o=i.data[r];this._evaluateSubMesh(o,t,e)}},t.prototype.updateTransformMatrix=function(e){this.activeCamera&&this.setTransformMatrix(this.activeCamera.getViewMatrix(),this.activeCamera.getProjectionMatrix(e))},t.prototype._bindFrameBuffer=function(){if(this.activeCamera&&this.activeCamera._multiviewTexture)this.activeCamera._multiviewTexture._bindFrameBuffer();else if(this.activeCamera&&this.activeCamera.outputRenderTarget){if(this.getEngine().getCaps().multiview&&this.activeCamera.outputRenderTarget&&this.activeCamera.outputRenderTarget.getViewCount()>1)this.activeCamera.outputRenderTarget._bindFrameBuffer();else{var e=this.activeCamera.outputRenderTarget.getInternalTexture();e?this.getEngine().bindFramebuffer(e):S.a.Error("Camera contains invalid customDefaultRenderTarget")}}else this.getEngine().restoreDefaultFramebuffer()},t.prototype._renderForCamera=function(e,t){if(!e||!e._skipRendering){var i=this._engine;if(this._activeCamera=e,!this.activeCamera)throw new Error("Active camera not set");i.setViewport(this.activeCamera.viewport),this.resetCachedMaterial(),this._renderId++,this.getEngine().getCaps().multiview&&e.outputRenderTarget&&e.outputRenderTarget.getViewCount()>1?this.setTransformMatrix(e._rigCameras[0].getViewMatrix(),e._rigCameras[0].getProjectionMatrix(),e._rigCameras[1].getViewMatrix(),e._rigCameras[1].getProjectionMatrix()):this.updateTransformMatrix(),this.onBeforeCameraRenderObservable.notifyObservers(this.activeCamera),this._evaluateActiveMeshes();for(var n=0;n<this._softwareSkinnedMeshes.length;n++){var o=this._softwareSkinnedMeshes.data[n];o.applySkeleton(o.skeleton)}this.onBeforeRenderTargetsRenderObservable.notifyObservers(this),e.customRenderTargets&&e.customRenderTargets.length>0&&this._renderTargets.concatWithNoDuplicate(e.customRenderTargets),t&&t.customRenderTargets&&t.customRenderTargets.length>0&&this._renderTargets.concatWithNoDuplicate(t.customRenderTargets);for(var s=0,a=this._gatherActiveCameraRenderTargetsStage;s<a.length;s++){a[s].action(this._renderTargets)}var c=!1;if(this.renderTargetsEnabled){if(this._intermediateRendering=!0,this._renderTargets.length>0){r.b.StartPerformanceCounter("Render targets",this._renderTargets.length>0);for(var l=0;l<this._renderTargets.length;l++){var _=this._renderTargets.data[l];if(_._shouldRender()){this._renderId++;var u=_.activeCamera&&_.activeCamera!==this.activeCamera;_.render(u,this.dumpNextRenderTargets),c=!0}}r.b.EndPerformanceCounter("Render targets",this._renderTargets.length>0),this._renderId++}for(var f=0,d=this._cameraDrawRenderTargetStage;f<d.length;f++){c=d[f].action(this.activeCamera)||c}this._intermediateRendering=!1,this.activeCamera&&this.activeCamera.outputRenderTarget&&(c=!0)}c&&!this.prePass&&this._bindFrameBuffer(),this.onAfterRenderTargetsRenderObservable.notifyObservers(this),!this.postProcessManager||e._multiviewTexture||this.prePass||this.postProcessManager._prepareFrame();for(var h=0,p=this._beforeCameraDrawStage;h<p.length;h++){p[h].action(this.activeCamera)}this.onBeforeDrawPhaseObservable.notifyObservers(this),this._renderingManager.render(null,null,!0,!0),this.onAfterDrawPhaseObservable.notifyObservers(this);for(var b=0,m=this._afterCameraDrawStage;b<m.length;b++){m[b].action(this.activeCamera)}if(this.postProcessManager&&!e._multiviewTexture){var A=e.outputRenderTarget?e.outputRenderTarget.getInternalTexture():void 0;this.postProcessManager._finalizeFrame(e.isIntermediate,A)}this._renderTargets.reset(),this.onAfterCameraRenderObservable.notifyObservers(this.activeCamera)}},t.prototype._processSubCameras=function(e){if(e.cameraRigMode===d.a.RIG_MODE_NONE||e.outputRenderTarget&&e.outputRenderTarget.getViewCount()>1&&this.getEngine().getCaps().multiview)return this._renderForCamera(e),void this.onAfterRenderCameraObservable.notifyObservers(e);if(e._useMultiviewToSingleView)this._renderMultiviewToSingleView(e);else for(var t=0;t<e._rigCameras.length;t++)this._renderForCamera(e._rigCameras[t],e);this._activeCamera=e,this.setTransformMatrix(this._activeCamera.getViewMatrix(),this._activeCamera.getProjectionMatrix()),this.onAfterRenderCameraObservable.notifyObservers(e)},t.prototype._checkIntersections=function(){for(var e=0;e<this._meshesForIntersections.length;e++){var t=this._meshesForIntersections.data[e];if(t.actionManager)for(var i=0;t.actionManager&&i<t.actionManager.actions.length;i++){var n=t.actionManager.actions[i];if(12===n.trigger||13===n.trigger){var r=n.getTriggerParameter(),o=r instanceof f.a?r:r.mesh,s=o.intersectsMesh(t,r.usePreciseIntersection),a=t._intersectionsInProgress.indexOf(o);s&&-1===a?12===n.trigger?(n._executeCurrent(g.CreateNew(t,void 0,o)),t._intersectionsInProgress.push(o)):13===n.trigger&&t._intersectionsInProgress.push(o):!s&&a>-1&&(13===n.trigger&&n._executeCurrent(g.CreateNew(t,void 0,o)),t.actionManager.hasSpecificTrigger(13,function(e){var t=e instanceof f.a?e:e.mesh;return o===t})&&13!==n.trigger||t._intersectionsInProgress.splice(a,1))}}}},t.prototype._advancePhysicsEngineStep=function(e){},t.prototype._animate=function(){},t.prototype.animate=function(){if(this._engine.isDeterministicLockStep()){var e=Math.max(t.MinDeltaTime,Math.min(this._engine.getDeltaTime(),t.MaxDeltaTime))+this._timeAccumulator,i=this._engine.getTimeStep(),n=1e3/i/1e3,r=0,o=this._engine.getLockstepMaxSteps(),s=Math.floor(e/i);for(s=Math.min(s,o);e>0&&r<s;)this.onBeforeStepObservable.notifyObservers(this),this._animationRatio=i*n,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(i),this.onAfterStepObservable.notifyObservers(this),this._currentStepId++,r++,e-=i;this._timeAccumulator=e<0?0:e}else{e=this.useConstantAnimationDeltaTime?16:Math.max(t.MinDeltaTime,Math.min(this._engine.getDeltaTime(),t.MaxDeltaTime));this._animationRatio=.06*e,this._animate(),this.onAfterAnimationsObservable.notifyObservers(this),this.physicsEnabled&&this._advancePhysicsEngineStep(e)}},t.prototype.render=function(e,t){if(void 0===e&&(e=!0),void 0===t&&(t=!1),!this.isDisposed){this.onReadyObservable.hasObservers()&&-1===this._executeWhenReadyTimeoutId&&this._checkIsReady(),this._frameId++,this._registerTransientComponents(),this._activeParticles.fetchNewFrame(),this._totalVertices.fetchNewFrame(),this._activeIndices.fetchNewFrame(),this._activeBones.fetchNewFrame(),this._meshesForIntersections.reset(),this.resetCachedMaterial(),this.onBeforeAnimationsObservable.notifyObservers(this),this.actionManager&&this.actionManager.processTrigger(11),t||this.animate();for(var i=0,n=this._beforeCameraUpdateStage;i<n.length;i++){n[i].action()}if(e)if(this.activeCameras&&this.activeCameras.length>0)for(var o=0;o<this.activeCameras.length;o++){var s=this.activeCameras[o];if(s.update(),s.cameraRigMode!==d.a.RIG_MODE_NONE)for(var a=0;a<s._rigCameras.length;a++)s._rigCameras[a].update()}else if(this.activeCamera&&(this.activeCamera.update(),this.activeCamera.cameraRigMode!==d.a.RIG_MODE_NONE))for(a=0;a<this.activeCamera._rigCameras.length;a++)this.activeCamera._rigCameras[a].update();this.onBeforeRenderObservable.notifyObservers(this),this.onBeforeRenderTargetsRenderObservable.notifyObservers(this);var c=this.getEngine(),l=this.activeCamera;if(this.renderTargetsEnabled){r.b.StartPerformanceCounter("Custom render targets",this.customRenderTargets.length>0),this._intermediateRendering=!0;for(var _=0;_<this.customRenderTargets.length;_++){var u=this.customRenderTargets[_];if(u._shouldRender()){if(this._renderId++,this.activeCamera=u.activeCamera||this.activeCamera,!this.activeCamera)throw new Error("Active camera not set");c.setViewport(this.activeCamera.viewport),this.updateTransformMatrix(),u.render(l!==this.activeCamera,this.dumpNextRenderTargets)}}r.b.EndPerformanceCounter("Custom render targets",this.customRenderTargets.length>0),this._intermediateRendering=!1,this._renderId++}this.activeCamera=l,this._activeCamera&&this._activeCamera.cameraRigMode!==d.a.RIG_MODE_CUSTOM&&!this.prePass&&this._bindFrameBuffer(),this.onAfterRenderTargetsRenderObservable.notifyObservers(this);for(var f=0,h=this._beforeClearStage;f<h.length;f++){h[f].action()}!this.autoClearDepthAndStencil&&!this.autoClear||this.prePass||this._engine.clear(this.clearColor,this.autoClear||this.forceWireframe||this.forcePointsCloud,this.autoClearDepthAndStencil,this.autoClearDepthAndStencil);for(var p=0,b=this._gatherRenderTargetsStage;p<b.length;p++){b[p].action(this._renderTargets)}if(this.activeCameras&&this.activeCameras.length>0)for(o=0;o<this.activeCameras.length;o++)o>0&&this._engine.clear(null,!1,!0,!0),this._processSubCameras(this.activeCameras[o]);else{if(!this.activeCamera)throw new Error("No camera defined");this._processSubCameras(this.activeCamera)}this._checkIntersections();for(var m=0,A=this._afterRenderStage;m<A.length;m++){A[m].action()}if(this.afterRender&&this.afterRender(),this.onAfterRenderObservable.notifyObservers(this),this._toBeDisposed.length){for(a=0;a<this._toBeDisposed.length;a++){var g=this._toBeDisposed[a];g&&g.dispose()}this._toBeDisposed=[]}this.dumpNextRenderTargets&&(this.dumpNextRenderTargets=!1),this._activeBones.addCount(0,!0),this._activeIndices.addCount(0,!0),this._activeParticles.addCount(0,!0)}},t.prototype.freezeMaterials=function(){for(var e=0;e<this.materials.length;e++)this.materials[e].freeze()},t.prototype.unfreezeMaterials=function(){for(var e=0;e<this.materials.length;e++)this.materials[e].unfreeze()},t.prototype.dispose=function(){this.beforeRender=null,this.afterRender=null,T.a._LastCreatedScene===this&&(T.a._LastCreatedScene=null),this.skeletons=[],this.morphTargetManagers=[],this._transientComponents=[],this._isReadyForMeshStage.clear(),this._beforeEvaluateActiveMeshStage.clear(),this._evaluateSubMeshStage.clear(),this._preActiveMeshStage.clear(),this._cameraDrawRenderTargetStage.clear(),this._beforeCameraDrawStage.clear(),this._beforeRenderTargetDrawStage.clear(),this._beforeRenderingGroupDrawStage.clear(),this._beforeRenderingMeshStage.clear(),this._afterRenderingMeshStage.clear(),this._afterRenderingGroupDrawStage.clear(),this._afterCameraDrawStage.clear(),this._afterRenderTargetDrawStage.clear(),this._afterRenderStage.clear(),this._beforeCameraUpdateStage.clear(),this._beforeClearStage.clear(),this._gatherRenderTargetsStage.clear(),this._gatherActiveCameraRenderTargetsStage.clear(),this._pointerMoveStage.clear(),this._pointerDownStage.clear(),this._pointerUpStage.clear();for(var e=0,t=this._components;e<t.length;e++){t[e].dispose()}this.importedMeshesFiles=new Array,this.stopAllAnimations&&this.stopAllAnimations(),this.resetCachedMaterial(),this.activeCamera&&(this.activeCamera._activeMeshes.dispose(),this.activeCamera=null),this._activeMeshes.dispose(),this._renderingManager.dispose(),this._processedMaterials.dispose(),this._activeParticleSystems.dispose(),this._activeSkeletons.dispose(),this._softwareSkinnedMeshes.dispose(),this._renderTargets.dispose(),this._registeredForLateAnimationBindings.dispose(),this._meshesForIntersections.dispose(),this._toBeDisposed=[];for(var i=0,n=this._activeRequests;i<n.length;i++){n[i].abort()}var r;if(this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),this.onBeforeRenderObservable.clear(),this.onAfterRenderObservable.clear(),this.onBeforeRenderTargetsRenderObservable.clear(),this.onAfterRenderTargetsRenderObservable.clear(),this.onAfterStepObservable.clear(),this.onBeforeStepObservable.clear(),this.onBeforeActiveMeshesEvaluationObservable.clear(),this.onAfterActiveMeshesEvaluationObservable.clear(),this.onBeforeParticlesRenderingObservable.clear(),this.onAfterParticlesRenderingObservable.clear(),this.onBeforeDrawPhaseObservable.clear(),this.onAfterDrawPhaseObservable.clear(),this.onBeforeAnimationsObservable.clear(),this.onAfterAnimationsObservable.clear(),this.onDataLoadedObservable.clear(),this.onBeforeRenderingGroupObservable.clear(),this.onAfterRenderingGroupObservable.clear(),this.onMeshImportedObservable.clear(),this.onBeforeCameraRenderObservable.clear(),this.onAfterCameraRenderObservable.clear(),this.onReadyObservable.clear(),this.onNewCameraAddedObservable.clear(),this.onCameraRemovedObservable.clear(),this.onNewLightAddedObservable.clear(),this.onLightRemovedObservable.clear(),this.onNewGeometryAddedObservable.clear(),this.onGeometryRemovedObservable.clear(),this.onNewTransformNodeAddedObservable.clear(),this.onTransformNodeRemovedObservable.clear(),this.onNewMeshAddedObservable.clear(),this.onMeshRemovedObservable.clear(),this.onNewSkeletonAddedObservable.clear(),this.onSkeletonRemovedObservable.clear(),this.onNewMaterialAddedObservable.clear(),this.onNewMultiMaterialAddedObservable.clear(),this.onMaterialRemovedObservable.clear(),this.onMultiMaterialRemovedObservable.clear(),this.onNewTextureAddedObservable.clear(),this.onTextureRemovedObservable.clear(),this.onPrePointerObservable.clear(),this.onPointerObservable.clear(),this.onPreKeyboardObservable.clear(),this.onKeyboardObservable.clear(),this.onActiveCameraChanged.clear(),this.detachControl(),this._engine.getInputElement())for(r=0;r<this.cameras.length;r++)this.cameras[r].detachControl();for(;this.animationGroups.length;)this.animationGroups[0].dispose();for(;this.lights.length;)this.lights[0].dispose();for(;this.meshes.length;)this.meshes[0].dispose(!0);for(;this.transformNodes.length;)this.transformNodes[0].dispose(!0);for(;this.cameras.length;)this.cameras[0].dispose();for(this._defaultMaterial&&this._defaultMaterial.dispose();this.multiMaterials.length;)this.multiMaterials[0].dispose();for(;this.materials.length;)this.materials[0].dispose();for(;this.particleSystems.length;)this.particleSystems[0].dispose();for(;this.postProcesses.length;)this.postProcesses[0].dispose();for(;this.textures.length;)this.textures[0].dispose();this._sceneUbo.dispose(),this._multiviewSceneUbo&&this._multiviewSceneUbo.dispose(),this.postProcessManager.dispose(),(r=this._engine.scenes.indexOf(this))>-1&&this._engine.scenes.splice(r,1),this._engine.wipeCaches(!0),this._isDisposed=!0},Object.defineProperty(t.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!1,configurable:!0}),t.prototype.clearCachedVertexData=function(){for(var e=0;e<this.meshes.length;e++){var t=this.meshes[e].geometry;if(t)for(var i in t._indices=[],t._vertexBuffers)t._vertexBuffers.hasOwnProperty(i)&&(t._vertexBuffers[i]._buffer._data=null)}},t.prototype.cleanCachedTextureBuffer=function(){for(var e=0,t=this.textures;e<t.length;e++){var i=t[e];i._buffer&&(i._buffer=null)}},t.prototype.getWorldExtends=function(e){var t=new _.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),i=new _.e(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);return e=e||function(){return!0},this.meshes.filter(e).forEach(function(e){if(e.computeWorldMatrix(!0),e.subMeshes&&0!==e.subMeshes.length&&!e.infiniteDistance){var n=e.getBoundingInfo(),r=n.boundingBox.minimumWorld,o=n.boundingBox.maximumWorld;_.e.CheckExtends(r,t,i),_.e.CheckExtends(o,t,i)}}),{min:t,max:i}},t.prototype.createPickingRay=function(e,t,i,n,r){throw void 0===r&&(r=!1),R.a.WarnImport("Ray")},t.prototype.createPickingRayToRef=function(e,t,i,n,r,o){throw void 0===o&&(o=!1),R.a.WarnImport("Ray")},t.prototype.createPickingRayInCameraSpace=function(e,t,i){throw R.a.WarnImport("Ray")},t.prototype.createPickingRayInCameraSpaceToRef=function(e,t,i,n){throw R.a.WarnImport("Ray")},t.prototype.pick=function(e,t,i,n,r,o){var s=new A.a;return s._pickingUnavailable=!0,s},t.prototype.pickWithBoundingInfo=function(e,t,i,n,r){var o=new A.a;return o._pickingUnavailable=!0,o},t.prototype.pickWithRay=function(e,t,i,n){throw R.a.WarnImport("Ray")},t.prototype.multiPick=function(e,t,i,n,r){throw R.a.WarnImport("Ray")},t.prototype.multiPickWithRay=function(e,t,i){throw R.a.WarnImport("Ray")},t.prototype.setPointerOverMesh=function(e,t){this._inputManager.setPointerOverMesh(e,t)},t.prototype.getPointerOverMesh=function(){return this._inputManager.getPointerOverMesh()},t.prototype._rebuildGeometries=function(){for(var e=0,t=this.geometries;e<t.length;e++){t[e]._rebuild()}for(var i=0,n=this.meshes;i<n.length;i++){n[i]._rebuild()}this.postProcessManager&&this.postProcessManager._rebuild();for(var r=0,o=this._components;r<o.length;r++){o[r].rebuild()}for(var s=0,a=this.particleSystems;s<a.length;s++){a[s].rebuild()}},t.prototype._rebuildTextures=function(){for(var e=0,t=this.textures;e<t.length;e++){t[e]._rebuild()}this.markAllMaterialsAsDirty(1)},t.prototype._getByTags=function(e,t,i){if(void 0===t)return e;var n=[];for(var r in i=i||function(e){},e){var o=e[r];l.a&&l.a.MatchesQuery(o,t)&&(n.push(o),i(o))}return n},t.prototype.getMeshesByTags=function(e,t){return this._getByTags(this.meshes,e,t)},t.prototype.getCamerasByTags=function(e,t){return this._getByTags(this.cameras,e,t)},t.prototype.getLightsByTags=function(e,t){return this._getByTags(this.lights,e,t)},t.prototype.getMaterialByTags=function(e,t){return this._getByTags(this.materials,e,t).concat(this._getByTags(this.multiMaterials,e,t))},t.prototype.getTransformNodesByTags=function(e,t){return this._getByTags(this.transformNodes,e,t)},t.prototype.setRenderingOrder=function(e,t,i,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),this._renderingManager.setRenderingOrder(e,t,i,n)},t.prototype.setRenderingAutoClearDepthStencil=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0),this._renderingManager.setRenderingAutoClearDepthStencil(e,t,i,n)},t.prototype.getAutoClearDepthStencilSetup=function(e){return this._renderingManager.getAutoClearDepthStencilSetup(e)},Object.defineProperty(t.prototype,"blockMaterialDirtyMechanism",{get:function(){return this._blockMaterialDirtyMechanism},set:function(e){this._blockMaterialDirtyMechanism!==e&&(this._blockMaterialDirtyMechanism=e,e||this.markAllMaterialsAsDirty(63))},enumerable:!1,configurable:!0}),t.prototype.markAllMaterialsAsDirty=function(e,t){if(!this._blockMaterialDirtyMechanism)for(var i=0,n=this.materials;i<n.length;i++){var r=n[i];t&&!t(r)||r.markAsDirty(e)}},t.prototype._loadFile=function(e,t,i,n,r,o){var s=this,a=N.a.LoadFile(e,t,i,n?this.offlineProvider:void 0,r,o);return this._activeRequests.push(a),a.onCompleteObservable.add(function(e){s._activeRequests.splice(s._activeRequests.indexOf(e),1)}),a},t.prototype._loadFileAsync=function(e,t,i,n){var r=this;return new Promise(function(o,s){r._loadFile(e,function(e){o(e)},t,i,n,function(e,t){s(t)})})},t.prototype._requestFile=function(e,t,i,n,r,o,s){var a=this,c=N.a.RequestFile(e,t,i,n?this.offlineProvider:void 0,r,o,s);return this._activeRequests.push(c),c.onCompleteObservable.add(function(e){a._activeRequests.splice(a._activeRequests.indexOf(e),1)}),c},t.prototype._requestFileAsync=function(e,t,i,n,r){var o=this;return new Promise(function(s,a){o._requestFile(e,function(e){s(e)},t,i,n,function(e){a(e)},r)})},t.prototype._readFile=function(e,t,i,n,r){var o=this,s=N.a.ReadFile(e,t,i,n,r);return this._activeRequests.push(s),s.onCompleteObservable.add(function(e){o._activeRequests.splice(o._activeRequests.indexOf(e),1)}),s},t.prototype._readFileAsync=function(e,t,i){var n=this;return new Promise(function(r,o){n._readFile(e,function(e){r(e)},t,i,function(e){o(e)})})},t.FOGMODE_NONE=0,t.FOGMODE_EXP=1,t.FOGMODE_EXP2=2,t.FOGMODE_LINEAR=3,t.MinDeltaTime=1,t.MaxDeltaTime=1e3,t}(h.a)},701:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.IsWindowObjectExist=function(){return"undefined"!==typeof window},e.IsNavigatorAvailable=function(){return"undefined"!==typeof navigator},e.IsDocumentAvailable=function(){return"undefined"!==typeof document},e.GetDOMTextContent=function(e){for(var t="",i=e.firstChild;i;)3===i.nodeType&&(t+=i.textContent),i=i.nextSibling;return t},e}()},702:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.EndsWith=function(e,t){return-1!==e.indexOf(t,e.length-t.length)},e.StartsWith=function(e,t){return!!e&&0===e.indexOf(t)},e.Decode=function(e){if("undefined"!==typeof TextDecoder)return(new TextDecoder).decode(e);for(var t="",i=0;i<e.byteLength;i++)t+=String.fromCharCode(e[i]);return t},e.EncodeArrayBufferToBase64=function(e){for(var t,i,n,r,o,s,a,c="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",l="",_=0,u=ArrayBuffer.isView(e)?new Uint8Array(e.buffer,e.byteOffset,e.byteLength):new Uint8Array(e);_<u.length;)r=(t=u[_++])>>2,o=(3&t)<<4|(i=_<u.length?u[_++]:Number.NaN)>>4,s=(15&i)<<2|(n=_<u.length?u[_++]:Number.NaN)>>6,a=63&n,isNaN(i)?s=a=64:isNaN(n)&&(a=64),l+=c.charAt(r)+c.charAt(o)+c.charAt(s)+c.charAt(a);return l},e.PadNumber=function(e,t){for(var i=String(e);i.length<t;)i="0"+i;return i},e}()},703:function(e,t,i){"use strict";i.d(t,"b",function(){return n}),i.d(t,"a",function(){return a});var n,r=i(650),o=i(935),s=i(667);!function(e){e[e.Unknown=0]="Unknown",e[e.Url=1]="Url",e[e.Temp=2]="Temp",e[e.Raw=3]="Raw",e[e.Dynamic=4]="Dynamic",e[e.RenderTarget=5]="RenderTarget",e[e.MultiRenderTarget=6]="MultiRenderTarget",e[e.Cube=7]="Cube",e[e.CubeRaw=8]="CubeRaw",e[e.CubePrefiltered=9]="CubePrefiltered",e[e.Raw3D=10]="Raw3D",e[e.Raw2DArray=11]="Raw2DArray",e[e.Depth=12]="Depth",e[e.CubeRawRGBD=13]="CubeRawRGBD"}(n||(n={}));var a=function(){function e(e,t,i){void 0===i&&(i=!1),this.isReady=!1,this.isCube=!1,this.is3D=!1,this.is2DArray=!1,this.isMultiview=!1,this.url="",this.samplingMode=-1,this.generateMipMaps=!1,this.samples=0,this.type=-1,this.format=-1,this.onLoadedObservable=new r.a,this.width=0,this.height=0,this.depth=0,this.baseWidth=0,this.baseHeight=0,this.baseDepth=0,this.invertY=!1,this._invertVScale=!1,this._associatedChannel=-1,this._source=n.Unknown,this._buffer=null,this._bufferView=null,this._bufferViewArray=null,this._bufferViewArrayArray=null,this._size=0,this._extension="",this._files=null,this._workingCanvas=null,this._workingContext=null,this._framebuffer=null,this._depthStencilBuffer=null,this._MSAAFramebuffer=null,this._MSAARenderBuffer=null,this._attachments=null,this._textureArray=null,this._cachedCoordinatesMode=null,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedWrapR=null,this._cachedAnisotropicFilteringLevel=null,this._isDisabled=!1,this._compression=null,this._generateStencilBuffer=!1,this._generateDepthBuffer=!1,this._comparisonFunction=0,this._sphericalPolynomial=null,this._lodGenerationScale=0,this._lodGenerationOffset=0,this._colorTextureArray=null,this._depthStencilTextureArray=null,this._lodTextureHigh=null,this._lodTextureMid=null,this._lodTextureLow=null,this._isRGBD=!1,this._linearSpecularLOD=!1,this._irradianceTexture=null,this._webGLTexture=null,this._references=1,this._gammaSpace=null,this._engine=e,this._source=t,i||(this._webGLTexture=e._createTexture())}return e.prototype.getEngine=function(){return this._engine},Object.defineProperty(e.prototype,"source",{get:function(){return this._source},enumerable:!1,configurable:!0}),e.prototype.incrementReferences=function(){this._references++},e.prototype.updateSize=function(e,t,i){void 0===i&&(i=1),this.width=e,this.height=t,this.depth=i,this.baseWidth=e,this.baseHeight=t,this.baseDepth=i,this._size=e*t*i},e.prototype._rebuild=function(){var t,i,r=this;switch(this.isReady=!1,this._cachedCoordinatesMode=null,this._cachedWrapU=null,this._cachedWrapV=null,this._cachedAnisotropicFilteringLevel=null,this.source){case n.Temp:return;case n.Url:return void(i=this._engine.createTexture(null!==(t=this._originalUrl)&&void 0!==t?t:this.url,!this.generateMipMaps,this.invertY,null,this.samplingMode,function(){i._swapAndDie(r),r.isReady=!0},null,this._buffer,void 0,this.format));case n.Raw:return(i=this._engine.createRawTexture(this._bufferView,this.baseWidth,this.baseHeight,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression))._swapAndDie(this),void(this.isReady=!0);case n.Raw3D:return(i=this._engine.createRawTexture3D(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression))._swapAndDie(this),void(this.isReady=!0);case n.Raw2DArray:return(i=this._engine.createRawTexture2DArray(this._bufferView,this.baseWidth,this.baseHeight,this.baseDepth,this.format,this.generateMipMaps,this.invertY,this.samplingMode,this._compression))._swapAndDie(this),void(this.isReady=!0);case n.Dynamic:return(i=this._engine.createDynamicTexture(this.baseWidth,this.baseHeight,this.generateMipMaps,this.samplingMode))._swapAndDie(this),void this._engine.updateDynamicTexture(this,this._engine.getRenderingCanvas(),this.invertY,void 0,void 0,!0);case n.RenderTarget:var s=new o.a;if(s.generateDepthBuffer=this._generateDepthBuffer,s.generateMipMaps=this.generateMipMaps,s.generateStencilBuffer=this._generateStencilBuffer,s.samplingMode=this.samplingMode,s.type=this.type,this.isCube)i=this._engine.createRenderTargetCubeTexture(this.width,s);else{var a={width:this.width,height:this.height,layers:this.is2DArray?this.depth:void 0};i=this._engine.createRenderTargetTexture(a,s)}return i._swapAndDie(this),void(this.isReady=!0);case n.Depth:var c={bilinearFiltering:2!==this.samplingMode,comparisonFunction:this._comparisonFunction,generateStencil:this._generateStencilBuffer,isCube:this.isCube},l={width:this.width,height:this.height,layers:this.is2DArray?this.depth:void 0};return(i=this._engine.createDepthStencilTexture(l,c))._swapAndDie(this),void(this.isReady=!0);case n.Cube:return void(i=this._engine.createCubeTexture(this.url,null,this._files,!this.generateMipMaps,function(){i._swapAndDie(r),r.isReady=!0},null,this.format,this._extension));case n.CubeRaw:return(i=this._engine.createRawCubeTexture(this._bufferViewArray,this.width,this.format,this.type,this.generateMipMaps,this.invertY,this.samplingMode,this._compression))._swapAndDie(this),void(this.isReady=!0);case n.CubeRawRGBD:return i=this._engine.createRawCubeTexture(null,this.width,this.format,this.type,this.generateMipMaps,this.invertY,this.samplingMode,this._compression),void e._UpdateRGBDAsync(i,this._bufferViewArrayArray,this._sphericalPolynomial,this._lodGenerationScale,this._lodGenerationOffset).then(function(){i._swapAndDie(r),r.isReady=!0});case n.CubePrefiltered:return void((i=this._engine.createPrefilteredCubeTexture(this.url,null,this._lodGenerationScale,this._lodGenerationOffset,function(e){e&&e._swapAndDie(r),r.isReady=!0},null,this.format,this._extension))._sphericalPolynomial=this._sphericalPolynomial)}},e.prototype._swapAndDie=function(e){e._webGLTexture=this._webGLTexture,e._isRGBD=this._isRGBD,this._framebuffer&&(e._framebuffer=this._framebuffer),this._depthStencilBuffer&&(e._depthStencilBuffer=this._depthStencilBuffer),e._depthStencilTexture=this._depthStencilTexture,this._lodTextureHigh&&(e._lodTextureHigh&&e._lodTextureHigh.dispose(),e._lodTextureHigh=this._lodTextureHigh),this._lodTextureMid&&(e._lodTextureMid&&e._lodTextureMid.dispose(),e._lodTextureMid=this._lodTextureMid),this._lodTextureLow&&(e._lodTextureLow&&e._lodTextureLow.dispose(),e._lodTextureLow=this._lodTextureLow),this._irradianceTexture&&(e._irradianceTexture&&e._irradianceTexture.dispose(),e._irradianceTexture=this._irradianceTexture);var t,i=this._engine.getLoadedTexturesCache();-1!==(t=i.indexOf(this))&&i.splice(t,1),-1===(t=i.indexOf(e))&&i.push(e)},e.prototype.dispose=function(){this._webGLTexture&&(this._references--,0===this._references&&(this._engine._releaseTexture(this),this._webGLTexture=null))},e._UpdateRGBDAsync=function(e,t,i,n,r){throw s.a.WarnImport("environmentTextureTools")},e}()},704:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(76),r=i(30),o=i(50),s=function(){function e(e,t,i){this.vectors=n.a.BuildArray(8,r.e.Zero),this.center=r.e.Zero(),this.centerWorld=r.e.Zero(),this.extendSize=r.e.Zero(),this.extendSizeWorld=r.e.Zero(),this.directions=n.a.BuildArray(3,r.e.Zero),this.vectorsWorld=n.a.BuildArray(8,r.e.Zero),this.minimumWorld=r.e.Zero(),this.maximumWorld=r.e.Zero(),this.minimum=r.e.Zero(),this.maximum=r.e.Zero(),this.reConstruct(e,t,i)}return e.prototype.reConstruct=function(e,t,i){var n=e.x,o=e.y,s=e.z,a=t.x,c=t.y,l=t.z,_=this.vectors;this.minimum.copyFromFloats(n,o,s),this.maximum.copyFromFloats(a,c,l),_[0].copyFromFloats(n,o,s),_[1].copyFromFloats(a,c,l),_[2].copyFromFloats(a,o,s),_[3].copyFromFloats(n,c,s),_[4].copyFromFloats(n,o,l),_[5].copyFromFloats(a,c,s),_[6].copyFromFloats(n,c,l),_[7].copyFromFloats(a,o,l),t.addToRef(e,this.center).scaleInPlace(.5),t.subtractToRef(e,this.extendSize).scaleInPlace(.5),this._worldMatrix=i||r.a.IdentityReadOnly,this._update(this._worldMatrix)},e.prototype.scale=function(t){var i=e.TmpVector3,n=this.maximum.subtractToRef(this.minimum,i[0]),r=n.length();n.normalizeFromLength(r);var o=r*t,s=n.scaleInPlace(.5*o),a=this.center.subtractToRef(s,i[1]),c=this.center.addToRef(s,i[2]);return this.reConstruct(a,c,this._worldMatrix),this},e.prototype.getWorldMatrix=function(){return this._worldMatrix},e.prototype._update=function(e){var t=this.minimumWorld,i=this.maximumWorld,n=this.directions,o=this.vectorsWorld,s=this.vectors;if(e.isIdentity()){t.copyFrom(this.minimum),i.copyFrom(this.maximum);for(a=0;a<8;++a)o[a].copyFrom(s[a]);this.extendSizeWorld.copyFrom(this.extendSize),this.centerWorld.copyFrom(this.center)}else{t.setAll(Number.MAX_VALUE),i.setAll(-Number.MAX_VALUE);for(var a=0;a<8;++a){var c=o[a];r.e.TransformCoordinatesToRef(s[a],e,c),t.minimizeInPlace(c),i.maximizeInPlace(c)}i.subtractToRef(t,this.extendSizeWorld).scaleInPlace(.5),i.addToRef(t,this.centerWorld).scaleInPlace(.5)}r.e.FromArrayToRef(e.m,0,n[0]),r.e.FromArrayToRef(e.m,4,n[1]),r.e.FromArrayToRef(e.m,8,n[2]),this._worldMatrix=e},e.prototype.isInFrustum=function(t){return e.IsInFrustum(this.vectorsWorld,t)},e.prototype.isCompletelyInFrustum=function(t){return e.IsCompletelyInFrustum(this.vectorsWorld,t)},e.prototype.intersectsPoint=function(e){var t=this.minimumWorld,i=this.maximumWorld,n=t.x,r=t.y,s=t.z,a=i.x,c=i.y,l=i.z,_=e.x,u=e.y,f=e.z,d=-o.a;return!(a-_<d||d>_-n)&&(!(c-u<d||d>u-r)&&!(l-f<d||d>f-s))},e.prototype.intersectsSphere=function(t){return e.IntersectsSphere(this.minimumWorld,this.maximumWorld,t.centerWorld,t.radiusWorld)},e.prototype.intersectsMinMax=function(e,t){var i=this.minimumWorld,n=this.maximumWorld,r=i.x,o=i.y,s=i.z,a=n.x,c=n.y,l=n.z,_=e.x,u=e.y,f=e.z,d=t.x,h=t.y,p=t.z;return!(a<_||r>d)&&(!(c<u||o>h)&&!(l<f||s>p))},e.Intersects=function(e,t){return e.intersectsMinMax(t.minimumWorld,t.maximumWorld)},e.IntersectsSphere=function(t,i,n,o){var s=e.TmpVector3[0];return r.e.ClampToRef(n,t,i,s),r.e.DistanceSquared(n,s)<=o*o},e.IsCompletelyInFrustum=function(e,t){for(var i=0;i<6;++i)for(var n=t[i],r=0;r<8;++r)if(n.dotCoordinate(e[r])<0)return!1;return!0},e.IsInFrustum=function(e,t){for(var i=0;i<6;++i){for(var n=!0,r=t[i],o=0;o<8;++o)if(r.dotCoordinate(e[o])>=0){n=!1;break}if(n)return!1}return!0},e.TmpVector3=n.a.BuildArray(3,r.e.Zero),e}(),a=function(){function e(e,t,i){this.center=r.e.Zero(),this.centerWorld=r.e.Zero(),this.minimum=r.e.Zero(),this.maximum=r.e.Zero(),this.reConstruct(e,t,i)}return e.prototype.reConstruct=function(e,t,i){this.minimum.copyFrom(e),this.maximum.copyFrom(t);var n=r.e.Distance(e,t);t.addToRef(e,this.center).scaleInPlace(.5),this.radius=.5*n,this._update(i||r.a.IdentityReadOnly)},e.prototype.scale=function(t){var i=this.radius*t,n=e.TmpVector3,r=n[0].setAll(i),o=this.center.subtractToRef(r,n[1]),s=this.center.addToRef(r,n[2]);return this.reConstruct(o,s,this._worldMatrix),this},e.prototype.getWorldMatrix=function(){return this._worldMatrix},e.prototype._update=function(t){if(t.isIdentity())this.centerWorld.copyFrom(this.center),this.radiusWorld=this.radius;else{r.e.TransformCoordinatesToRef(this.center,t,this.centerWorld);var i=e.TmpVector3[0];r.e.TransformNormalFromFloatsToRef(1,1,1,t,i),this.radiusWorld=Math.max(Math.abs(i.x),Math.abs(i.y),Math.abs(i.z))*this.radius}},e.prototype.isInFrustum=function(e){for(var t=this.centerWorld,i=this.radiusWorld,n=0;n<6;n++)if(e[n].dotCoordinate(t)<=-i)return!1;return!0},e.prototype.isCenterInFrustum=function(e){for(var t=this.centerWorld,i=0;i<6;i++)if(e[i].dotCoordinate(t)<0)return!1;return!0},e.prototype.intersectsPoint=function(e){var t=r.e.DistanceSquared(this.centerWorld,e);return!(this.radiusWorld*this.radiusWorld<t)},e.Intersects=function(e,t){var i=r.e.DistanceSquared(e.centerWorld,t.centerWorld),n=e.radiusWorld+t.radiusWorld;return!(n*n<i)},e.TmpVector3=n.a.BuildArray(3,r.e.Zero),e}(),c={min:0,max:0},l={min:0,max:0},_=function(e,t,i){var n=r.e.Dot(t.centerWorld,e),o=Math.abs(r.e.Dot(t.directions[0],e))*t.extendSize.x+Math.abs(r.e.Dot(t.directions[1],e))*t.extendSize.y+Math.abs(r.e.Dot(t.directions[2],e))*t.extendSize.z;i.min=n-o,i.max=n+o},u=function(e,t,i){return _(e,t,c),_(e,i,l),!(c.min>l.max||l.min>c.max)},f=function(){function e(e,t,i){this._isLocked=!1,this.boundingBox=new s(e,t,i),this.boundingSphere=new a(e,t,i)}return e.prototype.reConstruct=function(e,t,i){this.boundingBox.reConstruct(e,t,i),this.boundingSphere.reConstruct(e,t,i)},Object.defineProperty(e.prototype,"minimum",{get:function(){return this.boundingBox.minimum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"maximum",{get:function(){return this.boundingBox.maximum},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isLocked",{get:function(){return this._isLocked},set:function(e){this._isLocked=e},enumerable:!1,configurable:!0}),e.prototype.update=function(e){this._isLocked||(this.boundingBox._update(e),this.boundingSphere._update(e))},e.prototype.centerOn=function(t,i){var n=e.TmpVector3[0].copyFrom(t).subtractInPlace(i),r=e.TmpVector3[1].copyFrom(t).addInPlace(i);return this.boundingBox.reConstruct(n,r,this.boundingBox.getWorldMatrix()),this.boundingSphere.reConstruct(n,r,this.boundingBox.getWorldMatrix()),this},e.prototype.scale=function(e){return this.boundingBox.scale(e),this.boundingSphere.scale(e),this},e.prototype.isInFrustum=function(e,t){return void 0===t&&(t=0),!(2!==t&&3!==t||!this.boundingSphere.isCenterInFrustum(e))||!!this.boundingSphere.isInFrustum(e)&&(!(1!==t&&3!==t)||this.boundingBox.isInFrustum(e))},Object.defineProperty(e.prototype,"diagonalLength",{get:function(){var t=this.boundingBox;return t.maximumWorld.subtractToRef(t.minimumWorld,e.TmpVector3[0]).length()},enumerable:!1,configurable:!0}),e.prototype.isCompletelyInFrustum=function(e){return this.boundingBox.isCompletelyInFrustum(e)},e.prototype._checkCollision=function(e){return e._canDoCollision(this.boundingSphere.centerWorld,this.boundingSphere.radiusWorld,this.boundingBox.minimumWorld,this.boundingBox.maximumWorld)},e.prototype.intersectsPoint=function(e){return!!this.boundingSphere.centerWorld&&(!!this.boundingSphere.intersectsPoint(e)&&!!this.boundingBox.intersectsPoint(e))},e.prototype.intersects=function(e,t){if(!a.Intersects(this.boundingSphere,e.boundingSphere))return!1;if(!s.Intersects(this.boundingBox,e.boundingBox))return!1;if(!t)return!0;var i=this.boundingBox,n=e.boundingBox;return!!u(i.directions[0],i,n)&&(!!u(i.directions[1],i,n)&&(!!u(i.directions[2],i,n)&&(!!u(n.directions[0],i,n)&&(!!u(n.directions[1],i,n)&&(!!u(n.directions[2],i,n)&&(!!u(r.e.Cross(i.directions[0],n.directions[0]),i,n)&&(!!u(r.e.Cross(i.directions[0],n.directions[1]),i,n)&&(!!u(r.e.Cross(i.directions[0],n.directions[2]),i,n)&&(!!u(r.e.Cross(i.directions[1],n.directions[0]),i,n)&&(!!u(r.e.Cross(i.directions[1],n.directions[1]),i,n)&&(!!u(r.e.Cross(i.directions[1],n.directions[2]),i,n)&&(!!u(r.e.Cross(i.directions[2],n.directions[0]),i,n)&&(!!u(r.e.Cross(i.directions[2],n.directions[1]),i,n)&&!!u(r.e.Cross(i.directions[2],n.directions[2]),i,n))))))))))))))},e.TmpVector3=n.a.BuildArray(2,r.e.Zero),e}()},718:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o});var n=i(644),r=function(){function e(t){this.length=0,this.data=new Array(t),this._id=e._GlobalId++}return e.prototype.push=function(e){this.data[this.length++]=e,this.length>this.data.length&&(this.data.length*=2)},e.prototype.forEach=function(e){for(var t=0;t<this.length;t++)e(this.data[t])},e.prototype.sort=function(e){this.data.sort(e)},e.prototype.reset=function(){this.length=0},e.prototype.dispose=function(){this.reset(),this.data&&(this.data.length=0,this.data=[])},e.prototype.concat=function(e){if(0!==e.length){this.length+e.length>this.data.length&&(this.data.length=2*(this.length+e.length));for(var t=0;t<e.length;t++)this.data[this.length++]=(e.data||e)[t]}},e.prototype.indexOf=function(e){var t=this.data.indexOf(e);return t>=this.length?-1:t},e.prototype.contains=function(e){return-1!==this.indexOf(e)},e._GlobalId=0,e}(),o=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._duplicateId=0,t}return Object(n.c)(t,e),t.prototype.push=function(t){e.prototype.push.call(this,t),t.__smartArrayFlags||(t.__smartArrayFlags={}),t.__smartArrayFlags[this._id]=this._duplicateId},t.prototype.pushNoDuplicate=function(e){return(!e.__smartArrayFlags||e.__smartArrayFlags[this._id]!==this._duplicateId)&&(this.push(e),!0)},t.prototype.reset=function(){e.prototype.reset.call(this),this._duplicateId++},t.prototype.concatWithNoDuplicate=function(e){if(0!==e.length){this.length+e.length>this.data.length&&(this.data.length=2*(this.length+e.length));for(var t=0;t<e.length;t++){var i=(e.data||e)[t];this.pushNoDuplicate(i)}}},t}(r)},719:function(e,t,i){"use strict";var n="helperFunctions",r="const float PI=3.1415926535897932384626433832795;\nconst float HALF_MIN=5.96046448e-08;\nconst float LinearEncodePowerApprox=2.2;\nconst float GammaEncodePowerApprox=1.0/LinearEncodePowerApprox;\nconst vec3 LuminanceEncodeApprox=vec3(0.2126,0.7152,0.0722);\nconst float Epsilon=0.0000001;\n#define saturate(x) clamp(x,0.0,1.0)\n#define absEps(x) abs(x)+Epsilon\n#define maxEps(x) max(x,Epsilon)\n#define saturateEps(x) clamp(x,Epsilon,1.0)\nmat3 transposeMat3(mat3 inMatrix) {\nvec3 i0=inMatrix[0];\nvec3 i1=inMatrix[1];\nvec3 i2=inMatrix[2];\nmat3 outMatrix=mat3(\nvec3(i0.x,i1.x,i2.x),\nvec3(i0.y,i1.y,i2.y),\nvec3(i0.z,i1.z,i2.z)\n);\nreturn outMatrix;\n}\n\nmat3 inverseMat3(mat3 inMatrix) {\nfloat a00=inMatrix[0][0],a01=inMatrix[0][1],a02=inMatrix[0][2];\nfloat a10=inMatrix[1][0],a11=inMatrix[1][1],a12=inMatrix[1][2];\nfloat a20=inMatrix[2][0],a21=inMatrix[2][1],a22=inMatrix[2][2];\nfloat b01=a22*a11-a12*a21;\nfloat b11=-a22*a10+a12*a20;\nfloat b21=a21*a10-a11*a20;\nfloat det=a00*b01+a01*b11+a02*b21;\nreturn mat3(b01,(-a22*a01+a02*a21),(a12*a01-a02*a11),\nb11,(a22*a00-a02*a20),(-a12*a00+a02*a10),\nb21,(-a21*a00+a01*a20),(a11*a00-a01*a10))/det;\n}\nfloat toLinearSpace(float color)\n{\nreturn pow(color,LinearEncodePowerApprox);\n}\nvec3 toLinearSpace(vec3 color)\n{\nreturn pow(color,vec3(LinearEncodePowerApprox));\n}\nvec4 toLinearSpace(vec4 color)\n{\nreturn vec4(pow(color.rgb,vec3(LinearEncodePowerApprox)),color.a);\n}\nvec3 toGammaSpace(vec3 color)\n{\nreturn pow(color,vec3(GammaEncodePowerApprox));\n}\nvec4 toGammaSpace(vec4 color)\n{\nreturn vec4(pow(color.rgb,vec3(GammaEncodePowerApprox)),color.a);\n}\nfloat toGammaSpace(float color)\n{\nreturn pow(color,GammaEncodePowerApprox);\n}\nfloat square(float value)\n{\nreturn value*value;\n}\nfloat pow5(float value) {\nfloat sq=value*value;\nreturn sq*sq*value;\n}\nfloat getLuminance(vec3 color)\n{\nreturn clamp(dot(color,LuminanceEncodeApprox),0.,1.);\n}\n\nfloat getRand(vec2 seed) {\nreturn fract(sin(dot(seed.xy ,vec2(12.9898,78.233)))*43758.5453);\n}\nfloat dither(vec2 seed,float varianceAmount) {\nfloat rand=getRand(seed);\nfloat dither=mix(-varianceAmount/255.0,varianceAmount/255.0,rand);\nreturn dither;\n}\n\nconst float rgbdMaxRange=255.0;\nvec4 toRGBD(vec3 color) {\nfloat maxRGB=maxEps(max(color.r,max(color.g,color.b)));\nfloat D=max(rgbdMaxRange/maxRGB,1.);\nD=clamp(floor(D)/255.0,0.,1.);\n\nvec3 rgb=color.rgb*D;\n\nrgb=toGammaSpace(rgb);\nreturn vec4(rgb,D);\n}\nvec3 fromRGBD(vec4 rgbd) {\n\nrgbd.rgb=toLinearSpace(rgbd.rgb);\n\nreturn rgbd.rgb/rgbd.a;\n}\n";i(642).a.IncludesShadersStore[n]=r},720:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(690),r=function(){function e(){}return Object.defineProperty(e,"DiffuseTextureEnabled",{get:function(){return this._DiffuseTextureEnabled},set:function(e){this._DiffuseTextureEnabled!==e&&(this._DiffuseTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"DetailTextureEnabled",{get:function(){return this._DetailTextureEnabled},set:function(e){this._DetailTextureEnabled!==e&&(this._DetailTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"AmbientTextureEnabled",{get:function(){return this._AmbientTextureEnabled},set:function(e){this._AmbientTextureEnabled!==e&&(this._AmbientTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"OpacityTextureEnabled",{get:function(){return this._OpacityTextureEnabled},set:function(e){this._OpacityTextureEnabled!==e&&(this._OpacityTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ReflectionTextureEnabled",{get:function(){return this._ReflectionTextureEnabled},set:function(e){this._ReflectionTextureEnabled!==e&&(this._ReflectionTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"EmissiveTextureEnabled",{get:function(){return this._EmissiveTextureEnabled},set:function(e){this._EmissiveTextureEnabled!==e&&(this._EmissiveTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SpecularTextureEnabled",{get:function(){return this._SpecularTextureEnabled},set:function(e){this._SpecularTextureEnabled!==e&&(this._SpecularTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"BumpTextureEnabled",{get:function(){return this._BumpTextureEnabled},set:function(e){this._BumpTextureEnabled!==e&&(this._BumpTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"LightmapTextureEnabled",{get:function(){return this._LightmapTextureEnabled},set:function(e){this._LightmapTextureEnabled!==e&&(this._LightmapTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"RefractionTextureEnabled",{get:function(){return this._RefractionTextureEnabled},set:function(e){this._RefractionTextureEnabled!==e&&(this._RefractionTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ColorGradingTextureEnabled",{get:function(){return this._ColorGradingTextureEnabled},set:function(e){this._ColorGradingTextureEnabled!==e&&(this._ColorGradingTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"FresnelEnabled",{get:function(){return this._FresnelEnabled},set:function(e){this._FresnelEnabled!==e&&(this._FresnelEnabled=e,n.a.MarkAllMaterialsAsDirty(4))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ClearCoatTextureEnabled",{get:function(){return this._ClearCoatTextureEnabled},set:function(e){this._ClearCoatTextureEnabled!==e&&(this._ClearCoatTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ClearCoatBumpTextureEnabled",{get:function(){return this._ClearCoatBumpTextureEnabled},set:function(e){this._ClearCoatBumpTextureEnabled!==e&&(this._ClearCoatBumpTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ClearCoatTintTextureEnabled",{get:function(){return this._ClearCoatTintTextureEnabled},set:function(e){this._ClearCoatTintTextureEnabled!==e&&(this._ClearCoatTintTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"SheenTextureEnabled",{get:function(){return this._SheenTextureEnabled},set:function(e){this._SheenTextureEnabled!==e&&(this._SheenTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"AnisotropicTextureEnabled",{get:function(){return this._AnisotropicTextureEnabled},set:function(e){this._AnisotropicTextureEnabled!==e&&(this._AnisotropicTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ThicknessTextureEnabled",{get:function(){return this._ThicknessTextureEnabled},set:function(e){this._ThicknessTextureEnabled!==e&&(this._ThicknessTextureEnabled=e,n.a.MarkAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),e._DiffuseTextureEnabled=!0,e._DetailTextureEnabled=!0,e._AmbientTextureEnabled=!0,e._OpacityTextureEnabled=!0,e._ReflectionTextureEnabled=!0,e._EmissiveTextureEnabled=!0,e._SpecularTextureEnabled=!0,e._BumpTextureEnabled=!0,e._LightmapTextureEnabled=!0,e._RefractionTextureEnabled=!0,e._ColorGradingTextureEnabled=!0,e._FresnelEnabled=!0,e._ClearCoatTextureEnabled=!0,e._ClearCoatBumpTextureEnabled=!0,e._ClearCoatTintTextureEnabled=!0,e._SheenTextureEnabled=!0,e._AnisotropicTextureEnabled=!0,e._ThicknessTextureEnabled=!0,e}()},733:function(e,t,i){"use strict";i.d(t,"a",function(){return p});var n=i(644),r=i(648),o=i(718),s=i(658),a=i(650),c=i(30),l=i(689),_=i(649),u=i(105),f=i(667),d=i(252),h=i(248),p=function(e){function t(i,n,r,s){void 0===s&&(s=!0);var l=e.call(this,i,r)||this;return l._position=c.e.Zero(),l._upVector=c.e.Up(),l.orthoLeft=null,l.orthoRight=null,l.orthoBottom=null,l.orthoTop=null,l.fov=.8,l.minZ=1,l.maxZ=1e4,l.inertia=.9,l.mode=t.PERSPECTIVE_CAMERA,l.isIntermediate=!1,l.viewport=new d.a(0,0,1,1),l.layerMask=268435455,l.fovMode=t.FOVMODE_VERTICAL_FIXED,l.cameraRigMode=t.RIG_MODE_NONE,l.customRenderTargets=new Array,l.outputRenderTarget=null,l.onViewMatrixChangedObservable=new a.a,l.onProjectionMatrixChangedObservable=new a.a,l.onAfterCheckInputsObservable=new a.a,l.onRestoreStateObservable=new a.a,l.isRigCamera=!1,l._rigCameras=new Array,l._webvrViewMatrix=c.a.Identity(),l._skipRendering=!1,l._projectionMatrix=new c.a,l._postProcesses=new Array,l._activeMeshes=new o.a(256),l._globalPosition=c.e.Zero(),l._computedViewMatrix=c.a.Identity(),l._doNotComputeProjectionMatrix=!1,l._transformMatrix=c.a.Zero(),l._refreshFrustumPlanes=!0,l._isCamera=!0,l._isLeftCamera=!1,l._isRightCamera=!1,l.getScene().addCamera(l),s&&!l.getScene().activeCamera&&(l.getScene().activeCamera=l),l.position=n,l}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"upVector",{get:function(){return this._upVector},set:function(e){this._upVector=e},enumerable:!1,configurable:!0}),t.prototype.storeState=function(){return this._stateStored=!0,this._storedFov=this.fov,this},t.prototype._restoreStateValues=function(){return!!this._stateStored&&(this.fov=this._storedFov,!0)},t.prototype.restoreState=function(){return!!this._restoreStateValues()&&(this.onRestoreStateObservable.notifyObservers(this),!0)},t.prototype.getClassName=function(){return"Camera"},t.prototype.toString=function(e){var t="Name: "+this.name;if(t+=", type: "+this.getClassName(),this.animations)for(var i=0;i<this.animations.length;i++)t+=", animation[0]: "+this.animations[i].toString(e);return t},Object.defineProperty(t.prototype,"globalPosition",{get:function(){return this._globalPosition},enumerable:!1,configurable:!0}),t.prototype.getActiveMeshes=function(){return this._activeMeshes},t.prototype.isActiveMesh=function(e){return-1!==this._activeMeshes.indexOf(e)},t.prototype.isReady=function(t){if(void 0===t&&(t=!1),t)for(var i=0,n=this._postProcesses;i<n.length;i++){var r=n[i];if(r&&!r.isReady())return!1}return e.prototype.isReady.call(this,t)},t.prototype._initCache=function(){e.prototype._initCache.call(this),this._cache.position=new c.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.upVector=new c.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.mode=void 0,this._cache.minZ=void 0,this._cache.maxZ=void 0,this._cache.fov=void 0,this._cache.fovMode=void 0,this._cache.aspectRatio=void 0,this._cache.orthoLeft=void 0,this._cache.orthoRight=void 0,this._cache.orthoBottom=void 0,this._cache.orthoTop=void 0,this._cache.renderWidth=void 0,this._cache.renderHeight=void 0},t.prototype._updateCache=function(t){t||e.prototype._updateCache.call(this),this._cache.position.copyFrom(this.position),this._cache.upVector.copyFrom(this.upVector)},t.prototype._isSynchronized=function(){return this._isSynchronizedViewMatrix()&&this._isSynchronizedProjectionMatrix()},t.prototype._isSynchronizedViewMatrix=function(){return!!e.prototype._isSynchronized.call(this)&&(this._cache.position.equals(this.position)&&this._cache.upVector.equals(this.upVector)&&this.isSynchronizedWithParent())},t.prototype._isSynchronizedProjectionMatrix=function(){var e=this._cache.mode===this.mode&&this._cache.minZ===this.minZ&&this._cache.maxZ===this.maxZ;if(!e)return!1;var i=this.getEngine();return e=this.mode===t.PERSPECTIVE_CAMERA?this._cache.fov===this.fov&&this._cache.fovMode===this.fovMode&&this._cache.aspectRatio===i.getAspectRatio(this):this._cache.orthoLeft===this.orthoLeft&&this._cache.orthoRight===this.orthoRight&&this._cache.orthoBottom===this.orthoBottom&&this._cache.orthoTop===this.orthoTop&&this._cache.renderWidth===i.getRenderWidth()&&this._cache.renderHeight===i.getRenderHeight()},t.prototype.attachControl=function(e,t){},t.prototype.detachControl=function(e){},t.prototype.update=function(){this._checkInputs(),this.cameraRigMode!==t.RIG_MODE_NONE&&this._updateRigCameras()},t.prototype._checkInputs=function(){this.onAfterCheckInputsObservable.notifyObservers(this)},Object.defineProperty(t.prototype,"rigCameras",{get:function(){return this._rigCameras},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rigPostProcess",{get:function(){return this._rigPostProcess},enumerable:!1,configurable:!0}),t.prototype._getFirstPostProcess=function(){for(var e=0;e<this._postProcesses.length;e++)if(null!==this._postProcesses[e])return this._postProcesses[e];return null},t.prototype._cascadePostProcessesToRigCams=function(){var e=this._getFirstPostProcess();e&&e.markTextureDirty();for(var t=0,i=this._rigCameras.length;t<i;t++){var n=this._rigCameras[t],r=n._rigPostProcess;if(r)"pass"===r.getEffectName()&&(n.isIntermediate=0===this._postProcesses.length),n._postProcesses=this._postProcesses.slice(0).concat(r),r.markTextureDirty();else n._postProcesses=this._postProcesses.slice(0)}},t.prototype.attachPostProcess=function(e,t){return void 0===t&&(t=null),!e.isReusable()&&this._postProcesses.indexOf(e)>-1?(_.a.Error("You're trying to reuse a post process not defined as reusable."),0):(null==t||t<0?this._postProcesses.push(e):null===this._postProcesses[t]?this._postProcesses[t]=e:this._postProcesses.splice(t,0,e),this._cascadePostProcessesToRigCams(),this._scene.prePassRenderer&&this._scene.prePassRenderer.markAsDirty(),this._postProcesses.indexOf(e))},t.prototype.detachPostProcess=function(e){var t=this._postProcesses.indexOf(e);-1!==t&&(this._postProcesses[t]=null),this._scene.prePassRenderer&&this._scene.prePassRenderer.markAsDirty(),this._cascadePostProcessesToRigCams()},t.prototype.getWorldMatrix=function(){return this._isSynchronizedViewMatrix()||this.getViewMatrix(),this._worldMatrix},t.prototype._getViewMatrix=function(){return c.a.Identity()},t.prototype.getViewMatrix=function(e){return!e&&this._isSynchronizedViewMatrix()||(this.updateCache(),this._computedViewMatrix=this._getViewMatrix(),this._currentRenderId=this.getScene().getRenderId(),this._childUpdateId++,this._refreshFrustumPlanes=!0,this._cameraRigParams&&this._cameraRigParams.vrPreViewMatrix&&this._computedViewMatrix.multiplyToRef(this._cameraRigParams.vrPreViewMatrix,this._computedViewMatrix),this.parent&&this.parent.onViewMatrixChangedObservable&&this.parent.onViewMatrixChangedObservable.notifyObservers(this.parent),this.onViewMatrixChangedObservable.notifyObservers(this),this._computedViewMatrix.invertToRef(this._worldMatrix)),this._computedViewMatrix},t.prototype.freezeProjectionMatrix=function(e){this._doNotComputeProjectionMatrix=!0,void 0!==e&&(this._projectionMatrix=e)},t.prototype.unfreezeProjectionMatrix=function(){this._doNotComputeProjectionMatrix=!1},t.prototype.getProjectionMatrix=function(e){var i,n,r,o,s,a,l,_;if(this._doNotComputeProjectionMatrix||!e&&this._isSynchronizedProjectionMatrix())return this._projectionMatrix;this._cache.mode=this.mode,this._cache.minZ=this.minZ,this._cache.maxZ=this.maxZ,this._refreshFrustumPlanes=!0;var u=this.getEngine(),f=this.getScene();if(this.mode===t.PERSPECTIVE_CAMERA){this._cache.fov=this.fov,this._cache.fovMode=this.fovMode,this._cache.aspectRatio=u.getAspectRatio(this),this.minZ<=0&&(this.minZ=.1);var d=u.useReverseDepthBuffer;(f.useRightHandedSystem?d?c.a.PerspectiveFovReverseRHToRef:c.a.PerspectiveFovRHToRef:d?c.a.PerspectiveFovReverseLHToRef:c.a.PerspectiveFovLHToRef)(this.fov,u.getAspectRatio(this),this.minZ,this.maxZ,this._projectionMatrix,this.fovMode===t.FOVMODE_VERTICAL_FIXED)}else{var h=u.getRenderWidth()/2,p=u.getRenderHeight()/2;f.useRightHandedSystem?c.a.OrthoOffCenterRHToRef(null!==(i=this.orthoLeft)&&void 0!==i?i:-h,null!==(n=this.orthoRight)&&void 0!==n?n:h,null!==(r=this.orthoBottom)&&void 0!==r?r:-p,null!==(o=this.orthoTop)&&void 0!==o?o:p,this.minZ,this.maxZ,this._projectionMatrix):c.a.OrthoOffCenterLHToRef(null!==(s=this.orthoLeft)&&void 0!==s?s:-h,null!==(a=this.orthoRight)&&void 0!==a?a:h,null!==(l=this.orthoBottom)&&void 0!==l?l:-p,null!==(_=this.orthoTop)&&void 0!==_?_:p,this.minZ,this.maxZ,this._projectionMatrix),this._cache.orthoLeft=this.orthoLeft,this._cache.orthoRight=this.orthoRight,this._cache.orthoBottom=this.orthoBottom,this._cache.orthoTop=this.orthoTop,this._cache.renderWidth=u.getRenderWidth(),this._cache.renderHeight=u.getRenderHeight()}return this.onProjectionMatrixChangedObservable.notifyObservers(this),this._projectionMatrix},t.prototype.getTransformationMatrix=function(){return this._computedViewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix),this._transformMatrix},t.prototype._updateFrustumPlanes=function(){this._refreshFrustumPlanes&&(this.getTransformationMatrix(),this._frustumPlanes?h.a.GetPlanesToRef(this._transformMatrix,this._frustumPlanes):this._frustumPlanes=h.a.GetPlanes(this._transformMatrix),this._refreshFrustumPlanes=!1)},t.prototype.isInFrustum=function(e,t){if(void 0===t&&(t=!1),this._updateFrustumPlanes(),t&&this.rigCameras.length>0){var i=!1;return this.rigCameras.forEach(function(t){t._updateFrustumPlanes(),i=i||e.isInFrustum(t._frustumPlanes)}),i}return e.isInFrustum(this._frustumPlanes)},t.prototype.isCompletelyInFrustum=function(e){return this._updateFrustumPlanes(),e.isCompletelyInFrustum(this._frustumPlanes)},t.prototype.getForwardRay=function(e,t,i){throw void 0===e&&(e=100),f.a.WarnImport("Ray")},t.prototype.getForwardRayToRef=function(e,t,i,n){throw void 0===t&&(t=100),f.a.WarnImport("Ray")},t.prototype.dispose=function(i,n){for(void 0===n&&(n=!1),this.onViewMatrixChangedObservable.clear(),this.onProjectionMatrixChangedObservable.clear(),this.onAfterCheckInputsObservable.clear(),this.onRestoreStateObservable.clear(),this.inputs&&this.inputs.clear(),this.getScene().stopAnimation(this),this.getScene().removeCamera(this);this._rigCameras.length>0;){var r=this._rigCameras.pop();r&&r.dispose()}if(this._rigPostProcess)this._rigPostProcess.dispose(this),this._rigPostProcess=null,this._postProcesses=[];else if(this.cameraRigMode!==t.RIG_MODE_NONE)this._rigPostProcess=null,this._postProcesses=[];else for(var o=this._postProcesses.length;--o>=0;){var s=this._postProcesses[o];s&&s.dispose(this)}for(o=this.customRenderTargets.length;--o>=0;)this.customRenderTargets[o].dispose();this.customRenderTargets=[],this._activeMeshes.dispose(),e.prototype.dispose.call(this,i,n)},Object.defineProperty(t.prototype,"isLeftCamera",{get:function(){return this._isLeftCamera},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRightCamera",{get:function(){return this._isRightCamera},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"leftCamera",{get:function(){return this._rigCameras.length<1?null:this._rigCameras[0]},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rightCamera",{get:function(){return this._rigCameras.length<2?null:this._rigCameras[1]},enumerable:!1,configurable:!0}),t.prototype.getLeftTarget=function(){return this._rigCameras.length<1?null:this._rigCameras[0].getTarget()},t.prototype.getRightTarget=function(){return this._rigCameras.length<2?null:this._rigCameras[1].getTarget()},t.prototype.setCameraRigMode=function(e,i){if(this.cameraRigMode!==e){for(;this._rigCameras.length>0;){var n=this._rigCameras.pop();n&&n.dispose()}if(this.cameraRigMode=e,this._cameraRigParams={},this._cameraRigParams.interaxialDistance=i.interaxialDistance||.0637,this._cameraRigParams.stereoHalfAngle=s.b.ToRadians(this._cameraRigParams.interaxialDistance/.0637),this.cameraRigMode!==t.RIG_MODE_NONE){var r=this.createRigCamera(this.name+"_L",0);r&&(r._isLeftCamera=!0);var o=this.createRigCamera(this.name+"_R",1);o&&(o._isRightCamera=!0),r&&o&&(this._rigCameras.push(r),this._rigCameras.push(o))}switch(this.cameraRigMode){case t.RIG_MODE_STEREOSCOPIC_ANAGLYPH:t._setStereoscopicAnaglyphRigMode(this);break;case t.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case t.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case t.RIG_MODE_STEREOSCOPIC_OVERUNDER:case t.RIG_MODE_STEREOSCOPIC_INTERLACED:t._setStereoscopicRigMode(this);break;case t.RIG_MODE_VR:t._setVRRigMode(this,i);break;case t.RIG_MODE_WEBVR:t._setWebVRRigMode(this,i)}this._cascadePostProcessesToRigCams(),this.update()}},t._setStereoscopicRigMode=function(e){throw"Import Cameras/RigModes/stereoscopicRigMode before using stereoscopic rig mode"},t._setStereoscopicAnaglyphRigMode=function(e){throw"Import Cameras/RigModes/stereoscopicAnaglyphRigMode before using stereoscopic anaglyph rig mode"},t._setVRRigMode=function(e,t){throw"Import Cameras/RigModes/vrRigMode before using VR rig mode"},t._setWebVRRigMode=function(e,t){throw"Import Cameras/RigModes/WebVRRigMode before using Web VR rig mode"},t.prototype._getVRProjectionMatrix=function(){return c.a.PerspectiveFovLHToRef(this._cameraRigParams.vrMetrics.aspectRatioFov,this._cameraRigParams.vrMetrics.aspectRatio,this.minZ,this.maxZ,this._cameraRigParams.vrWorkMatrix),this._cameraRigParams.vrWorkMatrix.multiplyToRef(this._cameraRigParams.vrHMatrix,this._projectionMatrix),this._projectionMatrix},t.prototype._updateCameraRotationMatrix=function(){},t.prototype._updateWebVRCameraRotationMatrix=function(){},t.prototype._getWebVRProjectionMatrix=function(){return c.a.Identity()},t.prototype._getWebVRViewMatrix=function(){return c.a.Identity()},t.prototype.setCameraRigParameter=function(e,t){this._cameraRigParams||(this._cameraRigParams={}),this._cameraRigParams[e]=t,"interaxialDistance"===e&&(this._cameraRigParams.stereoHalfAngle=s.b.ToRadians(t/.0637))},t.prototype.createRigCamera=function(e,t){return null},t.prototype._updateRigCameras=function(){for(var e=0;e<this._rigCameras.length;e++)this._rigCameras[e].minZ=this.minZ,this._rigCameras[e].maxZ=this.maxZ,this._rigCameras[e].fov=this.fov,this._rigCameras[e].upVector.copyFrom(this.upVector);this.cameraRigMode===t.RIG_MODE_STEREOSCOPIC_ANAGLYPH&&(this._rigCameras[0].viewport=this._rigCameras[1].viewport=this.viewport)},t.prototype._setupInputs=function(){},t.prototype.serialize=function(){var e=r.a.Serialize(this);return e.type=this.getClassName(),this.parent&&(e.parentId=this.parent.id),this.inputs&&this.inputs.serialize(e),r.a.AppendSerializedAnimations(this,e),e.ranges=this.serializeAnimationRanges(),e},t.prototype.clone=function(e){return r.a.Clone(t.GetConstructorFromName(this.getClassName(),e,this.getScene(),this.interaxialDistance,this.isStereoscopicSideBySide),this)},t.prototype.getDirection=function(e){var t=c.e.Zero();return this.getDirectionToRef(e,t),t},Object.defineProperty(t.prototype,"absoluteRotation",{get:function(){var e=c.b.Zero();return this.getWorldMatrix().decompose(void 0,e),e},enumerable:!1,configurable:!0}),t.prototype.getDirectionToRef=function(e,t){c.e.TransformNormalToRef(e,this.getWorldMatrix(),t)},t.GetConstructorFromName=function(e,i,n,r,o){void 0===r&&(r=0),void 0===o&&(o=!0);var s=l.a.Construct(e,i,n,{interaxial_distance:r,isStereoscopicSideBySide:o});return s||function(){return t._createDefaultParsedCamera(i,n)}},t.prototype.computeWorldMatrix=function(){return this.getWorldMatrix()},t.Parse=function(e,i){var n=e.type,o=t.GetConstructorFromName(n,e.name,i,e.interaxial_distance,e.isStereoscopicSideBySide),s=r.a.Parse(o,e,i);if(e.parentId&&(s._waitingParentId=e.parentId),s.inputs&&(s.inputs.parse(e),s._setupInputs()),e.upVector&&(s.upVector=c.e.FromArray(e.upVector)),s.setPosition&&(s.position.copyFromFloats(0,0,0),s.setPosition(c.e.FromArray(e.position))),e.target&&s.setTarget&&s.setTarget(c.e.FromArray(e.target)),e.cameraRigMode){var a=e.interaxial_distance?{interaxialDistance:e.interaxial_distance}:{};s.setCameraRigMode(e.cameraRigMode,a)}if(e.animations){for(var _=0;_<e.animations.length;_++){var f=e.animations[_],d=u.a.GetClass("BABYLON.Animation");d&&s.animations.push(d.Parse(f))}l.a.ParseAnimationRanges(s,e,i)}return e.autoAnimate&&i.beginAnimation(s,e.autoAnimateFrom,e.autoAnimateTo,e.autoAnimateLoop,e.autoAnimateSpeed||1),s},t._createDefaultParsedCamera=function(e,t){throw f.a.WarnImport("UniversalCamera")},t.PERSPECTIVE_CAMERA=0,t.ORTHOGRAPHIC_CAMERA=1,t.FOVMODE_VERTICAL_FIXED=0,t.FOVMODE_HORIZONTAL_FIXED=1,t.RIG_MODE_NONE=0,t.RIG_MODE_STEREOSCOPIC_ANAGLYPH=10,t.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL=11,t.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED=12,t.RIG_MODE_STEREOSCOPIC_OVERUNDER=13,t.RIG_MODE_STEREOSCOPIC_INTERLACED=14,t.RIG_MODE_VR=20,t.RIG_MODE_WEBVR=21,t.RIG_MODE_CUSTOM=22,t.ForceAttachControlToAlwaysPreventDefault=!1,Object(n.b)([Object(r.n)("position")],t.prototype,"_position",void 0),Object(n.b)([Object(r.n)("upVector")],t.prototype,"_upVector",void 0),Object(n.b)([Object(r.c)()],t.prototype,"orthoLeft",void 0),Object(n.b)([Object(r.c)()],t.prototype,"orthoRight",void 0),Object(n.b)([Object(r.c)()],t.prototype,"orthoBottom",void 0),Object(n.b)([Object(r.c)()],t.prototype,"orthoTop",void 0),Object(n.b)([Object(r.c)()],t.prototype,"fov",void 0),Object(n.b)([Object(r.c)()],t.prototype,"minZ",void 0),Object(n.b)([Object(r.c)()],t.prototype,"maxZ",void 0),Object(n.b)([Object(r.c)()],t.prototype,"inertia",void 0),Object(n.b)([Object(r.c)()],t.prototype,"mode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"layerMask",void 0),Object(n.b)([Object(r.c)()],t.prototype,"fovMode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"cameraRigMode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"interaxialDistance",void 0),Object(n.b)([Object(r.c)()],t.prototype,"isStereoscopicSideBySide",void 0),t}(l.a)},735:function(e,t,i){"use strict";i.d(t,"a",function(){return C});var n=i(644),r=i(658),o=i(650),s=i(30),a=i(690),c=i(660),l=i(694),_=i(803),u=i(869),f=i(704),d=function(){this._checkCollisions=!1,this._collisionMask=-1,this._collisionGroup=-1,this._surroundingMeshes=null,this._collider=null,this._oldPositionForCollisions=new s.e(0,0,0),this._diffPositionForCollisions=new s.e(0,0,0),this._collisionResponse=!0},h=i(667),p=i(870),b=i(244),m=i(50),A=i(245),g=i(105),y=function(){this.facetNb=0,this.partitioningSubdivisions=10,this.partitioningBBoxRatio=1.01,this.facetDataEnabled=!1,this.facetParameters={},this.bbSize=s.e.Zero(),this.subDiv={max:1,X:1,Y:1,Z:1},this.facetDepthSort=!1,this.facetDepthSortEnabled=!1},v=function(){this._hasVertexAlpha=!1,this._useVertexColors=!0,this._numBoneInfluencers=4,this._applyFog=!0,this._receiveShadows=!1,this._facetData=new y,this._visibility=1,this._skeleton=null,this._layerMask=268435455,this._computeBonesUsingShaders=!0,this._isActive=!1,this._onlyForInstances=!1,this._isActiveIntermediate=!1,this._onlyForInstancesIntermediate=!1,this._actAsRegularMesh=!1,this._currentLOD=null,this._currentLODIsUpToDate=!1},C=function(e){function t(i,n){void 0===n&&(n=null);var r=e.call(this,i,n,!1)||this;return r._internalAbstractMeshDataInfo=new v,r.cullingStrategy=t.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY,r.onCollideObservable=new o.a,r.onCollisionPositionChangeObservable=new o.a,r.onMaterialChangedObservable=new o.a,r.definedFacingForward=!0,r._occlusionQuery=null,r._renderingGroup=null,r.alphaIndex=Number.MAX_VALUE,r.isVisible=!0,r.isPickable=!0,r.showSubMeshesBoundingBox=!1,r.isBlocker=!1,r.enablePointerMoveEvents=!1,r._renderingGroupId=0,r._material=null,r.outlineColor=b.a.Red(),r.outlineWidth=.02,r.overlayColor=b.a.Red(),r.overlayAlpha=.5,r.useOctreeForRenderingSelection=!0,r.useOctreeForPicking=!0,r.useOctreeForCollisions=!0,r.alwaysSelectAsActiveMesh=!1,r.doNotSyncBoundingInfo=!1,r.actionManager=null,r._meshCollisionData=new d,r.ellipsoid=new s.e(.5,1,.5),r.ellipsoidOffset=new s.e(0,0,0),r.edgesWidth=1,r.edgesColor=new b.b(1,0,0,1),r._edgesRenderer=null,r._masterMesh=null,r._boundingInfo=null,r._renderId=0,r._intersectionsInProgress=new Array,r._unIndexed=!1,r._lightSources=new Array,r._waitingData={lods:null,actions:null,freezeWorldMatrix:null},r._bonesTransformMatrices=null,r._transformMatrixTexture=null,r.onRebuildObservable=new o.a,r._onCollisionPositionChange=function(e,t,i){void 0===i&&(i=null),t.subtractToRef(r._meshCollisionData._oldPositionForCollisions,r._meshCollisionData._diffPositionForCollisions),r._meshCollisionData._diffPositionForCollisions.length()>a.a.CollisionsEpsilon&&r.position.addInPlace(r._meshCollisionData._diffPositionForCollisions),i&&r.onCollideObservable.notifyObservers(i),r.onCollisionPositionChangeObservable.notifyObservers(r.position)},r.getScene().addMesh(r),r._resyncLightSources(),r}return Object(n.c)(t,e),Object.defineProperty(t,"BILLBOARDMODE_NONE",{get:function(){return _.a.BILLBOARDMODE_NONE},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BILLBOARDMODE_X",{get:function(){return _.a.BILLBOARDMODE_X},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BILLBOARDMODE_Y",{get:function(){return _.a.BILLBOARDMODE_Y},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BILLBOARDMODE_Z",{get:function(){return _.a.BILLBOARDMODE_Z},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BILLBOARDMODE_ALL",{get:function(){return _.a.BILLBOARDMODE_ALL},enumerable:!1,configurable:!0}),Object.defineProperty(t,"BILLBOARDMODE_USE_POSITION",{get:function(){return _.a.BILLBOARDMODE_USE_POSITION},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"facetNb",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetNb},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"partitioningSubdivisions",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions},set:function(e){this._internalAbstractMeshDataInfo._facetData.partitioningSubdivisions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"partitioningBBoxRatio",{get:function(){return this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio},set:function(e){this._internalAbstractMeshDataInfo._facetData.partitioningBBoxRatio=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"mustDepthSortFacets",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSort},set:function(e){this._internalAbstractMeshDataInfo._facetData.facetDepthSort=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"facetDepthSortFrom",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom},set:function(e){this._internalAbstractMeshDataInfo._facetData.facetDepthSortFrom=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isFacetDataEnabled",{get:function(){return this._internalAbstractMeshDataInfo._facetData.facetDataEnabled},enumerable:!1,configurable:!0}),t.prototype._updateNonUniformScalingState=function(t){return!!e.prototype._updateNonUniformScalingState.call(this,t)&&(this._markSubMeshesAsMiscDirty(),!0)},Object.defineProperty(t.prototype,"onCollide",{set:function(e){this._meshCollisionData._onCollideObserver&&this.onCollideObservable.remove(this._meshCollisionData._onCollideObserver),this._meshCollisionData._onCollideObserver=this.onCollideObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onCollisionPositionChange",{set:function(e){this._meshCollisionData._onCollisionPositionChangeObserver&&this.onCollisionPositionChangeObservable.remove(this._meshCollisionData._onCollisionPositionChangeObserver),this._meshCollisionData._onCollisionPositionChangeObserver=this.onCollisionPositionChangeObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"visibility",{get:function(){return this._internalAbstractMeshDataInfo._visibility},set:function(e){this._internalAbstractMeshDataInfo._visibility!==e&&(this._internalAbstractMeshDataInfo._visibility=e,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderingGroupId",{get:function(){return this._renderingGroupId},set:function(e){this._renderingGroupId=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"material",{get:function(){return this._material},set:function(e){this._material!==e&&(this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0),this._material=e,e&&e.meshMap&&(e.meshMap[this.uniqueId]=this),this.onMaterialChangedObservable.hasObservers()&&this.onMaterialChangedObservable.notifyObservers(this),this.subMeshes&&this._unBindEffect())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"receiveShadows",{get:function(){return this._internalAbstractMeshDataInfo._receiveShadows},set:function(e){this._internalAbstractMeshDataInfo._receiveShadows!==e&&(this._internalAbstractMeshDataInfo._receiveShadows=e,this._markSubMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasVertexAlpha",{get:function(){return this._internalAbstractMeshDataInfo._hasVertexAlpha},set:function(e){this._internalAbstractMeshDataInfo._hasVertexAlpha!==e&&(this._internalAbstractMeshDataInfo._hasVertexAlpha=e,this._markSubMeshesAsAttributesDirty(),this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"useVertexColors",{get:function(){return this._internalAbstractMeshDataInfo._useVertexColors},set:function(e){this._internalAbstractMeshDataInfo._useVertexColors!==e&&(this._internalAbstractMeshDataInfo._useVertexColors=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"computeBonesUsingShaders",{get:function(){return this._internalAbstractMeshDataInfo._computeBonesUsingShaders},set:function(e){this._internalAbstractMeshDataInfo._computeBonesUsingShaders!==e&&(this._internalAbstractMeshDataInfo._computeBonesUsingShaders=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"numBoneInfluencers",{get:function(){return this._internalAbstractMeshDataInfo._numBoneInfluencers},set:function(e){this._internalAbstractMeshDataInfo._numBoneInfluencers!==e&&(this._internalAbstractMeshDataInfo._numBoneInfluencers=e,this._markSubMeshesAsAttributesDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"applyFog",{get:function(){return this._internalAbstractMeshDataInfo._applyFog},set:function(e){this._internalAbstractMeshDataInfo._applyFog!==e&&(this._internalAbstractMeshDataInfo._applyFog=e,this._markSubMeshesAsMiscDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"layerMask",{get:function(){return this._internalAbstractMeshDataInfo._layerMask},set:function(e){e!==this._internalAbstractMeshDataInfo._layerMask&&(this._internalAbstractMeshDataInfo._layerMask=e,this._resyncLightSources())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisionMask",{get:function(){return this._meshCollisionData._collisionMask},set:function(e){this._meshCollisionData._collisionMask=isNaN(e)?-1:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisionResponse",{get:function(){return this._meshCollisionData._collisionResponse},set:function(e){this._meshCollisionData._collisionResponse=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collisionGroup",{get:function(){return this._meshCollisionData._collisionGroup},set:function(e){this._meshCollisionData._collisionGroup=isNaN(e)?-1:e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"surroundingMeshes",{get:function(){return this._meshCollisionData._surroundingMeshes},set:function(e){this._meshCollisionData._surroundingMeshes=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lightSources",{get:function(){return this._lightSources},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_positions",{get:function(){return null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"skeleton",{get:function(){return this._internalAbstractMeshDataInfo._skeleton},set:function(e){var t=this._internalAbstractMeshDataInfo._skeleton;t&&t.needInitialSkinMatrix&&t._unregisterMeshWithPoseMatrix(this),e&&e.needInitialSkinMatrix&&e._registerMeshWithPoseMatrix(this),this._internalAbstractMeshDataInfo._skeleton=e,this._internalAbstractMeshDataInfo._skeleton||(this._bonesTransformMatrices=null),this._markSubMeshesAsAttributesDirty()},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"AbstractMesh"},t.prototype.toString=function(e){var t="Name: "+this.name+", isInstance: "+("InstancedMesh"!==this.getClassName()?"YES":"NO");t+=", # of submeshes: "+(this.subMeshes?this.subMeshes.length:0);var i=this._internalAbstractMeshDataInfo._skeleton;return i&&(t+=", skeleton: "+i.name),e&&(t+=", billboard mode: "+["NONE","X","Y",null,"Z",null,null,"ALL"][this.billboardMode],t+=", freeze wrld mat: "+(this._isWorldMatrixFrozen||this._waitingData.freezeWorldMatrix?"YES":"NO")),t},t.prototype._getEffectiveParent=function(){return this._masterMesh&&this.billboardMode!==_.a.BILLBOARDMODE_NONE?this._masterMesh:e.prototype._getEffectiveParent.call(this)},t.prototype._getActionManagerForTrigger=function(e,t){if(void 0===t&&(t=!0),this.actionManager&&(t||this.actionManager.isRecursive)){if(!e)return this.actionManager;if(this.actionManager.hasSpecificTrigger(e))return this.actionManager}return this.parent?this.parent._getActionManagerForTrigger(e,!1):null},t.prototype._rebuild=function(){if(this.onRebuildObservable.notifyObservers(this),this._occlusionQuery&&(this._occlusionQuery=null),this.subMeshes)for(var e=0,t=this.subMeshes;e<t.length;e++){t[e]._rebuild()}},t.prototype._resyncLightSources=function(){this._lightSources.length=0;for(var e=0,t=this.getScene().lights;e<t.length;e++){var i=t[e];i.isEnabled()&&(i.canAffectMesh(this)&&this._lightSources.push(i))}this._markSubMeshesAsLightDirty()},t.prototype._resyncLightSource=function(e){var t=e.isEnabled()&&e.canAffectMesh(this),i=this._lightSources.indexOf(e),n=!1;if(-1===i){if(!t)return;this._lightSources.push(e)}else{if(t)return;n=!0,this._lightSources.splice(i,1)}this._markSubMeshesAsLightDirty(n)},t.prototype._unBindEffect=function(){for(var e=0,t=this.subMeshes;e<t.length;e++){t[e].setEffect(null)}},t.prototype._removeLightSource=function(e,t){var i=this._lightSources.indexOf(e);-1!==i&&(this._lightSources.splice(i,1),this._markSubMeshesAsLightDirty(t))},t.prototype._markSubMeshesAsDirty=function(e){if(this.subMeshes)for(var t=0,i=this.subMeshes;t<i.length;t++){var n=i[t];n._materialDefines&&e(n._materialDefines)}},t.prototype._markSubMeshesAsLightDirty=function(e){void 0===e&&(e=!1),this._markSubMeshesAsDirty(function(t){return t.markAsLightDirty(e)})},t.prototype._markSubMeshesAsAttributesDirty=function(){this._markSubMeshesAsDirty(function(e){return e.markAsAttributesDirty()})},t.prototype._markSubMeshesAsMiscDirty=function(){this._markSubMeshesAsDirty(function(e){return e.markAsMiscDirty()})},Object.defineProperty(t.prototype,"scaling",{get:function(){return this._scaling},set:function(e){this._scaling=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBlocked",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.getLOD=function(e){return this},t.prototype.getTotalVertices=function(){return 0},t.prototype.getTotalIndices=function(){return 0},t.prototype.getIndices=function(){return null},t.prototype.getVerticesData=function(e){return null},t.prototype.setVerticesData=function(e,t,i,n){return this},t.prototype.updateVerticesData=function(e,t,i,n){return this},t.prototype.setIndices=function(e,t){return this},t.prototype.isVerticesDataPresent=function(e){return!1},t.prototype.getBoundingInfo=function(){return this._masterMesh?this._masterMesh.getBoundingInfo():(this._boundingInfo||this._updateBoundingInfo(),this._boundingInfo)},t.prototype.normalizeToUnitCube=function(t,i,n){return void 0===t&&(t=!0),void 0===i&&(i=!1),e.prototype.normalizeToUnitCube.call(this,t,i,n)},t.prototype.setBoundingInfo=function(e){return this._boundingInfo=e,this},Object.defineProperty(t.prototype,"useBones",{get:function(){return this.skeleton&&this.getScene().skeletonsEnabled&&this.isVerticesDataPresent(c.b.MatricesIndicesKind)&&this.isVerticesDataPresent(c.b.MatricesWeightsKind)},enumerable:!1,configurable:!0}),t.prototype._preActivate=function(){},t.prototype._preActivateForIntermediateRendering=function(e){},t.prototype._activate=function(e,t){return this._renderId=e,!0},t.prototype._postActivate=function(){},t.prototype._freeze=function(){},t.prototype._unFreeze=function(){},t.prototype.getWorldMatrix=function(){return this._masterMesh&&this.billboardMode===_.a.BILLBOARDMODE_NONE?this._masterMesh.getWorldMatrix():e.prototype.getWorldMatrix.call(this)},t.prototype._getWorldMatrixDeterminant=function(){return this._masterMesh?this._masterMesh._getWorldMatrixDeterminant():e.prototype._getWorldMatrixDeterminant.call(this)},Object.defineProperty(t.prototype,"isAnInstance",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasInstances",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"hasThinInstances",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype.movePOV=function(e,t,i){return this.position.addInPlace(this.calcMovePOV(e,t,i)),this},t.prototype.calcMovePOV=function(e,t,i){var n=new s.a;(this.rotationQuaternion?this.rotationQuaternion:s.b.RotationYawPitchRoll(this.rotation.y,this.rotation.x,this.rotation.z)).toRotationMatrix(n);var r=s.e.Zero(),o=this.definedFacingForward?-1:1;return s.e.TransformCoordinatesFromFloatsToRef(e*o,t,i*o,n,r),r},t.prototype.rotatePOV=function(e,t,i){return this.rotation.addInPlace(this.calcRotatePOV(e,t,i)),this},t.prototype.calcRotatePOV=function(e,t,i){var n=this.definedFacingForward?1:-1;return new s.e(e*n,t,i*n)},t.prototype.refreshBoundingInfo=function(e){return void 0===e&&(e=!1),this._boundingInfo&&this._boundingInfo.isLocked||this._refreshBoundingInfo(this._getPositionData(e),null),this},t.prototype._refreshBoundingInfo=function(e,t){if(e){var i=Object(p.a)(e,0,this.getTotalVertices(),t);this._boundingInfo?this._boundingInfo.reConstruct(i.minimum,i.maximum):this._boundingInfo=new f.a(i.minimum,i.maximum)}if(this.subMeshes)for(var n=0;n<this.subMeshes.length;n++)this.subMeshes[n].refreshBoundingInfo(e);this._updateBoundingInfo()},t.prototype._getPositionData=function(e){var t=this.getVerticesData(c.b.PositionKind);if(t&&e&&this.skeleton){t=r.b.Slice(t),this._generatePointsArray();var i=this.getVerticesData(c.b.MatricesIndicesKind),n=this.getVerticesData(c.b.MatricesWeightsKind);if(n&&i){var o=this.numBoneInfluencers>4,a=o?this.getVerticesData(c.b.MatricesIndicesExtraKind):null,l=o?this.getVerticesData(c.b.MatricesWeightsExtraKind):null;this.skeleton.prepare();for(var _=this.skeleton.getTransformMatrices(this),u=s.c.Vector3[0],f=s.c.Matrix[0],d=s.c.Matrix[1],h=0,p=0;p<t.length;p+=3,h+=4){var b,m;for(f.reset(),b=0;b<4;b++)(m=n[h+b])>0&&(s.a.FromFloat32ArrayToRefScaled(_,Math.floor(16*i[h+b]),m,d),f.addToSelf(d));if(o)for(b=0;b<4;b++)(m=l[h+b])>0&&(s.a.FromFloat32ArrayToRefScaled(_,Math.floor(16*a[h+b]),m,d),f.addToSelf(d));s.e.TransformCoordinatesFromFloatsToRef(t[p],t[p+1],t[p+2],f,u),u.toArray(t,p),this._positions&&this._positions[p/3].copyFrom(u)}}}return t},t.prototype._updateBoundingInfo=function(){var e=this._effectiveMesh;return this._boundingInfo?this._boundingInfo.update(e.worldMatrixFromCache):this._boundingInfo=new f.a(this.absolutePosition,this.absolutePosition,e.worldMatrixFromCache),this._updateSubMeshesBoundingInfo(e.worldMatrixFromCache),this},t.prototype._updateSubMeshesBoundingInfo=function(e){if(!this.subMeshes)return this;for(var t=this.subMeshes.length,i=0;i<t;i++){var n=this.subMeshes[i];(t>1||!n.IsGlobal)&&n.updateBoundingInfo(e)}return this},t.prototype._afterComputeWorldMatrix=function(){this.doNotSyncBoundingInfo||this._updateBoundingInfo()},Object.defineProperty(t.prototype,"_effectiveMesh",{get:function(){return this.skeleton&&this.skeleton.overrideMesh||this},enumerable:!1,configurable:!0}),t.prototype.isInFrustum=function(e){return null!==this._boundingInfo&&this._boundingInfo.isInFrustum(e,this.cullingStrategy)},t.prototype.isCompletelyInFrustum=function(e){return null!==this._boundingInfo&&this._boundingInfo.isCompletelyInFrustum(e)},t.prototype.intersectsMesh=function(e,t,i){if(void 0===t&&(t=!1),!this._boundingInfo||!e._boundingInfo)return!1;if(this._boundingInfo.intersects(e._boundingInfo,t))return!0;if(i)for(var n=0,r=this.getChildMeshes();n<r.length;n++){if(r[n].intersectsMesh(e,t,!0))return!0}return!1},t.prototype.intersectsPoint=function(e){return!!this._boundingInfo&&this._boundingInfo.intersectsPoint(e)},Object.defineProperty(t.prototype,"checkCollisions",{get:function(){return this._meshCollisionData._checkCollisions},set:function(e){this._meshCollisionData._checkCollisions=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"collider",{get:function(){return this._meshCollisionData._collider},enumerable:!1,configurable:!0}),t.prototype.moveWithCollisions=function(e){this.getAbsolutePosition().addToRef(this.ellipsoidOffset,this._meshCollisionData._oldPositionForCollisions);var t=this.getScene().collisionCoordinator;return this._meshCollisionData._collider||(this._meshCollisionData._collider=t.createCollider()),this._meshCollisionData._collider._radius=this.ellipsoid,t.getNewPosition(this._meshCollisionData._oldPositionForCollisions,e,this._meshCollisionData._collider,3,this,this._onCollisionPositionChange,this.uniqueId),this},t.prototype._collideForSubMesh=function(e,t,i){if(this._generatePointsArray(),!this._positions)return this;if(!e._lastColliderWorldVertices||!e._lastColliderTransformMatrix.equals(t)){e._lastColliderTransformMatrix=t.clone(),e._lastColliderWorldVertices=[],e._trianglePlanes=[];for(var n=e.verticesStart,r=e.verticesStart+e.verticesCount,o=n;o<r;o++)e._lastColliderWorldVertices.push(s.e.TransformCoordinates(this._positions[o],t))}return i._collide(e._trianglePlanes,e._lastColliderWorldVertices,this.getIndices(),e.indexStart,e.indexStart+e.indexCount,e.verticesStart,!!e.getMaterial(),this),this},t.prototype._processCollisionsForSubMeshes=function(e,t){for(var i=this._scene.getCollidingSubMeshCandidates(this,e),n=i.length,r=0;r<n;r++){var o=i.data[r];n>1&&!o._checkCollision(e)||this._collideForSubMesh(o,t,e)}return this},t.prototype._checkCollision=function(e){if(!this._boundingInfo||!this._boundingInfo._checkCollision(e))return this;var t=s.c.Matrix[0],i=s.c.Matrix[1];return s.a.ScalingToRef(1/e._radius.x,1/e._radius.y,1/e._radius.z,t),this.worldMatrixFromCache.multiplyToRef(t,i),this._processCollisionsForSubMeshes(e,i),this},t.prototype._generatePointsArray=function(){return!1},t.prototype.intersects=function(e,t,i,n,r,o){var a;void 0===n&&(n=!1),void 0===o&&(o=!1);var c=new u.a,l="InstancedLinesMesh"===this.getClassName()||"LinesMesh"===this.getClassName()?this.intersectionThreshold:0,_=this._boundingInfo;if(!this.subMeshes||!_)return c;if(!o&&(!e.intersectsSphere(_.boundingSphere,l)||!e.intersectsBox(_.boundingBox,l)))return c;if(n)return c.hit=!o,c.pickedMesh=o?null:this,c.distance=o?0:s.e.Distance(e.origin,_.boundingSphere.center),c.subMeshId=0,c;if(!this._generatePointsArray())return c;for(var f=null,d=this._scene.getIntersectingSubMeshCandidates(this,e),h=d.length,p=!1,b=0;b<h;b++){var m=(A=d.data[b]).getMaterial();if(m&&((null===(a=this.getIndices())||void 0===a?void 0:a.length)&&(7==m.fillMode||0==m.fillMode||1==m.fillMode||2==m.fillMode))){p=!0;break}}if(!p)return c.hit=!0,c.pickedMesh=this,c.distance=s.e.Distance(e.origin,_.boundingSphere.center),c.subMeshId=-1,c;for(b=0;b<h;b++){var A=d.data[b];if(!(h>1)||A.canIntersects(e)){var g=A.intersects(e,this._positions,this.getIndices(),t,i);if(g&&(t||!f||g.distance<f.distance)&&((f=g).subMeshId=b,t))break}}if(f){var y=null!==r&&void 0!==r?r:this.skeleton&&this.skeleton.overrideMesh?this.skeleton.overrideMesh.getWorldMatrix():this.getWorldMatrix(),v=s.c.Vector3[0],C=s.c.Vector3[1];s.e.TransformCoordinatesToRef(e.origin,y,v),e.direction.scaleToRef(f.distance,C);var E=s.e.TransformNormal(C,y).addInPlace(v);return c.hit=!0,c.distance=s.e.Distance(v,E),c.pickedPoint=E,c.pickedMesh=this,c.bu=f.bu||0,c.bv=f.bv||0,c.subMeshFaceId=f.faceId,c.faceId=f.faceId+d.data[f.subMeshId].indexStart/(-1!==this.getClassName().indexOf("LinesMesh")?2:3),c.subMeshId=f.subMeshId,c}return c},t.prototype.clone=function(e,t,i){return null},t.prototype.releaseSubMeshes=function(){if(this.subMeshes)for(;this.subMeshes.length;)this.subMeshes[0].dispose();else this.subMeshes=new Array;return this},t.prototype.dispose=function(t,i){var n,r=this;for(void 0===i&&(i=!1),this._scene.useMaterialMeshMap&&this._material&&this._material.meshMap&&(this._material.meshMap[this.uniqueId]=void 0),this.getScene().freeActiveMeshes(),this.getScene().freeRenderingGroups(),void 0!==this.actionManager&&null!==this.actionManager&&(this.actionManager.dispose(),this.actionManager=null),this._internalAbstractMeshDataInfo._skeleton=null,this._transformMatrixTexture&&(this._transformMatrixTexture.dispose(),this._transformMatrixTexture=null),n=0;n<this._intersectionsInProgress.length;n++){var o=this._intersectionsInProgress[n],s=o._intersectionsInProgress.indexOf(this);o._intersectionsInProgress.splice(s,1)}this._intersectionsInProgress=[],this.getScene().lights.forEach(function(e){var t=e.includedOnlyMeshes.indexOf(r);-1!==t&&e.includedOnlyMeshes.splice(t,1),-1!==(t=e.excludedMeshes.indexOf(r))&&e.excludedMeshes.splice(t,1);var i=e.getShadowGenerator();if(i){var n=i.getShadowMap();n&&n.renderList&&-1!==(t=n.renderList.indexOf(r))&&n.renderList.splice(t,1)}}),"InstancedMesh"===this.getClassName()&&"InstancedLinesMesh"===this.getClassName()||this.releaseSubMeshes();var a=this.getScene().getEngine();if(this._occlusionQuery&&(this.isOcclusionQueryInProgress=!1,a.deleteQuery(this._occlusionQuery),this._occlusionQuery=null),a.wipeCaches(),this.getScene().removeMesh(this),i&&this.material&&("MultiMaterial"===this.material.getClassName()?this.material.dispose(!1,!0,!0):this.material.dispose(!1,!0)),!t)for(n=0;n<this.getScene().particleSystems.length;n++)this.getScene().particleSystems[n].emitter===this&&(this.getScene().particleSystems[n].dispose(),n--);this._internalAbstractMeshDataInfo._facetData.facetDataEnabled&&this.disableFacetData(),this.onAfterWorldMatrixUpdateObservable.clear(),this.onCollideObservable.clear(),this.onCollisionPositionChangeObservable.clear(),this.onRebuildObservable.clear(),e.prototype.dispose.call(this,t,i)},t.prototype.addChild=function(e){return e.setParent(this),this},t.prototype.removeChild=function(e){return e.setParent(null),this},t.prototype._initFacetData=function(){var e=this._internalAbstractMeshDataInfo._facetData;e.facetNormals||(e.facetNormals=new Array),e.facetPositions||(e.facetPositions=new Array),e.facetPartitioning||(e.facetPartitioning=new Array),e.facetNb=this.getIndices().length/3|0,e.partitioningSubdivisions=e.partitioningSubdivisions?e.partitioningSubdivisions:10,e.partitioningBBoxRatio=e.partitioningBBoxRatio?e.partitioningBBoxRatio:1.01;for(var t=0;t<e.facetNb;t++)e.facetNormals[t]=s.e.Zero(),e.facetPositions[t]=s.e.Zero();return e.facetDataEnabled=!0,this},t.prototype.updateFacetData=function(){var e=this._internalAbstractMeshDataInfo._facetData;e.facetDataEnabled||this._initFacetData();var t=this.getVerticesData(c.b.PositionKind),i=this.getIndices(),n=this.getVerticesData(c.b.NormalKind),r=this.getBoundingInfo();if(e.facetDepthSort&&!e.facetDepthSortEnabled){if(e.facetDepthSortEnabled=!0,i instanceof Uint16Array)e.depthSortedIndices=new Uint16Array(i);else if(i instanceof Uint32Array)e.depthSortedIndices=new Uint32Array(i);else{for(var o=!1,a=0;a<i.length;a++)if(i[a]>65535){o=!0;break}e.depthSortedIndices=o?new Uint32Array(i):new Uint16Array(i)}if(e.facetDepthSortFunction=function(e,t){return t.sqDistance-e.sqDistance},!e.facetDepthSortFrom){var _=this.getScene().activeCamera;e.facetDepthSortFrom=_?_.position:s.e.Zero()}e.depthSortedFacets=[];for(var u=0;u<e.facetNb;u++){var f={ind:3*u,sqDistance:0};e.depthSortedFacets.push(f)}e.invertedMatrix=s.a.Identity(),e.facetDepthSortOrigin=s.e.Zero()}e.bbSize.x=r.maximum.x-r.minimum.x>m.a?r.maximum.x-r.minimum.x:m.a,e.bbSize.y=r.maximum.y-r.minimum.y>m.a?r.maximum.y-r.minimum.y:m.a,e.bbSize.z=r.maximum.z-r.minimum.z>m.a?r.maximum.z-r.minimum.z:m.a;var d=e.bbSize.x>e.bbSize.y?e.bbSize.x:e.bbSize.y;if(d=d>e.bbSize.z?d:e.bbSize.z,e.subDiv.max=e.partitioningSubdivisions,e.subDiv.X=Math.floor(e.subDiv.max*e.bbSize.x/d),e.subDiv.Y=Math.floor(e.subDiv.max*e.bbSize.y/d),e.subDiv.Z=Math.floor(e.subDiv.max*e.bbSize.z/d),e.subDiv.X=e.subDiv.X<1?1:e.subDiv.X,e.subDiv.Y=e.subDiv.Y<1?1:e.subDiv.Y,e.subDiv.Z=e.subDiv.Z<1?1:e.subDiv.Z,e.facetParameters.facetNormals=this.getFacetLocalNormals(),e.facetParameters.facetPositions=this.getFacetLocalPositions(),e.facetParameters.facetPartitioning=this.getFacetLocalPartitioning(),e.facetParameters.bInfo=r,e.facetParameters.bbSize=e.bbSize,e.facetParameters.subDiv=e.subDiv,e.facetParameters.ratio=this.partitioningBBoxRatio,e.facetParameters.depthSort=e.facetDepthSort,e.facetDepthSort&&e.facetDepthSortEnabled&&(this.computeWorldMatrix(!0),this._worldMatrix.invertToRef(e.invertedMatrix),s.e.TransformCoordinatesToRef(e.facetDepthSortFrom,e.invertedMatrix,e.facetDepthSortOrigin),e.facetParameters.distanceTo=e.facetDepthSortOrigin),e.facetParameters.depthSortedFacets=e.depthSortedFacets,l.a.ComputeNormals(t,i,n,e.facetParameters),e.facetDepthSort&&e.facetDepthSortEnabled){e.depthSortedFacets.sort(e.facetDepthSortFunction);var h=e.depthSortedIndices.length/3|0;for(u=0;u<h;u++){var p=e.depthSortedFacets[u].ind;e.depthSortedIndices[3*u]=i[p],e.depthSortedIndices[3*u+1]=i[p+1],e.depthSortedIndices[3*u+2]=i[p+2]}this.updateIndices(e.depthSortedIndices,void 0,!0)}return this},t.prototype.getFacetLocalNormals=function(){var e=this._internalAbstractMeshDataInfo._facetData;return e.facetNormals||this.updateFacetData(),e.facetNormals},t.prototype.getFacetLocalPositions=function(){var e=this._internalAbstractMeshDataInfo._facetData;return e.facetPositions||this.updateFacetData(),e.facetPositions},t.prototype.getFacetLocalPartitioning=function(){var e=this._internalAbstractMeshDataInfo._facetData;return e.facetPartitioning||this.updateFacetData(),e.facetPartitioning},t.prototype.getFacetPosition=function(e){var t=s.e.Zero();return this.getFacetPositionToRef(e,t),t},t.prototype.getFacetPositionToRef=function(e,t){var i=this.getFacetLocalPositions()[e],n=this.getWorldMatrix();return s.e.TransformCoordinatesToRef(i,n,t),this},t.prototype.getFacetNormal=function(e){var t=s.e.Zero();return this.getFacetNormalToRef(e,t),t},t.prototype.getFacetNormalToRef=function(e,t){var i=this.getFacetLocalNormals()[e];return s.e.TransformNormalToRef(i,this.getWorldMatrix(),t),this},t.prototype.getFacetsAtLocalCoordinates=function(e,t,i){var n=this.getBoundingInfo(),r=this._internalAbstractMeshDataInfo._facetData,o=Math.floor((e-n.minimum.x*r.partitioningBBoxRatio)*r.subDiv.X*r.partitioningBBoxRatio/r.bbSize.x),s=Math.floor((t-n.minimum.y*r.partitioningBBoxRatio)*r.subDiv.Y*r.partitioningBBoxRatio/r.bbSize.y),a=Math.floor((i-n.minimum.z*r.partitioningBBoxRatio)*r.subDiv.Z*r.partitioningBBoxRatio/r.bbSize.z);return o<0||o>r.subDiv.max||s<0||s>r.subDiv.max||a<0||a>r.subDiv.max?null:r.facetPartitioning[o+r.subDiv.max*s+r.subDiv.max*r.subDiv.max*a]},t.prototype.getClosestFacetAtCoordinates=function(e,t,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=!0);var a=this.getWorldMatrix(),c=s.c.Matrix[5];a.invertToRef(c);var l=s.c.Vector3[8];s.e.TransformCoordinatesFromFloatsToRef(e,t,i,c,l);var _=this.getClosestFacetAtLocalCoordinates(l.x,l.y,l.z,n,r,o);return n&&s.e.TransformCoordinatesFromFloatsToRef(n.x,n.y,n.z,a,n),_},t.prototype.getClosestFacetAtLocalCoordinates=function(e,t,i,n,r,o){void 0===r&&(r=!1),void 0===o&&(o=!0);var s=null,a=0,c=0,l=0,_=0,u=0,f=0,d=0,h=0,p=this.getFacetLocalPositions(),b=this.getFacetLocalNormals(),m=this.getFacetsAtLocalCoordinates(e,t,i);if(!m)return null;for(var A,g,y,v=Number.MAX_VALUE,C=v,E=0;E<m.length;E++)g=b[A=m[E]],_=(e-(y=p[A]).x)*g.x+(t-y.y)*g.y+(i-y.z)*g.z,(!r||r&&o&&_>=0||r&&!o&&_<=0)&&(_=g.x*y.x+g.y*y.y+g.z*y.z,u=-(g.x*e+g.y*t+g.z*i-_)/(g.x*g.x+g.y*g.y+g.z*g.z),(C=(a=(f=e+g.x*u)-e)*a+(c=(d=t+g.y*u)-t)*c+(l=(h=i+g.z*u)-i)*l)<v&&(v=C,s=A,n&&(n.x=f,n.y=d,n.z=h)));return s},t.prototype.getFacetDataParameters=function(){return this._internalAbstractMeshDataInfo._facetData.facetParameters},t.prototype.disableFacetData=function(){var e=this._internalAbstractMeshDataInfo._facetData;return e.facetDataEnabled&&(e.facetDataEnabled=!1,e.facetPositions=new Array,e.facetNormals=new Array,e.facetPartitioning=new Array,e.facetParameters=null,e.depthSortedIndices=new Uint32Array(0)),this},t.prototype.updateIndices=function(e,t,i){return void 0===i&&(i=!1),this},t.prototype.createNormals=function(e){var t,i=this.getVerticesData(c.b.PositionKind),n=this.getIndices();return t=this.isVerticesDataPresent(c.b.NormalKind)?this.getVerticesData(c.b.NormalKind):[],l.a.ComputeNormals(i,n,t,{useRightHandedSystem:this.getScene().useRightHandedSystem}),this.setVerticesData(c.b.NormalKind,t,e),this},t.prototype.alignWithNormal=function(e,t){t||(t=A.a.Y);var i=s.c.Vector3[0],n=s.c.Vector3[1];return s.e.CrossToRef(t,e,n),s.e.CrossToRef(e,n,i),this.rotationQuaternion?s.b.RotationQuaternionFromAxisToRef(i,e,n,this.rotationQuaternion):s.e.RotationFromAxisToRef(i,e,n,this.rotation),this},t.prototype._checkOcclusionQuery=function(){return!1},t.prototype.disableEdgesRendering=function(){throw h.a.WarnImport("EdgesRenderer")},t.prototype.enableEdgesRendering=function(e,t,i){throw h.a.WarnImport("EdgesRenderer")},t.prototype.getConnectedParticleSystems=function(){var e=this;return this._scene.particleSystems.filter(function(t){return t.emitter===e})},t.OCCLUSION_TYPE_NONE=0,t.OCCLUSION_TYPE_OPTIMISTIC=1,t.OCCLUSION_TYPE_STRICT=2,t.OCCLUSION_ALGORITHM_TYPE_ACCURATE=0,t.OCCLUSION_ALGORITHM_TYPE_CONSERVATIVE=1,t.CULLINGSTRATEGY_STANDARD=0,t.CULLINGSTRATEGY_BOUNDINGSPHERE_ONLY=1,t.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION=2,t.CULLINGSTRATEGY_OPTIMISTIC_INCLUSION_THEN_BSPHERE_ONLY=3,t}(_.a);g.a.RegisteredTypes["BABYLON.AbstractMesh"]=C},754:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(702),r=i(649),o=function(e,t){return e?e.getClassName&&"Mesh"===e.getClassName()?null:e.getClassName&&"SubMesh"===e.getClassName()?e.clone(t):e.clone?e.clone():null:null};var s=function(){function e(){}return e.DeepCopy=function(e,t,i,s){for(var a=function(e){var t=[];do{Object.getOwnPropertyNames(e).forEach(function(e){-1===t.indexOf(e)&&t.push(e)})}while(e=Object.getPrototypeOf(e));return t}(e),c=0,l=a;c<l.length;c++){var _=l[c];if(("_"!==_[0]||s&&-1!==s.indexOf(_))&&(!n.a.EndsWith(_,"Observable")&&(!i||-1===i.indexOf(_)))){var u=e[_],f=typeof u;if("function"!==f)try{if("object"===f)if(u instanceof Array){if(t[_]=[],u.length>0)if("object"==typeof u[0])for(var d=0;d<u.length;d++){var h=o(u[d],t);-1===t[_].indexOf(h)&&t[_].push(h)}else t[_]=u.slice(0)}else t[_]=o(u,t);else t[_]=u}catch(p){r.a.Warn(p.message)}}}},e}()},755:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(701),r=function(){function e(){}return Object.defineProperty(e,"Now",{get:function(){return n.a.IsWindowObjectExist()&&window.performance&&window.performance.now?window.performance.now():Date.now()},enumerable:!1,configurable:!0}),e}()},756:function(e,t,i){"use strict";var n="bonesDeclaration",r="#if NUM_BONE_INFLUENCERS>0\n#ifdef BONETEXTURE\nuniform sampler2D boneSampler;\nuniform float boneTextureWidth;\n#else\nuniform mat4 mBones[BonesPerMesh];\n#ifdef BONES_VELOCITY_ENABLED\nuniform mat4 mPreviousBones[BonesPerMesh];\n#endif\n#endif\nattribute vec4 matricesIndices;\nattribute vec4 matricesWeights;\n#if NUM_BONE_INFLUENCERS>4\nattribute vec4 matricesIndicesExtra;\nattribute vec4 matricesWeightsExtra;\n#endif\n#ifdef BONETEXTURE\n#define inline\nmat4 readMatrixFromRawSampler(sampler2D smp,float index)\n{\nfloat offset=index*4.0;\nfloat dx=1.0/boneTextureWidth;\nvec4 m0=texture2D(smp,vec2(dx*(offset+0.5),0.));\nvec4 m1=texture2D(smp,vec2(dx*(offset+1.5),0.));\nvec4 m2=texture2D(smp,vec2(dx*(offset+2.5),0.));\nvec4 m3=texture2D(smp,vec2(dx*(offset+3.5),0.));\nreturn mat4(m0,m1,m2,m3);\n}\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},757:function(e,t,i){"use strict";var n="instancesDeclaration",r="#ifdef INSTANCES\nattribute vec4 world0;\nattribute vec4 world1;\nattribute vec4 world2;\nattribute vec4 world3;\n#ifdef THIN_INSTANCES\nuniform mat4 world;\n#endif\n#else\nuniform mat4 world;\n#endif";i(642).a.IncludesShadersStore[n]=r},758:function(e,t,i){"use strict";var n="instancesVertex",r="#ifdef INSTANCES\nmat4 finalWorld=mat4(world0,world1,world2,world3);\n#ifdef THIN_INSTANCES\nfinalWorld=world*finalWorld;\n#endif\n#else\nmat4 finalWorld=world;\n#endif";i(642).a.IncludesShadersStore[n]=r},759:function(e,t,i){"use strict";var n="bonesVertex",r="#if NUM_BONE_INFLUENCERS>0\nmat4 influence;\n#ifdef BONETEXTURE\ninfluence=readMatrixFromRawSampler(boneSampler,matricesIndices[0])*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[1])*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[2])*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndices[3])*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[0])*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[1])*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[2])*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\ninfluence+=readMatrixFromRawSampler(boneSampler,matricesIndicesExtra[3])*matricesWeightsExtra[3];\n#endif\n#else\ninfluence=mBones[int(matricesIndices[0])]*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\ninfluence+=mBones[int(matricesIndices[1])]*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\ninfluence+=mBones[int(matricesIndices[2])]*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\ninfluence+=mBones[int(matricesIndices[3])]*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\ninfluence+=mBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\ninfluence+=mBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\ninfluence+=mBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\ninfluence+=mBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\n#endif\n#endif\nfinalWorld=finalWorld*influence;\n#endif";i(642).a.IncludesShadersStore[n]=r},760:function(e,t,i){"use strict";i.d(t,"a",function(){return c}),i.d(t,"b",function(){return l});var n=i(30),r=[Math.sqrt(1/(4*Math.PI)),-Math.sqrt(3/(4*Math.PI)),Math.sqrt(3/(4*Math.PI)),-Math.sqrt(3/(4*Math.PI)),Math.sqrt(15/(4*Math.PI)),-Math.sqrt(15/(4*Math.PI)),Math.sqrt(5/(16*Math.PI)),-Math.sqrt(15/(4*Math.PI)),Math.sqrt(15/(16*Math.PI))],o=[function(e){return 1},function(e){return e.y},function(e){return e.z},function(e){return e.x},function(e){return e.x*e.y},function(e){return e.y*e.z},function(e){return 3*e.z*e.z-1},function(e){return e.x*e.z},function(e){return e.x*e.x-e.y*e.y}],s=function(e,t){return r[e]*o[e](t)},a=[Math.PI,2*Math.PI/3,2*Math.PI/3,2*Math.PI/3,Math.PI/4,Math.PI/4,Math.PI/4,Math.PI/4,Math.PI/4],c=function(){function e(){this.preScaled=!1,this.l00=n.e.Zero(),this.l1_1=n.e.Zero(),this.l10=n.e.Zero(),this.l11=n.e.Zero(),this.l2_2=n.e.Zero(),this.l2_1=n.e.Zero(),this.l20=n.e.Zero(),this.l21=n.e.Zero(),this.l22=n.e.Zero()}return e.prototype.addLight=function(e,t,i){var r=new n.e(t.r,t.g,t.b).scale(i);this.l00=this.l00.add(r.scale(s(0,e))),this.l1_1=this.l1_1.add(r.scale(s(1,e))),this.l10=this.l10.add(r.scale(s(2,e))),this.l11=this.l11.add(r.scale(s(3,e))),this.l2_2=this.l2_2.add(r.scale(s(4,e))),this.l2_1=this.l2_1.add(r.scale(s(5,e))),this.l20=this.l20.add(r.scale(s(6,e))),this.l21=this.l21.add(r.scale(s(7,e))),this.l22=this.l22.add(r.scale(s(8,e)))},e.prototype.scaleInPlace=function(e){this.l00.scaleInPlace(e),this.l1_1.scaleInPlace(e),this.l10.scaleInPlace(e),this.l11.scaleInPlace(e),this.l2_2.scaleInPlace(e),this.l2_1.scaleInPlace(e),this.l20.scaleInPlace(e),this.l21.scaleInPlace(e),this.l22.scaleInPlace(e)},e.prototype.convertIncidentRadianceToIrradiance=function(){this.l00.scaleInPlace(a[0]),this.l1_1.scaleInPlace(a[1]),this.l10.scaleInPlace(a[2]),this.l11.scaleInPlace(a[3]),this.l2_2.scaleInPlace(a[4]),this.l2_1.scaleInPlace(a[5]),this.l20.scaleInPlace(a[6]),this.l21.scaleInPlace(a[7]),this.l22.scaleInPlace(a[8])},e.prototype.convertIrradianceToLambertianRadiance=function(){this.scaleInPlace(1/Math.PI)},e.prototype.preScaleForRendering=function(){this.preScaled=!0,this.l00.scaleInPlace(r[0]),this.l1_1.scaleInPlace(r[1]),this.l10.scaleInPlace(r[2]),this.l11.scaleInPlace(r[3]),this.l2_2.scaleInPlace(r[4]),this.l2_1.scaleInPlace(r[5]),this.l20.scaleInPlace(r[6]),this.l21.scaleInPlace(r[7]),this.l22.scaleInPlace(r[8])},e.FromArray=function(t){var i=new e;return n.e.FromArrayToRef(t[0],0,i.l00),n.e.FromArrayToRef(t[1],0,i.l1_1),n.e.FromArrayToRef(t[2],0,i.l10),n.e.FromArrayToRef(t[3],0,i.l11),n.e.FromArrayToRef(t[4],0,i.l2_2),n.e.FromArrayToRef(t[5],0,i.l2_1),n.e.FromArrayToRef(t[6],0,i.l20),n.e.FromArrayToRef(t[7],0,i.l21),n.e.FromArrayToRef(t[8],0,i.l22),i},e.FromPolynomial=function(t){var i=new e;return i.l00=t.xx.scale(.376127).add(t.yy.scale(.376127)).add(t.zz.scale(.376126)),i.l1_1=t.y.scale(.977204),i.l10=t.z.scale(.977204),i.l11=t.x.scale(.977204),i.l2_2=t.xy.scale(1.16538),i.l2_1=t.yz.scale(1.16538),i.l20=t.zz.scale(1.34567).subtract(t.xx.scale(.672834)).subtract(t.yy.scale(.672834)),i.l21=t.zx.scale(1.16538),i.l22=t.xx.scale(1.16538).subtract(t.yy.scale(1.16538)),i.l1_1.scaleInPlace(-1),i.l11.scaleInPlace(-1),i.l2_1.scaleInPlace(-1),i.l21.scaleInPlace(-1),i.scaleInPlace(Math.PI),i},e}(),l=function(){function e(){this.x=n.e.Zero(),this.y=n.e.Zero(),this.z=n.e.Zero(),this.xx=n.e.Zero(),this.yy=n.e.Zero(),this.zz=n.e.Zero(),this.xy=n.e.Zero(),this.yz=n.e.Zero(),this.zx=n.e.Zero()}return Object.defineProperty(e.prototype,"preScaledHarmonics",{get:function(){return this._harmonics||(this._harmonics=c.FromPolynomial(this)),this._harmonics.preScaled||this._harmonics.preScaleForRendering(),this._harmonics},enumerable:!1,configurable:!0}),e.prototype.addAmbient=function(e){var t=new n.e(e.r,e.g,e.b);this.xx=this.xx.add(t),this.yy=this.yy.add(t),this.zz=this.zz.add(t)},e.prototype.scaleInPlace=function(e){this.x.scaleInPlace(e),this.y.scaleInPlace(e),this.z.scaleInPlace(e),this.xx.scaleInPlace(e),this.yy.scaleInPlace(e),this.zz.scaleInPlace(e),this.yz.scaleInPlace(e),this.zx.scaleInPlace(e),this.xy.scaleInPlace(e)},e.FromHarmonics=function(t){var i=new e;return i._harmonics=t,i.x=t.l11.scale(1.02333).scale(-1),i.y=t.l1_1.scale(1.02333).scale(-1),i.z=t.l10.scale(1.02333),i.xx=t.l00.scale(.886277).subtract(t.l20.scale(.247708)).add(t.l22.scale(.429043)),i.yy=t.l00.scale(.886277).subtract(t.l20.scale(.247708)).subtract(t.l22.scale(.429043)),i.zz=t.l00.scale(.886277).add(t.l20.scale(.495417)),i.yz=t.l2_1.scale(.858086).scale(-1),i.zx=t.l21.scale(.858086).scale(-1),i.xy=t.l2_2.scale(.858086),i.scaleInPlace(1/Math.PI),i},e.FromArray=function(t){var i=new e;return n.e.FromArrayToRef(t[0],0,i.x),n.e.FromArrayToRef(t[1],0,i.y),n.e.FromArrayToRef(t[2],0,i.z),n.e.FromArrayToRef(t[3],0,i.xx),n.e.FromArrayToRef(t[4],0,i.yy),n.e.FromArrayToRef(t[5],0,i.zz),n.e.FromArrayToRef(t[6],0,i.yz),n.e.FromArrayToRef(t[7],0,i.zx),n.e.FromArrayToRef(t[8],0,i.xy),i},e}()},761:function(e,t,i){"use strict";i.d(t,"b",function(){return d}),i.d(t,"a",function(){return b});var n=i(644),r=i(802),o=i(701),s=i(650),a=i(937),c=function(){function e(){}return e.ExponentialBackoff=function(e,t){return void 0===e&&(e=3),void 0===t&&(t=500),function(i,n,r){return 0!==n.status||r>=e||-1!==i.indexOf("file:")?-1:Math.pow(2,r)*t}},e}(),l=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(n.c)(t,e),t._setPrototypeOf=Object.setPrototypeOf||function(e,t){return e.__proto__=t,e},t}(Error),_=i(702),u=i(685),f=i(979),d=function(e){function t(i,n){var o=e.call(this,i)||this;return o.name="LoadFileError",l._setPrototypeOf(o,t.prototype),n instanceof r.a?o.request=n:o.file=n,o}return Object(n.c)(t,e),t}(l),h=function(e){function t(i,n){var r=e.call(this,i)||this;return r.request=n,r.name="RequestFileError",l._setPrototypeOf(r,t.prototype),r}return Object(n.c)(t,e),t}(l),p=function(e){function t(i,n){var r=e.call(this,i)||this;return r.file=n,r.name="ReadFileError",l._setPrototypeOf(r,t.prototype),r}return Object(n.c)(t,e),t}(l),b=function(){function e(){}return e._CleanUrl=function(e){return e=e.replace(/#/gm,"%23")},e.SetCorsBehavior=function(t,i){if((!t||0!==t.indexOf("data:"))&&e.CorsBehavior)if("string"===typeof e.CorsBehavior||this.CorsBehavior instanceof String)i.crossOrigin=e.CorsBehavior;else{var n=e.CorsBehavior(t);n&&(i.crossOrigin=n)}},e.LoadImage=function(t,i,n,r,o){var s;void 0===o&&(o="");var c=!1;if(t instanceof ArrayBuffer||ArrayBuffer.isView(t)?"undefined"!==typeof Blob?(s=URL.createObjectURL(new Blob([t],{type:o})),c=!0):s="data:"+o+";base64,"+_.a.EncodeArrayBufferToBase64(t):t instanceof Blob?(s=URL.createObjectURL(t),c=!0):(s=e._CleanUrl(t),s=e.PreprocessUrl(t)),"undefined"===typeof Image)return e.LoadFile(s,function(e){createImageBitmap(new Blob([e],{type:o})).then(function(e){i(e),c&&URL.revokeObjectURL(s)}).catch(function(e){n&&n("Error while trying to load image: "+t,e)})},void 0,r||void 0,!0,function(e,i){n&&n("Error while trying to load image: "+t,i)}),null;var l=new Image;e.SetCorsBehavior(s,l);var u=function e(){l.removeEventListener("load",e),l.removeEventListener("error",f),i(l),c&&l.src&&URL.revokeObjectURL(l.src)},f=function e(i){if(l.removeEventListener("load",u),l.removeEventListener("error",e),n){var r=t.toString();n("Error while trying to load image: "+(r.length<32?r:r.slice(0,32)+"..."),i)}c&&l.src&&URL.revokeObjectURL(l.src)};l.addEventListener("load",u),l.addEventListener("error",f);var d=function(){l.src=s};if("data:"!==s.substr(0,5)&&r&&r.enableTexturesOffline)r.open(function(){r&&r.loadImage(s,l)},d);else{if(-1!==s.indexOf("file:")){var h=decodeURIComponent(s.substring(5).toLowerCase());if(a.a.FilesToLoad[h]){try{var p;try{p=URL.createObjectURL(a.a.FilesToLoad[h])}catch(b){p=URL.createObjectURL(a.a.FilesToLoad[h])}l.src=p,c=!0}catch(m){l.src=""}return l}}d()}return l},e.ReadFile=function(e,t,i,n,r){var o=new FileReader,a={onCompleteObservable:new s.a,abort:function(){return o.abort()}};return o.onloadend=function(e){return a.onCompleteObservable.notifyObservers(a)},r&&(o.onerror=function(t){r(new p("Unable to read "+e.name,e))}),o.onload=function(e){t(e.target.result)},i&&(o.onprogress=i),n?o.readAsArrayBuffer(e):o.readAsText(e),a},e.LoadFile=function(t,i,n,r,o,s){if(-1!==t.indexOf("file:")){var c=decodeURIComponent(t.substring(5).toLowerCase());0===c.indexOf("./")&&(c=c.substring(2));var l=a.a.FilesToLoad[c];if(l)return e.ReadFile(l,i,n,o,s?function(e){return s(void 0,new d(e.message,e.file))}:void 0)}return e.RequestFile(t,function(e,t){i(e,t?t.responseURL:void 0)},n,r,o,s?function(e){s(e.request,new d(e.message,e.request))}:void 0)},e.RequestFile=function(t,i,n,a,c,l,_){t=e._CleanUrl(t),t=e.PreprocessUrl(t);var u=e.BaseUrl+t,f=!1,d={onCompleteObservable:new s.a,abort:function(){return f=!0}},p=function(){var t=new r.a,s=null;d.abort=function(){f=!0,t.readyState!==(XMLHttpRequest.DONE||4)&&t.abort(),null!==s&&(clearTimeout(s),s=null)};!function a(p){t.open("GET",u),_&&_(t),c&&(t.responseType="arraybuffer"),n&&t.addEventListener("progress",n);var b=function e(){t.removeEventListener("loadend",e),d.onCompleteObservable.notifyObservers(d),d.onCompleteObservable.clear()};t.addEventListener("loadend",b);t.addEventListener("readystatechange",function n(){if(!f&&t.readyState===(XMLHttpRequest.DONE||4)){if(t.removeEventListener("readystatechange",n),t.status>=200&&t.status<300||0===t.status&&(!o.a.IsWindowObjectExist()||e.IsFileURL()))return void i(c?t.response:t.responseText,t);var _=e.DefaultRetryStrategy;if(_){var d=_(u,t,p);if(-1!==d)return t.removeEventListener("loadend",b),t=new r.a,void(s=setTimeout(function(){return a(p+1)},d))}var m=new h("Error status: "+t.status+" "+t.statusText+" - Unable to load "+u,t);l&&l(m)}}),t.send()}(0)};if(a&&a.enableSceneOffline){var b=function(e){e&&e.status>400?l&&l(e):p()};a.open(function(){a&&a.loadFile(e.BaseUrl+t,function(e){f||i(e),d.onCompleteObservable.notifyObservers(d)},n?function(e){f||n(e)}:void 0,b,c)},b)}else p();return d},e.IsFileURL=function(){return"undefined"!==typeof location&&"file:"===location.protocol},e.DefaultRetryStrategy=c.ExponentialBackoff(),e.BaseUrl="",e.CorsBehavior="anonymous",e.PreprocessUrl=function(e){return e},e}();u.a._FileToolsLoadImage=b.LoadImage.bind(b),u.a._FileToolsLoadFile=b.LoadFile.bind(b),f.a._FileToolsLoadFile=b.LoadFile.bind(b)},762:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(644),r=i(648),o=i(650),s=i(30),a=i(668),c=i(940),l=(i(761),i(247)),_=function(e){function t(i){var n=e.call(this,null)||this;return n.metadata=null,n.reservedDataStore=null,n._hasAlpha=!1,n.getAlphaFromRGB=!1,n.level=1,n.coordinatesIndex=0,n._coordinatesMode=0,n.wrapR=1,n.anisotropicFilteringLevel=t.DEFAULT_ANISOTROPIC_FILTERING_LEVEL,n._isCube=!1,n._gammaSpace=!0,n.invertZ=!1,n.lodLevelInAlpha=!1,n.isRenderTarget=!1,n._prefiltered=!1,n.animations=new Array,n.onDisposeObservable=new o.a,n._onDisposeObserver=null,n._scene=null,n._texture=null,n._uid=null,i?t._isScene(i)?n._scene=i:n._engine=i:n._scene=a.a.LastCreatedScene,n._scene&&(n.uniqueId=n._scene.getUniqueId(),n._scene.addTexture(n),n._engine=n._scene.getEngine()),n._uid=null,n}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"hasAlpha",{get:function(){return this._hasAlpha},set:function(e){this._hasAlpha!==e&&(this._hasAlpha=e,this._scene&&this._scene.markAllMaterialsAsDirty(17))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"coordinatesMode",{get:function(){return this._coordinatesMode},set:function(e){this._coordinatesMode!==e&&(this._coordinatesMode=e,this._scene&&this._scene.markAllMaterialsAsDirty(1))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapU",{get:function(){return this._wrapU},set:function(e){this._wrapU=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"wrapV",{get:function(){return this._wrapV},set:function(e){this._wrapV=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isCube",{get:function(){return this._texture?this._texture.isCube:this._isCube},set:function(e){this._texture?this._texture.isCube=e:this._isCube=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is3D",{get:function(){return!!this._texture&&this._texture.is3D},set:function(e){this._texture&&(this._texture.is3D=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"is2DArray",{get:function(){return!!this._texture&&this._texture.is2DArray},set:function(e){this._texture&&(this._texture.is2DArray=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"gammaSpace",{get:function(){return this._texture?(null===this._texture._gammaSpace&&(this._texture._gammaSpace=this._gammaSpace),this._texture._gammaSpace):this._gammaSpace},set:function(e){if(this._texture){if(this._texture._gammaSpace===e)return;this._texture._gammaSpace=e}else{if(this._gammaSpace===e)return;this._gammaSpace=e}this._markAllSubMeshesAsTexturesDirty()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isRGBD",{get:function(){return null!=this._texture&&this._texture._isRGBD},set:function(e){this._texture&&(this._texture._isRGBD=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noMipmap",{get:function(){return!1},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lodGenerationOffset",{get:function(){return this._texture?this._texture._lodGenerationOffset:0},set:function(e){this._texture&&(this._texture._lodGenerationOffset=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"lodGenerationScale",{get:function(){return this._texture?this._texture._lodGenerationScale:0},set:function(e){this._texture&&(this._texture._lodGenerationScale=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"linearSpecularLOD",{get:function(){return!!this._texture&&this._texture._linearSpecularLOD},set:function(e){this._texture&&(this._texture._linearSpecularLOD=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"irradianceTexture",{get:function(){return this._texture?this._texture._irradianceTexture:null},set:function(e){this._texture&&(this._texture._irradianceTexture=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"uid",{get:function(){return this._uid||(this._uid=c.a.RandomId()),this._uid},enumerable:!1,configurable:!0}),t.prototype.toString=function(){return this.name},t.prototype.getClassName=function(){return"BaseTexture"},Object.defineProperty(t.prototype,"onDispose",{set:function(e){this._onDisposeObserver&&this.onDisposeObservable.remove(this._onDisposeObserver),this._onDisposeObserver=this.onDisposeObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"isBlocking",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.getScene=function(){return this._scene},t.prototype._getEngine=function(){return this._engine},t.prototype.checkTransformsAreIdentical=function(e){return null!==e},t.prototype.getTextureMatrix=function(){return s.a.IdentityReadOnly},t.prototype.getReflectionTextureMatrix=function(){return s.a.IdentityReadOnly},t.prototype.isReadyOrNotBlocking=function(){return!this.isBlocking||this.isReady()},t.prototype.scale=function(e){},Object.defineProperty(t.prototype,"canRescale",{get:function(){return!1},enumerable:!1,configurable:!0}),t.prototype._getFromCache=function(e,t,i,n){var r=this._getEngine();if(!r)return null;for(var o=r.getLoadedTexturesCache(),s=0;s<o.length;s++){var a=o[s];if((void 0===n||n===a.invertY)&&a.url===e&&a.generateMipMaps===!t&&(!i||i===a.samplingMode))return a.incrementReferences(),a}return null},t.prototype._rebuild=function(){},t.prototype.clone=function(){return null},Object.defineProperty(t.prototype,"textureType",{get:function(){return this._texture&&void 0!==this._texture.type?this._texture.type:0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"textureFormat",{get:function(){return this._texture&&void 0!==this._texture.format?this._texture.format:5},enumerable:!1,configurable:!0}),t.prototype._markAllSubMeshesAsTexturesDirty=function(){var e=this.getScene();e&&e.markAllMaterialsAsDirty(1)},t.prototype.readPixels=function(e,t,i){if(void 0===e&&(e=0),void 0===t&&(t=0),void 0===i&&(i=null),!this._texture)return null;var n=this.getSize(),r=n.width,o=n.height,s=this._getEngine();if(!s)return null;0!=t&&(r/=Math.pow(2,t),o/=Math.pow(2,t),r=Math.round(r),o=Math.round(o));try{return this._texture.isCube?s._readTexturePixels(this._texture,r,o,e,t,i):s._readTexturePixels(this._texture,r,o,-1,t,i)}catch(a){return null}},Object.defineProperty(t.prototype,"_lodTextureHigh",{get:function(){return this._texture?this._texture._lodTextureHigh:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_lodTextureMid",{get:function(){return this._texture?this._texture._lodTextureMid:null},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"_lodTextureLow",{get:function(){return this._texture?this._texture._lodTextureLow:null},enumerable:!1,configurable:!0}),t.prototype.dispose=function(){if(this._scene){this._scene.stopAnimation&&this._scene.stopAnimation(this),this._scene._removePendingData(this);var t=this._scene.textures.indexOf(this);t>=0&&this._scene.textures.splice(t,1),this._scene.onTextureRemovedObservable.notifyObservers(this),this._scene=null}this.onDisposeObservable.notifyObservers(this),this.onDisposeObservable.clear(),e.prototype.dispose.call(this)},t.prototype.serialize=function(){if(!this.name)return null;var e=r.a.Serialize(this);return r.a.AppendSerializedAnimations(this,e),e},t.WhenAllReady=function(e,t){var i=e.length;if(0!==i)for(var n=0;n<e.length;n++){var r=e[n];if(r.isReady())0===--i&&t();else{var o=r.onLoadObservable;o&&o.addOnce(function(){0===--i&&t()})}}else t()},t._isScene=function(e){return"Scene"===e.getClassName()},t.DEFAULT_ANISOTROPIC_FILTERING_LEVEL=4,Object(n.b)([Object(r.c)()],t.prototype,"uniqueId",void 0),Object(n.b)([Object(r.c)()],t.prototype,"name",void 0),Object(n.b)([Object(r.c)()],t.prototype,"metadata",void 0),Object(n.b)([Object(r.c)("hasAlpha")],t.prototype,"_hasAlpha",void 0),Object(n.b)([Object(r.c)()],t.prototype,"getAlphaFromRGB",void 0),Object(n.b)([Object(r.c)()],t.prototype,"level",void 0),Object(n.b)([Object(r.c)()],t.prototype,"coordinatesIndex",void 0),Object(n.b)([Object(r.c)("coordinatesMode")],t.prototype,"_coordinatesMode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"wrapU",null),Object(n.b)([Object(r.c)()],t.prototype,"wrapV",null),Object(n.b)([Object(r.c)()],t.prototype,"wrapR",void 0),Object(n.b)([Object(r.c)()],t.prototype,"anisotropicFilteringLevel",void 0),Object(n.b)([Object(r.c)()],t.prototype,"isCube",null),Object(n.b)([Object(r.c)()],t.prototype,"is3D",null),Object(n.b)([Object(r.c)()],t.prototype,"is2DArray",null),Object(n.b)([Object(r.c)()],t.prototype,"gammaSpace",null),Object(n.b)([Object(r.c)()],t.prototype,"invertZ",void 0),Object(n.b)([Object(r.c)()],t.prototype,"lodLevelInAlpha",void 0),Object(n.b)([Object(r.c)()],t.prototype,"lodGenerationOffset",null),Object(n.b)([Object(r.c)()],t.prototype,"lodGenerationScale",null),Object(n.b)([Object(r.c)()],t.prototype,"linearSpecularLOD",null),Object(n.b)([Object(r.l)()],t.prototype,"irradianceTexture",null),Object(n.b)([Object(r.c)()],t.prototype,"isRenderTarget",void 0),t}(function(){function e(e){this._wrapU=1,this._wrapV=1,this.wrapR=1,this.anisotropicFilteringLevel=4,this.delayLoadState=0,this._texture=null,this._engine=null,this._cachedSize=l.a.Zero(),this._cachedBaseSize=l.a.Zero(),this._texture=e,this._texture&&(this._engine=this._texture.getEngine())}return Object.defineProperty(e.prototype,"wrapU",{get:function(){return this._wrapU},set:function(e){this._wrapU=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"wrapV",{get:function(){return this._wrapV},set:function(e){this._wrapV=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"coordinatesMode",{get:function(){return 0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isCube",{get:function(){return!!this._texture&&this._texture.isCube},set:function(e){this._texture&&(this._texture.isCube=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is3D",{get:function(){return!!this._texture&&this._texture.is3D},set:function(e){this._texture&&(this._texture.is3D=e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"is2DArray",{get:function(){return!!this._texture&&this._texture.is2DArray},set:function(e){this._texture&&(this._texture.is2DArray=e)},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"ThinTexture"},e.prototype.isReady=function(){return 4===this.delayLoadState?(this.delayLoad(),!1):!!this._texture&&this._texture.isReady},e.prototype.delayLoad=function(){},e.prototype.getInternalTexture=function(){return this._texture},e.prototype.getSize=function(){if(this._texture){if(this._texture.width)return this._cachedSize.width=this._texture.width,this._cachedSize.height=this._texture.height,this._cachedSize;if(this._texture._size)return this._cachedSize.width=this._texture._size,this._cachedSize.height=this._texture._size,this._cachedSize}return this._cachedSize},e.prototype.getBaseSize=function(){return this.isReady()&&this._texture?this._texture._size?(this._cachedBaseSize.width=this._texture._size,this._cachedBaseSize.height=this._texture._size,this._cachedBaseSize):(this._cachedBaseSize.width=this._texture.baseWidth,this._cachedBaseSize.height=this._texture.baseHeight,this._cachedBaseSize):(this._cachedBaseSize.width=0,this._cachedBaseSize.height=0,this._cachedBaseSize)},e.prototype.updateSamplingMode=function(e){this._texture&&this._engine&&this._engine.updateTextureSamplingMode(e,this._texture)},e.prototype.releaseInternalTexture=function(){this._texture&&(this._texture.dispose(),this._texture=null)},e.prototype.dispose=function(){this._texture&&(this.releaseInternalTexture(),this._engine=null)},e}())},763:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(644),r=i(718),o=i(650),s=i(30),a="postprocessVertexShader",c="\nattribute vec2 position;\nuniform vec2 scale;\n\nvarying vec2 vUV;\nconst vec2 madd=vec2(0.5,0.5);\nvoid main(void) {\nvUV=(position*madd+madd)*scale;\ngl_Position=vec4(position,0.0,1.0);\n}";i(642).a.ShadersStore[a]=c;var l=i(690),_=(i(874),i(648)),u=i(105),f=function(){function e(e,t,i,n,a,c,l,_,u,f,d,h,p,b,m){void 0===l&&(l=1),void 0===f&&(f=null),void 0===d&&(d=0),void 0===h&&(h="postprocess"),void 0===b&&(b=!1),void 0===m&&(m=5),this.width=-1,this.height=-1,this.nodeMaterialSource=null,this._outputTexture=null,this.autoClear=!0,this.alphaMode=0,this.animations=new Array,this.enablePixelPerfectMode=!1,this.forceFullscreenViewport=!0,this.scaleMode=1,this.alwaysForcePOT=!1,this._samples=1,this.adaptScaleToCurrentViewport=!1,this._reusable=!1,this._textures=new r.a(2),this._currentRenderTextureInd=0,this._scaleRatio=new s.d(1,1),this._texelSize=s.d.Zero(),this.onActivateObservable=new o.a,this.onSizeChangedObservable=new o.a,this.onApplyObservable=new o.a,this.onBeforeRenderObservable=new o.a,this.onAfterRenderObservable=new o.a,this.name=e,null!=c?(this._camera=c,this._scene=c.getScene(),c.attachPostProcess(this),this._engine=this._scene.getEngine(),this._scene.postProcesses.push(this),this.uniqueId=this._scene.getUniqueId()):_&&(this._engine=_,this._engine.postProcesses.push(this)),this._options=a,this.renderTargetSamplingMode=l||1,this._reusable=u||!1,this._textureType=d,this._textureFormat=m,this._samplers=n||[],this._samplers.push("textureSampler"),this._fragmentUrl=t,this._vertexUrl=h,this._parameters=i||[],this._parameters.push("scale"),this._indexParameters=p,b||this.updateEffect(f)}return Object.defineProperty(e.prototype,"samples",{get:function(){return this._samples},set:function(e){var t=this;this._samples=Math.min(e,this._engine.getCaps().maxMSAASamples),this._textures.forEach(function(e){e.samples!==t._samples&&t._engine.updateRenderTargetTextureSampleCount(e,t._samples)})},enumerable:!1,configurable:!0}),e.prototype.getEffectName=function(){return this._fragmentUrl},Object.defineProperty(e.prototype,"onActivate",{set:function(e){this._onActivateObserver&&this.onActivateObservable.remove(this._onActivateObserver),e&&(this._onActivateObserver=this.onActivateObservable.add(e))},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onSizeChanged",{set:function(e){this._onSizeChangedObserver&&this.onSizeChangedObservable.remove(this._onSizeChangedObserver),this._onSizeChangedObserver=this.onSizeChangedObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onApply",{set:function(e){this._onApplyObserver&&this.onApplyObservable.remove(this._onApplyObserver),this._onApplyObserver=this.onApplyObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onBeforeRender",{set:function(e){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"onAfterRender",{set:function(e){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),this._onAfterRenderObserver=this.onAfterRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"inputTexture",{get:function(){return this._textures.data[this._currentRenderTextureInd]},set:function(e){this._forcedOutputTexture=e},enumerable:!1,configurable:!0}),e.prototype.restoreDefaultInputTexture=function(){this._forcedOutputTexture=null},e.prototype.getCamera=function(){return this._camera},Object.defineProperty(e.prototype,"texelSize",{get:function(){return this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.texelSize:(this._forcedOutputTexture&&this._texelSize.copyFromFloats(1/this._forcedOutputTexture.width,1/this._forcedOutputTexture.height),this._texelSize)},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"PostProcess"},e.prototype.getEngine=function(){return this._engine},e.prototype.getEffect=function(){return this._effect},e.prototype.shareOutputWith=function(e){return this._disposeTextures(),this._shareOutputWithPostProcess=e,this},e.prototype.useOwnOutput=function(){0==this._textures.length&&(this._textures=new r.a(2)),this._shareOutputWithPostProcess=null},e.prototype.updateEffect=function(e,t,i,n,r,o,s,a){void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),this._effect=this._engine.createEffect({vertex:null!==s&&void 0!==s?s:this._vertexUrl,fragment:null!==a&&void 0!==a?a:this._fragmentUrl},["position"],t||this._parameters,i||this._samplers,null!==e?e:"",void 0,r,o,n||this._indexParameters)},e.prototype.isReusable=function(){return this._reusable},e.prototype.markTextureDirty=function(){this.width=-1},e.prototype.activate=function(e,t,i){var n=this;void 0===t&&(t=null);var r=(e=e||this._camera).getScene(),o=r.getEngine(),s=o.getCaps().maxTextureSize,a=(t?t.width:this._engine.getRenderWidth(!0))*this._options|0,c=(t?t.height:this._engine.getRenderHeight(!0))*this._options|0,_=e.parent;!_||_.leftCamera!=e&&_.rightCamera!=e||(a/=2);var u,f=this._options.width||a,d=this._options.height||c,h=7!==this.renderTargetSamplingMode&&1!==this.renderTargetSamplingMode&&2!==this.renderTargetSamplingMode;if(!this._shareOutputWithPostProcess&&!this._forcedOutputTexture){if(this.adaptScaleToCurrentViewport){var p=o.currentViewport;p&&(f*=p.width,d*=p.height)}if((h||this.alwaysForcePOT)&&(this._options.width||(f=o.needPOTTextures?l.a.GetExponentOfTwo(f,s,this.scaleMode):f),this._options.height||(d=o.needPOTTextures?l.a.GetExponentOfTwo(d,s,this.scaleMode):d)),this.width!==f||this.height!==d){if(this._textures.length>0){for(var b=0;b<this._textures.length;b++)this._engine._releaseTexture(this._textures.data[b]);this._textures.reset()}this.width=f,this.height=d;var m={width:this.width,height:this.height},A={generateMipMaps:h,generateDepthBuffer:i||0===e._postProcesses.indexOf(this),generateStencilBuffer:(i||0===e._postProcesses.indexOf(this))&&this._engine.isStencilEnable,samplingMode:this.renderTargetSamplingMode,type:this._textureType,format:this._textureFormat};this._textures.push(this._engine.createRenderTargetTexture(m,A)),this._reusable&&this._textures.push(this._engine.createRenderTargetTexture(m,A)),this._texelSize.copyFromFloats(1/this.width,1/this.height),this.onSizeChangedObservable.notifyObservers(this)}this._textures.forEach(function(e){e.samples!==n.samples&&n._engine.updateRenderTargetTextureSampleCount(e,n.samples)})}return this._shareOutputWithPostProcess?u=this._shareOutputWithPostProcess.inputTexture:this._forcedOutputTexture?(u=this._forcedOutputTexture,this.width=this._forcedOutputTexture.width,this.height=this._forcedOutputTexture.height):u=this.inputTexture,this.enablePixelPerfectMode?(this._scaleRatio.copyFromFloats(a/f,c/d),this._engine.bindFramebuffer(u,0,a,c,this.forceFullscreenViewport)):(this._scaleRatio.copyFromFloats(1,1),this._engine.bindFramebuffer(u,0,void 0,void 0,this.forceFullscreenViewport)),this.onActivateObservable.notifyObservers(e),this.autoClear&&0===this.alphaMode&&this._engine.clear(this.clearColor?this.clearColor:r.clearColor,r._allowPostProcessClearColor,!0,!0),this._reusable&&(this._currentRenderTextureInd=(this._currentRenderTextureInd+1)%2),u},Object.defineProperty(e.prototype,"isSupported",{get:function(){return this._effect.isSupported},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"aspectRatio",{get:function(){return this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.aspectRatio:this._forcedOutputTexture?this._forcedOutputTexture.width/this._forcedOutputTexture.height:this.width/this.height},enumerable:!1,configurable:!0}),e.prototype.isReady=function(){return this._effect&&this._effect.isReady()},e.prototype.apply=function(){return this._effect&&this._effect.isReady()?(this._engine.enableEffect(this._effect),this._engine.setState(!1),this._engine.setDepthBuffer(!1),this._engine.setDepthWrite(!1),this._engine.setAlphaMode(this.alphaMode),this.alphaConstants&&this.getEngine().setAlphaConstants(this.alphaConstants.r,this.alphaConstants.g,this.alphaConstants.b,this.alphaConstants.a),e=this._shareOutputWithPostProcess?this._shareOutputWithPostProcess.inputTexture:this._forcedOutputTexture?this._forcedOutputTexture:this.inputTexture,this._effect._bindTexture("textureSampler",e),this._effect.setVector2("scale",this._scaleRatio),this.onApplyObservable.notifyObservers(this._effect),this._effect):null;var e},e.prototype._disposeTextures=function(){if(!this._shareOutputWithPostProcess&&!this._forcedOutputTexture){if(this._textures.length>0)for(var e=0;e<this._textures.length;e++)this._engine._releaseTexture(this._textures.data[e]);this._textures.dispose()}},e.prototype.setPrePassRenderer=function(e){return!!this._prePassEffectConfiguration&&(this._prePassEffectConfiguration=e.addEffectConfiguration(this._prePassEffectConfiguration),this._prePassEffectConfiguration.enabled=!0,!0)},e.prototype.dispose=function(e){var t;if(e=e||this._camera,this._disposeTextures(),this._scene&&-1!==(t=this._scene.postProcesses.indexOf(this))&&this._scene.postProcesses.splice(t,1),-1!==(t=this._engine.postProcesses.indexOf(this))&&this._engine.postProcesses.splice(t,1),e){if(e.detachPostProcess(this),0===(t=e._postProcesses.indexOf(this))&&e._postProcesses.length>0){var i=this._camera._getFirstPostProcess();i&&i.markTextureDirty()}this.onActivateObservable.clear(),this.onAfterRenderObservable.clear(),this.onApplyObservable.clear(),this.onBeforeRenderObservable.clear(),this.onSizeChangedObservable.clear()}},e.prototype.serialize=function(){var e=_.a.Serialize(this);return e.customType="BABYLON."+this.getClassName(),e.cameraId=this.getCamera().id,e.reusable=this._reusable,e.options=this._options,e.textureType=this._textureType,e},e.Parse=function(e,t,i){var n=u.a.GetClass(e.customType);if(!n||!n._Parse)return null;var r=t.getCameraByID(e.cameraId);return r?n._Parse(e,r,t,i):null},Object(n.b)([Object(_.c)()],e.prototype,"uniqueId",void 0),Object(n.b)([Object(_.c)()],e.prototype,"name",void 0),Object(n.b)([Object(_.c)()],e.prototype,"width",void 0),Object(n.b)([Object(_.c)()],e.prototype,"height",void 0),Object(n.b)([Object(_.c)()],e.prototype,"renderTargetSamplingMode",void 0),Object(n.b)([Object(_.e)()],e.prototype,"clearColor",void 0),Object(n.b)([Object(_.c)()],e.prototype,"autoClear",void 0),Object(n.b)([Object(_.c)()],e.prototype,"alphaMode",void 0),Object(n.b)([Object(_.c)()],e.prototype,"alphaConstants",void 0),Object(n.b)([Object(_.c)()],e.prototype,"enablePixelPerfectMode",void 0),Object(n.b)([Object(_.c)()],e.prototype,"forceFullscreenViewport",void 0),Object(n.b)([Object(_.c)()],e.prototype,"scaleMode",void 0),Object(n.b)([Object(_.c)()],e.prototype,"alwaysForcePOT",void 0),Object(n.b)([Object(_.c)("samples")],e.prototype,"_samples",void 0),Object(n.b)([Object(_.c)()],e.prototype,"adaptScaleToCurrentViewport",void 0),e}();u.a.RegisteredTypes["BABYLON.PostProcess"]=f},764:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=function(){function e(){}return e.Eval=function(t,i){return"true"===(t=t.match(/\([^\(\)]*\)/g)?t.replace(/\([^\(\)]*\)/g,function(t){return t=t.slice(1,t.length-1),e._HandleParenthesisContent(t,i)}):e._HandleParenthesisContent(t,i))||"false"!==t&&e.Eval(t,i)},e._HandleParenthesisContent=function(t,i){var n;i=i||function(e){return"true"===e};var r=t.split("||");for(var o in r)if(r.hasOwnProperty(o)){var s=e._SimplifyNegation(r[o].trim()),a=s.split("&&");if(a.length>1)for(var c=0;c<a.length;++c){var l=e._SimplifyNegation(a[c].trim());if(!(n="true"!==l&&"false"!==l?"!"===l[0]?!i(l.substring(1)):i(l):"true"===l)){s="false";break}}if(n||"true"===s){n=!0;break}n="true"!==s&&"false"!==s?"!"===s[0]?!i(s.substring(1)):i(s):"true"===s}return n?"true":"false"},e._SimplifyNegation=function(e){return"!true"===(e=(e=e.replace(/^[\s!]+/,function(e){return(e=e.replace(/[\s]/g,function(){return""})).length%2?"!":""})).trim())?e="false":"!false"===e&&(e="true"),e},e}(),r=function(){function e(){}return e.EnableFor=function(t){t._tags=t._tags||{},t.hasTags=function(){return e.HasTags(t)},t.addTags=function(i){return e.AddTagsTo(t,i)},t.removeTags=function(i){return e.RemoveTagsFrom(t,i)},t.matchesTagsQuery=function(i){return e.MatchesQuery(t,i)}},e.DisableFor=function(e){delete e._tags,delete e.hasTags,delete e.addTags,delete e.removeTags,delete e.matchesTagsQuery},e.HasTags=function(e){if(!e._tags)return!1;var t=e._tags;for(var i in t)if(t.hasOwnProperty(i))return!0;return!1},e.GetTags=function(e,t){if(void 0===t&&(t=!0),!e._tags)return null;if(t){var i=[];for(var n in e._tags)e._tags.hasOwnProperty(n)&&!0===e._tags[n]&&i.push(n);return i.join(" ")}return e._tags},e.AddTagsTo=function(t,i){i&&("string"===typeof i&&i.split(" ").forEach(function(i,n,r){e._AddTagTo(t,i)}))},e._AddTagTo=function(t,i){""!==(i=i.trim())&&"true"!==i&&"false"!==i&&(i.match(/[\s]/)||i.match(/^([!]|([|]|[&]){2})/)||(e.EnableFor(t),t._tags[i]=!0))},e.RemoveTagsFrom=function(t,i){if(e.HasTags(t)){var n=i.split(" ");for(var r in n)e._RemoveTagFrom(t,n[r])}},e._RemoveTagFrom=function(e,t){delete e._tags[t]},e.MatchesQuery=function(t,i){return void 0===i||(""===i?e.HasTags(t):n.Eval(i,function(i){return e.HasTags(t)&&t._tags[i]}))},e}()},801:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(644),r=i(648),o=i(30),s=i(689),a=i(693),c=i(868);s.a.AddNodeConstructor("Light_Type_1",function(e,t){return function(){return new l(e,o.e.Zero(),t)}});var l=function(e){function t(t,i,n){var r=e.call(this,t,n)||this;return r._shadowFrustumSize=0,r._shadowOrthoScale=.1,r.autoUpdateExtends=!0,r.autoCalcShadowZBounds=!1,r._orthoLeft=Number.MAX_VALUE,r._orthoRight=Number.MIN_VALUE,r._orthoTop=Number.MIN_VALUE,r._orthoBottom=Number.MAX_VALUE,r.position=i.scale(-1),r.direction=i,r}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"shadowFrustumSize",{get:function(){return this._shadowFrustumSize},set:function(e){this._shadowFrustumSize=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowOrthoScale",{get:function(){return this._shadowOrthoScale},set:function(e){this._shadowOrthoScale=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"DirectionalLight"},t.prototype.getTypeID=function(){return a.a.LIGHTTYPEID_DIRECTIONALLIGHT},t.prototype._setDefaultShadowProjectionMatrix=function(e,t,i){this.shadowFrustumSize>0?this._setDefaultFixedFrustumShadowProjectionMatrix(e):this._setDefaultAutoExtendShadowProjectionMatrix(e,t,i)},t.prototype._setDefaultFixedFrustumShadowProjectionMatrix=function(e){var t=this.getScene().activeCamera;t&&o.a.OrthoLHToRef(this.shadowFrustumSize,this.shadowFrustumSize,void 0!==this.shadowMinZ?this.shadowMinZ:t.minZ,void 0!==this.shadowMaxZ?this.shadowMaxZ:t.maxZ,e)},t.prototype._setDefaultAutoExtendShadowProjectionMatrix=function(e,t,i){var n=this.getScene().activeCamera;if(n){if(this.autoUpdateExtends||this._orthoLeft===Number.MAX_VALUE){var r=o.e.Zero();this._orthoLeft=Number.MAX_VALUE,this._orthoRight=Number.MIN_VALUE,this._orthoTop=Number.MIN_VALUE,this._orthoBottom=Number.MAX_VALUE;for(var s=Number.MAX_VALUE,a=Number.MIN_VALUE,c=0;c<i.length;c++){var l=i[c];if(l)for(var _=l.getBoundingInfo().boundingBox,u=0;u<_.vectorsWorld.length;u++)o.e.TransformCoordinatesToRef(_.vectorsWorld[u],t,r),r.x<this._orthoLeft&&(this._orthoLeft=r.x),r.y<this._orthoBottom&&(this._orthoBottom=r.y),r.x>this._orthoRight&&(this._orthoRight=r.x),r.y>this._orthoTop&&(this._orthoTop=r.y),this.autoCalcShadowZBounds&&(r.z<s&&(s=r.z),r.z>a&&(a=r.z))}this.autoCalcShadowZBounds&&(this._shadowMinZ=s,this._shadowMaxZ=a)}var f=this._orthoRight-this._orthoLeft,d=this._orthoTop-this._orthoBottom;o.a.OrthoOffCenterLHToRef(this._orthoLeft-f*this.shadowOrthoScale,this._orthoRight+f*this.shadowOrthoScale,this._orthoBottom-d*this.shadowOrthoScale,this._orthoTop+d*this.shadowOrthoScale,void 0!==this.shadowMinZ?this.shadowMinZ:n.minZ,void 0!==this.shadowMaxZ?this.shadowMaxZ:n.maxZ,e)}},t.prototype._buildUniformLayout=function(){this._uniformBuffer.addUniform("vLightData",4),this._uniformBuffer.addUniform("vLightDiffuse",4),this._uniformBuffer.addUniform("vLightSpecular",4),this._uniformBuffer.addUniform("shadowsInfo",3),this._uniformBuffer.addUniform("depthValues",2),this._uniformBuffer.create()},t.prototype.transferToEffect=function(e,t){return this.computeTransformedInformation()?(this._uniformBuffer.updateFloat4("vLightData",this.transformedDirection.x,this.transformedDirection.y,this.transformedDirection.z,1,t),this):(this._uniformBuffer.updateFloat4("vLightData",this.direction.x,this.direction.y,this.direction.z,1,t),this)},t.prototype.transferToNodeMaterialEffect=function(e,t){return this.computeTransformedInformation()?(e.setFloat3(t,this.transformedDirection.x,this.transformedDirection.y,this.transformedDirection.z),this):(e.setFloat3(t,this.direction.x,this.direction.y,this.direction.z),this)},t.prototype.getDepthMinZ=function(e){return 1},t.prototype.getDepthMaxZ=function(e){return 1},t.prototype.prepareLightSpecificDefines=function(e,t){e["DIRLIGHT"+t]=!0},Object(n.b)([Object(r.c)()],t.prototype,"shadowFrustumSize",null),Object(n.b)([Object(r.c)()],t.prototype,"shadowOrthoScale",null),Object(n.b)([Object(r.c)()],t.prototype,"autoUpdateExtends",void 0),Object(n.b)([Object(r.c)()],t.prototype,"autoCalcShadowZBounds",void 0),t}(c.a)},802:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this._xhr="undefined"!==typeof _native&&_native.XMLHttpRequest?new _native.XMLHttpRequest:new XMLHttpRequest}return e.prototype._injectCustomRequestHeaders=function(){for(var t in e.CustomRequestHeaders){var i=e.CustomRequestHeaders[t];i&&this._xhr.setRequestHeader(t,i)}},Object.defineProperty(e.prototype,"onprogress",{get:function(){return this._xhr.onprogress},set:function(e){this._xhr.onprogress=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"readyState",{get:function(){return this._xhr.readyState},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"status",{get:function(){return this._xhr.status},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"statusText",{get:function(){return this._xhr.statusText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"response",{get:function(){return this._xhr.response},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseURL",{get:function(){return this._xhr.responseURL},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseText",{get:function(){return this._xhr.responseText},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"responseType",{get:function(){return this._xhr.responseType},set:function(e){this._xhr.responseType=e},enumerable:!1,configurable:!0}),e.prototype.addEventListener=function(e,t,i){this._xhr.addEventListener(e,t,i)},e.prototype.removeEventListener=function(e,t,i){this._xhr.removeEventListener(e,t,i)},e.prototype.abort=function(){this._xhr.abort()},e.prototype.send=function(t){e.CustomRequestHeaders&&this._injectCustomRequestHeaders(),this._xhr.send(t)},e.prototype.open=function(t,i){for(var n=0,r=e.CustomRequestModifiers;n<r.length;n++){(0,r[n])(this._xhr,i)}return i=(i=i.replace("file:http:","http:")).replace("file:https:","https:"),this._xhr.open(t,i,!0)},e.prototype.setRequestHeader=function(e,t){this._xhr.setRequestHeader(e,t)},e.prototype.getResponseHeader=function(e){return this._xhr.getResponseHeader(e)},e.CustomRequestHeaders={},e.CustomRequestModifiers=new Array,e}()},803:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(644),r=i(648),o=i(650),s=i(30),a=i(689),c=i(245),l=function(e){function t(i,n,r){void 0===n&&(n=null),void 0===r&&(r=!0);var a=e.call(this,i,n)||this;return a._forward=new s.e(0,0,1),a._forwardInverted=new s.e(0,0,-1),a._up=new s.e(0,1,0),a._right=new s.e(1,0,0),a._rightInverted=new s.e(-1,0,0),a._position=s.e.Zero(),a._rotation=s.e.Zero(),a._rotationQuaternion=null,a._scaling=s.e.One(),a._isDirty=!1,a._transformToBoneReferal=null,a._isAbsoluteSynced=!1,a._billboardMode=t.BILLBOARDMODE_NONE,a._preserveParentRotationForBillboard=!1,a.scalingDeterminant=1,a._infiniteDistance=!1,a.ignoreNonUniformScaling=!1,a.reIntegrateRotationIntoRotationQuaternion=!1,a._poseMatrix=null,a._localMatrix=s.a.Zero(),a._usePivotMatrix=!1,a._absolutePosition=s.e.Zero(),a._absoluteScaling=s.e.Zero(),a._absoluteRotationQuaternion=s.b.Identity(),a._pivotMatrix=s.a.Identity(),a._postMultiplyPivotMatrix=!1,a._isWorldMatrixFrozen=!1,a._indexInSceneTransformNodesArray=-1,a.onAfterWorldMatrixUpdateObservable=new o.a,a._nonUniformScaling=!1,r&&a.getScene().addTransformNode(a),a}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"billboardMode",{get:function(){return this._billboardMode},set:function(e){this._billboardMode!==e&&(this._billboardMode=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"preserveParentRotationForBillboard",{get:function(){return this._preserveParentRotationForBillboard},set:function(e){e!==this._preserveParentRotationForBillboard&&(this._preserveParentRotationForBillboard=e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"infiniteDistance",{get:function(){return this._infiniteDistance},set:function(e){this._infiniteDistance!==e&&(this._infiniteDistance=e)},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"TransformNode"},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._position=e,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotation",{get:function(){return this._rotation},set:function(e){this._rotation=e,this._rotationQuaternion=null,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"scaling",{get:function(){return this._scaling},set:function(e){this._scaling=e,this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationQuaternion",{get:function(){return this._rotationQuaternion},set:function(e){this._rotationQuaternion=e,e&&this._rotation.setAll(0),this._isDirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"forward",{get:function(){return s.e.Normalize(s.e.TransformNormal(this.getScene().useRightHandedSystem?this._forwardInverted:this._forward,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"up",{get:function(){return s.e.Normalize(s.e.TransformNormal(this._up,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"right",{get:function(){return s.e.Normalize(s.e.TransformNormal(this.getScene().useRightHandedSystem?this._rightInverted:this._right,this.getWorldMatrix()))},enumerable:!1,configurable:!0}),t.prototype.updatePoseMatrix=function(e){return this._poseMatrix?(this._poseMatrix.copyFrom(e),this):(this._poseMatrix=e.clone(),this)},t.prototype.getPoseMatrix=function(){return this._poseMatrix||(this._poseMatrix=s.a.Identity()),this._poseMatrix},t.prototype._isSynchronized=function(){var e=this._cache;return this.billboardMode===e.billboardMode&&this.billboardMode===t.BILLBOARDMODE_NONE&&(!e.pivotMatrixUpdated&&(!this.infiniteDistance&&(!this.position._isDirty&&(!this.scaling._isDirty&&!(this._rotationQuaternion&&this._rotationQuaternion._isDirty||this.rotation._isDirty)))))},t.prototype._initCache=function(){e.prototype._initCache.call(this);var t=this._cache;t.localMatrixUpdated=!1,t.billboardMode=-1,t.infiniteDistance=!1},t.prototype.markAsDirty=function(e){return this._currentRenderId=Number.MAX_VALUE,this._isDirty=!0,this},Object.defineProperty(t.prototype,"absolutePosition",{get:function(){return this._absolutePosition},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteScaling",{get:function(){return this._syncAbsoluteScalingAndRotation(),this._absoluteScaling},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"absoluteRotationQuaternion",{get:function(){return this._syncAbsoluteScalingAndRotation(),this._absoluteRotationQuaternion},enumerable:!1,configurable:!0}),t.prototype.setPreTransformMatrix=function(e){return this.setPivotMatrix(e,!1)},t.prototype.setPivotMatrix=function(e,t){return void 0===t&&(t=!0),this._pivotMatrix.copyFrom(e),this._usePivotMatrix=!this._pivotMatrix.isIdentity(),this._cache.pivotMatrixUpdated=!0,this._postMultiplyPivotMatrix=t,this._postMultiplyPivotMatrix&&(this._pivotMatrixInverse?this._pivotMatrix.invertToRef(this._pivotMatrixInverse):this._pivotMatrixInverse=s.a.Invert(this._pivotMatrix)),this},t.prototype.getPivotMatrix=function(){return this._pivotMatrix},t.prototype.instantiateHierarchy=function(e,t,i){void 0===e&&(e=null);var n=this.clone("Clone of "+(this.name||this.id),e||this.parent,!0);n&&i&&i(this,n);for(var r=0,o=this.getChildTransformNodes(!0);r<o.length;r++){o[r].instantiateHierarchy(n,t,i)}return n},t.prototype.freezeWorldMatrix=function(e){return void 0===e&&(e=null),e?this._worldMatrix=e:(this._isWorldMatrixFrozen=!1,this.computeWorldMatrix(!0)),this._isDirty=!1,this._isWorldMatrixFrozen=!0,this},t.prototype.unfreezeWorldMatrix=function(){return this._isWorldMatrixFrozen=!1,this.computeWorldMatrix(!0),this},Object.defineProperty(t.prototype,"isWorldMatrixFrozen",{get:function(){return this._isWorldMatrixFrozen},enumerable:!1,configurable:!0}),t.prototype.getAbsolutePosition=function(){return this.computeWorldMatrix(),this._absolutePosition},t.prototype.setAbsolutePosition=function(e){if(!e)return this;var t,i,n;if(void 0===e.x){if(arguments.length<3)return this;t=arguments[0],i=arguments[1],n=arguments[2]}else t=e.x,i=e.y,n=e.z;if(this.parent){var r=s.c.Matrix[0];this.parent.getWorldMatrix().invertToRef(r),s.e.TransformCoordinatesFromFloatsToRef(t,i,n,r,this.position)}else this.position.x=t,this.position.y=i,this.position.z=n;return this._absolutePosition.copyFrom(e),this},t.prototype.setPositionWithLocalVector=function(e){return this.computeWorldMatrix(),this.position=s.e.TransformNormal(e,this._localMatrix),this},t.prototype.getPositionExpressedInLocalSpace=function(){this.computeWorldMatrix();var e=s.c.Matrix[0];return this._localMatrix.invertToRef(e),s.e.TransformNormal(this.position,e)},t.prototype.locallyTranslate=function(e){return this.computeWorldMatrix(!0),this.position=s.e.TransformCoordinates(e,this._localMatrix),this},t.prototype.lookAt=function(e,i,n,r,o){void 0===i&&(i=0),void 0===n&&(n=0),void 0===r&&(r=0),void 0===o&&(o=c.c.LOCAL);var a=t._lookAtVectorCache,l=o===c.c.LOCAL?this.position:this.getAbsolutePosition();if(e.subtractToRef(l,a),this.setDirection(a,i,n,r),o===c.c.WORLD&&this.parent)if(this.rotationQuaternion){var _=s.c.Matrix[0];this.rotationQuaternion.toRotationMatrix(_);var u=s.c.Matrix[1];this.parent.getWorldMatrix().getRotationMatrixToRef(u),u.invert(),_.multiplyToRef(u,_),this.rotationQuaternion.fromRotationMatrix(_)}else{var f=s.c.Quaternion[0];s.b.FromEulerVectorToRef(this.rotation,f);_=s.c.Matrix[0];f.toRotationMatrix(_);u=s.c.Matrix[1];this.parent.getWorldMatrix().getRotationMatrixToRef(u),u.invert(),_.multiplyToRef(u,_),f.fromRotationMatrix(_),f.toEulerAnglesToRef(this.rotation)}return this},t.prototype.getDirection=function(e){var t=s.e.Zero();return this.getDirectionToRef(e,t),t},t.prototype.getDirectionToRef=function(e,t){return s.e.TransformNormalToRef(e,this.getWorldMatrix(),t),this},t.prototype.setDirection=function(e,t,i,n){void 0===t&&(t=0),void 0===i&&(i=0),void 0===n&&(n=0);var r=-Math.atan2(e.z,e.x)+Math.PI/2,o=Math.sqrt(e.x*e.x+e.z*e.z),a=-Math.atan2(e.y,o);return this.rotationQuaternion?s.b.RotationYawPitchRollToRef(r+t,a+i,n,this.rotationQuaternion):(this.rotation.x=a+i,this.rotation.y=r+t,this.rotation.z=n),this},t.prototype.setPivotPoint=function(e,t){void 0===t&&(t=c.c.LOCAL),0==this.getScene().getRenderId()&&this.computeWorldMatrix(!0);var i=this.getWorldMatrix();if(t==c.c.WORLD){var n=s.c.Matrix[0];i.invertToRef(n),e=s.e.TransformCoordinates(e,n)}return this.setPivotMatrix(s.a.Translation(-e.x,-e.y,-e.z),!0)},t.prototype.getPivotPoint=function(){var e=s.e.Zero();return this.getPivotPointToRef(e),e},t.prototype.getPivotPointToRef=function(e){return e.x=-this._pivotMatrix.m[12],e.y=-this._pivotMatrix.m[13],e.z=-this._pivotMatrix.m[14],this},t.prototype.getAbsolutePivotPoint=function(){var e=s.e.Zero();return this.getAbsolutePivotPointToRef(e),e},t.prototype.getAbsolutePivotPointToRef=function(e){return this.getPivotPointToRef(e),s.e.TransformCoordinatesToRef(e,this.getWorldMatrix(),e),this},t.prototype.setParent=function(e){if(!e&&!this.parent)return this;var t=s.c.Quaternion[0],i=s.c.Vector3[0],n=s.c.Vector3[1];if(e){var r=s.c.Matrix[0],o=s.c.Matrix[1];this.computeWorldMatrix(!0),e.computeWorldMatrix(!0),e.getWorldMatrix().invertToRef(o),this.getWorldMatrix().multiplyToRef(o,r),r.decompose(n,t,i)}else this.computeWorldMatrix(!0),this.getWorldMatrix().decompose(n,t,i);return this.rotationQuaternion?this.rotationQuaternion.copyFrom(t):t.toEulerAnglesToRef(this.rotation),this.scaling.copyFrom(n),this.position.copyFrom(i),this.parent=e,this},Object.defineProperty(t.prototype,"nonUniformScaling",{get:function(){return this._nonUniformScaling},enumerable:!1,configurable:!0}),t.prototype._updateNonUniformScalingState=function(e){return this._nonUniformScaling!==e&&(this._nonUniformScaling=e,!0)},t.prototype.attachToBone=function(e,t){return this._transformToBoneReferal=t,this.parent=e,e.getSkeleton().prepare(),e.getWorldMatrix().determinant()<0&&(this.scalingDeterminant*=-1),this},t.prototype.detachFromBone=function(){return this.parent?(this.parent.getWorldMatrix().determinant()<0&&(this.scalingDeterminant*=-1),this._transformToBoneReferal=null,this.parent=null,this):this},t.prototype.rotate=function(e,i,n){var r;if(e.normalize(),this.rotationQuaternion||(this.rotationQuaternion=this.rotation.toQuaternion(),this.rotation.setAll(0)),n&&n!==c.c.LOCAL){if(this.parent){var o=s.c.Matrix[0];this.parent.getWorldMatrix().invertToRef(o),e=s.e.TransformNormal(e,o)}(r=s.b.RotationAxisToRef(e,i,t._rotationAxisCache)).multiplyToRef(this.rotationQuaternion,this.rotationQuaternion)}else r=s.b.RotationAxisToRef(e,i,t._rotationAxisCache),this.rotationQuaternion.multiplyToRef(r,this.rotationQuaternion);return this},t.prototype.rotateAround=function(e,t,i){t.normalize(),this.rotationQuaternion||(this.rotationQuaternion=s.b.RotationYawPitchRoll(this.rotation.y,this.rotation.x,this.rotation.z),this.rotation.setAll(0));var n=s.c.Vector3[0],r=s.c.Vector3[1],o=s.c.Vector3[2],a=s.c.Quaternion[0],c=s.c.Matrix[0],l=s.c.Matrix[1],_=s.c.Matrix[2],u=s.c.Matrix[3];return e.subtractToRef(this.position,n),s.a.TranslationToRef(n.x,n.y,n.z,c),s.a.TranslationToRef(-n.x,-n.y,-n.z,l),s.a.RotationAxisToRef(t,i,_),l.multiplyToRef(_,u),u.multiplyToRef(c,u),u.decompose(r,a,o),this.position.addInPlace(o),a.multiplyToRef(this.rotationQuaternion,this.rotationQuaternion),this},t.prototype.translate=function(e,t,i){var n=e.scale(t);if(i&&i!==c.c.LOCAL)this.setAbsolutePosition(this.getAbsolutePosition().add(n));else{var r=this.getPositionExpressedInLocalSpace().add(n);this.setPositionWithLocalVector(r)}return this},t.prototype.addRotation=function(e,t,i){var n;this.rotationQuaternion?n=this.rotationQuaternion:(n=s.c.Quaternion[1],s.b.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,n));var r=s.c.Quaternion[0];return s.b.RotationYawPitchRollToRef(t,e,i,r),n.multiplyInPlace(r),this.rotationQuaternion||n.toEulerAnglesToRef(this.rotation),this},t.prototype._getEffectiveParent=function(){return this.parent},t.prototype.computeWorldMatrix=function(e){if(this._isWorldMatrixFrozen&&!this._isDirty)return this._worldMatrix;var i=this.getScene().getRenderId();if(!this._isDirty&&!e&&this.isSynchronized())return this._currentRenderId=i,this._worldMatrix;var n=this.getScene().activeCamera,r=0!==(this._billboardMode&t.BILLBOARDMODE_USE_POSITION),o=this._billboardMode!==t.BILLBOARDMODE_NONE&&!this.preserveParentRotationForBillboard;o&&n&&r&&(this.lookAt(n.position),(this.billboardMode&t.BILLBOARDMODE_X)!==t.BILLBOARDMODE_X&&(this.rotation.x=0),(this.billboardMode&t.BILLBOARDMODE_Y)!==t.BILLBOARDMODE_Y&&(this.rotation.y=0),(this.billboardMode&t.BILLBOARDMODE_Z)!==t.BILLBOARDMODE_Z&&(this.rotation.z=0)),this._updateCache();var a=this._cache;a.pivotMatrixUpdated=!1,a.billboardMode=this.billboardMode,a.infiniteDistance=this.infiniteDistance,this._currentRenderId=i,this._childUpdateId++,this._isDirty=!1,this._position._isDirty=!1,this._rotation._isDirty=!1,this._scaling._isDirty=!1;var c,l=this._getEffectiveParent(),_=t._TmpScaling,u=this._position;if(this._infiniteDistance&&!this.parent&&n){var f=n.getWorldMatrix(),d=new s.e(f.m[12],f.m[13],f.m[14]);(u=t._TmpTranslation).copyFromFloats(this._position.x+d.x,this._position.y+d.y,this._position.z+d.z)}(_.copyFromFloats(this._scaling.x*this.scalingDeterminant,this._scaling.y*this.scalingDeterminant,this._scaling.z*this.scalingDeterminant),this._rotationQuaternion)?(this._rotationQuaternion._isDirty=!1,c=this._rotationQuaternion,this.reIntegrateRotationIntoRotationQuaternion&&this.rotation.lengthSquared()&&(this._rotationQuaternion.multiplyInPlace(s.b.RotationYawPitchRoll(this._rotation.y,this._rotation.x,this._rotation.z)),this._rotation.copyFromFloats(0,0,0))):(c=t._TmpRotation,s.b.RotationYawPitchRollToRef(this._rotation.y,this._rotation.x,this._rotation.z,c));if(this._usePivotMatrix){var h=s.c.Matrix[1];s.a.ScalingToRef(_.x,_.y,_.z,h);var p=s.c.Matrix[0];c.toRotationMatrix(p),this._pivotMatrix.multiplyToRef(h,s.c.Matrix[4]),s.c.Matrix[4].multiplyToRef(p,this._localMatrix),this._postMultiplyPivotMatrix&&this._localMatrix.multiplyToRef(this._pivotMatrixInverse,this._localMatrix),this._localMatrix.addTranslationFromFloats(u.x,u.y,u.z)}else s.a.ComposeToRef(_,c,u,this._localMatrix);if(l&&l.getWorldMatrix){if(e&&l.computeWorldMatrix(),o){this._transformToBoneReferal?l.getWorldMatrix().multiplyToRef(this._transformToBoneReferal.getWorldMatrix(),s.c.Matrix[7]):s.c.Matrix[7].copyFrom(l.getWorldMatrix());var b=s.c.Vector3[5],m=s.c.Vector3[6];s.c.Matrix[7].decompose(m,void 0,b),s.a.ScalingToRef(m.x,m.y,m.z,s.c.Matrix[7]),s.c.Matrix[7].setTranslation(b),this._localMatrix.multiplyToRef(s.c.Matrix[7],this._worldMatrix)}else this._transformToBoneReferal?(this._localMatrix.multiplyToRef(l.getWorldMatrix(),s.c.Matrix[6]),s.c.Matrix[6].multiplyToRef(this._transformToBoneReferal.getWorldMatrix(),this._worldMatrix)):this._localMatrix.multiplyToRef(l.getWorldMatrix(),this._worldMatrix);this._markSyncedWithParent()}else this._worldMatrix.copyFrom(this._localMatrix);if(o&&n&&this.billboardMode&&!r){var A=s.c.Vector3[0];if(this._worldMatrix.getTranslationToRef(A),s.c.Matrix[1].copyFrom(n.getViewMatrix()),s.c.Matrix[1].setTranslationFromFloats(0,0,0),s.c.Matrix[1].invertToRef(s.c.Matrix[0]),(this.billboardMode&t.BILLBOARDMODE_ALL)!==t.BILLBOARDMODE_ALL){s.c.Matrix[0].decompose(void 0,s.c.Quaternion[0],void 0);var g=s.c.Vector3[1];s.c.Quaternion[0].toEulerAnglesToRef(g),(this.billboardMode&t.BILLBOARDMODE_X)!==t.BILLBOARDMODE_X&&(g.x=0),(this.billboardMode&t.BILLBOARDMODE_Y)!==t.BILLBOARDMODE_Y&&(g.y=0),(this.billboardMode&t.BILLBOARDMODE_Z)!==t.BILLBOARDMODE_Z&&(g.z=0),s.a.RotationYawPitchRollToRef(g.y,g.x,g.z,s.c.Matrix[0])}this._worldMatrix.setTranslationFromFloats(0,0,0),this._worldMatrix.multiplyToRef(s.c.Matrix[0],this._worldMatrix),this._worldMatrix.setTranslation(s.c.Vector3[0])}return this.ignoreNonUniformScaling?this._updateNonUniformScalingState(!1):this._scaling.isNonUniformWithinEpsilon(1e-6)?this._updateNonUniformScalingState(!0):l&&l._nonUniformScaling?this._updateNonUniformScalingState(l._nonUniformScaling):this._updateNonUniformScalingState(!1),this._afterComputeWorldMatrix(),this._absolutePosition.copyFromFloats(this._worldMatrix.m[12],this._worldMatrix.m[13],this._worldMatrix.m[14]),this._isAbsoluteSynced=!1,this.onAfterWorldMatrixUpdateObservable.notifyObservers(this),this._poseMatrix||(this._poseMatrix=s.a.Invert(this._worldMatrix)),this._worldMatrixDeterminantIsDirty=!0,this._worldMatrix},t.prototype.resetLocalMatrix=function(e){if(void 0===e&&(e=!0),this.computeWorldMatrix(),e)for(var t=this.getChildren(),i=0;i<t.length;++i){var n=t[i];if(n){n.computeWorldMatrix();var r=s.c.Matrix[0];n._localMatrix.multiplyToRef(this._localMatrix,r);var o=s.c.Quaternion[0];r.decompose(n.scaling,o,n.position),n.rotationQuaternion?n.rotationQuaternion=o:o.toEulerAnglesToRef(n.rotation)}}this.scaling.copyFromFloats(1,1,1),this.position.copyFromFloats(0,0,0),this.rotation.copyFromFloats(0,0,0),this.rotationQuaternion&&(this.rotationQuaternion=s.b.Identity()),this._worldMatrix=s.a.Identity()},t.prototype._afterComputeWorldMatrix=function(){},t.prototype.registerAfterWorldMatrixUpdate=function(e){return this.onAfterWorldMatrixUpdateObservable.add(e),this},t.prototype.unregisterAfterWorldMatrixUpdate=function(e){return this.onAfterWorldMatrixUpdateObservable.removeCallback(e),this},t.prototype.getPositionInCameraSpace=function(e){return void 0===e&&(e=null),e||(e=this.getScene().activeCamera),s.e.TransformCoordinates(this.getAbsolutePosition(),e.getViewMatrix())},t.prototype.getDistanceToCamera=function(e){return void 0===e&&(e=null),e||(e=this.getScene().activeCamera),this.getAbsolutePosition().subtract(e.globalPosition).length()},t.prototype.clone=function(e,i,n){var o=this,s=r.a.Clone(function(){return new t(e,o.getScene())},this);if(s.name=e,s.id=e,i&&(s.parent=i),!n)for(var a=this.getDescendants(!0),c=0;c<a.length;c++){var l=a[c];l.clone&&l.clone(e+"."+l.name,s)}return s},t.prototype.serialize=function(e){var t=r.a.Serialize(this,e);return t.type=this.getClassName(),this.parent&&(t.parentId=this.parent.id),t.localMatrix=this.getPivotMatrix().asArray(),t.isEnabled=this.isEnabled(),this.parent&&(t.parentId=this.parent.id),t},t.Parse=function(e,i,n){var o=r.a.Parse(function(){return new t(e.name,i)},e,i,n);return e.localMatrix?o.setPreTransformMatrix(s.a.FromArray(e.localMatrix)):e.pivotMatrix&&o.setPivotMatrix(s.a.FromArray(e.pivotMatrix)),o.setEnabled(e.isEnabled),e.parentId&&(o._waitingParentId=e.parentId),o},t.prototype.getChildTransformNodes=function(e,i){var n=[];return this._getDescendants(n,e,function(e){return(!i||i(e))&&e instanceof t}),n},t.prototype.dispose=function(t,i){if(void 0===i&&(i=!1),this.getScene().stopAnimation(this),this.getScene().removeTransformNode(this),this.onAfterWorldMatrixUpdateObservable.clear(),t)for(var n=0,r=this.getChildTransformNodes(!0);n<r.length;n++){var o=r[n];o.parent=null,o.computeWorldMatrix(!0)}e.prototype.dispose.call(this,t,i)},t.prototype.normalizeToUnitCube=function(e,t,i){void 0===e&&(e=!0),void 0===t&&(t=!1);var n=null,r=null;t&&(this.rotationQuaternion?(r=this.rotationQuaternion.clone(),this.rotationQuaternion.copyFromFloats(0,0,0,1)):this.rotation&&(n=this.rotation.clone(),this.rotation.copyFromFloats(0,0,0)));var o=this.getHierarchyBoundingVectors(e,i),s=o.max.subtract(o.min),a=Math.max(s.x,s.y,s.z);if(0===a)return this;var c=1/a;return this.scaling.scaleInPlace(c),t&&(this.rotationQuaternion&&r?this.rotationQuaternion.copyFrom(r):this.rotation&&n&&this.rotation.copyFrom(n)),this},t.prototype._syncAbsoluteScalingAndRotation=function(){this._isAbsoluteSynced||(this._worldMatrix.decompose(this._absoluteScaling,this._absoluteRotationQuaternion),this._isAbsoluteSynced=!0)},t.BILLBOARDMODE_NONE=0,t.BILLBOARDMODE_X=1,t.BILLBOARDMODE_Y=2,t.BILLBOARDMODE_Z=4,t.BILLBOARDMODE_ALL=7,t.BILLBOARDMODE_USE_POSITION=128,t._TmpRotation=s.b.Zero(),t._TmpScaling=s.e.Zero(),t._TmpTranslation=s.e.Zero(),t._lookAtVectorCache=new s.e(0,0,0),t._rotationAxisCache=new s.b,Object(n.b)([Object(r.n)("position")],t.prototype,"_position",void 0),Object(n.b)([Object(r.n)("rotation")],t.prototype,"_rotation",void 0),Object(n.b)([Object(r.k)("rotationQuaternion")],t.prototype,"_rotationQuaternion",void 0),Object(n.b)([Object(r.n)("scaling")],t.prototype,"_scaling",void 0),Object(n.b)([Object(r.c)("billboardMode")],t.prototype,"_billboardMode",void 0),Object(n.b)([Object(r.c)()],t.prototype,"scalingDeterminant",void 0),Object(n.b)([Object(r.c)("infiniteDistance")],t.prototype,"_infiniteDistance",void 0),Object(n.b)([Object(r.c)()],t.prototype,"ignoreNonUniformScaling",void 0),Object(n.b)([Object(r.c)()],t.prototype,"reIntegrateRotationIntoRotationQuaternion",void 0),t}(a.a)},804:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(660),r=i(943),o=i(704),s=i(870),a=function(){function e(e,t,i,n,r,o,s,a,c){void 0===a&&(a=!0),void 0===c&&(c=!0),this.materialIndex=e,this.verticesStart=t,this.verticesCount=i,this.indexStart=n,this.indexCount=r,this._materialDefines=null,this._materialEffect=null,this._effectOverride=null,this._linesIndexCount=0,this._linesIndexBuffer=null,this._lastColliderWorldVertices=null,this._lastColliderTransformMatrix=null,this._renderId=0,this._alphaIndex=0,this._distanceToCamera=0,this._currentMaterial=null,this._mesh=o,this._renderingMesh=s||o,c&&o.subMeshes.push(this),this._trianglePlanes=[],this._id=o.subMeshes.length-1,a&&(this.refreshBoundingInfo(),o.computeWorldMatrix(!0))}return Object.defineProperty(e.prototype,"materialDefines",{get:function(){return this._materialDefines},set:function(e){this._materialDefines=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"effect",{get:function(){var e;return null!==(e=this._effectOverride)&&void 0!==e?e:this._materialEffect},enumerable:!1,configurable:!0}),e.prototype.setEffect=function(e,t){void 0===t&&(t=null),this._materialEffect!==e?(this._materialDefines=t,this._materialEffect=e):e||(this._materialDefines=null)},e.AddToMesh=function(t,i,n,r,o,s,a,c){return void 0===c&&(c=!0),new e(t,i,n,r,o,s,a,c)},Object.defineProperty(e.prototype,"IsGlobal",{get:function(){return 0===this.verticesStart&&this.verticesCount===this._mesh.getTotalVertices()},enumerable:!1,configurable:!0}),e.prototype.getBoundingInfo=function(){return this.IsGlobal?this._mesh.getBoundingInfo():this._boundingInfo},e.prototype.setBoundingInfo=function(e){return this._boundingInfo=e,this},e.prototype.getMesh=function(){return this._mesh},e.prototype.getRenderingMesh=function(){return this._renderingMesh},e.prototype.getReplacementMesh=function(){return this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:null},e.prototype.getEffectiveMesh=function(){var e=this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:null;return e||this._renderingMesh},e.prototype.getMaterial=function(){var e=this._renderingMesh.material;if(null===e||void 0===e)return this._mesh.getScene().defaultMaterial;if(this._IsMultiMaterial(e)){var t=e.getSubMaterial(this.materialIndex);return this._currentMaterial!==t&&(this._currentMaterial=t,this._materialDefines=null),t}return e},e.prototype._IsMultiMaterial=function(e){return void 0!==e.getSubMaterial},e.prototype.refreshBoundingInfo=function(e){if(void 0===e&&(e=null),this._lastColliderWorldVertices=null,this.IsGlobal||!this._renderingMesh||!this._renderingMesh.geometry)return this;if(e||(e=this._renderingMesh.getVerticesData(n.b.PositionKind)),!e)return this._boundingInfo=this._mesh.getBoundingInfo(),this;var t,i=this._renderingMesh.getIndices();if(0===this.indexStart&&this.indexCount===i.length){var r=this._renderingMesh.getBoundingInfo();t={minimum:r.minimum.clone(),maximum:r.maximum.clone()}}else t=Object(s.b)(e,i,this.indexStart,this.indexCount,this._renderingMesh.geometry.boundingBias);return this._boundingInfo?this._boundingInfo.reConstruct(t.minimum,t.maximum):this._boundingInfo=new o.a(t.minimum,t.maximum),this},e.prototype._checkCollision=function(e){return this.getBoundingInfo()._checkCollision(e)},e.prototype.updateBoundingInfo=function(e){var t=this.getBoundingInfo();return t||(this.refreshBoundingInfo(),t=this.getBoundingInfo()),t&&t.update(e),this},e.prototype.isInFrustum=function(e){var t=this.getBoundingInfo();return!!t&&t.isInFrustum(e,this._mesh.cullingStrategy)},e.prototype.isCompletelyInFrustum=function(e){var t=this.getBoundingInfo();return!!t&&t.isCompletelyInFrustum(e)},e.prototype.render=function(e){return this._renderingMesh.render(this,e,this._mesh._internalAbstractMeshDataInfo._actAsRegularMesh?this._mesh:void 0),this},e.prototype._getLinesIndexBuffer=function(e,t){if(!this._linesIndexBuffer){for(var i=[],n=this.indexStart;n<this.indexStart+this.indexCount;n+=3)i.push(e[n],e[n+1],e[n+1],e[n+2],e[n+2],e[n]);this._linesIndexBuffer=t.createIndexBuffer(i),this._linesIndexCount=i.length}return this._linesIndexBuffer},e.prototype.canIntersects=function(e){var t=this.getBoundingInfo();return!!t&&e.intersectsBox(t.boundingBox)},e.prototype.intersects=function(e,t,i,n,r){var o=this.getMaterial();if(!o)return null;var s=3,a=!1;switch(o.fillMode){case 3:case 4:case 5:case 6:case 8:return null;case 7:s=1,a=!0}return"InstancedLinesMesh"===this._mesh.getClassName()||"LinesMesh"===this._mesh.getClassName()?i.length?this._intersectLines(e,t,i,this._mesh.intersectionThreshold,n):this._intersectUnIndexedLines(e,t,i,this._mesh.intersectionThreshold,n):!i.length&&this._mesh._unIndexed?this._intersectUnIndexedTriangles(e,t,i,n,r):this._intersectTriangles(e,t,i,s,a,n,r)},e.prototype._intersectLines=function(e,t,i,n,o){for(var s=null,a=this.indexStart;a<this.indexStart+this.indexCount;a+=2){var c=t[i[a]],l=t[i[a+1]],_=e.intersectionSegment(c,l,n);if(!(_<0)&&((o||!s||_<s.distance)&&((s=new r.a(null,null,_)).faceId=a/2,o)))break}return s},e.prototype._intersectUnIndexedLines=function(e,t,i,n,o){for(var s=null,a=this.verticesStart;a<this.verticesStart+this.verticesCount;a+=2){var c=t[a],l=t[a+1],_=e.intersectionSegment(c,l,n);if(!(_<0)&&((o||!s||_<s.distance)&&((s=new r.a(null,null,_)).faceId=a/2,o)))break}return s},e.prototype._intersectTriangles=function(e,t,i,n,r,o,s){for(var a=null,c=-1,l=this.indexStart;l<this.indexStart+this.indexCount;l+=n){c++;var _=i[l],u=i[l+1],f=i[l+2];if(r&&4294967295===f)l+=2;else{var d=t[_],h=t[u],p=t[f];if(!s||s(d,h,p,e)){var b=e.intersectsTriangle(d,h,p);if(b){if(b.distance<0)continue;if((o||!a||b.distance<a.distance)&&((a=b).faceId=c,o))break}}}}return a},e.prototype._intersectUnIndexedTriangles=function(e,t,i,n,r){for(var o=null,s=this.verticesStart;s<this.verticesStart+this.verticesCount;s+=3){var a=t[s],c=t[s+1],l=t[s+2];if(!r||r(a,c,l,e)){var _=e.intersectsTriangle(a,c,l);if(_){if(_.distance<0)continue;if((n||!o||_.distance<o.distance)&&((o=_).faceId=s/3,n))break}}}return o},e.prototype._rebuild=function(){this._linesIndexBuffer&&(this._linesIndexBuffer=null)},e.prototype.clone=function(t,i){var n=new e(this.materialIndex,this.verticesStart,this.verticesCount,this.indexStart,this.indexCount,t,i,!1);if(!this.IsGlobal){var r=this.getBoundingInfo();if(!r)return n;n._boundingInfo=new o.a(r.minimum,r.maximum)}return n},e.prototype.dispose=function(){this._linesIndexBuffer&&(this._mesh.getScene().getEngine()._releaseBuffer(this._linesIndexBuffer),this._linesIndexBuffer=null);var e=this._mesh.subMeshes.indexOf(this);this._mesh.subMeshes.splice(e,1)},e.prototype.getClassName=function(){return"SubMesh"},e.CreateFromIndices=function(t,i,n,r,o){for(var s=Number.MAX_VALUE,a=-Number.MAX_VALUE,c=(o||r).getIndices(),l=i;l<i+n;l++){var _=c[l];_<s&&(s=_),_>a&&(a=_)}return new e(t,s,a-s+1,i,n,r,o)},e}()},805:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o});var n=i(644),r=function(){function e(){}return e.NAME_EFFECTLAYER="EffectLayer",e.NAME_LAYER="Layer",e.NAME_LENSFLARESYSTEM="LensFlareSystem",e.NAME_BOUNDINGBOXRENDERER="BoundingBoxRenderer",e.NAME_PARTICLESYSTEM="ParticleSystem",e.NAME_GAMEPAD="Gamepad",e.NAME_SIMPLIFICATIONQUEUE="SimplificationQueue",e.NAME_GEOMETRYBUFFERRENDERER="GeometryBufferRenderer",e.NAME_PREPASSRENDERER="PrePassRenderer",e.NAME_DEPTHRENDERER="DepthRenderer",e.NAME_POSTPROCESSRENDERPIPELINEMANAGER="PostProcessRenderPipelineManager",e.NAME_SPRITE="Sprite",e.NAME_SUBSURFACE="SubSurface",e.NAME_OUTLINERENDERER="Outline",e.NAME_PROCEDURALTEXTURE="ProceduralTexture",e.NAME_SHADOWGENERATOR="ShadowGenerator",e.NAME_OCTREE="Octree",e.NAME_PHYSICSENGINE="PhysicsEngine",e.NAME_AUDIO="Audio",e.STEP_ISREADYFORMESH_EFFECTLAYER=0,e.STEP_BEFOREEVALUATEACTIVEMESH_BOUNDINGBOXRENDERER=0,e.STEP_EVALUATESUBMESH_BOUNDINGBOXRENDERER=0,e.STEP_PREACTIVEMESH_BOUNDINGBOXRENDERER=0,e.STEP_CAMERADRAWRENDERTARGET_EFFECTLAYER=1,e.STEP_BEFORECAMERADRAW_EFFECTLAYER=0,e.STEP_BEFORECAMERADRAW_LAYER=1,e.STEP_BEFORECAMERADRAW_PREPASS=2,e.STEP_BEFORERENDERTARGETDRAW_LAYER=0,e.STEP_BEFORERENDERINGMESH_PREPASS=0,e.STEP_BEFORERENDERINGMESH_OUTLINE=1,e.STEP_AFTERRENDERINGMESH_PREPASS=0,e.STEP_AFTERRENDERINGMESH_OUTLINE=1,e.STEP_AFTERRENDERINGGROUPDRAW_EFFECTLAYER_DRAW=0,e.STEP_AFTERRENDERINGGROUPDRAW_BOUNDINGBOXRENDERER=1,e.STEP_BEFORECAMERAUPDATE_SIMPLIFICATIONQUEUE=0,e.STEP_BEFORECAMERAUPDATE_GAMEPAD=1,e.STEP_BEFORECLEAR_PROCEDURALTEXTURE=0,e.STEP_AFTERRENDERTARGETDRAW_LAYER=0,e.STEP_AFTERCAMERADRAW_EFFECTLAYER=0,e.STEP_AFTERCAMERADRAW_LENSFLARESYSTEM=1,e.STEP_AFTERCAMERADRAW_EFFECTLAYER_DRAW=2,e.STEP_AFTERCAMERADRAW_LAYER=3,e.STEP_AFTERCAMERADRAW_PREPASS=4,e.STEP_AFTERRENDER_AUDIO=0,e.STEP_GATHERRENDERTARGETS_DEPTHRENDERER=0,e.STEP_GATHERRENDERTARGETS_GEOMETRYBUFFERRENDERER=1,e.STEP_GATHERRENDERTARGETS_SHADOWGENERATOR=2,e.STEP_GATHERRENDERTARGETS_POSTPROCESSRENDERPIPELINEMANAGER=3,e.STEP_GATHERACTIVECAMERARENDERTARGETS_DEPTHRENDERER=0,e.STEP_BEFORECLEARSTAGE_PREPASS=0,e.STEP_POINTERMOVE_SPRITE=0,e.STEP_POINTERDOWN_SPRITE=0,e.STEP_POINTERUP_SPRITE=0,e}(),o=function(e){function t(t){return e.apply(this,t)||this}return Object(n.c)(t,e),t.Create=function(){return Object.create(t.prototype)},t.prototype.registerStep=function(e,t,i){var n=0;for(Number.MAX_VALUE;n<this.length;n++){if(e<this[n].index)break}this.splice(n,0,{index:e,component:t,action:i.bind(t)})},t.prototype.clear=function(){this.length=0},t}(Array)},806:function(e,t,i){"use strict";i.d(t,"a",function(){return o}),i.d(t,"c",function(){return a}),i.d(t,"b",function(){return c});var n=i(644),r=i(30),o=function(){function e(){}return e.POINTERDOWN=1,e.POINTERUP=2,e.POINTERMOVE=4,e.POINTERWHEEL=8,e.POINTERPICK=16,e.POINTERTAP=32,e.POINTERDOUBLETAP=64,e}(),s=function(e,t){this.type=e,this.event=t},a=function(e){function t(t,i,n,o){var s=e.call(this,t,i)||this;return s.ray=null,s.skipOnPointerObservable=!1,s.localPosition=new r.d(n,o),s}return Object(n.c)(t,e),t}(s),c=function(e){function t(t,i,n){var r=e.call(this,t,i)||this;return r.pickInfo=n,r}return Object(n.c)(t,e),t}(s)},807:function(e,t,i){"use strict";i.d(t,"a",function(){return u});var n=i(644),r=i(650),o=i(658),s=i(30),a=i(669),c=i(873),l=i(882),_=(i(874),i(946),i(690)),u=function(e){function t(t,i,n,o,c,_,u,f,d,h,p,b,m){void 0===c&&(c=!0),void 0===_&&(_=0),void 0===u&&(u=!1),void 0===f&&(f=a.a.TRILINEAR_SAMPLINGMODE),void 0===d&&(d=!0),void 0===h&&(h=!1),void 0===p&&(p=!1),void 0===b&&(b=5),void 0===m&&(m=!1);var A=e.call(this,null,n,!o)||this;return A.renderParticles=!0,A.renderSprites=!1,A.ignoreCameraViewport=!1,A.onBeforeBindObservable=new r.a,A.onAfterUnbindObservable=new r.a,A.onBeforeRenderObservable=new r.a,A.onAfterRenderObservable=new r.a,A.onClearObservable=new r.a,A.onResizeObservable=new r.a,A._currentRefreshId=-1,A._refreshRate=1,A._samples=1,A.boundingBoxPosition=s.e.Zero(),(n=A.getScene())?(A._coordinatesMode=a.a.PROJECTION_MODE,A.renderList=new Array,A.name=t,A.isRenderTarget=!0,A._initialSizeParameter=i,A._processSizeParameter(i),A._resizeObserver=A.getScene().getEngine().onResizeObservable.add(function(){}),A._generateMipMaps=!!o,A._doNotChangeAspectRatio=c,A._renderingManager=new l.a(n),A._renderingManager._useSceneAutoClearSetup=!0,p||(A._renderTargetOptions={generateMipMaps:o,type:_,format:b,samplingMode:f,generateDepthBuffer:d,generateStencilBuffer:h},f===a.a.NEAREST_SAMPLINGMODE&&(A.wrapU=a.a.CLAMP_ADDRESSMODE,A.wrapV=a.a.CLAMP_ADDRESSMODE),m||(u?(A._texture=n.getEngine().createRenderTargetCubeTexture(A.getRenderSize(),A._renderTargetOptions),A.coordinatesMode=a.a.INVCUBIC_MODE,A._textureMatrix=s.a.Identity()):A._texture=n.getEngine().createRenderTargetTexture(A._size,A._renderTargetOptions))),A):A}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"renderList",{get:function(){return this._renderList},set:function(e){this._renderList=e,this._renderList&&this._hookArray(this._renderList)},enumerable:!1,configurable:!0}),t.prototype._hookArray=function(e){var t=this,i=e.push;e.push=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=0===e.length,s=i.apply(e,n);return o&&t.getScene()&&t.getScene().meshes.forEach(function(e){e._markSubMeshesAsLightDirty()}),s};var n=e.splice;e.splice=function(i,r){var o=n.apply(e,[i,r]);return 0===e.length&&t.getScene().meshes.forEach(function(e){e._markSubMeshesAsLightDirty()}),o}},Object.defineProperty(t.prototype,"onAfterUnbind",{set:function(e){this._onAfterUnbindObserver&&this.onAfterUnbindObservable.remove(this._onAfterUnbindObserver),this._onAfterUnbindObserver=this.onAfterUnbindObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onBeforeRender",{set:function(e){this._onBeforeRenderObserver&&this.onBeforeRenderObservable.remove(this._onBeforeRenderObserver),this._onBeforeRenderObserver=this.onBeforeRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onAfterRender",{set:function(e){this._onAfterRenderObserver&&this.onAfterRenderObservable.remove(this._onAfterRenderObserver),this._onAfterRenderObserver=this.onAfterRenderObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"onClear",{set:function(e){this._onClearObserver&&this.onClearObservable.remove(this._onClearObserver),this._onClearObserver=this.onClearObservable.add(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"renderTargetOptions",{get:function(){return this._renderTargetOptions},enumerable:!1,configurable:!0}),t.prototype._onRatioRescale=function(){this._sizeRatio&&this.resize(this._initialSizeParameter)},Object.defineProperty(t.prototype,"boundingBoxSize",{get:function(){return this._boundingBoxSize},set:function(e){if(!this._boundingBoxSize||!this._boundingBoxSize.equals(e)){this._boundingBoxSize=e;var t=this.getScene();t&&t.markAllMaterialsAsDirty(1)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"depthStencilTexture",{get:function(){var e;return(null===(e=this.getInternalTexture())||void 0===e?void 0:e._depthStencilTexture)||null},enumerable:!1,configurable:!0}),t.prototype.createDepthStencilTexture=function(e,t,i){void 0===e&&(e=0),void 0===t&&(t=!0),void 0===i&&(i=!1);var n=this.getInternalTexture();if(this.getScene()&&n){var r=this.getScene().getEngine();n._depthStencilTexture=r.createDepthStencilTexture(this._size,{bilinearFiltering:t,comparisonFunction:e,generateStencil:i,isCube:this.isCube})}},t.prototype._processSizeParameter=function(e){if(e.ratio){this._sizeRatio=e.ratio;var t=this._getEngine();this._size={width:this._bestReflectionRenderTargetDimension(t.getRenderWidth(),this._sizeRatio),height:this._bestReflectionRenderTargetDimension(t.getRenderHeight(),this._sizeRatio)}}else this._size=e},Object.defineProperty(t.prototype,"samples",{get:function(){return this._samples},set:function(e){if(this._samples!==e){var t=this.getScene();t&&(this._samples=t.getEngine().updateRenderTargetTextureSampleCount(this._texture,e))}},enumerable:!1,configurable:!0}),t.prototype.resetRefreshCounter=function(){this._currentRefreshId=-1},Object.defineProperty(t.prototype,"refreshRate",{get:function(){return this._refreshRate},set:function(e){this._refreshRate=e,this.resetRefreshCounter()},enumerable:!1,configurable:!0}),t.prototype.addPostProcess=function(e){if(!this._postProcessManager){var t=this.getScene();if(!t)return;this._postProcessManager=new c.a(t),this._postProcesses=new Array}this._postProcesses.push(e),this._postProcesses[0].autoClear=!1},t.prototype.clearPostProcesses=function(e){if(void 0===e&&(e=!1),this._postProcesses){if(e)for(var t=0,i=this._postProcesses;t<i.length;t++){i[t].dispose()}this._postProcesses=[]}},t.prototype.removePostProcess=function(e){if(this._postProcesses){var t=this._postProcesses.indexOf(e);-1!==t&&(this._postProcesses.splice(t,1),this._postProcesses.length>0&&(this._postProcesses[0].autoClear=!1))}},t.prototype._shouldRender=function(){return-1===this._currentRefreshId||this.refreshRate===this._currentRefreshId?(this._currentRefreshId=1,!0):(this._currentRefreshId++,!1)},t.prototype.getRenderSize=function(){return this.getRenderWidth()},t.prototype.getRenderWidth=function(){return this._size.width?this._size.width:this._size},t.prototype.getRenderHeight=function(){return this._size.width?this._size.height:this._size},t.prototype.getRenderLayers=function(){var e=this._size.layers;return e||0},Object.defineProperty(t.prototype,"canRescale",{get:function(){return!0},enumerable:!1,configurable:!0}),t.prototype.scale=function(e){var t=Math.max(1,this.getRenderSize()*e);this.resize(t)},t.prototype.getReflectionTextureMatrix=function(){return this.isCube?this._textureMatrix:e.prototype.getReflectionTextureMatrix.call(this)},t.prototype.resize=function(e){var t=this.isCube;this.releaseInternalTexture();var i=this.getScene();i&&(this._processSizeParameter(e),this._texture=t?i.getEngine().createRenderTargetCubeTexture(this.getRenderSize(),this._renderTargetOptions):i.getEngine().createRenderTargetTexture(this._size,this._renderTargetOptions),this.onResizeObservable.hasObservers()&&this.onResizeObservable.notifyObservers(this))},t.prototype.render=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!1),a=this.getScene()){var i,n=a.getEngine();if(void 0!==this.useCameraPostProcesses&&(e=this.useCameraPostProcesses),this._waitingRenderList){this.renderList=[];for(var r=0;r<this._waitingRenderList.length;r++){var o=this._waitingRenderList[r],s=a.getMeshByID(o);s&&this.renderList.push(s)}this._waitingRenderList=void 0}if(this.renderListPredicate){var a;if(this.renderList?this.renderList.length=0:this.renderList=[],!(a=this.getScene()))return;var c=a.meshes;for(r=0;r<c.length;r++){var l=c[r];this.renderListPredicate(l)&&this.renderList.push(l)}}if(this.onBeforeBindObservable.notifyObservers(this),this.activeCamera?(i=this.activeCamera,n.setViewport(this.activeCamera.viewport,this.getRenderWidth(),this.getRenderHeight()),this.activeCamera!==a.activeCamera&&a.setTransformMatrix(this.activeCamera.getViewMatrix(),this.activeCamera.getProjectionMatrix(!0))):(i=a.activeCamera)&&n.setViewport(i.viewport,this.getRenderWidth(),this.getRenderHeight()),this._defaultRenderListPrepared=!1,this.is2DArray)for(var _=0;_<this.getRenderLayers();_++)this.renderToTarget(0,e,t,_,i),a.incrementRenderId(),a.resetCachedMaterial();else if(this.isCube)for(var u=0;u<6;u++)this.renderToTarget(u,e,t,void 0,i),a.incrementRenderId(),a.resetCachedMaterial();else this.renderToTarget(0,e,t,void 0,i);this.onAfterUnbindObservable.notifyObservers(this),a.activeCamera&&((a.getEngine().scenes.length>1||this.activeCamera&&this.activeCamera!==a.activeCamera)&&a.setTransformMatrix(a.activeCamera.getViewMatrix(),a.activeCamera.getProjectionMatrix(!0)),n.setViewport(a.activeCamera.viewport)),a.resetCachedMaterial()}},t.prototype._bestReflectionRenderTargetDimension=function(e,t){var i=e*t,n=_.a.NearestPOT(i+16384/(128+i));return Math.min(_.a.FloorPOT(e),n)},t.prototype._prepareRenderingManager=function(e,t,i,n){var r=this.getScene();if(r){this._renderingManager.reset();for(var o=r.getRenderId(),s=0;s<t;s++){var a=e[s];if(a&&!a.isBlocked){if(this.customIsReadyFunction){if(!this.customIsReadyFunction(a,this.refreshRate)){this.resetRefreshCounter();continue}}else if(!a.isReady(0===this.refreshRate)){this.resetRefreshCounter();continue}if(!a._internalAbstractMeshDataInfo._currentLODIsUpToDate&&r.activeCamera&&(a._internalAbstractMeshDataInfo._currentLOD=r.customLODSelector?r.customLODSelector(a,r.activeCamera):a.getLOD(r.activeCamera),a._internalAbstractMeshDataInfo._currentLODIsUpToDate=!0),!a._internalAbstractMeshDataInfo._currentLOD)continue;var c=a._internalAbstractMeshDataInfo._currentLOD;c._preActivateForIntermediateRendering(o);var l=void 0;if(l=!(!n||!i)&&0===(a.layerMask&i.layerMask),a.isEnabled()&&a.isVisible&&a.subMeshes&&!l&&(c!==a&&c._activate(o,!0),a._activate(o,!0)&&a.subMeshes.length)){a.isAnInstance?a._internalAbstractMeshDataInfo._actAsRegularMesh&&(c=a):c._internalAbstractMeshDataInfo._onlyForInstancesIntermediate=!1,c._internalAbstractMeshDataInfo._isActiveIntermediate=!0;for(var _=0;_<c.subMeshes.length;_++){var u=c.subMeshes[_];this._renderingManager.dispatch(u,c)}}}}for(var f=0;f<r.particleSystems.length;f++){var d=r.particleSystems[f],h=d.emitter;d.isStarted()&&h&&h.position&&h.isEnabled()&&(e.indexOf(h)>=0&&this._renderingManager.dispatchParticles(d))}}},t.prototype._bindFrameBuffer=function(e,t){void 0===e&&(e=0),void 0===t&&(t=0);var i=this.getScene();if(i){var n=i.getEngine();this._texture&&n.bindFramebuffer(this._texture,this.isCube?e:void 0,void 0,void 0,this.ignoreCameraViewport,0,t)}},t.prototype.unbindFrameBuffer=function(e,t){var i=this;this._texture&&e.unBindFramebuffer(this._texture,this.isCube,function(){i.onAfterRenderObservable.notifyObservers(t)})},t.prototype.renderToTarget=function(e,t,i,n,r){void 0===n&&(n=0),void 0===r&&(r=null);var s=this.getScene();if(s){var a=s.getEngine();if(this._texture){this._postProcessManager?this._postProcessManager._prepareFrame(this._texture,this._postProcesses):t&&s.postProcessManager._prepareFrame(this._texture)||this._bindFrameBuffer(e,n),this.is2DArray?this.onBeforeRenderObservable.notifyObservers(n):this.onBeforeRenderObservable.notifyObservers(e);var c=null,l=this.renderList?this.renderList:s.getActiveMeshes().data,_=this.renderList?this.renderList.length:s.getActiveMeshes().length;this.getCustomRenderList&&(c=this.getCustomRenderList(this.is2DArray?n:e,l,_)),c?this._prepareRenderingManager(c,c.length,r,!1):(this._defaultRenderListPrepared||(this._prepareRenderingManager(l,_,r,!this.renderList),this._defaultRenderListPrepared=!0),c=l),this.onClearObservable.hasObservers()?this.onClearObservable.notifyObservers(a):a.clear(this.clearColor||s.clearColor,!0,!0,!0),this._doNotChangeAspectRatio||s.updateTransformMatrix(!0);for(var u=0,f=s._beforeRenderTargetDrawStage;u<f.length;u++){f[u].action(this)}this._renderingManager.render(this.customRenderFunction,c,this.renderParticles,this.renderSprites);for(var d=0,h=s._afterRenderTargetDrawStage;d<h.length;d++){h[d].action(this)}this._postProcessManager?this._postProcessManager._finalizeFrame(!1,this._texture,e,this._postProcesses,this.ignoreCameraViewport):t&&s.postProcessManager._finalizeFrame(!1,this._texture,e),this._doNotChangeAspectRatio||s.updateTransformMatrix(!0),i&&o.b.DumpFramebuffer(this.getRenderWidth(),this.getRenderHeight(),a),this.isCube&&5!==e?this.onAfterRenderObservable.notifyObservers(e):(this.isCube&&5===e&&a.generateMipMapsForCubemap(this._texture),this.unbindFrameBuffer(a,e))}}},t.prototype.setRenderingOrder=function(e,t,i,n){void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),this._renderingManager.setRenderingOrder(e,t,i,n)},t.prototype.setRenderingAutoClearDepthStencil=function(e,t){this._renderingManager.setRenderingAutoClearDepthStencil(e,t),this._renderingManager._useSceneAutoClearSetup=!1},t.prototype.clone=function(){var e=this.getSize(),i=new t(this.name,e,this.getScene(),this._renderTargetOptions.generateMipMaps,this._doNotChangeAspectRatio,this._renderTargetOptions.type,this.isCube,this._renderTargetOptions.samplingMode,this._renderTargetOptions.generateDepthBuffer,this._renderTargetOptions.generateStencilBuffer);return i.hasAlpha=this.hasAlpha,i.level=this.level,i.coordinatesMode=this.coordinatesMode,this.renderList&&(i.renderList=this.renderList.slice(0)),i},t.prototype.serialize=function(){if(!this.name)return null;var t=e.prototype.serialize.call(this);if(t.renderTargetSize=this.getRenderSize(),t.renderList=[],this.renderList)for(var i=0;i<this.renderList.length;i++)t.renderList.push(this.renderList[i].id);return t},t.prototype.disposeFramebufferObjects=function(){var e=this.getInternalTexture(),t=this.getScene();e&&t&&t.getEngine()._releaseFramebufferObjects(e)},t.prototype.dispose=function(){this.onResizeObservable.clear(),this.onClearObservable.clear(),this.onAfterRenderObservable.clear(),this.onAfterUnbindObservable.clear(),this.onBeforeBindObservable.clear(),this.onBeforeRenderObservable.clear(),this._postProcessManager&&(this._postProcessManager.dispose(),this._postProcessManager=null),this.clearPostProcesses(!0),this._resizeObserver&&(this.getScene().getEngine().onResizeObservable.remove(this._resizeObserver),this._resizeObserver=null),this.renderList=null;var t=this.getScene();if(t){var i=t.customRenderTargets.indexOf(this);i>=0&&t.customRenderTargets.splice(i,1);for(var n=0,r=t.cameras;n<r.length;n++){var o=r[n];(i=o.customRenderTargets.indexOf(this))>=0&&o.customRenderTargets.splice(i,1)}this.depthStencilTexture&&this.getScene().getEngine()._releaseTexture(this.depthStencilTexture),e.prototype.dispose.call(this)}},t.prototype._rebuild=function(){this.refreshRate===t.REFRESHRATE_RENDER_ONCE&&(this.refreshRate=t.REFRESHRATE_RENDER_ONCE),this._postProcessManager&&this._postProcessManager._rebuild()},t.prototype.freeRenderingGroups=function(){this._renderingManager&&this._renderingManager.freeRenderingGroups()},t.prototype.getViewCount=function(){return 1},t.REFRESHRATE_RENDER_ONCE=0,t.REFRESHRATE_RENDER_ONEVERYFRAME=1,t.REFRESHRATE_RENDER_ONEVERYTWOFRAMES=2,t}(a.a);a.a._CreateRenderTargetTexture=function(e,t,i,n){return new u(e,t,i,n)}},808:function(e,t,i){"use strict";var n="clipPlaneFragmentDeclaration",r="#ifdef CLIPPLANE\nvarying float fClipDistance;\n#endif\n#ifdef CLIPPLANE2\nvarying float fClipDistance2;\n#endif\n#ifdef CLIPPLANE3\nvarying float fClipDistance3;\n#endif\n#ifdef CLIPPLANE4\nvarying float fClipDistance4;\n#endif\n#ifdef CLIPPLANE5\nvarying float fClipDistance5;\n#endif\n#ifdef CLIPPLANE6\nvarying float fClipDistance6;\n#endif";i(642).a.IncludesShadersStore[n]=r},809:function(e,t,i){"use strict";var n="clipPlaneFragment",r="#ifdef CLIPPLANE\nif (fClipDistance>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE2\nif (fClipDistance2>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE3\nif (fClipDistance3>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE4\nif (fClipDistance4>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE5\nif (fClipDistance5>0.0)\n{\ndiscard;\n}\n#endif\n#ifdef CLIPPLANE6\nif (fClipDistance6>0.0)\n{\ndiscard;\n}\n#endif";i(642).a.IncludesShadersStore[n]=r},810:function(e,t,i){"use strict";var n="morphTargetsVertexGlobalDeclaration",r="#ifdef MORPHTARGETS\nuniform float morphTargetInfluences[NUM_MORPH_INFLUENCERS];\n#endif";i(642).a.IncludesShadersStore[n]=r},811:function(e,t,i){"use strict";var n="morphTargetsVertexDeclaration",r="#ifdef MORPHTARGETS\nattribute vec3 position{X};\n#ifdef MORPHTARGETS_NORMAL\nattribute vec3 normal{X};\n#endif\n#ifdef MORPHTARGETS_TANGENT\nattribute vec3 tangent{X};\n#endif\n#ifdef MORPHTARGETS_UV\nattribute vec2 uv_{X};\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},812:function(e,t,i){"use strict";var n="clipPlaneVertexDeclaration",r="#ifdef CLIPPLANE\nuniform vec4 vClipPlane;\nvarying float fClipDistance;\n#endif\n#ifdef CLIPPLANE2\nuniform vec4 vClipPlane2;\nvarying float fClipDistance2;\n#endif\n#ifdef CLIPPLANE3\nuniform vec4 vClipPlane3;\nvarying float fClipDistance3;\n#endif\n#ifdef CLIPPLANE4\nuniform vec4 vClipPlane4;\nvarying float fClipDistance4;\n#endif\n#ifdef CLIPPLANE5\nuniform vec4 vClipPlane5;\nvarying float fClipDistance5;\n#endif\n#ifdef CLIPPLANE6\nuniform vec4 vClipPlane6;\nvarying float fClipDistance6;\n#endif";i(642).a.IncludesShadersStore[n]=r},813:function(e,t,i){"use strict";var n="morphTargetsVertex",r="#ifdef MORPHTARGETS\npositionUpdated+=(position{X}-position)*morphTargetInfluences[{X}];\n#ifdef MORPHTARGETS_NORMAL\nnormalUpdated+=(normal{X}-normal)*morphTargetInfluences[{X}];\n#endif\n#ifdef MORPHTARGETS_TANGENT\ntangentUpdated.xyz+=(tangent{X}-tangent.xyz)*morphTargetInfluences[{X}];\n#endif\n#ifdef MORPHTARGETS_UV\nuvUpdated+=(uv_{X}-uv)*morphTargetInfluences[{X}];\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},814:function(e,t,i){"use strict";var n="clipPlaneVertex",r="#ifdef CLIPPLANE\nfClipDistance=dot(worldPos,vClipPlane);\n#endif\n#ifdef CLIPPLANE2\nfClipDistance2=dot(worldPos,vClipPlane2);\n#endif\n#ifdef CLIPPLANE3\nfClipDistance3=dot(worldPos,vClipPlane3);\n#endif\n#ifdef CLIPPLANE4\nfClipDistance4=dot(worldPos,vClipPlane4);\n#endif\n#ifdef CLIPPLANE5\nfClipDistance5=dot(worldPos,vClipPlane5);\n#endif\n#ifdef CLIPPLANE6\nfClipDistance6=dot(worldPos,vClipPlane6);\n#endif";i(642).a.IncludesShadersStore[n]=r},815:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this._defines={},this._currentRank=32,this._maxRank=-1,this._mesh=null}return e.prototype.unBindMesh=function(){this._mesh=null},e.prototype.addFallback=function(e,t){this._defines[e]||(e<this._currentRank&&(this._currentRank=e),e>this._maxRank&&(this._maxRank=e),this._defines[e]=new Array),this._defines[e].push(t)},e.prototype.addCPUSkinningFallback=function(e,t){this._mesh=t,e<this._currentRank&&(this._currentRank=e),e>this._maxRank&&(this._maxRank=e)},Object.defineProperty(e.prototype,"hasMoreFallbacks",{get:function(){return this._currentRank<=this._maxRank},enumerable:!1,configurable:!0}),e.prototype.reduce=function(e,t){if(this._mesh&&this._mesh.computeBonesUsingShaders&&this._mesh.numBoneInfluencers>0){this._mesh.computeBonesUsingShaders=!1,e=e.replace("#define NUM_BONE_INFLUENCERS "+this._mesh.numBoneInfluencers,"#define NUM_BONE_INFLUENCERS 0"),t._bonesComputationForcedToCPU=!0;for(var i=this._mesh.getScene(),n=0;n<i.meshes.length;n++){var r=i.meshes[n];if(r.material){if(r.computeBonesUsingShaders&&0!==r.numBoneInfluencers)if(r.material.getEffect()===t)r.computeBonesUsingShaders=!1;else if(r.subMeshes)for(var o=0,s=r.subMeshes;o<s.length;o++){if(s[o].effect===t){r.computeBonesUsingShaders=!1;break}}}else!this._mesh.material&&r.computeBonesUsingShaders&&r.numBoneInfluencers>0&&(r.computeBonesUsingShaders=!1)}}else{var a=this._defines[this._currentRank];if(a)for(n=0;n<a.length;n++)e=e.replace("#define "+a[n],"");this._currentRank++}return e},e}()},816:function(e,t,i){"use strict";i.d(t,"a",function(){return d});var n=i(30),r=i(244),o=i(694),s=i(660),a=i(804),c=i(877),l=i(704),_=i(658),u=i(764),f=i(870),d=function(){function e(e,t,i,n,r){void 0===n&&(n=!1),void 0===r&&(r=null),this.delayLoadState=0,this._totalVertices=0,this._isDisposed=!1,this._indexBufferIsUpdatable=!1,this._positionsCache=[],this.useBoundingInfoFromGeometry=!1,this.id=e,this.uniqueId=t.getUniqueId(),this._engine=t.getEngine(),this._meshes=[],this._scene=t,this._vertexBuffers={},this._indices=[],this._updatable=n,i?this.setAllVerticesData(i,n):(this._totalVertices=0,this._indices=[]),this._engine.getCaps().vertexArrayObject&&(this._vertexArrayObjects={}),r&&(this.applyToMesh(r),r.computeWorldMatrix(!0))}return Object.defineProperty(e.prototype,"boundingBias",{get:function(){return this._boundingBias},set:function(e){this._boundingBias?this._boundingBias.copyFrom(e):this._boundingBias=e.clone(),this._updateBoundingInfo(!0,null)},enumerable:!1,configurable:!0}),e.CreateGeometryForMesh=function(t){var i=new e(e.RandomId(),t.getScene());return i.applyToMesh(t),i},Object.defineProperty(e.prototype,"meshes",{get:function(){return this._meshes},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"extend",{get:function(){return this._extend},enumerable:!1,configurable:!0}),e.prototype.getScene=function(){return this._scene},e.prototype.getEngine=function(){return this._engine},e.prototype.isReady=function(){return 1===this.delayLoadState||0===this.delayLoadState},Object.defineProperty(e.prototype,"doNotSerialize",{get:function(){for(var e=0;e<this._meshes.length;e++)if(!this._meshes[e].doNotSerialize)return!1;return!0},enumerable:!1,configurable:!0}),e.prototype._rebuild=function(){for(var e in this._vertexArrayObjects&&(this._vertexArrayObjects={}),0!==this._meshes.length&&this._indices&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices)),this._vertexBuffers){this._vertexBuffers[e]._rebuild()}},e.prototype.setAllVerticesData=function(e,t){e.applyToGeometry(this,t),this.notifyUpdate()},e.prototype.setVerticesData=function(e,t,i,n){void 0===i&&(i=!1),i&&Array.isArray(t)&&(t=new Float32Array(t));var r=new s.b(this._engine,t,e,i,0===this._meshes.length,n);this.setVerticesBuffer(r)},e.prototype.removeVerticesData=function(e){this._vertexBuffers[e]&&(this._vertexBuffers[e].dispose(),delete this._vertexBuffers[e])},e.prototype.setVerticesBuffer=function(e,t){void 0===t&&(t=null);var i=e.getKind();if(this._vertexBuffers[i]&&this._vertexBuffers[i].dispose(),this._vertexBuffers[i]=e,i===s.b.PositionKind){var n=e.getData();null!=t?this._totalVertices=t:null!=n&&(this._totalVertices=n.length/(e.byteStride/4)),this._updateExtend(n),this._resetPointsArrayCache();for(var r=this._meshes,o=r.length,a=0;a<o;a++){var c=r[a];c._boundingInfo=new l.a(this._extend.minimum,this._extend.maximum),c._createGlobalSubMesh(!1),c.computeWorldMatrix(!0)}}this.notifyUpdate(i),this._vertexArrayObjects&&(this._disposeVertexArrayObjects(),this._vertexArrayObjects={})},e.prototype.updateVerticesDataDirectly=function(e,t,i,n){void 0===n&&(n=!1);var r=this.getVertexBuffer(e);r&&(r.updateDirectly(t,i,n),this.notifyUpdate(e))},e.prototype.updateVerticesData=function(e,t,i){void 0===i&&(i=!1);var n=this.getVertexBuffer(e);n&&(n.update(t),e===s.b.PositionKind&&this._updateBoundingInfo(i,t),this.notifyUpdate(e))},e.prototype._updateBoundingInfo=function(e,t){if(e&&this._updateExtend(t),this._resetPointsArrayCache(),e)for(var i=0,n=this._meshes;i<n.length;i++){var r=n[i];r._boundingInfo?r._boundingInfo.reConstruct(this._extend.minimum,this._extend.maximum):r._boundingInfo=new l.a(this._extend.minimum,this._extend.maximum);for(var o=0,s=r.subMeshes;o<s.length;o++){s[o].refreshBoundingInfo()}}},e.prototype._bind=function(e,t){if(e){void 0===t&&(t=this._indexBuffer);var i=this.getVertexBuffers();i&&(t==this._indexBuffer&&this._vertexArrayObjects?(this._vertexArrayObjects[e.key]||(this._vertexArrayObjects[e.key]=this._engine.recordVertexArrayObject(i,t,e)),this._engine.bindVertexArrayObject(this._vertexArrayObjects[e.key],t)):this._engine.bindBuffers(i,t,e))}},e.prototype.getTotalVertices=function(){return this.isReady()?this._totalVertices:0},e.prototype.getVerticesData=function(e,t,i){var n=this.getVertexBuffer(e);if(!n)return null;var r=n.getData();if(!r)return null;var o=n.getSize()*s.b.GetTypeByteLength(n.type),a=this._totalVertices*n.getSize();if(n.type!==s.b.FLOAT||n.byteStride!==o){var c=[];return n.forEach(a,function(e){return c.push(e)}),c}if(!(r instanceof Array||r instanceof Float32Array)||0!==n.byteOffset||r.length!==a){if(r instanceof Array){var l=n.byteOffset/4;return _.b.Slice(r,l,l+a)}if(r instanceof ArrayBuffer)return new Float32Array(r,n.byteOffset,a);l=r.byteOffset+n.byteOffset;if(i||t&&1!==this._meshes.length){var u=new Float32Array(a),f=new Float32Array(r.buffer,l,a);return u.set(f),u}var d=l%4;return d&&(l=Math.max(0,l-d)),new Float32Array(r.buffer,l,a)}return i||t&&1!==this._meshes.length?_.b.Slice(r):r},e.prototype.isVertexBufferUpdatable=function(e){var t=this._vertexBuffers[e];return!!t&&t.isUpdatable()},e.prototype.getVertexBuffer=function(e){return this.isReady()?this._vertexBuffers[e]:null},e.prototype.getVertexBuffers=function(){return this.isReady()?this._vertexBuffers:null},e.prototype.isVerticesDataPresent=function(e){return this._vertexBuffers?void 0!==this._vertexBuffers[e]:!!this._delayInfo&&-1!==this._delayInfo.indexOf(e)},e.prototype.getVerticesDataKinds=function(){var e,t=[];if(!this._vertexBuffers&&this._delayInfo)for(e in this._delayInfo)t.push(e);else for(e in this._vertexBuffers)t.push(e);return t},e.prototype.updateIndices=function(e,t,i){if(void 0===i&&(i=!1),this._indexBuffer)if(this._indexBufferIsUpdatable){var n=e.length!==this._indices.length;if(i||(this._indices=e.slice()),this._engine.updateDynamicIndexBuffer(this._indexBuffer,e,t),n)for(var r=0,o=this._meshes;r<o.length;r++){o[r]._createGlobalSubMesh(!0)}}else this.setIndices(e,null,!0)},e.prototype.setIndices=function(e,t,i){void 0===t&&(t=null),void 0===i&&(i=!1),this._indexBuffer&&this._engine._releaseBuffer(this._indexBuffer),this._disposeVertexArrayObjects(),this._indices=e,this._indexBufferIsUpdatable=i,0!==this._meshes.length&&this._indices&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices,i)),void 0!=t&&(this._totalVertices=t);for(var n=0,r=this._meshes;n<r.length;n++){r[n]._createGlobalSubMesh(!0)}this.notifyUpdate()},e.prototype.getTotalIndices=function(){return this.isReady()?this._indices.length:0},e.prototype.getIndices=function(e,t){if(!this.isReady())return null;var i=this._indices;if(t||e&&1!==this._meshes.length){for(var n=i.length,r=[],o=0;o<n;o++)r.push(i[o]);return r}return i},e.prototype.getIndexBuffer=function(){return this.isReady()?this._indexBuffer:null},e.prototype._releaseVertexArrayObject=function(e){void 0===e&&(e=null),e&&this._vertexArrayObjects&&this._vertexArrayObjects[e.key]&&(this._engine.releaseVertexArrayObject(this._vertexArrayObjects[e.key]),delete this._vertexArrayObjects[e.key])},e.prototype.releaseForMesh=function(e,t){var i=this._meshes,n=i.indexOf(e);-1!==n&&(i.splice(n,1),e._geometry=null,0===i.length&&t&&this.dispose())},e.prototype.applyToMesh=function(e){if(e._geometry!==this){var t=e._geometry;t&&t.releaseForMesh(e);var i=this._meshes;e._geometry=this,this._scene.pushGeometry(this),i.push(e),this.isReady()?this._applyToMesh(e):e._boundingInfo=this._boundingInfo}},e.prototype._updateExtend=function(e){void 0===e&&(e=null),this.useBoundingInfoFromGeometry&&this._boundingInfo?this._extend={minimum:this._boundingInfo.minimum.clone(),maximum:this._boundingInfo.maximum.clone()}:(e||(e=this.getVerticesData(s.b.PositionKind)),this._extend=Object(f.a)(e,0,this._totalVertices,this.boundingBias,3))},e.prototype._applyToMesh=function(e){var t=this._meshes.length;for(var i in this._vertexBuffers){1===t&&this._vertexBuffers[i].create();var n=this._vertexBuffers[i].getBuffer();n&&(n.references=t),i===s.b.PositionKind&&(this._extend||this._updateExtend(),e._boundingInfo=new l.a(this._extend.minimum,this._extend.maximum),e._createGlobalSubMesh(!1),e._updateBoundingInfo())}1===t&&this._indices&&this._indices.length>0&&(this._indexBuffer=this._engine.createIndexBuffer(this._indices)),this._indexBuffer&&(this._indexBuffer.references=t),e._syncGeometryWithMorphTargetManager(),e.synchronizeInstances()},e.prototype.notifyUpdate=function(e){this.onGeometryUpdated&&this.onGeometryUpdated(this,e);for(var t=0,i=this._meshes;t<i.length;t++){i[t]._markSubMeshesAsAttributesDirty()}},e.prototype.load=function(e,t){2!==this.delayLoadState&&(this.isReady()?t&&t():(this.delayLoadState=2,this._queueLoad(e,t)))},e.prototype._queueLoad=function(e,t){var i=this;this.delayLoadingFile&&(e._addPendingData(this),e._loadFile(this.delayLoadingFile,function(n){if(i._delayLoadingFunction){i._delayLoadingFunction(JSON.parse(n),i),i.delayLoadState=1,i._delayInfo=[],e._removePendingData(i);for(var r=i._meshes,o=r.length,s=0;s<o;s++)i._applyToMesh(r[s]);t&&t()}},void 0,!0))},e.prototype.toLeftHanded=function(){var e=this.getIndices(!1);if(null!=e&&e.length>0){for(var t=0;t<e.length;t+=3){var i=e[t+0];e[t+0]=e[t+2],e[t+2]=i}this.setIndices(e)}var n=this.getVerticesData(s.b.PositionKind,!1);if(null!=n&&n.length>0){for(t=0;t<n.length;t+=3)n[t+2]=-n[t+2];this.setVerticesData(s.b.PositionKind,n,!1)}var r=this.getVerticesData(s.b.NormalKind,!1);if(null!=r&&r.length>0){for(t=0;t<r.length;t+=3)r[t+2]=-r[t+2];this.setVerticesData(s.b.NormalKind,r,!1)}},e.prototype._resetPointsArrayCache=function(){this._positions=null},e.prototype._generatePointsArray=function(){if(this._positions)return!0;var e=this.getVerticesData(s.b.PositionKind);if(!e||0===e.length)return!1;for(var t=3*this._positionsCache.length,i=this._positionsCache.length;t<e.length;t+=3,++i)this._positionsCache[i]=n.e.FromArray(e,t);for(t=0,i=0;t<e.length;t+=3,++i)this._positionsCache[i].set(e[0+t],e[1+t],e[2+t]);return this._positionsCache.length=e.length/3,this._positions=this._positionsCache,!0},e.prototype.isDisposed=function(){return this._isDisposed},e.prototype._disposeVertexArrayObjects=function(){if(this._vertexArrayObjects){for(var e in this._vertexArrayObjects)this._engine.releaseVertexArrayObject(this._vertexArrayObjects[e]);this._vertexArrayObjects={}}},e.prototype.dispose=function(){var e,t=this._meshes,i=t.length;for(e=0;e<i;e++)this.releaseForMesh(t[e]);for(var n in this._meshes=[],this._disposeVertexArrayObjects(),this._vertexBuffers)this._vertexBuffers[n].dispose();this._vertexBuffers={},this._totalVertices=0,this._indexBuffer&&this._engine._releaseBuffer(this._indexBuffer),this._indexBuffer=null,this._indices=[],this.delayLoadState=0,this.delayLoadingFile=null,this._delayLoadingFunction=null,this._delayInfo=[],this._boundingInfo=null,this._scene.removeGeometry(this),this._isDisposed=!0},e.prototype.copy=function(t){var i=new o.a;i.indices=[];var n=this.getIndices();if(n)for(var r=0;r<n.length;r++)i.indices.push(n[r]);var s,a=!1,c=!1;for(s in this._vertexBuffers){var _=this.getVerticesData(s);if(_&&(_ instanceof Float32Array?i.set(new Float32Array(_),s):i.set(_.slice(0),s),!c)){var u=this.getVertexBuffer(s);u&&(c=!(a=u.isUpdatable()))}}var f=new e(t,this._scene,i,a);for(s in f.delayLoadState=this.delayLoadState,f.delayLoadingFile=this.delayLoadingFile,f._delayLoadingFunction=this._delayLoadingFunction,this._delayInfo)f._delayInfo=f._delayInfo||[],f._delayInfo.push(s);return f._boundingInfo=new l.a(this._extend.minimum,this._extend.maximum),f},e.prototype.serialize=function(){var e={};return e.id=this.id,e.updatable=this._updatable,u.a&&u.a.HasTags(this)&&(e.tags=u.a.GetTags(this)),e},e.prototype.toNumberArray=function(e){return Array.isArray(e)?e:Array.prototype.slice.call(e)},e.prototype.serializeVerticeData=function(){var e=this.serialize();return this.isVerticesDataPresent(s.b.PositionKind)&&(e.positions=this.toNumberArray(this.getVerticesData(s.b.PositionKind)),this.isVertexBufferUpdatable(s.b.PositionKind)&&(e.positions._updatable=!0)),this.isVerticesDataPresent(s.b.NormalKind)&&(e.normals=this.toNumberArray(this.getVerticesData(s.b.NormalKind)),this.isVertexBufferUpdatable(s.b.NormalKind)&&(e.normals._updatable=!0)),this.isVerticesDataPresent(s.b.TangentKind)&&(e.tangets=this.toNumberArray(this.getVerticesData(s.b.TangentKind)),this.isVertexBufferUpdatable(s.b.TangentKind)&&(e.tangets._updatable=!0)),this.isVerticesDataPresent(s.b.UVKind)&&(e.uvs=this.toNumberArray(this.getVerticesData(s.b.UVKind)),this.isVertexBufferUpdatable(s.b.UVKind)&&(e.uvs._updatable=!0)),this.isVerticesDataPresent(s.b.UV2Kind)&&(e.uv2s=this.toNumberArray(this.getVerticesData(s.b.UV2Kind)),this.isVertexBufferUpdatable(s.b.UV2Kind)&&(e.uv2s._updatable=!0)),this.isVerticesDataPresent(s.b.UV3Kind)&&(e.uv3s=this.toNumberArray(this.getVerticesData(s.b.UV3Kind)),this.isVertexBufferUpdatable(s.b.UV3Kind)&&(e.uv3s._updatable=!0)),this.isVerticesDataPresent(s.b.UV4Kind)&&(e.uv4s=this.toNumberArray(this.getVerticesData(s.b.UV4Kind)),this.isVertexBufferUpdatable(s.b.UV4Kind)&&(e.uv4s._updatable=!0)),this.isVerticesDataPresent(s.b.UV5Kind)&&(e.uv5s=this.toNumberArray(this.getVerticesData(s.b.UV5Kind)),this.isVertexBufferUpdatable(s.b.UV5Kind)&&(e.uv5s._updatable=!0)),this.isVerticesDataPresent(s.b.UV6Kind)&&(e.uv6s=this.toNumberArray(this.getVerticesData(s.b.UV6Kind)),this.isVertexBufferUpdatable(s.b.UV6Kind)&&(e.uv6s._updatable=!0)),this.isVerticesDataPresent(s.b.ColorKind)&&(e.colors=this.toNumberArray(this.getVerticesData(s.b.ColorKind)),this.isVertexBufferUpdatable(s.b.ColorKind)&&(e.colors._updatable=!0)),this.isVerticesDataPresent(s.b.MatricesIndicesKind)&&(e.matricesIndices=this.toNumberArray(this.getVerticesData(s.b.MatricesIndicesKind)),e.matricesIndices._isExpanded=!0,this.isVertexBufferUpdatable(s.b.MatricesIndicesKind)&&(e.matricesIndices._updatable=!0)),this.isVerticesDataPresent(s.b.MatricesWeightsKind)&&(e.matricesWeights=this.toNumberArray(this.getVerticesData(s.b.MatricesWeightsKind)),this.isVertexBufferUpdatable(s.b.MatricesWeightsKind)&&(e.matricesWeights._updatable=!0)),e.indices=this.toNumberArray(this.getIndices()),e},e.ExtractFromMesh=function(e,t){var i=e._geometry;return i?i.copy(t):null},e.RandomId=function(){return _.b.RandomId()},e._ImportGeometry=function(t,i){var n=i.getScene(),o=t.geometryId;if(o){var c=n.getGeometryByID(o);c&&c.applyToMesh(i)}else if(t instanceof ArrayBuffer){var l=i._binaryInfo;if(l.positionsAttrDesc&&l.positionsAttrDesc.count>0){var _=new Float32Array(t,l.positionsAttrDesc.offset,l.positionsAttrDesc.count);i.setVerticesData(s.b.PositionKind,_,!1)}if(l.normalsAttrDesc&&l.normalsAttrDesc.count>0){var u=new Float32Array(t,l.normalsAttrDesc.offset,l.normalsAttrDesc.count);i.setVerticesData(s.b.NormalKind,u,!1)}if(l.tangetsAttrDesc&&l.tangetsAttrDesc.count>0){var f=new Float32Array(t,l.tangetsAttrDesc.offset,l.tangetsAttrDesc.count);i.setVerticesData(s.b.TangentKind,f,!1)}if(l.uvsAttrDesc&&l.uvsAttrDesc.count>0){var d=new Float32Array(t,l.uvsAttrDesc.offset,l.uvsAttrDesc.count);i.setVerticesData(s.b.UVKind,d,!1)}if(l.uvs2AttrDesc&&l.uvs2AttrDesc.count>0){var h=new Float32Array(t,l.uvs2AttrDesc.offset,l.uvs2AttrDesc.count);i.setVerticesData(s.b.UV2Kind,h,!1)}if(l.uvs3AttrDesc&&l.uvs3AttrDesc.count>0){var p=new Float32Array(t,l.uvs3AttrDesc.offset,l.uvs3AttrDesc.count);i.setVerticesData(s.b.UV3Kind,p,!1)}if(l.uvs4AttrDesc&&l.uvs4AttrDesc.count>0){var b=new Float32Array(t,l.uvs4AttrDesc.offset,l.uvs4AttrDesc.count);i.setVerticesData(s.b.UV4Kind,b,!1)}if(l.uvs5AttrDesc&&l.uvs5AttrDesc.count>0){var m=new Float32Array(t,l.uvs5AttrDesc.offset,l.uvs5AttrDesc.count);i.setVerticesData(s.b.UV5Kind,m,!1)}if(l.uvs6AttrDesc&&l.uvs6AttrDesc.count>0){var A=new Float32Array(t,l.uvs6AttrDesc.offset,l.uvs6AttrDesc.count);i.setVerticesData(s.b.UV6Kind,A,!1)}if(l.colorsAttrDesc&&l.colorsAttrDesc.count>0){var g=new Float32Array(t,l.colorsAttrDesc.offset,l.colorsAttrDesc.count);i.setVerticesData(s.b.ColorKind,g,!1,l.colorsAttrDesc.stride)}if(l.matricesIndicesAttrDesc&&l.matricesIndicesAttrDesc.count>0){for(var y=new Int32Array(t,l.matricesIndicesAttrDesc.offset,l.matricesIndicesAttrDesc.count),v=[],C=0;C<y.length;C++){var E=y[C];v.push(255&E),v.push((65280&E)>>8),v.push((16711680&E)>>16),v.push(E>>24&255)}i.setVerticesData(s.b.MatricesIndicesKind,v,!1)}if(l.matricesIndicesExtraAttrDesc&&l.matricesIndicesExtraAttrDesc.count>0){for(y=new Int32Array(t,l.matricesIndicesExtraAttrDesc.offset,l.matricesIndicesExtraAttrDesc.count),v=[],C=0;C<y.length;C++){E=y[C];v.push(255&E),v.push((65280&E)>>8),v.push((16711680&E)>>16),v.push(E>>24&255)}i.setVerticesData(s.b.MatricesIndicesExtraKind,v,!1)}if(l.matricesWeightsAttrDesc&&l.matricesWeightsAttrDesc.count>0){var S=new Float32Array(t,l.matricesWeightsAttrDesc.offset,l.matricesWeightsAttrDesc.count);i.setVerticesData(s.b.MatricesWeightsKind,S,!1)}if(l.indicesAttrDesc&&l.indicesAttrDesc.count>0){var T=new Int32Array(t,l.indicesAttrDesc.offset,l.indicesAttrDesc.count);i.setIndices(T,null)}if(l.subMeshesAttrDesc&&l.subMeshesAttrDesc.count>0){var R=new Int32Array(t,l.subMeshesAttrDesc.offset,5*l.subMeshesAttrDesc.count);i.subMeshes=[];for(C=0;C<l.subMeshesAttrDesc.count;C++){var M=R[5*C+0],O=R[5*C+1],I=R[5*C+2],x=R[5*C+3],P=R[5*C+4];a.a.AddToMesh(M,O,I,x,P,i)}}}else if(t.positions&&t.normals&&t.indices){if(i.setVerticesData(s.b.PositionKind,t.positions,t.positions._updatable),i.setVerticesData(s.b.NormalKind,t.normals,t.normals._updatable),t.tangents&&i.setVerticesData(s.b.TangentKind,t.tangents,t.tangents._updatable),t.uvs&&i.setVerticesData(s.b.UVKind,t.uvs,t.uvs._updatable),t.uvs2&&i.setVerticesData(s.b.UV2Kind,t.uvs2,t.uvs2._updatable),t.uvs3&&i.setVerticesData(s.b.UV3Kind,t.uvs3,t.uvs3._updatable),t.uvs4&&i.setVerticesData(s.b.UV4Kind,t.uvs4,t.uvs4._updatable),t.uvs5&&i.setVerticesData(s.b.UV5Kind,t.uvs5,t.uvs5._updatable),t.uvs6&&i.setVerticesData(s.b.UV6Kind,t.uvs6,t.uvs6._updatable),t.colors&&i.setVerticesData(s.b.ColorKind,r.b.CheckColors4(t.colors,t.positions.length/3),t.colors._updatable),t.matricesIndices)if(t.matricesIndices._isExpanded)delete t.matricesIndices._isExpanded,i.setVerticesData(s.b.MatricesIndicesKind,t.matricesIndices,t.matricesIndices._updatable);else{for(v=[],C=0;C<t.matricesIndices.length;C++){var D=t.matricesIndices[C];v.push(255&D),v.push((65280&D)>>8),v.push((16711680&D)>>16),v.push(D>>24&255)}i.setVerticesData(s.b.MatricesIndicesKind,v,t.matricesIndices._updatable)}if(t.matricesIndicesExtra)if(t.matricesIndicesExtra._isExpanded)delete t.matricesIndices._isExpanded,i.setVerticesData(s.b.MatricesIndicesExtraKind,t.matricesIndicesExtra,t.matricesIndicesExtra._updatable);else{for(v=[],C=0;C<t.matricesIndicesExtra.length;C++){D=t.matricesIndicesExtra[C];v.push(255&D),v.push((65280&D)>>8),v.push((16711680&D)>>16),v.push(D>>24&255)}i.setVerticesData(s.b.MatricesIndicesExtraKind,v,t.matricesIndicesExtra._updatable)}t.matricesWeights&&(e._CleanMatricesWeights(t,i),i.setVerticesData(s.b.MatricesWeightsKind,t.matricesWeights,t.matricesWeights._updatable)),t.matricesWeightsExtra&&i.setVerticesData(s.b.MatricesWeightsExtraKind,t.matricesWeightsExtra,t.matricesWeights._updatable),i.setIndices(t.indices,null)}if(t.subMeshes){i.subMeshes=[];for(var w=0;w<t.subMeshes.length;w++){var L=t.subMeshes[w];a.a.AddToMesh(L.materialIndex,L.verticesStart,L.verticesCount,L.indexStart,L.indexCount,i)}}i._shouldGenerateFlatShading&&(i.convertToFlatShadedMesh(),i._shouldGenerateFlatShading=!1),i.computeWorldMatrix(!0),n.onMeshImportedObservable.notifyObservers(i)},e._CleanMatricesWeights=function(e,t){var i=.001;if(c.a.CleanBoneMatrixWeights){var n=0;if(e.skeletonId>-1){var r=t.getScene().getLastSkeletonByID(e.skeletonId);if(r){n=r.bones.length;for(var o=t.getVerticesData(s.b.MatricesIndicesKind),a=t.getVerticesData(s.b.MatricesIndicesExtraKind),l=e.matricesWeights,_=e.matricesWeightsExtra,u=e.numBoneInfluencer,f=l.length,d=0;d<f;d+=4){for(var h=0,p=-1,b=0;b<4;b++){h+=m=l[d+b],m<i&&p<0&&(p=b)}if(_)for(b=0;b<4;b++){var m;h+=m=_[d+b],m<i&&p<0&&(p=b+4)}if((p<0||p>u-1)&&(p=u-1),h>i){var A=1/h;for(b=0;b<4;b++)l[d+b]*=A;if(_)for(b=0;b<4;b++)_[d+b]*=A}else p>=4?(_[d+p-4]=1-h,a[d+p-4]=n):(l[d+p]=1-h,o[d+p]=n)}t.setVerticesData(s.b.MatricesIndicesKind,o),e.matricesWeightsExtra&&t.setVerticesData(s.b.MatricesIndicesExtraKind,a)}}}},e.Parse=function(t,i,r){if(i.getGeometryByID(t.id))return null;var a=new e(t.id,i,void 0,t.updatable);return u.a&&u.a.AddTagsTo(a,t.tags),t.delayLoadingFile?(a.delayLoadState=4,a.delayLoadingFile=r+t.delayLoadingFile,a._boundingInfo=new l.a(n.e.FromArray(t.boundingBoxMinimum),n.e.FromArray(t.boundingBoxMaximum)),a._delayInfo=[],t.hasUVs&&a._delayInfo.push(s.b.UVKind),t.hasUVs2&&a._delayInfo.push(s.b.UV2Kind),t.hasUVs3&&a._delayInfo.push(s.b.UV3Kind),t.hasUVs4&&a._delayInfo.push(s.b.UV4Kind),t.hasUVs5&&a._delayInfo.push(s.b.UV5Kind),t.hasUVs6&&a._delayInfo.push(s.b.UV6Kind),t.hasColors&&a._delayInfo.push(s.b.ColorKind),t.hasMatricesIndices&&a._delayInfo.push(s.b.MatricesIndicesKind),t.hasMatricesWeights&&a._delayInfo.push(s.b.MatricesWeightsKind),a._delayLoadingFunction=o.a.ImportVertexData):o.a.ImportVertexData(t,a),i.pushGeometry(a,!0),a},e}()},817:function(e,t,i){"use strict";var n="lightFragmentDeclaration",r="#ifdef LIGHT{X}\nuniform vec4 vLightData{X};\nuniform vec4 vLightDiffuse{X};\n#ifdef SPECULARTERM\nuniform vec4 vLightSpecular{X};\n#else\nvec4 vLightSpecular{X}=vec4(0.);\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float cascadeBlendFactor{X};\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying vec4 vPositionFromCamera{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\nuniform highp sampler2DArray depthSampler{X};\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float penumbraDarkness{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\n#else\nuniform highp sampler2DArray shadowSampler{X};\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\n(\nvec3 ( 1.5,0.0,0.0 ),\nvec3 ( 0.0,1.5,0.0 ),\nvec3 ( 0.0,0.0,5.5 ),\nvec3 ( 1.5,0.0,5.5 ),\nvec3 ( 1.5,1.5,0.0 ),\nvec3 ( 1.0,1.0,1.0 ),\nvec3 ( 0.0,1.0,5.5 ),\nvec3 ( 0.5,3.5,0.75 )\n);\nvec3 shadowDebug{X};\n#endif\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nint index{X}=-1;\n#else\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\n#endif\nfloat diff{X}=0.;\n#elif defined(SHADOWCUBE{X})\nuniform samplerCube shadowSampler{X};\n#else\nvarying vec4 vPositionFromLight{X};\nvarying float vDepthMetric{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DShadow shadowSampler{X};\nuniform highp sampler2D depthSampler{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DShadow shadowSampler{X};\n#else\nuniform sampler2D shadowSampler{X};\n#endif\nuniform mat4 lightMatrix{X};\n#endif\nuniform vec4 shadowsInfo{X};\nuniform vec2 depthValues{X};\n#endif\n#ifdef SPOTLIGHT{X}\nuniform vec4 vLightDirection{X};\nuniform vec4 vLightFalloff{X};\n#elif defined(POINTLIGHT{X})\nuniform vec4 vLightFalloff{X};\n#elif defined(HEMILIGHT{X})\nuniform vec3 vLightGround{X};\n#endif\n#ifdef PROJECTEDLIGHTTEXTURE{X}\nuniform mat4 textureProjectionMatrix{X};\nuniform sampler2D projectionLightSampler{X};\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},818:function(e,t,i){"use strict";var n="lightUboDeclaration",r="#ifdef LIGHT{X}\nuniform Light{X}\n{\nvec4 vLightData;\nvec4 vLightDiffuse;\nvec4 vLightSpecular;\n#ifdef SPOTLIGHT{X}\nvec4 vLightDirection;\nvec4 vLightFalloff;\n#elif defined(POINTLIGHT{X})\nvec4 vLightFalloff;\n#elif defined(HEMILIGHT{X})\nvec3 vLightGround;\n#endif\nvec4 shadowsInfo;\nvec2 depthValues;\n} light{X};\n#ifdef PROJECTEDLIGHTTEXTURE{X}\nuniform mat4 textureProjectionMatrix{X};\nuniform sampler2D projectionLightSampler{X};\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nuniform mat4 lightMatrix{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float viewFrustumZ{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float frustumLengths{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float cascadeBlendFactor{X};\nvarying vec4 vPositionFromLight{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying float vDepthMetric{X}[SHADOWCSMNUM_CASCADES{X}];\nvarying vec4 vPositionFromCamera{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\nuniform highp sampler2DArray depthSampler{X};\nuniform vec2 lightSizeUVCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float depthCorrection{X}[SHADOWCSMNUM_CASCADES{X}];\nuniform float penumbraDarkness{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DArrayShadow shadowSampler{X};\n#else\nuniform highp sampler2DArray shadowSampler{X};\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nconst vec3 vCascadeColorsMultiplier{X}[8]=vec3[8]\n(\nvec3 ( 1.5,0.0,0.0 ),\nvec3 ( 0.0,1.5,0.0 ),\nvec3 ( 0.0,0.0,5.5 ),\nvec3 ( 1.5,0.0,5.5 ),\nvec3 ( 1.5,1.5,0.0 ),\nvec3 ( 1.0,1.0,1.0 ),\nvec3 ( 0.0,1.0,5.5 ),\nvec3 ( 0.5,3.5,0.75 )\n);\nvec3 shadowDebug{X};\n#endif\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nint index{X}=-1;\n#else\nint index{X}=SHADOWCSMNUM_CASCADES{X}-1;\n#endif\nfloat diff{X}=0.;\n#elif defined(SHADOWCUBE{X})\nuniform samplerCube shadowSampler{X};\n#else\nvarying vec4 vPositionFromLight{X};\nvarying float vDepthMetric{X};\n#if defined(SHADOWPCSS{X})\nuniform highp sampler2DShadow shadowSampler{X};\nuniform highp sampler2D depthSampler{X};\n#elif defined(SHADOWPCF{X})\nuniform highp sampler2DShadow shadowSampler{X};\n#else\nuniform sampler2D shadowSampler{X};\n#endif\nuniform mat4 lightMatrix{X};\n#endif\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},819:function(e,t,i){"use strict";var n="logDepthDeclaration",r="#ifdef LOGARITHMICDEPTH\nuniform float logarithmicDepthConstant;\nvarying float vFragmentDepth;\n#endif";i(642).a.IncludesShadersStore[n]=r},868:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(644),r=i(648),o=i(30),s=i(693),a=i(245),c=function(e){function t(){var t=null!==e&&e.apply(this,arguments)||this;return t._needProjectionMatrixCompute=!0,t}return Object(n.c)(t,e),t.prototype._setPosition=function(e){this._position=e},Object.defineProperty(t.prototype,"position",{get:function(){return this._position},set:function(e){this._setPosition(e)},enumerable:!1,configurable:!0}),t.prototype._setDirection=function(e){this._direction=e},Object.defineProperty(t.prototype,"direction",{get:function(){return this._direction},set:function(e){this._setDirection(e)},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowMinZ",{get:function(){return this._shadowMinZ},set:function(e){this._shadowMinZ=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"shadowMaxZ",{get:function(){return this._shadowMaxZ},set:function(e){this._shadowMaxZ=e,this.forceProjectionMatrixCompute()},enumerable:!1,configurable:!0}),t.prototype.computeTransformedInformation=function(){return!(!this.parent||!this.parent.getWorldMatrix)&&(this.transformedPosition||(this.transformedPosition=o.e.Zero()),o.e.TransformCoordinatesToRef(this.position,this.parent.getWorldMatrix(),this.transformedPosition),this.direction&&(this.transformedDirection||(this.transformedDirection=o.e.Zero()),o.e.TransformNormalToRef(this.direction,this.parent.getWorldMatrix(),this.transformedDirection)),!0)},t.prototype.getDepthScale=function(){return 50},t.prototype.getShadowDirection=function(e){return this.transformedDirection?this.transformedDirection:this.direction},t.prototype.getAbsolutePosition=function(){return this.transformedPosition?this.transformedPosition:this.position},t.prototype.setDirectionToTarget=function(e){return this.direction=o.e.Normalize(e.subtract(this.position)),this.direction},t.prototype.getRotation=function(){this.direction.normalize();var e=o.e.Cross(this.direction,a.a.Y),t=o.e.Cross(e,this.direction);return o.e.RotationFromAxis(e,t,this.direction)},t.prototype.needCube=function(){return!1},t.prototype.needProjectionMatrixCompute=function(){return this._needProjectionMatrixCompute},t.prototype.forceProjectionMatrixCompute=function(){this._needProjectionMatrixCompute=!0},t.prototype._initCache=function(){e.prototype._initCache.call(this),this._cache.position=o.e.Zero()},t.prototype._isSynchronized=function(){return!!this._cache.position.equals(this.position)},t.prototype.computeWorldMatrix=function(e){return!e&&this.isSynchronized()?(this._currentRenderId=this.getScene().getRenderId(),this._worldMatrix):(this._updateCache(),this._cache.position.copyFrom(this.position),this._worldMatrix||(this._worldMatrix=o.a.Identity()),o.a.TranslationToRef(this.position.x,this.position.y,this.position.z,this._worldMatrix),this.parent&&this.parent.getWorldMatrix&&(this._worldMatrix.multiplyToRef(this.parent.getWorldMatrix(),this._worldMatrix),this._markSyncedWithParent()),this._worldMatrixDeterminantIsDirty=!0,this._worldMatrix)},t.prototype.getDepthMinZ=function(e){return void 0!==this.shadowMinZ?this.shadowMinZ:e.minZ},t.prototype.getDepthMaxZ=function(e){return void 0!==this.shadowMaxZ?this.shadowMaxZ:e.maxZ},t.prototype.setShadowProjectionMatrix=function(e,t,i){return this.customProjectionMatrixBuilder?this.customProjectionMatrixBuilder(t,i,e):this._setDefaultShadowProjectionMatrix(e,t,i),this},Object(n.b)([Object(r.n)()],t.prototype,"position",null),Object(n.b)([Object(r.n)()],t.prototype,"direction",null),Object(n.b)([Object(r.c)()],t.prototype,"shadowMinZ",null),Object(n.b)([Object(r.c)()],t.prototype,"shadowMaxZ",null),t}(s.a)},869:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(30),r=i(660),o=function(){function e(){this._pickingUnavailable=!1,this.hit=!1,this.distance=0,this.pickedPoint=null,this.pickedMesh=null,this.bu=0,this.bv=0,this.faceId=-1,this.subMeshFaceId=-1,this.subMeshId=0,this.pickedSprite=null,this.thinInstanceIndex=-1,this.originMesh=null,this.ray=null}return e.prototype.getNormal=function(e,t){if(void 0===e&&(e=!1),void 0===t&&(t=!0),!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(r.b.NormalKind))return null;var i,o=this.pickedMesh.getIndices();if(!o)return null;if(t){var s=this.pickedMesh.getVerticesData(r.b.NormalKind),a=n.e.FromArray(s,3*o[3*this.faceId]),c=n.e.FromArray(s,3*o[3*this.faceId+1]),l=n.e.FromArray(s,3*o[3*this.faceId+2]);a=a.scale(this.bu),c=c.scale(this.bv),l=l.scale(1-this.bu-this.bv),i=new n.e(a.x+c.x+l.x,a.y+c.y+l.y,a.z+c.z+l.z)}else{var _=this.pickedMesh.getVerticesData(r.b.PositionKind),u=n.e.FromArray(_,3*o[3*this.faceId]),f=n.e.FromArray(_,3*o[3*this.faceId+1]),d=n.e.FromArray(_,3*o[3*this.faceId+2]),h=u.subtract(f),p=d.subtract(f);i=n.e.Cross(h,p)}if(e){var b=this.pickedMesh.getWorldMatrix();this.pickedMesh.nonUniformScaling&&(n.c.Matrix[0].copyFrom(b),(b=n.c.Matrix[0]).setTranslationFromFloats(0,0,0),b.invert(),b.transposeToRef(n.c.Matrix[1]),b=n.c.Matrix[1]),i=n.e.TransformNormal(i,b)}return i.normalize(),i},e.prototype.getTextureCoordinates=function(){if(!this.pickedMesh||!this.pickedMesh.isVerticesDataPresent(r.b.UVKind))return null;var e=this.pickedMesh.getIndices();if(!e)return null;var t=this.pickedMesh.getVerticesData(r.b.UVKind);if(!t)return null;var i=n.d.FromArray(t,2*e[3*this.faceId]),o=n.d.FromArray(t,2*e[3*this.faceId+1]),s=n.d.FromArray(t,2*e[3*this.faceId+2]);return i=i.scale(this.bu),o=o.scale(this.bv),s=s.scale(1-this.bu-this.bv),new n.d(i.x+o.x+s.x,i.y+o.y+s.y)},e}()},870:function(e,t,i){"use strict";i.d(t,"b",function(){return r}),i.d(t,"a",function(){return o});var n=i(30);function r(e,t,i,r,o){void 0===o&&(o=null);for(var s=new n.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),a=new n.e(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE),c=i;c<i+r;c++){var l=3*t[c],_=e[l],u=e[l+1],f=e[l+2];s.minimizeInPlaceFromFloats(_,u,f),a.maximizeInPlaceFromFloats(_,u,f)}return o&&(s.x-=s.x*o.x+o.y,s.y-=s.y*o.x+o.y,s.z-=s.z*o.x+o.y,a.x+=a.x*o.x+o.y,a.y+=a.y*o.x+o.y,a.z+=a.z*o.x+o.y),{minimum:s,maximum:a}}function o(e,t,i,r,o){void 0===r&&(r=null);var s=new n.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),a=new n.e(-Number.MAX_VALUE,-Number.MAX_VALUE,-Number.MAX_VALUE);o||(o=3);for(var c=t,l=t*o;c<t+i;c++,l+=o){var _=e[l],u=e[l+1],f=e[l+2];s.minimizeInPlaceFromFloats(_,u,f),a.maximizeInPlaceFromFloats(_,u,f)}return r&&(s.x-=s.x*r.x+r.y,s.y-=s.y*r.x+r.y,s.z-=s.z*r.x+r.y,a.x+=a.x*r.x+r.y,a.y+=a.y*r.x+r.y,a.z+=a.z*r.x+r.y),{minimum:s,maximum:a}}},871:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this.rootNodes=new Array,this.cameras=new Array,this.lights=new Array,this.meshes=new Array,this.skeletons=new Array,this.particleSystems=new Array,this.animations=[],this.animationGroups=new Array,this.multiMaterials=new Array,this.materials=new Array,this.morphTargetManagers=new Array,this.geometries=new Array,this.transformNodes=new Array,this.actionManagers=new Array,this.textures=new Array,this._environmentTexture=null,this.postProcesses=new Array}return e.AddParser=function(e,t){this._BabylonFileParsers[e]=t},e.GetParser=function(e){return this._BabylonFileParsers[e]?this._BabylonFileParsers[e]:null},e.AddIndividualParser=function(e,t){this._IndividualBabylonFileParsers[e]=t},e.GetIndividualParser=function(e){return this._IndividualBabylonFileParsers[e]?this._IndividualBabylonFileParsers[e]:null},e.Parse=function(e,t,i,n){for(var r in this._BabylonFileParsers)this._BabylonFileParsers.hasOwnProperty(r)&&this._BabylonFileParsers[r](e,t,i,n)},Object.defineProperty(e.prototype,"environmentTexture",{get:function(){return this._environmentTexture},set:function(e){this._environmentTexture=e},enumerable:!1,configurable:!0}),e.prototype.getNodes=function(){var e=new Array;return e=(e=(e=(e=e.concat(this.meshes)).concat(this.lights)).concat(this.cameras)).concat(this.transformNodes),this.skeletons.forEach(function(t){return e=e.concat(t.bones)}),e},e._BabylonFileParsers={},e._IndividualBabylonFileParsers={},e}()},872:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this._isDirty=!0,this._areLightsDirty=!0,this._areLightsDisposed=!1,this._areAttributesDirty=!0,this._areTexturesDirty=!0,this._areFresnelDirty=!0,this._areMiscDirty=!0,this._arePrePassDirty=!0,this._areImageProcessingDirty=!0,this._normals=!1,this._uvs=!1,this._needNormals=!1,this._needUVs=!1}return Object.defineProperty(e.prototype,"isDirty",{get:function(){return this._isDirty},enumerable:!1,configurable:!0}),e.prototype.markAsProcessed=function(){this._isDirty=!1,this._areAttributesDirty=!1,this._areTexturesDirty=!1,this._areFresnelDirty=!1,this._areLightsDirty=!1,this._areLightsDisposed=!1,this._areMiscDirty=!1,this._arePrePassDirty=!1,this._areImageProcessingDirty=!1},e.prototype.markAsUnprocessed=function(){this._isDirty=!0},e.prototype.markAllAsDirty=function(){this._areTexturesDirty=!0,this._areAttributesDirty=!0,this._areLightsDirty=!0,this._areFresnelDirty=!0,this._areMiscDirty=!0,this._areImageProcessingDirty=!0,this._isDirty=!0},e.prototype.markAsImageProcessingDirty=function(){this._areImageProcessingDirty=!0,this._isDirty=!0},e.prototype.markAsLightDirty=function(e){void 0===e&&(e=!1),this._areLightsDirty=!0,this._areLightsDisposed=this._areLightsDisposed||e,this._isDirty=!0},e.prototype.markAsAttributesDirty=function(){this._areAttributesDirty=!0,this._isDirty=!0},e.prototype.markAsTexturesDirty=function(){this._areTexturesDirty=!0,this._isDirty=!0},e.prototype.markAsFresnelDirty=function(){this._areFresnelDirty=!0,this._isDirty=!0},e.prototype.markAsMiscDirty=function(){this._areMiscDirty=!0,this._isDirty=!0},e.prototype.markAsPrePassDirty=function(){this._arePrePassDirty=!0,this._isDirty=!0},e.prototype.rebuild=function(){this._keys=[];for(var e=0,t=Object.keys(this);e<t.length;e++){var i=t[e];"_"!==i[0]&&this._keys.push(i)}},e.prototype.isEqual=function(e){if(this._keys.length!==e._keys.length)return!1;for(var t=0;t<this._keys.length;t++){var i=this._keys[t];if(this[i]!==e[i])return!1}return!0},e.prototype.cloneTo=function(e){this._keys.length!==e._keys.length&&(e._keys=this._keys.slice(0));for(var t=0;t<this._keys.length;t++){var i=this._keys[t];e[i]=this[i]}},e.prototype.reset=function(){for(var e=0;e<this._keys.length;e++){var t=this._keys[e];switch(typeof this[t]){case"number":this[t]=0;break;case"string":this[t]="";break;default:this[t]=!1}}},e.prototype.toString=function(){for(var e="",t=0;t<this._keys.length;t++){var i=this._keys[t],n=this[i];switch(typeof n){case"number":case"string":e+="#define "+i+" "+n+"\n";break;default:n&&(e+="#define "+i+"\n")}}return e},e}()},873:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(677),r=i(660),o=function(){function e(e){this._vertexBuffers={},this._scene=e}return e.prototype._prepareBuffers=function(){if(!this._vertexBuffers[r.b.PositionKind]){var e=[];e.push(1,1),e.push(-1,1),e.push(-1,-1),e.push(1,-1),this._vertexBuffers[r.b.PositionKind]=new r.b(this._scene.getEngine(),e,r.b.PositionKind,!1,!1,2),this._buildIndexBuffer()}},e.prototype._buildIndexBuffer=function(){var e=[];e.push(0),e.push(1),e.push(2),e.push(0),e.push(2),e.push(3),this._indexBuffer=this._scene.getEngine().createIndexBuffer(e)},e.prototype._rebuild=function(){var e=this._vertexBuffers[r.b.PositionKind];e&&(e._rebuild(),this._buildIndexBuffer())},e.prototype._prepareFrame=function(e,t){void 0===e&&(e=null),void 0===t&&(t=null);var i=this._scene.activeCamera;return!!i&&(!(!(t=t||i._postProcesses.filter(function(e){return null!=e}))||0===t.length||!this._scene.postProcessesEnabled)&&(t[0].activate(i,e,null!==t&&void 0!==t),!0))},e.prototype.directRender=function(e,t,i,r,o,s){void 0===t&&(t=null),void 0===i&&(i=!1),void 0===r&&(r=0),void 0===o&&(o=0),void 0===s&&(s=!1);for(var a=this._scene.getEngine(),c=0;c<e.length;c++){c<e.length-1?e[c+1].activate(this._scene.activeCamera,t):t?a.bindFramebuffer(t,r,void 0,void 0,i,o):s||a.restoreDefaultFramebuffer();var l=e[c],_=l.apply();_&&(l.onBeforeRenderObservable.notifyObservers(_),this._prepareBuffers(),a.bindBuffers(this._vertexBuffers,this._indexBuffer,_),a.drawElementsType(n.a.TriangleFillMode,0,6),l.onAfterRenderObservable.notifyObservers(_))}a.setDepthBuffer(!0),a.setDepthWrite(!0)},e.prototype._finalizeFrame=function(e,t,i,r,o){void 0===o&&(o=!1);var s=this._scene.activeCamera;if(s&&(r=r||s._postProcesses.filter(function(e){return null!=e}),0!==r.length&&this._scene.postProcessesEnabled)){for(var a=this._scene.getEngine(),c=0,l=r.length;c<l;c++){var _=r[c];if(c<l-1?_._outputTexture=r[c+1].activate(s,t):t?(a.bindFramebuffer(t,i,void 0,void 0,o),_._outputTexture=t):(a.restoreDefaultFramebuffer(),_._outputTexture=null),e)break;var u=_.apply();u&&(_.onBeforeRenderObservable.notifyObservers(u),this._prepareBuffers(),a.bindBuffers(this._vertexBuffers,this._indexBuffer,u),a.drawElementsType(n.a.TriangleFillMode,0,6),_.onAfterRenderObservable.notifyObservers(u))}a.setDepthBuffer(!0),a.setDepthWrite(!0),a.setAlphaMode(0)}},e.prototype.dispose=function(){var e=this._vertexBuffers[r.b.PositionKind];e&&(e.dispose(),this._vertexBuffers[r.b.PositionKind]=null),this._indexBuffer&&(this._scene.getEngine()._releaseBuffer(this._indexBuffer),this._indexBuffer=null)},e}()},874:function(e,t,i){"use strict";var n=i(644),r=i(703),o=i(649),s=i(935),a=i(685);a.a.prototype.createRenderTargetTexture=function(e,t){var i=new s.a;void 0!==t&&"object"===typeof t?(i.generateMipMaps=t.generateMipMaps,i.generateDepthBuffer=!!t.generateDepthBuffer,i.generateStencilBuffer=!!t.generateStencilBuffer,i.type=void 0===t.type?0:t.type,i.samplingMode=void 0===t.samplingMode?3:t.samplingMode,i.format=void 0===t.format?5:t.format):(i.generateMipMaps=t,i.generateDepthBuffer=!0,i.generateStencilBuffer=!1,i.type=0,i.samplingMode=3,i.format=5),(1!==i.type||this._caps.textureFloatLinearFiltering)&&(2!==i.type||this._caps.textureHalfFloatLinearFiltering)||(i.samplingMode=1),1!==i.type||this._caps.textureFloat||(i.type=0,o.a.Warn("Float textures are not supported. Render target forced to TEXTURETYPE_UNSIGNED_BYTE type"));var n=this._gl,a=new r.a(this,r.b.RenderTarget),c=e.width||e,l=e.height||e,_=e.layers||0,u=this._getSamplingParameters(i.samplingMode,!!i.generateMipMaps),f=0!==_?n.TEXTURE_2D_ARRAY:n.TEXTURE_2D,d=this._getRGBABufferInternalSizedFormat(i.type,i.format),h=this._getInternalFormat(i.format),p=this._getWebGLTextureType(i.type);this._bindTextureDirectly(f,a),0!==_?(a.is2DArray=!0,n.texImage3D(f,0,d,c,l,_,0,h,p,null)):n.texImage2D(f,0,d,c,l,0,h,p,null),n.texParameteri(f,n.TEXTURE_MAG_FILTER,u.mag),n.texParameteri(f,n.TEXTURE_MIN_FILTER,u.min),n.texParameteri(f,n.TEXTURE_WRAP_S,n.CLAMP_TO_EDGE),n.texParameteri(f,n.TEXTURE_WRAP_T,n.CLAMP_TO_EDGE),i.generateMipMaps&&this._gl.generateMipmap(f),this._bindTextureDirectly(f,null);var b=this._currentFramebuffer,m=n.createFramebuffer();return this._bindUnboundFramebuffer(m),a._depthStencilBuffer=this._setupFramebufferDepthAttachments(!!i.generateStencilBuffer,i.generateDepthBuffer,c,l),a.is2DArray||n.framebufferTexture2D(n.FRAMEBUFFER,n.COLOR_ATTACHMENT0,n.TEXTURE_2D,a._webGLTexture,0),this._bindUnboundFramebuffer(b),a._framebuffer=m,a.baseWidth=c,a.baseHeight=l,a.width=c,a.height=l,a.depth=_,a.isReady=!0,a.samples=1,a.generateMipMaps=!!i.generateMipMaps,a.samplingMode=i.samplingMode,a.type=i.type,a.format=i.format,a._generateDepthBuffer=i.generateDepthBuffer,a._generateStencilBuffer=!!i.generateStencilBuffer,this._internalTexturesCache.push(a),a},a.a.prototype.createDepthStencilTexture=function(e,t){if(t.isCube){var i=e.width||e;return this._createDepthStencilCubeTexture(i,t)}return this._createDepthStencilTexture(e,t)},a.a.prototype._createDepthStencilTexture=function(e,t){var i=this._gl,s=e.layers||0,a=0!==s?i.TEXTURE_2D_ARRAY:i.TEXTURE_2D,c=new r.a(this,r.b.Depth);if(!this._caps.depthTextureExtension)return o.a.Error("Depth texture is not supported by your browser or hardware."),c;var l=Object(n.a)({bilinearFiltering:!1,comparisonFunction:0,generateStencil:!1},t);this._bindTextureDirectly(a,c,!0),this._setupDepthStencilTexture(c,e,l.generateStencil,l.bilinearFiltering,l.comparisonFunction);var _=l.generateStencil?i.UNSIGNED_INT_24_8:i.UNSIGNED_INT,u=l.generateStencil?i.DEPTH_STENCIL:i.DEPTH_COMPONENT,f=u;return this.webGLVersion>1&&(f=l.generateStencil?i.DEPTH24_STENCIL8:i.DEPTH_COMPONENT24),c.is2DArray?i.texImage3D(a,0,f,c.width,c.height,s,0,u,_,null):i.texImage2D(a,0,f,c.width,c.height,0,u,_,null),this._bindTextureDirectly(a,null),c}},875:function(e,t,i){"use strict";var n="packingFunctions",r="vec4 pack(float depth)\n{\nconst vec4 bit_shift=vec4(255.0*255.0*255.0,255.0*255.0,255.0,1.0);\nconst vec4 bit_mask=vec4(0.0,1.0/255.0,1.0/255.0,1.0/255.0);\nvec4 res=fract(depth*bit_shift);\nres-=res.xxyz*bit_mask;\nreturn res;\n}\nfloat unpack(vec4 color)\n{\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\nreturn dot(color,bit_shift);\n}";i(642).a.IncludesShadersStore[n]=r},876:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(649),r=i(76),o=i(30),s=i(735),a=i(675),c=i(878),l=i(245);a.a._PhysicsImpostorParser=function(e,t,i){return new _(t,i.physicsImpostor,{mass:i.physicsMass,friction:i.physicsFriction,restitution:i.physicsRestitution},e)};var _=function(){function e(e,t,i,r){var s=this;void 0===i&&(i={mass:0}),this.object=e,this.type=t,this._options=i,this._scene=r,this._pluginData={},this._bodyUpdateRequired=!1,this._onBeforePhysicsStepCallbacks=new Array,this._onAfterPhysicsStepCallbacks=new Array,this._onPhysicsCollideCallbacks=[],this._deltaPosition=o.e.Zero(),this._isDisposed=!1,this.soft=!1,this.segments=0,this._tmpQuat=new o.b,this._tmpQuat2=new o.b,this.beforeStep=function(){s._physicsEngine&&(s.object.translate(s._deltaPosition,-1),s._deltaRotationConjugated&&s.object.rotationQuaternion&&s.object.rotationQuaternion.multiplyToRef(s._deltaRotationConjugated,s.object.rotationQuaternion),s.object.computeWorldMatrix(!1),s.object.parent&&s.object.rotationQuaternion?(s.getParentsRotation(),s._tmpQuat.multiplyToRef(s.object.rotationQuaternion,s._tmpQuat)):s._tmpQuat.copyFrom(s.object.rotationQuaternion||new o.b),s._options.disableBidirectionalTransformation||s.object.rotationQuaternion&&s._physicsEngine.getPhysicsPlugin().setPhysicsBodyTransformation(s,s.object.getAbsolutePosition(),s._tmpQuat),s._onBeforePhysicsStepCallbacks.forEach(function(e){e(s)}))},this.afterStep=function(){s._physicsEngine&&(s._onAfterPhysicsStepCallbacks.forEach(function(e){e(s)}),s._physicsEngine.getPhysicsPlugin().setTransformationFromPhysicsBody(s),s.object.parent&&s.object.rotationQuaternion&&(s.getParentsRotation(),s._tmpQuat.conjugateInPlace(),s._tmpQuat.multiplyToRef(s.object.rotationQuaternion,s.object.rotationQuaternion)),s.object.setAbsolutePosition(s.object.position),s._deltaRotation&&s.object.rotationQuaternion&&s.object.rotationQuaternion.multiplyToRef(s._deltaRotation,s.object.rotationQuaternion),s.object.translate(s._deltaPosition,1))},this.onCollideEvent=null,this.onCollide=function(e){if((s._onPhysicsCollideCallbacks.length||s.onCollideEvent)&&s._physicsEngine){var t=s._physicsEngine.getImpostorWithPhysicsBody(e.body);t&&(s.onCollideEvent&&s.onCollideEvent(s,t),s._onPhysicsCollideCallbacks.filter(function(e){return-1!==e.otherImpostors.indexOf(t)}).forEach(function(i){i.callback(s,t,e.point)}))}},this.object?(this.object.parent&&0!==i.mass&&n.a.Warn("A physics impostor has been created for an object which has a parent. Babylon physics currently works in local space so unexpected issues may occur."),!this._scene&&e.getScene&&(this._scene=e.getScene()),this._scene&&(this.type>100&&(this.soft=!0),this._physicsEngine=this._scene.getPhysicsEngine(),this._physicsEngine?(this.object.rotationQuaternion||(this.object.rotation?this.object.rotationQuaternion=o.b.RotationYawPitchRoll(this.object.rotation.y,this.object.rotation.x,this.object.rotation.z):this.object.rotationQuaternion=new o.b),this._options.mass=void 0===i.mass?0:i.mass,this._options.friction=void 0===i.friction?.2:i.friction,this._options.restitution=void 0===i.restitution?.2:i.restitution,this.soft&&(this._options.mass=this._options.mass>0?this._options.mass:1,this._options.pressure=void 0===i.pressure?200:i.pressure,this._options.stiffness=void 0===i.stiffness?1:i.stiffness,this._options.velocityIterations=void 0===i.velocityIterations?20:i.velocityIterations,this._options.positionIterations=void 0===i.positionIterations?20:i.positionIterations,this._options.fixedPoints=void 0===i.fixedPoints?0:i.fixedPoints,this._options.margin=void 0===i.margin?0:i.margin,this._options.damping=void 0===i.damping?0:i.damping,this._options.path=void 0===i.path?null:i.path,this._options.shape=void 0===i.shape?null:i.shape),this._joints=[],!this.object.parent||this._options.ignoreParent?this._init():this.object.parent.physicsImpostor&&n.a.Warn("You must affect impostors to children before affecting impostor to parent.")):n.a.Error("Physics not enabled. Please use scene.enablePhysics(...) before creating impostors."))):n.a.Error("No object was provided. A physics object is obligatory")}return Object.defineProperty(e.prototype,"isDisposed",{get:function(){return this._isDisposed},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"mass",{get:function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyMass(this):0},set:function(e){this.setMass(e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"friction",{get:function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyFriction(this):0},set:function(e){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyFriction(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"restitution",{get:function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getBodyRestitution(this):0},set:function(e){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyRestitution(this,e)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"pressure",{get:function(){if(!this._physicsEngine)return 0;var e=this._physicsEngine.getPhysicsPlugin();return e.setBodyPressure?e.getBodyPressure(this):0},set:function(e){if(this._physicsEngine){var t=this._physicsEngine.getPhysicsPlugin();t.setBodyPressure&&t.setBodyPressure(this,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"stiffness",{get:function(){if(!this._physicsEngine)return 0;var e=this._physicsEngine.getPhysicsPlugin();return e.getBodyStiffness?e.getBodyStiffness(this):0},set:function(e){if(this._physicsEngine){var t=this._physicsEngine.getPhysicsPlugin();t.setBodyStiffness&&t.setBodyStiffness(this,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"velocityIterations",{get:function(){if(!this._physicsEngine)return 0;var e=this._physicsEngine.getPhysicsPlugin();return e.getBodyVelocityIterations?e.getBodyVelocityIterations(this):0},set:function(e){if(this._physicsEngine){var t=this._physicsEngine.getPhysicsPlugin();t.setBodyVelocityIterations&&t.setBodyVelocityIterations(this,e)}},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"positionIterations",{get:function(){if(!this._physicsEngine)return 0;var e=this._physicsEngine.getPhysicsPlugin();return e.getBodyPositionIterations?e.getBodyPositionIterations(this):0},set:function(e){if(this._physicsEngine){var t=this._physicsEngine.getPhysicsPlugin();t.setBodyPositionIterations&&t.setBodyPositionIterations(this,e)}},enumerable:!1,configurable:!0}),e.prototype._init=function(){this._physicsEngine&&(this._physicsEngine.removeImpostor(this),this.physicsBody=null,this._parent=this._parent||this._getPhysicsParent(),this._isDisposed||this.parent&&!this._options.ignoreParent||this._physicsEngine.addImpostor(this))},e.prototype._getPhysicsParent=function(){return this.object.parent instanceof s.a?this.object.parent.physicsImpostor:null},e.prototype.isBodyInitRequired=function(){return this._bodyUpdateRequired||!this._physicsBody&&!this._parent},e.prototype.setScalingUpdated=function(){this.forceUpdate()},e.prototype.forceUpdate=function(){this._init(),this.parent&&!this._options.ignoreParent&&this.parent.forceUpdate()},Object.defineProperty(e.prototype,"physicsBody",{get:function(){return this._parent&&!this._options.ignoreParent?this._parent.physicsBody:this._physicsBody},set:function(e){this._physicsBody&&this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().removePhysicsBody(this),this._physicsBody=e,this.resetUpdateFlags()},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return!this._options.ignoreParent&&this._parent?this._parent:null},set:function(e){this._parent=e},enumerable:!1,configurable:!0}),e.prototype.resetUpdateFlags=function(){this._bodyUpdateRequired=!1},e.prototype.getObjectExtendSize=function(){if(this.object.getBoundingInfo){var t=this.object.rotationQuaternion,i=this.object.scaling.clone();this.object.rotationQuaternion=e.IDENTITY_QUATERNION;var n=this.object.computeWorldMatrix&&this.object.computeWorldMatrix(!0);n&&n.decompose(i,void 0,void 0);var r=this.object.getBoundingInfo().boundingBox.extendSize.scale(2).multiplyInPlace(i);return this.object.rotationQuaternion=t,this.object.computeWorldMatrix&&this.object.computeWorldMatrix(!0),r}return e.DEFAULT_OBJECT_SIZE},e.prototype.getObjectCenter=function(){return this.object.getBoundingInfo?this.object.getBoundingInfo().boundingBox.centerWorld:this.object.position},e.prototype.getParam=function(e){return this._options[e]},e.prototype.setParam=function(e,t){this._options[e]=t,this._bodyUpdateRequired=!0},e.prototype.setMass=function(e){this.getParam("mass")!==e&&this.setParam("mass",e),this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setBodyMass(this,e)},e.prototype.getLinearVelocity=function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getLinearVelocity(this):o.e.Zero()},e.prototype.setLinearVelocity=function(e){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setLinearVelocity(this,e)},e.prototype.getAngularVelocity=function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getAngularVelocity(this):o.e.Zero()},e.prototype.setAngularVelocity=function(e){this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().setAngularVelocity(this,e)},e.prototype.executeNativeFunction=function(e){this._physicsEngine&&e(this._physicsEngine.getPhysicsPlugin().world,this.physicsBody)},e.prototype.registerBeforePhysicsStep=function(e){this._onBeforePhysicsStepCallbacks.push(e)},e.prototype.unregisterBeforePhysicsStep=function(e){var t=this._onBeforePhysicsStepCallbacks.indexOf(e);t>-1?this._onBeforePhysicsStepCallbacks.splice(t,1):n.a.Warn("Function to remove was not found")},e.prototype.registerAfterPhysicsStep=function(e){this._onAfterPhysicsStepCallbacks.push(e)},e.prototype.unregisterAfterPhysicsStep=function(e){var t=this._onAfterPhysicsStepCallbacks.indexOf(e);t>-1?this._onAfterPhysicsStepCallbacks.splice(t,1):n.a.Warn("Function to remove was not found")},e.prototype.registerOnPhysicsCollide=function(e,t){var i=e instanceof Array?e:[e];this._onPhysicsCollideCallbacks.push({callback:t,otherImpostors:i})},e.prototype.unregisterOnPhysicsCollide=function(e,t){var i=e instanceof Array?e:[e],r=-1;this._onPhysicsCollideCallbacks.some(function(e,n){if(e.callback===t&&e.otherImpostors.length===i.length){var o=e.otherImpostors.every(function(e){return i.indexOf(e)>-1});return o&&(r=n),o}return!1})?this._onPhysicsCollideCallbacks.splice(r,1):n.a.Warn("Function to remove was not found")},e.prototype.getParentsRotation=function(){var e=this.object.parent;for(this._tmpQuat.copyFromFloats(0,0,0,1);e;)e.rotationQuaternion?this._tmpQuat2.copyFrom(e.rotationQuaternion):o.b.RotationYawPitchRollToRef(e.rotation.y,e.rotation.x,e.rotation.z,this._tmpQuat2),this._tmpQuat.multiplyToRef(this._tmpQuat2,this._tmpQuat),e=e.parent;return this._tmpQuat},e.prototype.applyForce=function(e,t){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().applyForce(this,e,t),this},e.prototype.applyImpulse=function(e,t){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().applyImpulse(this,e,t),this},e.prototype.createJoint=function(e,t,i){var n=new c.a(t,i);return this.addJoint(e,n),this},e.prototype.addJoint=function(e,t){return this._joints.push({otherImpostor:e,joint:t}),this._physicsEngine&&this._physicsEngine.addJoint(this,e,t),this},e.prototype.addAnchor=function(e,t,i,n,r){if(!this._physicsEngine)return this;var o=this._physicsEngine.getPhysicsPlugin();return o.appendAnchor?(this._physicsEngine&&o.appendAnchor(this,e,t,i,n,r),this):this},e.prototype.addHook=function(e,t,i,n){if(!this._physicsEngine)return this;var r=this._physicsEngine.getPhysicsPlugin();return r.appendAnchor?(this._physicsEngine&&r.appendHook(this,e,t,i,n),this):this},e.prototype.sleep=function(){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().sleepBody(this),this},e.prototype.wakeUp=function(){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().wakeUpBody(this),this},e.prototype.clone=function(t){return t?new e(t,this.type,this._options,this._scene):null},e.prototype.dispose=function(){var e=this;this._physicsEngine&&(this._joints.forEach(function(t){e._physicsEngine&&e._physicsEngine.removeJoint(e,t.otherImpostor,t.joint)}),this._physicsEngine.removeImpostor(this),this.parent&&this.parent.forceUpdate(),this._isDisposed=!0)},e.prototype.setDeltaPosition=function(e){this._deltaPosition.copyFrom(e)},e.prototype.setDeltaRotation=function(e){this._deltaRotation||(this._deltaRotation=new o.b),this._deltaRotation.copyFrom(e),this._deltaRotationConjugated=this._deltaRotation.conjugate()},e.prototype.getBoxSizeToRef=function(e){return this._physicsEngine&&this._physicsEngine.getPhysicsPlugin().getBoxSizeToRef(this,e),this},e.prototype.getRadius=function(){return this._physicsEngine?this._physicsEngine.getPhysicsPlugin().getRadius(this):0},e.prototype.syncBoneWithImpostor=function(t,i,n,r,o){var s=e._tmpVecs[0],a=this.object;if(a.rotationQuaternion)if(o){var c=e._tmpQuat;a.rotationQuaternion.multiplyToRef(o,c),t.setRotationQuaternion(c,l.c.WORLD,i)}else t.setRotationQuaternion(a.rotationQuaternion,l.c.WORLD,i);s.x=0,s.y=0,s.z=0,n&&(s.x=n.x,s.y=n.y,s.z=n.z,t.getDirectionToRef(s,i,s),void 0!==r&&null!==r||(r=n.length()),s.x*=r,s.y*=r,s.z*=r),t.getParent()?(s.addInPlace(a.getAbsolutePosition()),t.setAbsolutePosition(s,i)):(i.setAbsolutePosition(a.getAbsolutePosition()),i.position.x-=s.x,i.position.y-=s.y,i.position.z-=s.z)},e.prototype.syncImpostorWithBone=function(t,i,n,r,o,s){var a=this.object;if(a.rotationQuaternion)if(o){var c=e._tmpQuat;t.getRotationQuaternionToRef(l.c.WORLD,i,c),c.multiplyToRef(o,a.rotationQuaternion)}else t.getRotationQuaternionToRef(l.c.WORLD,i,a.rotationQuaternion);var _=e._tmpVecs[0],u=e._tmpVecs[1];s||((s=e._tmpVecs[2]).x=0,s.y=1,s.z=0),t.getDirectionToRef(s,i,u),t.getAbsolutePositionToRef(i,_),void 0!==r&&null!==r||!n||(r=n.length()),void 0!==r&&null!==r&&(_.x+=u.x*r,_.y+=u.y*r,_.z+=u.z*r),a.setAbsolutePosition(_)},e.DEFAULT_OBJECT_SIZE=new o.e(1,1,1),e.IDENTITY_QUATERNION=o.b.Identity(),e._tmpVecs=r.a.BuildArray(3,o.e.Zero),e._tmpQuat=o.b.Identity(),e.NoImpostor=0,e.SphereImpostor=1,e.BoxImpostor=2,e.PlaneImpostor=3,e.MeshImpostor=4,e.CapsuleImpostor=6,e.CylinderImpostor=7,e.ParticleImpostor=8,e.HeightmapImpostor=9,e.ConvexHullImpostor=10,e.CustomImpostor=100,e.RopeImpostor=101,e.ClothImpostor=102,e.SoftbodyImpostor=103,e}()},877:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return Object.defineProperty(e,"ForceFullSceneLoadingForIncremental",{get:function(){return e._ForceFullSceneLoadingForIncremental},set:function(t){e._ForceFullSceneLoadingForIncremental=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ShowLoadingScreen",{get:function(){return e._ShowLoadingScreen},set:function(t){e._ShowLoadingScreen=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"loggingLevel",{get:function(){return e._loggingLevel},set:function(t){e._loggingLevel=t},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CleanBoneMatrixWeights",{get:function(){return e._CleanBoneMatrixWeights},set:function(t){e._CleanBoneMatrixWeights=t},enumerable:!1,configurable:!0}),e._ForceFullSceneLoadingForIncremental=!1,e._ShowLoadingScreen=!0,e._CleanBoneMatrixWeights=!1,e._loggingLevel=0,e}()},878:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(644),r=function(){function e(e,t){this.type=e,this.jointData=t,t.nativeParams=t.nativeParams||{}}return Object.defineProperty(e.prototype,"physicsJoint",{get:function(){return this._physicsJoint},set:function(e){this._physicsJoint,this._physicsJoint=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"physicsPlugin",{set:function(e){this._physicsPlugin=e},enumerable:!1,configurable:!0}),e.prototype.executeNativeFunction=function(e){e(this._physicsPlugin.world,this._physicsJoint)},e.DistanceJoint=0,e.HingeJoint=1,e.BallAndSocketJoint=2,e.WheelJoint=3,e.SliderJoint=4,e.PrismaticJoint=5,e.UniversalJoint=6,e.Hinge2Joint=e.WheelJoint,e.PointToPointJoint=8,e.SpringJoint=9,e.LockJoint=10,e}(),o=(function(e){function t(t){return e.call(this,r.DistanceJoint,t)||this}Object(n.c)(t,e),t.prototype.updateDistance=function(e,t){this._physicsPlugin.updateDistanceJoint(this,e,t)}}(r),function(e){function t(t,i){return e.call(this,t,i)||this}return Object(n.c)(t,e),t.prototype.setMotor=function(e,t){this._physicsPlugin.setMotor(this,e||0,t)},t.prototype.setLimit=function(e,t){this._physicsPlugin.setLimit(this,e,t)},t}(r));(function(e){function t(t){return e.call(this,r.HingeJoint,t)||this}Object(n.c)(t,e),t.prototype.setMotor=function(e,t){this._physicsPlugin.setMotor(this,e||0,t)},t.prototype.setLimit=function(e,t){this._physicsPlugin.setLimit(this,e,t)}})(o),function(e){function t(t){return e.call(this,r.Hinge2Joint,t)||this}Object(n.c)(t,e),t.prototype.setMotor=function(e,t,i){void 0===i&&(i=0),this._physicsPlugin.setMotor(this,e||0,t,i)},t.prototype.setLimit=function(e,t,i){void 0===i&&(i=0),this._physicsPlugin.setLimit(this,e,t,i)}}(o)},879:function(e,t,i){"use strict";i.d(t,"a",function(){return b});var n=i(644),r=i(648),o=i(30),s=i(660),a=i(669),c=i(686),l=i(677),_=i(105),u=i(244),f=i(815),d=i(802),h=i(690),p={effect:null,subMesh:null},b=function(e){function t(t,i,r,s){void 0===s&&(s={});var a=e.call(this,t,i)||this;return a._textures={},a._textureArrays={},a._floats={},a._ints={},a._floatsArrays={},a._colors3={},a._colors3Arrays={},a._colors4={},a._colors4Arrays={},a._vectors2={},a._vectors3={},a._vectors4={},a._matrices={},a._matrixArrays={},a._matrices3x3={},a._matrices2x2={},a._vectors2Arrays={},a._vectors3Arrays={},a._vectors4Arrays={},a._cachedWorldViewMatrix=new o.a,a._cachedWorldViewProjectionMatrix=new o.a,a._multiview=!1,a._shaderPath=r,a._options=Object(n.a)({needAlphaBlending:!1,needAlphaTesting:!1,attributes:["position","normal","uv"],uniforms:["worldViewProjection"],uniformBuffers:[],samplers:[],defines:[]},s),a}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"shaderPath",{get:function(){return this._shaderPath},set:function(e){this._shaderPath=e},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this._options},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"ShaderMaterial"},t.prototype.needAlphaBlending=function(){return this.alpha<1||this._options.needAlphaBlending},t.prototype.needAlphaTesting=function(){return this._options.needAlphaTesting},t.prototype._checkUniform=function(e){-1===this._options.uniforms.indexOf(e)&&this._options.uniforms.push(e)},t.prototype.setTexture=function(e,t){return-1===this._options.samplers.indexOf(e)&&this._options.samplers.push(e),this._textures[e]=t,this},t.prototype.setTextureArray=function(e,t){return-1===this._options.samplers.indexOf(e)&&this._options.samplers.push(e),this._checkUniform(e),this._textureArrays[e]=t,this},t.prototype.setFloat=function(e,t){return this._checkUniform(e),this._floats[e]=t,this},t.prototype.setInt=function(e,t){return this._checkUniform(e),this._ints[e]=t,this},t.prototype.setFloats=function(e,t){return this._checkUniform(e),this._floatsArrays[e]=t,this},t.prototype.setColor3=function(e,t){return this._checkUniform(e),this._colors3[e]=t,this},t.prototype.setColor3Array=function(e,t){return this._checkUniform(e),this._colors3Arrays[e]=t.reduce(function(e,t){return t.toArray(e,e.length),e},[]),this},t.prototype.setColor4=function(e,t){return this._checkUniform(e),this._colors4[e]=t,this},t.prototype.setColor4Array=function(e,t){return this._checkUniform(e),this._colors4Arrays[e]=t.reduce(function(e,t){return t.toArray(e,e.length),e},[]),this},t.prototype.setVector2=function(e,t){return this._checkUniform(e),this._vectors2[e]=t,this},t.prototype.setVector3=function(e,t){return this._checkUniform(e),this._vectors3[e]=t,this},t.prototype.setVector4=function(e,t){return this._checkUniform(e),this._vectors4[e]=t,this},t.prototype.setMatrix=function(e,t){return this._checkUniform(e),this._matrices[e]=t,this},t.prototype.setMatrices=function(e,t){this._checkUniform(e);for(var i=new Float32Array(16*t.length),n=0;n<t.length;n++){t[n].copyToArray(i,16*n)}return this._matrixArrays[e]=i,this},t.prototype.setMatrix3x3=function(e,t){return this._checkUniform(e),this._matrices3x3[e]=t,this},t.prototype.setMatrix2x2=function(e,t){return this._checkUniform(e),this._matrices2x2[e]=t,this},t.prototype.setArray2=function(e,t){return this._checkUniform(e),this._vectors2Arrays[e]=t,this},t.prototype.setArray3=function(e,t){return this._checkUniform(e),this._vectors3Arrays[e]=t,this},t.prototype.setArray4=function(e,t){return this._checkUniform(e),this._vectors4Arrays[e]=t,this},t.prototype._checkCache=function(e,t){return!e||(!this._effect||-1!==this._effect.defines.indexOf("#define INSTANCES")===t)},t.prototype.isReadyForSubMesh=function(e,t,i){return this.isReady(e,i)},t.prototype.isReady=function(e,t){var i,n;if(this._effect&&this.isFrozen&&this._effect._wasPreviouslyReady)return!0;var r=this.getScene(),o=r.getEngine();if(!this.checkReadyOnEveryCall&&this._renderId===r.getRenderId()&&this._checkCache(e,t))return!0;var a=[],l=[],_=new f.a;o.getCaps().multiview&&r.activeCamera&&r.activeCamera.outputRenderTarget&&r.activeCamera.outputRenderTarget.getViewCount()>1&&(this._multiview=!0,a.push("#define MULTIVIEW"),-1!==this._options.uniforms.indexOf("viewProjection")&&-1===this._options.uniforms.push("viewProjectionR")&&this._options.uniforms.push("viewProjectionR"));for(var u=0;u<this._options.defines.length;u++)a.push(this._options.defines[u]);for(u=0;u<this._options.attributes.length;u++)l.push(this._options.attributes[u]);e&&e.isVerticesDataPresent(s.b.ColorKind)&&(l.push(s.b.ColorKind),a.push("#define VERTEXCOLOR")),t&&(a.push("#define INSTANCES"),c.a.PushAttributesForInstances(l),(null===e||void 0===e?void 0:e.hasThinInstances)&&a.push("#define THIN_INSTANCES"));var d=0;if(e&&e.useBones&&e.computeBonesUsingShaders&&e.skeleton){l.push(s.b.MatricesIndicesKind),l.push(s.b.MatricesWeightsKind),e.numBoneInfluencers>4&&(l.push(s.b.MatricesIndicesExtraKind),l.push(s.b.MatricesWeightsExtraKind));var h=e.skeleton;d=e.numBoneInfluencers,a.push("#define NUM_BONE_INFLUENCERS "+d),_.addCPUSkinningFallback(0,e),h.isUsingTextureForMatrices?(a.push("#define BONETEXTURE"),-1===this._options.uniforms.indexOf("boneTextureWidth")&&this._options.uniforms.push("boneTextureWidth"),-1===this._options.samplers.indexOf("boneSampler")&&this._options.samplers.push("boneSampler")):(a.push("#define BonesPerMesh "+(h.bones.length+1)),-1===this._options.uniforms.indexOf("mBones")&&this._options.uniforms.push("mBones"))}else a.push("#define NUM_BONE_INFLUENCERS 0");for(var b in this._textures)if(!this._textures[b].isReady())return!1;e&&this._shouldTurnAlphaTestOn(e)&&a.push("#define ALPHATEST");var m=this._shaderPath,A=this._options.uniforms,g=this._options.uniformBuffers,y=this._options.samplers;this.customShaderNameResolve&&(A=A.slice(),g=g.slice(),y=y.slice(),m=this.customShaderNameResolve(m,A,g,y,a,l));var v=this._effect,C=a.join("\n");return this._cachedDefines!==C&&(this._cachedDefines=C,this._effect=o.createEffect(m,{attributes:l,uniformsNames:A,uniformBuffersNames:g,samplers:y,defines:C,fallbacks:_,onCompiled:this.onCompiled,onError:this.onError,indexParameters:{maxSimultaneousMorphTargets:d}},o),this._onEffectCreatedObservable&&(p.effect=this._effect,this._onEffectCreatedObservable.notifyObservers(p))),null!==(n=!(null===(i=this._effect)||void 0===i?void 0:i.isReady()))&&void 0!==n&&!n&&(v!==this._effect&&r.resetCachedMaterial(),this._renderId=r.getRenderId(),this._effect._wasPreviouslyReady=!0,!0)},t.prototype.bindOnlyWorldMatrix=function(e,t){var i=this.getScene(),n=null!==t&&void 0!==t?t:this._effect;n&&(-1!==this._options.uniforms.indexOf("world")&&n.setMatrix("world",e),-1!==this._options.uniforms.indexOf("worldView")&&(e.multiplyToRef(i.getViewMatrix(),this._cachedWorldViewMatrix),n.setMatrix("worldView",this._cachedWorldViewMatrix)),-1!==this._options.uniforms.indexOf("worldViewProjection")&&(e.multiplyToRef(i.getTransformMatrix(),this._cachedWorldViewProjectionMatrix),n.setMatrix("worldViewProjection",this._cachedWorldViewProjectionMatrix)))},t.prototype.bindForSubMesh=function(e,t,i){this.bind(e,t,i._effectOverride)},t.prototype.bind=function(e,t,i){this.bindOnlyWorldMatrix(e,i);var n=null!==i&&void 0!==i?i:this._effect;if(n&&this.getScene().getCachedMaterial()!==this){var r;for(r in-1!==this._options.uniforms.indexOf("view")&&n.setMatrix("view",this.getScene().getViewMatrix()),-1!==this._options.uniforms.indexOf("projection")&&n.setMatrix("projection",this.getScene().getProjectionMatrix()),-1!==this._options.uniforms.indexOf("viewProjection")&&(n.setMatrix("viewProjection",this.getScene().getTransformMatrix()),this._multiview&&n.setMatrix("viewProjectionR",this.getScene()._transformMatrixR)),this.getScene().activeCamera&&-1!==this._options.uniforms.indexOf("cameraPosition")&&n.setVector3("cameraPosition",this.getScene().activeCamera.globalPosition),c.a.BindBonesParameters(t,n),this._textures)n.setTexture(r,this._textures[r]);for(r in this._textureArrays)n.setTextureArray(r,this._textureArrays[r]);for(r in this._ints)n.setInt(r,this._ints[r]);for(r in this._floats)n.setFloat(r,this._floats[r]);for(r in this._floatsArrays)n.setArray(r,this._floatsArrays[r]);for(r in this._colors3)n.setColor3(r,this._colors3[r]);for(r in this._colors3Arrays)n.setArray3(r,this._colors3Arrays[r]);for(r in this._colors4){var o=this._colors4[r];n.setFloat4(r,o.r,o.g,o.b,o.a)}for(r in this._colors4Arrays)n.setArray4(r,this._colors4Arrays[r]);for(r in this._vectors2)n.setVector2(r,this._vectors2[r]);for(r in this._vectors3)n.setVector3(r,this._vectors3[r]);for(r in this._vectors4)n.setVector4(r,this._vectors4[r]);for(r in this._matrices)n.setMatrix(r,this._matrices[r]);for(r in this._matrixArrays)n.setMatrices(r,this._matrixArrays[r]);for(r in this._matrices3x3)n.setMatrix3x3(r,this._matrices3x3[r]);for(r in this._matrices2x2)n.setMatrix2x2(r,this._matrices2x2[r]);for(r in this._vectors2Arrays)n.setArray2(r,this._vectors2Arrays[r]);for(r in this._vectors3Arrays)n.setArray3(r,this._vectors3Arrays[r]);for(r in this._vectors4Arrays)n.setArray4(r,this._vectors4Arrays[r])}var s=this._effect;this._effect=n,this._afterBind(t),this._effect=s},t.prototype._afterBind=function(t){e.prototype._afterBind.call(this,t),this.getScene()._cachedEffect=this._effect},t.prototype.getActiveTextures=function(){var t=e.prototype.getActiveTextures.call(this);for(var i in this._textures)t.push(this._textures[i]);for(var i in this._textureArrays)for(var n=this._textureArrays[i],r=0;r<n.length;r++)t.push(n[r]);return t},t.prototype.hasTexture=function(t){if(e.prototype.hasTexture.call(this,t))return!0;for(var i in this._textures)if(this._textures[i]===t)return!0;for(var i in this._textureArrays)for(var n=this._textureArrays[i],r=0;r<n.length;r++)if(n[r]===t)return!0;return!1},t.prototype.clone=function(e){var i=this,o=r.a.Clone(function(){return new t(e,i.getScene(),i._shaderPath,i._options)},this);for(var s in o.name=e,o.id=e,"object"===typeof o._shaderPath&&(o._shaderPath=Object(n.a)({},o._shaderPath)),this._options=Object(n.a)({},this._options),Object.keys(this._options).forEach(function(e){var t=i._options[e];Array.isArray(t)&&(i._options[e]=t.slice(0))}),this._textures)o.setTexture(s,this._textures[s]);for(var s in this._floats)o.setFloat(s,this._floats[s]);for(var s in this._floatsArrays)o.setFloats(s,this._floatsArrays[s]);for(var s in this._colors3)o.setColor3(s,this._colors3[s]);for(var s in this._colors4)o.setColor4(s,this._colors4[s]);for(var s in this._vectors2)o.setVector2(s,this._vectors2[s]);for(var s in this._vectors3)o.setVector3(s,this._vectors3[s]);for(var s in this._vectors4)o.setVector4(s,this._vectors4[s]);for(var s in this._matrices)o.setMatrix(s,this._matrices[s]);for(var s in this._matrices3x3)o.setMatrix3x3(s,this._matrices3x3[s]);for(var s in this._matrices2x2)o.setMatrix2x2(s,this._matrices2x2[s]);return o},t.prototype.dispose=function(t,i,n){if(i){var r;for(r in this._textures)this._textures[r].dispose();for(r in this._textureArrays)for(var o=this._textureArrays[r],s=0;s<o.length;s++)o[s].dispose()}this._textures={},e.prototype.dispose.call(this,t,i,n)},t.prototype.serialize=function(){var e,t=r.a.Serialize(this);for(e in t.customType="BABYLON.ShaderMaterial",t.options=this._options,t.shaderPath=this._shaderPath,t.textures={},this._textures)t.textures[e]=this._textures[e].serialize();for(e in t.textureArrays={},this._textureArrays){t.textureArrays[e]=[];for(var i=this._textureArrays[e],n=0;n<i.length;n++)t.textureArrays[e].push(i[n].serialize())}for(e in t.floats={},this._floats)t.floats[e]=this._floats[e];for(e in t.FloatArrays={},this._floatsArrays)t.FloatArrays[e]=this._floatsArrays[e];for(e in t.colors3={},this._colors3)t.colors3[e]=this._colors3[e].asArray();for(e in t.colors3Arrays={},this._colors3Arrays)t.colors3Arrays[e]=this._colors3Arrays[e];for(e in t.colors4={},this._colors4)t.colors4[e]=this._colors4[e].asArray();for(e in t.colors4Arrays={},this._colors4Arrays)t.colors4Arrays[e]=this._colors4Arrays[e];for(e in t.vectors2={},this._vectors2)t.vectors2[e]=this._vectors2[e].asArray();for(e in t.vectors3={},this._vectors3)t.vectors3[e]=this._vectors3[e].asArray();for(e in t.vectors4={},this._vectors4)t.vectors4[e]=this._vectors4[e].asArray();for(e in t.matrices={},this._matrices)t.matrices[e]=this._matrices[e].asArray();for(e in t.matrixArray={},this._matrixArrays)t.matrixArray[e]=this._matrixArrays[e];for(e in t.matrices3x3={},this._matrices3x3)t.matrices3x3[e]=this._matrices3x3[e];for(e in t.matrices2x2={},this._matrices2x2)t.matrices2x2[e]=this._matrices2x2[e];for(e in t.vectors2Arrays={},this._vectors2Arrays)t.vectors2Arrays[e]=this._vectors2Arrays[e];for(e in t.vectors3Arrays={},this._vectors3Arrays)t.vectors3Arrays[e]=this._vectors3Arrays[e];for(e in t.vectors4Arrays={},this._vectors4Arrays)t.vectors4Arrays[e]=this._vectors4Arrays[e];return t},t.Parse=function(e,i,n){var s,c=r.a.Parse(function(){return new t(e.name,i,e.shaderPath,e.options)},e,i,n);for(s in e.textures)c.setTexture(s,a.a.Parse(e.textures[s],i,n));for(s in e.textureArrays){for(var l=e.textureArrays[s],_=new Array,f=0;f<l.length;f++)_.push(a.a.Parse(l[f],i,n));c.setTextureArray(s,_)}for(s in e.floats)c.setFloat(s,e.floats[s]);for(s in e.floatsArrays)c.setFloats(s,e.floatsArrays[s]);for(s in e.colors3)c.setColor3(s,u.a.FromArray(e.colors3[s]));for(s in e.colors3Arrays){var d=e.colors3Arrays[s].reduce(function(e,t,i){return i%3===0?e.push([t]):e[e.length-1].push(t),e},[]).map(function(e){return u.a.FromArray(e)});c.setColor3Array(s,d)}for(s in e.colors4)c.setColor4(s,u.b.FromArray(e.colors4[s]));for(s in e.colors4Arrays){d=e.colors4Arrays[s].reduce(function(e,t,i){return i%4===0?e.push([t]):e[e.length-1].push(t),e},[]).map(function(e){return u.b.FromArray(e)});c.setColor4Array(s,d)}for(s in e.vectors2)c.setVector2(s,o.d.FromArray(e.vectors2[s]));for(s in e.vectors3)c.setVector3(s,o.e.FromArray(e.vectors3[s]));for(s in e.vectors4)c.setVector4(s,o.f.FromArray(e.vectors4[s]));for(s in e.matrices)c.setMatrix(s,o.a.FromArray(e.matrices[s]));for(s in e.matrixArray)c._matrixArrays[s]=new Float32Array(e.matrixArray[s]);for(s in e.matrices3x3)c.setMatrix3x3(s,e.matrices3x3[s]);for(s in e.matrices2x2)c.setMatrix2x2(s,e.matrices2x2[s]);for(s in e.vectors2Arrays)c.setArray2(s,e.vectors2Arrays[s]);for(s in e.vectors3Arrays)c.setArray3(s,e.vectors3Arrays[s]);for(s in e.vectors4Arrays)c.setArray4(s,e.vectors4Arrays[s]);return c},t.ParseFromFileAsync=function(e,t,i,n){var r=this;return void 0===n&&(n=""),new Promise(function(o,s){var a=new d.a;a.addEventListener("readystatechange",function(){if(4==a.readyState)if(200==a.status){var t=JSON.parse(a.responseText),c=r.Parse(t,i||h.a.LastCreatedScene,n);e&&(c.name=e),o(c)}else s("Unable to load the ShaderMaterial")}),a.open("GET",t),a.send()})},t.CreateFromSnippetAsync=function(e,t,i){var n=this;return void 0===i&&(i=""),new Promise(function(r,o){var s=new d.a;s.addEventListener("readystatechange",function(){if(4==s.readyState)if(200==s.status){var a=JSON.parse(JSON.parse(s.responseText).jsonPayload),c=JSON.parse(a.shaderMaterial),l=n.Parse(c,t||h.a.LastCreatedScene,i);l.snippetId=e,r(l)}else o("Unable to load the snippet "+e)}),s.open("GET",n.SnippetUrl+"/"+e.replace(/#/g,"/")),s.send()})},t.SnippetUrl="https://snippet.babylonjs.com",t}(l.a);_.a.RegisteredTypes["BABYLON.ShaderMaterial"]=b},880:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n,r=i(658),o=i(650),s=i(937),a=i(695),c=i(690),l=i(668),_=i(649),u=i(877);!function(e){e[e.Clean=0]="Clean",e[e.Stop=1]="Stop",e[e.Sync=2]="Sync",e[e.NoSync=3]="NoSync"}(n||(n={}));var f=function(){function e(){}return Object.defineProperty(e,"ForceFullSceneLoadingForIncremental",{get:function(){return u.a.ForceFullSceneLoadingForIncremental},set:function(e){u.a.ForceFullSceneLoadingForIncremental=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"ShowLoadingScreen",{get:function(){return u.a.ShowLoadingScreen},set:function(e){u.a.ShowLoadingScreen=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"loggingLevel",{get:function(){return u.a.loggingLevel},set:function(e){u.a.loggingLevel=e},enumerable:!1,configurable:!0}),Object.defineProperty(e,"CleanBoneMatrixWeights",{get:function(){return u.a.CleanBoneMatrixWeights},set:function(e){u.a.CleanBoneMatrixWeights=e},enumerable:!1,configurable:!0}),e.GetDefaultPlugin=function(){return e._registeredPlugins[".babylon"]},e._GetPluginForExtension=function(t){var i=e._registeredPlugins[t];return i||(_.a.Warn("Unable to find a plugin to load "+t+" files. Trying to use .babylon default plugin. To load from a specific filetype (eg. gltf) see: https://doc.babylonjs.com/how_to/load_from_any_file_type"),e.GetDefaultPlugin())},e._GetPluginForDirectLoad=function(t){for(var i in e._registeredPlugins){var n=e._registeredPlugins[i].plugin;if(n.canDirectLoad&&n.canDirectLoad(t))return e._registeredPlugins[i]}return e.GetDefaultPlugin()},e._GetPluginForFilename=function(t){var i=t.indexOf("?");-1!==i&&(t=t.substring(0,i));var n=t.lastIndexOf("."),r=t.substring(n,t.length).toLowerCase();return e._GetPluginForExtension(r)},e._GetDirectLoad=function(e){return"data:"===e.substr(0,5)?e.substr(5):null},e._LoadData=function(t,i,n,r,o,a,l){var _,u=e._GetDirectLoad(t.name),f=l?e._GetPluginForExtension(l):u?e._GetPluginForDirectLoad(t.name):e._GetPluginForFilename(t.name);if(!(_=void 0!==f.plugin.createPlugin?f.plugin.createPlugin():f.plugin))throw"The loader plugin corresponding to the file type you are trying to load has not been found. If using es6, please import the plugin you wish to use before.";if(e.OnPluginActivatedObservable.notifyObservers(_),u){if(_.directLoad){var d=_.directLoad(i,u);d.then?d.then(function(e){n(_,e)}).catch(function(e){o("Error in directLoad of _loadData: "+e,e)}):n(_,d)}else n(_,u);return _}var h=f.isBinary,p=function(e,t){i.isDisposed?o("Scene has been disposed"):n(_,e,t)},b=null,m=!1,A=_.onDisposeObservable;A&&A.add(function(){m=!0,b&&(b.abort(),b=null),a()});var g=function(){if(!m){var e=function(e,t){p(e,t?t.responseURL:void 0)},n=function(e){o(e.message,e)};b=_.requestFile?_.requestFile(i,t.url,e,r,h,n):i._requestFile(t.url,e,r,!0,h,n)}},y=t.file||s.a.FilesToLoad[t.name.toLowerCase()];if(-1===t.rootUrl.indexOf("file:")||-1!==t.rootUrl.indexOf("file:")&&!y){var v=i.getEngine(),C=v.enableOfflineSupport;if(C){for(var E=!1,S=0,T=i.disableOfflineSupportExceptionRules;S<T.length;S++){if(T[S].test(t.url)){E=!0;break}}C=!E}C&&c.a.OfflineProviderFactory?i.offlineProvider=c.a.OfflineProviderFactory(t.url,g,v.disableManifestCheck):g()}else if(y){var R=function(e){o(e.message,e)};b=_.readFile?_.readFile(i,y,p,r,h,R):i._readFile(y,p,r,h,R)}else o("Unable to find file named "+t.name);return _},e._GetFileInfo=function(e,t){var i,n,o=null;if(t)if(t.name){var s=t;i=e+s.name,n=s.name,o=s}else{var a=t;if("/"===a.substr(0,1))return r.b.Error("Wrong sceneFilename parameter"),null;i=e+a,n=a}else i=e,n=r.b.GetFilename(e),e=r.b.GetFolderPath(e);return{url:i,rootUrl:e,name:n,file:o}},e.GetPluginForExtension=function(t){return e._GetPluginForExtension(t).plugin},e.IsPluginForExtensionAvailable=function(t){return!!e._registeredPlugins[t]},e.RegisterPlugin=function(t){if("string"===typeof t.extensions){var i=t.extensions;e._registeredPlugins[i.toLowerCase()]={plugin:t,isBinary:!1}}else{var n=t.extensions;Object.keys(n).forEach(function(i){e._registeredPlugins[i.toLowerCase()]={plugin:t,isBinary:n[i].isBinary}})}},e.ImportMesh=function(t,i,n,r,o,s,a,c){if(void 0===n&&(n=""),void 0===r&&(r=l.a.LastCreatedScene),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),void 0===c&&(c=null),!r)return _.a.Error("No scene available to import mesh to"),null;var u=e._GetFileInfo(i,n);if(!u)return null;var f={};r._addPendingData(f);var d=function(){r._removePendingData(f)},h=function(e,t){var i="Unable to import meshes from "+u.url+": "+e;a?a(r,i,t):_.a.Error(i),d()},p=s?function(e){try{s(e)}catch(t){h("Error in onProgress callback: "+t,t)}}:void 0,b=function(e,t,i,n,s,a,c){if(r.importedMeshesFiles.push(u.url),o)try{o(e,t,i,n,s,a,c)}catch(l){h("Error in onSuccess callback: "+l,l)}r._removePendingData(f)};return e._LoadData(u,r,function(e,i,n){if(e.rewriteRootURL&&(u.rootUrl=e.rewriteRootURL(u.rootUrl,n)),e.importMesh){var o=e,s=new Array,a=new Array,c=new Array;if(!o.importMesh(t,r,i,u.rootUrl,s,a,c,h))return;r.loadingPluginName=e.name,b(s,a,c,[],[],[],[])}else{e.importMeshAsync(t,r,i,u.rootUrl,p,u.name).then(function(t){r.loadingPluginName=e.name,b(t.meshes,t.particleSystems,t.skeletons,t.animationGroups,t.transformNodes,t.geometries,t.lights)}).catch(function(e){h(e.message,e)})}},p,h,d,c)},e.ImportMeshAsync=function(t,i,n,r,o,s){return void 0===n&&(n=""),void 0===r&&(r=l.a.LastCreatedScene),void 0===o&&(o=null),void 0===s&&(s=null),new Promise(function(a,c){e.ImportMesh(t,i,n,r,function(e,t,i,n,r,o,s){a({meshes:e,particleSystems:t,skeletons:i,animationGroups:n,transformNodes:r,geometries:o,lights:s})},o,function(e,t,i){c(i||new Error(t))},s)})},e.Load=function(t,i,n,o,s,c,_){return void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedEngine),void 0===o&&(o=null),void 0===s&&(s=null),void 0===c&&(c=null),void 0===_&&(_=null),n?e.Append(t,i,new a.a(n),o,s,c,_):(r.b.Error("No engine available"),null)},e.LoadAsync=function(t,i,n,r,o){return void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedEngine),void 0===r&&(r=null),void 0===o&&(o=null),new Promise(function(s,a){e.Load(t,i,n,function(e){s(e)},r,function(e,t,i){a(i||new Error(t))},o)})},e.Append=function(t,i,n,r,o,s,a){var c=this;if(void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedScene),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),!n)return _.a.Error("No scene available to append to"),null;var u=e._GetFileInfo(t,i);if(!u)return null;e.ShowLoadingScreen&&!this._showingLoadingScreen&&(this._showingLoadingScreen=!0,n.getEngine().displayLoadingUI(),n.executeWhenReady(function(){n.getEngine().hideLoadingUI(),c._showingLoadingScreen=!1}));var f={};n._addPendingData(f);var d=function(){n._removePendingData(f)},h=function(e,t){var i="Unable to load from "+u.url+(e?": "+e:"");s?s(n,i,t):_.a.Error(i),d()},p=o?function(e){try{o(e)}catch(t){h("Error in onProgress callback",t)}}:void 0,b=function(){if(r)try{r(n)}catch(e){h("Error in onSuccess callback",e)}n._removePendingData(f)};return e._LoadData(u,n,function(e,t){if(e.load){if(!e.load(n,t,u.rootUrl,h))return;n.loadingPluginName=e.name,b()}else{e.loadAsync(n,t,u.rootUrl,p,u.name).then(function(){n.loadingPluginName=e.name,b()}).catch(function(e){h(e.message,e)})}},p,h,d,a)},e.AppendAsync=function(t,i,n,r,o){return void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedScene),void 0===r&&(r=null),void 0===o&&(o=null),new Promise(function(s,a){e.Append(t,i,n,function(e){s(e)},r,function(e,t,i){a(i||new Error(t))},o)})},e.LoadAssetContainer=function(t,i,n,r,o,s,a){if(void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedScene),void 0===r&&(r=null),void 0===o&&(o=null),void 0===s&&(s=null),void 0===a&&(a=null),!n)return _.a.Error("No scene available to load asset container to"),null;var c=e._GetFileInfo(t,i);if(!c)return null;var u={};n._addPendingData(u);var f=function(){n._removePendingData(u)},d=function(e,t){var i="Unable to load assets from "+c.url+(e?": "+e:"");t&&t.message&&(i+=" ("+t.message+")"),s?s(n,i,t):_.a.Error(i),f()},h=o?function(e){try{o(e)}catch(t){d("Error in onProgress callback",t)}}:void 0,p=function(e){if(r)try{r(e)}catch(t){d("Error in onSuccess callback",t)}n._removePendingData(u)};return e._LoadData(c,n,function(e,t){if(e.loadAssetContainer){var i=e.loadAssetContainer(n,t,c.rootUrl,d);if(!i)return;n.loadingPluginName=e.name,p(i)}else if(e.loadAssetContainerAsync){e.loadAssetContainerAsync(n,t,c.rootUrl,h,c.name).then(function(t){n.loadingPluginName=e.name,p(t)}).catch(function(e){d(e.message,e)})}else d("LoadAssetContainer is not supported by this plugin. Plugin did not provide a loadAssetContainer or loadAssetContainerAsync method.")},h,d,f,a)},e.LoadAssetContainerAsync=function(t,i,n,r,o){return void 0===i&&(i=""),void 0===n&&(n=l.a.LastCreatedScene),void 0===r&&(r=null),void 0===o&&(o=null),new Promise(function(s,a){e.LoadAssetContainer(t,i,n,function(e){s(e)},r,function(e,t,i){a(i||new Error(t))},o)})},e.ImportAnimations=function(e,t,i,r,o,s,a,c,u,f){if(void 0===t&&(t=""),void 0===i&&(i=l.a.LastCreatedScene),void 0===r&&(r=!0),void 0===o&&(o=n.Clean),void 0===s&&(s=null),void 0===a&&(a=null),void 0===c&&(c=null),void 0===u&&(u=null),void 0===f&&(f=null),i){if(r){for(var d=0,h=i.animatables;d<h.length;d++){h[d].reset()}i.stopAllAnimations(),i.animationGroups.slice().forEach(function(e){e.dispose()}),i.getNodes().forEach(function(e){e.animations&&(e.animations=[])})}else switch(o){case n.Clean:i.animationGroups.slice().forEach(function(e){e.dispose()});break;case n.Stop:i.animationGroups.forEach(function(e){e.stop()});break;case n.Sync:i.animationGroups.forEach(function(e){e.reset(),e.restart()});break;case n.NoSync:break;default:return void _.a.Error("Unknown animation group loading mode value '"+o+"'")}var p=i.animatables.length;this.LoadAssetContainer(e,t,i,function(e){e.mergeAnimationsTo(i,i.animatables.slice(p),s),e.dispose(),i.onAnimationFileImportedObservable.notifyObservers(i),a&&a(i)},c,u,f)}else _.a.Error("No scene available to load animations to")},e.ImportAnimationsAsync=function(t,i,r,o,s,a,c,_,u,f){return void 0===i&&(i=""),void 0===r&&(r=l.a.LastCreatedScene),void 0===o&&(o=!0),void 0===s&&(s=n.Clean),void 0===a&&(a=null),void 0===c&&(c=null),void 0===_&&(_=null),void 0===u&&(u=null),void 0===f&&(f=null),new Promise(function(n,c){e.ImportAnimations(t,i,r,o,s,a,function(e){n(e)},_,function(e,t,i){c(i||new Error(t))},f)})},e.NO_LOGGING=0,e.MINIMAL_LOGGING=1,e.SUMMARY_LOGGING=2,e.DETAILED_LOGGING=3,e.OnPluginActivatedObservable=new o.a,e._registeredPlugins={},e._showingLoadingScreen=!1,e}()},881:function(e,t,i){"use strict";i.d(t,"a",function(){return N});var n=i(644),r=i(30),o=i(244),s=i(660),a=i(693),c=i(686),l=i(669),_=i(807),u=i(763),f=i(642),d="kernelBlurVaryingDeclaration",h="varying vec2 sampleCoord{X};";f.a.IncludesShadersStore[d]=h;i(875);var p="kernelBlurFragment",b="#ifdef DOF\nfactor=sampleCoC(sampleCoord{X});\ncomputedWeight=KERNEL_WEIGHT{X}*factor;\nsumOfWeights+=computedWeight;\n#else\ncomputedWeight=KERNEL_WEIGHT{X};\n#endif\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCoord{X}))*computedWeight;\n#else\nblend+=texture2D(textureSampler,sampleCoord{X})*computedWeight;\n#endif";f.a.IncludesShadersStore[p]=b;var m="kernelBlurFragment2",A="#ifdef DOF\nfactor=sampleCoC(sampleCenter+delta*KERNEL_DEP_OFFSET{X});\ncomputedWeight=KERNEL_DEP_WEIGHT{X}*factor;\nsumOfWeights+=computedWeight;\n#else\ncomputedWeight=KERNEL_DEP_WEIGHT{X};\n#endif\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X}))*computedWeight;\n#else\nblend+=texture2D(textureSampler,sampleCenter+delta*KERNEL_DEP_OFFSET{X})*computedWeight;\n#endif";f.a.IncludesShadersStore[m]=A;var g="kernelBlurPixelShader",y="\nuniform sampler2D textureSampler;\nuniform vec2 delta;\n\nvarying vec2 sampleCenter;\n#ifdef DOF\nuniform sampler2D circleOfConfusionSampler;\nuniform vec2 cameraMinMaxZ;\nfloat sampleDistance(const in vec2 offset) {\nfloat depth=texture2D(circleOfConfusionSampler,offset).g;\nreturn cameraMinMaxZ.x+(cameraMinMaxZ.y-cameraMinMaxZ.x)*depth;\n}\nfloat sampleCoC(const in vec2 offset) {\nfloat coc=texture2D(circleOfConfusionSampler,offset).r;\nreturn coc;\n}\n#endif\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\n#ifdef PACKEDFLOAT\n#include<packingFunctions>\n#endif\nvoid main(void)\n{\nfloat computedWeight=0.0;\n#ifdef PACKEDFLOAT\nfloat blend=0.;\n#else\nvec4 blend=vec4(0.);\n#endif\n#ifdef DOF\nfloat sumOfWeights=CENTER_WEIGHT;\nfloat factor=0.0;\n\n#ifdef PACKEDFLOAT\nblend+=unpack(texture2D(textureSampler,sampleCenter))*CENTER_WEIGHT;\n#else\nblend+=texture2D(textureSampler,sampleCenter)*CENTER_WEIGHT;\n#endif\n#endif\n#include<kernelBlurFragment>[0..varyingCount]\n#include<kernelBlurFragment2>[0..depCount]\n#ifdef PACKEDFLOAT\ngl_FragColor=pack(blend);\n#else\ngl_FragColor=blend;\n#endif\n#ifdef DOF\ngl_FragColor/=sumOfWeights;\n#endif\n}";f.a.ShadersStore[g]=y;var v="kernelBlurVertex",C="sampleCoord{X}=sampleCenter+delta*KERNEL_OFFSET{X};";f.a.IncludesShadersStore[v]=C;var E="kernelBlurVertexShader",S="\nattribute vec2 position;\n\nuniform vec2 delta;\n\nvarying vec2 sampleCenter;\n#include<kernelBlurVaryingDeclaration>[0..varyingCount]\nconst vec2 madd=vec2(0.5,0.5);\nvoid main(void) {\nsampleCenter=(position*madd+madd);\n#include<kernelBlurVertex>[0..varyingCount]\ngl_Position=vec4(position,0.0,1.0);\n}";f.a.ShadersStore[E]=S;var T=i(105),R=i(648),M=function(e){function t(t,i,n,r,o,s,a,c,_,u,f){void 0===s&&(s=l.a.BILINEAR_SAMPLINGMODE),void 0===_&&(_=0),void 0===u&&(u=""),void 0===f&&(f=!1);var d=e.call(this,t,"kernelBlur",["delta","direction","cameraMinMaxZ"],["circleOfConfusionSampler"],r,o,s,a,c,null,_,"kernelBlur",{varyingCount:0,depCount:0},!0)||this;return d.blockCompilation=f,d._packedFloat=!1,d._staticDefines="",d._staticDefines=u,d.direction=i,d.onApplyObservable.add(function(e){d._outputTexture?e.setFloat2("delta",1/d._outputTexture.width*d.direction.x,1/d._outputTexture.height*d.direction.y):e.setFloat2("delta",1/d.width*d.direction.x,1/d.height*d.direction.y)}),d.kernel=n,d}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"kernel",{get:function(){return this._idealKernel},set:function(e){this._idealKernel!==e&&(e=Math.max(e,1),this._idealKernel=e,this._kernel=this._nearestBestKernel(e),this.blockCompilation||this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"packedFloat",{get:function(){return this._packedFloat},set:function(e){this._packedFloat!==e&&(this._packedFloat=e,this.blockCompilation||this._updateParameters())},enumerable:!1,configurable:!0}),t.prototype.getClassName=function(){return"BlurPostProcess"},t.prototype.updateEffect=function(e,t,i,n,r,o){void 0===e&&(e=null),void 0===t&&(t=null),void 0===i&&(i=null),this._updateParameters(r,o)},t.prototype._updateParameters=function(t,i){for(var n=this._kernel,r=(n-1)/2,o=[],s=[],a=0,c=0;c<n;c++){var l=c/(n-1),_=this._gaussianWeight(2*l-1);o[c]=c-r,s[c]=_,a+=_}for(c=0;c<s.length;c++)s[c]/=a;var u=[],f=[],d=[];for(c=0;c<=r;c+=2){var h=Math.min(c+1,Math.floor(r));if(c===h)d.push({o:o[c],w:s[c]});else{var p=h===r,b=s[c]+s[h]*(p?.5:1),m=o[c]+1/(1+s[c]/s[h]);0===m?(d.push({o:o[c],w:s[c]}),d.push({o:o[c+1],w:s[c+1]})):(d.push({o:m,w:b}),d.push({o:-m,w:b}))}}for(c=0;c<d.length;c++)f[c]=d[c].o,u[c]=d[c].w;o=f,s=u;var A=this.getEngine().getCaps().maxVaryingVectors,g=Math.max(A,0)-1,y=Math.min(o.length,g),v="";v+=this._staticDefines,-1!=this._staticDefines.indexOf("DOF")&&(v+="#define CENTER_WEIGHT "+this._glslFloat(s[y-1])+"\r\n",y--);for(c=0;c<y;c++)v+="#define KERNEL_OFFSET"+c+" "+this._glslFloat(o[c])+"\r\n",v+="#define KERNEL_WEIGHT"+c+" "+this._glslFloat(s[c])+"\r\n";var C=0;for(c=g;c<o.length;c++)v+="#define KERNEL_DEP_OFFSET"+C+" "+this._glslFloat(o[c])+"\r\n",v+="#define KERNEL_DEP_WEIGHT"+C+" "+this._glslFloat(s[c])+"\r\n",C++;this.packedFloat&&(v+="#define PACKEDFLOAT 1"),this.blockCompilation=!1,e.prototype.updateEffect.call(this,v,null,null,{varyingCount:y,depCount:C},t,i)},t.prototype._nearestBestKernel=function(e){for(var t=Math.round(e),i=0,n=[t,t-1,t+1,t-2,t+2];i<n.length;i++){var r=n[i];if(r%2!==0&&Math.floor(r/2)%2===0&&r>0)return Math.max(r,3)}return Math.max(t,3)},t.prototype._gaussianWeight=function(e){var t=1/3,i=-e*e/(2*t*t);return 1/(Math.sqrt(2*Math.PI)*t)*Math.exp(i)},t.prototype._glslFloat=function(e,t){return void 0===t&&(t=8),e.toFixed(t).replace(/0+$/,"")},t._Parse=function(e,i,n,r){return R.a.Parse(function(){return new t(e.name,e.direction,e.kernel,e.options,i,e.renderTargetSamplingMode,n.getEngine(),e.reusable,e.textureType,void 0,!1)},e,n,r)},Object(n.b)([Object(R.c)("kernel")],t.prototype,"_kernel",void 0),Object(n.b)([Object(R.c)("packedFloat")],t.prototype,"_packedFloat",void 0),Object(n.b)([Object(R.m)()],t.prototype,"direction",void 0),t}(u.a);T.a.RegisteredTypes["BABYLON.BlurPostProcess"]=M;i(980),i(981),i(947);var O="shadowMapFragmentSoftTransparentShadow",I="#if SM_SOFTTRANSPARENTSHADOW == 1\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM*alpha) discard;\n#endif\n";f.a.IncludesShadersStore[O]=I;var x=i(650),P=i(667),D=i(815),w=i(882),L=new r.a,F=new r.a,N=function(){function e(t,i,n){this.onBeforeShadowMapRenderObservable=new x.a,this.onAfterShadowMapRenderObservable=new x.a,this.onBeforeShadowMapRenderMeshObservable=new x.a,this.onAfterShadowMapRenderMeshObservable=new x.a,this._bias=5e-5,this._normalBias=0,this._blurBoxOffset=1,this._blurScale=2,this._blurKernel=1,this._useKernelBlur=!1,this._filter=e.FILTER_NONE,this._filteringQuality=e.QUALITY_HIGH,this._contactHardeningLightSizeUVRatio=.1,this._darkness=0,this._transparencyShadow=!1,this.enableSoftTransparentShadow=!1,this.frustumEdgeFalloff=0,this.forceBackFacesOnly=!1,this._lightDirection=r.e.Zero(),this._viewMatrix=r.a.Zero(),this._projectionMatrix=r.a.Zero(),this._transformMatrix=r.a.Zero(),this._cachedPosition=new r.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cachedDirection=new r.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._currentFaceIndex=0,this._currentFaceIndexCache=0,this._defaultTextureMatrix=r.a.Identity(),this._mapSize=t,this._light=i,this._scene=i.getScene(),i._shadowGenerator=this,this.id=i.id,e._SceneComponentInitialization(this._scene);var o=this._scene.getEngine().getCaps();n?o.textureFloatRender&&o.textureFloatLinearFiltering?this._textureType=1:o.textureHalfFloatRender&&o.textureHalfFloatLinearFiltering?this._textureType=2:this._textureType=0:o.textureHalfFloatRender&&o.textureHalfFloatLinearFiltering?this._textureType=2:o.textureFloatRender&&o.textureFloatLinearFiltering?this._textureType=1:this._textureType=0,this._initializeGenerator(),this._applyFilterValues()}return Object.defineProperty(e.prototype,"bias",{get:function(){return this._bias},set:function(e){this._bias=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"normalBias",{get:function(){return this._normalBias},set:function(e){this._normalBias=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurBoxOffset",{get:function(){return this._blurBoxOffset},set:function(e){this._blurBoxOffset!==e&&(this._blurBoxOffset=e,this._disposeBlurPostProcesses())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurScale",{get:function(){return this._blurScale},set:function(e){this._blurScale!==e&&(this._blurScale=e,this._disposeBlurPostProcesses())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"blurKernel",{get:function(){return this._blurKernel},set:function(e){this._blurKernel!==e&&(this._blurKernel=e,this._disposeBlurPostProcesses())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useKernelBlur",{get:function(){return this._useKernelBlur},set:function(e){this._useKernelBlur!==e&&(this._useKernelBlur=e,this._disposeBlurPostProcesses())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"depthScale",{get:function(){return void 0!==this._depthScale?this._depthScale:this._light.getDepthScale()},set:function(e){this._depthScale=e},enumerable:!1,configurable:!0}),e.prototype._validateFilter=function(e){return e},Object.defineProperty(e.prototype,"filter",{get:function(){return this._filter},set:function(t){if(t=this._validateFilter(t),this._light.needCube()){if(t===e.FILTER_BLUREXPONENTIALSHADOWMAP)return void(this.useExponentialShadowMap=!0);if(t===e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP)return void(this.useCloseExponentialShadowMap=!0);if(t===e.FILTER_PCF||t===e.FILTER_PCSS)return void(this.usePoissonSampling=!0)}t!==e.FILTER_PCF&&t!==e.FILTER_PCSS||1!==this._scene.getEngine().webGLVersion?this._filter!==t&&(this._filter=t,this._disposeBlurPostProcesses(),this._applyFilterValues(),this._light._markMeshesAsLightDirty()):this.usePoissonSampling=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"usePoissonSampling",{get:function(){return this.filter===e.FILTER_POISSONSAMPLING},set:function(t){var i=this._validateFilter(e.FILTER_POISSONSAMPLING);(t||this.filter===e.FILTER_POISSONSAMPLING)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useExponentialShadowMap",{get:function(){return this.filter===e.FILTER_EXPONENTIALSHADOWMAP},set:function(t){var i=this._validateFilter(e.FILTER_EXPONENTIALSHADOWMAP);(t||this.filter===e.FILTER_EXPONENTIALSHADOWMAP)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useBlurExponentialShadowMap",{get:function(){return this.filter===e.FILTER_BLUREXPONENTIALSHADOWMAP},set:function(t){var i=this._validateFilter(e.FILTER_BLUREXPONENTIALSHADOWMAP);(t||this.filter===e.FILTER_BLUREXPONENTIALSHADOWMAP)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useCloseExponentialShadowMap",{get:function(){return this.filter===e.FILTER_CLOSEEXPONENTIALSHADOWMAP},set:function(t){var i=this._validateFilter(e.FILTER_CLOSEEXPONENTIALSHADOWMAP);(t||this.filter===e.FILTER_CLOSEEXPONENTIALSHADOWMAP)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useBlurCloseExponentialShadowMap",{get:function(){return this.filter===e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP},set:function(t){var i=this._validateFilter(e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP);(t||this.filter===e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"usePercentageCloserFiltering",{get:function(){return this.filter===e.FILTER_PCF},set:function(t){var i=this._validateFilter(e.FILTER_PCF);(t||this.filter===e.FILTER_PCF)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"filteringQuality",{get:function(){return this._filteringQuality},set:function(e){this._filteringQuality!==e&&(this._filteringQuality=e,this._disposeBlurPostProcesses(),this._applyFilterValues(),this._light._markMeshesAsLightDirty())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"useContactHardeningShadow",{get:function(){return this.filter===e.FILTER_PCSS},set:function(t){var i=this._validateFilter(e.FILTER_PCSS);(t||this.filter===e.FILTER_PCSS)&&(this.filter=t?i:e.FILTER_NONE)},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contactHardeningLightSizeUVRatio",{get:function(){return this._contactHardeningLightSizeUVRatio},set:function(e){this._contactHardeningLightSizeUVRatio=e},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"darkness",{get:function(){return this._darkness},set:function(e){this.setDarkness(e)},enumerable:!1,configurable:!0}),e.prototype.getDarkness=function(){return this._darkness},e.prototype.setDarkness=function(e){return this._darkness=e>=1?1:e<=0?0:e,this},Object.defineProperty(e.prototype,"transparencyShadow",{get:function(){return this._transparencyShadow},set:function(e){this.setTransparencyShadow(e)},enumerable:!1,configurable:!0}),e.prototype.setTransparencyShadow=function(e){return this._transparencyShadow=e,this},e.prototype.getShadowMap=function(){return this._shadowMap},e.prototype.getShadowMapForRendering=function(){return this._shadowMap2?this._shadowMap2:this._shadowMap},e.prototype.getClassName=function(){return e.CLASSNAME},e.prototype.addShadowCaster=function(e,t){var i;return void 0===t&&(t=!0),this._shadowMap?(this._shadowMap.renderList||(this._shadowMap.renderList=[]),this._shadowMap.renderList.push(e),t&&(i=this._shadowMap.renderList).push.apply(i,e.getChildMeshes()),this):this},e.prototype.removeShadowCaster=function(e,t){if(void 0===t&&(t=!0),!this._shadowMap||!this._shadowMap.renderList)return this;var i=this._shadowMap.renderList.indexOf(e);if(-1!==i&&this._shadowMap.renderList.splice(i,1),t)for(var n=0,r=e.getChildren();n<r.length;n++){var o=r[n];this.removeShadowCaster(o)}return this},e.prototype.getLight=function(){return this._light},Object.defineProperty(e.prototype,"mapSize",{get:function(){return this._mapSize},set:function(e){this._mapSize=e,this._light._markMeshesAsLightDirty(),this.recreateShadowMap()},enumerable:!1,configurable:!0}),e.prototype._initializeGenerator=function(){this._light._markMeshesAsLightDirty(),this._initializeShadowMap()},e.prototype._createTargetRenderTexture=function(){this._scene.getEngine().webGLVersion>1?(this._shadowMap=new _.a(this._light.name+"_shadowMap",this._mapSize,this._scene,!1,!0,this._textureType,this._light.needCube(),void 0,!1,!1),this._shadowMap.createDepthStencilTexture(513,!0)):this._shadowMap=new _.a(this._light.name+"_shadowMap",this._mapSize,this._scene,!1,!0,this._textureType,this._light.needCube())},e.prototype._initializeShadowMap=function(){var t=this;if(this._createTargetRenderTexture(),null!==this._shadowMap){this._shadowMap.wrapU=l.a.CLAMP_ADDRESSMODE,this._shadowMap.wrapV=l.a.CLAMP_ADDRESSMODE,this._shadowMap.anisotropicFilteringLevel=1,this._shadowMap.updateSamplingMode(l.a.BILINEAR_SAMPLINGMODE),this._shadowMap.renderParticles=!1,this._shadowMap.ignoreCameraViewport=!0,this._storedUniqueId&&(this._shadowMap.uniqueId=this._storedUniqueId),this._shadowMap.customRenderFunction=this._renderForShadowMap.bind(this),this._shadowMap.customIsReadyFunction=function(e,t){return!0};var i=this._scene.getEngine();this._shadowMap.onBeforeRenderObservable.add(function(n){if(t._currentFaceIndex=n,t._filter===e.FILTER_PCF&&i.setColorWrite(!1),t._scene.getSceneUniformBuffer().useUbo){var r=t._scene.getSceneUniformBuffer();r.updateMatrix("viewProjection",t.getTransformMatrix()),r.updateMatrix("view",t._viewMatrix),r.update()}}),this._shadowMap.onAfterUnbindObservable.add(function(){if(t._scene.getSceneUniformBuffer().useUbo){var n=t._scene.getSceneUniformBuffer();n.updateMatrix("viewProjection",t._scene.getTransformMatrix()),n.updateMatrix("view",t._scene.getViewMatrix()),n.update()}if(t._filter===e.FILTER_PCF&&i.setColorWrite(!0),t.useBlurExponentialShadowMap||t.useBlurCloseExponentialShadowMap){var r=t.getShadowMapForRendering();if(r){var o=r.getInternalTexture();t._scene.postProcessManager.directRender(t._blurPostProcesses,o,!0),i.unBindFramebuffer(o,!0)}}});var n=new o.b(0,0,0,0),r=new o.b(1,1,1,1);this._shadowMap.onClearObservable.add(function(i){t._filter===e.FILTER_PCF?i.clear(r,!1,!0,!1):t.useExponentialShadowMap||t.useBlurExponentialShadowMap?i.clear(n,!0,!0,!1):i.clear(r,!0,!0,!1)}),this._shadowMap.onResizeObservable.add(function(e){t._storedUniqueId=t._shadowMap.uniqueId,t._mapSize=e.getRenderSize(),t._light._markMeshesAsLightDirty(),t.recreateShadowMap()});for(var s=w.a.MIN_RENDERINGGROUPS;s<w.a.MAX_RENDERINGGROUPS;s++)this._shadowMap.setRenderingAutoClearDepthStencil(s,!1)}},e.prototype._initializeBlurRTTAndPostProcesses=function(){var e=this,t=this._scene.getEngine(),i=this._mapSize/this.blurScale;this.useKernelBlur&&1===this.blurScale||(this._shadowMap2=new _.a(this._light.name+"_shadowMap2",i,this._scene,!1,!0,this._textureType),this._shadowMap2.wrapU=l.a.CLAMP_ADDRESSMODE,this._shadowMap2.wrapV=l.a.CLAMP_ADDRESSMODE,this._shadowMap2.updateSamplingMode(l.a.BILINEAR_SAMPLINGMODE)),this.useKernelBlur?(this._kernelBlurXPostprocess=new M(this._light.name+"KernelBlurX",new r.d(1,0),this.blurKernel,1,null,l.a.BILINEAR_SAMPLINGMODE,t,!1,this._textureType),this._kernelBlurXPostprocess.width=i,this._kernelBlurXPostprocess.height=i,this._kernelBlurXPostprocess.onApplyObservable.add(function(t){t.setTexture("textureSampler",e._shadowMap)}),this._kernelBlurYPostprocess=new M(this._light.name+"KernelBlurY",new r.d(0,1),this.blurKernel,1,null,l.a.BILINEAR_SAMPLINGMODE,t,!1,this._textureType),this._kernelBlurXPostprocess.autoClear=!1,this._kernelBlurYPostprocess.autoClear=!1,0===this._textureType&&(this._kernelBlurXPostprocess.packedFloat=!0,this._kernelBlurYPostprocess.packedFloat=!0),this._blurPostProcesses=[this._kernelBlurXPostprocess,this._kernelBlurYPostprocess]):(this._boxBlurPostprocess=new u.a(this._light.name+"DepthBoxBlur","depthBoxBlur",["screenSize","boxOffset"],[],1,null,l.a.BILINEAR_SAMPLINGMODE,t,!1,"#define OFFSET "+this._blurBoxOffset,this._textureType),this._boxBlurPostprocess.onApplyObservable.add(function(t){t.setFloat2("screenSize",i,i),t.setTexture("textureSampler",e._shadowMap)}),this._boxBlurPostprocess.autoClear=!1,this._blurPostProcesses=[this._boxBlurPostprocess])},e.prototype._renderForShadowMap=function(e,t,i,n){var r,o=this._scene.getEngine(),s=o.getColorWrite();if(n.length){for(o.setColorWrite(!1),r=0;r<n.length;r++)this._renderSubMeshForShadowMap(n.data[r]);o.setColorWrite(s)}for(r=0;r<e.length;r++)this._renderSubMeshForShadowMap(e.data[r]);for(r=0;r<t.length;r++)this._renderSubMeshForShadowMap(t.data[r]);if(this._transparencyShadow)for(r=0;r<i.length;r++)this._renderSubMeshForShadowMap(i.data[r],!0);else for(r=0;r<i.length;r++)i.data[r].getEffectiveMesh()._internalAbstractMeshDataInfo._isActiveIntermediate=!1},e.prototype._bindCustomEffectForRenderSubMeshForShadowMap=function(e,t,i,n){var r,o,s,a,c,l;t.setMatrix(null!==(r=null===i||void 0===i?void 0:i.viewProjection)&&void 0!==r?r:"viewProjection",this.getTransformMatrix()),t.setMatrix(null!==(o=null===i||void 0===i?void 0:i.view)&&void 0!==o?o:"view",this._viewMatrix),t.setMatrix(null!==(s=null===i||void 0===i?void 0:i.projection)&&void 0!==s?s:"projection",this._projectionMatrix);var _=n.getWorldMatrix();t.setMatrix(null!==(a=null===i||void 0===i?void 0:i.world)&&void 0!==a?a:"world",_),_.multiplyToRef(this.getTransformMatrix(),L),t.setMatrix(null!==(c=null===i||void 0===i?void 0:i.worldViewProjection)&&void 0!==c?c:"worldViewProjection",L),_.multiplyToRef(this._viewMatrix,F),t.setMatrix(null!==(l=null===i||void 0===i?void 0:i.worldView)&&void 0!==l?l:"worldView",F)},e.prototype._renderSubMeshForShadowMap=function(e,t){var i,n;void 0===t&&(t=!1);var r=e.getRenderingMesh(),o=e.getEffectiveMesh(),s=this._scene,l=s.getEngine(),_=e.getMaterial();if(o._internalAbstractMeshDataInfo._isActiveIntermediate=!1,_&&0!==e.verticesCount&&e._renderId!==s.getRenderId()){l.setState(_.backFaceCulling);var u=r._getInstancesRenderList(e._id,!!e.getReplacementMesh());if(!u.mustReturn){var f=l.getCaps().instancedArrays&&(null!==u.visibleInstances[e._id]&&void 0!==u.visibleInstances[e._id]||r.hasThinInstances);if(!this.customAllowRendering||this.customAllowRendering(e))if(this.isReady(e,f,t)){e._renderId=s.getRenderId();var d=null===(i=r.material)||void 0===i?void 0:i.shadowDepthWrapper,h=null!==(n=null===d||void 0===d?void 0:d.getEffect(e,this))&&void 0!==n?n:this._effect;if(l.enableEffect(h),r._bind(e,h,_.fillMode),this.getTransformMatrix(),h.setFloat3("biasAndScaleSM",this.bias,this.normalBias,this.depthScale),this.getLight().getTypeID()===a.a.LIGHTTYPEID_DIRECTIONALLIGHT?h.setVector3("lightDataSM",this._cachedDirection):h.setVector3("lightDataSM",this._cachedPosition),s.activeCamera&&h.setFloat2("depthValuesSM",this.getLight().getDepthMinZ(s.activeCamera),this.getLight().getDepthMinZ(s.activeCamera)+this.getLight().getDepthMaxZ(s.activeCamera)),t&&this.enableSoftTransparentShadow&&h.setFloat("softTransparentShadowSM",o.visibility),d)e._effectOverride=h,d.standalone?d.baseMaterial.bindForSubMesh(o.getWorldMatrix(),r,e):_.bindForSubMesh(o.getWorldMatrix(),r,e),e._effectOverride=null;else{if(h.setMatrix("viewProjection",this.getTransformMatrix()),_&&_.needAlphaTesting()){var p=_.getAlphaTestTexture();p&&(h.setTexture("diffuseSampler",p),h.setMatrix("diffuseMatrix",p.getTextureMatrix()||this._defaultTextureMatrix))}if(r.useBones&&r.computeBonesUsingShaders&&r.skeleton){var b=r.skeleton;if(b.isUsingTextureForMatrices){var m=b.getTransformMatrixTexture(r);if(!m)return;h.setTexture("boneSampler",m),h.setFloat("boneTextureWidth",4*(b.bones.length+1))}else h.setMatrices("mBones",b.getTransformMatrices(r))}c.a.BindMorphTargetParameters(r,h),c.a.BindClipPlane(h,s)}this._bindCustomEffectForRenderSubMeshForShadowMap(e,h,null===d||void 0===d?void 0:d._matriceNames,o),this.forceBackFacesOnly&&l.setState(!0,0,!1,!0),this.onBeforeShadowMapRenderMeshObservable.notifyObservers(r),this.onBeforeShadowMapRenderObservable.notifyObservers(h),r._processRendering(o,e,h,_.fillMode,u,f,function(e,t){return h.setMatrix("world",t)}),this.forceBackFacesOnly&&l.setState(!0,0,!1,!1),this.onAfterShadowMapRenderObservable.notifyObservers(h),this.onAfterShadowMapRenderMeshObservable.notifyObservers(r)}else this._shadowMap&&this._shadowMap.resetRefreshCounter()}}},e.prototype._applyFilterValues=function(){this._shadowMap&&(this.filter===e.FILTER_NONE||this.filter===e.FILTER_PCSS?this._shadowMap.updateSamplingMode(l.a.NEAREST_SAMPLINGMODE):this._shadowMap.updateSamplingMode(l.a.BILINEAR_SAMPLINGMODE))},e.prototype.forceCompilation=function(e,t){var i=this,r=Object(n.a)({useInstances:!1},t),o=this.getShadowMap();if(o){var s=o.renderList;if(s){for(var a=new Array,c=0,l=s;c<l.length;c++){var _=l[c];a.push.apply(a,_.subMeshes)}if(0!==a.length){var u=0;!function t(){var n,o;if(i._scene&&i._scene.getEngine()){for(;i.isReady(a[u],r.useInstances,null!==(o=null===(n=a[u].getMaterial())||void 0===n?void 0:n.needAlphaBlendingForMesh(a[u].getMesh()))&&void 0!==o&&o);)if(++u>=a.length)return void(e&&e(i));setTimeout(t,16)}}()}else e&&e(this)}else e&&e(this)}else e&&e(this)},e.prototype.forceCompilationAsync=function(e){var t=this;return new Promise(function(i){t.forceCompilation(function(){i()},e)})},e.prototype._isReadyCustomDefines=function(e,t,i){},e.prototype._prepareShadowDefines=function(e,t,i,n){i.push("#define SM_FLOAT "+(0!==this._textureType?"1":"0")),i.push("#define SM_ESM "+(this.useExponentialShadowMap||this.useBlurExponentialShadowMap?"1":"0")),i.push("#define SM_DEPTHTEXTURE "+(this.usePercentageCloserFiltering||this.useContactHardeningShadow?"1":"0"));var r=e.getMesh();return i.push("#define SM_NORMALBIAS "+(this.normalBias&&r.isVerticesDataPresent(s.b.NormalKind)?"1":"0")),i.push("#define SM_DIRECTIONINLIGHTDATA "+(this.getLight().getTypeID()===a.a.LIGHTTYPEID_DIRECTIONALLIGHT?"1":"0")),i.push("#define SM_USEDISTANCE "+(this._light.needCube()?"1":"0")),i.push("#define SM_SOFTTRANSPARENTSHADOW "+(this.enableSoftTransparentShadow&&n?"1":"0")),this._isReadyCustomDefines(i,e,t),i},e.prototype.isReady=function(e,t,i){var n=e.getMaterial(),r=null===n||void 0===n?void 0:n.shadowDepthWrapper,o=[];if(this._prepareShadowDefines(e,t,o,i),r){if(!r.isReadyForSubMesh(e,o,this,t))return!1}else{var a=[s.b.PositionKind],l=e.getMesh();if(this.normalBias&&l.isVerticesDataPresent(s.b.NormalKind)&&(a.push(s.b.NormalKind),o.push("#define NORMAL"),l.nonUniformScaling&&o.push("#define NONUNIFORMSCALING")),n&&n.needAlphaTesting()){var _=n.getAlphaTestTexture();if(_){if(!_.isReady())return!1;o.push("#define ALPHATEST"),l.isVerticesDataPresent(s.b.UVKind)&&(a.push(s.b.UVKind),o.push("#define UV1")),l.isVerticesDataPresent(s.b.UV2Kind)&&1===_.coordinatesIndex&&(a.push(s.b.UV2Kind),o.push("#define UV2"))}}var u=new D.a;if(l.useBones&&l.computeBonesUsingShaders&&l.skeleton){a.push(s.b.MatricesIndicesKind),a.push(s.b.MatricesWeightsKind),l.numBoneInfluencers>4&&(a.push(s.b.MatricesIndicesExtraKind),a.push(s.b.MatricesWeightsExtraKind));var f=l.skeleton;o.push("#define NUM_BONE_INFLUENCERS "+l.numBoneInfluencers),l.numBoneInfluencers>0&&u.addCPUSkinningFallback(0,l),f.isUsingTextureForMatrices?o.push("#define BONETEXTURE"):o.push("#define BonesPerMesh "+(f.bones.length+1))}else o.push("#define NUM_BONE_INFLUENCERS 0");var d=l.morphTargetManager,h=0;d&&d.numInfluencers>0&&(o.push("#define MORPHTARGETS"),h=d.numInfluencers,o.push("#define NUM_MORPH_INFLUENCERS "+h),c.a.PrepareAttributesForMorphTargetsInfluencers(a,l,h));var p=this._scene;if(p.clipPlane&&o.push("#define CLIPPLANE"),p.clipPlane2&&o.push("#define CLIPPLANE2"),p.clipPlane3&&o.push("#define CLIPPLANE3"),p.clipPlane4&&o.push("#define CLIPPLANE4"),p.clipPlane5&&o.push("#define CLIPPLANE5"),p.clipPlane6&&o.push("#define CLIPPLANE6"),t&&(o.push("#define INSTANCES"),c.a.PushAttributesForInstances(a),e.getRenderingMesh().hasThinInstances&&o.push("#define THIN_INSTANCES")),this.customShaderOptions&&this.customShaderOptions.defines)for(var b=0,m=this.customShaderOptions.defines;b<m.length;b++){var A=m[b];-1===o.indexOf(A)&&o.push(A)}var g=o.join("\n");if(this._cachedDefines!==g){this._cachedDefines=g;var y="shadowMap",v=["world","mBones","viewProjection","diffuseMatrix","lightDataSM","depthValuesSM","biasAndScaleSM","morphTargetInfluences","boneTextureWidth","vClipPlane","vClipPlane2","vClipPlane3","vClipPlane4","vClipPlane5","vClipPlane6","softTransparentShadowSM"],C=["diffuseSampler","boneSampler"];if(this.customShaderOptions){if(y=this.customShaderOptions.shaderName,this.customShaderOptions.attributes)for(var E=0,S=this.customShaderOptions.attributes;E<S.length;E++){var T=S[E];-1===a.indexOf(T)&&a.push(T)}if(this.customShaderOptions.uniforms)for(var R=0,M=this.customShaderOptions.uniforms;R<M.length;R++){var O=M[R];-1===v.indexOf(O)&&v.push(O)}if(this.customShaderOptions.samplers)for(var I=0,x=this.customShaderOptions.samplers;I<x.length;I++){var P=x[I];-1===C.indexOf(P)&&C.push(P)}}this._effect=this._scene.getEngine().createEffect(y,a,v,C,g,u,void 0,void 0,{maxSimultaneousMorphTargets:h})}if(!this._effect.isReady())return!1}return(this.useBlurExponentialShadowMap||this.useBlurCloseExponentialShadowMap)&&(this._blurPostProcesses&&this._blurPostProcesses.length||this._initializeBlurRTTAndPostProcesses()),!(this._kernelBlurXPostprocess&&!this._kernelBlurXPostprocess.isReady())&&(!(this._kernelBlurYPostprocess&&!this._kernelBlurYPostprocess.isReady())&&!(this._boxBlurPostprocess&&!this._boxBlurPostprocess.isReady()))},e.prototype.prepareDefines=function(t,i){var n=this._scene,r=this._light;n.shadowsEnabled&&r.shadowEnabled&&(t["SHADOW"+i]=!0,this.useContactHardeningShadow?(t["SHADOWPCSS"+i]=!0,this._filteringQuality===e.QUALITY_LOW?t["SHADOWLOWQUALITY"+i]=!0:this._filteringQuality===e.QUALITY_MEDIUM&&(t["SHADOWMEDIUMQUALITY"+i]=!0)):this.usePercentageCloserFiltering?(t["SHADOWPCF"+i]=!0,this._filteringQuality===e.QUALITY_LOW?t["SHADOWLOWQUALITY"+i]=!0:this._filteringQuality===e.QUALITY_MEDIUM&&(t["SHADOWMEDIUMQUALITY"+i]=!0)):this.usePoissonSampling?t["SHADOWPOISSON"+i]=!0:this.useExponentialShadowMap||this.useBlurExponentialShadowMap?t["SHADOWESM"+i]=!0:(this.useCloseExponentialShadowMap||this.useBlurCloseExponentialShadowMap)&&(t["SHADOWCLOSEESM"+i]=!0),r.needCube()&&(t["SHADOWCUBE"+i]=!0))},e.prototype.bindShadowLight=function(t,i){var n=this._light,r=this._scene;if(r.shadowsEnabled&&n.shadowEnabled){var o=r.activeCamera;if(o){var s=this.getShadowMap();s&&(n.needCube()||i.setMatrix("lightMatrix"+t,this.getTransformMatrix()),this._filter===e.FILTER_PCF?(i.setDepthStencilTexture("shadowSampler"+t,this.getShadowMapForRendering()),n._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),s.getSize().width,1/s.getSize().width,this.frustumEdgeFalloff,t)):this._filter===e.FILTER_PCSS?(i.setDepthStencilTexture("shadowSampler"+t,this.getShadowMapForRendering()),i.setTexture("depthSampler"+t,this.getShadowMapForRendering()),n._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),1/s.getSize().width,this._contactHardeningLightSizeUVRatio*s.getSize().width,this.frustumEdgeFalloff,t)):(i.setTexture("shadowSampler"+t,this.getShadowMapForRendering()),n._uniformBuffer.updateFloat4("shadowsInfo",this.getDarkness(),this.blurScale/s.getSize().width,this.depthScale,this.frustumEdgeFalloff,t)),n._uniformBuffer.updateFloat2("depthValues",this.getLight().getDepthMinZ(o),this.getLight().getDepthMinZ(o)+this.getLight().getDepthMaxZ(o),t))}}},e.prototype.getTransformMatrix=function(){var e=this._scene;if(this._currentRenderID===e.getRenderId()&&this._currentFaceIndexCache===this._currentFaceIndex)return this._transformMatrix;this._currentRenderID=e.getRenderId(),this._currentFaceIndexCache=this._currentFaceIndex;var t=this._light.position;if(this._light.computeTransformedInformation()&&(t=this._light.transformedPosition),r.e.NormalizeToRef(this._light.getShadowDirection(this._currentFaceIndex),this._lightDirection),1===Math.abs(r.e.Dot(this._lightDirection,r.e.Up()))&&(this._lightDirection.z=1e-13),this._light.needProjectionMatrixCompute()||!this._cachedPosition||!this._cachedDirection||!t.equals(this._cachedPosition)||!this._lightDirection.equals(this._cachedDirection)){this._cachedPosition.copyFrom(t),this._cachedDirection.copyFrom(this._lightDirection),r.a.LookAtLHToRef(t,t.add(this._lightDirection),r.e.Up(),this._viewMatrix);var i=this.getShadowMap();if(i){var n=i.renderList;n&&this._light.setShadowProjectionMatrix(this._projectionMatrix,this._viewMatrix,n)}this._viewMatrix.multiplyToRef(this._projectionMatrix,this._transformMatrix)}return this._transformMatrix},e.prototype.recreateShadowMap=function(){var e=this._shadowMap;if(e){var t=e.renderList;this._disposeRTTandPostProcesses(),this._initializeGenerator(),this.filter=this.filter,this._applyFilterValues(),this._shadowMap.renderList=t}},e.prototype._disposeBlurPostProcesses=function(){this._shadowMap2&&(this._shadowMap2.dispose(),this._shadowMap2=null),this._boxBlurPostprocess&&(this._boxBlurPostprocess.dispose(),this._boxBlurPostprocess=null),this._kernelBlurXPostprocess&&(this._kernelBlurXPostprocess.dispose(),this._kernelBlurXPostprocess=null),this._kernelBlurYPostprocess&&(this._kernelBlurYPostprocess.dispose(),this._kernelBlurYPostprocess=null),this._blurPostProcesses=[]},e.prototype._disposeRTTandPostProcesses=function(){this._shadowMap&&(this._shadowMap.dispose(),this._shadowMap=null),this._disposeBlurPostProcesses()},e.prototype.dispose=function(){this._disposeRTTandPostProcesses(),this._light&&(this._light._shadowGenerator=null,this._light._markMeshesAsLightDirty()),this.onBeforeShadowMapRenderMeshObservable.clear(),this.onBeforeShadowMapRenderObservable.clear(),this.onAfterShadowMapRenderMeshObservable.clear(),this.onAfterShadowMapRenderObservable.clear()},e.prototype.serialize=function(){var e={},t=this.getShadowMap();if(!t)return e;if(e.className=this.getClassName(),e.lightId=this._light.id,e.id=this._light.id,e.mapSize=t.getRenderSize(),e.forceBackFacesOnly=this.forceBackFacesOnly,e.darkness=this.getDarkness(),e.transparencyShadow=this._transparencyShadow,e.frustumEdgeFalloff=this.frustumEdgeFalloff,e.bias=this.bias,e.normalBias=this.normalBias,e.usePercentageCloserFiltering=this.usePercentageCloserFiltering,e.useContactHardeningShadow=this.useContactHardeningShadow,e.contactHardeningLightSizeUVRatio=this.contactHardeningLightSizeUVRatio,e.filteringQuality=this.filteringQuality,e.useExponentialShadowMap=this.useExponentialShadowMap,e.useBlurExponentialShadowMap=this.useBlurExponentialShadowMap,e.useCloseExponentialShadowMap=this.useBlurExponentialShadowMap,e.useBlurCloseExponentialShadowMap=this.useBlurExponentialShadowMap,e.usePoissonSampling=this.usePoissonSampling,e.depthScale=this.depthScale,e.blurBoxOffset=this.blurBoxOffset,e.blurKernel=this.blurKernel,e.blurScale=this.blurScale,e.useKernelBlur=this.useKernelBlur,e.renderList=[],t.renderList)for(var i=0;i<t.renderList.length;i++){var n=t.renderList[i];e.renderList.push(n.id)}return e},e.Parse=function(t,i,n){for(var r=i.getLightByID(t.lightId),o=n?n(t.mapSize,r):new e(t.mapSize,r),s=o.getShadowMap(),a=0;a<t.renderList.length;a++){i.getMeshesByID(t.renderList[a]).forEach(function(e){s&&(s.renderList||(s.renderList=[]),s.renderList.push(e))})}return void 0!==t.id&&(o.id=t.id),o.forceBackFacesOnly=!!t.forceBackFacesOnly,void 0!==t.darkness&&o.setDarkness(t.darkness),t.transparencyShadow&&o.setTransparencyShadow(!0),void 0!==t.frustumEdgeFalloff&&(o.frustumEdgeFalloff=t.frustumEdgeFalloff),void 0!==t.bias&&(o.bias=t.bias),void 0!==t.normalBias&&(o.normalBias=t.normalBias),t.usePercentageCloserFiltering?o.usePercentageCloserFiltering=!0:t.useContactHardeningShadow?o.useContactHardeningShadow=!0:t.usePoissonSampling?o.usePoissonSampling=!0:t.useExponentialShadowMap?o.useExponentialShadowMap=!0:t.useBlurExponentialShadowMap?o.useBlurExponentialShadowMap=!0:t.useCloseExponentialShadowMap?o.useCloseExponentialShadowMap=!0:t.useBlurCloseExponentialShadowMap?o.useBlurCloseExponentialShadowMap=!0:t.useVarianceShadowMap?o.useExponentialShadowMap=!0:t.useBlurVarianceShadowMap&&(o.useBlurExponentialShadowMap=!0),void 0!==t.contactHardeningLightSizeUVRatio&&(o.contactHardeningLightSizeUVRatio=t.contactHardeningLightSizeUVRatio),void 0!==t.filteringQuality&&(o.filteringQuality=t.filteringQuality),t.depthScale&&(o.depthScale=t.depthScale),t.blurScale&&(o.blurScale=t.blurScale),t.blurBoxOffset&&(o.blurBoxOffset=t.blurBoxOffset),t.useKernelBlur&&(o.useKernelBlur=t.useKernelBlur),t.blurKernel&&(o.blurKernel=t.blurKernel),o},e.CLASSNAME="ShadowGenerator",e.FILTER_NONE=0,e.FILTER_EXPONENTIALSHADOWMAP=1,e.FILTER_POISSONSAMPLING=2,e.FILTER_BLUREXPONENTIALSHADOWMAP=3,e.FILTER_CLOSEEXPONENTIALSHADOWMAP=4,e.FILTER_BLURCLOSEEXPONENTIALSHADOWMAP=5,e.FILTER_PCF=6,e.FILTER_PCSS=7,e.QUALITY_HIGH=0,e.QUALITY_MEDIUM=1,e.QUALITY_LOW=2,e._SceneComponentInitialization=function(e){throw P.a.WarnImport("ShadowGeneratorSceneComponent")},e}()},882:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(718),r=i(30),o=function(){function e(e,t,i,r,o){void 0===i&&(i=null),void 0===r&&(r=null),void 0===o&&(o=null),this.index=e,this._opaqueSubMeshes=new n.a(256),this._transparentSubMeshes=new n.a(256),this._alphaTestSubMeshes=new n.a(256),this._depthOnlySubMeshes=new n.a(256),this._particleSystems=new n.a(256),this._spriteManagers=new n.a(256),this._edgesRenderers=new n.b(16),this._scene=t,this.opaqueSortCompareFn=i,this.alphaTestSortCompareFn=r,this.transparentSortCompareFn=o}return Object.defineProperty(e.prototype,"opaqueSortCompareFn",{set:function(t){this._opaqueSortCompareFn=t,this._renderOpaque=t?this.renderOpaqueSorted:e.renderUnsorted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"alphaTestSortCompareFn",{set:function(t){this._alphaTestSortCompareFn=t,this._renderAlphaTest=t?this.renderAlphaTestSorted:e.renderUnsorted},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"transparentSortCompareFn",{set:function(t){this._transparentSortCompareFn=t||e.defaultTransparentSortCompare,this._renderTransparent=this.renderTransparentSorted},enumerable:!1,configurable:!0}),e.prototype.render=function(e,t,i,n){if(e)e(this._opaqueSubMeshes,this._alphaTestSubMeshes,this._transparentSubMeshes,this._depthOnlySubMeshes);else{var r=this._scene.getEngine();0!==this._depthOnlySubMeshes.length&&(r.setColorWrite(!1),this._renderAlphaTest(this._depthOnlySubMeshes),r.setColorWrite(!0)),0!==this._opaqueSubMeshes.length&&this._renderOpaque(this._opaqueSubMeshes),0!==this._alphaTestSubMeshes.length&&this._renderAlphaTest(this._alphaTestSubMeshes);var o=r.getStencilBuffer();if(r.setStencilBuffer(!1),t&&this._renderSprites(),i&&this._renderParticles(n),this.onBeforeTransparentRendering&&this.onBeforeTransparentRendering(),0!==this._transparentSubMeshes.length&&(r.setStencilBuffer(o),this._renderTransparent(this._transparentSubMeshes),r.setAlphaMode(0)),r.setStencilBuffer(!1),this._edgesRenderers.length){for(var s=0;s<this._edgesRenderers.length;s++)this._edgesRenderers.data[s].render();r.setAlphaMode(0)}r.setStencilBuffer(o)}},e.prototype.renderOpaqueSorted=function(t){return e.renderSorted(t,this._opaqueSortCompareFn,this._scene.activeCamera,!1)},e.prototype.renderAlphaTestSorted=function(t){return e.renderSorted(t,this._alphaTestSortCompareFn,this._scene.activeCamera,!1)},e.prototype.renderTransparentSorted=function(t){return e.renderSorted(t,this._transparentSortCompareFn,this._scene.activeCamera,!0)},e.renderSorted=function(t,i,n,o){for(var s,a=0,c=n?n.globalPosition:e._zeroVector;a<t.length;a++)(s=t.data[a])._alphaIndex=s.getMesh().alphaIndex,s._distanceToCamera=r.e.Distance(s.getBoundingInfo().boundingSphere.centerWorld,c);var l=t.data.slice(0,t.length);for(i&&l.sort(i),a=0;a<l.length;a++){if(s=l[a],o){var _=s.getMaterial();if(_&&_.needDepthPrePass){var u=_.getScene().getEngine();u.setColorWrite(!1),u.setAlphaMode(0),s.render(!1),u.setColorWrite(!0)}}s.render(o)}},e.renderUnsorted=function(e){for(var t=0;t<e.length;t++){e.data[t].render(!1)}},e.defaultTransparentSortCompare=function(t,i){return t._alphaIndex>i._alphaIndex?1:t._alphaIndex<i._alphaIndex?-1:e.backToFrontSortCompare(t,i)},e.backToFrontSortCompare=function(e,t){return e._distanceToCamera<t._distanceToCamera?1:e._distanceToCamera>t._distanceToCamera?-1:0},e.frontToBackSortCompare=function(e,t){return e._distanceToCamera<t._distanceToCamera?-1:e._distanceToCamera>t._distanceToCamera?1:0},e.prototype.prepare=function(){this._opaqueSubMeshes.reset(),this._transparentSubMeshes.reset(),this._alphaTestSubMeshes.reset(),this._depthOnlySubMeshes.reset(),this._particleSystems.reset(),this._spriteManagers.reset(),this._edgesRenderers.reset()},e.prototype.dispose=function(){this._opaqueSubMeshes.dispose(),this._transparentSubMeshes.dispose(),this._alphaTestSubMeshes.dispose(),this._depthOnlySubMeshes.dispose(),this._particleSystems.dispose(),this._spriteManagers.dispose(),this._edgesRenderers.dispose()},e.prototype.dispatch=function(e,t,i){void 0===t&&(t=e.getMesh()),void 0===i&&(i=e.getMaterial()),null!==i&&void 0!==i&&(i.needAlphaBlendingForMesh(t)?this._transparentSubMeshes.push(e):i.needAlphaTesting()?(i.needDepthPrePass&&this._depthOnlySubMeshes.push(e),this._alphaTestSubMeshes.push(e)):(i.needDepthPrePass&&this._depthOnlySubMeshes.push(e),this._opaqueSubMeshes.push(e)),t._renderingGroup=this,t._edgesRenderer&&t._edgesRenderer.isEnabled&&this._edgesRenderers.pushNoDuplicate(t._edgesRenderer))},e.prototype.dispatchSprites=function(e){this._spriteManagers.push(e)},e.prototype.dispatchParticles=function(e){this._particleSystems.push(e)},e.prototype._renderParticles=function(e){if(0!==this._particleSystems.length){var t=this._scene.activeCamera;this._scene.onBeforeParticlesRenderingObservable.notifyObservers(this._scene);for(var i=0;i<this._particleSystems.length;i++){var n=this._particleSystems.data[i];if(0!==(t&&t.layerMask&n.layerMask)){var r=n.emitter;r.position&&e&&-1===e.indexOf(r)||this._scene._activeParticles.addCount(n.render(),!1)}}this._scene.onAfterParticlesRenderingObservable.notifyObservers(this._scene)}},e.prototype._renderSprites=function(){if(this._scene.spritesEnabled&&0!==this._spriteManagers.length){var e=this._scene.activeCamera;this._scene.onBeforeSpritesRenderingObservable.notifyObservers(this._scene);for(var t=0;t<this._spriteManagers.length;t++){var i=this._spriteManagers.data[t];0!==(e&&e.layerMask&i.layerMask)&&i.render()}this._scene.onAfterSpritesRenderingObservable.notifyObservers(this._scene)}},e._zeroVector=r.e.Zero(),e}(),s=function(){},a=function(){function e(t){this._useSceneAutoClearSetup=!1,this._renderingGroups=new Array,this._autoClearDepthStencil={},this._customOpaqueSortCompareFn={},this._customAlphaTestSortCompareFn={},this._customTransparentSortCompareFn={},this._renderingGroupInfo=new s,this._scene=t;for(var i=e.MIN_RENDERINGGROUPS;i<e.MAX_RENDERINGGROUPS;i++)this._autoClearDepthStencil[i]={autoClear:!0,depth:!0,stencil:!0}}return e.prototype._clearDepthStencilBuffer=function(e,t){void 0===e&&(e=!0),void 0===t&&(t=!0),this._depthStencilBufferAlreadyCleaned||(this._scene.getEngine().clear(null,!1,e,t),this._depthStencilBufferAlreadyCleaned=!0)},e.prototype.render=function(t,i,n,r){var o=this._renderingGroupInfo;if(o.scene=this._scene,o.camera=this._scene.activeCamera,this._scene.spriteManagers&&r)for(var s=0;s<this._scene.spriteManagers.length;s++){var a=this._scene.spriteManagers[s];this.dispatchSprites(a)}for(s=e.MIN_RENDERINGGROUPS;s<e.MAX_RENDERINGGROUPS;s++){this._depthStencilBufferAlreadyCleaned=s===e.MIN_RENDERINGGROUPS;var c=this._renderingGroups[s];if(c){var l=Math.pow(2,s);if(o.renderingGroupId=s,this._scene.onBeforeRenderingGroupObservable.notifyObservers(o,l),e.AUTOCLEAR){var _=this._useSceneAutoClearSetup?this._scene.getAutoClearDepthStencilSetup(s):this._autoClearDepthStencil[s];_&&_.autoClear&&this._clearDepthStencilBuffer(_.depth,_.stencil)}for(var u=0,f=this._scene._beforeRenderingGroupDrawStage;u<f.length;u++){f[u].action(s)}c.render(t,r,n,i);for(var d=0,h=this._scene._afterRenderingGroupDrawStage;d<h.length;d++){h[d].action(s)}this._scene.onAfterRenderingGroupObservable.notifyObservers(o,l)}}},e.prototype.reset=function(){for(var t=e.MIN_RENDERINGGROUPS;t<e.MAX_RENDERINGGROUPS;t++){var i=this._renderingGroups[t];i&&i.prepare()}},e.prototype.dispose=function(){this.freeRenderingGroups(),this._renderingGroups.length=0,this._renderingGroupInfo=null},e.prototype.freeRenderingGroups=function(){for(var t=e.MIN_RENDERINGGROUPS;t<e.MAX_RENDERINGGROUPS;t++){var i=this._renderingGroups[t];i&&i.dispose()}},e.prototype._prepareRenderingGroup=function(e){void 0===this._renderingGroups[e]&&(this._renderingGroups[e]=new o(e,this._scene,this._customOpaqueSortCompareFn[e],this._customAlphaTestSortCompareFn[e],this._customTransparentSortCompareFn[e]))},e.prototype.dispatchSprites=function(e){var t=e.renderingGroupId||0;this._prepareRenderingGroup(t),this._renderingGroups[t].dispatchSprites(e)},e.prototype.dispatchParticles=function(e){var t=e.renderingGroupId||0;this._prepareRenderingGroup(t),this._renderingGroups[t].dispatchParticles(e)},e.prototype.dispatch=function(e,t,i){void 0===t&&(t=e.getMesh());var n=t.renderingGroupId||0;this._prepareRenderingGroup(n),this._renderingGroups[n].dispatch(e,t,i)},e.prototype.setRenderingOrder=function(e,t,i,n){if(void 0===t&&(t=null),void 0===i&&(i=null),void 0===n&&(n=null),this._customOpaqueSortCompareFn[e]=t,this._customAlphaTestSortCompareFn[e]=i,this._customTransparentSortCompareFn[e]=n,this._renderingGroups[e]){var r=this._renderingGroups[e];r.opaqueSortCompareFn=this._customOpaqueSortCompareFn[e],r.alphaTestSortCompareFn=this._customAlphaTestSortCompareFn[e],r.transparentSortCompareFn=this._customTransparentSortCompareFn[e]}},e.prototype.setRenderingAutoClearDepthStencil=function(e,t,i,n){void 0===i&&(i=!0),void 0===n&&(n=!0),this._autoClearDepthStencil[e]={autoClear:t,depth:i,stencil:n}},e.prototype.getAutoClearDepthStencilSetup=function(e){return this._autoClearDepthStencil[e]},e.MAX_RENDERINGGROUPS=4,e.MIN_RENDERINGGROUPS=0,e.AUTOCLEAR=!0,e}()},883:function(e,t,i){"use strict";i.d(t,"a",function(){return s});var n=i(649),r=i(685),o=i(884);r.a.prototype.createUniformBuffer=function(e){var t=this._gl.createBuffer();if(!t)throw new Error("Unable to create uniform buffer");var i=new o.a(t);return this.bindUniformBuffer(i),e instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,e,this._gl.STATIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(e),this._gl.STATIC_DRAW),this.bindUniformBuffer(null),i.references=1,i},r.a.prototype.createDynamicUniformBuffer=function(e){var t=this._gl.createBuffer();if(!t)throw new Error("Unable to create dynamic uniform buffer");var i=new o.a(t);return this.bindUniformBuffer(i),e instanceof Float32Array?this._gl.bufferData(this._gl.UNIFORM_BUFFER,e,this._gl.DYNAMIC_DRAW):this._gl.bufferData(this._gl.UNIFORM_BUFFER,new Float32Array(e),this._gl.DYNAMIC_DRAW),this.bindUniformBuffer(null),i.references=1,i},r.a.prototype.updateUniformBuffer=function(e,t,i,n){this.bindUniformBuffer(e),void 0===i&&(i=0),void 0===n?t instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,i,t):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,i,new Float32Array(t)):t instanceof Float32Array?this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,t.subarray(i,i+n)):this._gl.bufferSubData(this._gl.UNIFORM_BUFFER,0,new Float32Array(t).subarray(i,i+n)),this.bindUniformBuffer(null)},r.a.prototype.bindUniformBuffer=function(e){this._gl.bindBuffer(this._gl.UNIFORM_BUFFER,e?e.underlyingResource:null)},r.a.prototype.bindUniformBufferBase=function(e,t){this._gl.bindBufferBase(this._gl.UNIFORM_BUFFER,t,e?e.underlyingResource:null)},r.a.prototype.bindUniformBlock=function(e,t,i){var n=e.program,r=this._gl.getUniformBlockIndex(n,t);this._gl.uniformBlockBinding(n,r,i)};var s=function(){function e(e,t,i){this._alreadyBound=!1,this._valueCache={},this._engine=e,this._noUBO=!e.supportsUniformBuffers,this._dynamic=i,this._data=t||[],this._uniformLocations={},this._uniformSizes={},this._uniformLocationPointer=0,this._needSync=!1,this._noUBO?(this.updateMatrix3x3=this._updateMatrix3x3ForEffect,this.updateMatrix2x2=this._updateMatrix2x2ForEffect,this.updateFloat=this._updateFloatForEffect,this.updateFloat2=this._updateFloat2ForEffect,this.updateFloat3=this._updateFloat3ForEffect,this.updateFloat4=this._updateFloat4ForEffect,this.updateMatrix=this._updateMatrixForEffect,this.updateVector3=this._updateVector3ForEffect,this.updateVector4=this._updateVector4ForEffect,this.updateColor3=this._updateColor3ForEffect,this.updateColor4=this._updateColor4ForEffect):(this._engine._uniformBuffers.push(this),this.updateMatrix3x3=this._updateMatrix3x3ForUniform,this.updateMatrix2x2=this._updateMatrix2x2ForUniform,this.updateFloat=this._updateFloatForUniform,this.updateFloat2=this._updateFloat2ForUniform,this.updateFloat3=this._updateFloat3ForUniform,this.updateFloat4=this._updateFloat4ForUniform,this.updateMatrix=this._updateMatrixForUniform,this.updateVector3=this._updateVector3ForUniform,this.updateVector4=this._updateVector4ForUniform,this.updateColor3=this._updateColor3ForUniform,this.updateColor4=this._updateColor4ForUniform)}return Object.defineProperty(e.prototype,"useUbo",{get:function(){return!this._noUBO},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isSync",{get:function(){return!this._needSync},enumerable:!1,configurable:!0}),e.prototype.isDynamic=function(){return void 0!==this._dynamic},e.prototype.getData=function(){return this._bufferData},e.prototype.getBuffer=function(){return this._buffer},e.prototype._fillAlignment=function(e){var t;if(t=e<=2?e:4,this._uniformLocationPointer%t!==0){var i=this._uniformLocationPointer;this._uniformLocationPointer+=t-this._uniformLocationPointer%t;for(var n=this._uniformLocationPointer-i,r=0;r<n;r++)this._data.push(0)}},e.prototype.addUniform=function(e,t){if(!this._noUBO&&void 0===this._uniformLocations[e]){var i;if(t instanceof Array)t=(i=t).length;else{i=[];for(var n=0;n<t;n++)i.push(0)}this._fillAlignment(t),this._uniformSizes[e]=t,this._uniformLocations[e]=this._uniformLocationPointer,this._uniformLocationPointer+=t;for(n=0;n<t;n++)this._data.push(i[n]);this._needSync=!0}},e.prototype.addMatrix=function(e,t){this.addUniform(e,Array.prototype.slice.call(t.toArray()))},e.prototype.addFloat2=function(e,t,i){var n=[t,i];this.addUniform(e,n)},e.prototype.addFloat3=function(e,t,i,n){var r=[t,i,n];this.addUniform(e,r)},e.prototype.addColor3=function(e,t){var i=new Array;t.toArray(i),this.addUniform(e,i)},e.prototype.addColor4=function(e,t,i){var n=new Array;t.toArray(n),n.push(i),this.addUniform(e,n)},e.prototype.addVector3=function(e,t){var i=new Array;t.toArray(i),this.addUniform(e,i)},e.prototype.addMatrix3x3=function(e){this.addUniform(e,12)},e.prototype.addMatrix2x2=function(e){this.addUniform(e,8)},e.prototype.create=function(){this._noUBO||this._buffer||(this._fillAlignment(4),this._bufferData=new Float32Array(this._data),this._rebuild(),this._needSync=!0)},e.prototype._rebuild=function(){!this._noUBO&&this._bufferData&&(this._dynamic?this._buffer=this._engine.createDynamicUniformBuffer(this._bufferData):this._buffer=this._engine.createUniformBuffer(this._bufferData))},e.prototype.update=function(){this._buffer?(this._dynamic||this._needSync)&&(this._engine.updateUniformBuffer(this._buffer,this._bufferData),this._needSync=!1):this.create()},e.prototype.updateUniform=function(e,t,i){var r=this._uniformLocations[e];if(void 0===r){if(this._buffer)return void n.a.Error("Cannot add an uniform after UBO has been created.");this.addUniform(e,i),r=this._uniformLocations[e]}if(this._buffer||this.create(),this._dynamic)for(s=0;s<i;s++)this._bufferData[r+s]=t[s];else{for(var o=!1,s=0;s<i;s++)16!==i&&this._bufferData[r+s]===t[s]||(o=!0,this._bufferData[r+s]=t[s]);this._needSync=this._needSync||o}},e.prototype._cacheMatrix=function(e,t){var i=this._valueCache[e],n=t.updateFlag;return(void 0===i||i!==n)&&(this._valueCache[e]=n,!0)},e.prototype._updateMatrix3x3ForUniform=function(t,i){for(var n=0;n<3;n++)e._tempBuffer[4*n]=i[3*n],e._tempBuffer[4*n+1]=i[3*n+1],e._tempBuffer[4*n+2]=i[3*n+2],e._tempBuffer[4*n+3]=0;this.updateUniform(t,e._tempBuffer,12)},e.prototype._updateMatrix3x3ForEffect=function(e,t){this._currentEffect.setMatrix3x3(e,t)},e.prototype._updateMatrix2x2ForEffect=function(e,t){this._currentEffect.setMatrix2x2(e,t)},e.prototype._updateMatrix2x2ForUniform=function(t,i){for(var n=0;n<2;n++)e._tempBuffer[4*n]=i[2*n],e._tempBuffer[4*n+1]=i[2*n+1],e._tempBuffer[4*n+2]=0,e._tempBuffer[4*n+3]=0;this.updateUniform(t,e._tempBuffer,8)},e.prototype._updateFloatForEffect=function(e,t){this._currentEffect.setFloat(e,t)},e.prototype._updateFloatForUniform=function(t,i){e._tempBuffer[0]=i,this.updateUniform(t,e._tempBuffer,1)},e.prototype._updateFloat2ForEffect=function(e,t,i,n){void 0===n&&(n=""),this._currentEffect.setFloat2(e+n,t,i)},e.prototype._updateFloat2ForUniform=function(t,i,n){e._tempBuffer[0]=i,e._tempBuffer[1]=n,this.updateUniform(t,e._tempBuffer,2)},e.prototype._updateFloat3ForEffect=function(e,t,i,n,r){void 0===r&&(r=""),this._currentEffect.setFloat3(e+r,t,i,n)},e.prototype._updateFloat3ForUniform=function(t,i,n,r){e._tempBuffer[0]=i,e._tempBuffer[1]=n,e._tempBuffer[2]=r,this.updateUniform(t,e._tempBuffer,3)},e.prototype._updateFloat4ForEffect=function(e,t,i,n,r,o){void 0===o&&(o=""),this._currentEffect.setFloat4(e+o,t,i,n,r)},e.prototype._updateFloat4ForUniform=function(t,i,n,r,o){e._tempBuffer[0]=i,e._tempBuffer[1]=n,e._tempBuffer[2]=r,e._tempBuffer[3]=o,this.updateUniform(t,e._tempBuffer,4)},e.prototype._updateMatrixForEffect=function(e,t){this._currentEffect.setMatrix(e,t)},e.prototype._updateMatrixForUniform=function(e,t){this._cacheMatrix(e,t)&&this.updateUniform(e,t.toArray(),16)},e.prototype._updateVector3ForEffect=function(e,t){this._currentEffect.setVector3(e,t)},e.prototype._updateVector3ForUniform=function(t,i){i.toArray(e._tempBuffer),this.updateUniform(t,e._tempBuffer,3)},e.prototype._updateVector4ForEffect=function(e,t){this._currentEffect.setVector4(e,t)},e.prototype._updateVector4ForUniform=function(t,i){i.toArray(e._tempBuffer),this.updateUniform(t,e._tempBuffer,4)},e.prototype._updateColor3ForEffect=function(e,t,i){void 0===i&&(i=""),this._currentEffect.setColor3(e+i,t)},e.prototype._updateColor3ForUniform=function(t,i){i.toArray(e._tempBuffer),this.updateUniform(t,e._tempBuffer,3)},e.prototype._updateColor4ForEffect=function(e,t,i,n){void 0===n&&(n=""),this._currentEffect.setColor4(e+n,t,i)},e.prototype._updateColor4ForUniform=function(t,i,n){i.toArray(e._tempBuffer),e._tempBuffer[3]=n,this.updateUniform(t,e._tempBuffer,4)},e.prototype.setTexture=function(e,t){this._currentEffect.setTexture(e,t)},e.prototype.updateUniformDirectly=function(e,t){this.updateUniform(e,t,t.length),this.update()},e.prototype.bindToEffect=function(e,t){this._currentEffect=e,!this._noUBO&&this._buffer&&(this._alreadyBound=!0,e.bindUniformBuffer(this._buffer,t))},e.prototype.dispose=function(){if(!this._noUBO){var e=this._engine._uniformBuffers,t=e.indexOf(this);-1!==t&&(e[t]=e[e.length-1],e.pop()),this._buffer&&this._engine._releaseBuffer(this._buffer)&&(this._buffer=null)}},e._MAX_UNIFORM_SIZE=256,e._tempBuffer=new Float32Array(e._MAX_UNIFORM_SIZE),e}()},884:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(644),r=function(e){function t(t){var i=e.call(this)||this;return i._buffer=t,i}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"underlyingResource",{get:function(){return this._buffer},enumerable:!1,configurable:!0}),t}(function(){function e(){this.references=0,this.capacity=0,this.is32Bits=!1}return Object.defineProperty(e.prototype,"underlyingResource",{get:function(){return null},enumerable:!1,configurable:!0}),e}())},885:function(e,t,i){"use strict";i.d(t,"a",function(){return _});var n=i(644),r=i(648),o=i(650),s=i(658),a=i(244),c=i(872),l=function(){function e(){this._dirty=!0,this._tempColor=new a.b(0,0,0,0),this._globalCurve=new a.b(0,0,0,0),this._highlightsCurve=new a.b(0,0,0,0),this._midtonesCurve=new a.b(0,0,0,0),this._shadowsCurve=new a.b(0,0,0,0),this._positiveCurve=new a.b(0,0,0,0),this._negativeCurve=new a.b(0,0,0,0),this._globalHue=30,this._globalDensity=0,this._globalSaturation=0,this._globalExposure=0,this._highlightsHue=30,this._highlightsDensity=0,this._highlightsSaturation=0,this._highlightsExposure=0,this._midtonesHue=30,this._midtonesDensity=0,this._midtonesSaturation=0,this._midtonesExposure=0,this._shadowsHue=30,this._shadowsDensity=0,this._shadowsSaturation=0,this._shadowsExposure=0}return Object.defineProperty(e.prototype,"globalHue",{get:function(){return this._globalHue},set:function(e){this._globalHue=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalDensity",{get:function(){return this._globalDensity},set:function(e){this._globalDensity=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalSaturation",{get:function(){return this._globalSaturation},set:function(e){this._globalSaturation=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"globalExposure",{get:function(){return this._globalExposure},set:function(e){this._globalExposure=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightsHue",{get:function(){return this._highlightsHue},set:function(e){this._highlightsHue=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightsDensity",{get:function(){return this._highlightsDensity},set:function(e){this._highlightsDensity=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightsSaturation",{get:function(){return this._highlightsSaturation},set:function(e){this._highlightsSaturation=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"highlightsExposure",{get:function(){return this._highlightsExposure},set:function(e){this._highlightsExposure=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"midtonesHue",{get:function(){return this._midtonesHue},set:function(e){this._midtonesHue=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"midtonesDensity",{get:function(){return this._midtonesDensity},set:function(e){this._midtonesDensity=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"midtonesSaturation",{get:function(){return this._midtonesSaturation},set:function(e){this._midtonesSaturation=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"midtonesExposure",{get:function(){return this._midtonesExposure},set:function(e){this._midtonesExposure=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowsHue",{get:function(){return this._shadowsHue},set:function(e){this._shadowsHue=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowsDensity",{get:function(){return this._shadowsDensity},set:function(e){this._shadowsDensity=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowsSaturation",{get:function(){return this._shadowsSaturation},set:function(e){this._shadowsSaturation=e,this._dirty=!0},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"shadowsExposure",{get:function(){return this._shadowsExposure},set:function(e){this._shadowsExposure=e,this._dirty=!0},enumerable:!1,configurable:!0}),e.prototype.getClassName=function(){return"ColorCurves"},e.Bind=function(e,t,i,n,r){void 0===i&&(i="vCameraColorCurvePositive"),void 0===n&&(n="vCameraColorCurveNeutral"),void 0===r&&(r="vCameraColorCurveNegative"),e._dirty&&(e._dirty=!1,e.getColorGradingDataToRef(e._globalHue,e._globalDensity,e._globalSaturation,e._globalExposure,e._globalCurve),e.getColorGradingDataToRef(e._highlightsHue,e._highlightsDensity,e._highlightsSaturation,e._highlightsExposure,e._tempColor),e._tempColor.multiplyToRef(e._globalCurve,e._highlightsCurve),e.getColorGradingDataToRef(e._midtonesHue,e._midtonesDensity,e._midtonesSaturation,e._midtonesExposure,e._tempColor),e._tempColor.multiplyToRef(e._globalCurve,e._midtonesCurve),e.getColorGradingDataToRef(e._shadowsHue,e._shadowsDensity,e._shadowsSaturation,e._shadowsExposure,e._tempColor),e._tempColor.multiplyToRef(e._globalCurve,e._shadowsCurve),e._highlightsCurve.subtractToRef(e._midtonesCurve,e._positiveCurve),e._midtonesCurve.subtractToRef(e._shadowsCurve,e._negativeCurve)),t&&(t.setFloat4(i,e._positiveCurve.r,e._positiveCurve.g,e._positiveCurve.b,e._positiveCurve.a),t.setFloat4(n,e._midtonesCurve.r,e._midtonesCurve.g,e._midtonesCurve.b,e._midtonesCurve.a),t.setFloat4(r,e._negativeCurve.r,e._negativeCurve.g,e._negativeCurve.b,e._negativeCurve.a))},e.PrepareUniforms=function(e){e.push("vCameraColorCurveNeutral","vCameraColorCurvePositive","vCameraColorCurveNegative")},e.prototype.getColorGradingDataToRef=function(t,i,n,r,o){null!=t&&(t=e.clamp(t,0,360),i=e.clamp(i,-100,100),n=e.clamp(n,-100,100),r=e.clamp(r,-100,100),i=e.applyColorGradingSliderNonlinear(i),i*=.5,r=e.applyColorGradingSliderNonlinear(r),i<0&&(i*=-1,t=(t+180)%360),e.fromHSBToRef(t,i,50+.25*r,o),o.scaleToRef(2,o),o.a=1+.01*n)},e.applyColorGradingSliderNonlinear=function(e){e/=100;var t=Math.abs(e);return t=Math.pow(t,2),e<0&&(t*=-1),t*=100},e.fromHSBToRef=function(t,i,n,r){var o=e.clamp(t,0,360),s=e.clamp(i/100,0,1),a=e.clamp(n/100,0,1);if(0===s)r.r=a,r.g=a,r.b=a;else{o/=60;var c=Math.floor(o),l=o-c,_=a*(1-s),u=a*(1-s*l),f=a*(1-s*(1-l));switch(c){case 0:r.r=a,r.g=f,r.b=_;break;case 1:r.r=u,r.g=a,r.b=_;break;case 2:r.r=_,r.g=a,r.b=f;break;case 3:r.r=_,r.g=u,r.b=a;break;case 4:r.r=f,r.g=_,r.b=a;break;default:r.r=a,r.g=_,r.b=u}}r.a=1},e.clamp=function(e,t,i){return Math.min(Math.max(e,t),i)},e.prototype.clone=function(){return r.a.Clone(function(){return new e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.Parse=function(t){return r.a.Parse(function(){return new e},t,null,null)},Object(n.b)([Object(r.c)()],e.prototype,"_globalHue",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_globalDensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_globalSaturation",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_globalExposure",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_highlightsHue",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_highlightsDensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_highlightsSaturation",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_highlightsExposure",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_midtonesHue",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_midtonesDensity",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_midtonesSaturation",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_midtonesExposure",void 0),e}();r.a._ColorCurvesParser=l.Parse;!function(e){function t(){var t=e.call(this)||this;return t.IMAGEPROCESSING=!1,t.VIGNETTE=!1,t.VIGNETTEBLENDMODEMULTIPLY=!1,t.VIGNETTEBLENDMODEOPAQUE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=!1,t.SAMPLER3DBGRMAP=!1,t.IMAGEPROCESSINGPOSTPROCESS=!1,t.EXPOSURE=!1,t.rebuild(),t}Object(n.c)(t,e)}(c.a);var _=function(){function e(){this.colorCurves=new l,this._colorCurvesEnabled=!1,this._colorGradingEnabled=!1,this._colorGradingWithGreenDepth=!0,this._colorGradingBGR=!0,this._exposure=1,this._toneMappingEnabled=!1,this._toneMappingType=e.TONEMAPPING_STANDARD,this._contrast=1,this.vignetteStretch=0,this.vignetteCentreX=0,this.vignetteCentreY=0,this.vignetteWeight=1.5,this.vignetteColor=new a.b(0,0,0,0),this.vignetteCameraFov=.5,this._vignetteBlendMode=e.VIGNETTEMODE_MULTIPLY,this._vignetteEnabled=!1,this._applyByPostProcess=!1,this._isEnabled=!0,this.onUpdateParameters=new o.a}return Object.defineProperty(e.prototype,"colorCurvesEnabled",{get:function(){return this._colorCurvesEnabled},set:function(e){this._colorCurvesEnabled!==e&&(this._colorCurvesEnabled=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorGradingTexture",{get:function(){return this._colorGradingTexture},set:function(e){this._colorGradingTexture!==e&&(this._colorGradingTexture=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorGradingEnabled",{get:function(){return this._colorGradingEnabled},set:function(e){this._colorGradingEnabled!==e&&(this._colorGradingEnabled=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorGradingWithGreenDepth",{get:function(){return this._colorGradingWithGreenDepth},set:function(e){this._colorGradingWithGreenDepth!==e&&(this._colorGradingWithGreenDepth=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"colorGradingBGR",{get:function(){return this._colorGradingBGR},set:function(e){this._colorGradingBGR!==e&&(this._colorGradingBGR=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"exposure",{get:function(){return this._exposure},set:function(e){this._exposure!==e&&(this._exposure=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toneMappingEnabled",{get:function(){return this._toneMappingEnabled},set:function(e){this._toneMappingEnabled!==e&&(this._toneMappingEnabled=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"toneMappingType",{get:function(){return this._toneMappingType},set:function(e){this._toneMappingType!==e&&(this._toneMappingType=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"contrast",{get:function(){return this._contrast},set:function(e){this._contrast!==e&&(this._contrast=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetteBlendMode",{get:function(){return this._vignetteBlendMode},set:function(e){this._vignetteBlendMode!==e&&(this._vignetteBlendMode=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"vignetteEnabled",{get:function(){return this._vignetteEnabled},set:function(e){this._vignetteEnabled!==e&&(this._vignetteEnabled=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"applyByPostProcess",{get:function(){return this._applyByPostProcess},set:function(e){this._applyByPostProcess!==e&&(this._applyByPostProcess=e,this._updateParameters())},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"isEnabled",{get:function(){return this._isEnabled},set:function(e){this._isEnabled!==e&&(this._isEnabled=e,this._updateParameters())},enumerable:!1,configurable:!0}),e.prototype._updateParameters=function(){this.onUpdateParameters.notifyObservers(this)},e.prototype.getClassName=function(){return"ImageProcessingConfiguration"},e.PrepareUniforms=function(e,t){t.EXPOSURE&&e.push("exposureLinear"),t.CONTRAST&&e.push("contrast"),t.COLORGRADING&&e.push("colorTransformSettings"),t.VIGNETTE&&(e.push("vInverseScreenSize"),e.push("vignetteSettings1"),e.push("vignetteSettings2")),t.COLORCURVES&&l.PrepareUniforms(e)},e.PrepareSamplers=function(e,t){t.COLORGRADING&&e.push("txColorTransform")},e.prototype.prepareDefines=function(t,i){if(void 0===i&&(i=!1),i!==this.applyByPostProcess||!this._isEnabled)return t.VIGNETTE=!1,t.TONEMAPPING=!1,t.TONEMAPPING_ACES=!1,t.CONTRAST=!1,t.EXPOSURE=!1,t.COLORCURVES=!1,t.COLORGRADING=!1,t.COLORGRADING3D=!1,t.IMAGEPROCESSING=!1,void(t.IMAGEPROCESSINGPOSTPROCESS=this.applyByPostProcess&&this._isEnabled);if(t.VIGNETTE=this.vignetteEnabled,t.VIGNETTEBLENDMODEMULTIPLY=this.vignetteBlendMode===e._VIGNETTEMODE_MULTIPLY,t.VIGNETTEBLENDMODEOPAQUE=!t.VIGNETTEBLENDMODEMULTIPLY,t.TONEMAPPING=this.toneMappingEnabled,this._toneMappingType===e.TONEMAPPING_ACES)t.TONEMAPPING_ACES=!0;else t.TONEMAPPING_ACES=!1;t.CONTRAST=1!==this.contrast,t.EXPOSURE=1!==this.exposure,t.COLORCURVES=this.colorCurvesEnabled&&!!this.colorCurves,t.COLORGRADING=this.colorGradingEnabled&&!!this.colorGradingTexture,t.COLORGRADING?t.COLORGRADING3D=this.colorGradingTexture.is3D:t.COLORGRADING3D=!1,t.SAMPLER3DGREENDEPTH=this.colorGradingWithGreenDepth,t.SAMPLER3DBGRMAP=this.colorGradingBGR,t.IMAGEPROCESSINGPOSTPROCESS=this.applyByPostProcess,t.IMAGEPROCESSING=t.VIGNETTE||t.TONEMAPPING||t.CONTRAST||t.EXPOSURE||t.COLORCURVES||t.COLORGRADING},e.prototype.isReady=function(){return!this.colorGradingEnabled||!this.colorGradingTexture||this.colorGradingTexture.isReady()},e.prototype.bind=function(e,t){if(this._colorCurvesEnabled&&this.colorCurves&&l.Bind(this.colorCurves,e),this._vignetteEnabled){var i=1/e.getEngine().getRenderWidth(),n=1/e.getEngine().getRenderHeight();e.setFloat2("vInverseScreenSize",i,n);var r=null!=t?t:n/i,o=Math.tan(.5*this.vignetteCameraFov),a=o*r,c=Math.sqrt(a*o);a=s.b.Mix(a,c,this.vignetteStretch),o=s.b.Mix(o,c,this.vignetteStretch),e.setFloat4("vignetteSettings1",a,o,-a*this.vignetteCentreX,-o*this.vignetteCentreY);var _=-2*this.vignetteWeight;e.setFloat4("vignetteSettings2",this.vignetteColor.r,this.vignetteColor.g,this.vignetteColor.b,_)}if(e.setFloat("exposureLinear",this.exposure),e.setFloat("contrast",this.contrast),this.colorGradingTexture){e.setTexture("txColorTransform",this.colorGradingTexture);var u=this.colorGradingTexture.getSize().height;e.setFloat4("colorTransformSettings",(u-1)/u,.5/u,u,this.colorGradingTexture.level)}},e.prototype.clone=function(){return r.a.Clone(function(){return new e},this)},e.prototype.serialize=function(){return r.a.Serialize(this)},e.Parse=function(t){return r.a.Parse(function(){return new e},t,null,null)},Object.defineProperty(e,"VIGNETTEMODE_MULTIPLY",{get:function(){return this._VIGNETTEMODE_MULTIPLY},enumerable:!1,configurable:!0}),Object.defineProperty(e,"VIGNETTEMODE_OPAQUE",{get:function(){return this._VIGNETTEMODE_OPAQUE},enumerable:!1,configurable:!0}),e.TONEMAPPING_STANDARD=0,e.TONEMAPPING_ACES=1,e._VIGNETTEMODE_MULTIPLY=0,e._VIGNETTEMODE_OPAQUE=1,Object(n.b)([Object(r.f)()],e.prototype,"colorCurves",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_colorCurvesEnabled",void 0),Object(n.b)([Object(r.l)("colorGradingTexture")],e.prototype,"_colorGradingTexture",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_colorGradingEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_colorGradingWithGreenDepth",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_colorGradingBGR",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_exposure",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_toneMappingEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_toneMappingType",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_contrast",void 0),Object(n.b)([Object(r.c)()],e.prototype,"vignetteStretch",void 0),Object(n.b)([Object(r.c)()],e.prototype,"vignetteCentreX",void 0),Object(n.b)([Object(r.c)()],e.prototype,"vignetteCentreY",void 0),Object(n.b)([Object(r.c)()],e.prototype,"vignetteWeight",void 0),Object(n.b)([Object(r.e)()],e.prototype,"vignetteColor",void 0),Object(n.b)([Object(r.c)()],e.prototype,"vignetteCameraFov",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_vignetteBlendMode",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_vignetteEnabled",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_applyByPostProcess",void 0),Object(n.b)([Object(r.c)()],e.prototype,"_isEnabled",void 0),e}();r.a._ImageProcessingConfigurationParser=_.Parse},935:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){}},936:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.CreateCanvas=function(e,t){if("undefined"===typeof document)return new OffscreenCanvas(e,t);var i=document.createElement("canvas");return i.width=e,i.height=t,i},e}()},937:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.FilesToLoad={},e}()},938:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(701),r=function(){function e(){}return e.SetImmediate=function(e){n.a.IsWindowObjectExist()&&window.setImmediate?window.setImmediate(e):setTimeout(e,1)},e}()},939:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(649),r=i(105),o=function(){function e(){}return e.Instantiate=function(e){if(this.RegisteredExternalClasses&&this.RegisteredExternalClasses[e])return this.RegisteredExternalClasses[e];var t=r.a.GetClass(e);if(t)return t;n.a.Warn(e+" not found, you may have missed an import.");for(var i=e.split("."),o=window||this,s=0,a=i.length;s<a;s++)o=o[i[s]];return"function"!==typeof o?null:o},e.RegisteredExternalClasses={},e}()},940:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){}return e.RandomId=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=16*Math.random()|0;return("x"===e?t:3&t|8).toString(16)})},e}()},941:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(755),r=function(){function e(){this._startMonitoringTime=0,this._min=0,this._max=0,this._average=0,this._lastSecAverage=0,this._current=0,this._totalValueCount=0,this._totalAccumulated=0,this._lastSecAccumulated=0,this._lastSecTime=0,this._lastSecValueCount=0}return Object.defineProperty(e.prototype,"min",{get:function(){return this._min},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"max",{get:function(){return this._max},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"average",{get:function(){return this._average},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lastSecAverage",{get:function(){return this._lastSecAverage},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"current",{get:function(){return this._current},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"total",{get:function(){return this._totalAccumulated},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"count",{get:function(){return this._totalValueCount},enumerable:!1,configurable:!0}),e.prototype.fetchNewFrame=function(){this._totalValueCount++,this._current=0,this._lastSecValueCount++},e.prototype.addCount=function(t,i){e.Enabled&&(this._current+=t,i&&this._fetchResult())},e.prototype.beginMonitoring=function(){e.Enabled&&(this._startMonitoringTime=n.a.Now)},e.prototype.endMonitoring=function(t){if(void 0===t&&(t=!0),e.Enabled){t&&this.fetchNewFrame();var i=n.a.Now;this._current=i-this._startMonitoringTime,t&&this._fetchResult()}},e.prototype._fetchResult=function(){this._totalAccumulated+=this._current,this._lastSecAccumulated+=this._current,this._min=Math.min(this._min,this._current),this._max=Math.max(this._max,this._current),this._average=this._totalAccumulated/this._totalValueCount;var e=n.a.Now;e-this._lastSecTime>1e3&&(this._lastSecAverage=this._lastSecAccumulated/this._lastSecValueCount,this._lastSecTime=e,this._lastSecAccumulated=0,this._lastSecValueCount=0)},e.Enabled=!0,e}()},942:function(e,t,i){"use strict";i(685).a.prototype._readTexturePixels=function(e,t,i,n,r,o){void 0===n&&(n=-1),void 0===r&&(r=0),void 0===o&&(o=null);var s=this._gl;if(!s)throw new Error("Engine does not have gl rendering context.");if(!this._dummyFramebuffer){var a=s.createFramebuffer();if(!a)throw new Error("Unable to create dummy framebuffer");this._dummyFramebuffer=a}s.bindFramebuffer(s.FRAMEBUFFER,this._dummyFramebuffer),n>-1?s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_CUBE_MAP_POSITIVE_X+n,e._webGLTexture,r):s.framebufferTexture2D(s.FRAMEBUFFER,s.COLOR_ATTACHMENT0,s.TEXTURE_2D,e._webGLTexture,r);var c=void 0!==e.type?this._getWebGLTextureType(e.type):s.UNSIGNED_BYTE;if(c===s.UNSIGNED_BYTE)o||(o=new Uint8Array(4*t*i)),c=s.UNSIGNED_BYTE;else o||(o=new Float32Array(4*t*i)),c=s.FLOAT;return s.readPixels(0,0,t,i,s.RGBA,c,o),s.bindFramebuffer(s.FRAMEBUFFER,this._currentFramebuffer),o}},943:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(e,t,i){this.bu=e,this.bv=t,this.distance=i,this.faceId=0,this.subMeshId=0}},944:function(e,t,i){"use strict";i.d(t,"a",function(){return n});var n=function(){function e(){this.hoverCursor="",this.actions=new Array,this.isRecursive=!1}return Object.defineProperty(e,"HasTriggers",{get:function(){for(var t in e.Triggers)if(e.Triggers.hasOwnProperty(t))return!0;return!1},enumerable:!1,configurable:!0}),Object.defineProperty(e,"HasPickTriggers",{get:function(){for(var t in e.Triggers)if(e.Triggers.hasOwnProperty(t)){var i=parseInt(t);if(i>=1&&i<=7)return!0}return!1},enumerable:!1,configurable:!0}),e.HasSpecificTrigger=function(t){for(var i in e.Triggers){if(e.Triggers.hasOwnProperty(i))if(parseInt(i)===t)return!0}return!1},e.Triggers={},e}()},945:function(e,t,i){"use strict";i.d(t,"a",function(){return r}),i.d(t,"b",function(){return o}),i.d(t,"c",function(){return s});var n=i(644),r=function(){function e(){}return e.KEYDOWN=1,e.KEYUP=2,e}(),o=function(e,t){this.type=e,this.event=t},s=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n.type=t,n.event=i,n.skipOnPointerObservable=!1,n}return Object(n.c)(t,e),t}(o)},946:function(e,t,i){"use strict";var n=i(644),r=i(703),o=i(649);i(685).a.prototype.createRenderTargetCubeTexture=function(e,t){var i=Object(n.a)({generateMipMaps:!0,generateDepthBuffer:!0,generateStencilBuffer:!1,type:0,samplingMode:3,format:5},t);i.generateStencilBuffer=i.generateDepthBuffer&&i.generateStencilBuffer,(1!==i.type||this._caps.textureFloatLinearFiltering)&&(2!==i.type||this._caps.textureHalfFloatLinearFiltering)||(i.samplingMode=1);var s=this._gl,a=new r.a(this,r.b.RenderTarget);this._bindTextureDirectly(s.TEXTURE_CUBE_MAP,a,!0);var c=this._getSamplingParameters(i.samplingMode,i.generateMipMaps);1!==i.type||this._caps.textureFloat||(i.type=0,o.a.Warn("Float textures are not supported. Cube render target forced to TEXTURETYPE_UNESIGNED_BYTE type")),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MAG_FILTER,c.mag),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_MIN_FILTER,c.min),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_S,s.CLAMP_TO_EDGE),s.texParameteri(s.TEXTURE_CUBE_MAP,s.TEXTURE_WRAP_T,s.CLAMP_TO_EDGE);for(var l=0;l<6;l++)s.texImage2D(s.TEXTURE_CUBE_MAP_POSITIVE_X+l,0,this._getRGBABufferInternalSizedFormat(i.type,i.format),e,e,0,this._getInternalFormat(i.format),this._getWebGLTextureType(i.type),null);var _=s.createFramebuffer();return this._bindUnboundFramebuffer(_),a._depthStencilBuffer=this._setupFramebufferDepthAttachments(i.generateStencilBuffer,i.generateDepthBuffer,e,e),i.generateMipMaps&&s.generateMipmap(s.TEXTURE_CUBE_MAP),this._bindTextureDirectly(s.TEXTURE_CUBE_MAP,null),this._bindUnboundFramebuffer(null),a._framebuffer=_,a.width=e,a.height=e,a.isReady=!0,a.isCube=!0,a.samples=1,a.generateMipMaps=i.generateMipMaps,a.samplingMode=i.samplingMode,a.type=i.type,a.format=i.format,a._generateDepthBuffer=i.generateDepthBuffer,a._generateStencilBuffer=i.generateStencilBuffer,this._internalTexturesCache.push(a),a}},947:function(e,t,i){"use strict";var n="depthBoxBlurPixelShader",r="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n\nuniform vec2 screenSize;\nvoid main(void)\n{\nvec4 colorDepth=vec4(0.0);\nfor (int x=-OFFSET; x<=OFFSET; x++)\nfor (int y=-OFFSET; y<=OFFSET; y++)\ncolorDepth+=texture2D(textureSampler,vUV+vec2(x,y)/screenSize);\ngl_FragColor=(colorDepth/float((OFFSET*2+1)*(OFFSET*2+1)));\n}";i(642).a.ShadersStore[n]=r},948:function(e,t,i){"use strict";i.d(t,"a",function(){return f});var n=i(644),r=i(648),o=i(658),s=i(30),a=i(762),c=i(669),l=i(105),_=(i(949),i(702)),u=i(650),f=function(e){function t(t,i,n,r,a,l,_,f,d,h,p,b,m,A){var g;void 0===n&&(n=null),void 0===r&&(r=!1),void 0===a&&(a=null),void 0===l&&(l=null),void 0===_&&(_=null),void 0===f&&(f=5),void 0===d&&(d=!1),void 0===h&&(h=null),void 0===p&&(p=!1),void 0===b&&(b=.8),void 0===m&&(m=0);var y=e.call(this,i)||this;if(y.onLoadObservable=new u.a,y.boundingBoxPosition=s.e.Zero(),y._rotationY=0,y._files=null,y._forcedExtension=null,y._extensions=null,y.name=t,y.url=t,y._noMipmap=r,y.hasAlpha=!1,y._format=f,y.isCube=!0,y._textureMatrix=s.a.Identity(),y._createPolynomials=p,y.coordinatesMode=c.a.CUBIC_MODE,y._extensions=n,y._files=a,y._forcedExtension=h,y._loaderOptions=A,!t&&!a)return y;var v=t.lastIndexOf("."),C=h||(v>-1?t.substring(v).toLowerCase():""),E=".dds"===C,S=".env"===C;if(S?(y.gammaSpace=!1,y._prefiltered=!1,y.anisotropicFilteringLevel=1):(y._prefiltered=d,d&&(y.gammaSpace=!1,y.anisotropicFilteringLevel=1)),y._texture=y._getFromCache(t,r),!a&&(S||E||n||(n=["_px.jpg","_py.jpg","_pz.jpg","_nx.jpg","_ny.jpg","_nz.jpg"]),a=[],n))for(var T=0;T<n.length;T++)a.push(t+n[T]);y._files=a;var R=function(){y.onLoadObservable.notifyObservers(y),l&&l()};if(y._texture)y._texture.isReady?o.b.SetImmediate(function(){return R()}):y._texture.onLoadedObservable.add(function(){return R()});else{var M=y.getScene();(null===M||void 0===M?void 0:M.useDelayedTextureLoading)?y.delayLoadState=4:(y._texture=d?y._getEngine().createPrefilteredCubeTexture(t,M,b,m,l,_,f,h,y._createPolynomials):y._getEngine().createCubeTexture(t,M,a,r,l,_,y._format,h,!1,b,m,null,A),null===(g=y._texture)||void 0===g||g.onLoadedObservable.add(function(){return y.onLoadObservable.notifyObservers(y)}))}return y}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"boundingBoxSize",{get:function(){return this._boundingBoxSize},set:function(e){if(!this._boundingBoxSize||!this._boundingBoxSize.equals(e)){this._boundingBoxSize=e;var t=this.getScene();t&&t.markAllMaterialsAsDirty(1)}},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"rotationY",{get:function(){return this._rotationY},set:function(e){this._rotationY=e,this.setReflectionTextureMatrix(s.a.RotationY(this._rotationY))},enumerable:!1,configurable:!0}),Object.defineProperty(t.prototype,"noMipmap",{get:function(){return this._noMipmap},enumerable:!1,configurable:!0}),t.CreateFromImages=function(e,i,n){var r="";return e.forEach(function(e){return r+=e}),new t(r,i,null,n,e)},t.CreateFromPrefilteredData=function(e,i,n,r){void 0===n&&(n=null),void 0===r&&(r=!0);var o=i.useDelayedTextureLoading;i.useDelayedTextureLoading=!1;var s=new t(e,i,null,!1,null,null,null,void 0,!0,n,r);return i.useDelayedTextureLoading=o,s},t.prototype.getClassName=function(){return"CubeTexture"},t.prototype.updateURL=function(e,t,i,n){var r;void 0===n&&(n=!1),this.url&&(this.releaseInternalTexture(),null===(r=this.getScene())||void 0===r||r.markAllMaterialsAsDirty(1)),this.name&&!_.a.StartsWith(this.name,"data:")||(this.name=e),this.url=e,this.delayLoadState=4,this._prefiltered=n,this._prefiltered&&(this.gammaSpace=!1,this.anisotropicFilteringLevel=1),this._forcedExtension=t||null,i&&(this._delayedOnLoad=i),this.delayLoad(t)},t.prototype.delayLoad=function(e){var t,i=this;if(4===this.delayLoadState&&(this.delayLoadState=1,this._texture=this._getFromCache(this.url,this._noMipmap),!this._texture)){var n=this.getScene();this._prefiltered?this._texture=this._getEngine().createPrefilteredCubeTexture(this.url,n,.8,0,this._delayedOnLoad,void 0,this._format,e,this._createPolynomials):this._texture=this._getEngine().createCubeTexture(this.url,n,this._files,this._noMipmap,this._delayedOnLoad,null,this._format,e,!1,0,0,null,this._loaderOptions),null===(t=this._texture)||void 0===t||t.onLoadedObservable.add(function(){return i.onLoadObservable.notifyObservers(i)})}},t.prototype.getReflectionTextureMatrix=function(){return this._textureMatrix},t.prototype.setReflectionTextureMatrix=function(e){var t,i=this;e.updateFlag!==this._textureMatrix.updateFlag&&(e.isIdentity()!==this._textureMatrix.isIdentity()&&(null===(t=this.getScene())||void 0===t||t.markAllMaterialsAsDirty(1,function(e){return-1!==e.getActiveTextures().indexOf(i)})),this._textureMatrix=e)},t.Parse=function(e,i,n){var o=r.a.Parse(function(){var r=!1;return e.prefiltered&&(r=e.prefiltered),new t(n+e.name,i,e.extensions,!1,e.files||null,null,null,void 0,r,e.forcedExtension)},e,i);if(e.boundingBoxPosition&&(o.boundingBoxPosition=s.e.FromArray(e.boundingBoxPosition)),e.boundingBoxSize&&(o.boundingBoxSize=s.e.FromArray(e.boundingBoxSize)),e.animations)for(var a=0;a<e.animations.length;a++){var c=e.animations[a],_=l.a.GetClass("BABYLON.Animation");_&&o.animations.push(_.Parse(c))}return o},t.prototype.clone=function(){var e=this,i=0,n=r.a.Clone(function(){var n=new t(e.url,e.getScene()||e._getEngine(),e._extensions,e._noMipmap,e._files);return i=n.uniqueId,n},this);return n.uniqueId=i,n},Object(n.b)([Object(r.c)()],t.prototype,"url",void 0),Object(n.b)([Object(r.c)("rotationY")],t.prototype,"rotationY",null),Object(n.b)([Object(r.c)("files")],t.prototype,"_files",void 0),Object(n.b)([Object(r.c)("forcedExtension")],t.prototype,"_forcedExtension",void 0),Object(n.b)([Object(r.c)("extensions")],t.prototype,"_extensions",void 0),Object(n.b)([Object(r.i)("textureMatrix")],t.prototype,"_textureMatrix",void 0),t}(a.a);c.a._CubeTextureParser=f.Parse,l.a.RegisteredTypes["BABYLON.CubeTexture"]=f},949:function(e,t,i){"use strict";var n=i(644),r=i(685),o=i(703),s=i(649),a=i(761);r.a.prototype._createDepthStencilCubeTexture=function(e,t){var i=new o.a(this,o.b.Unknown);if(i.isCube=!0,1===this.webGLVersion)return s.a.Error("Depth cube texture is not supported by WebGL 1."),i;var r=Object(n.a)({bilinearFiltering:!1,comparisonFunction:0,generateStencil:!1},t),a=this._gl;this._bindTextureDirectly(a.TEXTURE_CUBE_MAP,i,!0),this._setupDepthStencilTexture(i,e,r.generateStencil,r.bilinearFiltering,r.comparisonFunction);for(var c=0;c<6;c++)r.generateStencil?a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,a.DEPTH24_STENCIL8,e,e,0,a.DEPTH_STENCIL,a.UNSIGNED_INT_24_8,null):a.texImage2D(a.TEXTURE_CUBE_MAP_POSITIVE_X+c,0,a.DEPTH_COMPONENT24,e,e,0,a.DEPTH_COMPONENT,a.UNSIGNED_INT,null);return this._bindTextureDirectly(a.TEXTURE_CUBE_MAP,null),i},r.a.prototype._partialLoadFile=function(e,t,i,n,r){void 0===r&&(r=null);this._loadFile(e,function(e){i[t]=e,i._internalCount++,6===i._internalCount&&n(i)},void 0,void 0,!0,function(e,t){r&&e&&r(e.status+" "+e.statusText,t)})},r.a.prototype._cascadeLoadFiles=function(e,t,i,n){void 0===n&&(n=null);var r=[];r._internalCount=0;for(var o=0;o<6;o++)this._partialLoadFile(i[o],o,r,t,n)},r.a.prototype._cascadeLoadImgs=function(e,t,i,n,r){void 0===n&&(n=null);var o=[];o._internalCount=0;for(var s=0;s<6;s++)this._partialLoadImg(i[s],s,o,e,t,n,r)},r.a.prototype._partialLoadImg=function(e,t,i,n,r,o,s){var c;void 0===o&&(o=null);c=a.a.LoadImage(e,function(){c&&(i[t]=c,i._internalCount++,n&&n._removePendingData(c)),6===i._internalCount&&r(i)},function(e,t){n&&n._removePendingData(c),o&&o(e,t)},n?n.offlineProvider:null,s),n&&c&&n._addPendingData(c)},r.a.prototype._setCubeMapTextureParams=function(e,t){var i=this._gl;i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MAG_FILTER,i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_MIN_FILTER,t?i.LINEAR_MIPMAP_LINEAR:i.LINEAR),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_S,i.CLAMP_TO_EDGE),i.texParameteri(i.TEXTURE_CUBE_MAP,i.TEXTURE_WRAP_T,i.CLAMP_TO_EDGE),e.samplingMode=t?3:2,this._bindTextureDirectly(i.TEXTURE_CUBE_MAP,null)},r.a.prototype.createCubeTexture=function(e,t,i,n,a,c,l,_,u,f,d,h,p){var b=this;void 0===a&&(a=null),void 0===c&&(c=null),void 0===_&&(_=null),void 0===u&&(u=!1),void 0===f&&(f=0),void 0===d&&(d=0),void 0===h&&(h=null);var m=this._gl,A=h||new o.a(this,o.b.Cube);A.isCube=!0,A.url=e,A.generateMipMaps=!n,A._lodGenerationScale=f,A._lodGenerationOffset=d,this._doNotHandleContextLost||(A._extension=_,A._files=i);var g=e;this._transformTextureUrl&&!h&&(e=this._transformTextureUrl(e));for(var y=e.lastIndexOf("."),v=_||(y>-1?e.substring(y).toLowerCase():""),C=null,E=0,S=r.a._TextureLoaders;E<S.length;E++){var T=S[E];if(T.canLoad(v)){C=T;break}}if(C){var R=function(e){b._bindTextureDirectly(m.TEXTURE_CUBE_MAP,A,!0),C.loadCubeData(e,A,u,a,c)};i&&6===i.length?C.supportCascades?this._cascadeLoadFiles(t,function(e){return R(e.map(function(e){return new Uint8Array(e)}))},i,c):c?c("Textures type does not support cascades."):s.a.Warn("Texture loader does not support cascades."):this._loadFile(e,function(e){return R(new Uint8Array(e))},void 0,void 0,!0,function(r,o){e===g?c&&r&&c(r.status+" "+r.statusText,o):(s.a.Warn("Failed to load "+e+", falling back to the "+g),b.createCubeTexture(g,t,i,n,a,c,l,_,u,f,d,A,p))})}else{if(!i)throw new Error("Cannot load cubemap because files were not defined");this._cascadeLoadImgs(t,function(e){var t=b.needPOTTextures?r.a.GetExponentOfTwo(e[0].width,b._caps.maxCubemapTextureSize):e[0].width,i=t,o=[m.TEXTURE_CUBE_MAP_POSITIVE_X,m.TEXTURE_CUBE_MAP_POSITIVE_Y,m.TEXTURE_CUBE_MAP_POSITIVE_Z,m.TEXTURE_CUBE_MAP_NEGATIVE_X,m.TEXTURE_CUBE_MAP_NEGATIVE_Y,m.TEXTURE_CUBE_MAP_NEGATIVE_Z];b._bindTextureDirectly(m.TEXTURE_CUBE_MAP,A,!0),b._unpackFlipY(!1);for(var c=l?b._getInternalFormat(l):b._gl.RGBA,_=0;_<o.length;_++)if(e[_].width!==t||e[_].height!==i){if(b._prepareWorkingCanvas(),!b._workingCanvas||!b._workingContext)return void s.a.Warn("Cannot create canvas to resize texture.");b._workingCanvas.width=t,b._workingCanvas.height=i,b._workingContext.drawImage(e[_],0,0,e[_].width,e[_].height,0,0,t,i),m.texImage2D(o[_],0,c,c,m.UNSIGNED_BYTE,b._workingCanvas)}else m.texImage2D(o[_],0,c,c,m.UNSIGNED_BYTE,e[_]);n||m.generateMipmap(m.TEXTURE_CUBE_MAP),b._setCubeMapTextureParams(A,!n),A.width=t,A.height=i,A.isReady=!0,l&&(A.format=l),A.onLoadedObservable.notifyObservers(A),A.onLoadedObservable.clear(),a&&a()},i,c)}return this._internalTexturesCache.push(A),A}},950:function(e,t,i){"use strict";i.d(t,"a",function(){return a});var n=i(644),r=i(677),o=i(764),s=i(105),a=function(e){function t(t,i){var n=e.call(this,t,i,!0)||this;return i.multiMaterials.push(n),n.subMaterials=new Array,n._storeEffectOnSubMeshes=!0,n}return Object(n.c)(t,e),Object.defineProperty(t.prototype,"subMaterials",{get:function(){return this._subMaterials},set:function(e){this._subMaterials=e,this._hookArray(e)},enumerable:!1,configurable:!0}),t.prototype.getChildren=function(){return this.subMaterials},t.prototype._hookArray=function(e){var t=this,i=e.push;e.push=function(){for(var n=[],r=0;r<arguments.length;r++)n[r]=arguments[r];var o=i.apply(e,n);return t._markAllSubMeshesAsTexturesDirty(),o};var n=e.splice;e.splice=function(i,r){var o=n.apply(e,[i,r]);return t._markAllSubMeshesAsTexturesDirty(),o}},t.prototype.getSubMaterial=function(e){return e<0||e>=this.subMaterials.length?this.getScene().defaultMaterial:this.subMaterials[e]},t.prototype.getActiveTextures=function(){var t;return(t=e.prototype.getActiveTextures.call(this)).concat.apply(t,this.subMaterials.map(function(e){return e?e.getActiveTextures():[]}))},t.prototype.hasTexture=function(t){var i;if(e.prototype.hasTexture.call(this,t))return!0;for(var n=0;n<this.subMaterials.length;n++)if(null===(i=this.subMaterials[n])||void 0===i?void 0:i.hasTexture(t))return!0;return!1},t.prototype.getClassName=function(){return"MultiMaterial"},t.prototype.isReadyForSubMesh=function(e,t,i){for(var n=0;n<this.subMaterials.length;n++){var r=this.subMaterials[n];if(r){if(r._storeEffectOnSubMeshes){if(!r.isReadyForSubMesh(e,t,i))return!1;continue}if(!r.isReady(e))return!1}}return!0},t.prototype.clone=function(e,i){for(var n=new t(e,this.getScene()),r=0;r<this.subMaterials.length;r++){var o=null,s=this.subMaterials[r];o=i&&s?s.clone(e+"-"+s.name):this.subMaterials[r],n.subMaterials.push(o)}return n},t.prototype.serialize=function(){var e={};e.name=this.name,e.id=this.id,o.a&&(e.tags=o.a.GetTags(this)),e.materials=[];for(var t=0;t<this.subMaterials.length;t++){var i=this.subMaterials[t];i?e.materials.push(i.id):e.materials.push(null)}return e},t.prototype.dispose=function(t,i,n){var r=this.getScene();if(r){if(n)for(var o=0;o<this.subMaterials.length;o++){var s=this.subMaterials[o];s&&s.dispose(t,i)}(o=r.multiMaterials.indexOf(this))>=0&&r.multiMaterials.splice(o,1),e.prototype.dispose.call(this,t,i)}},t.ParseMultiMaterial=function(e,i){var n=new t(e.name,i);n.id=e.id,o.a&&o.a.AddTagsTo(n,e.tags);for(var r=0;r<e.materials.length;r++){var s=e.materials[r];s?n.subMaterials.push(i.getLastMaterialByID(s)):n.subMaterials.push(null)}return n},t}(r.a);s.a.RegisteredTypes["BABYLON.MultiMaterial"]=a},951:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(644),r=i(648),o=i(733),s=i(30),a=i(50),c=i(245),l=function(e){function t(t,i,n,r){void 0===r&&(r=!0);var o=e.call(this,t,i,n,r)||this;return o._tmpUpVector=s.e.Zero(),o._tmpTargetVector=s.e.Zero(),o.cameraDirection=new s.e(0,0,0),o.cameraRotation=new s.d(0,0),o.ignoreParentScaling=!1,o.updateUpVectorFromRotation=!1,o._tmpQuaternion=new s.b,o.rotation=new s.e(0,0,0),o.speed=2,o.noRotationConstraint=!1,o.invertRotation=!1,o.inverseRotationSpeed=.2,o.lockedTarget=null,o._currentTarget=s.e.Zero(),o._initialFocalDistance=1,o._viewMatrix=s.a.Zero(),o._camMatrix=s.a.Zero(),o._cameraTransformMatrix=s.a.Zero(),o._cameraRotationMatrix=s.a.Zero(),o._referencePoint=new s.e(0,0,1),o._transformedReferencePoint=s.e.Zero(),o._defaultUp=s.e.Up(),o._cachedRotationZ=0,o._cachedQuaternionRotationZ=0,o}return Object(n.c)(t,e),t.prototype.getFrontPosition=function(e){this.getWorldMatrix();var t=this.getTarget().subtract(this.position);return t.normalize(),t.scaleInPlace(e),this.globalPosition.add(t)},t.prototype._getLockedTargetPosition=function(){return this.lockedTarget?(this.lockedTarget.absolutePosition&&this.lockedTarget.computeWorldMatrix(),this.lockedTarget.absolutePosition||this.lockedTarget):null},t.prototype.storeState=function(){return this._storedPosition=this.position.clone(),this._storedRotation=this.rotation.clone(),this.rotationQuaternion&&(this._storedRotationQuaternion=this.rotationQuaternion.clone()),e.prototype.storeState.call(this)},t.prototype._restoreStateValues=function(){return!!e.prototype._restoreStateValues.call(this)&&(this.position=this._storedPosition.clone(),this.rotation=this._storedRotation.clone(),this.rotationQuaternion&&(this.rotationQuaternion=this._storedRotationQuaternion.clone()),this.cameraDirection.copyFromFloats(0,0,0),this.cameraRotation.copyFromFloats(0,0),!0)},t.prototype._initCache=function(){e.prototype._initCache.call(this),this._cache.lockedTarget=new s.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotation=new s.e(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE),this._cache.rotationQuaternion=new s.b(Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE,Number.MAX_VALUE)},t.prototype._updateCache=function(t){t||e.prototype._updateCache.call(this);var i=this._getLockedTargetPosition();i?this._cache.lockedTarget?this._cache.lockedTarget.copyFrom(i):this._cache.lockedTarget=i.clone():this._cache.lockedTarget=null,this._cache.rotation.copyFrom(this.rotation),this.rotationQuaternion&&this._cache.rotationQuaternion.copyFrom(this.rotationQuaternion)},t.prototype._isSynchronizedViewMatrix=function(){if(!e.prototype._isSynchronizedViewMatrix.call(this))return!1;var t=this._getLockedTargetPosition();return(this._cache.lockedTarget?this._cache.lockedTarget.equals(t):!t)&&(this.rotationQuaternion?this.rotationQuaternion.equals(this._cache.rotationQuaternion):this._cache.rotation.equals(this.rotation))},t.prototype._computeLocalCameraSpeed=function(){var e=this.getEngine();return this.speed*Math.sqrt(e.getDeltaTime()/(100*e.getFps()))},t.prototype.setTarget=function(e){this.upVector.normalize(),this._initialFocalDistance=e.subtract(this.position).length(),this.position.z===e.z&&(this.position.z+=a.a),this._referencePoint.normalize().scaleInPlace(this._initialFocalDistance),s.a.LookAtLHToRef(this.position,e,this._defaultUp,this._camMatrix),this._camMatrix.invert(),this.rotation.x=Math.atan(this._camMatrix.m[6]/this._camMatrix.m[10]);var t=e.subtract(this.position);t.x>=0?this.rotation.y=-Math.atan(t.z/t.x)+Math.PI/2:this.rotation.y=-Math.atan(t.z/t.x)-Math.PI/2,this.rotation.z=0,isNaN(this.rotation.x)&&(this.rotation.x=0),isNaN(this.rotation.y)&&(this.rotation.y=0),isNaN(this.rotation.z)&&(this.rotation.z=0),this.rotationQuaternion&&s.b.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)},Object.defineProperty(t.prototype,"target",{get:function(){return this.getTarget()},set:function(e){this.setTarget(e)},enumerable:!1,configurable:!0}),t.prototype.getTarget=function(){return this._currentTarget},t.prototype._decideIfNeedsToMove=function(){return Math.abs(this.cameraDirection.x)>0||Math.abs(this.cameraDirection.y)>0||Math.abs(this.cameraDirection.z)>0},t.prototype._updatePosition=function(){if(this.parent)return this.parent.getWorldMatrix().invertToRef(s.c.Matrix[0]),s.e.TransformNormalToRef(this.cameraDirection,s.c.Matrix[0],s.c.Vector3[0]),void this.position.addInPlace(s.c.Vector3[0]);this.position.addInPlace(this.cameraDirection)},t.prototype._checkInputs=function(){var t=this.invertRotation?-this.inverseRotationSpeed:1,i=this._decideIfNeedsToMove(),n=Math.abs(this.cameraRotation.x)>0||Math.abs(this.cameraRotation.y)>0;if(i&&this._updatePosition(),n){if(this.rotationQuaternion&&this.rotationQuaternion.toEulerAnglesToRef(this.rotation),this.rotation.x+=this.cameraRotation.x*t,this.rotation.y+=this.cameraRotation.y*t,!this.noRotationConstraint){var r=1.570796;this.rotation.x>r&&(this.rotation.x=r),this.rotation.x<-r&&(this.rotation.x=-r)}if(this.rotationQuaternion)this.rotation.lengthSquared()&&s.b.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this.rotationQuaternion)}i&&(Math.abs(this.cameraDirection.x)<this.speed*a.a&&(this.cameraDirection.x=0),Math.abs(this.cameraDirection.y)<this.speed*a.a&&(this.cameraDirection.y=0),Math.abs(this.cameraDirection.z)<this.speed*a.a&&(this.cameraDirection.z=0),this.cameraDirection.scaleInPlace(this.inertia)),n&&(Math.abs(this.cameraRotation.x)<this.speed*a.a&&(this.cameraRotation.x=0),Math.abs(this.cameraRotation.y)<this.speed*a.a&&(this.cameraRotation.y=0),this.cameraRotation.scaleInPlace(this.inertia)),e.prototype._checkInputs.call(this)},t.prototype._updateCameraRotationMatrix=function(){this.rotationQuaternion?this.rotationQuaternion.toRotationMatrix(this._cameraRotationMatrix):s.a.RotationYawPitchRollToRef(this.rotation.y,this.rotation.x,this.rotation.z,this._cameraRotationMatrix)},t.prototype._rotateUpVectorWithCameraRotationMatrix=function(){return s.e.TransformNormalToRef(this._defaultUp,this._cameraRotationMatrix,this.upVector),this},t.prototype._getViewMatrix=function(){return this.lockedTarget&&this.setTarget(this._getLockedTargetPosition()),this._updateCameraRotationMatrix(),this.rotationQuaternion&&this._cachedQuaternionRotationZ!=this.rotationQuaternion.z?(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedQuaternionRotationZ=this.rotationQuaternion.z):this._cachedRotationZ!=this.rotation.z&&(this._rotateUpVectorWithCameraRotationMatrix(),this._cachedRotationZ=this.rotation.z),s.e.TransformCoordinatesToRef(this._referencePoint,this._cameraRotationMatrix,this._transformedReferencePoint),this.position.addToRef(this._transformedReferencePoint,this._currentTarget),this.updateUpVectorFromRotation&&(this.rotationQuaternion?c.a.Y.rotateByQuaternionToRef(this.rotationQuaternion,this.upVector):(s.b.FromEulerVectorToRef(this.rotation,this._tmpQuaternion),c.a.Y.rotateByQuaternionToRef(this._tmpQuaternion,this.upVector))),this._computeViewMatrix(this.position,this._currentTarget,this.upVector),this._viewMatrix},t.prototype._computeViewMatrix=function(e,t,i){if(this.ignoreParentScaling){if(this.parent){var n=this.parent.getWorldMatrix();s.e.TransformCoordinatesToRef(e,n,this._globalPosition),s.e.TransformCoordinatesToRef(t,n,this._tmpTargetVector),s.e.TransformNormalToRef(i,n,this._tmpUpVector),this._markSyncedWithParent()}else this._globalPosition.copyFrom(e),this._tmpTargetVector.copyFrom(t),this._tmpUpVector.copyFrom(i);this.getScene().useRightHandedSystem?s.a.LookAtRHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix):s.a.LookAtLHToRef(this._globalPosition,this._tmpTargetVector,this._tmpUpVector,this._viewMatrix)}else if(this.getScene().useRightHandedSystem?s.a.LookAtRHToRef(e,t,i,this._viewMatrix):s.a.LookAtLHToRef(e,t,i,this._viewMatrix),this.parent){n=this.parent.getWorldMatrix();this._viewMatrix.invert(),this._viewMatrix.multiplyToRef(n,this._viewMatrix),this._viewMatrix.getTranslationToRef(this._globalPosition),this._viewMatrix.invert(),this._markSyncedWithParent()}else this._globalPosition.copyFrom(e)},t.prototype.createRigCamera=function(e,i){if(this.cameraRigMode!==o.a.RIG_MODE_NONE){var n=new t(e,this.position.clone(),this.getScene());return n.isRigCamera=!0,n.rigParent=this,this.cameraRigMode!==o.a.RIG_MODE_VR&&this.cameraRigMode!==o.a.RIG_MODE_WEBVR||(this.rotationQuaternion||(this.rotationQuaternion=new s.b),n._cameraRigParams={},n.rotationQuaternion=new s.b),n}return null},t.prototype._updateRigCameras=function(){var t=this._rigCameras[0],i=this._rigCameras[1];switch(this.computeWorldMatrix(),this.cameraRigMode){case o.a.RIG_MODE_STEREOSCOPIC_ANAGLYPH:case o.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_PARALLEL:case o.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED:case o.a.RIG_MODE_STEREOSCOPIC_OVERUNDER:case o.a.RIG_MODE_STEREOSCOPIC_INTERLACED:var n=this.cameraRigMode===o.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?1:-1,r=this.cameraRigMode===o.a.RIG_MODE_STEREOSCOPIC_SIDEBYSIDE_CROSSEYED?-1:1;this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*n,t),this._getRigCamPositionAndTarget(this._cameraRigParams.stereoHalfAngle*r,i);break;case o.a.RIG_MODE_VR:t.rotationQuaternion?(t.rotationQuaternion.copyFrom(this.rotationQuaternion),i.rotationQuaternion.copyFrom(this.rotationQuaternion)):(t.rotation.copyFrom(this.rotation),i.rotation.copyFrom(this.rotation)),t.position.copyFrom(this.position),i.position.copyFrom(this.position)}e.prototype._updateRigCameras.call(this)},t.prototype._getRigCamPositionAndTarget=function(e,i){this.getTarget().subtractToRef(this.position,t._TargetFocalPoint),t._TargetFocalPoint.normalize().scaleInPlace(this._initialFocalDistance);var n=t._TargetFocalPoint.addInPlace(this.position);s.a.TranslationToRef(-n.x,-n.y,-n.z,t._TargetTransformMatrix),t._TargetTransformMatrix.multiplyToRef(s.a.RotationAxis(i.upVector,e),t._RigCamTransformMatrix),s.a.TranslationToRef(n.x,n.y,n.z,t._TargetTransformMatrix),t._RigCamTransformMatrix.multiplyToRef(t._TargetTransformMatrix,t._RigCamTransformMatrix),s.e.TransformCoordinatesToRef(this.position,t._RigCamTransformMatrix,i.position),i.setTarget(n)},t.prototype.getClassName=function(){return"TargetCamera"},t._RigCamTransformMatrix=new s.a,t._TargetTransformMatrix=new s.a,t._TargetFocalPoint=new s.e,Object(n.b)([Object(r.n)()],t.prototype,"rotation",void 0),Object(n.b)([Object(r.c)()],t.prototype,"speed",void 0),Object(n.b)([Object(r.j)("lockedTargetId")],t.prototype,"lockedTarget",void 0),t}(o.a)},952:function(e,t,i){"use strict";i.d(t,"a",function(){return l});var n=i(30),r=i(37),o=i(760),s=i(50),a=i(244),c=function(e,t,i,n){this.name=e,this.worldAxisForNormal=t,this.worldAxisForFileX=i,this.worldAxisForFileY=n},l=function(){function e(){}return e.ConvertCubeMapTextureToSphericalPolynomial=function(e){if(!e.isCube)return null;var t,i,n=e.getSize().width,r=e.readPixels(0),o=e.readPixels(1);e.isRenderTarget?(t=e.readPixels(3),i=e.readPixels(2)):(t=e.readPixels(2),i=e.readPixels(3));var s=e.readPixels(4),a=e.readPixels(5),c=e.gammaSpace,l=0;1!=e.textureType&&2!=e.textureType||(l=1);var _={size:n,right:r,left:o,up:t,down:i,front:s,back:a,format:5,type:l,gammaSpace:c};return this.ConvertCubeMapToSphericalPolynomial(_)},e.ConvertCubeMapToSphericalPolynomial=function(e){for(var t=new o.a,i=0,n=2/e.size,c=n,l=.5*n-1,_=0;_<6;_++)for(var u=this.FileFaces[_],f=e[u.name],d=l,h=5===e.format?4:3,p=0;p<e.size;p++){for(var b=l,m=0;m<e.size;m++){var A=u.worldAxisForFileX.scale(b).add(u.worldAxisForFileY.scale(d)).add(u.worldAxisForNormal);A.normalize();var g=Math.pow(1+b*b+d*d,-1.5),y=f[p*e.size*h+m*h+0],v=f[p*e.size*h+m*h+1],C=f[p*e.size*h+m*h+2];isNaN(y)&&(y=0),isNaN(v)&&(v=0),isNaN(C)&&(C=0),0===e.type&&(y/=255,v/=255,C/=255),e.gammaSpace&&(y=Math.pow(r.a.Clamp(y),s.c),v=Math.pow(r.a.Clamp(v),s.c),C=Math.pow(r.a.Clamp(C),s.c));var E=4096;y=r.a.Clamp(y,0,E),v=r.a.Clamp(v,0,E),C=r.a.Clamp(C,0,E);var S=new a.a(y,v,C);t.addLight(A,S,g),i+=g,b+=n}d+=c}var T=6*(4*Math.PI)/6/i;return t.scaleInPlace(T),t.convertIncidentRadianceToIrradiance(),t.convertIrradianceToLambertianRadiance(),o.b.FromHarmonics(t)},e.FileFaces=[new c("right",new n.e(1,0,0),new n.e(0,0,-1),new n.e(0,-1,0)),new c("left",new n.e(-1,0,0),new n.e(0,0,1),new n.e(0,-1,0)),new c("up",new n.e(0,1,0),new n.e(1,0,0),new n.e(0,0,1)),new c("down",new n.e(0,-1,0),new n.e(1,0,0),new n.e(0,0,-1)),new c("front",new n.e(0,0,1),new n.e(1,0,0),new n.e(0,-1,0)),new c("back",new n.e(0,0,-1),new n.e(-1,0,0),new n.e(0,-1,0))],e}()},953:function(e,t,i){"use strict";i.d(t,"a",function(){return r});var n=i(30),r=function(){function e(){this.previousWorldMatrices={},this.previousBones={}}return e.AddUniforms=function(e){e.push("previousWorld","previousViewProjection")},e.AddSamplers=function(e){},e.prototype.bindForSubMesh=function(e,t,i,r,o){t.prePassRenderer&&t.prePassRenderer.enabled&&-1!==t.prePassRenderer.getIndex(2)&&(this.previousWorldMatrices[i.uniqueId]||(this.previousWorldMatrices[i.uniqueId]=n.a.Identity()),this.previousViewProjection||(this.previousViewProjection=t.getTransformMatrix()),e.setMatrix("previousWorld",this.previousWorldMatrices[i.uniqueId]),e.setMatrix("previousViewProjection",this.previousViewProjection),this.previousWorldMatrices[i.uniqueId]=r.clone(),this.previousViewProjection=t.getTransformMatrix().clone())},e}()},954:function(e,t,i){"use strict";i.d(t,"a",function(){return o});var n=i(644),r=i(30),o=function(e){function t(t,i){var n=e.call(this,t,i)||this;return n._normalMatrix=new r.a,n._storeEffectOnSubMeshes=!0,n}return Object(n.c)(t,e),t.prototype.getEffect=function(){return this._activeEffect},t.prototype.isReady=function(e,t){return!!e&&(!e.subMeshes||0===e.subMeshes.length||this.isReadyForSubMesh(e,e.subMeshes[0],t))},t.prototype._isReadyForSubMesh=function(e){var t=e._materialDefines;return!(this.checkReadyOnEveryCall||!e.effect||!t||t._renderId!==this.getScene().getRenderId())},t.prototype.bindOnlyWorldMatrix=function(e){this._activeEffect.setMatrix("world",e)},t.prototype.bindOnlyNormalMatrix=function(e){this._activeEffect.setMatrix("normalMatrix",e)},t.prototype.bind=function(e,t){t&&this.bindForSubMesh(e,t,t.subMeshes[0])},t.prototype._afterBind=function(t,i){void 0===i&&(i=null),e.prototype._afterBind.call(this,t),this.getScene()._cachedEffect=i},t.prototype._mustRebind=function(e,t,i){return void 0===i&&(i=1),e.isCachedMaterialInvalid(this,t,i)},t}(i(677).a)},955:function(e,t,i){"use strict";var n="prePassDeclaration",r="#ifdef PREPASS\n#extension GL_EXT_draw_buffers : require\n#ifdef WEBGL2\nlayout(location=0) out highp vec4 glFragData[{X}];\nhighp vec4 gl_FragColor;\n#endif\n#ifdef PREPASS_DEPTHNORMAL\nvarying highp vec3 vViewPos;\n#endif\n#ifdef PREPASS_VELOCITY\nvarying highp vec4 vCurrentPosition;\nvarying highp vec4 vPreviousPosition;\n#endif\n#endif\n";i(642).a.IncludesShadersStore[n]=r},956:function(e,t,i){"use strict";var n="shadowsFragmentFunctions",r="#ifdef SHADOWS\n#ifndef SHADOWFLOAT\n\nfloat unpack(vec4 color)\n{\nconst vec4 bit_shift=vec4(1.0/(255.0*255.0*255.0),1.0/(255.0*255.0),1.0/255.0,1.0);\nreturn dot(color,bit_shift);\n}\n#endif\nfloat computeFallOff(float value,vec2 clipSpace,float frustumEdgeFalloff)\n{\nfloat mask=smoothstep(1.0-frustumEdgeFalloff,1.00000012,clamp(dot(clipSpace,clipSpace),0.,1.));\nreturn mix(value,1.0,mask);\n}\n#define inline\nfloat computeShadowCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\ndepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadow=textureCube(shadowSampler,directionToLight).x;\n#endif\nreturn depth>shadow ? darkness : 1.0;\n}\n#define inline\nfloat computeShadowWithPoissonSamplingCube(vec3 lightPosition,samplerCube shadowSampler,float mapSize,float darkness,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\ndepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\nfloat visibility=1.;\nvec3 poissonDisk[4];\npoissonDisk[0]=vec3(-1.0,1.0,-1.0);\npoissonDisk[1]=vec3(1.0,-1.0,-1.0);\npoissonDisk[2]=vec3(-1.0,-1.0,-1.0);\npoissonDisk[3]=vec3(1.0,-1.0,1.0);\n\n#ifndef SHADOWFLOAT\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize))<depth) visibility-=0.25;\nif (unpack(textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize))<depth) visibility-=0.25;\n#else\nif (textureCube(shadowSampler,directionToLight+poissonDisk[0]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[1]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[2]*mapSize).x<depth) visibility-=0.25;\nif (textureCube(shadowSampler,directionToLight+poissonDisk[3]*mapSize).x<depth) visibility-=0.25;\n#endif\nreturn min(1.0,visibility+darkness);\n}\n#define inline\nfloat computeShadowWithESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\n#endif\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness);\nreturn esm;\n}\n#define inline\nfloat computeShadowWithCloseESMCube(vec3 lightPosition,samplerCube shadowSampler,float darkness,float depthScale,vec2 depthValues)\n{\nvec3 directionToLight=vPositionW-lightPosition;\nfloat depth=length(directionToLight);\ndepth=(depth+depthValues.x)/(depthValues.y);\nfloat shadowPixelDepth=clamp(depth,0.,1.0);\ndirectionToLight=normalize(directionToLight);\ndirectionToLight.y=-directionToLight.y;\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(textureCube(shadowSampler,directionToLight));\n#else\nfloat shadowMapSample=textureCube(shadowSampler,directionToLight).x;\n#endif\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\nreturn esm;\n}\n#ifdef WEBGL2\n#define inline\nfloat computeShadowCSM(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nvec3 uvLayer=vec3(uv.x,uv.y,layer);\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(texture2D(shadowSampler,uvLayer));\n#else\nfloat shadow=texture2D(shadowSampler,uvLayer).x;\n#endif\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\n}\n#endif\n#define inline\nfloat computeShadow(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadow=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadow=texture2D(shadowSampler,uv).x;\n#endif\nreturn shadowPixelDepth>shadow ? computeFallOff(darkness,clipSpace.xy,frustumEdgeFalloff) : 1.;\n}\n}\n#define inline\nfloat computeShadowWithPoissonSampling(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float mapSize,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\nfloat visibility=1.;\nvec2 poissonDisk[4];\npoissonDisk[0]=vec2(-0.94201624,-0.39906216);\npoissonDisk[1]=vec2(0.94558609,-0.76890725);\npoissonDisk[2]=vec2(-0.094184101,-0.92938870);\npoissonDisk[3]=vec2(0.34495938,0.29387760);\n\n#ifndef SHADOWFLOAT\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[0]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[1]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[2]*mapSize))<shadowPixelDepth) visibility-=0.25;\nif (unpack(texture2D(shadowSampler,uv+poissonDisk[3]*mapSize))<shadowPixelDepth) visibility-=0.25;\n#else\nif (texture2D(shadowSampler,uv+poissonDisk[0]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[1]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[2]*mapSize).x<shadowPixelDepth) visibility-=0.25;\nif (texture2D(shadowSampler,uv+poissonDisk[3]*mapSize).x<shadowPixelDepth) visibility-=0.25;\n#endif\nreturn computeFallOff(min(1.0,visibility+darkness),clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#define inline\nfloat computeShadowWithESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\n#endif\nfloat esm=1.0-clamp(exp(min(87.,depthScale*shadowPixelDepth))*shadowMapSample,0.,1.-darkness);\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#define inline\nfloat computeShadowWithCloseESM(vec4 vPositionFromLight,float depthMetric,sampler2D shadowSampler,float darkness,float depthScale,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec2 uv=0.5*clipSpace.xy+vec2(0.5);\nif (uv.x<0. || uv.x>1.0 || uv.y<0. || uv.y>1.0)\n{\nreturn 1.0;\n}\nelse\n{\nfloat shadowPixelDepth=clamp(depthMetric,0.,1.0);\n#ifndef SHADOWFLOAT\nfloat shadowMapSample=unpack(texture2D(shadowSampler,uv));\n#else\nfloat shadowMapSample=texture2D(shadowSampler,uv).x;\n#endif\nfloat esm=clamp(exp(min(87.,-depthScale*(shadowPixelDepth-shadowMapSample))),darkness,1.);\nreturn computeFallOff(esm,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n#ifdef WEBGL2\n#define GREATEST_LESS_THAN_ONE 0.99999994\n\n#define inline\nfloat computeShadowWithCSMPCF1(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\nfloat shadow=texture(shadowSampler,uvDepthLayer);\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n\n\n#define inline\nfloat computeShadowWithCSMPCF3(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\n\n\nvec2 uvw0=3.-2.*st;\nvec2 uvw1=1.+2.*st;\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\nshadow=shadow/16.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n\n\n#define inline\nfloat computeShadowWithCSMPCF5(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArrayShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\nvec2 uvw0=4.-3.*st;\nvec2 uvw1=vec2(7.);\nvec2 uvw2=1.+3.*st;\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[0]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[0]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[0]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[1]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[1]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[1]),layer,uvDepth.z));\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[0],v[2]),layer,uvDepth.z));\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[1],v[2]),layer,uvDepth.z));\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec4(base_uv.xy+vec2(u[2],v[2]),layer,uvDepth.z));\nshadow=shadow/144.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n\n#define inline\nfloat computeShadowWithPCF1(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nfloat shadow=texture2D(shadowSampler,uvDepth);\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n#define inline\nfloat computeShadowWithPCF3(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\n\n\nvec2 uvw0=3.-2.*st;\nvec2 uvw1=1.+2.*st;\nvec2 u=vec2((2.-st.x)/uvw0.x-1.,st.x/uvw1.x+1.)*shadowMapSizeAndInverse.y;\nvec2 v=vec2((2.-st.y)/uvw0.y-1.,st.y/uvw1.y+1.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\nshadow=shadow/16.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n#define inline\nfloat computeShadowWithPCF5(vec4 vPositionFromLight,float depthMetric,highp sampler2DShadow shadowSampler,vec2 shadowMapSizeAndInverse,float darkness,float frustumEdgeFalloff)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nvec2 uv=uvDepth.xy*shadowMapSizeAndInverse.x;\nuv+=0.5;\nvec2 st=fract(uv);\nvec2 base_uv=floor(uv)-0.5;\nbase_uv*=shadowMapSizeAndInverse.y;\n\n\nvec2 uvw0=4.-3.*st;\nvec2 uvw1=vec2(7.);\nvec2 uvw2=1.+3.*st;\nvec3 u=vec3((3.-2.*st.x)/uvw0.x-2.,(3.+st.x)/uvw1.x,st.x/uvw2.x+2.)*shadowMapSizeAndInverse.y;\nvec3 v=vec3((3.-2.*st.y)/uvw0.y-2.,(3.+st.y)/uvw1.y,st.y/uvw2.y+2.)*shadowMapSizeAndInverse.y;\nfloat shadow=0.;\nshadow+=uvw0.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[0]),uvDepth.z));\nshadow+=uvw1.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[0]),uvDepth.z));\nshadow+=uvw2.x*uvw0.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[0]),uvDepth.z));\nshadow+=uvw0.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[1]),uvDepth.z));\nshadow+=uvw1.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[1]),uvDepth.z));\nshadow+=uvw2.x*uvw1.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[1]),uvDepth.z));\nshadow+=uvw0.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[0],v[2]),uvDepth.z));\nshadow+=uvw1.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[1],v[2]),uvDepth.z));\nshadow+=uvw2.x*uvw2.y*texture2D(shadowSampler,vec3(base_uv.xy+vec2(u[2],v[2]),uvDepth.z));\nshadow=shadow/144.;\nshadow=mix(darkness,1.,shadow);\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\nconst vec3 PoissonSamplers32[64]=vec3[64](\nvec3(0.06407013,0.05409927,0.),\nvec3(0.7366577,0.5789394,0.),\nvec3(-0.6270542,-0.5320278,0.),\nvec3(-0.4096107,0.8411095,0.),\nvec3(0.6849564,-0.4990818,0.),\nvec3(-0.874181,-0.04579735,0.),\nvec3(0.9989998,0.0009880066,0.),\nvec3(-0.004920578,-0.9151649,0.),\nvec3(0.1805763,0.9747483,0.),\nvec3(-0.2138451,0.2635818,0.),\nvec3(0.109845,0.3884785,0.),\nvec3(0.06876755,-0.3581074,0.),\nvec3(0.374073,-0.7661266,0.),\nvec3(0.3079132,-0.1216763,0.),\nvec3(-0.3794335,-0.8271583,0.),\nvec3(-0.203878,-0.07715034,0.),\nvec3(0.5912697,0.1469799,0.),\nvec3(-0.88069,0.3031784,0.),\nvec3(0.5040108,0.8283722,0.),\nvec3(-0.5844124,0.5494877,0.),\nvec3(0.6017799,-0.1726654,0.),\nvec3(-0.5554981,0.1559997,0.),\nvec3(-0.3016369,-0.3900928,0.),\nvec3(-0.5550632,-0.1723762,0.),\nvec3(0.925029,0.2995041,0.),\nvec3(-0.2473137,0.5538505,0.),\nvec3(0.9183037,-0.2862392,0.),\nvec3(0.2469421,0.6718712,0.),\nvec3(0.3916397,-0.4328209,0.),\nvec3(-0.03576927,-0.6220032,0.),\nvec3(-0.04661255,0.7995201,0.),\nvec3(0.4402924,0.3640312,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.),\nvec3(0.,0.,0.)\n);\nconst vec3 PoissonSamplers64[64]=vec3[64](\nvec3(-0.613392,0.617481,0.),\nvec3(0.170019,-0.040254,0.),\nvec3(-0.299417,0.791925,0.),\nvec3(0.645680,0.493210,0.),\nvec3(-0.651784,0.717887,0.),\nvec3(0.421003,0.027070,0.),\nvec3(-0.817194,-0.271096,0.),\nvec3(-0.705374,-0.668203,0.),\nvec3(0.977050,-0.108615,0.),\nvec3(0.063326,0.142369,0.),\nvec3(0.203528,0.214331,0.),\nvec3(-0.667531,0.326090,0.),\nvec3(-0.098422,-0.295755,0.),\nvec3(-0.885922,0.215369,0.),\nvec3(0.566637,0.605213,0.),\nvec3(0.039766,-0.396100,0.),\nvec3(0.751946,0.453352,0.),\nvec3(0.078707,-0.715323,0.),\nvec3(-0.075838,-0.529344,0.),\nvec3(0.724479,-0.580798,0.),\nvec3(0.222999,-0.215125,0.),\nvec3(-0.467574,-0.405438,0.),\nvec3(-0.248268,-0.814753,0.),\nvec3(0.354411,-0.887570,0.),\nvec3(0.175817,0.382366,0.),\nvec3(0.487472,-0.063082,0.),\nvec3(-0.084078,0.898312,0.),\nvec3(0.488876,-0.783441,0.),\nvec3(0.470016,0.217933,0.),\nvec3(-0.696890,-0.549791,0.),\nvec3(-0.149693,0.605762,0.),\nvec3(0.034211,0.979980,0.),\nvec3(0.503098,-0.308878,0.),\nvec3(-0.016205,-0.872921,0.),\nvec3(0.385784,-0.393902,0.),\nvec3(-0.146886,-0.859249,0.),\nvec3(0.643361,0.164098,0.),\nvec3(0.634388,-0.049471,0.),\nvec3(-0.688894,0.007843,0.),\nvec3(0.464034,-0.188818,0.),\nvec3(-0.440840,0.137486,0.),\nvec3(0.364483,0.511704,0.),\nvec3(0.034028,0.325968,0.),\nvec3(0.099094,-0.308023,0.),\nvec3(0.693960,-0.366253,0.),\nvec3(0.678884,-0.204688,0.),\nvec3(0.001801,0.780328,0.),\nvec3(0.145177,-0.898984,0.),\nvec3(0.062655,-0.611866,0.),\nvec3(0.315226,-0.604297,0.),\nvec3(-0.780145,0.486251,0.),\nvec3(-0.371868,0.882138,0.),\nvec3(0.200476,0.494430,0.),\nvec3(-0.494552,-0.711051,0.),\nvec3(0.612476,0.705252,0.),\nvec3(-0.578845,-0.768792,0.),\nvec3(-0.772454,-0.090976,0.),\nvec3(0.504440,0.372295,0.),\nvec3(0.155736,0.065157,0.),\nvec3(0.391522,0.849605,0.),\nvec3(-0.620106,-0.328104,0.),\nvec3(0.789239,-0.419965,0.),\nvec3(-0.545396,0.538133,0.),\nvec3(-0.178564,-0.596057,0.)\n);\n\n\n\n\n\n#define inline\nfloat computeShadowWithCSMPCSS(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nuvDepth.z=clamp(uvDepth.z,0.,GREATEST_LESS_THAN_ONE);\nvec4 uvDepthLayer=vec4(uvDepth.x,uvDepth.y,layer,uvDepth.z);\nfloat blockerDepth=0.0;\nfloat sumBlockerDepth=0.0;\nfloat numBlocker=0.0;\nfor (int i=0; i<searchTapCount; i ++) {\nblockerDepth=texture(depthSampler,vec3(uvDepth.xy+(lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse*PoissonSamplers32[i].xy),layer)).r;\nif (blockerDepth<depthMetric) {\nsumBlockerDepth+=blockerDepth;\nnumBlocker++;\n}\n}\nif (numBlocker<1.0) {\nreturn 1.0;\n}\nelse\n{\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\n\nfloat AAOffset=shadowMapSizeInverse*10.;\n\n\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)*depthCorrection+AAOffset);\nvec4 filterRadius=vec4(penumbraRatio*lightSizeUV*lightSizeUVCorrection*shadowMapSizeInverse,0.,0.);\nfloat random=getRand(vPositionFromLight.xy);\nfloat rotationAngle=random*3.1415926;\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\nfloat shadow=0.;\nfor (int i=0; i<pcfTapCount; i++) {\nvec4 offset=vec4(poissonSamplers[i],0.);\n\noffset=vec4(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.,0.);\nshadow+=texture2D(shadowSampler,uvDepthLayer+offset*filterRadius);\n}\nshadow/=float(pcfTapCount);\n\nshadow=mix(shadow,1.,min((depthMetric-avgBlockerDepth)*depthCorrection*penumbraDarkness,1.));\n\nshadow=mix(darkness,1.,shadow);\n\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n\n\n\n\n\n#define inline\nfloat computeShadowWithPCSS(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,int searchTapCount,int pcfTapCount,vec3[64] poissonSamplers)\n{\nif (depthMetric>1.0 || depthMetric<0.0) {\nreturn 1.0;\n}\nelse\n{\nvec3 clipSpace=vPositionFromLight.xyz/vPositionFromLight.w;\nvec3 uvDepth=vec3(0.5*clipSpace.xyz+vec3(0.5));\nfloat blockerDepth=0.0;\nfloat sumBlockerDepth=0.0;\nfloat numBlocker=0.0;\nfor (int i=0; i<searchTapCount; i ++) {\nblockerDepth=texture(depthSampler,uvDepth.xy+(lightSizeUV*shadowMapSizeInverse*PoissonSamplers32[i].xy)).r;\nif (blockerDepth<depthMetric) {\nsumBlockerDepth+=blockerDepth;\nnumBlocker++;\n}\n}\nif (numBlocker<1.0) {\nreturn 1.0;\n}\nelse\n{\nfloat avgBlockerDepth=sumBlockerDepth/numBlocker;\n\nfloat AAOffset=shadowMapSizeInverse*10.;\n\n\nfloat penumbraRatio=((depthMetric-avgBlockerDepth)+AAOffset);\nfloat filterRadius=penumbraRatio*lightSizeUV*shadowMapSizeInverse;\nfloat random=getRand(vPositionFromLight.xy);\nfloat rotationAngle=random*3.1415926;\nvec2 rotationVector=vec2(cos(rotationAngle),sin(rotationAngle));\nfloat shadow=0.;\nfor (int i=0; i<pcfTapCount; i++) {\nvec3 offset=poissonSamplers[i];\n\noffset=vec3(offset.x*rotationVector.x-offset.y*rotationVector.y,offset.y*rotationVector.x+offset.x*rotationVector.y,0.);\nshadow+=texture2D(shadowSampler,uvDepth+offset*filterRadius);\n}\nshadow/=float(pcfTapCount);\n\nshadow=mix(shadow,1.,depthMetric-avgBlockerDepth);\n\nshadow=mix(darkness,1.,shadow);\n\nreturn computeFallOff(shadow,clipSpace.xy,frustumEdgeFalloff);\n}\n}\n}\n#define inline\nfloat computeShadowWithPCSS16(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32);\n}\n#define inline\nfloat computeShadowWithPCSS32(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32);\n}\n#define inline\nfloat computeShadowWithPCSS64(vec4 vPositionFromLight,float depthMetric,sampler2D depthSampler,highp sampler2DShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff)\n{\nreturn computeShadowWithPCSS(vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64);\n}\n#define inline\nfloat computeShadowWithCSMPCSS16(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,16,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#define inline\nfloat computeShadowWithCSMPCSS32(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,16,32,PoissonSamplers32,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#define inline\nfloat computeShadowWithCSMPCSS64(float layer,vec4 vPositionFromLight,float depthMetric,highp sampler2DArray depthSampler,highp sampler2DArrayShadow shadowSampler,float shadowMapSizeInverse,float lightSizeUV,float darkness,float frustumEdgeFalloff,vec2 lightSizeUVCorrection,float depthCorrection,float penumbraDarkness)\n{\nreturn computeShadowWithCSMPCSS(layer,vPositionFromLight,depthMetric,depthSampler,shadowSampler,shadowMapSizeInverse,lightSizeUV,darkness,frustumEdgeFalloff,32,64,PoissonSamplers64,lightSizeUVCorrection,depthCorrection,penumbraDarkness);\n}\n#endif\n#endif\n";i(642).a.IncludesShadersStore[n]=r},957:function(e,t,i){"use strict";var n="reflectionFunction",r="vec3 parallaxCorrectNormal( vec3 vertexPos,vec3 origVec,vec3 cubeSize,vec3 cubePos ) {\n\nvec3 invOrigVec=vec3(1.0,1.0,1.0)/origVec;\nvec3 halfSize=cubeSize*0.5;\nvec3 intersecAtMaxPlane=(cubePos+halfSize-vertexPos)*invOrigVec;\nvec3 intersecAtMinPlane=(cubePos-halfSize-vertexPos)*invOrigVec;\n\nvec3 largestIntersec=max(intersecAtMaxPlane,intersecAtMinPlane);\n\nfloat distance=min(min(largestIntersec.x,largestIntersec.y),largestIntersec.z);\n\nvec3 intersectPositionWS=vertexPos+origVec*distance;\n\nreturn intersectPositionWS-cubePos;\n}\nvec3 computeFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\n{\nfloat lon=atan(direction.z,direction.x);\nfloat lat=acos(direction.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(s,t,0);\n}\nvec3 computeMirroredFixedEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 direction)\n{\nfloat lon=atan(direction.z,direction.x);\nfloat lat=acos(direction.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(1.0-s,t,0);\n}\nvec3 computeEquirectangularCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 cameraToVertex=normalize(worldPos.xyz-eyePosition);\nvec3 r=normalize(reflect(cameraToVertex,worldNormal));\nr=vec3(reflectionMatrix*vec4(r,0));\nfloat lon=atan(r.z,r.x);\nfloat lat=acos(r.y);\nvec2 sphereCoords=vec2(lon,lat)*RECIPROCAL_PI2*2.0;\nfloat s=sphereCoords.x*0.5+0.5;\nfloat t=sphereCoords.y;\nreturn vec3(s,t,0);\n}\nvec3 computeSphericalCoords(vec4 worldPos,vec3 worldNormal,mat4 view,mat4 reflectionMatrix)\n{\nvec3 viewDir=normalize(vec3(view*worldPos));\nvec3 viewNormal=normalize(vec3(view*vec4(worldNormal,0.0)));\nvec3 r=reflect(viewDir,viewNormal);\nr=vec3(reflectionMatrix*vec4(r,0));\nr.z=r.z-1.0;\nfloat m=2.0*length(r);\nreturn vec3(r.x/m+0.5,1.0-r.y/m-0.5,0);\n}\nvec3 computePlanarCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 viewDir=worldPos.xyz-eyePosition;\nvec3 coords=normalize(reflect(viewDir,worldNormal));\nreturn vec3(reflectionMatrix*vec4(coords,1));\n}\nvec3 computeCubicCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix)\n{\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\n\nvec3 coords=reflect(viewDir,worldNormal);\ncoords=vec3(reflectionMatrix*vec4(coords,0));\n#ifdef INVERTCUBICMAP\ncoords.y*=-1.0;\n#endif\nreturn coords;\n}\nvec3 computeCubicLocalCoords(vec4 worldPos,vec3 worldNormal,vec3 eyePosition,mat4 reflectionMatrix,vec3 reflectionSize,vec3 reflectionPosition)\n{\nvec3 viewDir=normalize(worldPos.xyz-eyePosition);\n\nvec3 coords=reflect(viewDir,worldNormal);\ncoords=parallaxCorrectNormal(worldPos.xyz,coords,reflectionSize,reflectionPosition);\ncoords=vec3(reflectionMatrix*vec4(coords,0));\n#ifdef INVERTCUBICMAP\ncoords.y*=-1.0;\n#endif\nreturn coords;\n}\nvec3 computeProjectionCoords(vec4 worldPos,mat4 view,mat4 reflectionMatrix)\n{\nreturn vec3(reflectionMatrix*(view*worldPos));\n}\nvec3 computeSkyBoxCoords(vec3 positionW,mat4 reflectionMatrix)\n{\nreturn vec3(reflectionMatrix*vec4(positionW,1.));\n}\n#ifdef REFLECTION\nvec3 computeReflectionCoords(vec4 worldPos,vec3 worldNormal)\n{\n#ifdef REFLECTIONMAP_MIRROREDEQUIRECTANGULAR_FIXED\nvec3 direction=normalize(vDirectionW);\nreturn computeMirroredFixedEquirectangularCoords(worldPos,worldNormal,direction);\n#endif\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR_FIXED\nvec3 direction=normalize(vDirectionW);\nreturn computeFixedEquirectangularCoords(worldPos,worldNormal,direction);\n#endif\n#ifdef REFLECTIONMAP_EQUIRECTANGULAR\nreturn computeEquirectangularCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_SPHERICAL\nreturn computeSphericalCoords(worldPos,worldNormal,view,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_PLANAR\nreturn computePlanarCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_CUBIC\n#ifdef USE_LOCAL_REFLECTIONMAP_CUBIC\nreturn computeCubicLocalCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix,vReflectionSize,vReflectionPosition);\n#else\nreturn computeCubicCoords(worldPos,worldNormal,vEyePosition.xyz,reflectionMatrix);\n#endif\n#endif\n#ifdef REFLECTIONMAP_PROJECTION\nreturn computeProjectionCoords(worldPos,view,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_SKYBOX\nreturn computeSkyBoxCoords(vPositionUVW,reflectionMatrix);\n#endif\n#ifdef REFLECTIONMAP_EXPLICIT\nreturn vec3(0,0,0);\n#endif\n}\n#endif";i(642).a.IncludesShadersStore[n]=r},958:function(e,t,i){"use strict";var n="imageProcessingDeclaration",r="#ifdef EXPOSURE\nuniform float exposureLinear;\n#endif\n#ifdef CONTRAST\nuniform float contrast;\n#endif\n#ifdef VIGNETTE\nuniform vec2 vInverseScreenSize;\nuniform vec4 vignetteSettings1;\nuniform vec4 vignetteSettings2;\n#endif\n#ifdef COLORCURVES\nuniform vec4 vCameraColorCurveNegative;\nuniform vec4 vCameraColorCurveNeutral;\nuniform vec4 vCameraColorCurvePositive;\n#endif\n#ifdef COLORGRADING\n#ifdef COLORGRADING3D\nuniform highp sampler3D txColorTransform;\n#else\nuniform sampler2D txColorTransform;\n#endif\nuniform vec4 colorTransformSettings;\n#endif";i(642).a.IncludesShadersStore[n]=r},959:function(e,t,i){"use strict";var n="imageProcessingFunctions",r="#if defined(COLORGRADING) && !defined(COLORGRADING3D)\n\n#define inline\nvec3 sampleTexture3D(sampler2D colorTransform,vec3 color,vec2 sampler3dSetting)\n{\nfloat sliceSize=2.0*sampler3dSetting.x;\n#ifdef SAMPLER3DGREENDEPTH\nfloat sliceContinuous=(color.g-sampler3dSetting.x)*sampler3dSetting.y;\n#else\nfloat sliceContinuous=(color.b-sampler3dSetting.x)*sampler3dSetting.y;\n#endif\nfloat sliceInteger=floor(sliceContinuous);\n\n\nfloat sliceFraction=sliceContinuous-sliceInteger;\n#ifdef SAMPLER3DGREENDEPTH\nvec2 sliceUV=color.rb;\n#else\nvec2 sliceUV=color.rg;\n#endif\nsliceUV.x*=sliceSize;\nsliceUV.x+=sliceInteger*sliceSize;\nsliceUV=saturate(sliceUV);\nvec4 slice0Color=texture2D(colorTransform,sliceUV);\nsliceUV.x+=sliceSize;\nsliceUV=saturate(sliceUV);\nvec4 slice1Color=texture2D(colorTransform,sliceUV);\nvec3 result=mix(slice0Color.rgb,slice1Color.rgb,sliceFraction);\n#ifdef SAMPLER3DBGRMAP\ncolor.rgb=result.rgb;\n#else\ncolor.rgb=result.bgr;\n#endif\nreturn color;\n}\n#endif\n#ifdef TONEMAPPING_ACES\n\n\n\n\n\nconst mat3 ACESInputMat=mat3(\nvec3(0.59719,0.07600,0.02840),\nvec3(0.35458,0.90834,0.13383),\nvec3(0.04823,0.01566,0.83777)\n);\n\nconst mat3 ACESOutputMat=mat3(\nvec3( 1.60475,-0.10208,-0.00327),\nvec3(-0.53108,1.10813,-0.07276),\nvec3(-0.07367,-0.00605,1.07602)\n);\nvec3 RRTAndODTFit(vec3 v)\n{\nvec3 a=v*(v+0.0245786)-0.000090537;\nvec3 b=v*(0.983729*v+0.4329510)+0.238081;\nreturn a/b;\n}\nvec3 ACESFitted(vec3 color)\n{\ncolor=ACESInputMat*color;\n\ncolor=RRTAndODTFit(color);\ncolor=ACESOutputMat*color;\n\ncolor=saturate(color);\nreturn color;\n}\n#endif\nvec4 applyImageProcessing(vec4 result) {\n#ifdef EXPOSURE\nresult.rgb*=exposureLinear;\n#endif\n#ifdef VIGNETTE\n\nvec2 viewportXY=gl_FragCoord.xy*vInverseScreenSize;\nviewportXY=viewportXY*2.0-1.0;\nvec3 vignetteXY1=vec3(viewportXY*vignetteSettings1.xy+vignetteSettings1.zw,1.0);\nfloat vignetteTerm=dot(vignetteXY1,vignetteXY1);\nfloat vignette=pow(vignetteTerm,vignetteSettings2.w);\n\nvec3 vignetteColor=vignetteSettings2.rgb;\n#ifdef VIGNETTEBLENDMODEMULTIPLY\nvec3 vignetteColorMultiplier=mix(vignetteColor,vec3(1,1,1),vignette);\nresult.rgb*=vignetteColorMultiplier;\n#endif\n#ifdef VIGNETTEBLENDMODEOPAQUE\nresult.rgb=mix(vignetteColor,result.rgb,vignette);\n#endif\n#endif\n#ifdef TONEMAPPING\n#ifdef TONEMAPPING_ACES\nresult.rgb=ACESFitted(result.rgb);\n#else\nconst float tonemappingCalibration=1.590579;\nresult.rgb=1.0-exp2(-tonemappingCalibration*result.rgb);\n#endif\n#endif\n\nresult.rgb=toGammaSpace(result.rgb);\nresult.rgb=saturate(result.rgb);\n#ifdef CONTRAST\n\nvec3 resultHighContrast=result.rgb*result.rgb*(3.0-2.0*result.rgb);\nif (contrast<1.0) {\n\nresult.rgb=mix(vec3(0.5,0.5,0.5),result.rgb,contrast);\n} else {\n\nresult.rgb=mix(result.rgb,resultHighContrast,contrast-1.0);\n}\n#endif\n\n#ifdef COLORGRADING\nvec3 colorTransformInput=result.rgb*colorTransformSettings.xxx+colorTransformSettings.yyy;\n#ifdef COLORGRADING3D\nvec3 colorTransformOutput=texture(txColorTransform,colorTransformInput).rgb;\n#else\nvec3 colorTransformOutput=sampleTexture3D(txColorTransform,colorTransformInput,colorTransformSettings.yz).rgb;\n#endif\nresult.rgb=mix(result.rgb,colorTransformOutput,colorTransformSettings.www);\n#endif\n#ifdef COLORCURVES\n\nfloat luma=getLuminance(result.rgb);\nvec2 curveMix=clamp(vec2(luma*3.0-1.5,luma*-3.0+1.5),vec2(0.0),vec2(1.0));\nvec4 colorCurve=vCameraColorCurveNeutral+curveMix.x*vCameraColorCurvePositive-curveMix.y*vCameraColorCurveNegative;\nresult.rgb*=colorCurve.rgb;\nresult.rgb=mix(vec3(luma),result.rgb,colorCurve.a);\n#endif\nreturn result;\n}";i(642).a.IncludesShadersStore[n]=r},960:function(e,t,i){"use strict";var n="bumpFragmentMainFunctions",r="#if defined(BUMP) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC) || defined(DETAIL)\n#if defined(TANGENT) && defined(NORMAL)\nvarying mat3 vTBN;\n#endif\n#ifdef OBJECTSPACE_NORMALMAP\nuniform mat4 normalMatrix;\n#endif\nvec3 perturbNormalBase(mat3 cotangentFrame,vec3 normal,float scale)\n{\n#ifdef NORMALXYSCALE\nnormal=normalize(normal*vec3(scale,scale,1.0));\n#endif\nreturn normalize(cotangentFrame*normal);\n}\nvec3 perturbNormal(mat3 cotangentFrame,vec3 textureSample,float scale)\n{\nreturn perturbNormalBase(cotangentFrame,textureSample*2.0-1.0,scale);\n}\n\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv,vec2 tangentSpaceParams)\n{\n\nuv=gl_FrontFacing ? uv : -uv;\n\nvec3 dp1=dFdx(p);\nvec3 dp2=dFdy(p);\nvec2 duv1=dFdx(uv);\nvec2 duv2=dFdy(uv);\n\nvec3 dp2perp=cross(dp2,normal);\nvec3 dp1perp=cross(normal,dp1);\nvec3 tangent=dp2perp*duv1.x+dp1perp*duv2.x;\nvec3 bitangent=dp2perp*duv1.y+dp1perp*duv2.y;\n\ntangent*=tangentSpaceParams.x;\nbitangent*=tangentSpaceParams.y;\n\nfloat invmax=inversesqrt(max(dot(tangent,tangent),dot(bitangent,bitangent)));\nreturn mat3(tangent*invmax,bitangent*invmax,normal);\n}\n#endif\n";i(642).a.IncludesShadersStore[n]=r},961:function(e,t,i){"use strict";var n="bumpFragmentFunctions",r="#if defined(BUMP)\n#if BUMPDIRECTUV == 1\n#define vBumpUV vMainUV1\n#elif BUMPDIRECTUV == 2\n#define vBumpUV vMainUV2\n#else\nvarying vec2 vBumpUV;\n#endif\nuniform sampler2D bumpSampler;\nvec3 perturbNormal(mat3 cotangentFrame,vec2 uv)\n{\nreturn perturbNormal(cotangentFrame,texture2D(bumpSampler,uv).xyz,vBumpInfos.y);\n}\n#endif\n#if defined(DETAIL)\n#if DETAILDIRECTUV == 1\n#define vDetailUV vMainUV1\n#elif DETAILDIRECTUV == 2\n#define vDetailUV vMainUV2\n#else\nvarying vec2 vDetailUV;\n#endif\nuniform sampler2D detailSampler;\n#endif\n#if defined(BUMP)\nvec3 perturbNormal(mat3 cotangentFrame,vec3 color)\n{\nreturn perturbNormal(cotangentFrame,color,vBumpInfos.y);\n}\n\nmat3 cotangent_frame(vec3 normal,vec3 p,vec2 uv)\n{\nreturn cotangent_frame(normal,p,uv,vTangentSpaceParams);\n}\n#endif\n#if defined(BUMP) && defined(PARALLAX)\nconst float minSamples=4.;\nconst float maxSamples=15.;\nconst int iMaxSamples=15;\n\nvec2 parallaxOcclusion(vec3 vViewDirCoT,vec3 vNormalCoT,vec2 texCoord,float parallaxScale) {\nfloat parallaxLimit=length(vViewDirCoT.xy)/vViewDirCoT.z;\nparallaxLimit*=parallaxScale;\nvec2 vOffsetDir=normalize(vViewDirCoT.xy);\nvec2 vMaxOffset=vOffsetDir*parallaxLimit;\nfloat numSamples=maxSamples+(dot(vViewDirCoT,vNormalCoT)*(minSamples-maxSamples));\nfloat stepSize=1.0/numSamples;\n\nfloat currRayHeight=1.0;\nvec2 vCurrOffset=vec2(0,0);\nvec2 vLastOffset=vec2(0,0);\nfloat lastSampledHeight=1.0;\nfloat currSampledHeight=1.0;\nfor (int i=0; i<iMaxSamples; i++)\n{\ncurrSampledHeight=texture2D(bumpSampler,vBumpUV+vCurrOffset).w;\n\nif (currSampledHeight>currRayHeight)\n{\nfloat delta1=currSampledHeight-currRayHeight;\nfloat delta2=(currRayHeight+stepSize)-lastSampledHeight;\nfloat ratio=delta1/(delta1+delta2);\nvCurrOffset=(ratio)* vLastOffset+(1.0-ratio)*vCurrOffset;\n\nbreak;\n}\nelse\n{\ncurrRayHeight-=stepSize;\nvLastOffset=vCurrOffset;\nvCurrOffset+=stepSize*vMaxOffset;\nlastSampledHeight=currSampledHeight;\n}\n}\nreturn vCurrOffset;\n}\nvec2 parallaxOffset(vec3 viewDir,float heightScale)\n{\n\nfloat height=texture2D(bumpSampler,vBumpUV).w;\nvec2 texCoordOffset=heightScale*viewDir.xy*height;\nreturn -texCoordOffset;\n}\n#endif";i(642).a.IncludesShadersStore[n]=r},962:function(e,t,i){"use strict";var n="fogFragmentDeclaration",r="#ifdef FOG\n#define FOGMODE_NONE 0.\n#define FOGMODE_EXP 1.\n#define FOGMODE_EXP2 2.\n#define FOGMODE_LINEAR 3.\n#define E 2.71828\nuniform vec4 vFogInfos;\nuniform vec3 vFogColor;\nvarying vec3 vFogDistance;\nfloat CalcFogFactor()\n{\nfloat fogCoeff=1.0;\nfloat fogStart=vFogInfos.y;\nfloat fogEnd=vFogInfos.z;\nfloat fogDensity=vFogInfos.w;\nfloat fogDistance=length(vFogDistance);\nif (FOGMODE_LINEAR == vFogInfos.x)\n{\nfogCoeff=(fogEnd-fogDistance)/(fogEnd-fogStart);\n}\nelse if (FOGMODE_EXP == vFogInfos.x)\n{\nfogCoeff=1.0/pow(E,fogDistance*fogDensity);\n}\nelse if (FOGMODE_EXP2 == vFogInfos.x)\n{\nfogCoeff=1.0/pow(E,fogDistance*fogDistance*fogDensity*fogDensity);\n}\nreturn clamp(fogCoeff,0.0,1.0);\n}\n#endif";i(642).a.IncludesShadersStore[n]=r},963:function(e,t,i){"use strict";var n="bumpFragment",r="vec2 uvOffset=vec2(0.0,0.0);\n#if defined(BUMP) || defined(PARALLAX) || defined(DETAIL)\n#ifdef NORMALXYSCALE\nfloat normalScale=1.0;\n#elif defined(BUMP)\nfloat normalScale=vBumpInfos.y;\n#else\nfloat normalScale=1.0;\n#endif\n#if defined(TANGENT) && defined(NORMAL)\nmat3 TBN=vTBN;\n#elif defined(BUMP)\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,vBumpUV);\n#else\nmat3 TBN=cotangent_frame(normalW*normalScale,vPositionW,vDetailUV,vec2(1.,1.));\n#endif\n#elif defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nmat3 TBN=vTBN;\n#else\nmat3 TBN=cotangent_frame(normalW,vPositionW,vMainUV1,vec2(1.,1.));\n#endif\n#endif\n#ifdef PARALLAX\nmat3 invTBN=transposeMat3(TBN);\n#ifdef PARALLAXOCCLUSION\nuvOffset=parallaxOcclusion(invTBN*-viewDirectionW,invTBN*normalW,vBumpUV,vBumpInfos.z);\n#else\nuvOffset=parallaxOffset(invTBN*viewDirectionW,vBumpInfos.z);\n#endif\n#endif\n#ifdef DETAIL\nvec4 detailColor=texture2D(detailSampler,vDetailUV+uvOffset);\nvec2 detailNormalRG=detailColor.wy*2.0-1.0;\nfloat detailNormalB=sqrt(1.-saturate(dot(detailNormalRG,detailNormalRG)));\nvec3 detailNormal=vec3(detailNormalRG,detailNormalB);\n#endif\n#ifdef BUMP\n#ifdef OBJECTSPACE_NORMALMAP\nnormalW=normalize(texture2D(bumpSampler,vBumpUV).xyz*2.0-1.0);\nnormalW=normalize(mat3(normalMatrix)*normalW);\n#elif !defined(DETAIL)\nnormalW=perturbNormal(TBN,vBumpUV+uvOffset);\n#else\nvec3 bumpNormal=texture2D(bumpSampler,vBumpUV+uvOffset).xyz*2.0-1.0;\n\n#if DETAIL_NORMALBLENDMETHOD == 0\ndetailNormal.xy*=vDetailInfos.z;\nvec3 blendedNormal=normalize(vec3(bumpNormal.xy+detailNormal.xy,bumpNormal.z*detailNormal.z));\n#elif DETAIL_NORMALBLENDMETHOD == 1\ndetailNormal.xy*=vDetailInfos.z;\nbumpNormal+=vec3(0.0,0.0,1.0);\ndetailNormal*=vec3(-1.0,-1.0,1.0);\nvec3 blendedNormal=bumpNormal*dot(bumpNormal,detailNormal)/bumpNormal.z-detailNormal;\n#endif\nnormalW=perturbNormalBase(TBN,blendedNormal,vBumpInfos.y);\n#endif\n#elif defined(DETAIL)\ndetailNormal.xy*=vDetailInfos.z;\nnormalW=perturbNormalBase(TBN,detailNormal,vDetailInfos.z);\n#endif";i(642).a.IncludesShadersStore[n]=r},964:function(e,t,i){"use strict";var n="depthPrePass",r="#ifdef DEPTHPREPASS\ngl_FragColor=vec4(0.,0.,0.,1.0);\nreturn;\n#endif";i(642).a.IncludesShadersStore[n]=r},965:function(e,t,i){"use strict";var n="lightFragment",r="#ifdef LIGHT{X}\n#if defined(SHADOWONLY) || defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X}) && defined(LIGHTMAPNOSPECULAR{X})\n\n#else\n#ifdef PBR\n\n#ifdef SPOTLIGHT{X}\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(POINTLIGHT{X})\npreInfo=computePointAndSpotPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(HEMILIGHT{X})\npreInfo=computeHemisphericPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#elif defined(DIRLIGHT{X})\npreInfo=computeDirectionalPreLightingInfo(light{X}.vLightData,viewDirectionW,normalW);\n#endif\npreInfo.NdotV=NdotV;\n\n#ifdef SPOTLIGHT{X}\n#ifdef LIGHT_FALLOFF_GLTF{X}\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\npreInfo.attenuation*=computeDirectionalLightFalloff_GLTF(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\npreInfo.attenuation*=computeDirectionalLightFalloff_Physical(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w);\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\npreInfo.attenuation*=computeDirectionalLightFalloff_Standard(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w);\n#else\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\npreInfo.attenuation*=computeDirectionalLightFalloff(light{X}.vLightDirection.xyz,preInfo.L,light{X}.vLightDirection.w,light{X}.vLightData.w,light{X}.vLightFalloff.z,light{X}.vLightFalloff.w);\n#endif\n#elif defined(POINTLIGHT{X})\n#ifdef LIGHT_FALLOFF_GLTF{X}\npreInfo.attenuation=computeDistanceLightFalloff_GLTF(preInfo.lightDistanceSquared,light{X}.vLightFalloff.y);\n#elif defined(LIGHT_FALLOFF_PHYSICAL{X})\npreInfo.attenuation=computeDistanceLightFalloff_Physical(preInfo.lightDistanceSquared);\n#elif defined(LIGHT_FALLOFF_STANDARD{X})\npreInfo.attenuation=computeDistanceLightFalloff_Standard(preInfo.lightOffset,light{X}.vLightFalloff.x);\n#else\npreInfo.attenuation=computeDistanceLightFalloff(preInfo.lightOffset,preInfo.lightDistanceSquared,light{X}.vLightFalloff.x,light{X}.vLightFalloff.y);\n#endif\n#else\npreInfo.attenuation=1.0;\n#endif\n\n\n#ifdef HEMILIGHT{X}\npreInfo.roughness=roughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(roughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\n\n#ifdef HEMILIGHT{X}\ninfo.diffuse=computeHemisphericDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb,light{X}.vLightGround);\n#elif defined(SS_TRANSLUCENCY)\ninfo.diffuse=computeDiffuseAndTransmittedLighting(preInfo,light{X}.vLightDiffuse.rgb,subSurfaceOut.transmittance);\n#else\ninfo.diffuse=computeDiffuseLighting(preInfo,light{X}.vLightDiffuse.rgb);\n#endif\n\n#ifdef SPECULARTERM\n#ifdef ANISOTROPIC\ninfo.specular=computeAnisotropicSpecularLighting(preInfo,viewDirectionW,normalW,anisotropicOut.anisotropicTangent,anisotropicOut.anisotropicBitangent,anisotropicOut.anisotropy,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#else\ninfo.specular=computeSpecularLighting(preInfo,normalW,clearcoatOut.specularEnvironmentR0,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#endif\n#endif\n\n#ifdef SHEEN\n#ifdef SHEEN_LINKWITHALBEDO\n\npreInfo.roughness=sheenOut.sheenIntensity;\n#else\n#ifdef HEMILIGHT{X}\npreInfo.roughness=sheenOut.sheenRoughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(sheenOut.sheenRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\n#endif\ninfo.sheen=computeSheenLighting(preInfo,normalW,sheenOut.sheenColor,specularEnvironmentR90,AARoughnessFactors.x,light{X}.vLightDiffuse.rgb);\n#endif\n\n#ifdef CLEARCOAT\n\n#ifdef HEMILIGHT{X}\npreInfo.roughness=clearcoatOut.clearCoatRoughness;\n#else\npreInfo.roughness=adjustRoughnessFromLightProperties(clearcoatOut.clearCoatRoughness,light{X}.vLightSpecular.a,preInfo.lightDistance);\n#endif\ninfo.clearCoat=computeClearCoatLighting(preInfo,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatAARoughnessFactors.x,clearcoatOut.clearCoatIntensity,light{X}.vLightDiffuse.rgb);\n#ifdef CLEARCOAT_TINT\n\nabsorption=computeClearCoatLightingAbsorption(clearcoatOut.clearCoatNdotVRefract,preInfo.L,clearcoatOut.clearCoatNormalW,clearcoatOut.clearCoatColor,clearcoatOut.clearCoatThickness,clearcoatOut.clearCoatIntensity);\ninfo.diffuse*=absorption;\n#ifdef SPECULARTERM\ninfo.specular*=absorption;\n#endif\n#endif\n\ninfo.diffuse*=info.clearCoat.w;\n#ifdef SPECULARTERM\ninfo.specular*=info.clearCoat.w;\n#endif\n#ifdef SHEEN\ninfo.sheen*=info.clearCoat.w;\n#endif\n#endif\n#else\n#ifdef SPOTLIGHT{X}\ninfo=computeSpotLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDirection,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\n#elif defined(HEMILIGHT{X})\ninfo=computeHemisphericLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightGround,glossiness);\n#elif defined(POINTLIGHT{X}) || defined(DIRLIGHT{X})\ninfo=computeLighting(viewDirectionW,normalW,light{X}.vLightData,light{X}.vLightDiffuse.rgb,light{X}.vLightSpecular.rgb,light{X}.vLightDiffuse.a,glossiness);\n#endif\n#endif\n#ifdef PROJECTEDLIGHTTEXTURE{X}\ninfo.diffuse*=computeProjectionTextureDiffuseLighting(projectionLightSampler{X},textureProjectionMatrix{X});\n#endif\n#endif\n#ifdef SHADOW{X}\n#ifdef SHADOWCSM{X}\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++)\n{\n#ifdef SHADOWCSM_RIGHTHANDED{X}\ndiff{X}=viewFrustumZ{X}[i]+vPositionFromCamera{X}.z;\n#else\ndiff{X}=viewFrustumZ{X}[i]-vPositionFromCamera{X}.z;\n#endif\nif (diff{X}>=0.) {\nindex{X}=i;\nbreak;\n}\n}\n#ifdef SHADOWCSMUSESHADOWMAXZ{X}\nif (index{X}>=0)\n#endif\n{\n#if defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#else\nshadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#endif\n#else\nshadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#ifdef SHADOWCSMDEBUG{X}\nshadowDebug{X}=vec3(shadow)*vCascadeColorsMultiplier{X}[index{X}];\n#endif\n#ifndef SHADOWCSMNOBLEND{X}\nfloat frustumLength=frustumLengths{X}[index{X}];\nfloat diffRatio=clamp(diff{X}/frustumLength,0.,1.)*cascadeBlendFactor{X};\nif (index{X}<(SHADOWCSMNUM_CASCADES{X}-1) && diffRatio<1.)\n{\nindex{X}+=1;\nfloat nextShadow=0.;\n#if defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nnextShadow=computeShadowWithCSMPCF1(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nnextShadow=computeShadowWithCSMPCF3(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nnextShadow=computeShadowWithCSMPCF5(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nnextShadow=computeShadowWithCSMPCSS16(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#elif defined(SHADOWMEDIUMQUALITY{X})\nnextShadow=computeShadowWithCSMPCSS32(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#else\nnextShadow=computeShadowWithCSMPCSS64(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w,lightSizeUVCorrection{X}[index{X}],depthCorrection{X}[index{X}],penumbraDarkness{X});\n#endif\n#else\nnextShadow=computeShadowCSM(float(index{X}),vPositionFromLight{X}[index{X}],vDepthMetric{X}[index{X}],shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\nshadow=mix(nextShadow,shadow,diffRatio);\n#ifdef SHADOWCSMDEBUG{X}\nshadowDebug{X}=mix(vec3(nextShadow)*vCascadeColorsMultiplier{X}[index{X}],shadowDebug{X},diffRatio);\n#endif\n}\n#endif\n}\n#elif defined(SHADOWCLOSEESM{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithCloseESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\n#else\nshadow=computeShadowWithCloseESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWESM{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithESMCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.depthValues);\n#else\nshadow=computeShadowWithESM(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.z,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPOISSON{X})\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowWithPoissonSamplingCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.depthValues);\n#else\nshadow=computeShadowWithPoissonSampling(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCF{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithPCF1(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithPCF3(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithPCF5(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.yz,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#elif defined(SHADOWPCSS{X})\n#if defined(SHADOWLOWQUALITY{X})\nshadow=computeShadowWithPCSS16(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#elif defined(SHADOWMEDIUMQUALITY{X})\nshadow=computeShadowWithPCSS32(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#else\nshadow=computeShadowWithPCSS64(vPositionFromLight{X},vDepthMetric{X},depthSampler{X},shadowSampler{X},light{X}.shadowsInfo.y,light{X}.shadowsInfo.z,light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#else\n#if defined(SHADOWCUBE{X})\nshadow=computeShadowCube(light{X}.vLightData.xyz,shadowSampler{X},light{X}.shadowsInfo.x,light{X}.depthValues);\n#else\nshadow=computeShadow(vPositionFromLight{X},vDepthMetric{X},shadowSampler{X},light{X}.shadowsInfo.x,light{X}.shadowsInfo.w);\n#endif\n#endif\n#ifdef SHADOWONLY\n#ifndef SHADOWINUSE\n#define SHADOWINUSE\n#endif\nglobalShadow+=shadow;\nshadowLightCount+=1.0;\n#endif\n#else\nshadow=1.;\n#endif\n#ifndef SHADOWONLY\n#ifdef CUSTOMUSERLIGHTING\ndiffuseBase+=computeCustomDiffuseLighting(info,diffuseBase,shadow);\n#ifdef SPECULARTERM\nspecularBase+=computeCustomSpecularLighting(info,specularBase,shadow);\n#endif\n#elif defined(LIGHTMAP) && defined(LIGHTMAPEXCLUDED{X})\ndiffuseBase+=lightmapColor.rgb*shadow;\n#ifdef SPECULARTERM\n#ifndef LIGHTMAPNOSPECULAR{X}\nspecularBase+=info.specular*shadow*lightmapColor.rgb;\n#endif\n#endif\n#ifdef CLEARCOAT\n#ifndef LIGHTMAPNOSPECULAR{X}\nclearCoatBase+=info.clearCoat.rgb*shadow*lightmapColor.rgb;\n#endif\n#endif\n#ifdef SHEEN\n#ifndef LIGHTMAPNOSPECULAR{X}\nsheenBase+=info.sheen.rgb*shadow;\n#endif\n#endif\n#else\n#ifdef SHADOWCSMDEBUG{X}\ndiffuseBase+=info.diffuse*shadowDebug{X};\n#else\ndiffuseBase+=info.diffuse*shadow;\n#endif\n#ifdef SPECULARTERM\nspecularBase+=info.specular*shadow;\n#endif\n#ifdef CLEARCOAT\nclearCoatBase+=info.clearCoat.rgb*shadow;\n#endif\n#ifdef SHEEN\nsheenBase+=info.sheen.rgb*shadow;\n#endif\n#endif\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},966:function(e,t,i){"use strict";var n="logDepthFragment",r="#ifdef LOGARITHMICDEPTH\ngl_FragDepthEXT=log2(vFragmentDepth)*logarithmicDepthConstant*0.5;\n#endif";i(642).a.IncludesShadersStore[n]=r},967:function(e,t,i){"use strict";var n="fogFragment",r="#ifdef FOG\nfloat fog=CalcFogFactor();\ncolor.rgb=fog*color.rgb+(1.0-fog)*vFogColor;\n#endif";i(642).a.IncludesShadersStore[n]=r},968:function(e,t,i){"use strict";var n="prePassVertexDeclaration",r="#ifdef PREPASS\n#ifdef PREPASS_DEPTHNORMAL\nvarying vec3 vViewPos;\n#endif\n#ifdef PREPASS_VELOCITY\nuniform mat4 previousWorld;\nuniform mat4 previousViewProjection;\nvarying vec4 vCurrentPosition;\nvarying vec4 vPreviousPosition;\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},969:function(e,t,i){"use strict";var n="bumpVertexDeclaration",r="#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nvarying mat3 vTBN;\n#endif\n#endif\n";i(642).a.IncludesShadersStore[n]=r},970:function(e,t,i){"use strict";var n="fogVertexDeclaration",r="#ifdef FOG\nvarying vec3 vFogDistance;\n#endif";i(642).a.IncludesShadersStore[n]=r},971:function(e,t,i){"use strict";var n="prePassVertex",r="#ifdef PREPASS_DEPTHNORMAL\nvViewPos=(view*worldPos).rgb;\n#endif\n#if defined(PREPASS_VELOCITY) && defined(BONES_VELOCITY_ENABLED)\nvCurrentPosition=viewProjection*worldPos;\n#if NUM_BONE_INFLUENCERS>0\nmat4 previousInfluence;\npreviousInfluence=mPreviousBones[int(matricesIndices[0])]*matricesWeights[0];\n#if NUM_BONE_INFLUENCERS>1\npreviousInfluence+=mPreviousBones[int(matricesIndices[1])]*matricesWeights[1];\n#endif\n#if NUM_BONE_INFLUENCERS>2\npreviousInfluence+=mPreviousBones[int(matricesIndices[2])]*matricesWeights[2];\n#endif\n#if NUM_BONE_INFLUENCERS>3\npreviousInfluence+=mPreviousBones[int(matricesIndices[3])]*matricesWeights[3];\n#endif\n#if NUM_BONE_INFLUENCERS>4\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[0])]*matricesWeightsExtra[0];\n#endif\n#if NUM_BONE_INFLUENCERS>5\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[1])]*matricesWeightsExtra[1];\n#endif\n#if NUM_BONE_INFLUENCERS>6\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[2])]*matricesWeightsExtra[2];\n#endif\n#if NUM_BONE_INFLUENCERS>7\npreviousInfluence+=mPreviousBones[int(matricesIndicesExtra[3])]*matricesWeightsExtra[3];\n#endif\nvPreviousPosition=previousViewProjection*previousWorld*previousInfluence*vec4(positionUpdated,1.0);\n#else\nvPreviousPosition=previousViewProjection*previousWorld*vec4(positionUpdated,1.0);\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},972:function(e,t,i){"use strict";var n="bumpVertex",r="#if defined(BUMP) || defined(PARALLAX) || defined(CLEARCOAT_BUMP) || defined(ANISOTROPIC)\n#if defined(TANGENT) && defined(NORMAL)\nvec3 tbnNormal=normalize(normalUpdated);\nvec3 tbnTangent=normalize(tangentUpdated.xyz);\nvec3 tbnBitangent=cross(tbnNormal,tbnTangent)*tangentUpdated.w;\nvTBN=mat3(finalWorld)*mat3(tbnTangent,tbnBitangent,tbnNormal);\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},973:function(e,t,i){"use strict";var n="fogVertex",r="#ifdef FOG\nvFogDistance=(view*worldPos).xyz;\n#endif";i(642).a.IncludesShadersStore[n]=r},974:function(e,t,i){"use strict";var n="shadowsVertex",r="#ifdef SHADOWS\n#if defined(SHADOWCSM{X})\nvPositionFromCamera{X}=view*worldPos;\nfor (int i=0; i<SHADOWCSMNUM_CASCADES{X}; i++) {\nvPositionFromLight{X}[i]=lightMatrix{X}[i]*worldPos;\nvDepthMetric{X}[i]=((vPositionFromLight{X}[i].z+light{X}.depthValues.x)/(light{X}.depthValues.y));\n}\n#elif defined(SHADOW{X}) && !defined(SHADOWCUBE{X})\nvPositionFromLight{X}=lightMatrix{X}*worldPos;\nvDepthMetric{X}=((vPositionFromLight{X}.z+light{X}.depthValues.x)/(light{X}.depthValues.y));\n#endif\n#endif";i(642).a.IncludesShadersStore[n]=r},975:function(e,t,i){"use strict";var n="logDepthVertex",r="#ifdef LOGARITHMICDEPTH\nvFragmentDepth=1.0+gl_Position.w;\ngl_Position.z=log2(max(0.000001,vFragmentDepth))*logarithmicDepthConstant;\n#endif";i(642).a.IncludesShadersStore[n]=r},976:function(e,t,i){"use strict";i.d(t,"a",function(){return c});var n=i(644),r=i(677),o=i(648),s=i(720),a=i(686),c=function(){function e(e){this._texture=null,this.diffuseBlendLevel=1,this.roughnessBlendLevel=1,this.bumpLevel=1,this._normalBlendMethod=r.a.MATERIAL_NORMALBLENDMETHOD_WHITEOUT,this._isEnabled=!1,this.isEnabled=!1,this._internalMarkAllSubMeshesAsTexturesDirty=e}return e.prototype._markAllSubMeshesAsTexturesDirty=function(){this._internalMarkAllSubMeshesAsTexturesDirty()},e.prototype.isReadyForSubMesh=function(e,t){var i=t.getEngine();return!(e._areTexturesDirty&&t.texturesEnabled&&i.getCaps().standardDerivatives&&this._texture&&s.a.DetailTextureEnabled&&!this._texture.isReady())},e.prototype.prepareDefines=function(e,t){if(this._isEnabled){e.DETAIL_NORMALBLENDMETHOD=this._normalBlendMethod;var i=t.getEngine();e._areTexturesDirty&&(i.getCaps().standardDerivatives&&this._texture&&s.a.DetailTextureEnabled&&this._isEnabled?(a.a.PrepareDefinesForMergedUV(this._texture,e,"DETAIL"),e.DETAIL_NORMALBLENDMETHOD=this._normalBlendMethod):e.DETAIL=!1)}else e.DETAIL=!1},e.prototype.bindForSubMesh=function(e,t,i){this._isEnabled&&(e.useUbo&&i&&e.isSync||this._texture&&s.a.DetailTextureEnabled&&(e.updateFloat4("vDetailInfos",this._texture.coordinatesIndex,this.diffuseBlendLevel,this.bumpLevel,this.roughnessBlendLevel),a.a.BindTextureMatrix(this._texture,e,"detail")),t.texturesEnabled&&this._texture&&s.a.DetailTextureEnabled&&e.setTexture("detailSampler",this._texture))},e.prototype.hasTexture=function(e){return this._texture===e},e.prototype.getActiveTextures=function(e){this._texture&&e.push(this._texture)},e.prototype.getAnimatables=function(e){this._texture&&this._texture.animations&&this._texture.animations.length>0&&e.push(this._texture)},e.prototype.dispose=function(e){var t;e&&(null===(t=this._texture)||void 0===t||t.dispose())},e.prototype.getClassName=function(){return"DetailMap"},e.AddUniforms=function(e){e.push("vDetailInfos")},e.AddSamplers=function(e){e.push("detailSampler")},e.PrepareUniformBuffer=function(e){e.addUniform("vDetailInfos",4),e.addUniform("detailMatrix",16)},e.prototype.copyTo=function(e){o.a.Clone(function(){return e},this)},e.prototype.serialize=function(){return o.a.Serialize(this)},e.prototype.parse=function(e,t,i){var n=this;o.a.Parse(function(){return n},e,t,i)},Object(n.b)([Object(o.l)("detailTexture"),Object(o.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"texture",void 0),Object(n.b)([Object(o.c)()],e.prototype,"diffuseBlendLevel",void 0),Object(n.b)([Object(o.c)()],e.prototype,"roughnessBlendLevel",void 0),Object(n.b)([Object(o.c)()],e.prototype,"bumpLevel",void 0),Object(n.b)([Object(o.c)(),Object(o.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"normalBlendMethod",void 0),Object(n.b)([Object(o.c)(),Object(o.b)("_markAllSubMeshesAsTexturesDirty")],e.prototype,"isEnabled",void 0),e}()},977:function(e,t,i){"use strict";var n=i(642),r=(i(719),"rgbdDecodePixelShader"),o="\nvarying vec2 vUV;\nuniform sampler2D textureSampler;\n#include<helperFunctions>\nvoid main(void)\n{\ngl_FragColor=vec4(fromRGBD(texture2D(textureSampler,vUV)),1.0);\n}";n.a.ShadersStore[r]=o},978:function(e,t,i){"use strict";var n=i(952),r=i(762);Object.defineProperty(r.a.prototype,"sphericalPolynomial",{get:function(){if(this._texture){if(this._texture._sphericalPolynomial)return this._texture._sphericalPolynomial;if(this._texture.isReady)return this._texture._sphericalPolynomial=n.a.ConvertCubeMapTextureToSphericalPolynomial(this),this._texture._sphericalPolynomial}return null},set:function(e){this._texture&&(this._texture._sphericalPolynomial=e)},enumerable:!0,configurable:!0})},979:function(e,t,i){"use strict";i.d(t,"a",function(){return m});var n=i(702),r=function(){function e(){this.children=[]}return e.prototype.isValid=function(e){return!0},e.prototype.process=function(e,t){var i="";if(this.line){var r=this.line,o=t.processor;if(o){if(o.lineProcessor&&(r=o.lineProcessor(r,t.isFragment)),o.attributeProcessor&&n.a.StartsWith(this.line,"attribute"))r=o.attributeProcessor(this.line);else if(o.varyingProcessor&&n.a.StartsWith(this.line,"varying"))r=o.varyingProcessor(this.line,t.isFragment);else if((o.uniformProcessor||o.uniformBufferProcessor)&&n.a.StartsWith(this.line,"uniform")){/uniform (.+) (.+)/.test(this.line)?o.uniformProcessor&&(r=o.uniformProcessor(this.line,t.isFragment)):o.uniformBufferProcessor&&(r=o.uniformBufferProcessor(this.line,t.isFragment),t.lookForClosingBracketForUniformBuffer=!0)}o.endOfUniformBufferProcessor&&t.lookForClosingBracketForUniformBuffer&&-1!==this.line.indexOf("}")&&(t.lookForClosingBracketForUniformBuffer=!1,r=o.endOfUniformBufferProcessor(this.line,t.isFragment))}i+=r+"\r\n"}return this.children.forEach(function(n){i+=n.process(e,t)}),this.additionalDefineKey&&(e[this.additionalDefineKey]=this.additionalDefineValue||"true"),i},e}(),o=function(){function e(){}return Object.defineProperty(e.prototype,"currentLine",{get:function(){return this._lines[this.lineIndex]},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"canRead",{get:function(){return this.lineIndex<this._lines.length-1},enumerable:!1,configurable:!0}),Object.defineProperty(e.prototype,"lines",{set:function(e){this._lines=[];for(var t=0,i=e;t<i.length;t++){var n=i[t];if("#"!==n[0])for(var r=n.split(";"),o=0;o<r.length;o++){var s=r[o];(s=s.trim())&&this._lines.push(s+(o!==r.length-1?";":""))}else this._lines.push(n)}},enumerable:!1,configurable:!0}),e}(),s=i(644),a=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.c)(t,e),t.prototype.process=function(e,t){for(var i=0;i<this.children.length;i++){var n=this.children[i];if(n.isValid(e))return n.process(e,t)}return""},t}(r),c=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.c)(t,e),t.prototype.isValid=function(e){return this.testExpression.isTrue(e)},t}(r),l=function(){function e(){}return e.prototype.isTrue=function(e){return!0},e.postfixToInfix=function(t){for(var i=[],n=0,r=t;n<r.length;n++){var o=r[n];if(void 0===e._OperatorPriority[o])i.push(o);else{var s=i[i.length-1],a=i[i.length-2];i.length-=2,i.push("("+a+o+s+")")}}return i[i.length-1]},e.infixToPostfix=function(t){for(var i=[],n=-1,r=function(){""!==(l=l.trim())&&(i.push(l),l="")},o=function(t){n<e._Stack.length-1&&(e._Stack[++n]=t)},s=function(){return e._Stack[n]},a=function(){return-1===n?"!!INVALID EXPRESSION!!":e._Stack[n--]},c=0,l="";c<t.length;){var _=t.charAt(c),u=c<t.length-1?t.substr(c,2):"";if("("===_)l="",o(_);else if(")"===_){for(r();-1!==n&&"("!==s();)i.push(a());a()}else if(e._OperatorPriority[u]>1){for(r();-1!==n&&e._OperatorPriority[s()]>=e._OperatorPriority[u];)i.push(a());o(u),c++}else l+=_;c++}for(r();-1!==n;)"("===s()?a():i.push(a());return i},e._OperatorPriority={")":0,"(":1,"||":2,"&&":3},e._Stack=["","","","","","","","","","","","","","","","","","","",""],e}(),_=function(e){function t(t,i){void 0===i&&(i=!1);var n=e.call(this)||this;return n.define=t,n.not=i,n}return Object(s.c)(t,e),t.prototype.isTrue=function(e){var t=void 0!==e[this.define];return this.not&&(t=!t),t},t}(l),u=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.c)(t,e),t.prototype.isTrue=function(e){return this.leftOperand.isTrue(e)||this.rightOperand.isTrue(e)},t}(l),f=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return Object(s.c)(t,e),t.prototype.isTrue=function(e){return this.leftOperand.isTrue(e)&&this.rightOperand.isTrue(e)},t}(l),d=function(e){function t(t,i,n){var r=e.call(this)||this;return r.define=t,r.operand=i,r.testValue=n,r}return Object(s.c)(t,e),t.prototype.isTrue=function(e){var t=e[this.define];void 0===t&&(t=this.define);var i=!1,n=parseInt(t),r=parseInt(this.testValue);switch(this.operand){case">":i=n>r;break;case"<":i=n<r;break;case"<=":i=n<=r;break;case">=":i=n>=r;break;case"==":i=n===r}return i},t}(l),h=i(667),p=/defined\s*?\((.+?)\)/g,b=/defined\s*?\[(.+?)\]/g,m=function(){function e(){}return e.Process=function(e,t,i,n){var r=this;this._ProcessIncludes(e,t,function(e){var o=r._ProcessShaderConversion(e,t,n);i(o)})},e._ProcessPrecision=function(e,t){var i=t.shouldUseHighPrecisionShader;return-1===e.indexOf("precision highp float")?e=i?"precision highp float;\n"+e:"precision mediump float;\n"+e:i||(e=e.replace("precision highp float","precision mediump float")),e},e._ExtractOperation=function(e){var t=/defined\((.+)\)/.exec(e);if(t&&t.length)return new _(t[1].trim(),"!"===e[0]);for(var i="",n=0,r=0,o=["==",">=","<=","<",">"];r<o.length&&(i=o[r],!((n=e.indexOf(i))>-1));r++);if(-1===n)return new _(e);var s=e.substring(0,n).trim(),a=e.substring(n+i.length).trim();return new d(s,i,a)},e._BuildSubExpression=function(e){e=e.replace(p,"defined[$1]");for(var t=[],i=0,n=l.infixToPostfix(e);i<n.length;i++){var r=n[i];if("||"!==r&&"&&"!==r)t.push(r);else if(t.length>=2){var o=t[t.length-1],s=t[t.length-2];t.length-=2;var a="&&"==r?new f:new u;"string"===typeof o&&(o=o.replace(b,"defined($1)")),"string"===typeof s&&(s=s.replace(b,"defined($1)")),a.leftOperand="string"===typeof s?this._ExtractOperation(s):s,a.rightOperand="string"===typeof o?this._ExtractOperation(o):o,t.push(a)}}var c=t[t.length-1];return"string"===typeof c&&(c=c.replace(b,"defined($1)")),"string"===typeof c?this._ExtractOperation(c):c},e._BuildExpression=function(e,t){var i=new c,n=e.substring(0,t),r=e.substring(t);return r=r.substring(0,(r.indexOf("//")+1||r.length+1)-1).trim(),i.testExpression="#ifdef"===n?new _(r):"#ifndef"===n?new _(r,!0):this._BuildSubExpression(r),i},e._MoveCursorWithinIf=function(e,t,i){for(var n=e.currentLine;this._MoveCursor(e,i);){var o=(n=e.currentLine).substring(0,5).toLowerCase();if("#else"===o){var s=new r;return t.children.push(s),void this._MoveCursor(e,s)}if("#elif"===o){var a=this._BuildExpression(n,5);t.children.push(a),i=a}}},e._MoveCursor=function(e,t){for(;e.canRead;){e.lineIndex++;var i=e.currentLine,n=/(#ifdef)|(#else)|(#elif)|(#endif)|(#ifndef)|(#if)/.exec(i);if(n&&n.length){switch(n[0]){case"#ifdef":var o=new a;t.children.push(o);var s=this._BuildExpression(i,6);o.children.push(s),this._MoveCursorWithinIf(e,o,s);break;case"#else":case"#elif":return!0;case"#endif":return!1;case"#ifndef":o=new a;t.children.push(o);s=this._BuildExpression(i,7);o.children.push(s),this._MoveCursorWithinIf(e,o,s);break;case"#if":o=new a,s=this._BuildExpression(i,3);t.children.push(o),o.children.push(s),this._MoveCursorWithinIf(e,o,s)}}else{var c=new r;if(c.line=i,t.children.push(c),"#"===i[0]&&"d"===i[1]){var l=i.replace(";","").split(" ");c.additionalDefineKey=l[1],3===l.length&&(c.additionalDefineValue=l[2])}}}return!1},e._EvaluatePreProcessors=function(e,t,i){var n=new r,s=new o;return s.lineIndex=-1,s.lines=e.split("\n"),this._MoveCursor(s,n),n.process(t,i)},e._PreparePreProcessors=function(e){for(var t={},i=0,n=e.defines;i<n.length;i++){var r=n[i].replace("#define","").replace(";","").trim().split(" ");t[r[0]]=r.length>1?r[1]:""}return t.GL_ES="true",t.__VERSION__=e.version,t[e.platformName]="true",t},e._ProcessShaderConversion=function(e,t,i){var n=this._ProcessPrecision(e,t);if(!t.processor)return n;if(-1!==n.indexOf("#version 3"))return n.replace("#version 300 es","");var r=t.defines,o=this._PreparePreProcessors(t);return t.processor.preProcessor&&(n=t.processor.preProcessor(n,r,t.isFragment)),n=this._EvaluatePreProcessors(n,o,t),t.processor.postProcessor&&(n=t.processor.postProcessor(n,r,t.isFragment,i)),n},e._ProcessIncludes=function(t,i,n){for(var r=this,o=/#include<(.+)>(\((.*)\))*(\[(.*)\])*/g,s=o.exec(t),a=new String(t),c=!1;null!=s;){var l=s[1];if(-1!==l.indexOf("__decl__")&&(l=l.replace(/__decl__/,""),i.supportsUniformBuffers&&(l=(l=l.replace(/Vertex/,"Ubo")).replace(/Fragment/,"Ubo")),l+="Declaration"),!i.includesShadersStore[l]){var _=i.shadersRepository+"ShadersInclude/"+l+".fx";return void e._FileToolsLoadFile(_,function(e){i.includesShadersStore[l]=e,r._ProcessIncludes(a,i,n)})}var u=i.includesShadersStore[l];if(s[2])for(var f=s[3].split(","),d=0;d<f.length;d+=2){var h=new RegExp(f[d],"g"),p=f[d+1];u=u.replace(h,p)}if(s[4]){var b=s[5];if(-1!==b.indexOf("..")){var m=b.split(".."),A=parseInt(m[0]),g=parseInt(m[1]),y=u.slice(0);u="",isNaN(g)&&(g=i.indexParameters[m[1]]);for(var v=A;v<g;v++)i.supportsUniformBuffers||(y=y.replace(/light\{X\}.(\w*)/g,function(e,t){return t+"{X}"})),u+=y.replace(/\{X\}/g,v.toString())+"\n"}else i.supportsUniformBuffers||(u=u.replace(/light\{X\}.(\w*)/g,function(e,t){return t+"{X}"})),u=u.replace(/\{X\}/g,b)}a=a.replace(s[0],u),c=c||u.indexOf("#include<")>=0,s=o.exec(t)}c?this._ProcessIncludes(a.toString(),i,n):n(a)},e._FileToolsLoadFile=function(e,t,i,n,r,o){throw h.a.WarnImport("FileTools")},e}()},980:function(e,t,i){"use strict";var n=i(642),r=(i(875),"bayerDitherFunctions"),o="\n\n\n\n\nfloat bayerDither2(vec2 _P) {\nreturn mod(2.0*_P.y+_P.x+1.0,4.0);\n}\n\n\nfloat bayerDither4(vec2 _P) {\nvec2 P1=mod(_P,2.0);\nvec2 P2=floor(0.5*mod(_P,4.0));\nreturn 4.0*bayerDither2(P1)+bayerDither2(P2);\n}\n\nfloat bayerDither8(vec2 _P) {\nvec2 P1=mod(_P,2.0);\nvec2 P2=floor(0.5*mod(_P,4.0));\nvec2 P4=floor(0.25*mod(_P,8.0));\nreturn 4.0*(4.0*bayerDither2(P1)+bayerDither2(P2))+bayerDither2(P4);\n}\n";n.a.IncludesShadersStore[r]=o;var s="shadowMapFragmentDeclaration",a="#if SM_FLOAT == 0\n#include<packingFunctions>\n#endif\n#if SM_SOFTTRANSPARENTSHADOW == 1\n#include<bayerDitherFunctions>\nuniform float softTransparentShadowSM;\n#endif\nvarying float vDepthMetricSM;\n#if SM_USEDISTANCE == 1\nuniform vec3 lightDataSM;\nvarying vec3 vPositionWSM;\n#endif\nuniform vec3 biasAndScaleSM;\nuniform vec2 depthValuesSM;\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP == 1\nvarying float zSM;\n#endif\n";n.a.IncludesShadersStore[s]=a;i(808),i(809);var c="shadowMapFragment",l=" float depthSM=vDepthMetricSM;\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP == 1\n#if SM_USEDISTANCE == 1\ndepthSM=clamp(((length(vPositionWSM-lightDataSM)+depthValuesSM.x)/(depthValuesSM.y))+biasAndScaleSM.x,0.0,1.0);\n#else\ndepthSM=clamp(((zSM+depthValuesSM.x)/(depthValuesSM.y))+biasAndScaleSM.x,0.0,1.0);\n#endif\ngl_FragDepth=depthSM;\n#elif SM_USEDISTANCE == 1\ndepthSM=(length(vPositionWSM-lightDataSM)+depthValuesSM.x)/(depthValuesSM.y)+biasAndScaleSM.x;\n#endif\n#if SM_ESM == 1\ndepthSM=clamp(exp(-min(87.,biasAndScaleSM.z*depthSM)),0.,1.);\n#endif\n#if SM_FLOAT == 1\ngl_FragColor=vec4(depthSM,1.0,1.0,1.0);\n#else\ngl_FragColor=pack(depthSM);\n#endif\nreturn;";n.a.IncludesShadersStore[c]=l;var _="shadowMapPixelShader",u="#include<shadowMapFragmentDeclaration>\n#ifdef ALPHATEST\nvarying vec2 vUV;\nuniform sampler2D diffuseSampler;\n#endif\n#include<clipPlaneFragmentDeclaration>\nvoid main(void)\n{\n#include<clipPlaneFragment>\n#ifdef ALPHATEST\nfloat alphaFromAlphaTexture=texture2D(diffuseSampler,vUV).a;\nif (alphaFromAlphaTexture<0.4)\ndiscard;\n#endif\n#if SM_SOFTTRANSPARENTSHADOW == 1\n#ifdef ALPHATEST\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM*alphaFromAlphaTexture) discard;\n#else\nif ((bayerDither8(floor(mod(gl_FragCoord.xy,8.0))))/64.0>=softTransparentShadowSM) discard;\n#endif\n#endif\n#include<shadowMapFragment>\n}";n.a.ShadersStore[_]=u},981:function(e,t,i){"use strict";var n=i(642),r=(i(756),i(810),i(811),i(757),i(719),"shadowMapVertexDeclaration"),o="#if SM_NORMALBIAS == 1\nuniform vec3 lightDataSM;\n#endif\nuniform vec3 biasAndScaleSM;\nuniform vec2 depthValuesSM;\nvarying float vDepthMetricSM;\n#if SM_USEDISTANCE == 1\nvarying vec3 vPositionWSM;\n#endif\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP == 1\nvarying float zSM;\n#endif\n";n.a.IncludesShadersStore[r]=o;i(812),i(813),i(758),i(759);var s="shadowMapVertexNormalBias",a="\n#if SM_NORMALBIAS == 1\n#if SM_DIRECTIONINLIGHTDATA == 1\nvec3 worldLightDirSM=normalize(-lightDataSM.xyz);\n#else\nvec3 directionToLightSM=lightDataSM.xyz-worldPos.xyz;\nvec3 worldLightDirSM=normalize(directionToLightSM);\n#endif\nfloat ndlSM=dot(vNormalW,worldLightDirSM);\nfloat sinNLSM=sqrt(1.0-ndlSM*ndlSM);\nfloat normalBiasSM=biasAndScaleSM.y*sinNLSM;\nworldPos.xyz-=vNormalW*normalBiasSM;\n#endif\n";n.a.IncludesShadersStore[s]=a;var c="shadowMapVertexMetric",l="#if SM_USEDISTANCE == 1\nvPositionWSM=worldPos.xyz;\n#endif\n#if SM_DEPTHTEXTURE == 1\n\ngl_Position.z+=biasAndScaleSM.x*gl_Position.w;\n#endif\n#if defined(SM_DEPTHCLAMP) && SM_DEPTHCLAMP == 1\nzSM=gl_Position.z;\ngl_Position.z=0.0;\n#elif SM_USEDISTANCE == 0\n\nvDepthMetricSM=((gl_Position.z+depthValuesSM.x)/(depthValuesSM.y))+biasAndScaleSM.x;\n#endif\n";n.a.IncludesShadersStore[c]=l;i(814);var _="shadowMapVertexShader",u="\nattribute vec3 position;\n#ifdef NORMAL\nattribute vec3 normal;\n#endif\n#include<bonesDeclaration>\n#include<morphTargetsVertexGlobalDeclaration>\n#include<morphTargetsVertexDeclaration>[0..maxSimultaneousMorphTargets]\n\n#include<instancesDeclaration>\n#include<helperFunctions>\nuniform mat4 viewProjection;\n#ifdef ALPHATEST\nvarying vec2 vUV;\nuniform mat4 diffuseMatrix;\n#ifdef UV1\nattribute vec2 uv;\n#endif\n#ifdef UV2\nattribute vec2 uv2;\n#endif\n#endif\n#include<shadowMapVertexDeclaration>\n#include<clipPlaneVertexDeclaration>\nvoid main(void)\n{\nvec3 positionUpdated=position;\n#ifdef UV1\nvec2 uvUpdated=uv;\n#endif\n#ifdef NORMAL\nvec3 normalUpdated=normal;\n#endif\n#include<morphTargetsVertex>[0..maxSimultaneousMorphTargets]\n#include<instancesVertex>\n#include<bonesVertex>\nvec4 worldPos=finalWorld*vec4(positionUpdated,1.0);\n#ifdef NORMAL\nmat3 normWorldSM=mat3(finalWorld);\n#if defined(INSTANCES) && defined(THIN_INSTANCES)\nvec3 vNormalW=normalUpdated/vec3(dot(normWorldSM[0],normWorldSM[0]),dot(normWorldSM[1],normWorldSM[1]),dot(normWorldSM[2],normWorldSM[2]));\nvNormalW=normalize(normWorldSM*vNormalW);\n#else\n#ifdef NONUNIFORMSCALING\nnormWorldSM=transposeMat3(inverseMat3(normWorldSM));\n#endif\nvec3 vNormalW=normalize(normWorldSM*normalUpdated);\n#endif\n#endif\n#include<shadowMapVertexNormalBias>\n\ngl_Position=viewProjection*worldPos;\n#include<shadowMapVertexMetric>\n#ifdef ALPHATEST\n#ifdef UV1\nvUV=vec2(diffuseMatrix*vec4(uvUpdated,1.0,0.0));\n#endif\n#ifdef UV2\nvUV=vec2(diffuseMatrix*vec4(uv2,1.0,0.0));\n#endif\n#endif\n#include<clipPlaneVertex>\n}";n.a.ShadersStore[_]=u}}]);
//# sourceMappingURL=4.844b27e1.chunk.js.map